var g4t=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kbr=g4t((Bbr,hMe)=>{function p4t(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DW(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function A_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(t,i);return new a}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var FU={},v4t={get exports(){return FU},set exports(e){FU=e}},Uae={},z={},m4t={get exports(){return z},set exports(e){z=e}},Go={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IW=Symbol.for("react.element"),y4t=Symbol.for("react.portal"),b4t=Symbol.for("react.fragment"),w4t=Symbol.for("react.strict_mode"),_4t=Symbol.for("react.profiler"),x4t=Symbol.for("react.provider"),S4t=Symbol.for("react.context"),E4t=Symbol.for("react.forward_ref"),C4t=Symbol.for("react.suspense"),$4t=Symbol.for("react.memo"),k4t=Symbol.for("react.lazy"),$ze=Symbol.iterator;function O4t(e){return e===null||typeof e!="object"?null:(e=$ze&&e[$ze]||e["@@iterator"],typeof e=="function"?e:null)}var Qet={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jet=Object.assign,ett={};function y8(e,t,n){this.props=e,this.context=t,this.refs=ett,this.updater=n||Qet}y8.prototype.isReactComponent={};y8.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};y8.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ttt(){}ttt.prototype=y8.prototype;function gCe(e,t,n){this.props=e,this.context=t,this.refs=ett,this.updater=n||Qet}var pCe=gCe.prototype=new ttt;pCe.constructor=gCe;Jet(pCe,y8.prototype);pCe.isPureReactComponent=!0;var kze=Array.isArray,ntt=Object.prototype.hasOwnProperty,vCe={current:null},rtt={key:!0,ref:!0,__self:!0,__source:!0};function itt(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)ntt.call(t,r)&&!rtt.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var f=Array(u),d=0;d<u;d++)f[d]=arguments[d+2];i.children=f}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:IW,type:e,key:a,ref:s,props:i,_owner:vCe.current}}function A4t(e,t){return{$$typeof:IW,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mCe(e){return typeof e=="object"&&e!==null&&e.$$typeof===IW}function R4t(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Oze=/\/+/g;function vve(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R4t(""+e.key):t.toString(36)}function Zee(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case IW:case y4t:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+vve(s,0):r,kze(i)?(n="",e!=null&&(n=e.replace(Oze,"$&/")+"/"),Zee(i,t,n,"",function(d){return d})):i!=null&&(mCe(i)&&(i=A4t(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Oze,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",kze(e))for(var u=0;u<e.length;u++){a=e[u];var f=r+vve(a,u);s+=Zee(a,t,n,f,i)}else if(f=O4t(e),typeof f=="function")for(e=f.call(e),u=0;!(a=e.next()).done;)a=a.value,f=r+vve(a,u++),s+=Zee(a,t,n,f,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function NQ(e,t,n){if(e==null)return e;var r=[],i=0;return Zee(e,r,"","",function(a){return t.call(n,a,i++)}),r}function T4t(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yv={current:null},Qee={transition:null},M4t={ReactCurrentDispatcher:yv,ReactCurrentBatchConfig:Qee,ReactCurrentOwner:vCe};Go.Children={map:NQ,forEach:function(e,t,n){NQ(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return NQ(e,function(){t++}),t},toArray:function(e){return NQ(e,function(t){return t})||[]},only:function(e){if(!mCe(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Go.Component=y8;Go.Fragment=b4t;Go.Profiler=_4t;Go.PureComponent=gCe;Go.StrictMode=w4t;Go.Suspense=C4t;Go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M4t;Go.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jet({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=vCe.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(f in t)ntt.call(t,f)&&!rtt.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&u!==void 0?u[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){u=Array(f);for(var d=0;d<f;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:IW,type:e.type,key:i,ref:a,props:r,_owner:s}};Go.createContext=function(e){return e={$$typeof:S4t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:x4t,_context:e},e.Consumer=e};Go.createElement=itt;Go.createFactory=function(e){var t=itt.bind(null,e);return t.type=e,t};Go.createRef=function(){return{current:null}};Go.forwardRef=function(e){return{$$typeof:E4t,render:e}};Go.isValidElement=mCe;Go.lazy=function(e){return{$$typeof:k4t,_payload:{_status:-1,_result:e},_init:T4t}};Go.memo=function(e,t){return{$$typeof:$4t,type:e,compare:t===void 0?null:t}};Go.startTransition=function(e){var t=Qee.transition;Qee.transition={};try{e()}finally{Qee.transition=t}};Go.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Go.useCallback=function(e,t){return yv.current.useCallback(e,t)};Go.useContext=function(e){return yv.current.useContext(e)};Go.useDebugValue=function(){};Go.useDeferredValue=function(e){return yv.current.useDeferredValue(e)};Go.useEffect=function(e,t){return yv.current.useEffect(e,t)};Go.useId=function(){return yv.current.useId()};Go.useImperativeHandle=function(e,t,n){return yv.current.useImperativeHandle(e,t,n)};Go.useInsertionEffect=function(e,t){return yv.current.useInsertionEffect(e,t)};Go.useLayoutEffect=function(e,t){return yv.current.useLayoutEffect(e,t)};Go.useMemo=function(e,t){return yv.current.useMemo(e,t)};Go.useReducer=function(e,t,n){return yv.current.useReducer(e,t,n)};Go.useRef=function(e){return yv.current.useRef(e)};Go.useState=function(e){return yv.current.useState(e)};Go.useSyncExternalStore=function(e,t,n){return yv.current.useSyncExternalStore(e,t,n)};Go.useTransition=function(){return yv.current.useTransition()};Go.version="18.2.0";(function(e){e.exports=Go})(m4t);const Xe=DW(z),Q5=p4t({__proto__:null,default:Xe},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4t=z,L4t=Symbol.for("react.element"),D4t=Symbol.for("react.fragment"),I4t=Object.prototype.hasOwnProperty,F4t=P4t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N4t={key:!0,ref:!0,__self:!0,__source:!0};function att(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)I4t.call(t,r)&&!N4t.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:L4t,type:e,key:a,ref:s,props:i,_owner:F4t.current}}Uae.Fragment=D4t;Uae.jsx=att;Uae.jsxs=att;(function(e){e.exports=Uae})(v4t);const my=FU.Fragment,xt=FU.jsx,bi=FU.jsxs;var uwe={},Xb={},z4t={get exports(){return Xb},set exports(e){Xb=e}},yy={},lwe={},j4t={get exports(){return lwe},set exports(e){lwe=e}},ott={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ee,oe){var ue=ee.length;ee.push(oe);e:for(;0<ue;){var ve=ue-1>>>1,le=ee[ve];if(0<i(le,oe))ee[ve]=oe,ee[ue]=le,ue=ve;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var oe=ee[0],ue=ee.pop();if(ue!==oe){ee[0]=ue;e:for(var ve=0,le=ee.length,de=le>>>1;ve<de;){var me=2*(ve+1)-1,Se=ee[me],Ee=me+1,xe=ee[Ee];if(0>i(Se,ue))Ee<le&&0>i(xe,Se)?(ee[ve]=xe,ee[Ee]=ue,ve=Ee):(ee[ve]=Se,ee[me]=ue,ve=me);else if(Ee<le&&0>i(xe,ue))ee[ve]=xe,ee[Ee]=ue,ve=Ee;else break e}}return oe}function i(ee,oe){var ue=ee.sortIndex-oe.sortIndex;return ue!==0?ue:ee.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var f=[],d=[],c=1,h=null,p=3,v=!1,m=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(ee){for(var oe=n(d);oe!==null;){if(oe.callback===null)r(d);else if(oe.startTime<=ee)r(d),oe.sortIndex=oe.expirationTime,t(f,oe);else break;oe=n(d)}}function $(ee){if(y=!1,C(ee),!m)if(n(f)!==null)m=!0,Z(k);else{var oe=n(d);oe!==null&&Q($,oe.startTime-ee)}}function k(ee,oe){m=!1,y&&(y=!1,_(L),L=-1),v=!0;var ue=p;try{for(C(oe),h=n(f);h!==null&&(!(h.expirationTime>oe)||ee&&!D());){var ve=h.callback;if(typeof ve=="function"){h.callback=null,p=h.priorityLevel;var le=ve(h.expirationTime<=oe);oe=e.unstable_now(),typeof le=="function"?h.callback=le:h===n(f)&&r(f),C(oe)}else r(f);h=n(f)}if(h!==null)var de=!0;else{var me=n(d);me!==null&&Q($,me.startTime-oe),de=!1}return de}finally{h=null,p=ue,v=!1}}var M=!1,A=null,L=-1,N=5,R=-1;function D(){return!(e.unstable_now()-R<N)}function j(){if(A!==null){var ee=e.unstable_now();R=ee;var oe=!0;try{oe=A(!0,ee)}finally{oe?U():(M=!1,A=null)}}else M=!1}var U;if(typeof S=="function")U=function(){S(j)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Y=H.port2;H.port1.onmessage=j,U=function(){Y.postMessage(null)}}else U=function(){w(j,0)};function Z(ee){A=ee,M||(M=!0,U())}function Q(ee,oe){L=w(function(){ee(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){m||v||(m=!0,Z(k))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(ee){switch(p){case 1:case 2:case 3:var oe=3;break;default:oe=p}var ue=p;p=oe;try{return ee()}finally{p=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,oe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=p;p=ee;try{return oe()}finally{p=ue}},e.unstable_scheduleCallback=function(ee,oe,ue){var ve=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ve+ue:ve):ue=ve,ee){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ue+le,ee={id:c++,callback:oe,priorityLevel:ee,startTime:ue,expirationTime:le,sortIndex:-1},ue>ve?(ee.sortIndex=ue,t(d,ee),n(f)===null&&ee===n(d)&&(y?(_(L),L=-1):y=!0,Q($,ue-ve))):(ee.sortIndex=le,t(f,ee),m||v||(m=!0,Z(k))),ee},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(ee){var oe=p;return function(){var ue=p;p=oe;try{return ee.apply(this,arguments)}finally{p=ue}}}})(ott);(function(e){e.exports=ott})(j4t);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var stt=z,uy=lwe;function Qn(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var utt=new Set,NU={};function XP(e,t){XF(e,t),XF(e+"Capture",t)}function XF(e,t){for(NU[e]=t,e=0;e<t.length;e++)utt.add(t[e])}var fk=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cwe=Object.prototype.hasOwnProperty,B4t=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Aze={},Rze={};function H4t(e){return cwe.call(Rze,e)?!0:cwe.call(Aze,e)?!1:B4t.test(e)?Rze[e]=!0:(Aze[e]=!0,!1)}function U4t(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function V4t(e,t,n,r){if(t===null||typeof t>"u"||U4t(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bv(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Bg={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bg[e]=new bv(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bg[t]=new bv(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bg[e]=new bv(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bg[e]=new bv(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bg[e]=new bv(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bg[e]=new bv(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bg[e]=new bv(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bg[e]=new bv(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bg[e]=new bv(e,5,!1,e.toLowerCase(),null,!1,!1)});var yCe=/[\-:]([a-z])/g;function bCe(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yCe,bCe);Bg[t]=new bv(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yCe,bCe);Bg[t]=new bv(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yCe,bCe);Bg[t]=new bv(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bg[e]=new bv(e,1,!1,e.toLowerCase(),null,!1,!1)});Bg.xlinkHref=new bv("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bg[e]=new bv(e,1,!1,e.toLowerCase(),null,!0,!0)});function wCe(e,t,n,r){var i=Bg.hasOwnProperty(t)?Bg[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(V4t(t,n,i,r)&&(n=null),r||i===null?H4t(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ok=stt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zQ=Symbol.for("react.element"),B6=Symbol.for("react.portal"),H6=Symbol.for("react.fragment"),_Ce=Symbol.for("react.strict_mode"),fwe=Symbol.for("react.profiler"),ltt=Symbol.for("react.provider"),ctt=Symbol.for("react.context"),xCe=Symbol.for("react.forward_ref"),dwe=Symbol.for("react.suspense"),hwe=Symbol.for("react.suspense_list"),SCe=Symbol.for("react.memo"),JA=Symbol.for("react.lazy"),ftt=Symbol.for("react.offscreen"),Tze=Symbol.iterator;function Oj(e){return e===null||typeof e!="object"?null:(e=Tze&&e[Tze]||e["@@iterator"],typeof e=="function"?e:null)}var Fc=Object.assign,mve;function QB(e){if(mve===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);mve=t&&t[1]||""}return`
`+mve+e}var yve=!1;function bve(e,t){if(!e||yve)return"";yve=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,u=a.length-1;1<=s&&0<=u&&i[s]!==a[u];)u--;for(;1<=s&&0<=u;s--,u--)if(i[s]!==a[u]){if(s!==1||u!==1)do if(s--,u--,0>u||i[s]!==a[u]){var f=`
`+i[s].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=s&&0<=u);break}}}finally{yve=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?QB(e):""}function W4t(e){switch(e.tag){case 5:return QB(e.type);case 16:return QB("Lazy");case 13:return QB("Suspense");case 19:return QB("SuspenseList");case 0:case 2:case 15:return e=bve(e.type,!1),e;case 11:return e=bve(e.type.render,!1),e;case 1:return e=bve(e.type,!0),e;default:return""}}function gwe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H6:return"Fragment";case B6:return"Portal";case fwe:return"Profiler";case _Ce:return"StrictMode";case dwe:return"Suspense";case hwe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ctt:return(e.displayName||"Context")+".Consumer";case ltt:return(e._context.displayName||"Context")+".Provider";case xCe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case SCe:return t=e.displayName||null,t!==null?t:gwe(e.type)||"Memo";case JA:t=e._payload,e=e._init;try{return gwe(e(t))}catch{}}return null}function G4t(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gwe(t);case 8:return t===_Ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function d3(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dtt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function q4t(e){var t=dtt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jQ(e){e._valueTracker||(e._valueTracker=q4t(e))}function htt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dtt(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function sne(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pwe(e,t){var n=t.checked;return Fc({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Mze(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=d3(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gtt(e,t){t=t.checked,t!=null&&wCe(e,"checked",t,!1)}function vwe(e,t){gtt(e,t);var n=d3(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mwe(e,t.type,n):t.hasOwnProperty("defaultValue")&&mwe(e,t.type,d3(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pze(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function mwe(e,t,n){(t!=="number"||sne(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var JB=Array.isArray;function yF(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+d3(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ywe(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Qn(91));return Fc({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lze(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Qn(92));if(JB(n)){if(1<n.length)throw Error(Qn(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:d3(n)}}function ptt(e,t){var n=d3(t.value),r=d3(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Dze(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vtt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bwe(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vtt(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var BQ,mtt=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(BQ=BQ||document.createElement("div"),BQ.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=BQ.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zU(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var WH={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y4t=["Webkit","ms","Moz","O"];Object.keys(WH).forEach(function(e){Y4t.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),WH[t]=WH[e]})});function ytt(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||WH.hasOwnProperty(e)&&WH[e]?(""+t).trim():t+"px"}function btt(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ytt(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var K4t=Fc({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wwe(e,t){if(t){if(K4t[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Qn(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Qn(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Qn(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Qn(62))}}function _we(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xwe=null;function ECe(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Swe=null,bF=null,wF=null;function Ize(e){if(e=zW(e)){if(typeof Swe!="function")throw Error(Qn(280));var t=e.stateNode;t&&(t=Yae(t),Swe(e.stateNode,e.type,t))}}function wtt(e){bF?wF?wF.push(e):wF=[e]:bF=e}function _tt(){if(bF){var e=bF,t=wF;if(wF=bF=null,Ize(e),t)for(e=0;e<t.length;e++)Ize(t[e])}}function xtt(e,t){return e(t)}function Stt(){}var wve=!1;function Ett(e,t,n){if(wve)return e(t,n);wve=!0;try{return xtt(e,t,n)}finally{wve=!1,(bF!==null||wF!==null)&&(Stt(),_tt())}}function jU(e,t){var n=e.stateNode;if(n===null)return null;var r=Yae(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Qn(231,t,typeof n));return n}var Ewe=!1;if(fk)try{var Aj={};Object.defineProperty(Aj,"passive",{get:function(){Ewe=!0}}),window.addEventListener("test",Aj,Aj),window.removeEventListener("test",Aj,Aj)}catch{Ewe=!1}function X4t(e,t,n,r,i,a,s,u,f){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(c){this.onError(c)}}var GH=!1,une=null,lne=!1,Cwe=null,Z4t={onError:function(e){GH=!0,une=e}};function Q4t(e,t,n,r,i,a,s,u,f){GH=!1,une=null,X4t.apply(Z4t,arguments)}function J4t(e,t,n,r,i,a,s,u,f){if(Q4t.apply(this,arguments),GH){if(GH){var d=une;GH=!1,une=null}else throw Error(Qn(198));lne||(lne=!0,Cwe=d)}}function ZP(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ctt(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fze(e){if(ZP(e)!==e)throw Error(Qn(188))}function eMt(e){var t=e.alternate;if(!t){if(t=ZP(e),t===null)throw Error(Qn(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Fze(i),e;if(a===r)return Fze(i),t;a=a.sibling}throw Error(Qn(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(Qn(189))}}if(n.alternate!==r)throw Error(Qn(190))}if(n.tag!==3)throw Error(Qn(188));return n.stateNode.current===n?e:t}function $tt(e){return e=eMt(e),e!==null?ktt(e):null}function ktt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ktt(e);if(t!==null)return t;e=e.sibling}return null}var Ott=uy.unstable_scheduleCallback,Nze=uy.unstable_cancelCallback,tMt=uy.unstable_shouldYield,nMt=uy.unstable_requestPaint,jf=uy.unstable_now,rMt=uy.unstable_getCurrentPriorityLevel,CCe=uy.unstable_ImmediatePriority,Att=uy.unstable_UserBlockingPriority,cne=uy.unstable_NormalPriority,iMt=uy.unstable_LowPriority,Rtt=uy.unstable_IdlePriority,Vae=null,US=null;function aMt(e){if(US&&typeof US.onCommitFiberRoot=="function")try{US.onCommitFiberRoot(Vae,e,void 0,(e.current.flags&128)===128)}catch{}}var l_=Math.clz32?Math.clz32:uMt,oMt=Math.log,sMt=Math.LN2;function uMt(e){return e>>>=0,e===0?32:31-(oMt(e)/sMt|0)|0}var HQ=64,UQ=4194304;function eH(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fne(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~i;u!==0?r=eH(u):(a&=s,a!==0&&(r=eH(a)))}else s=n&~i,s!==0?r=eH(s):a!==0&&(r=eH(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-l_(t),i=1<<n,r|=e[n],t&=~i;return r}function lMt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cMt(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-l_(a),u=1<<s,f=i[s];f===-1?(!(u&n)||u&r)&&(i[s]=lMt(u,t)):f<=t&&(e.expiredLanes|=u),a&=~u}}function $we(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ttt(){var e=HQ;return HQ<<=1,!(HQ&4194240)&&(HQ=64),e}function _ve(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function FW(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-l_(t),e[t]=n}function fMt(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-l_(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function $Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-l_(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bu=0;function Mtt(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ptt,kCe,Ltt,Dtt,Itt,kwe=!1,VQ=[],DR=null,IR=null,FR=null,BU=new Map,HU=new Map,cR=[],dMt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zze(e,t){switch(e){case"focusin":case"focusout":DR=null;break;case"dragenter":case"dragleave":IR=null;break;case"mouseover":case"mouseout":FR=null;break;case"pointerover":case"pointerout":BU.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":HU.delete(t.pointerId)}}function Rj(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=zW(t),t!==null&&kCe(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hMt(e,t,n,r,i){switch(t){case"focusin":return DR=Rj(DR,e,t,n,r,i),!0;case"dragenter":return IR=Rj(IR,e,t,n,r,i),!0;case"mouseover":return FR=Rj(FR,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return BU.set(a,Rj(BU.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,HU.set(a,Rj(HU.get(a)||null,e,t,n,r,i)),!0}return!1}function Ftt(e){var t=p5(e.target);if(t!==null){var n=ZP(t);if(n!==null){if(t=n.tag,t===13){if(t=Ctt(n),t!==null){e.blockedOn=t,Itt(e.priority,function(){Ltt(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jee(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Owe(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xwe=r,n.target.dispatchEvent(r),xwe=null}else return t=zW(n),t!==null&&kCe(t),e.blockedOn=n,!1;t.shift()}return!0}function jze(e,t,n){Jee(e)&&n.delete(t)}function gMt(){kwe=!1,DR!==null&&Jee(DR)&&(DR=null),IR!==null&&Jee(IR)&&(IR=null),FR!==null&&Jee(FR)&&(FR=null),BU.forEach(jze),HU.forEach(jze)}function Tj(e,t){e.blockedOn===t&&(e.blockedOn=null,kwe||(kwe=!0,uy.unstable_scheduleCallback(uy.unstable_NormalPriority,gMt)))}function UU(e){function t(i){return Tj(i,e)}if(0<VQ.length){Tj(VQ[0],e);for(var n=1;n<VQ.length;n++){var r=VQ[n];r.blockedOn===e&&(r.blockedOn=null)}}for(DR!==null&&Tj(DR,e),IR!==null&&Tj(IR,e),FR!==null&&Tj(FR,e),BU.forEach(t),HU.forEach(t),n=0;n<cR.length;n++)r=cR[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cR.length&&(n=cR[0],n.blockedOn===null);)Ftt(n),n.blockedOn===null&&cR.shift()}var _F=Ok.ReactCurrentBatchConfig,dne=!0;function pMt(e,t,n,r){var i=bu,a=_F.transition;_F.transition=null;try{bu=1,OCe(e,t,n,r)}finally{bu=i,_F.transition=a}}function vMt(e,t,n,r){var i=bu,a=_F.transition;_F.transition=null;try{bu=4,OCe(e,t,n,r)}finally{bu=i,_F.transition=a}}function OCe(e,t,n,r){if(dne){var i=Owe(e,t,n,r);if(i===null)Tve(e,t,r,hne,n),zze(e,r);else if(hMt(i,e,t,n,r))r.stopPropagation();else if(zze(e,r),t&4&&-1<dMt.indexOf(e)){for(;i!==null;){var a=zW(i);if(a!==null&&Ptt(a),a=Owe(e,t,n,r),a===null&&Tve(e,t,r,hne,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Tve(e,t,r,null,n)}}var hne=null;function Owe(e,t,n,r){if(hne=null,e=ECe(r),e=p5(e),e!==null)if(t=ZP(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ctt(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hne=e,null}function Ntt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rMt()){case CCe:return 1;case Att:return 4;case cne:case iMt:return 16;case Rtt:return 536870912;default:return 16}default:return 16}}var yR=null,ACe=null,ete=null;function ztt(){if(ete)return ete;var e,t=ACe,n=t.length,r,i="value"in yR?yR.value:yR.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return ete=i.slice(e,1<r?1-r:void 0)}function tte(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function WQ(){return!0}function Bze(){return!1}function by(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(a):a[u]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?WQ:Bze,this.isPropagationStopped=Bze,this}return Fc(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=WQ)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=WQ)},persist:function(){},isPersistent:WQ}),t}var b8={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},RCe=by(b8),NW=Fc({},b8,{view:0,detail:0}),mMt=by(NW),xve,Sve,Mj,Wae=Fc({},NW,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TCe,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mj&&(Mj&&e.type==="mousemove"?(xve=e.screenX-Mj.screenX,Sve=e.screenY-Mj.screenY):Sve=xve=0,Mj=e),xve)},movementY:function(e){return"movementY"in e?e.movementY:Sve}}),Hze=by(Wae),yMt=Fc({},Wae,{dataTransfer:0}),bMt=by(yMt),wMt=Fc({},NW,{relatedTarget:0}),Eve=by(wMt),_Mt=Fc({},b8,{animationName:0,elapsedTime:0,pseudoElement:0}),xMt=by(_Mt),SMt=Fc({},b8,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EMt=by(SMt),CMt=Fc({},b8,{data:0}),Uze=by(CMt),$Mt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kMt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OMt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AMt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=OMt[e])?!!t[e]:!1}function TCe(){return AMt}var RMt=Fc({},NW,{key:function(e){if(e.key){var t=$Mt[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=tte(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kMt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TCe,charCode:function(e){return e.type==="keypress"?tte(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?tte(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TMt=by(RMt),MMt=Fc({},Wae,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vze=by(MMt),PMt=Fc({},NW,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TCe}),LMt=by(PMt),DMt=Fc({},b8,{propertyName:0,elapsedTime:0,pseudoElement:0}),IMt=by(DMt),FMt=Fc({},Wae,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),NMt=by(FMt),zMt=[9,13,27,32],MCe=fk&&"CompositionEvent"in window,qH=null;fk&&"documentMode"in document&&(qH=document.documentMode);var jMt=fk&&"TextEvent"in window&&!qH,jtt=fk&&(!MCe||qH&&8<qH&&11>=qH),Wze=String.fromCharCode(32),Gze=!1;function Btt(e,t){switch(e){case"keyup":return zMt.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Htt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var U6=!1;function BMt(e,t){switch(e){case"compositionend":return Htt(t);case"keypress":return t.which!==32?null:(Gze=!0,Wze);case"textInput":return e=t.data,e===Wze&&Gze?null:e;default:return null}}function HMt(e,t){if(U6)return e==="compositionend"||!MCe&&Btt(e,t)?(e=ztt(),ete=ACe=yR=null,U6=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jtt&&t.locale!=="ko"?null:t.data;default:return null}}var UMt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qze(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!UMt[e.type]:t==="textarea"}function Utt(e,t,n,r){wtt(r),t=gne(t,"onChange"),0<t.length&&(n=new RCe("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var YH=null,VU=null;function VMt(e){ent(e,0)}function Gae(e){var t=G6(e);if(htt(t))return e}function WMt(e,t){if(e==="change")return t}var Vtt=!1;if(fk){var Cve;if(fk){var $ve="oninput"in document;if(!$ve){var Yze=document.createElement("div");Yze.setAttribute("oninput","return;"),$ve=typeof Yze.oninput=="function"}Cve=$ve}else Cve=!1;Vtt=Cve&&(!document.documentMode||9<document.documentMode)}function Kze(){YH&&(YH.detachEvent("onpropertychange",Wtt),VU=YH=null)}function Wtt(e){if(e.propertyName==="value"&&Gae(VU)){var t=[];Utt(t,VU,e,ECe(e)),Ett(VMt,t)}}function GMt(e,t,n){e==="focusin"?(Kze(),YH=t,VU=n,YH.attachEvent("onpropertychange",Wtt)):e==="focusout"&&Kze()}function qMt(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gae(VU)}function YMt(e,t){if(e==="click")return Gae(t)}function KMt(e,t){if(e==="input"||e==="change")return Gae(t)}function XMt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y_=typeof Object.is=="function"?Object.is:XMt;function WU(e,t){if(y_(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cwe.call(t,i)||!y_(e[i],t[i]))return!1}return!0}function Xze(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zze(e,t){var n=Xze(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xze(n)}}function Gtt(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gtt(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qtt(){for(var e=window,t=sne();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sne(e.document)}return t}function PCe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZMt(e){var t=qtt(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gtt(n.ownerDocument.documentElement,n)){if(r!==null&&PCe(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Zze(n,a);var s=Zze(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var QMt=fk&&"documentMode"in document&&11>=document.documentMode,V6=null,Awe=null,KH=null,Rwe=!1;function Qze(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rwe||V6==null||V6!==sne(r)||(r=V6,"selectionStart"in r&&PCe(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),KH&&WU(KH,r)||(KH=r,r=gne(Awe,"onSelect"),0<r.length&&(t=new RCe("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=V6)))}function GQ(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var W6={animationend:GQ("Animation","AnimationEnd"),animationiteration:GQ("Animation","AnimationIteration"),animationstart:GQ("Animation","AnimationStart"),transitionend:GQ("Transition","TransitionEnd")},kve={},Ytt={};fk&&(Ytt=document.createElement("div").style,"AnimationEvent"in window||(delete W6.animationend.animation,delete W6.animationiteration.animation,delete W6.animationstart.animation),"TransitionEvent"in window||delete W6.transitionend.transition);function qae(e){if(kve[e])return kve[e];if(!W6[e])return e;var t=W6[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ytt)return kve[e]=t[n];return e}var Ktt=qae("animationend"),Xtt=qae("animationiteration"),Ztt=qae("animationstart"),Qtt=qae("transitionend"),Jtt=new Map,Jze="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function K3(e,t){Jtt.set(e,t),XP(t,[e])}for(var Ove=0;Ove<Jze.length;Ove++){var Ave=Jze[Ove],JMt=Ave.toLowerCase(),e5t=Ave[0].toUpperCase()+Ave.slice(1);K3(JMt,"on"+e5t)}K3(Ktt,"onAnimationEnd");K3(Xtt,"onAnimationIteration");K3(Ztt,"onAnimationStart");K3("dblclick","onDoubleClick");K3("focusin","onFocus");K3("focusout","onBlur");K3(Qtt,"onTransitionEnd");XF("onMouseEnter",["mouseout","mouseover"]);XF("onMouseLeave",["mouseout","mouseover"]);XF("onPointerEnter",["pointerout","pointerover"]);XF("onPointerLeave",["pointerout","pointerover"]);XP("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));XP("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));XP("onBeforeInput",["compositionend","keypress","textInput","paste"]);XP("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));XP("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));XP("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tH="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t5t=new Set("cancel close invalid load scroll toggle".split(" ").concat(tH));function eje(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,J4t(r,t,void 0,e),e.currentTarget=null}function ent(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],f=u.instance,d=u.currentTarget;if(u=u.listener,f!==a&&i.isPropagationStopped())break e;eje(i,u,d),a=f}else for(s=0;s<r.length;s++){if(u=r[s],f=u.instance,d=u.currentTarget,u=u.listener,f!==a&&i.isPropagationStopped())break e;eje(i,u,d),a=f}}}if(lne)throw e=Cwe,lne=!1,Cwe=null,e}function El(e,t){var n=t[Dwe];n===void 0&&(n=t[Dwe]=new Set);var r=e+"__bubble";n.has(r)||(tnt(t,e,2,!1),n.add(r))}function Rve(e,t,n){var r=0;t&&(r|=4),tnt(n,e,r,t)}var qQ="_reactListening"+Math.random().toString(36).slice(2);function GU(e){if(!e[qQ]){e[qQ]=!0,utt.forEach(function(n){n!=="selectionchange"&&(t5t.has(n)||Rve(n,!1,e),Rve(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qQ]||(t[qQ]=!0,Rve("selectionchange",!1,t))}}function tnt(e,t,n,r){switch(Ntt(t)){case 1:var i=pMt;break;case 4:i=vMt;break;default:i=OCe}n=i.bind(null,t,n,e),i=void 0,!Ewe||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Tve(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var f=s.tag;if((f===3||f===4)&&(f=s.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;s=s.return}for(;u!==null;){if(s=p5(u),s===null)return;if(f=s.tag,f===5||f===6){r=a=s;continue e}u=u.parentNode}}r=r.return}Ett(function(){var d=a,c=ECe(n),h=[];e:{var p=Jtt.get(e);if(p!==void 0){var v=RCe,m=e;switch(e){case"keypress":if(tte(n)===0)break e;case"keydown":case"keyup":v=TMt;break;case"focusin":m="focus",v=Eve;break;case"focusout":m="blur",v=Eve;break;case"beforeblur":case"afterblur":v=Eve;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Hze;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=bMt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=LMt;break;case Ktt:case Xtt:case Ztt:v=xMt;break;case Qtt:v=IMt;break;case"scroll":v=mMt;break;case"wheel":v=NMt;break;case"copy":case"cut":case"paste":v=EMt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Vze}var y=(t&4)!==0,w=!y&&e==="scroll",_=y?p!==null?p+"Capture":null:p;y=[];for(var S=d,C;S!==null;){C=S;var $=C.stateNode;if(C.tag===5&&$!==null&&(C=$,_!==null&&($=jU(S,_),$!=null&&y.push(qU(S,$,C)))),w)break;S=S.return}0<y.length&&(p=new v(p,m,null,n,c),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==xwe&&(m=n.relatedTarget||n.fromElement)&&(p5(m)||m[dk]))break e;if((v||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,v?(m=n.relatedTarget||n.toElement,v=d,m=m?p5(m):null,m!==null&&(w=ZP(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(v=null,m=d),v!==m)){if(y=Hze,$="onMouseLeave",_="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(y=Vze,$="onPointerLeave",_="onPointerEnter",S="pointer"),w=v==null?p:G6(v),C=m==null?p:G6(m),p=new y($,S+"leave",v,n,c),p.target=w,p.relatedTarget=C,$=null,p5(c)===d&&(y=new y(_,S+"enter",m,n,c),y.target=C,y.relatedTarget=w,$=y),w=$,v&&m)t:{for(y=v,_=m,S=0,C=y;C;C=QI(C))S++;for(C=0,$=_;$;$=QI($))C++;for(;0<S-C;)y=QI(y),S--;for(;0<C-S;)_=QI(_),C--;for(;S--;){if(y===_||_!==null&&y===_.alternate)break t;y=QI(y),_=QI(_)}y=null}else y=null;v!==null&&tje(h,p,v,y,!1),m!==null&&w!==null&&tje(h,w,m,y,!0)}}e:{if(p=d?G6(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var k=WMt;else if(qze(p))if(Vtt)k=KMt;else{k=qMt;var M=GMt}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=YMt);if(k&&(k=k(e,d))){Utt(h,k,n,c);break e}M&&M(e,p,d),e==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&mwe(p,"number",p.value)}switch(M=d?G6(d):window,e){case"focusin":(qze(M)||M.contentEditable==="true")&&(V6=M,Awe=d,KH=null);break;case"focusout":KH=Awe=V6=null;break;case"mousedown":Rwe=!0;break;case"contextmenu":case"mouseup":case"dragend":Rwe=!1,Qze(h,n,c);break;case"selectionchange":if(QMt)break;case"keydown":case"keyup":Qze(h,n,c)}var A;if(MCe)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else U6?Btt(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(jtt&&n.locale!=="ko"&&(U6||L!=="onCompositionStart"?L==="onCompositionEnd"&&U6&&(A=ztt()):(yR=c,ACe="value"in yR?yR.value:yR.textContent,U6=!0)),M=gne(d,L),0<M.length&&(L=new Uze(L,e,null,n,c),h.push({event:L,listeners:M}),A?L.data=A:(A=Htt(n),A!==null&&(L.data=A)))),(A=jMt?BMt(e,n):HMt(e,n))&&(d=gne(d,"onBeforeInput"),0<d.length&&(c=new Uze("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:d}),c.data=A))}ent(h,t)})}function qU(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gne(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=jU(e,n),a!=null&&r.unshift(qU(e,a,i)),a=jU(e,t),a!=null&&r.push(qU(e,a,i))),e=e.return}return r}function QI(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tje(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var u=n,f=u.alternate,d=u.stateNode;if(f!==null&&f===r)break;u.tag===5&&d!==null&&(u=d,i?(f=jU(n,a),f!=null&&s.unshift(qU(n,f,u))):i||(f=jU(n,a),f!=null&&s.push(qU(n,f,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var n5t=/\r\n?/g,r5t=/\u0000|\uFFFD/g;function nje(e){return(typeof e=="string"?e:""+e).replace(n5t,`
`).replace(r5t,"")}function YQ(e,t,n){if(t=nje(t),nje(e)!==t&&n)throw Error(Qn(425))}function pne(){}var Twe=null,Mwe=null;function Pwe(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lwe=typeof setTimeout=="function"?setTimeout:void 0,i5t=typeof clearTimeout=="function"?clearTimeout:void 0,rje=typeof Promise=="function"?Promise:void 0,a5t=typeof queueMicrotask=="function"?queueMicrotask:typeof rje<"u"?function(e){return rje.resolve(null).then(e).catch(o5t)}:Lwe;function o5t(e){setTimeout(function(){throw e})}function Mve(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),UU(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);UU(t)}function NR(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ije(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var w8=Math.random().toString(36).slice(2),ES="__reactFiber$"+w8,YU="__reactProps$"+w8,dk="__reactContainer$"+w8,Dwe="__reactEvents$"+w8,s5t="__reactListeners$"+w8,u5t="__reactHandles$"+w8;function p5(e){var t=e[ES];if(t)return t;for(var n=e.parentNode;n;){if(t=n[dk]||n[ES]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ije(e);e!==null;){if(n=e[ES])return n;e=ije(e)}return t}e=n,n=e.parentNode}return null}function zW(e){return e=e[ES]||e[dk],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function G6(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Qn(33))}function Yae(e){return e[YU]||null}var Iwe=[],q6=-1;function X3(e){return{current:e}}function Tl(e){0>q6||(e.current=Iwe[q6],Iwe[q6]=null,q6--)}function rl(e,t){q6++,Iwe[q6]=e.current,e.current=t}var h3={},Wp=X3(h3),wm=X3(!1),J5=h3;function ZF(e,t){var n=e.type.contextTypes;if(!n)return h3;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _m(e){return e=e.childContextTypes,e!=null}function vne(){Tl(wm),Tl(Wp)}function aje(e,t,n){if(Wp.current!==h3)throw Error(Qn(168));rl(Wp,t),rl(wm,n)}function nnt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Qn(108,G4t(e)||"Unknown",i));return Fc({},n,r)}function mne(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||h3,J5=Wp.current,rl(Wp,e),rl(wm,wm.current),!0}function oje(e,t,n){var r=e.stateNode;if(!r)throw Error(Qn(169));n?(e=nnt(e,t,J5),r.__reactInternalMemoizedMergedChildContext=e,Tl(wm),Tl(Wp),rl(Wp,e)):Tl(wm),rl(wm,n)}var L$=null,Kae=!1,Pve=!1;function rnt(e){L$===null?L$=[e]:L$.push(e)}function l5t(e){Kae=!0,rnt(e)}function Z3(){if(!Pve&&L$!==null){Pve=!0;var e=0,t=bu;try{var n=L$;for(bu=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}L$=null,Kae=!1}catch(i){throw L$!==null&&(L$=L$.slice(e+1)),Ott(CCe,Z3),i}finally{bu=t,Pve=!1}}return null}var Y6=[],K6=0,yne=null,bne=0,$b=[],kb=0,eP=null,H$=1,U$="";function WM(e,t){Y6[K6++]=bne,Y6[K6++]=yne,yne=e,bne=t}function int(e,t,n){$b[kb++]=H$,$b[kb++]=U$,$b[kb++]=eP,eP=e;var r=H$;e=U$;var i=32-l_(r)-1;r&=~(1<<i),n+=1;var a=32-l_(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,H$=1<<32-l_(t)+i|n<<i|r,U$=a+e}else H$=1<<a|n<<i|r,U$=e}function LCe(e){e.return!==null&&(WM(e,1),int(e,1,0))}function DCe(e){for(;e===yne;)yne=Y6[--K6],Y6[K6]=null,bne=Y6[--K6],Y6[K6]=null;for(;e===eP;)eP=$b[--kb],$b[kb]=null,U$=$b[--kb],$b[kb]=null,H$=$b[--kb],$b[kb]=null}var iy=null,Q1=null,Jl=!1,U2=null;function ant(e,t){var n=Db(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sje(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,iy=e,Q1=NR(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,iy=e,Q1=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=eP!==null?{id:H$,overflow:U$}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Db(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,iy=e,Q1=null,!0):!1;default:return!1}}function Fwe(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nwe(e){if(Jl){var t=Q1;if(t){var n=t;if(!sje(e,t)){if(Fwe(e))throw Error(Qn(418));t=NR(n.nextSibling);var r=iy;t&&sje(e,t)?ant(r,n):(e.flags=e.flags&-4097|2,Jl=!1,iy=e)}}else{if(Fwe(e))throw Error(Qn(418));e.flags=e.flags&-4097|2,Jl=!1,iy=e}}}function uje(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;iy=e}function KQ(e){if(e!==iy)return!1;if(!Jl)return uje(e),Jl=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pwe(e.type,e.memoizedProps)),t&&(t=Q1)){if(Fwe(e))throw ont(),Error(Qn(418));for(;t;)ant(e,t),t=NR(t.nextSibling)}if(uje(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Qn(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Q1=NR(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Q1=null}}else Q1=iy?NR(e.stateNode.nextSibling):null;return!0}function ont(){for(var e=Q1;e;)e=NR(e.nextSibling)}function QF(){Q1=iy=null,Jl=!1}function ICe(e){U2===null?U2=[e]:U2.push(e)}var c5t=Ok.ReactCurrentBatchConfig;function F2(e,t){if(e&&e.defaultProps){t=Fc({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var wne=X3(null),_ne=null,X6=null,FCe=null;function NCe(){FCe=X6=_ne=null}function zCe(e){var t=wne.current;Tl(wne),e._currentValue=t}function zwe(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xF(e,t){_ne=e,FCe=X6=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mm=!0),e.firstContext=null)}function Zb(e){var t=e._currentValue;if(FCe!==e)if(e={context:e,memoizedValue:t,next:null},X6===null){if(_ne===null)throw Error(Qn(308));X6=e,_ne.dependencies={lanes:0,firstContext:e}}else X6=X6.next=e;return t}var v5=null;function jCe(e){v5===null?v5=[e]:v5.push(e)}function snt(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,jCe(t)):(n.next=i.next,i.next=n),t.interleaved=n,hk(e,r)}function hk(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var eR=!1;function BCe(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function unt(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function J$(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zR(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,bs&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,hk(e,n)}return i=r.interleaved,i===null?(t.next=t,jCe(r)):(t.next=i.next,i.next=t),r.interleaved=t,hk(e,n)}function nte(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$Ce(e,n)}}function lje(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xne(e,t,n,r){var i=e.updateQueue;eR=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var f=u,d=f.next;f.next=null,s===null?a=d:s.next=d,s=f;var c=e.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==s&&(u===null?c.firstBaseUpdate=d:u.next=d,c.lastBaseUpdate=f))}if(a!==null){var h=i.baseState;s=0,c=d=f=null,u=a;do{var p=u.lane,v=u.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var m=e,y=u;switch(p=t,v=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(v,h,p);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,p=typeof m=="function"?m.call(v,h,p):m,p==null)break e;h=Fc({},h,p);break e;case 2:eR=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[u]:p.push(u))}else v={eventTime:v,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(d=c=v,f=h):c=c.next=v,s|=p;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;p=u,u=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(f=h),i.baseState=f,i.firstBaseUpdate=d,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);nP|=s,e.lanes=s,e.memoizedState=h}}function cje(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Qn(191,i));i.call(r)}}}var lnt=new stt.Component().refs;function jwe(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fc({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xae={isMounted:function(e){return(e=e._reactInternals)?ZP(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=lv(),i=BR(e),a=J$(r,i);a.payload=t,n!=null&&(a.callback=n),t=zR(e,a,i),t!==null&&(c_(t,e,i,r),nte(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=lv(),i=BR(e),a=J$(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=zR(e,a,i),t!==null&&(c_(t,e,i,r),nte(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=lv(),r=BR(e),i=J$(n,r);i.tag=2,t!=null&&(i.callback=t),t=zR(e,i,r),t!==null&&(c_(t,e,r,n),nte(t,e,r))}};function fje(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!WU(n,r)||!WU(i,a):!0}function cnt(e,t,n){var r=!1,i=h3,a=t.contextType;return typeof a=="object"&&a!==null?a=Zb(a):(i=_m(t)?J5:Wp.current,r=t.contextTypes,a=(r=r!=null)?ZF(e,i):h3),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xae,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function dje(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xae.enqueueReplaceState(t,t.state,null)}function Bwe(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=lnt,BCe(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Zb(a):(a=_m(t)?J5:Wp.current,i.context=ZF(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(jwe(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Xae.enqueueReplaceState(i,i.state,null),xne(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Pj(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Qn(309));var r=n.stateNode}if(!r)throw Error(Qn(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var u=i.refs;u===lnt&&(u=i.refs={}),s===null?delete u[a]:u[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Qn(284));if(!n._owner)throw Error(Qn(290,e))}return e}function XQ(e,t){throw e=Object.prototype.toString.call(t),Error(Qn(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hje(e){var t=e._init;return t(e._payload)}function fnt(e){function t(_,S){if(e){var C=_.deletions;C===null?(_.deletions=[S],_.flags|=16):C.push(S)}}function n(_,S){if(!e)return null;for(;S!==null;)t(_,S),S=S.sibling;return null}function r(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function i(_,S){return _=HR(_,S),_.index=0,_.sibling=null,_}function a(_,S,C){return _.index=C,e?(C=_.alternate,C!==null?(C=C.index,C<S?(_.flags|=2,S):C):(_.flags|=2,S)):(_.flags|=1048576,S)}function s(_){return e&&_.alternate===null&&(_.flags|=2),_}function u(_,S,C,$){return S===null||S.tag!==6?(S=jve(C,_.mode,$),S.return=_,S):(S=i(S,C),S.return=_,S)}function f(_,S,C,$){var k=C.type;return k===H6?c(_,S,C.props.children,$,C.key):S!==null&&(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===JA&&hje(k)===S.type)?($=i(S,C.props),$.ref=Pj(_,S,C),$.return=_,$):($=ute(C.type,C.key,C.props,null,_.mode,$),$.ref=Pj(_,S,C),$.return=_,$)}function d(_,S,C,$){return S===null||S.tag!==4||S.stateNode.containerInfo!==C.containerInfo||S.stateNode.implementation!==C.implementation?(S=Bve(C,_.mode,$),S.return=_,S):(S=i(S,C.children||[]),S.return=_,S)}function c(_,S,C,$,k){return S===null||S.tag!==7?(S=N5(C,_.mode,$,k),S.return=_,S):(S=i(S,C),S.return=_,S)}function h(_,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return S=jve(""+S,_.mode,C),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case zQ:return C=ute(S.type,S.key,S.props,null,_.mode,C),C.ref=Pj(_,null,S),C.return=_,C;case B6:return S=Bve(S,_.mode,C),S.return=_,S;case JA:var $=S._init;return h(_,$(S._payload),C)}if(JB(S)||Oj(S))return S=N5(S,_.mode,C,null),S.return=_,S;XQ(_,S)}return null}function p(_,S,C,$){var k=S!==null?S.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return k!==null?null:u(_,S,""+C,$);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case zQ:return C.key===k?f(_,S,C,$):null;case B6:return C.key===k?d(_,S,C,$):null;case JA:return k=C._init,p(_,S,k(C._payload),$)}if(JB(C)||Oj(C))return k!==null?null:c(_,S,C,$,null);XQ(_,C)}return null}function v(_,S,C,$,k){if(typeof $=="string"&&$!==""||typeof $=="number")return _=_.get(C)||null,u(S,_,""+$,k);if(typeof $=="object"&&$!==null){switch($.$$typeof){case zQ:return _=_.get($.key===null?C:$.key)||null,f(S,_,$,k);case B6:return _=_.get($.key===null?C:$.key)||null,d(S,_,$,k);case JA:var M=$._init;return v(_,S,C,M($._payload),k)}if(JB($)||Oj($))return _=_.get(C)||null,c(S,_,$,k,null);XQ(S,$)}return null}function m(_,S,C,$){for(var k=null,M=null,A=S,L=S=0,N=null;A!==null&&L<C.length;L++){A.index>L?(N=A,A=null):N=A.sibling;var R=p(_,A,C[L],$);if(R===null){A===null&&(A=N);break}e&&A&&R.alternate===null&&t(_,A),S=a(R,S,L),M===null?k=R:M.sibling=R,M=R,A=N}if(L===C.length)return n(_,A),Jl&&WM(_,L),k;if(A===null){for(;L<C.length;L++)A=h(_,C[L],$),A!==null&&(S=a(A,S,L),M===null?k=A:M.sibling=A,M=A);return Jl&&WM(_,L),k}for(A=r(_,A);L<C.length;L++)N=v(A,_,L,C[L],$),N!==null&&(e&&N.alternate!==null&&A.delete(N.key===null?L:N.key),S=a(N,S,L),M===null?k=N:M.sibling=N,M=N);return e&&A.forEach(function(D){return t(_,D)}),Jl&&WM(_,L),k}function y(_,S,C,$){var k=Oj(C);if(typeof k!="function")throw Error(Qn(150));if(C=k.call(C),C==null)throw Error(Qn(151));for(var M=k=null,A=S,L=S=0,N=null,R=C.next();A!==null&&!R.done;L++,R=C.next()){A.index>L?(N=A,A=null):N=A.sibling;var D=p(_,A,R.value,$);if(D===null){A===null&&(A=N);break}e&&A&&D.alternate===null&&t(_,A),S=a(D,S,L),M===null?k=D:M.sibling=D,M=D,A=N}if(R.done)return n(_,A),Jl&&WM(_,L),k;if(A===null){for(;!R.done;L++,R=C.next())R=h(_,R.value,$),R!==null&&(S=a(R,S,L),M===null?k=R:M.sibling=R,M=R);return Jl&&WM(_,L),k}for(A=r(_,A);!R.done;L++,R=C.next())R=v(A,_,L,R.value,$),R!==null&&(e&&R.alternate!==null&&A.delete(R.key===null?L:R.key),S=a(R,S,L),M===null?k=R:M.sibling=R,M=R);return e&&A.forEach(function(j){return t(_,j)}),Jl&&WM(_,L),k}function w(_,S,C,$){if(typeof C=="object"&&C!==null&&C.type===H6&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case zQ:e:{for(var k=C.key,M=S;M!==null;){if(M.key===k){if(k=C.type,k===H6){if(M.tag===7){n(_,M.sibling),S=i(M,C.props.children),S.return=_,_=S;break e}}else if(M.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===JA&&hje(k)===M.type){n(_,M.sibling),S=i(M,C.props),S.ref=Pj(_,M,C),S.return=_,_=S;break e}n(_,M);break}else t(_,M);M=M.sibling}C.type===H6?(S=N5(C.props.children,_.mode,$,C.key),S.return=_,_=S):($=ute(C.type,C.key,C.props,null,_.mode,$),$.ref=Pj(_,S,C),$.return=_,_=$)}return s(_);case B6:e:{for(M=C.key;S!==null;){if(S.key===M)if(S.tag===4&&S.stateNode.containerInfo===C.containerInfo&&S.stateNode.implementation===C.implementation){n(_,S.sibling),S=i(S,C.children||[]),S.return=_,_=S;break e}else{n(_,S);break}else t(_,S);S=S.sibling}S=Bve(C,_.mode,$),S.return=_,_=S}return s(_);case JA:return M=C._init,w(_,S,M(C._payload),$)}if(JB(C))return m(_,S,C,$);if(Oj(C))return y(_,S,C,$);XQ(_,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,S!==null&&S.tag===6?(n(_,S.sibling),S=i(S,C),S.return=_,_=S):(n(_,S),S=jve(C,_.mode,$),S.return=_,_=S),s(_)):n(_,S)}return w}var JF=fnt(!0),dnt=fnt(!1),jW={},VS=X3(jW),KU=X3(jW),XU=X3(jW);function m5(e){if(e===jW)throw Error(Qn(174));return e}function HCe(e,t){switch(rl(XU,t),rl(KU,e),rl(VS,jW),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bwe(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bwe(t,e)}Tl(VS),rl(VS,t)}function eN(){Tl(VS),Tl(KU),Tl(XU)}function hnt(e){m5(XU.current);var t=m5(VS.current),n=bwe(t,e.type);t!==n&&(rl(KU,e),rl(VS,n))}function UCe(e){KU.current===e&&(Tl(VS),Tl(KU))}var Mc=X3(0);function Sne(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lve=[];function VCe(){for(var e=0;e<Lve.length;e++)Lve[e]._workInProgressVersionPrimary=null;Lve.length=0}var rte=Ok.ReactCurrentDispatcher,Dve=Ok.ReactCurrentBatchConfig,tP=0,Lc=null,jd=null,Th=null,Ene=!1,XH=!1,ZU=0,f5t=0;function mp(){throw Error(Qn(321))}function WCe(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!y_(e[n],t[n]))return!1;return!0}function GCe(e,t,n,r,i,a){if(tP=a,Lc=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rte.current=e===null||e.memoizedState===null?p5t:v5t,e=n(r,i),XH){a=0;do{if(XH=!1,ZU=0,25<=a)throw Error(Qn(301));a+=1,Th=jd=null,t.updateQueue=null,rte.current=m5t,e=n(r,i)}while(XH)}if(rte.current=Cne,t=jd!==null&&jd.next!==null,tP=0,Th=jd=Lc=null,Ene=!1,t)throw Error(Qn(300));return e}function qCe(){var e=ZU!==0;return ZU=0,e}function gS(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Th===null?Lc.memoizedState=Th=e:Th=Th.next=e,Th}function Qb(){if(jd===null){var e=Lc.alternate;e=e!==null?e.memoizedState:null}else e=jd.next;var t=Th===null?Lc.memoizedState:Th.next;if(t!==null)Th=t,jd=e;else{if(e===null)throw Error(Qn(310));jd=e,e={memoizedState:jd.memoizedState,baseState:jd.baseState,baseQueue:jd.baseQueue,queue:jd.queue,next:null},Th===null?Lc.memoizedState=Th=e:Th=Th.next=e}return Th}function QU(e,t){return typeof t=="function"?t(e):t}function Ive(e){var t=Qb(),n=t.queue;if(n===null)throw Error(Qn(311));n.lastRenderedReducer=e;var r=jd,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var u=s=null,f=null,d=a;do{var c=d.lane;if((tP&c)===c)f!==null&&(f=f.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:c,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};f===null?(u=f=h,s=r):f=f.next=h,Lc.lanes|=c,nP|=c}d=d.next}while(d!==null&&d!==a);f===null?s=r:f.next=u,y_(r,t.memoizedState)||(mm=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Lc.lanes|=a,nP|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fve(e){var t=Qb(),n=t.queue;if(n===null)throw Error(Qn(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);y_(a,t.memoizedState)||(mm=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function gnt(){}function pnt(e,t){var n=Lc,r=Qb(),i=t(),a=!y_(r.memoizedState,i);if(a&&(r.memoizedState=i,mm=!0),r=r.queue,YCe(ynt.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Th!==null&&Th.memoizedState.tag&1){if(n.flags|=2048,JU(9,mnt.bind(null,n,r,i,t),void 0,null),Nh===null)throw Error(Qn(349));tP&30||vnt(n,t,i)}return i}function vnt(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Lc.updateQueue,t===null?(t={lastEffect:null,stores:null},Lc.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mnt(e,t,n,r){t.value=n,t.getSnapshot=r,bnt(t)&&wnt(e)}function ynt(e,t,n){return n(function(){bnt(t)&&wnt(e)})}function bnt(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!y_(e,n)}catch{return!0}}function wnt(e){var t=hk(e,1);t!==null&&c_(t,e,1,-1)}function gje(e){var t=gS();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:QU,lastRenderedState:e},t.queue=e,e=e.dispatch=g5t.bind(null,Lc,e),[t.memoizedState,e]}function JU(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Lc.updateQueue,t===null?(t={lastEffect:null,stores:null},Lc.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function _nt(){return Qb().memoizedState}function ite(e,t,n,r){var i=gS();Lc.flags|=e,i.memoizedState=JU(1|t,n,void 0,r===void 0?null:r)}function Zae(e,t,n,r){var i=Qb();r=r===void 0?null:r;var a=void 0;if(jd!==null){var s=jd.memoizedState;if(a=s.destroy,r!==null&&WCe(r,s.deps)){i.memoizedState=JU(t,n,a,r);return}}Lc.flags|=e,i.memoizedState=JU(1|t,n,a,r)}function pje(e,t){return ite(8390656,8,e,t)}function YCe(e,t){return Zae(2048,8,e,t)}function xnt(e,t){return Zae(4,2,e,t)}function Snt(e,t){return Zae(4,4,e,t)}function Ent(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cnt(e,t,n){return n=n!=null?n.concat([e]):null,Zae(4,4,Ent.bind(null,t,e),n)}function KCe(){}function $nt(e,t){var n=Qb();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&WCe(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function knt(e,t){var n=Qb();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&WCe(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ont(e,t,n){return tP&21?(y_(n,t)||(n=Ttt(),Lc.lanes|=n,nP|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mm=!0),e.memoizedState=n)}function d5t(e,t){var n=bu;bu=n!==0&&4>n?n:4,e(!0);var r=Dve.transition;Dve.transition={};try{e(!1),t()}finally{bu=n,Dve.transition=r}}function Ant(){return Qb().memoizedState}function h5t(e,t,n){var r=BR(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rnt(e))Tnt(t,n);else if(n=snt(e,t,n,r),n!==null){var i=lv();c_(n,e,r,i),Mnt(n,t,r)}}function g5t(e,t,n){var r=BR(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rnt(e))Tnt(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,u=a(s,n);if(i.hasEagerState=!0,i.eagerState=u,y_(u,s)){var f=t.interleaved;f===null?(i.next=i,jCe(t)):(i.next=f.next,f.next=i),t.interleaved=i;return}}catch{}finally{}n=snt(e,t,i,r),n!==null&&(i=lv(),c_(n,e,r,i),Mnt(n,t,r))}}function Rnt(e){var t=e.alternate;return e===Lc||t!==null&&t===Lc}function Tnt(e,t){XH=Ene=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mnt(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$Ce(e,n)}}var Cne={readContext:Zb,useCallback:mp,useContext:mp,useEffect:mp,useImperativeHandle:mp,useInsertionEffect:mp,useLayoutEffect:mp,useMemo:mp,useReducer:mp,useRef:mp,useState:mp,useDebugValue:mp,useDeferredValue:mp,useTransition:mp,useMutableSource:mp,useSyncExternalStore:mp,useId:mp,unstable_isNewReconciler:!1},p5t={readContext:Zb,useCallback:function(e,t){return gS().memoizedState=[e,t===void 0?null:t],e},useContext:Zb,useEffect:pje,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ite(4194308,4,Ent.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ite(4194308,4,e,t)},useInsertionEffect:function(e,t){return ite(4,2,e,t)},useMemo:function(e,t){var n=gS();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gS();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=h5t.bind(null,Lc,e),[r.memoizedState,e]},useRef:function(e){var t=gS();return e={current:e},t.memoizedState=e},useState:gje,useDebugValue:KCe,useDeferredValue:function(e){return gS().memoizedState=e},useTransition:function(){var e=gje(!1),t=e[0];return e=d5t.bind(null,e[1]),gS().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Lc,i=gS();if(Jl){if(n===void 0)throw Error(Qn(407));n=n()}else{if(n=t(),Nh===null)throw Error(Qn(349));tP&30||vnt(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,pje(ynt.bind(null,r,a,e),[e]),r.flags|=2048,JU(9,mnt.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=gS(),t=Nh.identifierPrefix;if(Jl){var n=U$,r=H$;n=(r&~(1<<32-l_(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ZU++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=f5t++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},v5t={readContext:Zb,useCallback:$nt,useContext:Zb,useEffect:YCe,useImperativeHandle:Cnt,useInsertionEffect:xnt,useLayoutEffect:Snt,useMemo:knt,useReducer:Ive,useRef:_nt,useState:function(){return Ive(QU)},useDebugValue:KCe,useDeferredValue:function(e){var t=Qb();return Ont(t,jd.memoizedState,e)},useTransition:function(){var e=Ive(QU)[0],t=Qb().memoizedState;return[e,t]},useMutableSource:gnt,useSyncExternalStore:pnt,useId:Ant,unstable_isNewReconciler:!1},m5t={readContext:Zb,useCallback:$nt,useContext:Zb,useEffect:YCe,useImperativeHandle:Cnt,useInsertionEffect:xnt,useLayoutEffect:Snt,useMemo:knt,useReducer:Fve,useRef:_nt,useState:function(){return Fve(QU)},useDebugValue:KCe,useDeferredValue:function(e){var t=Qb();return jd===null?t.memoizedState=e:Ont(t,jd.memoizedState,e)},useTransition:function(){var e=Fve(QU)[0],t=Qb().memoizedState;return[e,t]},useMutableSource:gnt,useSyncExternalStore:pnt,useId:Ant,unstable_isNewReconciler:!1};function tN(e,t){try{var n="",r=t;do n+=W4t(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Nve(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hwe(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var y5t=typeof WeakMap=="function"?WeakMap:Map;function Pnt(e,t,n){n=J$(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){kne||(kne=!0,Qwe=r),Hwe(e,t)},n}function Lnt(e,t,n){n=J$(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Hwe(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Hwe(e,t),typeof r!="function"&&(jR===null?jR=new Set([this]):jR.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function vje(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new y5t;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=M5t.bind(null,e,t,n),t.then(e,e))}function mje(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yje(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=J$(-1,1),t.tag=2,zR(n,t,1))),n.lanes|=1),e)}var b5t=Ok.ReactCurrentOwner,mm=!1;function q0(e,t,n,r){t.child=e===null?dnt(t,null,n,r):JF(t,e.child,n,r)}function bje(e,t,n,r,i){n=n.render;var a=t.ref;return xF(t,i),r=GCe(e,t,n,r,a,i),n=qCe(),e!==null&&!mm?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gk(e,t,i)):(Jl&&n&&LCe(t),t.flags|=1,q0(e,t,r,i),t.child)}function wje(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!r$e(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Dnt(e,t,a,r,i)):(e=ute(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:WU,n(s,r)&&e.ref===t.ref)return gk(e,t,i)}return t.flags|=1,e=HR(a,r),e.ref=t.ref,e.return=t,t.child=e}function Dnt(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(WU(a,r)&&e.ref===t.ref)if(mm=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(mm=!0);else return t.lanes=e.lanes,gk(e,t,i)}return Uwe(e,t,n,r,i)}function Int(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rl(Q6,q1),q1|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rl(Q6,q1),q1|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,rl(Q6,q1),q1|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,rl(Q6,q1),q1|=r;return q0(e,t,i,n),t.child}function Fnt(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uwe(e,t,n,r,i){var a=_m(n)?J5:Wp.current;return a=ZF(t,a),xF(t,i),n=GCe(e,t,n,r,a,i),r=qCe(),e!==null&&!mm?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gk(e,t,i)):(Jl&&r&&LCe(t),t.flags|=1,q0(e,t,n,i),t.child)}function _je(e,t,n,r,i){if(_m(n)){var a=!0;mne(t)}else a=!1;if(xF(t,i),t.stateNode===null)ate(e,t),cnt(t,n,r),Bwe(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var f=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=Zb(d):(d=_m(n)?J5:Wp.current,d=ZF(t,d));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||f!==d)&&dje(t,s,r,d),eR=!1;var p=t.memoizedState;s.state=p,xne(t,r,s,i),f=t.memoizedState,u!==r||p!==f||wm.current||eR?(typeof c=="function"&&(jwe(t,n,c,r),f=t.memoizedState),(u=eR||fje(t,n,u,r,p,f,d))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=d,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,unt(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:F2(t.type,u),s.props=d,h=t.pendingProps,p=s.context,f=n.contextType,typeof f=="object"&&f!==null?f=Zb(f):(f=_m(n)?J5:Wp.current,f=ZF(t,f));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==h||p!==f)&&dje(t,s,r,f),eR=!1,p=t.memoizedState,s.state=p,xne(t,r,s,i);var m=t.memoizedState;u!==h||p!==m||wm.current||eR?(typeof v=="function"&&(jwe(t,n,v,r),m=t.memoizedState),(d=eR||fje(t,n,d,r,p,m,f)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,f),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,f)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=f,r=d):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Vwe(e,t,n,r,a,i)}function Vwe(e,t,n,r,i,a){Fnt(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&oje(t,n,!1),gk(e,t,a);r=t.stateNode,b5t.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=JF(t,e.child,null,a),t.child=JF(t,null,u,a)):q0(e,t,u,a),t.memoizedState=r.state,i&&oje(t,n,!0),t.child}function Nnt(e){var t=e.stateNode;t.pendingContext?aje(e,t.pendingContext,t.pendingContext!==t.context):t.context&&aje(e,t.context,!1),HCe(e,t.containerInfo)}function xje(e,t,n,r,i){return QF(),ICe(i),t.flags|=256,q0(e,t,n,r),t.child}var Wwe={dehydrated:null,treeContext:null,retryLane:0};function Gwe(e){return{baseLanes:e,cachePool:null,transitions:null}}function znt(e,t,n){var r=t.pendingProps,i=Mc.current,a=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),rl(Mc,i&1),e===null)return Nwe(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=eoe(s,r,0,null),e=N5(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Gwe(n),t.memoizedState=Wwe,e):XCe(t,s));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return w5t(e,t,s,r,u,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,u=i.sibling;var f={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=HR(i,f),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?a=HR(u,a):(a=N5(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Gwe(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Wwe,r}return a=e.child,e=a.sibling,r=HR(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function XCe(e,t){return t=eoe({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ZQ(e,t,n,r){return r!==null&&ICe(r),JF(t,e.child,null,n),e=XCe(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w5t(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=Nve(Error(Qn(422))),ZQ(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=eoe({mode:"visible",children:r.children},i,0,null),a=N5(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&JF(t,e.child,null,s),t.child.memoizedState=Gwe(s),t.memoizedState=Wwe,a);if(!(t.mode&1))return ZQ(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,a=Error(Qn(419)),r=Nve(a,r,void 0),ZQ(e,t,s,r)}if(u=(s&e.childLanes)!==0,mm||u){if(r=Nh,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,hk(e,i),c_(r,e,i,-1))}return n$e(),r=Nve(Error(Qn(421))),ZQ(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=P5t.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Q1=NR(i.nextSibling),iy=t,Jl=!0,U2=null,e!==null&&($b[kb++]=H$,$b[kb++]=U$,$b[kb++]=eP,H$=e.id,U$=e.overflow,eP=t),t=XCe(t,r.children),t.flags|=4096,t)}function Sje(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zwe(e.return,t,n)}function zve(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function jnt(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(q0(e,t,r.children,n),r=Mc.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sje(e,n,t);else if(e.tag===19)Sje(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rl(Mc,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sne(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zve(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sne(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zve(t,!0,n,null,a);break;case"together":zve(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ate(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gk(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nP|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Qn(153));if(t.child!==null){for(e=t.child,n=HR(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=HR(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function _5t(e,t,n){switch(t.tag){case 3:Nnt(t),QF();break;case 5:hnt(t);break;case 1:_m(t.type)&&mne(t);break;case 4:HCe(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;rl(wne,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rl(Mc,Mc.current&1),t.flags|=128,null):n&t.child.childLanes?znt(e,t,n):(rl(Mc,Mc.current&1),e=gk(e,t,n),e!==null?e.sibling:null);rl(Mc,Mc.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jnt(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rl(Mc,Mc.current),r)break;return null;case 22:case 23:return t.lanes=0,Int(e,t,n)}return gk(e,t,n)}var Bnt,qwe,Hnt,Unt;Bnt=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qwe=function(){};Hnt=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,m5(VS.current);var a=null;switch(n){case"input":i=pwe(e,i),r=pwe(e,r),a=[];break;case"select":i=Fc({},i,{value:void 0}),r=Fc({},r,{value:void 0}),a=[];break;case"textarea":i=ywe(e,i),r=ywe(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=pne)}wwe(n,r);var s;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(NU.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var f=r[d];if(u=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&f!==u&&(f!=null||u!=null))if(d==="style")if(u){for(s in u)!u.hasOwnProperty(s)||f&&f.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in f)f.hasOwnProperty(s)&&u[s]!==f[s]&&(n||(n={}),n[s]=f[s])}else n||(a||(a=[]),a.push(d,n)),n=f;else d==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,u=u?u.__html:void 0,f!=null&&u!==f&&(a=a||[]).push(d,f)):d==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(d,""+f):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(NU.hasOwnProperty(d)?(f!=null&&d==="onScroll"&&El("scroll",e),a||u===f||(a=[])):(a=a||[]).push(d,f))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};Unt=function(e,t,n,r){n!==r&&(t.flags|=4)};function Lj(e,t){if(!Jl)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yp(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function x5t(e,t,n){var r=t.pendingProps;switch(DCe(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yp(t),null;case 1:return _m(t.type)&&vne(),yp(t),null;case 3:return r=t.stateNode,eN(),Tl(wm),Tl(Wp),VCe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(KQ(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,U2!==null&&(t2e(U2),U2=null))),qwe(e,t),yp(t),null;case 5:UCe(t);var i=m5(XU.current);if(n=t.type,e!==null&&t.stateNode!=null)Hnt(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Qn(166));return yp(t),null}if(e=m5(VS.current),KQ(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ES]=t,r[YU]=a,e=(t.mode&1)!==0,n){case"dialog":El("cancel",r),El("close",r);break;case"iframe":case"object":case"embed":El("load",r);break;case"video":case"audio":for(i=0;i<tH.length;i++)El(tH[i],r);break;case"source":El("error",r);break;case"img":case"image":case"link":El("error",r),El("load",r);break;case"details":El("toggle",r);break;case"input":Mze(r,a),El("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},El("invalid",r);break;case"textarea":Lze(r,a),El("invalid",r)}wwe(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="children"?typeof u=="string"?r.textContent!==u&&(a.suppressHydrationWarning!==!0&&YQ(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(a.suppressHydrationWarning!==!0&&YQ(r.textContent,u,e),i=["children",""+u]):NU.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&El("scroll",r)}switch(n){case"input":jQ(r),Pze(r,a,!0);break;case"textarea":jQ(r),Dze(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=pne)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vtt(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ES]=t,e[YU]=r,Bnt(e,t,!1,!1),t.stateNode=e;e:{switch(s=_we(n,r),n){case"dialog":El("cancel",e),El("close",e),i=r;break;case"iframe":case"object":case"embed":El("load",e),i=r;break;case"video":case"audio":for(i=0;i<tH.length;i++)El(tH[i],e);i=r;break;case"source":El("error",e),i=r;break;case"img":case"image":case"link":El("error",e),El("load",e),i=r;break;case"details":El("toggle",e),i=r;break;case"input":Mze(e,r),i=pwe(e,r),El("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Fc({},r,{value:void 0}),El("invalid",e);break;case"textarea":Lze(e,r),i=ywe(e,r),El("invalid",e);break;default:i=r}wwe(n,i),u=i;for(a in u)if(u.hasOwnProperty(a)){var f=u[a];a==="style"?btt(e,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&mtt(e,f)):a==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&zU(e,f):typeof f=="number"&&zU(e,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(NU.hasOwnProperty(a)?f!=null&&a==="onScroll"&&El("scroll",e):f!=null&&wCe(e,a,f,s))}switch(n){case"input":jQ(e),Pze(e,r,!1);break;case"textarea":jQ(e),Dze(e);break;case"option":r.value!=null&&e.setAttribute("value",""+d3(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?yF(e,!!r.multiple,a,!1):r.defaultValue!=null&&yF(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pne)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yp(t),null;case 6:if(e&&t.stateNode!=null)Unt(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Qn(166));if(n=m5(XU.current),m5(VS.current),KQ(t)){if(r=t.stateNode,n=t.memoizedProps,r[ES]=t,(a=r.nodeValue!==n)&&(e=iy,e!==null))switch(e.tag){case 3:YQ(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&YQ(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ES]=t,t.stateNode=r}return yp(t),null;case 13:if(Tl(Mc),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Jl&&Q1!==null&&t.mode&1&&!(t.flags&128))ont(),QF(),t.flags|=98560,a=!1;else if(a=KQ(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Qn(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Qn(317));a[ES]=t}else QF(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yp(t),a=!1}else U2!==null&&(t2e(U2),U2=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Mc.current&1?Hd===0&&(Hd=3):n$e())),t.updateQueue!==null&&(t.flags|=4),yp(t),null);case 4:return eN(),qwe(e,t),e===null&&GU(t.stateNode.containerInfo),yp(t),null;case 10:return zCe(t.type._context),yp(t),null;case 17:return _m(t.type)&&vne(),yp(t),null;case 19:if(Tl(Mc),a=t.memoizedState,a===null)return yp(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Lj(a,!1);else{if(Hd!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Sne(e),s!==null){for(t.flags|=128,Lj(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rl(Mc,Mc.current&1|2),t.child}e=e.sibling}a.tail!==null&&jf()>nN&&(t.flags|=128,r=!0,Lj(a,!1),t.lanes=4194304)}else{if(!r)if(e=Sne(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Lj(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Jl)return yp(t),null}else 2*jf()-a.renderingStartTime>nN&&n!==1073741824&&(t.flags|=128,r=!0,Lj(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=jf(),t.sibling=null,n=Mc.current,rl(Mc,r?n&1|2:n&1),t):(yp(t),null);case 22:case 23:return t$e(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?q1&1073741824&&(yp(t),t.subtreeFlags&6&&(t.flags|=8192)):yp(t),null;case 24:return null;case 25:return null}throw Error(Qn(156,t.tag))}function S5t(e,t){switch(DCe(t),t.tag){case 1:return _m(t.type)&&vne(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return eN(),Tl(wm),Tl(Wp),VCe(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return UCe(t),null;case 13:if(Tl(Mc),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Qn(340));QF()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Tl(Mc),null;case 4:return eN(),null;case 10:return zCe(t.type._context),null;case 22:case 23:return t$e(),null;case 24:return null;default:return null}}var QQ=!1,Mp=!1,E5t=typeof WeakSet=="function"?WeakSet:Set,oi=null;function Z6(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ff(e,t,r)}else n.current=null}function Ywe(e,t,n){try{n()}catch(r){ff(e,t,r)}}var Eje=!1;function C5t(e,t){if(Twe=dne,e=qtt(),PCe(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,u=-1,f=-1,d=0,c=0,h=e,p=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(u=s+i),h!==a||r!==0&&h.nodeType!==3||(f=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===e)break t;if(p===n&&++d===i&&(u=s),p===a&&++c===r&&(f=s),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=u===-1||f===-1?null:{start:u,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mwe={focusedElem:e,selectionRange:n},dne=!1,oi=t;oi!==null;)if(t=oi,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oi=e;else for(;oi!==null;){t=oi;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,w=m.memoizedState,_=t.stateNode,S=_.getSnapshotBeforeUpdate(t.elementType===t.type?y:F2(t.type,y),w);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qn(163))}}catch($){ff(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,oi=e;break}oi=t.return}return m=Eje,Eje=!1,m}function ZH(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ywe(t,n,a)}i=i.next}while(i!==r)}}function Qae(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Kwe(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vnt(e){var t=e.alternate;t!==null&&(e.alternate=null,Vnt(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ES],delete t[YU],delete t[Dwe],delete t[s5t],delete t[u5t])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wnt(e){return e.tag===5||e.tag===3||e.tag===4}function Cje(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wnt(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xwe(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=pne));else if(r!==4&&(e=e.child,e!==null))for(Xwe(e,t,n),e=e.sibling;e!==null;)Xwe(e,t,n),e=e.sibling}function Zwe(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zwe(e,t,n),e=e.sibling;e!==null;)Zwe(e,t,n),e=e.sibling}var Og=null,j2=!1;function TA(e,t,n){for(n=n.child;n!==null;)Gnt(e,t,n),n=n.sibling}function Gnt(e,t,n){if(US&&typeof US.onCommitFiberUnmount=="function")try{US.onCommitFiberUnmount(Vae,n)}catch{}switch(n.tag){case 5:Mp||Z6(n,t);case 6:var r=Og,i=j2;Og=null,TA(e,t,n),Og=r,j2=i,Og!==null&&(j2?(e=Og,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Og.removeChild(n.stateNode));break;case 18:Og!==null&&(j2?(e=Og,n=n.stateNode,e.nodeType===8?Mve(e.parentNode,n):e.nodeType===1&&Mve(e,n),UU(e)):Mve(Og,n.stateNode));break;case 4:r=Og,i=j2,Og=n.stateNode.containerInfo,j2=!0,TA(e,t,n),Og=r,j2=i;break;case 0:case 11:case 14:case 15:if(!Mp&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ywe(n,t,s),i=i.next}while(i!==r)}TA(e,t,n);break;case 1:if(!Mp&&(Z6(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){ff(n,t,u)}TA(e,t,n);break;case 21:TA(e,t,n);break;case 22:n.mode&1?(Mp=(r=Mp)||n.memoizedState!==null,TA(e,t,n),Mp=r):TA(e,t,n);break;default:TA(e,t,n)}}function $je(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new E5t),t.forEach(function(r){var i=L5t.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function E2(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Og=u.stateNode,j2=!1;break e;case 3:Og=u.stateNode.containerInfo,j2=!0;break e;case 4:Og=u.stateNode.containerInfo,j2=!0;break e}u=u.return}if(Og===null)throw Error(Qn(160));Gnt(a,s,i),Og=null,j2=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(d){ff(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qnt(t,e),t=t.sibling}function qnt(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(E2(t,e),eS(e),r&4){try{ZH(3,e,e.return),Qae(3,e)}catch(y){ff(e,e.return,y)}try{ZH(5,e,e.return)}catch(y){ff(e,e.return,y)}}break;case 1:E2(t,e),eS(e),r&512&&n!==null&&Z6(n,n.return);break;case 5:if(E2(t,e),eS(e),r&512&&n!==null&&Z6(n,n.return),e.flags&32){var i=e.stateNode;try{zU(i,"")}catch(y){ff(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,u=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{u==="input"&&a.type==="radio"&&a.name!=null&&gtt(i,a),_we(u,s);var d=_we(u,a);for(s=0;s<f.length;s+=2){var c=f[s],h=f[s+1];c==="style"?btt(i,h):c==="dangerouslySetInnerHTML"?mtt(i,h):c==="children"?zU(i,h):wCe(i,c,h,d)}switch(u){case"input":vwe(i,a);break;case"textarea":ptt(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?yF(i,!!a.multiple,v,!1):p!==!!a.multiple&&(a.defaultValue!=null?yF(i,!!a.multiple,a.defaultValue,!0):yF(i,!!a.multiple,a.multiple?[]:"",!1))}i[YU]=a}catch(y){ff(e,e.return,y)}}break;case 6:if(E2(t,e),eS(e),r&4){if(e.stateNode===null)throw Error(Qn(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){ff(e,e.return,y)}}break;case 3:if(E2(t,e),eS(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{UU(t.containerInfo)}catch(y){ff(e,e.return,y)}break;case 4:E2(t,e),eS(e);break;case 13:E2(t,e),eS(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(JCe=jf())),r&4&&$je(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Mp=(d=Mp)||c,E2(t,e),Mp=d):E2(t,e),eS(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!c&&e.mode&1)for(oi=e,c=e.child;c!==null;){for(h=oi=c;oi!==null;){switch(p=oi,v=p.child,p.tag){case 0:case 11:case 14:case 15:ZH(4,p,p.return);break;case 1:Z6(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){ff(r,n,y)}}break;case 5:Z6(p,p.return);break;case 22:if(p.memoizedState!==null){Oje(h);continue}}v!==null?(v.return=p,oi=v):Oje(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(u=h.stateNode,f=h.memoizedProps.style,s=f!=null&&f.hasOwnProperty("display")?f.display:null,u.style.display=ytt("display",s))}catch(y){ff(e,e.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){ff(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:E2(t,e),eS(e),r&4&&$je(e);break;case 21:break;default:E2(t,e),eS(e)}}function eS(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wnt(n)){var r=n;break e}n=n.return}throw Error(Qn(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zU(i,""),r.flags&=-33);var a=Cje(e);Zwe(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,u=Cje(e);Xwe(e,u,s);break;default:throw Error(Qn(161))}}catch(f){ff(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $5t(e,t,n){oi=e,Ynt(e)}function Ynt(e,t,n){for(var r=(e.mode&1)!==0;oi!==null;){var i=oi,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||QQ;if(!s){var u=i.alternate,f=u!==null&&u.memoizedState!==null||Mp;u=QQ;var d=Mp;if(QQ=s,(Mp=f)&&!d)for(oi=i;oi!==null;)s=oi,f=s.child,s.tag===22&&s.memoizedState!==null?Aje(i):f!==null?(f.return=s,oi=f):Aje(i);for(;a!==null;)oi=a,Ynt(a),a=a.sibling;oi=i,QQ=u,Mp=d}kje(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,oi=a):kje(e)}}function kje(e){for(;oi!==null;){var t=oi;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mp||Qae(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Mp)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:F2(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&cje(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cje(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var c=d.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&UU(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qn(163))}Mp||t.flags&512&&Kwe(t)}catch(p){ff(t,t.return,p)}}if(t===e){oi=null;break}if(n=t.sibling,n!==null){n.return=t.return,oi=n;break}oi=t.return}}function Oje(e){for(;oi!==null;){var t=oi;if(t===e){oi=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oi=n;break}oi=t.return}}function Aje(e){for(;oi!==null;){var t=oi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qae(4,t)}catch(f){ff(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(f){ff(t,i,f)}}var a=t.return;try{Kwe(t)}catch(f){ff(t,a,f)}break;case 5:var s=t.return;try{Kwe(t)}catch(f){ff(t,s,f)}}}catch(f){ff(t,t.return,f)}if(t===e){oi=null;break}var u=t.sibling;if(u!==null){u.return=t.return,oi=u;break}oi=t.return}}var k5t=Math.ceil,$ne=Ok.ReactCurrentDispatcher,ZCe=Ok.ReactCurrentOwner,Wb=Ok.ReactCurrentBatchConfig,bs=0,Nh=null,hd=null,Dg=0,q1=0,Q6=X3(0),Hd=0,eV=null,nP=0,Jae=0,QCe=0,QH=null,lm=null,JCe=0,nN=1/0,T$=null,kne=!1,Qwe=null,jR=null,JQ=!1,bR=null,One=0,JH=0,Jwe=null,ote=-1,ste=0;function lv(){return bs&6?jf():ote!==-1?ote:ote=jf()}function BR(e){return e.mode&1?bs&2&&Dg!==0?Dg&-Dg:c5t.transition!==null?(ste===0&&(ste=Ttt()),ste):(e=bu,e!==0||(e=window.event,e=e===void 0?16:Ntt(e.type)),e):1}function c_(e,t,n,r){if(50<JH)throw JH=0,Jwe=null,Error(Qn(185));FW(e,n,r),(!(bs&2)||e!==Nh)&&(e===Nh&&(!(bs&2)&&(Jae|=n),Hd===4&&fR(e,Dg)),xm(e,r),n===1&&bs===0&&!(t.mode&1)&&(nN=jf()+500,Kae&&Z3()))}function xm(e,t){var n=e.callbackNode;cMt(e,t);var r=fne(e,e===Nh?Dg:0);if(r===0)n!==null&&Nze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Nze(n),t===1)e.tag===0?l5t(Rje.bind(null,e)):rnt(Rje.bind(null,e)),a5t(function(){!(bs&6)&&Z3()}),n=null;else{switch(Mtt(r)){case 1:n=CCe;break;case 4:n=Att;break;case 16:n=cne;break;case 536870912:n=Rtt;break;default:n=cne}n=nrt(n,Knt.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Knt(e,t){if(ote=-1,ste=0,bs&6)throw Error(Qn(327));var n=e.callbackNode;if(SF()&&e.callbackNode!==n)return null;var r=fne(e,e===Nh?Dg:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ane(e,r);else{t=r;var i=bs;bs|=2;var a=Znt();(Nh!==e||Dg!==t)&&(T$=null,nN=jf()+500,F5(e,t));do try{R5t();break}catch(u){Xnt(e,u)}while(1);NCe(),$ne.current=a,bs=i,hd!==null?t=0:(Nh=null,Dg=0,t=Hd)}if(t!==0){if(t===2&&(i=$we(e),i!==0&&(r=i,t=e2e(e,i))),t===1)throw n=eV,F5(e,0),fR(e,r),xm(e,jf()),n;if(t===6)fR(e,r);else{if(i=e.current.alternate,!(r&30)&&!O5t(i)&&(t=Ane(e,r),t===2&&(a=$we(e),a!==0&&(r=a,t=e2e(e,a))),t===1))throw n=eV,F5(e,0),fR(e,r),xm(e,jf()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Qn(345));case 2:GM(e,lm,T$);break;case 3:if(fR(e,r),(r&130023424)===r&&(t=JCe+500-jf(),10<t)){if(fne(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){lv(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Lwe(GM.bind(null,e,lm,T$),t);break}GM(e,lm,T$);break;case 4:if(fR(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-l_(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=jf()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k5t(r/1960))-r,10<r){e.timeoutHandle=Lwe(GM.bind(null,e,lm,T$),r);break}GM(e,lm,T$);break;case 5:GM(e,lm,T$);break;default:throw Error(Qn(329))}}}return xm(e,jf()),e.callbackNode===n?Knt.bind(null,e):null}function e2e(e,t){var n=QH;return e.current.memoizedState.isDehydrated&&(F5(e,t).flags|=256),e=Ane(e,t),e!==2&&(t=lm,lm=n,t!==null&&t2e(t)),e}function t2e(e){lm===null?lm=e:lm.push.apply(lm,e)}function O5t(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!y_(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fR(e,t){for(t&=~QCe,t&=~Jae,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-l_(t),r=1<<n;e[n]=-1,t&=~r}}function Rje(e){if(bs&6)throw Error(Qn(327));SF();var t=fne(e,0);if(!(t&1))return xm(e,jf()),null;var n=Ane(e,t);if(e.tag!==0&&n===2){var r=$we(e);r!==0&&(t=r,n=e2e(e,r))}if(n===1)throw n=eV,F5(e,0),fR(e,t),xm(e,jf()),n;if(n===6)throw Error(Qn(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,GM(e,lm,T$),xm(e,jf()),null}function e$e(e,t){var n=bs;bs|=1;try{return e(t)}finally{bs=n,bs===0&&(nN=jf()+500,Kae&&Z3())}}function rP(e){bR!==null&&bR.tag===0&&!(bs&6)&&SF();var t=bs;bs|=1;var n=Wb.transition,r=bu;try{if(Wb.transition=null,bu=1,e)return e()}finally{bu=r,Wb.transition=n,bs=t,!(bs&6)&&Z3()}}function t$e(){q1=Q6.current,Tl(Q6)}function F5(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,i5t(n)),hd!==null)for(n=hd.return;n!==null;){var r=n;switch(DCe(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vne();break;case 3:eN(),Tl(wm),Tl(Wp),VCe();break;case 5:UCe(r);break;case 4:eN();break;case 13:Tl(Mc);break;case 19:Tl(Mc);break;case 10:zCe(r.type._context);break;case 22:case 23:t$e()}n=n.return}if(Nh=e,hd=e=HR(e.current,null),Dg=q1=t,Hd=0,eV=null,QCe=Jae=nP=0,lm=QH=null,v5!==null){for(t=0;t<v5.length;t++)if(n=v5[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}v5=null}return e}function Xnt(e,t){do{var n=hd;try{if(NCe(),rte.current=Cne,Ene){for(var r=Lc.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ene=!1}if(tP=0,Th=jd=Lc=null,XH=!1,ZU=0,ZCe.current=null,n===null||n.return===null){Hd=1,eV=t,hd=null;break}e:{var a=e,s=n.return,u=n,f=t;if(t=Dg,u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var d=f,c=u,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=mje(s);if(v!==null){v.flags&=-257,yje(v,s,u,a,t),v.mode&1&&vje(a,d,t),t=v,f=d;var m=t.updateQueue;if(m===null){var y=new Set;y.add(f),t.updateQueue=y}else m.add(f);break e}else{if(!(t&1)){vje(a,d,t),n$e();break e}f=Error(Qn(426))}}else if(Jl&&u.mode&1){var w=mje(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),yje(w,s,u,a,t),ICe(tN(f,u));break e}}a=f=tN(f,u),Hd!==4&&(Hd=2),QH===null?QH=[a]:QH.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var _=Pnt(a,f,t);lje(a,_);break e;case 1:u=f;var S=a.type,C=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(jR===null||!jR.has(C)))){a.flags|=65536,t&=-t,a.lanes|=t;var $=Lnt(a,u,t);lje(a,$);break e}}a=a.return}while(a!==null)}Jnt(n)}catch(k){t=k,hd===n&&n!==null&&(hd=n=n.return);continue}break}while(1)}function Znt(){var e=$ne.current;return $ne.current=Cne,e===null?Cne:e}function n$e(){(Hd===0||Hd===3||Hd===2)&&(Hd=4),Nh===null||!(nP&268435455)&&!(Jae&268435455)||fR(Nh,Dg)}function Ane(e,t){var n=bs;bs|=2;var r=Znt();(Nh!==e||Dg!==t)&&(T$=null,F5(e,t));do try{A5t();break}catch(i){Xnt(e,i)}while(1);if(NCe(),bs=n,$ne.current=r,hd!==null)throw Error(Qn(261));return Nh=null,Dg=0,Hd}function A5t(){for(;hd!==null;)Qnt(hd)}function R5t(){for(;hd!==null&&!tMt();)Qnt(hd)}function Qnt(e){var t=trt(e.alternate,e,q1);e.memoizedProps=e.pendingProps,t===null?Jnt(e):hd=t,ZCe.current=null}function Jnt(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=S5t(n,t),n!==null){n.flags&=32767,hd=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Hd=6,hd=null;return}}else if(n=x5t(n,t,q1),n!==null){hd=n;return}if(t=t.sibling,t!==null){hd=t;return}hd=t=e}while(t!==null);Hd===0&&(Hd=5)}function GM(e,t,n){var r=bu,i=Wb.transition;try{Wb.transition=null,bu=1,T5t(e,t,n,r)}finally{Wb.transition=i,bu=r}return null}function T5t(e,t,n,r){do SF();while(bR!==null);if(bs&6)throw Error(Qn(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Qn(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(fMt(e,a),e===Nh&&(hd=Nh=null,Dg=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||JQ||(JQ=!0,nrt(cne,function(){return SF(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Wb.transition,Wb.transition=null;var s=bu;bu=1;var u=bs;bs|=4,ZCe.current=null,C5t(e,n),qnt(n,e),ZMt(Mwe),dne=!!Twe,Mwe=Twe=null,e.current=n,$5t(n),nMt(),bs=u,bu=s,Wb.transition=a}else e.current=n;if(JQ&&(JQ=!1,bR=e,One=i),a=e.pendingLanes,a===0&&(jR=null),aMt(n.stateNode),xm(e,jf()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kne)throw kne=!1,e=Qwe,Qwe=null,e;return One&1&&e.tag!==0&&SF(),a=e.pendingLanes,a&1?e===Jwe?JH++:(JH=0,Jwe=e):JH=0,Z3(),null}function SF(){if(bR!==null){var e=Mtt(One),t=Wb.transition,n=bu;try{if(Wb.transition=null,bu=16>e?16:e,bR===null)var r=!1;else{if(e=bR,bR=null,One=0,bs&6)throw Error(Qn(331));var i=bs;for(bs|=4,oi=e.current;oi!==null;){var a=oi,s=a.child;if(oi.flags&16){var u=a.deletions;if(u!==null){for(var f=0;f<u.length;f++){var d=u[f];for(oi=d;oi!==null;){var c=oi;switch(c.tag){case 0:case 11:case 15:ZH(8,c,a)}var h=c.child;if(h!==null)h.return=c,oi=h;else for(;oi!==null;){c=oi;var p=c.sibling,v=c.return;if(Vnt(c),c===d){oi=null;break}if(p!==null){p.return=v,oi=p;break}oi=v}}}var m=a.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}oi=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,oi=s;else e:for(;oi!==null;){if(a=oi,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ZH(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,oi=_;break e}oi=a.return}}var S=e.current;for(oi=S;oi!==null;){s=oi;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,oi=C;else e:for(s=S;oi!==null;){if(u=oi,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Qae(9,u)}}catch(k){ff(u,u.return,k)}if(u===s){oi=null;break e}var $=u.sibling;if($!==null){$.return=u.return,oi=$;break e}oi=u.return}}if(bs=i,Z3(),US&&typeof US.onPostCommitFiberRoot=="function")try{US.onPostCommitFiberRoot(Vae,e)}catch{}r=!0}return r}finally{bu=n,Wb.transition=t}}return!1}function Tje(e,t,n){t=tN(n,t),t=Pnt(e,t,1),e=zR(e,t,1),t=lv(),e!==null&&(FW(e,1,t),xm(e,t))}function ff(e,t,n){if(e.tag===3)Tje(e,e,n);else for(;t!==null;){if(t.tag===3){Tje(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jR===null||!jR.has(r))){e=tN(n,e),e=Lnt(t,e,1),t=zR(t,e,1),e=lv(),t!==null&&(FW(t,1,e),xm(t,e));break}}t=t.return}}function M5t(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=lv(),e.pingedLanes|=e.suspendedLanes&n,Nh===e&&(Dg&n)===n&&(Hd===4||Hd===3&&(Dg&130023424)===Dg&&500>jf()-JCe?F5(e,0):QCe|=n),xm(e,t)}function ert(e,t){t===0&&(e.mode&1?(t=UQ,UQ<<=1,!(UQ&130023424)&&(UQ=4194304)):t=1);var n=lv();e=hk(e,t),e!==null&&(FW(e,t,n),xm(e,n))}function P5t(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ert(e,n)}function L5t(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Qn(314))}r!==null&&r.delete(t),ert(e,n)}var trt;trt=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||wm.current)mm=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mm=!1,_5t(e,t,n);mm=!!(e.flags&131072)}else mm=!1,Jl&&t.flags&1048576&&int(t,bne,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ate(e,t),e=t.pendingProps;var i=ZF(t,Wp.current);xF(t,n),i=GCe(null,t,r,e,i,n);var a=qCe();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_m(r)?(a=!0,mne(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,BCe(t),i.updater=Xae,t.stateNode=i,i._reactInternals=t,Bwe(t,r,e,n),t=Vwe(null,t,r,!0,a,n)):(t.tag=0,Jl&&a&&LCe(t),q0(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ate(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=I5t(r),e=F2(r,e),i){case 0:t=Uwe(null,t,r,e,n);break e;case 1:t=_je(null,t,r,e,n);break e;case 11:t=bje(null,t,r,e,n);break e;case 14:t=wje(null,t,r,F2(r.type,e),n);break e}throw Error(Qn(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:F2(r,i),Uwe(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:F2(r,i),_je(e,t,r,i,n);case 3:e:{if(Nnt(t),e===null)throw Error(Qn(387));r=t.pendingProps,a=t.memoizedState,i=a.element,unt(e,t),xne(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=tN(Error(Qn(423)),t),t=xje(e,t,r,n,i);break e}else if(r!==i){i=tN(Error(Qn(424)),t),t=xje(e,t,r,n,i);break e}else for(Q1=NR(t.stateNode.containerInfo.firstChild),iy=t,Jl=!0,U2=null,n=dnt(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(QF(),r===i){t=gk(e,t,n);break e}q0(e,t,r,n)}t=t.child}return t;case 5:return hnt(t),e===null&&Nwe(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Pwe(r,i)?s=null:a!==null&&Pwe(r,a)&&(t.flags|=32),Fnt(e,t),q0(e,t,s,n),t.child;case 6:return e===null&&Nwe(t),null;case 13:return znt(e,t,n);case 4:return HCe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=JF(t,null,r,n):q0(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:F2(r,i),bje(e,t,r,i,n);case 7:return q0(e,t,t.pendingProps,n),t.child;case 8:return q0(e,t,t.pendingProps.children,n),t.child;case 12:return q0(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,rl(wne,r._currentValue),r._currentValue=s,a!==null)if(y_(a.value,s)){if(a.children===i.children&&!wm.current){t=gk(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){s=a.child;for(var f=u.firstContext;f!==null;){if(f.context===r){if(a.tag===1){f=J$(-1,n&-n),f.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var c=d.pending;c===null?f.next=f:(f.next=c.next,c.next=f),d.pending=f}}a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),zwe(a.return,n,t),u.lanes|=n;break}f=f.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Qn(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),zwe(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}q0(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xF(t,n),i=Zb(i),r=r(i),t.flags|=1,q0(e,t,r,n),t.child;case 14:return r=t.type,i=F2(r,t.pendingProps),i=F2(r.type,i),wje(e,t,r,i,n);case 15:return Dnt(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:F2(r,i),ate(e,t),t.tag=1,_m(r)?(e=!0,mne(t)):e=!1,xF(t,n),cnt(t,r,i),Bwe(t,r,i,n),Vwe(null,t,r,!0,e,n);case 19:return jnt(e,t,n);case 22:return Int(e,t,n)}throw Error(Qn(156,t.tag))};function nrt(e,t){return Ott(e,t)}function D5t(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Db(e,t,n,r){return new D5t(e,t,n,r)}function r$e(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I5t(e){if(typeof e=="function")return r$e(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xCe)return 11;if(e===SCe)return 14}return 2}function HR(e,t){var n=e.alternate;return n===null?(n=Db(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ute(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")r$e(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case H6:return N5(n.children,i,a,t);case _Ce:s=8,i|=8;break;case fwe:return e=Db(12,n,t,i|2),e.elementType=fwe,e.lanes=a,e;case dwe:return e=Db(13,n,t,i),e.elementType=dwe,e.lanes=a,e;case hwe:return e=Db(19,n,t,i),e.elementType=hwe,e.lanes=a,e;case ftt:return eoe(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ltt:s=10;break e;case ctt:s=9;break e;case xCe:s=11;break e;case SCe:s=14;break e;case JA:s=16,r=null;break e}throw Error(Qn(130,e==null?e:typeof e,""))}return t=Db(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function N5(e,t,n,r){return e=Db(7,e,r,t),e.lanes=n,e}function eoe(e,t,n,r){return e=Db(22,e,r,t),e.elementType=ftt,e.lanes=n,e.stateNode={isHidden:!1},e}function jve(e,t,n){return e=Db(6,e,null,t),e.lanes=n,e}function Bve(e,t,n){return t=Db(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function F5t(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_ve(0),this.expirationTimes=_ve(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_ve(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function i$e(e,t,n,r,i,a,s,u,f){return e=new F5t(e,t,n,u,f),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Db(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},BCe(a),e}function N5t(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B6,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rrt(e){if(!e)return h3;e=e._reactInternals;e:{if(ZP(e)!==e||e.tag!==1)throw Error(Qn(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_m(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Qn(171))}if(e.tag===1){var n=e.type;if(_m(n))return nnt(e,n,t)}return t}function irt(e,t,n,r,i,a,s,u,f){return e=i$e(n,r,!0,e,i,a,s,u,f),e.context=rrt(null),n=e.current,r=lv(),i=BR(n),a=J$(r,i),a.callback=t??null,zR(n,a,i),e.current.lanes=i,FW(e,i,r),xm(e,r),e}function toe(e,t,n,r){var i=t.current,a=lv(),s=BR(i);return n=rrt(n),t.context===null?t.context=n:t.pendingContext=n,t=J$(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zR(i,t,s),e!==null&&(c_(e,i,s,a),nte(e,i,s)),s}function Rne(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Mje(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function a$e(e,t){Mje(e,t),(e=e.alternate)&&Mje(e,t)}function z5t(){return null}var art=typeof reportError=="function"?reportError:function(e){console.error(e)};function o$e(e){this._internalRoot=e}noe.prototype.render=o$e.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Qn(409));toe(e,t,null,null)};noe.prototype.unmount=o$e.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rP(function(){toe(null,e,null,null)}),t[dk]=null}};function noe(e){this._internalRoot=e}noe.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dtt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cR.length&&t!==0&&t<cR[n].priority;n++);cR.splice(n,0,e),n===0&&Ftt(e)}};function s$e(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function roe(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pje(){}function j5t(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var d=Rne(s);a.call(d)}}var s=irt(t,r,e,0,null,!1,!1,"",Pje);return e._reactRootContainer=s,e[dk]=s.current,GU(e.nodeType===8?e.parentNode:e),rP(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var d=Rne(f);u.call(d)}}var f=i$e(e,0,!1,null,null,!1,!1,"",Pje);return e._reactRootContainer=f,e[dk]=f.current,GU(e.nodeType===8?e.parentNode:e),rP(function(){toe(t,f,n,r)}),f}function ioe(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var u=i;i=function(){var f=Rne(s);u.call(f)}}toe(t,s,e,i)}else s=j5t(n,t,e,i,r);return Rne(s)}Ptt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=eH(t.pendingLanes);n!==0&&($Ce(t,n|1),xm(t,jf()),!(bs&6)&&(nN=jf()+500,Z3()))}break;case 13:rP(function(){var r=hk(e,1);if(r!==null){var i=lv();c_(r,e,1,i)}}),a$e(e,1)}};kCe=function(e){if(e.tag===13){var t=hk(e,134217728);if(t!==null){var n=lv();c_(t,e,134217728,n)}a$e(e,134217728)}};Ltt=function(e){if(e.tag===13){var t=BR(e),n=hk(e,t);if(n!==null){var r=lv();c_(n,e,t,r)}a$e(e,t)}};Dtt=function(){return bu};Itt=function(e,t){var n=bu;try{return bu=e,t()}finally{bu=n}};Swe=function(e,t,n){switch(t){case"input":if(vwe(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Yae(r);if(!i)throw Error(Qn(90));htt(r),vwe(r,i)}}}break;case"textarea":ptt(e,n);break;case"select":t=n.value,t!=null&&yF(e,!!n.multiple,t,!1)}};xtt=e$e;Stt=rP;var B5t={usingClientEntryPoint:!1,Events:[zW,G6,Yae,wtt,_tt,e$e]},Dj={findFiberByHostInstance:p5,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},H5t={bundleType:Dj.bundleType,version:Dj.version,rendererPackageName:Dj.rendererPackageName,rendererConfig:Dj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ok.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$tt(e),e===null?null:e.stateNode},findFiberByHostInstance:Dj.findFiberByHostInstance||z5t,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eJ=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eJ.isDisabled&&eJ.supportsFiber)try{Vae=eJ.inject(H5t),US=eJ}catch{}}yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B5t;yy.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s$e(t))throw Error(Qn(200));return N5t(e,t,null,n)};yy.createRoot=function(e,t){if(!s$e(e))throw Error(Qn(299));var n=!1,r="",i=art;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=i$e(e,1,!1,null,null,n,!1,r,i),e[dk]=t.current,GU(e.nodeType===8?e.parentNode:e),new o$e(t)};yy.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Qn(188)):(e=Object.keys(e).join(","),Error(Qn(268,e)));return e=$tt(t),e=e===null?null:e.stateNode,e};yy.flushSync=function(e){return rP(e)};yy.hydrate=function(e,t,n){if(!roe(t))throw Error(Qn(200));return ioe(null,e,t,!0,n)};yy.hydrateRoot=function(e,t,n){if(!s$e(e))throw Error(Qn(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=art;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=irt(t,null,e,1,n??null,i,!1,a,s),e[dk]=t.current,GU(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new noe(t)};yy.render=function(e,t,n){if(!roe(t))throw Error(Qn(200));return ioe(null,e,t,!1,n)};yy.unmountComponentAtNode=function(e){if(!roe(e))throw Error(Qn(40));return e._reactRootContainer?(rP(function(){ioe(null,null,e,!1,function(){e._reactRootContainer=null,e[dk]=null})}),!0):!1};yy.unstable_batchedUpdates=e$e;yy.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!roe(n))throw Error(Qn(200));if(e==null||e._reactInternals===void 0)throw Error(Qn(38));return ioe(e,t,n,!1,r)};yy.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),e.exports=yy})(z4t);const U5t=DW(Xb);var Lje=Xb;uwe.createRoot=Lje.createRoot,uwe.hydrateRoot=Lje.hydrateRoot;class _8{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.push(t),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(n=>n!==t),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const tV=typeof window>"u"||"Deno"in window;function Eb(){}function V5t(e,t){return typeof e=="function"?e(t):e}function n2e(e){return typeof e=="number"&&e>=0&&e!==1/0}function ort(e,t){return Math.max(e+(t||0)-Date.now(),0)}function nH(e,t,n){return BW(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function W5t(e,t,n){return BW(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function tR(e,t,n){return BW(e)?[{...t,queryKey:e},n]:[e||{},t]}function Dje(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:u}=e;if(BW(s)){if(r){if(t.queryHash!==u$e(s,t.options))return!1}else if(!Tne(t.queryKey,s))return!1}if(n!=="all"){const f=t.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||typeof i<"u"&&i!==t.state.fetchStatus||a&&!a(t))}function Ije(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:a}=e;if(BW(a)){if(!t.options.mutationKey)return!1;if(n){if(y5(t.options.mutationKey)!==y5(a))return!1}else if(!Tne(t.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function u$e(e,t){return((t==null?void 0:t.queryKeyHashFn)||y5)(e)}function y5(e){return JSON.stringify(e,(t,n)=>i2e(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Tne(e,t){return srt(e,t)}function srt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!srt(e[n],t[n])):!1}function urt(e,t){if(e===t)return e;const n=Fje(e)&&Fje(t);if(n||i2e(e)&&i2e(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,s=n?[]:{};let u=0;for(let f=0;f<a;f++){const d=n?f:i[f];s[d]=urt(e[d],t[d]),s[d]===e[d]&&u++}return r===a&&u===r?e:s}return t}function r2e(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Fje(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function i2e(e){if(!Nje(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Nje(n)||!n.hasOwnProperty("isPrototypeOf"))}function Nje(e){return Object.prototype.toString.call(e)==="[object Object]"}function BW(e){return Array.isArray(e)}function lrt(e){return new Promise(t=>{setTimeout(t,e)})}function zje(e){lrt(0).then(e)}function G5t(){if(typeof AbortController=="function")return new AbortController}function a2e(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?urt(e,t):t}class q5t extends _8{constructor(){super(),this.setup=t=>{if(!tV&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused=t,t&&this.onFocus()}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Mne=new q5t;class Y5t extends _8{constructor(){super(),this.setup=t=>{if(!tV&&window.addEventListener){const n=()=>t();return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online=t,t&&this.onOnline()}onOnline(){this.listeners.forEach(t=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Pne=new Y5t;function K5t(e){return Math.min(1e3*2**e,3e4)}function aoe(e){return(e??"online")==="online"?Pne.isOnline():!0}class crt{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function lte(e){return e instanceof crt}function frt(e){let t=!1,n=0,r=!1,i,a,s;const u=new Promise((w,_)=>{a=w,s=_}),f=w=>{r||(v(new crt(w)),e.abort==null||e.abort())},d=()=>{t=!0},c=()=>{t=!1},h=()=>!Mne.isFocused()||e.networkMode!=="always"&&!Pne.isOnline(),p=w=>{r||(r=!0,e.onSuccess==null||e.onSuccess(w),i==null||i(),a(w))},v=w=>{r||(r=!0,e.onError==null||e.onError(w),i==null||i(),s(w))},m=()=>new Promise(w=>{i=_=>{const S=r||!h();return S&&w(_),S},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),y=()=>{if(r)return;let w;try{w=e.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(p).catch(_=>{var S,C;if(r)return;const $=(S=e.retry)!=null?S:3,k=(C=e.retryDelay)!=null?C:K5t,M=typeof k=="function"?k(n,_):k,A=$===!0||typeof $=="number"&&n<$||typeof $=="function"&&$(n,_);if(t||!A){v(_);return}n++,e.onFail==null||e.onFail(n,_),lrt(M).then(()=>{if(h())return m()}).then(()=>{t?v(_):y()})})};return aoe(e.networkMode)?y():m().then(y),{promise:u,cancel:f,continue:()=>(i==null?void 0:i())?u:Promise.resolve(),cancelRetry:d,continueRetry:c}}const l$e=console;function X5t(){let e=[],t=0,n=c=>{c()},r=c=>{c()};const i=c=>{let h;t++;try{h=c()}finally{t--,t||u()}return h},a=c=>{t?e.push(c):zje(()=>{n(c)})},s=c=>(...h)=>{a(()=>{c(...h)})},u=()=>{const c=e;e=[],c.length&&zje(()=>{r(()=>{c.forEach(h=>{n(h)})})})};return{batch:i,batchCalls:s,schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}const df=X5t();class drt{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),n2e(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(tV?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Z5t extends drt{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||l$e,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||Q5t(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=a2e(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(Eb).catch(Eb):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!ort(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(m=>m.options.queryFn);v&&this.setOptions(v.options)}Array.isArray(this.options.queryKey);const s=G5t(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>{if(s)return this.abortSignalConsumed=!0,s.signal}})};f(u);const d=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(u)):Promise.reject("Missing queryFn"),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};if(f(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var h;this.dispatch({type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta})}const p=v=>{if(lte(v)&&v.silent||this.dispatch({type:"error",error:v}),!lte(v)){var m,y,w,_;(m=(y=this.cache.config).onError)==null||m.call(y,v,this),(w=(_=this.cache.config).onSettled)==null||w.call(_,this.state.data,v,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=frt({fn:c.fetchFn,abort:s==null?void 0:s.abort.bind(s),onSuccess:v=>{var m,y,w,_;if(typeof v>"u"){p(new Error("undefined"));return}this.setData(v),(m=(y=this.cache.config).onSuccess)==null||m.call(y,v,this),(w=(_=this.cache.config).onSettled)==null||w.call(_,v,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(v,m)=>{this.dispatch({type:"failed",failureCount:v,error:m})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,a;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:aoe(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return lte(s)&&s.revert&&this.revertState?{...this.revertState}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),df.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function Q5t(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class J5t extends _8{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const a=n.queryKey,s=(i=n.queryHash)!=null?i:u$e(a,n);let u=this.get(s);return u||(u=new Z5t({cache:this,logger:t.getLogger(),queryKey:a,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(u)),u}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){df.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=tR(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>Dje(r,i))}findAll(t,n){const[r]=tR(t,n);return Object.keys(r).length>0?this.queries.filter(i=>Dje(r,i)):this.queries}notify(t){df.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){df.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){df.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class ePt extends drt{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||l$e,this.observers=[],this.state=t.state||hrt(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var A;return this.retryer=frt({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(L,N)=>{this.dispatch({type:"failed",failureCount:L,error:N})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(A=this.options.retry)!=null?A:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,a,s,u,f,d,c;if(!n){var h,p,v,m;this.dispatch({type:"loading",variables:this.options.variables}),await((h=(p=this.mutationCache.config).onMutate)==null?void 0:h.call(p,this.state.variables,this));const L=await((v=(m=this.options).onMutate)==null?void 0:v.call(m,this.state.variables));L!==this.state.context&&this.dispatch({type:"loading",context:L,variables:this.state.variables})}const A=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,A,this.state.variables,this.state.context,this)),await((a=(s=this.options).onSuccess)==null?void 0:a.call(s,A,this.state.variables,this.state.context)),await((u=(f=this.mutationCache.config).onSettled)==null?void 0:u.call(f,A,null,this.state.variables,this.state.context,this)),await((d=(c=this.options).onSettled)==null?void 0:d.call(c,A,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:A}),A}catch(A){try{var y,w,_,S,C,$,k,M;throw await((y=(w=this.mutationCache.config).onError)==null?void 0:y.call(w,A,this.state.variables,this.state.context,this)),await((_=(S=this.options).onError)==null?void 0:_.call(S,A,this.state.variables,this.state.context)),await((C=($=this.mutationCache.config).onSettled)==null?void 0:C.call($,void 0,A,this.state.variables,this.state.context,this)),await((k=(M=this.options).onSettled)==null?void 0:k.call(M,void 0,A,this.state.variables,this.state.context)),A}finally{this.dispatch({type:"error",error:A})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!aoe(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),df.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function hrt(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class tPt extends _8{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new ePt({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){df.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>Ije(t,n))}findAll(t){return this.mutations.filter(n=>Ije(t,n))}notify(t){df.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return df.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Eb)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function nPt(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,a,s;const u=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,f=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,d=f==null?void 0:f.pageParam,c=(f==null?void 0:f.direction)==="forward",h=(f==null?void 0:f.direction)==="backward",p=((a=e.state.data)==null?void 0:a.pages)||[],v=((s=e.state.data)==null?void 0:s.pageParams)||[];let m=v,y=!1;const w=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>{var A;if((A=e.signal)!=null&&A.aborted)y=!0;else{var L;(L=e.signal)==null||L.addEventListener("abort",()=>{y=!0})}return e.signal}})},_=e.options.queryFn||(()=>Promise.reject("Missing queryFn")),S=(M,A,L,N)=>(m=N?[A,...m]:[...m,A],N?[L,...M]:[...M,L]),C=(M,A,L,N)=>{if(y)return Promise.reject("Cancelled");if(typeof L>"u"&&!A&&M.length)return Promise.resolve(M);const R={queryKey:e.queryKey,pageParam:L,meta:e.options.meta};w(R);const D=_(R);return Promise.resolve(D).then(U=>S(M,L,U,N))};let $;if(!p.length)$=C([]);else if(c){const M=typeof d<"u",A=M?d:jje(e.options,p);$=C(p,M,A)}else if(h){const M=typeof d<"u",A=M?d:rPt(e.options,p);$=C(p,M,A,!0)}else{m=[];const M=typeof e.options.getNextPageParam>"u";$=(u&&p[0]?u(p[0],0,p):!0)?C([],M,v[0]):Promise.resolve(S([],v[0],p[0]));for(let L=1;L<p.length;L++)$=$.then(N=>{if(u&&p[L]?u(p[L],L,p):!0){const D=M?v[L]:jje(e.options,N);return C(N,M,D)}return Promise.resolve(S(N,v[L],p[L]))})}return $.then(M=>({pages:M,pageParams:m}))}}}}function jje(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function rPt(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class iPt{constructor(t={}){this.queryCache=t.queryCache||new J5t,this.mutationCache=t.mutationCache||new tPt,this.logger=t.logger||l$e,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Mne.subscribe(()=>{Mne.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Pne.subscribe(()=>{Pne.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=tR(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=nH(t,n,r),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),a=i==null?void 0:i.state.data,s=V5t(n,a);if(typeof s>"u")return;const u=nH(t),f=this.defaultQueryOptions(u);return this.queryCache.build(this,f).setData(s,{...r,manual:!0})}setQueriesData(t,n,r){return df.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=tR(t,n),i=this.queryCache;df.batch(()=>{i.findAll(r).forEach(a=>{i.remove(a)})})}resetQueries(t,n,r){const[i,a]=tR(t,n,r),s=this.queryCache,u={type:"active",...i};return df.batch(()=>(s.findAll(i).forEach(f=>{f.reset()}),this.refetchQueries(u,a)))}cancelQueries(t,n,r){const[i,a={}]=tR(t,n,r);typeof a.revert>"u"&&(a.revert=!0);const s=df.batch(()=>this.queryCache.findAll(i).map(u=>u.cancel(a)));return Promise.all(s).then(Eb).catch(Eb)}invalidateQueries(t,n,r){const[i,a]=tR(t,n,r);return df.batch(()=>{var s,u;if(this.queryCache.findAll(i).forEach(d=>{d.invalidate()}),i.refetchType==="none")return Promise.resolve();const f={...i,type:(s=(u=i.refetchType)!=null?u:i.type)!=null?s:"active"};return this.refetchQueries(f,a)})}refetchQueries(t,n,r){const[i,a]=tR(t,n,r),s=df.batch(()=>this.queryCache.findAll(i).filter(f=>!f.isDisabled()).map(f=>{var d;return f.fetch(void 0,{...a,cancelRefetch:(d=a==null?void 0:a.cancelRefetch)!=null?d:!0,meta:{refetchPage:i.refetchPage}})}));let u=Promise.all(s).then(Eb);return a!=null&&a.throwOnError||(u=u.catch(Eb)),u}fetchQuery(t,n,r){const i=nH(t,n,r),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const s=this.queryCache.build(this,a);return s.isStaleByTime(a.staleTime)?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(Eb).catch(Eb)}fetchInfiniteQuery(t,n,r){const i=nH(t,n,r);return i.behavior=nPt(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(Eb).catch(Eb)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>y5(t)===y5(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>Tne(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>y5(t)===y5(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>Tne(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=u$e(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class aPt extends _8{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Bje(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return o2e(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return o2e(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),r2e(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&Hje(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const s=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Eb)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),tV||this.currentResult.isStale||!n2e(this.options.staleTime))return;const n=ort(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(tV||this.options.enabled===!1||!n2e(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Mne.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,i=this.options,a=this.currentResult,s=this.currentResultState,u=this.currentResultOptions,f=t!==r,d=f?t.state:this.currentQueryInitialState,c=f?this.currentResult:this.previousQueryResult,{state:h}=t;let{dataUpdatedAt:p,error:v,errorUpdatedAt:m,fetchStatus:y,status:w}=h,_=!1,S=!1,C;if(n._optimisticResults){const L=this.hasListeners(),N=!L&&Bje(t,n),R=L&&Hje(t,r,n,i);(N||R)&&(y=aoe(t.options.networkMode)?"fetching":"paused",p||(w="loading")),n._optimisticResults==="isRestoring"&&(y="idle")}if(n.keepPreviousData&&!h.dataUpdatedAt&&c!=null&&c.isSuccess&&w!=="error")C=c.data,p=c.dataUpdatedAt,w=c.status,_=!0;else if(n.select&&typeof h.data<"u")if(a&&h.data===(s==null?void 0:s.data)&&n.select===this.selectFn)C=this.selectResult;else try{this.selectFn=n.select,C=n.select(h.data),C=a2e(a==null?void 0:a.data,C,n),this.selectResult=C,this.selectError=null}catch(L){this.selectError=L}else C=h.data;if(typeof n.placeholderData<"u"&&typeof C>"u"&&w==="loading"){let L;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData))L=a.data;else if(L=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof L<"u")try{L=n.select(L),this.selectError=null}catch(N){this.selectError=N}typeof L<"u"&&(w="success",C=a2e(a==null?void 0:a.data,L,n),S=!0)}this.selectError&&(v=this.selectError,C=this.selectResult,m=Date.now(),w="error");const $=y==="fetching",k=w==="loading",M=w==="error";return{status:w,fetchStatus:y,isLoading:k,isSuccess:w==="success",isError:M,isInitialLoading:k&&$,data:C,dataUpdatedAt:p,error:v,errorUpdatedAt:m,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:$,isRefetching:$&&!k,isLoadingError:M&&h.dataUpdatedAt===0,isPaused:y==="paused",isPlaceholderData:S,isPreviousData:_,isRefetchError:M&&h.dataUpdatedAt!==0,isStale:c$e(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,r2e(r,n))return;this.currentResult=r;const i={cache:!0},a=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options;if(s==="all"||!s&&!this.trackedProps.size)return!0;const u=new Set(s??this.trackedProps);return this.options.useErrorBoundary&&u.add("error"),Object.keys(this.currentResult).some(f=>{const d=f;return this.currentResult[d]!==n[d]&&u.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!lte(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){df.batch(()=>{if(t.onSuccess){var n,r,i,a;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(t.onError){var s,u,f,d;(s=(u=this.options).onError)==null||s.call(u,this.currentResult.error),(f=(d=this.options).onSettled)==null||f.call(d,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(c=>{c(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function oPt(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Bje(e,t){return oPt(e,t)||e.state.dataUpdatedAt>0&&o2e(e,t,t.refetchOnMount)}function o2e(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&c$e(e,t)}return!1}function Hje(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&c$e(e,n)}function c$e(e,t){return e.isStaleByTime(t.staleTime)}let sPt=class extends _8{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),r2e(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.listeners.length){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:hrt(),n={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(t){df.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,i,a;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var s,u,f,d;(s=(u=this.mutateOptions).onError)==null||s.call(u,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(f=(d=this.mutateOptions).onSettled)==null||f.call(d,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(c=>{c(this.currentResult)})})}};var Lne={},uPt={get exports(){return Lne},set exports(e){Lne=e}},grt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN=z;function lPt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cPt=typeof Object.is=="function"?Object.is:lPt,fPt=rN.useState,dPt=rN.useEffect,hPt=rN.useLayoutEffect,gPt=rN.useDebugValue;function pPt(e,t){var n=t(),r=fPt({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return hPt(function(){i.value=n,i.getSnapshot=t,Hve(i)&&a({inst:i})},[e,n,t]),dPt(function(){return Hve(i)&&a({inst:i}),e(function(){Hve(i)&&a({inst:i})})},[e]),gPt(n),n}function Hve(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cPt(e,n)}catch{return!0}}function vPt(e,t){return t()}var mPt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vPt:pPt;grt.useSyncExternalStore=rN.useSyncExternalStore!==void 0?rN.useSyncExternalStore:mPt;(function(e){e.exports=grt})(uPt);const prt=Lne.useSyncExternalStore,Uje=z.createContext(void 0),vrt=z.createContext(!1);function mrt(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Uje),window.ReactQueryClientContext):Uje)}const yrt=({context:e}={})=>{const t=z.useContext(mrt(e,z.useContext(vrt)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},yPt=({client:e,children:t,context:n,contextSharing:r=!1})=>{z.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=mrt(n,r);return z.createElement(vrt.Provider,{value:!n&&r},z.createElement(i.Provider,{value:e},t))},brt=z.createContext(!1),bPt=()=>z.useContext(brt);brt.Provider;function wPt(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const _Pt=z.createContext(wPt()),xPt=()=>z.useContext(_Pt);function wrt(e,t){return typeof e=="function"?e(...t):!!e}const SPt=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},EPt=e=>{z.useEffect(()=>{e.clearReset()},[e])},CPt=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&wrt(n,[e.error,r]),$Pt=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},kPt=(e,t)=>e.isLoading&&e.isFetching&&!t,OPt=(e,t,n)=>(e==null?void 0:e.suspense)&&kPt(t,n),APt=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function RPt(e,t){const n=yrt({context:e.context}),r=bPt(),i=xPt(),a=n.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=df.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=df.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=df.batchCalls(a.onSettled)),$Pt(a),SPt(a,i),EPt(i);const[s]=z.useState(()=>new t(n,a)),u=s.getOptimisticResult(a);if(prt(z.useCallback(f=>r?()=>{}:s.subscribe(df.batchCalls(f)),[s,r]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),z.useEffect(()=>{s.setOptions(a,{listeners:!1})},[a,s]),OPt(a,u,r))throw APt(a,s,i);if(CPt({result:u,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:s.getCurrentQuery()}))throw u.error;return a.notifyOnChangeProps?u:s.trackResult(u)}function _rt(e,t,n){const r=nH(e,t,n);return RPt(r,aPt)}function TPt(e,t,n){const r=W5t(e,t,n),i=yrt({context:r.context}),[a]=z.useState(()=>new sPt(i,r));z.useEffect(()=>{a.setOptions(r)},[a,r]);const s=prt(z.useCallback(f=>a.subscribe(df.batchCalls(f)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u=z.useCallback((f,d)=>{a.mutate(f,d).catch(MPt)},[a]);if(s.error&&wrt(a.options.useErrorBoundary,[s.error]))throw s.error;return{...s,mutate:u,mutateAsync:s.mutate}}function MPt(){}var MS={},yf={},PPt={get exports(){return yf},set exports(e){yf=e}};(function(e){var t,n,r,i,a,s,u,f,d,c,h,p,v,m,y,w,_,S,C,$,k,M,A,L,N;(function(R){var D=typeof $e=="object"?$e:typeof self=="object"?self:typeof this=="object"?this:{};R(j(D,j(e.exports)));function j(U,H){return U!==D&&(typeof Object.create=="function"?Object.defineProperty(U,"__esModule",{value:!0}):U.__esModule=!0),function(Y,Z){return U[Y]=H?H(Y,Z):Z}}})(function(R){var D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,H){U.__proto__=H}||function(U,H){for(var Y in H)Object.prototype.hasOwnProperty.call(H,Y)&&(U[Y]=H[Y])};t=function(U,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");D(U,H);function Y(){this.constructor=U}U.prototype=H===null?Object.create(H):(Y.prototype=H.prototype,new Y)},n=Object.assign||function(U){for(var H,Y=1,Z=arguments.length;Y<Z;Y++){H=arguments[Y];for(var Q in H)Object.prototype.hasOwnProperty.call(H,Q)&&(U[Q]=H[Q])}return U},r=function(U,H){var Y={};for(var Z in U)Object.prototype.hasOwnProperty.call(U,Z)&&H.indexOf(Z)<0&&(Y[Z]=U[Z]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,Z=Object.getOwnPropertySymbols(U);Q<Z.length;Q++)H.indexOf(Z[Q])<0&&Object.prototype.propertyIsEnumerable.call(U,Z[Q])&&(Y[Z[Q]]=U[Z[Q]]);return Y},i=function(U,H,Y,Z){var Q=arguments.length,ee=Q<3?H:Z===null?Z=Object.getOwnPropertyDescriptor(H,Y):Z,oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(U,H,Y,Z);else for(var ue=U.length-1;ue>=0;ue--)(oe=U[ue])&&(ee=(Q<3?oe(ee):Q>3?oe(H,Y,ee):oe(H,Y))||ee);return Q>3&&ee&&Object.defineProperty(H,Y,ee),ee},a=function(U,H){return function(Y,Z){H(Y,Z,U)}},s=function(U,H){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(U,H)},u=function(U,H,Y,Z){function Q(ee){return ee instanceof Y?ee:new Y(function(oe){oe(ee)})}return new(Y||(Y=Promise))(function(ee,oe){function ue(de){try{le(Z.next(de))}catch(me){oe(me)}}function ve(de){try{le(Z.throw(de))}catch(me){oe(me)}}function le(de){de.done?ee(de.value):Q(de.value).then(ue,ve)}le((Z=Z.apply(U,H||[])).next())})},f=function(U,H){var Y={label:0,sent:function(){if(ee[0]&1)throw ee[1];return ee[1]},trys:[],ops:[]},Z,Q,ee,oe;return oe={next:ue(0),throw:ue(1),return:ue(2)},typeof Symbol=="function"&&(oe[Symbol.iterator]=function(){return this}),oe;function ue(le){return function(de){return ve([le,de])}}function ve(le){if(Z)throw new TypeError("Generator is already executing.");for(;oe&&(oe=0,le[0]&&(Y=0)),Y;)try{if(Z=1,Q&&(ee=le[0]&2?Q.return:le[0]?Q.throw||((ee=Q.return)&&ee.call(Q),0):Q.next)&&!(ee=ee.call(Q,le[1])).done)return ee;switch(Q=0,ee&&(le=[le[0]&2,ee.value]),le[0]){case 0:case 1:ee=le;break;case 4:return Y.label++,{value:le[1],done:!1};case 5:Y.label++,Q=le[1],le=[0];continue;case 7:le=Y.ops.pop(),Y.trys.pop();continue;default:if(ee=Y.trys,!(ee=ee.length>0&&ee[ee.length-1])&&(le[0]===6||le[0]===2)){Y=0;continue}if(le[0]===3&&(!ee||le[1]>ee[0]&&le[1]<ee[3])){Y.label=le[1];break}if(le[0]===6&&Y.label<ee[1]){Y.label=ee[1],ee=le;break}if(ee&&Y.label<ee[2]){Y.label=ee[2],Y.ops.push(le);break}ee[2]&&Y.ops.pop(),Y.trys.pop();continue}le=H.call(U,Y)}catch(de){le=[6,de],Q=0}finally{Z=ee=0}if(le[0]&5)throw le[1];return{value:le[0]?le[1]:void 0,done:!0}}},d=function(U,H){for(var Y in U)Y!=="default"&&!Object.prototype.hasOwnProperty.call(H,Y)&&N(H,U,Y)},N=Object.create?function(U,H,Y,Z){Z===void 0&&(Z=Y);var Q=Object.getOwnPropertyDescriptor(H,Y);(!Q||("get"in Q?!H.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return H[Y]}}),Object.defineProperty(U,Z,Q)}:function(U,H,Y,Z){Z===void 0&&(Z=Y),U[Z]=H[Y]},c=function(U){var H=typeof Symbol=="function"&&Symbol.iterator,Y=H&&U[H],Z=0;if(Y)return Y.call(U);if(U&&typeof U.length=="number")return{next:function(){return U&&Z>=U.length&&(U=void 0),{value:U&&U[Z++],done:!U}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")},h=function(U,H){var Y=typeof Symbol=="function"&&U[Symbol.iterator];if(!Y)return U;var Z=Y.call(U),Q,ee=[],oe;try{for(;(H===void 0||H-- >0)&&!(Q=Z.next()).done;)ee.push(Q.value)}catch(ue){oe={error:ue}}finally{try{Q&&!Q.done&&(Y=Z.return)&&Y.call(Z)}finally{if(oe)throw oe.error}}return ee},p=function(){for(var U=[],H=0;H<arguments.length;H++)U=U.concat(h(arguments[H]));return U},v=function(){for(var U=0,H=0,Y=arguments.length;H<Y;H++)U+=arguments[H].length;for(var Z=Array(U),Q=0,H=0;H<Y;H++)for(var ee=arguments[H],oe=0,ue=ee.length;oe<ue;oe++,Q++)Z[Q]=ee[oe];return Z},m=function(U,H,Y){if(Y||arguments.length===2)for(var Z=0,Q=H.length,ee;Z<Q;Z++)(ee||!(Z in H))&&(ee||(ee=Array.prototype.slice.call(H,0,Z)),ee[Z]=H[Z]);return U.concat(ee||Array.prototype.slice.call(H))},y=function(U){return this instanceof y?(this.v=U,this):new y(U)},w=function(U,H,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=Y.apply(U,H||[]),Q,ee=[];return Q={},oe("next"),oe("throw"),oe("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function oe(Se){Z[Se]&&(Q[Se]=function(Ee){return new Promise(function(xe,Ie){ee.push([Se,Ee,xe,Ie])>1||ue(Se,Ee)})})}function ue(Se,Ee){try{ve(Z[Se](Ee))}catch(xe){me(ee[0][3],xe)}}function ve(Se){Se.value instanceof y?Promise.resolve(Se.value.v).then(le,de):me(ee[0][2],Se)}function le(Se){ue("next",Se)}function de(Se){ue("throw",Se)}function me(Se,Ee){Se(Ee),ee.shift(),ee.length&&ue(ee[0][0],ee[0][1])}},_=function(U){var H,Y;return H={},Z("next"),Z("throw",function(Q){throw Q}),Z("return"),H[Symbol.iterator]=function(){return this},H;function Z(Q,ee){H[Q]=U[Q]?function(oe){return(Y=!Y)?{value:y(U[Q](oe)),done:Q==="return"}:ee?ee(oe):oe}:ee}},S=function(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H=U[Symbol.asyncIterator],Y;return H?H.call(U):(U=typeof c=="function"?c(U):U[Symbol.iterator](),Y={},Z("next"),Z("throw"),Z("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function Z(ee){Y[ee]=U[ee]&&function(oe){return new Promise(function(ue,ve){oe=U[ee](oe),Q(ue,ve,oe.done,oe.value)})}}function Q(ee,oe,ue,ve){Promise.resolve(ve).then(function(le){ee({value:le,done:ue})},oe)}},C=function(U,H){return Object.defineProperty?Object.defineProperty(U,"raw",{value:H}):U.raw=H,U};var j=Object.create?function(U,H){Object.defineProperty(U,"default",{enumerable:!0,value:H})}:function(U,H){U.default=H};$=function(U){if(U&&U.__esModule)return U;var H={};if(U!=null)for(var Y in U)Y!=="default"&&Object.prototype.hasOwnProperty.call(U,Y)&&N(H,U,Y);return j(H,U),H},k=function(U){return U&&U.__esModule?U:{default:U}},M=function(U,H,Y,Z){if(Y==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof H=="function"?U!==H||!Z:!H.has(U))throw new TypeError("Cannot read private member from an object whose class did not declare it");return Y==="m"?Z:Y==="a"?Z.call(U):Z?Z.value:H.get(U)},A=function(U,H,Y,Z,Q){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!Q)throw new TypeError("Private accessor was defined without a setter");if(typeof H=="function"?U!==H||!Q:!H.has(U))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?Q.call(U,Y):Q?Q.value=Y:H.set(U,Y),Y},L=function(U,H){if(H===null||typeof H!="object"&&typeof H!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof U=="function"?H===U:U.has(H)},R("__extends",t),R("__assign",n),R("__rest",r),R("__decorate",i),R("__param",a),R("__metadata",s),R("__awaiter",u),R("__generator",f),R("__exportStar",d),R("__createBinding",N),R("__values",c),R("__read",h),R("__spread",p),R("__spreadArrays",v),R("__spreadArray",m),R("__await",y),R("__asyncGenerator",w),R("__asyncDelegator",_),R("__asyncValues",S),R("__makeTemplateObject",C),R("__importStar",$),R("__importDefault",k),R("__classPrivateFieldGet",M),R("__classPrivateFieldSet",A),R("__classPrivateFieldIn",L)})})(PPt);var Uve={},Vve={},Dne=(...e)=>{},LPt=function(e,t){if(typeof e!="string")throw new TypeError("Expected a string");for(var n=String(e),r="",i=t?!!t.extended:!1,a=t?!!t.globstar:!1,s=!1,u=t&&typeof t.flags=="string"?t.flags:"",f,d=0,c=n.length;d<c;d++)switch(f=n[d],f){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":r+="\\"+f;break;case"?":if(i){r+=".";break}case"[":case"]":if(i){r+=f;break}case"{":if(i){s=!0,r+="(";break}case"}":if(i){s=!1,r+=")";break}case",":if(s){r+="|";break}r+="\\"+f;break;case"*":for(var h=n[d-1],p=1;n[d+1]==="*";)p++,d++;var v=n[d+1];if(!a)r+=".*";else{var m=p>1&&(h==="/"||h===void 0)&&(v==="/"||v===void 0);m?(r+="((?:[^/]*(?:/|$))*)",d++):r+="([^/]*)"}break;default:r+=f}return(!u||!~u.indexOf("g"))&&(r="^"+r+"$"),new RegExp(r,u)};const DPt=LPt;var IPt=Object.freeze({InvalidFrontendApiErrorMessage:"The frontendApi passed to Clerk is invalid. You can get your Frontend API key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys."});function FPt({packageName:e,customMessages:t}){let n=e,r={...IPt,...t};function i(a,s){if(!s)return`${n}: ${a}`;let u=a,f=a.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(let d of f){let c=(s[d[1]]||"").toString();u=u.replace(`{{${d[1]}}}`,c)}return`${n}: ${u}`}return{setPackageName({packageName:a}){return typeof a=="string"&&(n=a),this},setMessages({customMessages:a}){return Object.assign(r,a||{}),this},throwInvalidPublishableKeyError(a){throw new Error(i(r.InvalidPublishableKeyErrorMessage,a))},throwInvalidFrontendApiError(a){throw new Error(i(r.InvalidFrontendApiErrorMessage,a))},throwInvalidProxyUrl(a){throw new Error(i(r.InvalidProxyUrlErrorMessage,a))},throwMissingPublishableKeyError(){throw new Error(i(r.MissingPublishableKeyErrorMessage))}}}var NPt=e=>{if(e.length==0)return"";if(e.length==1)return e[0];let t=e.slice(0,-1).join(", ");return t+=`, or ${e.slice(-1)}`,t};function f$e(){return typeof window<"u"}var zPt=["bot","spider","crawl","APIs-Google","AdsBot","Googlebot","mediapartners","Google Favicon","FeedFetcher","Google-Read-Aloud","DuplexWeb-Google","googleweblight","bing","yandex","baidu","duckduck","yahoo","ecosia","ia_archiver","facebook","instagram","pinterest","reddit","slack","twitter","whatsapp","youtube","semrush"],jPt=new RegExp(zPt.join("|"),"i");function xrt(e){return e?jPt.test(e):!1}function Srt(){let e=window==null?void 0:window.navigator;return!f$e()||!e?!1:!xrt(e==null?void 0:e.userAgent)&&!(e!=null&&e.webdriver)}function Ert(){var n,r;let e=window==null?void 0:window.navigator;if(!f$e()||!e)return!1;let t=e==null?void 0:e.onLine;return((n=e==null?void 0:e.connection)==null?void 0:n.rtt)!==0&&((r=e==null?void 0:e.connection)==null?void 0:r.downlink)!==0&&t}function BPt(){return Ert()&&Srt()}var HPt=/^#?([A-F0-9]{6}|[A-F0-9]{3})$/i,UPt=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/i,VPt=/^rgba\((\d+),\s*(\d+),\s*(\d+)(,\s*\d+(\.\d+)?)\)$/i,WPt=/^hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)$/i,GPt=/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%(,\s*\d+(\.\d+)?)*\)$/i,ooe=e=>!!e.match(HPt),d$e=e=>!!(e.match(UPt)||e.match(VPt)),h$e=e=>!!e.match(WPt)||!!e.match(GPt),Crt=e=>typeof e!="string"&&"r"in e,$rt=e=>typeof e!="string"&&"h"in e,g$e=e=>e==="transparent",qPt=e=>typeof e!="string"&&e.a!=null&&e.a<1,YPt=/[hsla()]/g,KPt=/[rgba()]/g,XPt=e=>e==="transparent"?{h:0,s:0,l:0,a:0}:ooe(e)?eLt(e):h$e(e)?Trt(e):d$e(e)?Art(e):null,ZPt=e=>(e=e.trim(),ooe(e)?e.startsWith("#")?e:`#${e}`:d$e(e)?Rrt(e):h$e(e)?Trt(e):g$e(e)?e:""),krt=e=>typeof e=="string"&&(ooe(e)||g$e(e))?e:Crt(e)?QPt(e):$rt(e)?JPt(e):"",Ort=e=>{e=e.replace("#","");let t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return{r:t,g:n,b:r}},QPt=e=>{let{a:t,b:n,g:r,r:i}=e;return e.a===0?"transparent":e.a!=null?`rgba(${i},${r},${n},${t})`:`rgb(${i},${r},${n})`},JPt=e=>{let{h:t,s:n,l:r,a:i}=e,a=Math.round(n*100),s=Math.round(r*100);return e.a===0?"transparent":e.a!=null?`hsla(${t},${a}%,${s}%,${i})`:`hsl(${t},${a}%,${s}%)`},eLt=e=>{let t=krt(Ort(e));return Art(t)},Art=e=>{let t=Rrt(e),n=t.r/255,r=t.g/255,i=t.b/255,a=Math.max(n,r,i),s=Math.min(n,r,i),u,f,d=(a+s)/2;if(a==s)u=f=0;else{let p=a-s;switch(f=d>=.5?p/(2-(a+s)):p/(a+s),a){case n:u=(r-i)/p*60;break;case r:u=((i-n)/p+2)*60;break;default:u=((n-r)/p+4)*60;break}}let c={h:Math.round(u),s:f,l:d},h=t.a;return h!=null&&(c.a=h),c},Rrt=e=>{let[t,n,r,i]=e.replace(KPt,"").split(",").map(a=>Number.parseFloat(a));return{r:t,g:n,b:r,a:i}},Trt=e=>{let[t,n,r,i]=e.replace(YPt,"").split(",").map(a=>Number.parseFloat(a));return{h:t,s:n/100,l:r/100,a:i}};function tJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var tLt={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function s2e(e,t){function n(i,a,s){if(!(typeof document>"u")){s=tJ({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var f in s)s[f]&&(u+="; "+f,s[f]!==!0&&(u+="="+s[f].split(";")[0]));return document.cookie=i+"="+e.write(a,i)+u}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var a=document.cookie?document.cookie.split("; "):[],s={},u=0;u<a.length;u++){var f=a[u].split("="),d=f.slice(1).join("=");try{var c=decodeURIComponent(f[0]);if(s[c]=e.read(d,c),i===c)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,a){n(i,"",tJ({},a,{expires:-1}))},withAttributes:function(i){return s2e(this.converter,tJ({},this.attributes,i))},withConverter:function(i){return s2e(tJ({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var nLt=s2e(tLt,{path:"/"}),Wve=nLt;function rLt(e){return{get(){return Wve.get(e)},set(t,n={}){return Wve.set(e,t,n)},remove(t){Wve.remove(e,t)}}}var iLt=()=>{let e=Dne,t=Dne;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}};function aLt(e){return e?e.toLocaleString("en-US",{hour:"2-digit",minute:"numeric",hour12:!0}):""}function Mrt(e,t,{absolute:n=!0}={}){if(!e||!t)return 0;let r=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),a=Math.floor((i-r)/864e5);return n?Math.abs(a):a}function Ine(e){try{return new Date(e||new Date)}catch{return new Date}}function oLt(e){let{date:t,relativeTo:n}=e;if(!t||!n)return null;let r=Ine(t),i=Ine(n),a=Mrt(i,r,{absolute:!1});return a<-6?{relativeDateCase:"other",date:r}:a<-1?{relativeDateCase:"previous6Days",date:r}:a===-1?{relativeDateCase:"lastDay",date:r}:a===0?{relativeDateCase:"sameDay",date:r}:a===1?{relativeDateCase:"nextDay",date:r}:a<7?{relativeDateCase:"next6Days",date:r}:{relativeDateCase:"other",date:r}}function sLt(e,t){let n=Ine(e);return n.setFullYear(n.getFullYear()+t),n}function uLt(e){var n,r;let t=e==null?void 0:e.status;return((r=(n=e==null?void 0:e.errors)==null?void 0:n[0])==null?void 0:r.code)==="authentication_invalid"&&t===401}function lLt(e){return(`${e.message}${e.name}`||"").toLowerCase().replace(/\s+/g,"").includes("networkerror")}function cLt(e){return new Promise((t,n)=>{let r=new FileReader;r.addEventListener("load",function(){let i=JSON.parse(r.result);t(i)}),r.addEventListener("error",n),r.readAsText(e)})}var p$e=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,v$e="pk_live_",Prt="pk_test_",fLt=/^(([a-z]+)-){2}([0-9]{1,2})\.clerk\.accounts([a-z.]*)(dev|com)$/i;function dLt(e){return`${fLt.test(e)?Prt:v$e}${btoa(`${e}$`)}`}function hLt(e){if(e=e||"",!Lrt(e))return null;let t=e.startsWith(v$e)?"production":"development",n=p$e(e.split("_")[2]);return n.endsWith("$")?(n=n.slice(0,-1),{instanceType:t,frontendApi:n}):null}function Lrt(e){e=e||"";let t=e.startsWith(v$e)||e.startsWith(Prt),n=p$e(e.split("_")[2]||"").endsWith("$");return t&&n}function gLt(e){return e=e||"",e.startsWith("clerk.")}function pLt(){let e=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],t=new Map;return{isDevOrStagingUrl:n=>{if(!n)return!1;let r=typeof n=="string"?n:n.hostname,i=t.get(r);return i===void 0&&(i=e.some(a=>r.endsWith(a)),t.set(r,i)),i}}}function vLt(){if(!window.matchMedia)return!1;let e=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");return e&&e.matches||window.devicePixelRatio>1}var mLt="__lsbc__",yLt=class{constructor(t){this.eventTarget=window,this.postMessage=n=>{try{localStorage.setItem(this.channelKey,JSON.stringify(n)),localStorage.removeItem(this.channelKey)}catch{}},this.addEventListener=(n,r)=>{this.eventTarget.addEventListener(this.prefixEventName(n),i=>{r(i)})},this.setupLocalStorageListener=()=>{let n=r=>{if(!(r.key!==this.channelKey||!r.newValue))try{let i=JSON.parse(r.newValue||""),a=new MessageEvent(this.prefixEventName("message"),{data:i});this.eventTarget.dispatchEvent(a)}catch{}};window.addEventListener("storage",n)},this.channelKey=mLt+t,this.setupLocalStorageListener()}prefixEventName(t){return this.channelKey+t}},bLt=Object.freeze({"image/png":"png","image/jpeg":"jpg","image/gif":"gif","image/webp":"webp","image/x-icon":"ico","image/vnd.microsoft.icon":"ico"}),wLt=e=>bLt[e];function _Lt(e,t,n){if(typeof e=="function")return e(t);if(typeof e<"u")return e;if(typeof n<"u")return n}var xLt=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;function SLt(e){return xLt.test(e||"")}function ELt(e){let t=e||"";return t.charAt(0).toUpperCase()+t.slice(1)}function Drt(e){return e?e.replace(/([-_][a-z])/g,t=>t.toUpperCase().replace(/-|_/,"")):""}function Irt(e){return e?e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`):""}var Frt=e=>{let t=n=>{if(!n)return n;if(Array.isArray(n))return n.map(a=>typeof a=="object"||Array.isArray(a)?t(a):a);let r={...n},i=Object.keys(r);for(let a of i){let s=e(a.toString());s!==a&&(r[s]=r[a],delete r[a]),typeof r[s]=="object"&&(r[s]=t(r[s]))}return r};return t},CLt=Frt(Irt),$Lt=Frt(Drt),Vje=`const respond=r=>{self.postMessage(r)},workerToTabIds={};self.addEventListener("message",r=>{const e=r.data;switch(e.type){case"setTimeout":workerToTabIds[e.id]=setTimeout(()=>{respond({id:e.id})},e.ms);break;case"clearTimeout":workerToTabIds[e.id]&&(clearTimeout(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break;case"setInterval":workerToTabIds[e.id]=setInterval(()=>{respond({id:e.id})},e.ms);break;case"clearInterval":workerToTabIds[e.id]&&(clearInterval(workerToTabIds[e.id]),delete workerToTabIds[e.id]);break}});
`,Wje=(e,t={})=>{if(typeof Worker>"u")return null;try{let n=new Blob([e],{type:"application/javascript; charset=utf-8"}),r=globalThis.URL.createObjectURL(n);return new Worker(r,t)}catch{return console.warn("Clerk: Cannot create worker from blob. Consider adding worker-src blob:; to your CSP"),null}},kLt=()=>{let e=globalThis.setTimeout.bind(globalThis),t=globalThis.setInterval.bind(globalThis),n=globalThis.clearTimeout.bind(globalThis),r=globalThis.clearInterval.bind(globalThis);return{setTimeout:e,setInterval:t,clearTimeout:n,clearInterval:r,cleanup:Dne}},Nrt=()=>{let e=0,t=()=>e++,n=new Map,r=(u,f)=>u==null?void 0:u.postMessage(f),i=u=>{var f;(f=n.get(u.data.id))==null||f()},a=Wje(Vje,{name:"clerk-timers"});if(a==null||a.addEventListener("message",i),!a)return kLt();let s=()=>{a||(a=Wje(Vje,{name:"clerk-timers"}),a==null||a.addEventListener("message",i))};return{setTimeout:(u,f)=>{s();let d=t();return n.set(d,u),r(a,{type:"setTimeout",id:d,ms:f}),d},setInterval:(u,f)=>{s();let d=t();return n.set(d,u),r(a,{type:"setInterval",id:d,ms:f}),d},clearTimeout:u=>{s(),n.delete(u),r(a,{type:"clearTimeout",id:u})},clearInterval:u=>{s(),n.delete(u),r(a,{type:"clearInterval",id:u})},cleanup:()=>{a&&(a.terminate(),a=null,n.clear())}}};function OLt({delayInMs:e}={delayInMs:1e3}){let t=Nrt(),n,r=!1,i=()=>{n&&(t.clearTimeout(n),t.cleanup()),r=!0},a=async s=>{r=!1,await s(i),!r&&(n=t.setTimeout(()=>{a(s)},e))};return{run:a,stop:i}}function ALt(e){return e?zrt(e)||m$e(e):!0}function zrt(e){return/^http(s)?:\/\//.test(e||"")}function m$e(e){return e.startsWith("/")}function RLt(e){return e?m$e(e)?new URL(e,window.location.origin).toString():e:""}function TLt({request:e,relativePath:t}){var u;let{headers:n,url:r}=e,i=new URL(r),a=n.get("X-Forwarded-Host")??n.get("host")??n.host??i.host,s=((u=n.get("X-Forwarded-Proto")??n["X-Forwarded-Proto"])==null?void 0:u.split(",")[0])??i.protocol;return s=s.replace(/[:/]/,""),new URL(t||i.pathname,`${s}://${a}`)}var MLt=()=>typeof window<"u";function PLt(e=""){return e.startsWith("?")&&(e=e.slice(1)),new URLSearchParams(e)}function LLt(e=""){return(e||"").replace(/^.+:\/\//,"")}function DLt(e){if(!e)return"";let t;if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}return`clerk.${e.replace(t,"")}`}var ILt={firstDelay:125,maxDelay:0,timeMultiple:2,shouldRetry:()=>!0},FLt=async e=>new Promise(t=>setTimeout(t,e)),NLt=e=>{let t=0,n=()=>{let r=e.firstDelay,i=e.timeMultiple,a=r*Math.pow(i,t);return Math.min(e.maxDelay||a,a)};return async()=>{await FLt(n()),t++}},zLt=async(e,t={})=>{let n=0,{shouldRetry:r,firstDelay:i,maxDelay:a,timeMultiple:s}={...ILt,...t},u=NLt({firstDelay:i,maxDelay:a,timeMultiple:s});for(;;)try{return await e()}catch(f){if(n++,!r(f,n))throw f;await u()}},jLt={toRegexp:e=>{try{return DPt(e)}catch(t){throw new Error(`Invalid pattern: ${e}.
Consult the documentation of glob-to-regexp here: https://www.npmjs.com/package/glob-to-regexp.
${t.message}`)}}};function jrt(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}var x8=(e,t)=>{let{assertCtxFn:n=jrt}=t||{},r=Xe.createContext(void 0);return r.displayName=e,[r,()=>{let i=Xe.useContext(r);return n(i,`${e} not found`),i.value},()=>{let i=Xe.useContext(r);return i?i.value:{}}]};function Brt(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function u(c){try{d(r.next(c))}catch(h){s(h)}}function f(c){try{d(r.throw(c))}catch(h){s(h)}}function d(c){c.done?a(c.value):i(c.value).then(u,f)}d((r=r.apply(e,t||[])).next())})}function Hrt(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(d){return function(c){return f([d,c])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(c){d=[6,c],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var PS=function(){},gm=PS(),cte=Object,Y0=function(e){return e===gm},wR=function(e){return typeof e=="function"},g3=function(e,t){return cte.assign({},e,t)},y$e="undefined",b$e=function(){return typeof window!=y$e},BLt=function(){return typeof document!=y$e},HLt=function(){return b$e()&&typeof window.requestAnimationFrame!=y$e},nJ=new WeakMap,ULt=0,nV=function(e){var t=typeof e,n=e&&e.constructor,r=n==Date,i,a;if(cte(e)===e&&!r&&n!=RegExp){if(i=nJ.get(e),i)return i;if(i=++ULt+"~",nJ.set(e,i),n==Array){for(i="@",a=0;a<e.length;a++)i+=nV(e[a])+",";nJ.set(e,i)}if(n==cte){i="#";for(var s=cte.keys(e).sort();!Y0(a=s.pop());)Y0(e[a])||(i+=a+":"+nV(e[a])+",");nJ.set(e,i)}}else i=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return i},u2e=!0,VLt=function(){return u2e},Urt=b$e(),w$e=BLt(),l2e=Urt&&window.addEventListener?window.addEventListener.bind(window):PS,WLt=w$e?document.addEventListener.bind(document):PS,c2e=Urt&&window.removeEventListener?window.removeEventListener.bind(window):PS,GLt=w$e?document.removeEventListener.bind(document):PS,qLt=function(){var e=w$e&&document.visibilityState;return Y0(e)||e!=="hidden"},YLt=function(e){return WLt("visibilitychange",e),l2e("focus",e),function(){GLt("visibilitychange",e),c2e("focus",e)}},KLt=function(e){var t=function(){u2e=!0,e()},n=function(){u2e=!1};return l2e("online",t),l2e("offline",n),function(){c2e("online",t),c2e("offline",n)}},XLt={isOnline:VLt,isVisible:qLt},ZLt={initFocus:YLt,initReconnect:KLt},soe=!b$e()||"Deno"in window,QLt=function(e){return HLt()?window.requestAnimationFrame(e):setTimeout(e,1)},fte=soe?z.useEffect:z.useLayoutEffect,Gve=typeof navigator<"u"&&navigator.connection,Gje=!soe&&Gve&&(["slow-2g","2g"].includes(Gve.effectiveType)||Gve.saveData),Vrt=function(e){if(wR(e))try{e=e()}catch{e=""}var t=[].concat(e);e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?nV(e):"";var n=e?"$swr$"+e:"";return[e,t,n]},b5=new WeakMap,Wrt=0,Grt=1,qrt=2,eU=function(e,t,n,r,i,a,s){s===void 0&&(s=!0);var u=b5.get(e),f=u[0],d=u[1],c=u[3],h=f[t],p=d[t];if(s&&p)for(var v=0;v<p.length;++v)p[v](n,r,i);return a&&(delete c[t],h&&h[0])?h[0](qrt).then(function(){return e.get(t)}):e.get(t)},JLt=0,f2e=function(){return++JLt},Yrt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Brt(void 0,void 0,void 0,function(){var n,r,i,a,s,u,f,d,c,h,p,v,m,y,w,_,S,C,$,k,M;return Hrt(this,function(A){switch(A.label){case 0:if(n=e[0],r=e[1],i=e[2],a=e[3],s=typeof a=="boolean"?{revalidate:a}:a||{},u=Y0(s.populateCache)?!0:s.populateCache,f=s.revalidate!==!1,d=s.rollbackOnError!==!1,c=s.optimisticData,h=Vrt(r),p=h[0],v=h[2],!p)return[2];if(m=b5.get(n),y=m[2],e.length<3)return[2,eU(n,p,n.get(p),gm,gm,f,!0)];if(w=i,S=f2e(),y[p]=[S,0],C=!Y0(c),$=n.get(p),C&&(k=wR(c)?c($):c,n.set(p,k),eU(n,p,k)),wR(w))try{w=w(n.get(p))}catch(L){_=L}return w&&wR(w.then)?[4,w.catch(function(L){_=L})]:[3,2];case 1:if(w=A.sent(),S!==y[p][0]){if(_)throw _;return[2,w]}else _&&C&&d&&(u=!0,w=$,n.set(p,$));A.label=2;case 2:return u&&(_||(wR(u)&&(w=u(w,$)),n.set(p,w)),n.set(v,g3(n.get(v),{error:_}))),y[p][1]=f2e(),[4,eU(n,p,w,_,gm,f,!!u)];case 3:if(M=A.sent(),_)throw _;return[2,u?M:w]}})})},qje=function(e,t){for(var n in e)e[n][0]&&e[n][0](t)},eDt=function(e,t){if(!b5.has(e)){var n=g3(ZLt,t),r={},i=Yrt.bind(gm,e),a=PS;if(b5.set(e,[r,{},{},{},i]),!soe){var s=n.initFocus(setTimeout.bind(gm,qje.bind(gm,r,Wrt))),u=n.initReconnect(setTimeout.bind(gm,qje.bind(gm,r,Grt)));a=function(){s&&s(),u&&u(),b5.delete(e)}}return[e,i,a]}return[e,b5.get(e)[4]]},tDt=function(e,t,n,r,i){var a=n.errorRetryCount,s=i.retryCount,u=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!Y0(a)&&s>a||setTimeout(r,u,i)},Krt=eDt(new Map),nDt=Krt[0],rDt=Krt[1],iDt=g3({onLoadingSlow:PS,onSuccess:PS,onError:PS,onErrorRetry:tDt,onDiscarded:PS,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Gje?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Gje?5e3:3e3,compare:function(e,t){return nV(e)==nV(t)},isPaused:function(){return!1},cache:nDt,mutate:rDt,fallback:{}},XLt),aDt=function(e,t){var n=g3(e,t);if(t){var r=e.use,i=e.fallback,a=t.use,s=t.fallback;r&&a&&(n.use=r.concat(a)),i&&s&&(n.fallback=g3(i,s))}return n},oDt=z.createContext({}),sDt=function(e,t){var n=z.useState({})[1],r=z.useRef(e),i=z.useRef({data:!1,error:!1,isValidating:!1}),a=z.useCallback(function(s){var u=!1,f=r.current;for(var d in s){var c=d;f[c]!==s[c]&&(f[c]=s[c],i.current[c]&&(u=!0))}u&&!t.current&&n({})},[]);return fte(function(){r.current=e}),[r,i.current,a]},uDt=function(e){return wR(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}]},lDt=function(){return g3(iDt,z.useContext(oDt))},cDt=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=lDt(),i=uDt(t),a=i[0],s=i[1],u=i[2],f=aDt(r,u),d=e,c=f.use;if(c)for(var h=c.length;h-- >0;)d=c[h](d);return d(a,s||f.fetcher,f)}},Yje=function(e,t,n){var r=t[e]||(t[e]=[]);return r.push(n),function(){var i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}},qve={dedupe:!0},fDt=function(e,t,n){var r=n.cache,i=n.compare,a=n.fallbackData,s=n.suspense,u=n.revalidateOnMount,f=n.refreshInterval,d=n.refreshWhenHidden,c=n.refreshWhenOffline,h=b5.get(r),p=h[0],v=h[1],m=h[2],y=h[3],w=Vrt(e),_=w[0],S=w[1],C=w[2],$=z.useRef(!1),k=z.useRef(!1),M=z.useRef(_),A=z.useRef(t),L=z.useRef(n),N=function(){return L.current},R=function(){return N().isVisible()&&N().isOnline()},D=function(xe){return r.set(C,g3(r.get(C),xe))},j=r.get(_),U=Y0(a)?n.fallback[_]:a,H=Y0(j)?U:j,Y=r.get(C)||{},Z=Y.error,Q=!$.current,ee=function(){return Q&&!Y0(u)?u:N().isPaused()?!1:s?Y0(H)?!1:n.revalidateIfStale:Y0(H)||n.revalidateIfStale},oe=function(){return!_||!t?!1:Y.isValidating?!0:Q&&ee()},ue=oe(),ve=sDt({data:H,error:Z,isValidating:ue},k),le=ve[0],de=ve[1],me=ve[2],Se=z.useCallback(function(xe){return Brt(void 0,void 0,void 0,function(){var Ie,Ne,We,Me,He,gt,Ye,ot,Ue,st,at,St,Vt;return Hrt(this,function(tt){switch(tt.label){case 0:if(Ie=A.current,!_||!Ie||k.current||N().isPaused())return[2,!1];Me=!0,He=xe||{},gt=!y[_]||!He.dedupe,Ye=function(){return!k.current&&_===M.current&&$.current},ot=function(){var wt=y[_];wt&&wt[1]===We&&delete y[_]},Ue={isValidating:!1},st=function(){D({isValidating:!1}),Ye()&&me(Ue)},D({isValidating:!0}),me({isValidating:!0}),tt.label=1;case 1:return tt.trys.push([1,3,,4]),gt&&(eU(r,_,le.current.data,le.current.error,!0),n.loadingTimeout&&!r.get(_)&&setTimeout(function(){Me&&Ye()&&N().onLoadingSlow(_,n)},n.loadingTimeout),y[_]=[Ie.apply(void 0,S),f2e()]),Vt=y[_],Ne=Vt[0],We=Vt[1],[4,Ne];case 2:return Ne=tt.sent(),gt&&setTimeout(ot,n.dedupingInterval),!y[_]||y[_][1]!==We?(gt&&Ye()&&N().onDiscarded(_),[2,!1]):(D({error:gm}),Ue.error=gm,at=m[_],!Y0(at)&&(We<=at[0]||We<=at[1]||at[1]===0)?(st(),gt&&Ye()&&N().onDiscarded(_),[2,!1]):(i(le.current.data,Ne)?Ue.data=le.current.data:Ue.data=Ne,i(r.get(_),Ne)||r.set(_,Ne),gt&&Ye()&&N().onSuccess(Ne,_,n),[3,4]));case 3:return St=tt.sent(),ot(),N().isPaused()||(D({error:St}),Ue.error=St,gt&&Ye()&&(N().onError(St,_,n),(typeof n.shouldRetryOnError=="boolean"&&n.shouldRetryOnError||wR(n.shouldRetryOnError)&&n.shouldRetryOnError(St))&&R()&&N().onErrorRetry(St,_,n,Se,{retryCount:(He.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return Me=!1,st(),Ye()&&gt&&eU(r,_,Ue.data,Ue.error,!1),[2,!0]}})})},[_]),Ee=z.useCallback(Yrt.bind(gm,r,function(){return M.current}),[]);if(fte(function(){A.current=t,L.current=n}),fte(function(){if(_){var xe=_!==M.current,Ie=Se.bind(gm,qve),Ne=function(Ye,ot,Ue){me(g3({error:ot,isValidating:Ue},i(le.current.data,Ye)?gm:{data:Ye}))},We=0,Me=function(Ye){if(Ye==Wrt){var ot=Date.now();N().revalidateOnFocus&&ot>We&&R()&&(We=ot+N().focusThrottleInterval,Ie())}else if(Ye==Grt)N().revalidateOnReconnect&&R()&&Ie();else if(Ye==qrt)return Se()},He=Yje(_,v,Ne),gt=Yje(_,p,Me);return k.current=!1,M.current=_,$.current=!0,xe&&me({data:H,error:Z,isValidating:ue}),ee()&&(Y0(H)||soe?Ie():QLt(Ie)),function(){k.current=!0,He(),gt()}}},[_,Se]),fte(function(){var xe;function Ie(){var We=wR(f)?f(H):f;We&&xe!==-1&&(xe=setTimeout(Ne,We))}function Ne(){!le.current.error&&(d||N().isVisible())&&(c||N().isOnline())?Se(qve).then(Ie):Ie()}return Ie(),function(){xe&&(clearTimeout(xe),xe=-1)}},[f,d,c,Se]),z.useDebugValue(H),s&&Y0(H)&&_)throw A.current=t,L.current=n,k.current=!1,Y0(Z)?Se(qve):Z;return{mutate:Ee,get data(){return de.data=!0,H},get error(){return de.error=!0,Z},get isValidating(){return de.isValidating=!0,ue}}},Kje=cDt(fDt),[dDt,uoe]=x8("ClerkInstanceContext"),[hDt,Xrt]=x8("UserContext"),[gDt,pDt]=x8("ClientContext"),[vDt,Zrt]=x8("SessionContext"),[mDt,Qrt]=x8("OrganizationContext"),yDt=e=>{let{invitationList:t,membershipList:n}=e||{},{organization:r,lastOrganizationMember:i,lastOrganizationInvitation:a}=Qrt(),s=Zrt(),u=uoe(),f=u.loaded&&s&&r,d=u.loaded?()=>{var _;return(_=u.organization)==null?void 0:_.getPendingInvitations(t)}:()=>[],c=u.loaded?()=>{var _;return(_=u.organization)==null?void 0:_.getMemberships(n)}:()=>[],{data:h,isValidating:p,mutate:v}=Kje(f&&t?Xje("invites",r,a,t):null,d),{data:m,isValidating:y,mutate:w}=Kje(f&&n?Xje("memberships",r,i,n):null,c);return r===void 0?{isLoaded:!1,organization:void 0,invitationList:void 0,membershipList:void 0,membership:void 0}:r===null?{isLoaded:!0,organization:null,invitationList:null,membershipList:null,membership:null}:!u.loaded&&r?{isLoaded:!0,organization:r,invitationList:void 0,membershipList:void 0,membership:void 0}:{isLoaded:!y&&!p,organization:r,membershipList:m,membership:bDt(s.user.organizationMemberships,r.id),invitationList:h,unstable__mutate:()=>{w(),v()}}};function bDt(e,t){return e.find(n=>n.organization.id===t)}function Xje(e,t,n,r){return[e,t.id,n==null?void 0:n.id,n==null?void 0:n.updatedAt,r.offset,r.limit].filter(Boolean).join("-")}var wDt=()=>{let e=uoe(),t=Xrt();return!e.loaded||!t?{isLoaded:!1,organizationList:void 0,createOrganization:void 0,setActive:void 0}:{isLoaded:!0,organizationList:_Dt(t.organizationMemberships),setActive:e.setActive,createOrganization:e.createOrganization}};function _Dt(e){return e.map(t=>({membership:t,organization:t.organization}))}var xDt=()=>{let e=uoe();return e.loaded?{isLoaded:!0,createOrganization:e.createOrganization,getOrganizationMemberships:e.getOrganizationMemberships,getOrganization:e.getOrganization}:{isLoaded:!1,createOrganization:void 0,getOrganizationMemberships:void 0,getOrganization:void 0}},SDt=typeof window<"u"?Xe.useLayoutEffect:Xe.useEffect;/*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.1 | MIT *)

swr/dist/index.mjs:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)
*/const EDt=Object.freeze(Object.defineProperty({__proto__:null,ClerkInstanceContext:dDt,ClientContext:gDt,LocalStorageBroadcastChannel:yLt,OrganizationContext:mDt,Poller:OLt,SessionContext:vDt,UserContext:hDt,addClerkPrefix:DLt,addYears:sLt,assertContextExists:jrt,buildErrorThrower:FPt,buildPublishableKey:dLt,camelToSnake:Irt,colorToSameTypeString:krt,createContextAndHook:x8,createCookieHandler:rLt,createDeferredPromise:iLt,createDevOrStagingUrlCache:pLt,createWorkerTimers:Nrt,dateTo12HourTime:aLt,deepCamelToSnake:CLt,deepSnakeToCamel:$Lt,differenceInCalendarDays:Mrt,extension:wLt,formatRelative:oLt,getRequestUrl:TLt,globs:jLt,handleValueOrFn:_Lt,hasAlpha:qPt,hexStringToRgbaColor:Ort,inBrowser:f$e,inClientSide:MLt,isBrowserOnline:Ert,isHSLColor:$rt,isHttpOrHttps:zrt,isIPV4Address:SLt,isLegacyFrontendApiKey:gLt,isNetworkError:lLt,isProxyUrlRelative:m$e,isPublishableKey:Lrt,isRGBColor:Crt,isRetinaDisplay:vLt,isTransparent:g$e,isUnauthorizedError:uLt,isValidBrowser:Srt,isValidBrowserOnline:BPt,isValidHexString:ooe,isValidHslaString:h$e,isValidProxyUrl:ALt,isValidRgbaString:d$e,isomorphicAtob:p$e,noop:Dne,normalizeDate:Ine,parsePublishableKey:hLt,parseSearchParams:PLt,proxyUrlToAbsoluteURL:RLt,readJSONFile:cLt,runWithExponentialBackOff:zLt,snakeToCamel:Drt,stringToHslaColor:XPt,stringToSameTypeColor:ZPt,stripScheme:LLt,titleize:ELt,toSentence:NPt,useClerkInstanceContext:uoe,useClientContext:pDt,useOrganization:yDt,useOrganizationContext:Qrt,useOrganizationList:wDt,useOrganizations:xDt,useSafeLayoutEffect:SDt,useSessionContext:Zrt,useUserContext:Xrt,userAgentIsRobot:xrt},Symbol.toStringTag,{value:"Module"})),Nm=A_(EDt);var Yve={},Zje;function Ak(){return Zje||(Zje=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unsupportedNonBrowserDomainOrProxyUrlFunction=e.invalidStateError=e.isMagicLinkError=e.MagicLinkErrorCode=e.multipleChildrenInButtonComponent=e.hocChildrenNotAFunctionError=e.multipleClerkProvidersError=e.noGuaranteedUserError=e.noGuaranteedLoadedError=e.noClerkProviderError=e.noFrontendApiError=void 0,e.noFrontendApiError="Clerk: You must add the frontendApi prop to your <ClerkProvider>",e.noClerkProviderError="Clerk: You must wrap your application in a <ClerkProvider> component.";const t=a=>`Clerk: You're calling ${a} before there's a guarantee the client has been loaded. Call ${a} from a child of <SignedIn>, <SignedOut>, or <ClerkLoaded>, or use the withClerk() HOC.`;e.noGuaranteedLoadedError=t;const n=a=>`Clerk: You're calling ${a} before there's a guarantee there's an active user. Call ${a} from a child of <SignedIn> or use the withUser() HOC.`;e.noGuaranteedUserError=n,e.multipleClerkProvidersError="Clerk: You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",e.hocChildrenNotAFunctionError="Clerk: Child of WithClerk must be a function.";const r=a=>`Clerk: You've passed multiple children components to <${a}/>. You can only pass a single child component or text.`;e.multipleChildrenInButtonComponent=r,e.MagicLinkErrorCode={Expired:"expired",Failed:"failed"};function i(a){return!!a&&(a.code===e.MagicLinkErrorCode.Expired||a.code===e.MagicLinkErrorCode.Failed)}e.isMagicLinkError=i,e.invalidStateError="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",e.unsupportedNonBrowserDomainOrProxyUrlFunction="Unsupported usage of domain or proxyUrl. The usage of domain or proxyUrl as function is not supported in non-browser environments."}(Yve)),Yve}var Kve={},y$={},Qje;function CDt(){if(Qje)return y$;Qje=1,Object.defineProperty(y$,"__esModule",{value:!0}),y$.safeExecute=y$.normalizeWithDefaultValue=y$.assertSingleChild=void 0;const t=yf.__importDefault(z),n=Ak(),r=s=>u=>{try{return t.default.Children.only(s)}catch{throw new Error((0,n.multipleChildrenInButtonComponent)(u))}};y$.assertSingleChild=r;const i=(s,u)=>(s||(s=u),typeof s=="string"&&(s=t.default.createElement("button",null,s)),s);y$.normalizeWithDefaultValue=i;const a=s=>(...u)=>{if(s&&typeof s=="function")return s(...u)};return y$.safeExecute=a,y$}var vM={},Jje;function Jrt(){if(Jje)return vM;Jje=1,Object.defineProperty(vM,"__esModule",{value:!0}),vM.__internal__setErrorThrowerOptions=vM.errorThrower=void 0;const t=(0,Nm.buildErrorThrower)({packageName:"@clerk/react"});vM.errorThrower=t;function n(r){t.setMessages(r).setPackageName(r)}return vM.__internal__setErrorThrowerOptions=n,vM}var Ij={},eBe;function $Dt(){if(eBe)return Ij;eBe=1,Object.defineProperty(Ij,"__esModule",{value:!0}),Ij.isConstructor=void 0;function e(t){return typeof t=="function"}return Ij.isConstructor=e,Ij}var Fj={},mM={},tBe;function kDt(){return tBe||(tBe=1,Object.defineProperty(mM,"__esModule",{value:!0}),mM.LIB_NAME=mM.LIB_VERSION=void 0,mM.LIB_VERSION="4.18.0",mM.LIB_NAME="@clerk/clerk-react"),mM}var Nj={},nBe;function ODt(){if(nBe)return Nj;nBe=1,Object.defineProperty(Nj,"__esModule",{value:!0}),Nj.isDevOrStagingUrl=void 0;const e=Nm,{isDevOrStagingUrl:t}=(0,e.createDevOrStagingUrlCache)();return Nj.isDevOrStagingUrl=t,Nj}var rBe;function ADt(){if(rBe)return Fj;rBe=1,Object.defineProperty(Fj,"__esModule",{value:!0}),Fj.loadScript=void 0;const e=Nm,t=kDt(),n=Jrt(),r=ODt(),i="Clerk: Failed to load Clerk",a="Clerk: Missing <body> element.",s=["staging","next"],u=p=>{var v;const m=(v=p.match(/-(.*)\./))===null||v===void 0?void 0:v[1];return m&&s.includes(m)?m:void 0},f=p=>p.split(".")[0],d=p=>p.endsWith(".lclstage.dev")||p.endsWith(".stgstage.dev")||p.endsWith(".clerkstage.dev")||p.endsWith(".accountsstage.dev");function c({publishableKey:p,frontendApi:v,domain:m,scriptUrl:y,scriptVariant:w="",proxyUrl:_}){var S,C;if(y)return y;let $="";_&&(0,e.isValidProxyUrl)(_)?$=(0,e.proxyUrlToAbsoluteURL)(_).replace(/http(s)?:\/\//,""):m&&!(0,r.isDevOrStagingUrl)(((S=(0,e.parsePublishableKey)(p))===null||S===void 0?void 0:S.frontendApi)||v||"")?$=(0,e.addClerkPrefix)(m):$=((C=(0,e.parsePublishableKey)(p))===null||C===void 0?void 0:C.frontendApi)||v||"",$||n.errorThrower.throwMissingPublishableKeyError();const k=w?`${w.replace(/\.+$/,"")}.`:"",M=L=>`https://${$}/npm/@clerk/clerk-js@${L}/dist/clerk.${k}browser.js`,A=u(t.LIB_VERSION);return d($)?M(A||"staging"):M(A||f(t.LIB_VERSION))}async function h(p){return new Promise((v,m)=>{const{frontendApi:y,publishableKey:w,proxyUrl:_,domain:S}=p;$e.Clerk&&v(null);const C=document.createElement("script");!w&&!y&&n.errorThrower.throwMissingPublishableKeyError(),w?C.setAttribute("data-clerk-publishable-key",w):y&&C.setAttribute("data-clerk-frontend-api",y),_&&C.setAttribute("data-clerk-proxy-url",_),S&&C.setAttribute("data-clerk-domain",S),C.setAttribute("crossorigin","anonymous"),C.async=!0,document.body||m(a),C.addEventListener("load",()=>v(C)),C.addEventListener("error",()=>m(i)),C.src=c(p),document.body.appendChild(C)})}return Fj.loadScript=h,Fj}var yM={},iBe;function RDt(){if(iBe)return yM;iBe=1,Object.defineProperty(yM,"__esModule",{value:!0}),yM.withMaxAllowedInstancesGuard=yM.useMaxAllowedInstancesGuard=void 0;const t=yf.__importDefault(z),n=new Map;function r(a,s,u=1){t.default.useEffect(()=>{const f=n.get(a)||0;if(f==u)throw new Error(s);return n.set(a,f+1),()=>{n.set(a,(n.get(a)||1)-1)}},[])}yM.useMaxAllowedInstancesGuard=r;function i(a,s,u){const f=a.displayName||a.name||s||"Component",d=c=>(r(s,u),t.default.createElement(a,Object.assign({},c)));return d.displayName=`withMaxAllowedInstancesGuard(${f})`,d}return yM.withMaxAllowedInstancesGuard=i,yM}var aBe;function S8(){return aBe||(aBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=yf;t.__exportStar(CDt(),e),t.__exportStar(Jrt(),e),t.__exportStar($Dt(),e),t.__exportStar(ADt(),e),t.__exportStar(RDt(),e)}(Kve)),Kve}var zj={},rJ={},oBe;function TDt(){if(oBe)return rJ;oBe=1;var e,t,n,r,i;Object.defineProperty(rJ,"__esModule",{value:!0});const a=yf,s=Nm,u=Ak(),f=S8();class d{get loaded(){return a.__classPrivateFieldGet(this,t,"f")}static getOrCreateInstance(h){return(!(0,s.inClientSide)()||!a.__classPrivateFieldGet(this,e,"f",i))&&a.__classPrivateFieldSet(this,e,new d(h),"f",i),a.__classPrivateFieldGet(this,e,"f",i)}get domain(){if(typeof window<"u"&&window.location)return(0,s.handleValueOrFn)(a.__classPrivateFieldGet(this,n,"f"),new URL(window.location.href),"");if(typeof a.__classPrivateFieldGet(this,n,"f")=="function")throw new Error(u.unsupportedNonBrowserDomainOrProxyUrlFunction);return a.__classPrivateFieldGet(this,n,"f")||""}get proxyUrl(){if(typeof window<"u"&&window.location)return(0,s.handleValueOrFn)(a.__classPrivateFieldGet(this,r,"f"),new URL(window.location.href),"");if(typeof a.__classPrivateFieldGet(this,r,"f")=="function")throw new Error(u.unsupportedNonBrowserDomainOrProxyUrlFunction);return a.__classPrivateFieldGet(this,r,"f")||""}constructor(h){this.clerkjs=null,this.preopenSignIn=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountMethodCalls=new Map,this.loadedListeners=[],t.set(this,!1),n.set(this,void 0),r.set(this,void 0),this.addOnLoaded=y=>{this.loadedListeners.push(y)},this.emitLoaded=()=>{this.loadedListeners.forEach(y=>y()),this.loadedListeners=[]},this.hydrateClerkJS=y=>{if(!y)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=y,this.premountMethodCalls.forEach(w=>w()),this.preopenSignIn!==null&&y.openSignIn(this.preopenSignIn),this.preopenSignUp!==null&&y.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&y.openUserProfile(this.preopenUserProfile),this.premountSignInNodes.forEach((w,_)=>{y.mountSignIn(_,w)}),this.premountSignUpNodes.forEach((w,_)=>{y.mountSignUp(_,w)}),this.premountUserProfileNodes.forEach((w,_)=>{y.mountUserProfile(_,w)}),this.premountUserButtonNodes.forEach((w,_)=>{y.mountUserButton(_,w)}),a.__classPrivateFieldSet(this,t,!0,"f"),this.emitLoaded(),this.clerkjs},this.__unstable__updateProps=y=>{if(this.clerkjs&&"__unstable__updateProps"in this.clerkjs)this.clerkjs.__unstable__updateProps(y);else return},this.setActive=({session:y,organization:w,beforeEmit:_})=>this.clerkjs?this.clerkjs.setActive({session:y,organization:w,beforeEmit:_}):Promise.reject(),this.setSession=(y,w)=>this.setActive({session:y,beforeEmit:w}),this.openSignIn=y=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.openSignIn(y):this.preopenSignIn=y},this.closeSignIn=()=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.openUserProfile=y=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.openUserProfile(y):this.preopenUserProfile=y},this.closeUserProfile=()=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=y=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.openOrganizationProfile(y):this.preopenOrganizationProfile=y},this.closeOrganizationProfile=()=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openSignUp=y=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.openSignUp(y):this.preopenSignUp=y},this.closeSignUp=()=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(y,w)=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.mountSignIn(y,w):this.premountSignInNodes.set(y,w)},this.unmountSignIn=y=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.unmountSignIn(y):this.premountSignInNodes.delete(y)},this.mountSignUp=(y,w)=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.mountSignUp(y,w):this.premountSignUpNodes.set(y,w)},this.unmountSignUp=y=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.unmountSignUp(y):this.premountSignUpNodes.delete(y)},this.mountUserProfile=(y,w)=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.mountUserProfile(y,w):this.premountUserProfileNodes.set(y,w)},this.unmountUserProfile=y=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.unmountUserProfile(y):this.premountUserProfileNodes.delete(y)},this.mountOrganizationProfile=(y,w)=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.mountOrganizationProfile(y,w):this.premountOrganizationProfileNodes.set(y,w)},this.unmountOrganizationProfile=y=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.unmountOrganizationProfile(y):this.premountOrganizationProfileNodes.delete(y)},this.mountCreateOrganization=(y,w)=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.mountCreateOrganization(y,w):this.premountCreateOrganizationNodes.set(y,w)},this.unmountCreateOrganization=y=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.unmountCreateOrganization(y):this.premountCreateOrganizationNodes.delete(y)},this.mountOrganizationSwitcher=(y,w)=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.mountOrganizationSwitcher(y,w):this.premountOrganizationSwitcherNodes.set(y,w)},this.unmountOrganizationSwitcher=y=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.unmountOrganizationSwitcher(y):this.premountOrganizationSwitcherNodes.delete(y)},this.mountUserButton=(y,w)=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.mountUserButton(y,w):this.premountUserButtonNodes.set(y,w)},this.unmountUserButton=y=>{this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?this.clerkjs.unmountUserButton(y):this.premountUserButtonNodes.delete(y)},this.addListener=y=>{const w=()=>{var _;return(_=this.clerkjs)===null||_===void 0?void 0:_.addListener(y)};this.clerkjs?w():this.premountMethodCalls.set("addListener",w)},this.navigate=y=>{const w=()=>{var _;return(_=this.clerkjs)===null||_===void 0?void 0:_.navigate(y)};this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?w():this.premountMethodCalls.set("navigate",w)},this.redirectWithAuth=(...y)=>{const w=()=>{var _;return(_=this.clerkjs)===null||_===void 0?void 0:_.redirectWithAuth(...y)};this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?w():this.premountMethodCalls.set("redirectWithAuth",w)},this.redirectToSignIn=y=>{const w=()=>{var _;return(_=this.clerkjs)===null||_===void 0?void 0:_.redirectToSignIn(y)};this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?w():this.premountMethodCalls.set("redirectToSignIn",w)},this.redirectToSignUp=y=>{const w=()=>{var _;return(_=this.clerkjs)===null||_===void 0?void 0:_.redirectToSignUp(y)};this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?w():this.premountMethodCalls.set("redirectToSignUp",w)},this.redirectToUserProfile=()=>{const y=()=>{var w;return(w=this.clerkjs)===null||w===void 0?void 0:w.redirectToUserProfile()};this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?y():this.premountMethodCalls.set("redirectToUserProfile",y)},this.redirectToHome=()=>{const y=()=>{var w;return(w=this.clerkjs)===null||w===void 0?void 0:w.redirectToHome()};this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?y():this.premountMethodCalls.set("redirectToHome",y)},this.redirectToOrganizationProfile=()=>{const y=()=>{var w;return(w=this.clerkjs)===null||w===void 0?void 0:w.redirectToOrganizationProfile()};this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?y():this.premountMethodCalls.set("redirectToOrganizationProfile",y)},this.redirectToCreateOrganization=()=>{const y=()=>{var w;return(w=this.clerkjs)===null||w===void 0?void 0:w.redirectToCreateOrganization()};this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?y():this.premountMethodCalls.set("redirectToCreateOrganization",y)},this.handleRedirectCallback=y=>{var w;const _=()=>{var S;return(S=this.clerkjs)===null||S===void 0?void 0:S.handleRedirectCallback(y)};this.clerkjs&&a.__classPrivateFieldGet(this,t,"f")?(w=_())===null||w===void 0||w.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",_)},this.handleMagicLinkVerification=async y=>{const w=()=>{var _;return(_=this.clerkjs)===null||_===void 0?void 0:_.handleMagicLinkVerification(y)};if(this.clerkjs&&a.__classPrivateFieldGet(this,t,"f"))return w();this.premountMethodCalls.set("handleMagicLinkVerification",w)},this.authenticateWithMetamask=async y=>{const w=()=>{var _;return(_=this.clerkjs)===null||_===void 0?void 0:_.authenticateWithMetamask(y)};if(this.clerkjs&&a.__classPrivateFieldGet(this,t,"f"))return w();this.premountMethodCalls.set("authenticateWithMetamask",w)},this.createOrganization=async y=>{const w=()=>{var _;return(_=this.clerkjs)===null||_===void 0?void 0:_.createOrganization(y)};if(this.clerkjs&&a.__classPrivateFieldGet(this,t,"f"))return w();this.premountMethodCalls.set("createOrganization",w)},this.getOrganizationMemberships=async()=>{const y=()=>{var w;return(w=this.clerkjs)===null||w===void 0?void 0:w.getOrganizationMemberships()};if(this.clerkjs&&a.__classPrivateFieldGet(this,t,"f"))return y();this.premountMethodCalls.set("getOrganizationMemberships",y)},this.getOrganization=async y=>{const w=()=>{var _;return(_=this.clerkjs)===null||_===void 0?void 0:_.getOrganization(y)};if(this.clerkjs&&a.__classPrivateFieldGet(this,t,"f"))return w();this.premountMethodCalls.set("getOrganization",w)},this.signOut=async(y,w)=>{const _=()=>{var S;return(S=this.clerkjs)===null||S===void 0?void 0:S.signOut(y,w)};if(this.clerkjs&&a.__classPrivateFieldGet(this,t,"f"))return _();this.premountMethodCalls.set("signOut",_)};const{Clerk:p=null,frontendApi:v,publishableKey:m}=h||{};this.frontendApi=v,this.publishableKey=m,a.__classPrivateFieldSet(this,r,h==null?void 0:h.proxyUrl,"f"),a.__classPrivateFieldSet(this,n,h==null?void 0:h.domain,"f"),this.options=h,this.Clerk=p,this.mode=(0,s.inClientSide)()?"browser":"server",this.loadClerkJS()}async loadClerkJS(){var h,p;if(!(this.mode!=="browser"||a.__classPrivateFieldGet(this,t,"f"))){typeof window<"u"&&(window.__clerk_frontend_api=this.frontendApi,window.__clerk_publishable_key=this.publishableKey,window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let v;(0,f.isConstructor)(this.Clerk)?(v=new this.Clerk(this.publishableKey||this.frontendApi||"",{proxyUrl:this.proxyUrl,domain:this.domain}),await v.load(this.options)):(v=this.Clerk,v.isReady()||await v.load(this.options)),$e.Clerk=v}else{if(await(0,f.loadScript)({frontendApi:this.frontendApi,publishableKey:this.publishableKey,proxyUrl:this.proxyUrl,domain:this.domain,scriptUrl:this.options.clerkJSUrl,scriptVariant:this.options.clerkJSVariant}),!$e.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");await $e.Clerk.load(this.options)}return!((h=$e.Clerk)===null||h===void 0)&&h.loaded||!((p=$e.Clerk)===null||p===void 0)&&p.isReady()?this.hydrateClerkJS($e.Clerk):void 0}catch(v){const m=v;console.error(m.stack||m.message||m);return}}}get version(){var h;return(h=this.clerkjs)===null||h===void 0?void 0:h.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}__unstable__setEnvironment(...h){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(h);else return}}return rJ.default=d,e=d,t=new WeakMap,n=new WeakMap,r=new WeakMap,i={value:void 0},rJ}var jj={},sBe;function MDt(){if(sBe)return jj;sBe=1,Object.defineProperty(jj,"__esModule",{value:!0}),jj.deriveState=void 0;const e=(r,i,a)=>!r&&a?t(a):n(i);jj.deriveState=e;const t=r=>{const i=r.userId,a=r.user,s=r.sessionId,u=r.session,f=r.organization,d=r.orgId,c=r.orgRole,h=r.orgSlug,p=r.actor;return{userId:i,user:a,sessionId:s,session:u,organization:f,orgId:d,orgRole:c,orgSlug:h,actor:p,lastOrganizationInvitation:null,lastOrganizationMember:null}},n=r=>{var i;const a=r.user?r.user.id:r.user,s=r.user,u=r.session?r.session.id:r.session,f=r.session,d=f==null?void 0:f.actor,c=r.organization,h=r.organization?r.organization.id:r.organization,p=c==null?void 0:c.slug,v=c&&((i=s==null?void 0:s.organizationMemberships)===null||i===void 0?void 0:i.find(_=>_.organization.id===h)),m=v&&v.role,y=r.lastOrganizationInvitation,w=r.lastOrganizationMember;return{userId:a,user:s,sessionId:u,session:f,organization:c,orgId:h,orgRole:m,orgSlug:p,actor:d,lastOrganizationInvitation:y,lastOrganizationMember:w}};return jj}var bM={},uBe;function _$e(){if(uBe)return bM;uBe=1;var e;return Object.defineProperty(bM,"__esModule",{value:!0}),bM.useAuthContext=bM.AuthContext=void 0,e=(0,Nm.createContextAndHook)("AuthContext"),bM.AuthContext=e[0],bM.useAuthContext=e[1],bM}var Xve={},lBe;function loe(){return lBe||(lBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useClientContext=e.ClientContext=void 0;var t=Nm;Object.defineProperty(e,"ClientContext",{enumerable:!0,get:function(){return t.ClientContext}}),Object.defineProperty(e,"useClientContext",{enumerable:!0,get:function(){return t.useClientContext}})}(Xve)),Xve}var wM={},cBe;function Q3(){if(cBe)return wM;cBe=1;var e;Object.defineProperty(wM,"__esModule",{value:!0}),wM.useIsomorphicClerkContext=wM.IsomorphicClerkContext=void 0;const t=Nm;return e=[t.ClerkInstanceContext,t.useClerkInstanceContext],wM.IsomorphicClerkContext=e[0],wM.useIsomorphicClerkContext=e[1],wM}var Zve={},fBe;function PDt(){return fBe||(fBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useOrganizationContext=e.OrganizationContext=void 0;var t=Nm;Object.defineProperty(e,"OrganizationContext",{enumerable:!0,get:function(){return t.OrganizationContext}}),Object.defineProperty(e,"useOrganizationContext",{enumerable:!0,get:function(){return t.useOrganizationContext}})}(Zve)),Zve}var Qve={},dBe;function coe(){return dBe||(dBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useSessionContext=e.SessionContext=void 0;var t=Nm;Object.defineProperty(e,"SessionContext",{enumerable:!0,get:function(){return t.SessionContext}}),Object.defineProperty(e,"useSessionContext",{enumerable:!0,get:function(){return t.useSessionContext}})}(Qve)),Qve}var Jve={},hBe;function x$e(){return hBe||(hBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useUserContext=e.UserContext=void 0;var t=Nm;Object.defineProperty(e,"UserContext",{enumerable:!0,get:function(){return t.UserContext}}),Object.defineProperty(e,"useUserContext",{enumerable:!0,get:function(){return t.useUserContext}})}(Jve)),Jve}var gBe;function LDt(){if(gBe)return zj;gBe=1,Object.defineProperty(zj,"__esModule",{value:!0}),zj.ClerkContextProvider=void 0;const e=yf,t=e.__importDefault(z),n=e.__importDefault(TDt()),r=MDt(),i=_$e(),a=loe(),s=Q3(),u=PDt(),f=coe(),d=x$e();function c(p){const{isomorphicClerkOptions:v,initialState:m,children:y}=p,{isomorphicClerk:w,loaded:_}=h(v),[S,C]=t.default.useState({client:w.client,session:w.session,user:w.user,organization:w.organization,lastOrganizationInvitation:null,lastOrganizationMember:null});t.default.useEffect(()=>w.addListener(le=>C(Object.assign({},le))),[]);const $=(0,r.deriveState)(_,S,m),k=t.default.useMemo(()=>({value:w}),[_]),M=t.default.useMemo(()=>({value:S.client}),[S.client]),{sessionId:A,session:L,userId:N,user:R,orgId:D,actor:j,lastOrganizationInvitation:U,lastOrganizationMember:H,organization:Y,orgRole:Z,orgSlug:Q}=$,ee=t.default.useMemo(()=>({value:{sessionId:A,userId:N,actor:j,orgId:D,orgRole:Z,orgSlug:Q}}),[A,N,j,D,Z,Q]),oe=t.default.useMemo(()=>({value:R}),[N,R]),ue=t.default.useMemo(()=>({value:L}),[A,L]),ve=t.default.useMemo(()=>({value:{organization:Y,lastOrganizationInvitation:U,lastOrganizationMember:H}}),[D,Y,U,H]);return t.default.createElement(s.IsomorphicClerkContext.Provider,{value:k},t.default.createElement(a.ClientContext.Provider,{value:M},t.default.createElement(f.SessionContext.Provider,{value:ue},t.default.createElement(u.OrganizationContext.Provider,{value:ve},t.default.createElement(i.AuthContext.Provider,{value:ee},t.default.createElement(d.UserContext.Provider,{value:oe},y))))))}zj.ClerkContextProvider=c;const h=p=>{const[v,m]=t.default.useState(!1),y=t.default.useMemo(()=>n.default.getOrCreateInstance(p),[]);return t.default.useEffect(()=>{y.__unstable__updateProps({appearance:p.appearance})},[p.appearance]),t.default.useEffect(()=>{y.__unstable__updateProps({options:p})},[p.localization]),t.default.useEffect(()=>{y.addOnLoaded(()=>m(!0))},[]),{isomorphicClerk:y,loaded:v}};return zj}var eme={},_M={},pBe;function DDt(){if(pBe)return _M;pBe=1,Object.defineProperty(_M,"__esModule",{value:!0}),_M.assertClerkLoadedGuarantee=_M.assertWrappedByClerkProvider=void 0;const e=Ak();function t(r){if(!r)throw new Error(e.noClerkProviderError)}_M.assertWrappedByClerkProvider=t;function n(r,i){if(!r)throw new Error((0,e.noGuaranteedLoadedError)(i))}return _M.assertClerkLoadedGuarantee=n,_M}var vBe;function S$e(){return vBe||(vBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LoadedGuarantee=e.StructureContext=e.StructureContextStates=void 0;const n=yf.__importDefault(z),r=DDt();e.StructureContextStates=Object.freeze({noGuarantees:Object.freeze({guaranteedLoaded:!1}),guaranteedLoaded:Object.freeze({guaranteedLoaded:!0})}),e.StructureContext=n.default.createContext(void 0),e.StructureContext.displayName="StructureContext";const i=()=>{const s=n.default.useContext(e.StructureContext);return(0,r.assertWrappedByClerkProvider)(s),s},a=({children:s})=>i().guaranteedLoaded?n.default.createElement(n.default.Fragment,null,s):n.default.createElement(e.StructureContext.Provider,{value:e.StructureContextStates.guaranteedLoaded},s);e.LoadedGuarantee=a}(eme)),eme}var mBe;function IDt(){return mBe||(mBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.__internal__setErrorThrowerOptions=e.ClerkProvider=void 0;const t=yf,n=Nm,r=t.__importDefault(z),i=Ak(),a=S8();Object.defineProperty(e,"__internal__setErrorThrowerOptions",{enumerable:!0,get:function(){return a.__internal__setErrorThrowerOptions}});const s=LDt(),u=S$e();(0,a.__internal__setErrorThrowerOptions)({packageName:"@clerk/clerk-react"});function f(c){const{initialState:h,children:p}=c,v=t.__rest(c,["initialState","children"]),{frontendApi:m="",publishableKey:y="",Clerk:w}=v;return w||(!y&&!m?a.errorThrower.throwMissingPublishableKeyError():y&&!(0,n.isPublishableKey)(y)?a.errorThrower.throwInvalidPublishableKeyError({key:y}):!y&&m&&!(0,n.isLegacyFrontendApiKey)(m)&&a.errorThrower.throwInvalidFrontendApiError({key:m})),r.default.createElement(u.StructureContext.Provider,{value:u.StructureContextStates.noGuarantees},r.default.createElement(s.ClerkContextProvider,{initialState:h,isomorphicClerkOptions:v},p))}const d=(0,a.withMaxAllowedInstancesGuard)(f,"ClerkProvider",i.multipleClerkProvidersError);e.ClerkProvider=d,d.displayName="ClerkProvider"}(Vve)),Vve}var yBe;function FDt(){return yBe||(yBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.__internal__setErrorThrowerOptions=e.ClerkProvider=void 0;var t=IDt();Object.defineProperty(e,"ClerkProvider",{enumerable:!0,get:function(){return t.ClerkProvider}}),Object.defineProperty(e,"__internal__setErrorThrowerOptions",{enumerable:!0,get:function(){return t.__internal__setErrorThrowerOptions}})}(Uve)),Uve}var tme={},Eg={},xM={},bBe;function QP(){if(bBe)return xM;bBe=1,Object.defineProperty(xM,"__esModule",{value:!0}),xM.WithClerk=xM.withClerk=void 0;const t=yf.__importDefault(z),n=Q3(),r=S$e(),i=Ak(),a=(u,f)=>{f=f||u.displayName||u.name||"Component",u.displayName=f;const d=c=>{const h=(0,n.useIsomorphicClerkContext)();return h.loaded?t.default.createElement(r.LoadedGuarantee,null,t.default.createElement(u,Object.assign({},c,{clerk:h}))):null};return d.displayName=`withClerk(${f})`,d};xM.withClerk=a;const s=({children:u})=>{const f=(0,n.useIsomorphicClerkContext)();if(typeof u!="function")throw new Error(i.hocChildrenNotAFunctionError);return f.loaded?t.default.createElement(r.LoadedGuarantee,null,u(f)):null};return xM.WithClerk=s,xM}var wBe;function NDt(){if(wBe)return Eg;wBe=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.OrganizationSwitcher=Eg.CreateOrganization=Eg.OrganizationProfile=Eg.UserButton=Eg.UserProfile=Eg.SignUp=Eg.SignIn=void 0;const e=yf,t=e.__importDefault(z),n=QP();class r extends t.default.PureComponent{constructor(){super(...arguments),this.portalRef=t.default.createRef()}componentDidUpdate(a){a.props.appearance!==this.props.props.appearance&&this.props.updateProps({node:this.portalRef.current,props:this.props.props})}componentDidMount(){this.portalRef.current&&this.props.mount(this.portalRef.current,this.props.props)}componentWillUnmount(){this.portalRef.current&&this.props.unmount(this.portalRef.current)}render(){return t.default.createElement("div",{ref:this.portalRef})}}return Eg.SignIn=(0,n.withClerk)(i=>{var{clerk:a}=i,s=e.__rest(i,["clerk"]);return t.default.createElement(r,{mount:a.mountSignIn,unmount:a.unmountSignIn,updateProps:a.__unstable__updateProps,props:s})},"SignIn"),Eg.SignUp=(0,n.withClerk)(i=>{var{clerk:a}=i,s=e.__rest(i,["clerk"]);return t.default.createElement(r,{mount:a.mountSignUp,unmount:a.unmountSignUp,updateProps:a.__unstable__updateProps,props:s})},"SignUp"),Eg.UserProfile=(0,n.withClerk)(i=>{var{clerk:a}=i,s=e.__rest(i,["clerk"]);return t.default.createElement(r,{mount:a.mountUserProfile,unmount:a.unmountUserProfile,updateProps:a.__unstable__updateProps,props:s})},"UserProfile"),Eg.UserButton=(0,n.withClerk)(i=>{var{clerk:a}=i,s=e.__rest(i,["clerk"]);return t.default.createElement(r,{mount:a.mountUserButton,unmount:a.unmountUserButton,updateProps:a.__unstable__updateProps,props:s})},"UserButton"),Eg.OrganizationProfile=(0,n.withClerk)(i=>{var{clerk:a}=i,s=e.__rest(i,["clerk"]);return t.default.createElement(r,{mount:a.mountOrganizationProfile,unmount:a.unmountOrganizationProfile,updateProps:a.__unstable__updateProps,props:s})},"OrganizationProfile"),Eg.CreateOrganization=(0,n.withClerk)(i=>{var{clerk:a}=i,s=e.__rest(i,["clerk"]);return t.default.createElement(r,{mount:a.mountCreateOrganization,unmount:a.unmountCreateOrganization,updateProps:a.__unstable__updateProps,props:s})},"CreateOrganization"),Eg.OrganizationSwitcher=(0,n.withClerk)(i=>{var{clerk:a}=i,s=e.__rest(i,["clerk"]);return t.default.createElement(r,{mount:a.mountOrganizationSwitcher,unmount:a.unmountOrganizationSwitcher,updateProps:a.__unstable__updateProps,props:s})},"OrganizationSwitcher"),Eg}var Sl={},_Be;function zDt(){if(_Be)return Sl;_Be=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.MultisessionAppSupport=Sl.AuthenticateWithRedirectCallback=Sl.RedirectToCreateOrganization=Sl.RedirectToOrganizationProfile=Sl.RedirectToUserProfile=Sl.RedirectToSignUp=Sl.RedirectToSignIn=Sl.ClerkLoading=Sl.ClerkLoaded=Sl.SignedOut=Sl.SignedIn=void 0;const e=yf,t=e.__importDefault(z),n=_$e(),r=Q3(),i=coe(),a=S$e(),s=QP(),u=({children:p})=>{const{userId:v}=(0,n.useAuthContext)();return v?t.default.createElement(t.default.Fragment,null,p):null};Sl.SignedIn=u;const f=({children:p})=>{const{userId:v}=(0,n.useAuthContext)();return v===null?t.default.createElement(t.default.Fragment,null,p):null};Sl.SignedOut=f;const d=({children:p})=>(0,r.useIsomorphicClerkContext)().loaded?t.default.createElement(a.LoadedGuarantee,null,p):null;Sl.ClerkLoaded=d;const c=({children:p})=>(0,r.useIsomorphicClerkContext)().loaded?null:t.default.createElement(t.default.Fragment,null,p);Sl.ClerkLoading=c,Sl.RedirectToSignIn=(0,s.withClerk)(p=>{var{clerk:v}=p,m=e.__rest(p,["clerk"]);const{client:y,session:w}=v,{__unstable__environment:_}=v,S=y.activeSessions&&y.activeSessions.length>0;return t.default.useEffect(()=>{if(w===null&&S&&_){const{afterSignOutOneUrl:C}=_.displayConfig;v.navigate(C)}else v.redirectToSignIn(m)},[]),null},"RedirectToSignIn"),Sl.RedirectToSignUp=(0,s.withClerk)(p=>{var{clerk:v}=p,m=e.__rest(p,["clerk"]);return t.default.useEffect(()=>{v.redirectToSignUp(m)},[]),null},"RedirectToSignUp"),Sl.RedirectToUserProfile=(0,s.withClerk)(({clerk:p})=>(t.default.useEffect(()=>{p.redirectToUserProfile()},[]),null),"RedirectToUserProfile"),Sl.RedirectToOrganizationProfile=(0,s.withClerk)(({clerk:p})=>(t.default.useEffect(()=>{p.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile"),Sl.RedirectToCreateOrganization=(0,s.withClerk)(({clerk:p})=>(t.default.useEffect(()=>{p.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization"),Sl.AuthenticateWithRedirectCallback=(0,s.withClerk)(p=>{var{clerk:v}=p,m=e.__rest(p,["clerk"]);return t.default.useEffect(()=>{v.handleRedirectCallback(m)},[]),null},"AuthenticateWithRedirectCallback");const h=({children:p})=>{const v=(0,i.useSessionContext)();return t.default.createElement(t.default.Fragment,{key:v?v.id:"no-users"},p)};return Sl.MultisessionAppSupport=h,Sl}var SM={},xBe;function jDt(){if(xBe)return SM;xBe=1,Object.defineProperty(SM,"__esModule",{value:!0}),SM.WithUser=SM.withUser=void 0;const t=yf.__importDefault(z),n=x$e(),r=Ak(),i=(s,u)=>{u=u||s.displayName||s.name||"Component",s.displayName=u;const f=d=>{const c=(0,n.useUserContext)();return c?t.default.createElement(s,Object.assign({},d,{user:c})):null};return f.displayName=`withUser(${u})`,f};SM.withUser=i;const a=({children:s})=>{const u=(0,n.useUserContext)();if(typeof s!="function")throw new Error(r.hocChildrenNotAFunctionError);return u?t.default.createElement(t.default.Fragment,null,s(u)):null};return SM.WithUser=a,SM}var EM={},SBe;function BDt(){if(SBe)return EM;SBe=1,Object.defineProperty(EM,"__esModule",{value:!0}),EM.WithSession=EM.withSession=void 0;const t=yf.__importDefault(z),n=coe(),r=Ak(),i=(s,u)=>{u=u||s.displayName||s.name||"Component",s.displayName=u;const f=d=>{const c=(0,n.useSessionContext)();return c?t.default.createElement(s,Object.assign({},d,{session:c})):null};return f.displayName=`withSession(${u})`,f};EM.withSession=i;const a=({children:s})=>{const u=(0,n.useSessionContext)();if(typeof s!="function")throw new Error(r.hocChildrenNotAFunctionError);return u?t.default.createElement(t.default.Fragment,null,s(u)):null};return EM.WithSession=a,EM}var Bj={},EBe;function HDt(){if(EBe)return Bj;EBe=1,Object.defineProperty(Bj,"__esModule",{value:!0}),Bj.SignInButton=void 0;const e=yf,t=e.__importDefault(z),n=S8(),r=QP();return Bj.SignInButton=(0,r.withClerk)(i=>{var{clerk:a,children:s}=i,u=e.__rest(i,["clerk","children"]);const{afterSignInUrl:f,afterSignUpUrl:d,redirectUrl:c,mode:h}=u,p=e.__rest(u,["afterSignInUrl","afterSignUpUrl","redirectUrl","mode"]);s=(0,n.normalizeWithDefaultValue)(s,"Sign in");const v=(0,n.assertSingleChild)(s)("SignInButton"),m=()=>{const _={afterSignInUrl:f,afterSignUpUrl:d,redirectUrl:c};return h==="modal"?a.openSignIn(_):a.redirectToSignIn(_)},y=async _=>(await(0,n.safeExecute)(v.props.onClick)(_),m()),w=Object.assign(Object.assign({},p),{onClick:y});return t.default.cloneElement(v,w)},"SignInButton"),Bj}var Hj={},CBe;function UDt(){if(CBe)return Hj;CBe=1,Object.defineProperty(Hj,"__esModule",{value:!0}),Hj.SignUpButton=void 0;const e=yf,t=e.__importDefault(z),n=S8(),r=QP();return Hj.SignUpButton=(0,r.withClerk)(i=>{var{clerk:a,children:s}=i,u=e.__rest(i,["clerk","children"]);const{afterSignInUrl:f,afterSignUpUrl:d,redirectUrl:c,mode:h}=u,p=e.__rest(u,["afterSignInUrl","afterSignUpUrl","redirectUrl","mode"]);s=(0,n.normalizeWithDefaultValue)(s,"Sign up");const v=(0,n.assertSingleChild)(s)("SignUpButton"),m=()=>{const _={afterSignInUrl:f,afterSignUpUrl:d,redirectUrl:c};return h==="modal"?a.openSignUp(_):a.redirectToSignUp(_)},y=async _=>(await(0,n.safeExecute)(v.props.onClick)(_),m()),w=Object.assign(Object.assign({},p),{onClick:y});return t.default.cloneElement(v,w)},"SignUpButton"),Hj}var Uj={},$Be;function VDt(){if($Be)return Uj;$Be=1,Object.defineProperty(Uj,"__esModule",{value:!0}),Uj.SignOutButton=void 0;const e=yf,t=e.__importDefault(z),n=S8(),r=QP();return Uj.SignOutButton=(0,r.withClerk)(i=>{var{clerk:a,children:s}=i,u=e.__rest(i,["clerk","children"]);const{signOutCallback:f,signOutOptions:d}=u,c=e.__rest(u,["signOutCallback","signOutOptions"]);s=(0,n.normalizeWithDefaultValue)(s,"Sign out");const h=(0,n.assertSingleChild)(s)("SignOutButton"),p=()=>a.signOut(f,d),v=async y=>(await(0,n.safeExecute)(h.props.onClick)(y),p()),m=Object.assign(Object.assign({},c),{onClick:v});return t.default.cloneElement(h,m)},"SignOutButton"),Uj}var Vj={},kBe;function WDt(){if(kBe)return Vj;kBe=1,Object.defineProperty(Vj,"__esModule",{value:!0}),Vj.SignInWithMetamaskButton=void 0;const e=yf,t=e.__importDefault(z),n=S8(),r=QP();return Vj.SignInWithMetamaskButton=(0,r.withClerk)(i=>{var{clerk:a,children:s}=i,u=e.__rest(i,["clerk","children"]);const{redirectUrl:f}=u,d=e.__rest(u,["redirectUrl"]);s=(0,n.normalizeWithDefaultValue)(s,"Sign in with Metamask");const c=(0,n.assertSingleChild)(s)("SignInWithMetamaskButton"),h=async()=>{async function m(){await a.authenticateWithMetamask({redirectUrl:f})}m()},p=async m=>(await(0,n.safeExecute)(c.props.onClick)(m),h()),v=Object.assign(Object.assign({},d),{onClick:p});return t.default.cloneElement(c,v)},"SignInWithMetamask"),Vj}var OBe;function GDt(){return OBe||(OBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RedirectToOrganizationProfile=e.RedirectToCreateOrganization=e.MultisessionAppSupport=e.AuthenticateWithRedirectCallback=e.RedirectToUserProfile=e.RedirectToSignUp=e.RedirectToSignIn=e.SignedIn=e.SignedOut=e.ClerkLoading=e.ClerkLoaded=e.CreateOrganization=e.OrganizationProfile=e.OrganizationSwitcher=e.UserButton=e.UserProfile=e.SignIn=e.SignUp=void 0;const t=yf;var n=NDt();Object.defineProperty(e,"SignUp",{enumerable:!0,get:function(){return n.SignUp}}),Object.defineProperty(e,"SignIn",{enumerable:!0,get:function(){return n.SignIn}}),Object.defineProperty(e,"UserProfile",{enumerable:!0,get:function(){return n.UserProfile}}),Object.defineProperty(e,"UserButton",{enumerable:!0,get:function(){return n.UserButton}}),Object.defineProperty(e,"OrganizationSwitcher",{enumerable:!0,get:function(){return n.OrganizationSwitcher}}),Object.defineProperty(e,"OrganizationProfile",{enumerable:!0,get:function(){return n.OrganizationProfile}}),Object.defineProperty(e,"CreateOrganization",{enumerable:!0,get:function(){return n.CreateOrganization}});var r=zDt();Object.defineProperty(e,"ClerkLoaded",{enumerable:!0,get:function(){return r.ClerkLoaded}}),Object.defineProperty(e,"ClerkLoading",{enumerable:!0,get:function(){return r.ClerkLoading}}),Object.defineProperty(e,"SignedOut",{enumerable:!0,get:function(){return r.SignedOut}}),Object.defineProperty(e,"SignedIn",{enumerable:!0,get:function(){return r.SignedIn}}),Object.defineProperty(e,"RedirectToSignIn",{enumerable:!0,get:function(){return r.RedirectToSignIn}}),Object.defineProperty(e,"RedirectToSignUp",{enumerable:!0,get:function(){return r.RedirectToSignUp}}),Object.defineProperty(e,"RedirectToUserProfile",{enumerable:!0,get:function(){return r.RedirectToUserProfile}}),Object.defineProperty(e,"AuthenticateWithRedirectCallback",{enumerable:!0,get:function(){return r.AuthenticateWithRedirectCallback}}),Object.defineProperty(e,"MultisessionAppSupport",{enumerable:!0,get:function(){return r.MultisessionAppSupport}}),Object.defineProperty(e,"RedirectToCreateOrganization",{enumerable:!0,get:function(){return r.RedirectToCreateOrganization}}),Object.defineProperty(e,"RedirectToOrganizationProfile",{enumerable:!0,get:function(){return r.RedirectToOrganizationProfile}}),t.__exportStar(QP(),e),t.__exportStar(jDt(),e),t.__exportStar(BDt(),e),t.__exportStar(HDt(),e),t.__exportStar(UDt(),e),t.__exportStar(VDt(),e),t.__exportStar(WDt(),e)}(tme)),tme}var nme={},Wj={},ABe;function qDt(){if(ABe)return Wj;ABe=1,Object.defineProperty(Wj,"__esModule",{value:!0}),Wj.useUser=void 0;const e=x$e();function t(){const n=(0,e.useUserContext)();return n===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:n===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:n}}return Wj.useUser=t,Wj}var Gj={},CM={},RBe;function YDt(){if(RBe)return CM;RBe=1,Object.defineProperty(CM,"__esModule",{value:!0}),CM.createSignOut=CM.createGetToken=void 0;const e=r=>new Promise(i=>{r.loaded&&i(),r.addOnLoaded(i)}),t=r=>async i=>(await e(r),r.session?r.session.getToken(i):null);CM.createGetToken=t;const n=r=>async(...i)=>(await e(r),r.signOut(...i));return CM.createSignOut=n,CM}var TBe;function KDt(){if(TBe)return Gj;TBe=1,Object.defineProperty(Gj,"__esModule",{value:!0}),Gj.useAuth=void 0;const e=z,t=_$e(),n=Q3(),r=Ak(),i=YDt(),a=()=>{const{sessionId:s,userId:u,actor:f,orgId:d,orgRole:c,orgSlug:h}=(0,t.useAuthContext)(),p=(0,n.useIsomorphicClerkContext)(),v=(0,e.useCallback)((0,i.createGetToken)(p),[p]),m=(0,e.useCallback)((0,i.createSignOut)(p),[p]);if(s===void 0&&u===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:s,userId:u,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,signOut:m,getToken:v};if(s===null&&u===null)return{isLoaded:!0,isSignedIn:!1,sessionId:s,userId:u,actor:null,orgId:null,orgRole:null,orgSlug:null,signOut:m,getToken:v};if(s&&u&&d&&c)return{isLoaded:!0,isSignedIn:!0,sessionId:s,userId:u,actor:f||null,orgId:d,orgRole:c,orgSlug:h||null,signOut:m,getToken:v};if(s&&u&&!d)return{isLoaded:!0,isSignedIn:!0,sessionId:s,userId:u,actor:f||null,orgId:null,orgRole:null,orgSlug:null,signOut:m,getToken:v};throw new Error(r.invalidStateError)};return Gj.useAuth=a,Gj}var qj={},MBe;function XDt(){if(MBe)return qj;MBe=1,Object.defineProperty(qj,"__esModule",{value:!0}),qj.useSession=void 0;const e=coe(),t=()=>{const n=(0,e.useSessionContext)();return n===void 0?{isLoaded:!1,isSignedIn:void 0,session:void 0}:n===null?{isLoaded:!0,isSignedIn:!1,session:null}:{isLoaded:!0,isSignedIn:!0,session:n}};return qj.useSession=t,qj}var Yj={},PBe;function ZDt(){if(PBe)return Yj;PBe=1,Object.defineProperty(Yj,"__esModule",{value:!0}),Yj.useClerk=void 0;const e=Q3(),t=()=>(0,e.useIsomorphicClerkContext)();return Yj.useClerk=t,Yj}var Kj={},LBe;function QDt(){if(LBe)return Kj;LBe=1,Object.defineProperty(Kj,"__esModule",{value:!0}),Kj.useSignIn=void 0;const e=loe(),t=Q3(),n=()=>{const r=(0,t.useIsomorphicClerkContext)(),i=(0,e.useClientContext)();return i?{isLoaded:!0,signIn:i.signIn,setSession:r.setSession,setActive:r.setActive}:{isLoaded:!1,signIn:void 0,setSession:void 0,setActive:void 0}};return Kj.useSignIn=n,Kj}var Xj={},DBe;function JDt(){if(DBe)return Xj;DBe=1,Object.defineProperty(Xj,"__esModule",{value:!0}),Xj.useSignUp=void 0;const e=loe(),t=Q3(),n=()=>{const r=(0,t.useIsomorphicClerkContext)(),i=(0,e.useClientContext)();return i?{isLoaded:!0,signUp:i.signUp,setSession:r.setSession,setActive:r.setActive}:{isLoaded:!1,signUp:void 0,setSession:void 0,setActive:void 0}};return Xj.useSignUp=n,Xj}var Zj={},IBe;function eIt(){if(IBe)return Zj;IBe=1,Object.defineProperty(Zj,"__esModule",{value:!0}),Zj.useSessionList=void 0;const e=loe(),t=Q3(),n=()=>{const r=(0,t.useIsomorphicClerkContext)(),i=(0,e.useClientContext)();return i?{isLoaded:!0,sessions:i.sessions,setSession:r.setSession,setActive:r.setActive}:{isLoaded:!1,sessions:void 0,setSession:void 0,setActive:void 0}};return Zj.useSessionList=n,Zj}var rme={},FBe;function tIt(){return FBe||(FBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useOrganization=void 0;var t=Nm;Object.defineProperty(e,"useOrganization",{enumerable:!0,get:function(){return t.useOrganization}})}(rme)),rme}var ime={},NBe;function nIt(){return NBe||(NBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useOrganizationList=void 0;var t=Nm;Object.defineProperty(e,"useOrganizationList",{enumerable:!0,get:function(){return t.useOrganizationList}})}(ime)),ime}var ame={},zBe;function rIt(){return zBe||(zBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useOrganizations=void 0;var t=Nm;Object.defineProperty(e,"useOrganizations",{enumerable:!0,get:function(){return t.useOrganizations}})}(ame)),ame}var Qj={},jBe;function eit(){if(jBe)return Qj;jBe=1,Object.defineProperty(Qj,"__esModule",{value:!0}),Qj.useMagicLink=void 0;const t=yf.__importDefault(z);function n(r){const{startMagicLinkFlow:i,cancelMagicLinkFlow:a}=t.default.useMemo(()=>r.createMagicLinkFlow(),[r]);return t.default.useEffect(()=>a,[]),{startMagicLinkFlow:i,cancelMagicLinkFlow:a}}return Qj.useMagicLink=n,Qj}var BBe;function iIt(){return BBe||(BBe=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=yf;t.__exportStar(qDt(),e),t.__exportStar(KDt(),e),t.__exportStar(XDt(),e),t.__exportStar(ZDt(),e),t.__exportStar(QDt(),e),t.__exportStar(JDt(),e),t.__exportStar(eIt(),e),t.__exportStar(tIt(),e),t.__exportStar(nIt(),e),t.__exportStar(rIt(),e),t.__exportStar(eit(),e)}(nme)),nme}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.useMagicLink=e.MagicLinkErrorCode=e.isMagicLinkError=void 0;const t=yf;t.__exportStar(FDt(),e),t.__exportStar(GDt(),e),t.__exportStar(iIt(),e);var n=Ak();Object.defineProperty(e,"isMagicLinkError",{enumerable:!0,get:function(){return n.isMagicLinkError}}),Object.defineProperty(e,"MagicLinkErrorCode",{enumerable:!0,get:function(){return n.MagicLinkErrorCode}});var r=eit();Object.defineProperty(e,"useMagicLink",{enumerable:!0,get:function(){return r.useMagicLink}}),typeof $e>"u"&&typeof window<"u"&&!window.global&&(window.global=window)})(MS);/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rV(){return rV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rV.apply(this,arguments)}var _R;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_R||(_R={}));const HBe="popstate";function aIt(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:s,hash:u}=r.location;return d2e("",{pathname:a,search:s,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fne(i)}return sIt(t,n,null,e)}function gd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function E$e(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oIt(){return Math.random().toString(36).substr(2,8)}function UBe(e,t){return{usr:e.state,key:e.key,idx:t}}function d2e(e,t,n,r){return n===void 0&&(n=null),rV({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?E8(t):t,{state:n,key:t&&t.key||r||oIt()})}function Fne(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function E8(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function sIt(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,u=_R.Pop,f=null,d=c();d==null&&(d=0,s.replaceState(rV({},s.state,{idx:d}),""));function c(){return(s.state||{idx:null}).idx}function h(){u=_R.Pop;let w=c(),_=w==null?null:w-d;d=w,f&&f({action:u,location:y.location,delta:_})}function p(w,_){u=_R.Push;let S=d2e(y.location,w,_);n&&n(S,w),d=c()+1;let C=UBe(S,d),$=y.createHref(S);try{s.pushState(C,"",$)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign($)}a&&f&&f({action:u,location:y.location,delta:1})}function v(w,_){u=_R.Replace;let S=d2e(y.location,w,_);n&&n(S,w),d=c();let C=UBe(S,d),$=y.createHref(S);s.replaceState(C,"",$),a&&f&&f({action:u,location:y.location,delta:0})}function m(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof w=="string"?w:Fne(w);return gd(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let y={get action(){return u},get location(){return e(i,s)},listen(w){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(HBe,h),f=w,()=>{i.removeEventListener(HBe,h),f=null}},createHref(w){return t(i,w)},createURL:m,encodeLocation(w){let _=m(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:v,go(w){return s.go(w)}};return y}var VBe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(VBe||(VBe={}));function uIt(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?E8(t):t,i=C$e(r.pathname||"/",n);if(i==null)return null;let a=tit(e);lIt(a);let s=null;for(let u=0;s==null&&u<a.length;++u)s=yIt(a[u],_It(i));return s}function tit(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,u)=>{let f={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};f.relativePath.startsWith("/")&&(gd(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let d=UR([r,f.relativePath]),c=n.concat(f);a.children&&a.children.length>0&&(gd(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),tit(a.children,t,c,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:vIt(d,a.index),routesMeta:c})};return e.forEach((a,s)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,s);else for(let f of nit(a.path))i(a,s,f)}),t}function nit(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=nit(r.join("/")),u=[];return u.push(...s.map(f=>f===""?a:[a,f].join("/"))),i&&u.push(...s),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function lIt(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mIt(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cIt=/^:\w+$/,fIt=3,dIt=2,hIt=1,gIt=10,pIt=-2,WBe=e=>e==="*";function vIt(e,t){let n=e.split("/"),r=n.length;return n.some(WBe)&&(r+=pIt),t&&(r+=dIt),n.filter(i=>!WBe(i)).reduce((i,a)=>i+(cIt.test(a)?fIt:a===""?hIt:gIt),r)}function mIt(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function yIt(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let s=0;s<n.length;++s){let u=n[s],f=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",c=bIt({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},d);if(!c)return null;Object.assign(r,c.params);let h=u.route;a.push({params:r,pathname:UR([i,c.pathname]),pathnameBase:CIt(UR([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=UR([i,c.pathnameBase]))}return a}function bIt(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=wIt(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((d,c,h)=>{if(c==="*"){let p=u[h]||"";s=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}return d[c]=xIt(u[h]||"",c),d},{}),pathname:a,pathnameBase:s,pattern:e}}function wIt(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),E$e(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,u)=>(r.push(u),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function _It(e){try{return decodeURI(e)}catch(t){return E$e(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xIt(e,t){try{return decodeURIComponent(e)}catch(n){return E$e(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function C$e(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function SIt(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?E8(e):e;return{pathname:n?n.startsWith("/")?n:EIt(n,t):t,search:$It(r),hash:kIt(i)}}function EIt(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ome(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rit(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function iit(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=E8(e):(i=rV({},e),gd(!i.pathname||!i.pathname.includes("?"),ome("?","pathname","search",i)),gd(!i.pathname||!i.pathname.includes("#"),ome("#","pathname","hash",i)),gd(!i.search||!i.search.includes("#"),ome("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,u;if(r||s==null)u=n;else{let h=t.length-1;if(s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}u=h>=0?t[h]:"/"}let f=SIt(i,u),d=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||c)&&(f.pathname+="/"),f}const UR=e=>e.join("/").replace(/\/\/+/g,"/"),CIt=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$It=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kIt=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function OIt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nne(){return Nne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nne.apply(this,arguments)}const $$e=z.createContext(null),ait=z.createContext(null),JP=z.createContext(null),foe=z.createContext(null),J3=z.createContext({outlet:null,matches:[],isDataRoute:!1}),oit=z.createContext(null);function AIt(e,t){let{relative:n}=t===void 0?{}:t;HW()||gd(!1);let{basename:r,navigator:i}=z.useContext(JP),{hash:a,pathname:s,search:u}=k$e(e,{relative:n}),f=s;return r!=="/"&&(f=s==="/"?r:UR([r,s])),i.createHref({pathname:f,search:u,hash:a})}function HW(){return z.useContext(foe)!=null}function UW(){return HW()||gd(!1),z.useContext(foe).location}function sit(e){z.useContext(JP).static||z.useLayoutEffect(e)}function uit(){let{isDataRoute:e}=z.useContext(J3);return e?VIt():RIt()}function RIt(){HW()||gd(!1);let e=z.useContext($$e),{basename:t,navigator:n}=z.useContext(JP),{matches:r}=z.useContext(J3),{pathname:i}=UW(),a=JSON.stringify(rit(r).map(f=>f.pathnameBase)),s=z.useRef(!1);return sit(()=>{s.current=!0}),z.useCallback(function(f,d){if(d===void 0&&(d={}),!s.current)return;if(typeof f=="number"){n.go(f);return}let c=iit(f,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:UR([t,c.pathname])),(d.replace?n.replace:n.push)(c,d.state,d)},[t,n,a,i,e])}const TIt=z.createContext(null);function MIt(e){let t=z.useContext(J3).outlet;return t&&z.createElement(TIt.Provider,{value:e},t)}function k$e(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=z.useContext(J3),{pathname:i}=UW(),a=JSON.stringify(rit(r).map(s=>s.pathnameBase));return z.useMemo(()=>iit(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function PIt(e,t){return LIt(e,t)}function LIt(e,t,n){HW()||gd(!1);let{navigator:r}=z.useContext(JP),{matches:i}=z.useContext(J3),a=i[i.length-1],s=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let f=UW(),d;if(t){var c;let y=typeof t=="string"?E8(t):t;u==="/"||(c=y.pathname)!=null&&c.startsWith(u)||gd(!1),d=y}else d=f;let h=d.pathname||"/",p=u==="/"?h:h.slice(u.length)||"/",v=uIt(e,{pathname:p}),m=zIt(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:UR([u,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:UR([u,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return t&&m?z.createElement(foe.Provider,{value:{location:Nne({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:_R.Pop}},m):m}function DIt(){let e=UIt(),t=OIt(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:i},n):null,a)}const IIt=z.createElement(DIt,null);class FIt extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?z.createElement(J3.Provider,{value:this.props.routeContext},z.createElement(oit.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NIt(e){let{routeContext:t,match:n,children:r}=e,i=z.useContext($$e);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(J3.Provider,{value:t},r)}function zIt(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let a=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let u=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id]));u>=0||gd(!1),a=a.slice(0,Math.min(a.length,u+1))}return a.reduceRight((u,f,d)=>{let c=f.route.id?s==null?void 0:s[f.route.id]:null,h=null;n&&(h=f.route.errorElement||IIt);let p=t.concat(a.slice(0,d+1)),v=()=>{let m;return c?m=h:f.route.Component?m=z.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=u,z.createElement(NIt,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:m})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?z.createElement(FIt,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()},null)}var h2e;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(h2e||(h2e={}));var iV;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(iV||(iV={}));function jIt(e){let t=z.useContext($$e);return t||gd(!1),t}function BIt(e){let t=z.useContext(ait);return t||gd(!1),t}function HIt(e){let t=z.useContext(J3);return t||gd(!1),t}function lit(e){let t=HIt(),n=t.matches[t.matches.length-1];return n.route.id||gd(!1),n.route.id}function UIt(){var e;let t=z.useContext(oit),n=BIt(iV.UseRouteError),r=lit(iV.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function VIt(){let{router:e}=jIt(h2e.UseNavigateStable),t=lit(iV.UseNavigateStable),n=z.useRef(!1);return sit(()=>{n.current=!0}),z.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Nne({fromRouteId:t},a)))},[e,t])}function WIt(e){return MIt(e.context)}function qM(e){gd(!1)}function GIt(e){let{basename:t="/",children:n=null,location:r,navigationType:i=_R.Pop,navigator:a,static:s=!1}=e;HW()&&gd(!1);let u=t.replace(/^\/*/,"/"),f=z.useMemo(()=>({basename:u,navigator:a,static:s}),[u,a,s]);typeof r=="string"&&(r=E8(r));let{pathname:d="/",search:c="",hash:h="",state:p=null,key:v="default"}=r,m=z.useMemo(()=>{let y=C$e(d,u);return y==null?null:{location:{pathname:y,search:c,hash:h,state:p,key:v},navigationType:i}},[u,d,c,h,p,v,i]);return m==null?null:z.createElement(JP.Provider,{value:f},z.createElement(foe.Provider,{children:n,value:m}))}function qIt(e){let{children:t,location:n}=e;return PIt(g2e(t),n)}var GBe;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(GBe||(GBe={}));new Promise(()=>{});function g2e(e,t){t===void 0&&(t=[]);let n=[];return z.Children.forEach(e,(r,i)=>{if(!z.isValidElement(r))return;let a=[...t,i];if(r.type===z.Fragment){n.push.apply(n,g2e(r.props.children,a));return}r.type!==qM&&gd(!1),!r.props.index||!r.props.children||gd(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=g2e(r.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zne(){return zne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zne.apply(this,arguments)}function cit(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function YIt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function KIt(e,t){return e.button===0&&(!t||t==="_self")&&!YIt(e)}const XIt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],ZIt=["aria-current","caseSensitive","className","end","style","to","children"],qBe="startTransition";function QIt(e){let{basename:t,children:n,window:r}=e,i=z.useRef();i.current==null&&(i.current=aIt({window:r,v5Compat:!0}));let a=i.current,[s,u]=z.useState({action:a.action,location:a.location}),f=z.useCallback(d=>{qBe in Q5?Q5[qBe](()=>u(d)):u(d)},[u]);return z.useLayoutEffect(()=>a.listen(f),[a,f]),z.createElement(GIt,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}const JIt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e6t=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,doe=z.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:u,target:f,to:d,preventScrollReset:c}=t,h=cit(t,XIt),{basename:p}=z.useContext(JP),v,m=!1;if(typeof d=="string"&&e6t.test(d)&&(v=d,JIt))try{let S=new URL(window.location.href),C=d.startsWith("//")?new URL(S.protocol+d):new URL(d),$=C$e(C.pathname,p);C.origin===S.origin&&$!=null?d=$+C.search+C.hash:m=!0}catch{}let y=AIt(d,{relative:i}),w=n6t(d,{replace:s,state:u,target:f,preventScrollReset:c,relative:i});function _(S){r&&r(S),S.defaultPrevented||w(S)}return z.createElement("a",zne({},h,{href:v||y,onClick:m||a?r:_,ref:n,target:f}))}),t6t=z.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:u,to:f,children:d}=t,c=cit(t,ZIt),h=k$e(f,{relative:c.relative}),p=UW(),v=z.useContext(ait),{navigator:m}=z.useContext(JP),y=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=p.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(w=w.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase());let S=w===y||!s&&w.startsWith(y)&&w.charAt(y.length)==="/",C=_!=null&&(_===y||!s&&_.startsWith(y)&&_.charAt(y.length)==="/"),$=S?r:void 0,k;typeof a=="function"?k=a({isActive:S,isPending:C}):k=[a,S?"active":null,C?"pending":null].filter(Boolean).join(" ");let M=typeof u=="function"?u({isActive:S,isPending:C}):u;return z.createElement(doe,zne({},c,{"aria-current":$,className:k,ref:n,style:M,to:f}),typeof d=="function"?d({isActive:S,isPending:C}):d)});var YBe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(YBe||(YBe={}));var KBe;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(KBe||(KBe={}));function n6t(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s}=t===void 0?{}:t,u=uit(),f=UW(),d=k$e(e,{relative:s});return z.useCallback(c=>{if(KIt(c,n)){c.preventDefault();let h=r!==void 0?r:Fne(f)===Fne(d);u(e,{replace:h,state:i,preventScrollReset:a,relative:s})}},[f,u,d,r,i,n,e,a,s])}function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ha.apply(this,arguments)}function il(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function r6t(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function O$e(...e){return t=>e.forEach(n=>r6t(n,t))}function Jb(...e){return z.useCallback(O$e(...e),e)}function VW(e,t=[]){let n=[];function r(a,s){const u=z.createContext(s),f=n.length;n=[...n,s];function d(h){const{scope:p,children:v,...m}=h,y=(p==null?void 0:p[e][f])||u,w=z.useMemo(()=>m,Object.values(m));return z.createElement(y.Provider,{value:w},v)}function c(h,p){const v=(p==null?void 0:p[e][f])||u,m=z.useContext(v);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,c]}const i=()=>{const a=n.map(s=>z.createContext(s));return function(u){const f=(u==null?void 0:u[e])||a;return z.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return i.scopeName=e,[r,i6t(i,...t)]}function i6t(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((u,{useScope:f,scopeName:d})=>{const h=f(a)[`__scope${d}`];return{...u,...h}},{});return z.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function oE(e){const t=z.useRef(e);return z.useEffect(()=>{t.current=e}),z.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function fit({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=a6t({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,u=oE(n),f=z.useCallback(d=>{if(a){const h=typeof d=="function"?d(e):d;h!==e&&u(h)}else i(d)},[a,e,i,u]);return[s,f]}function a6t({defaultProp:e,onChange:t}){const n=z.useState(e),[r]=n,i=z.useRef(r),a=oE(t);return z.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}const aV=z.forwardRef((e,t)=>{const{children:n,...r}=e,i=z.Children.toArray(n),a=i.find(s6t);if(a){const s=a.props.children,u=i.map(f=>f===a?z.Children.count(s)>1?z.Children.only(null):z.isValidElement(s)?s.props.children:null:f);return z.createElement(p2e,ha({},r,{ref:t}),z.isValidElement(s)?z.cloneElement(s,void 0,u):null)}return z.createElement(p2e,ha({},r,{ref:t}),n)});aV.displayName="Slot";const p2e=z.forwardRef((e,t)=>{const{children:n,...r}=e;return z.isValidElement(n)?z.cloneElement(n,{...u6t(r,n.props),ref:t?O$e(t,n.ref):n.ref}):z.Children.count(n)>1?z.Children.only(null):null});p2e.displayName="SlotClone";const o6t=({children:e})=>z.createElement(z.Fragment,null,e);function s6t(e){return z.isValidElement(e)&&e.type===o6t}function u6t(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{a(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}const l6t=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Rk=l6t.reduce((e,t)=>{const n=z.forwardRef((r,i)=>{const{asChild:a,...s}=r,u=a?aV:t;return z.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),z.createElement(u,ha({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function dit(e,t){e&&Xb.flushSync(()=>e.dispatchEvent(t))}function hit(e){const t=e+"CollectionProvider",[n,r]=VW(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:m,children:y}=v,w=Xe.useRef(null),_=Xe.useRef(new Map).current;return Xe.createElement(i,{scope:m,itemMap:_,collectionRef:w},y)},u=e+"CollectionSlot",f=Xe.forwardRef((v,m)=>{const{scope:y,children:w}=v,_=a(u,y),S=Jb(m,_.collectionRef);return Xe.createElement(aV,{ref:S},w)}),d=e+"CollectionItemSlot",c="data-radix-collection-item",h=Xe.forwardRef((v,m)=>{const{scope:y,children:w,..._}=v,S=Xe.useRef(null),C=Jb(m,S),$=a(d,y);return Xe.useEffect(()=>($.itemMap.set(S,{ref:S,..._}),()=>void $.itemMap.delete(S))),Xe.createElement(aV,{[c]:"",ref:C},w)});function p(v){const m=a(e+"CollectionConsumer",v);return Xe.useCallback(()=>{const w=m.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${c}]`));return Array.from(m.itemMap.values()).sort(($,k)=>_.indexOf($.ref.current)-_.indexOf(k.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:f,ItemSlot:h},p,r]}const c6t=z.createContext(void 0);function git(e){const t=z.useContext(c6t);return e||t||"ltr"}function f6t(e,t=globalThis==null?void 0:globalThis.document){const n=oE(e);z.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const v2e="dismissableLayer.update",d6t="dismissableLayer.pointerDownOutside",h6t="dismissableLayer.focusOutside";let XBe;const g6t=z.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),p6t=z.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:u,onDismiss:f,...d}=e,c=z.useContext(g6t),[h,p]=z.useState(null),v=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,m]=z.useState({}),y=Jb(t,L=>p(L)),w=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),S=w.indexOf(_),C=h?w.indexOf(h):-1,$=c.layersWithOutsidePointerEventsDisabled.size>0,k=C>=S,M=v6t(L=>{const N=L.target,R=[...c.branches].some(D=>D.contains(N));!k||R||(a==null||a(L),u==null||u(L),L.defaultPrevented||f==null||f())},v),A=m6t(L=>{const N=L.target;[...c.branches].some(D=>D.contains(N))||(s==null||s(L),u==null||u(L),L.defaultPrevented||f==null||f())},v);return f6t(L=>{C===c.layers.size-1&&(i==null||i(L),!L.defaultPrevented&&f&&(L.preventDefault(),f()))},v),z.useEffect(()=>{if(h)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(XBe=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),ZBe(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=XBe)}},[h,v,r,c]),z.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),ZBe())},[h,c]),z.useEffect(()=>{const L=()=>m({});return document.addEventListener(v2e,L),()=>document.removeEventListener(v2e,L)},[]),z.createElement(Rk.div,ha({},d,{ref:y,style:{pointerEvents:$?k?"auto":"none":void 0,...e.style},onFocusCapture:il(e.onFocusCapture,A.onFocusCapture),onBlurCapture:il(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:il(e.onPointerDownCapture,M.onPointerDownCapture)}))});function v6t(e,t=globalThis==null?void 0:globalThis.document){const n=oE(e),r=z.useRef(!1),i=z.useRef(()=>{});return z.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let c=function(){pit(d6t,n,d,{discrete:!0})};var f=c;const d={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function m6t(e,t=globalThis==null?void 0:globalThis.document){const n=oE(e),r=z.useRef(!1);return z.useEffect(()=>{const i=a=>{a.target&&!r.current&&pit(h6t,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ZBe(){const e=new CustomEvent(v2e);document.dispatchEvent(e)}function pit(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?dit(i,a):i.dispatchEvent(a)}let sme=0;function y6t(){z.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:QBe()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:QBe()),sme++,()=>{sme===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),sme--}},[])}function QBe(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const ume="focusScope.autoFocusOnMount",lme="focusScope.autoFocusOnUnmount",JBe={bubbles:!1,cancelable:!0},b6t=z.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[u,f]=z.useState(null),d=oE(i),c=oE(a),h=z.useRef(null),p=Jb(t,y=>f(y)),v=z.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;z.useEffect(()=>{if(r){let S=function(M){if(v.paused||!u)return;const A=M.target;u.contains(A)?h.current=A:WA(h.current,{select:!0})},C=function(M){if(v.paused||!u)return;const A=M.relatedTarget;A!==null&&(u.contains(A)||WA(h.current,{select:!0}))},$=function(M){const A=document.activeElement;for(const L of M)L.removedNodes.length>0&&(u!=null&&u.contains(A)||WA(u))};var y=S,w=C,_=$;document.addEventListener("focusin",S),document.addEventListener("focusout",C);const k=new MutationObserver($);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",C),k.disconnect()}}},[r,u,v.paused]),z.useEffect(()=>{if(u){tHe.add(v);const y=document.activeElement;if(!u.contains(y)){const _=new CustomEvent(ume,JBe);u.addEventListener(ume,d),u.dispatchEvent(_),_.defaultPrevented||(w6t(C6t(vit(u)),{select:!0}),document.activeElement===y&&WA(u))}return()=>{u.removeEventListener(ume,d),setTimeout(()=>{const _=new CustomEvent(lme,JBe);u.addEventListener(lme,c),u.dispatchEvent(_),_.defaultPrevented||WA(y??document.body,{select:!0}),u.removeEventListener(lme,c),tHe.remove(v)},0)}}},[u,d,c,v]);const m=z.useCallback(y=>{if(!n&&!r||v.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(w&&_){const S=y.currentTarget,[C,$]=_6t(S);C&&$?!y.shiftKey&&_===$?(y.preventDefault(),n&&WA(C,{select:!0})):y.shiftKey&&_===C&&(y.preventDefault(),n&&WA($,{select:!0})):_===S&&y.preventDefault()}},[n,r,v.paused]);return z.createElement(Rk.div,ha({tabIndex:-1},s,{ref:p,onKeyDown:m}))});function w6t(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(WA(r,{select:t}),document.activeElement!==n)return}function _6t(e){const t=vit(e),n=eHe(t,e),r=eHe(t.reverse(),e);return[n,r]}function vit(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function eHe(e,t){for(const n of e)if(!x6t(n,{upTo:t}))return n}function x6t(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function S6t(e){return e instanceof HTMLInputElement&&"select"in e}function WA(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&S6t(e)&&t&&e.select()}}const tHe=E6t();function E6t(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nHe(e,t),e.unshift(t)},remove(t){var n;e=nHe(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function nHe(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function C6t(e){return e.filter(t=>t.tagName!=="A")}const iN=globalThis!=null&&globalThis.document?z.useLayoutEffect:()=>{},$6t=Q5["useId".toString()]||(()=>{});let k6t=0;function m2e(e){const[t,n]=z.useState($6t());return iN(()=>{e||n(r=>r??String(k6t++))},[e]),e||(t?`radix-${t}`:"")}function C8(e){return e.split("-")[1]}function A$e(e){return e==="y"?"height":"width"}function ek(e){return e.split("-")[0]}function eL(e){return["top","bottom"].includes(ek(e))?"x":"y"}function rHe(e,t,n){let{reference:r,floating:i}=e;const a=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,u=eL(t),f=A$e(u),d=r[f]/2-i[f]/2,c=u==="x";let h;switch(ek(t)){case"top":h={x:a,y:r.y-i.height};break;case"bottom":h={x:a,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:s};break;case"left":h={x:r.x-i.width,y:s};break;default:h={x:r.x,y:r.y}}switch(C8(t)){case"start":h[u]-=d*(n&&c?-1:1);break;case"end":h[u]+=d*(n&&c?-1:1)}return h}const O6t=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,u=a.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:h}=rHe(d,r,f),p=r,v={},m=0;for(let y=0;y<u.length;y++){const{name:w,fn:_}=u[y],{x:S,y:C,data:$,reset:k}=await _({x:c,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:v,rects:d,platform:s,elements:{reference:e,floating:t}});c=S??c,h=C??h,v={...v,[w]:{...v[w],...$}},k&&m<=50&&(m++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(d=k.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):k.rects),{x:c,y:h}=rHe(d,p,f)),y=-1)}return{x:c,y:h,placement:p,strategy:i,middlewareData:v}};function mit(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function jne(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function oV(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:s,elements:u,strategy:f}=e,{boundary:d="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:p=!1,padding:v=0}=t,m=mit(v),y=u[p?h==="floating"?"reference":"floating":h],w=jne(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:d,rootBoundary:c,strategy:f})),_=h==="floating"?{...s.floating,x:r,y:i}:s.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),C=await(a.isElement==null?void 0:a.isElement(S))&&await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1},$=jne(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_,offsetParent:S,strategy:f}):_);return{top:(w.top-$.top+m.top)/C.y,bottom:($.bottom-w.bottom+m.bottom)/C.y,left:(w.left-$.left+m.left)/C.x,right:($.right-w.right+m.right)/C.x}}const y2e=Math.min,YM=Math.max;function b2e(e,t,n){return YM(e,y2e(t,n))}const iHe=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e||{},{x:i,y:a,placement:s,rects:u,platform:f,elements:d}=t;if(n==null)return{};const c=mit(r),h={x:i,y:a},p=eL(s),v=A$e(p),m=await f.getDimensions(n),y=p==="y",w=y?"top":"left",_=y?"bottom":"right",S=y?"clientHeight":"clientWidth",C=u.reference[v]+u.reference[p]-h[p]-u.floating[v],$=h[p]-u.reference[p],k=await(f.getOffsetParent==null?void 0:f.getOffsetParent(n));let M=k?k[S]:0;M&&await(f.isElement==null?void 0:f.isElement(k))||(M=d.floating[S]||u.floating[v]);const A=C/2-$/2,L=c[w],N=M-m[v]-c[_],R=M/2-m[v]/2+A,D=b2e(L,R,N),j=C8(s)!=null&&R!=D&&u.reference[v]/2-(R<L?c[w]:c[_])-m[v]/2<0;return{[p]:h[p]-(j?R<L?L-R:N-R:0),data:{[p]:D,centerOffset:R-D}}}}),yit=["top","right","bottom","left"];yit.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const A6t={left:"right",right:"left",bottom:"top",top:"bottom"};function Bne(e){return e.replace(/left|right|bottom|top/g,t=>A6t[t])}function R6t(e,t,n){n===void 0&&(n=!1);const r=C8(e),i=eL(e),a=A$e(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=Bne(s)),{main:s,cross:Bne(s)}}const T6t={start:"end",end:"start"};function cme(e){return e.replace(/start|end/g,t=>T6t[t])}const M6t=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:a,initialPlacement:s,platform:u,elements:f}=t,{mainAxis:d=!0,crossAxis:c=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...y}=e,w=ek(r),_=ek(s)===s,S=await(u.isRTL==null?void 0:u.isRTL(f.floating)),C=h||(_||!m?[Bne(s)]:function(D){const j=Bne(D);return[cme(D),j,cme(j)]}(s));h||v==="none"||C.push(...function(D,j,U,H){const Y=C8(D);let Z=function(Q,ee,oe){const ue=["left","right"],ve=["right","left"],le=["top","bottom"],de=["bottom","top"];switch(Q){case"top":case"bottom":return oe?ee?ve:ue:ee?ue:ve;case"left":case"right":return ee?le:de;default:return[]}}(ek(D),U==="start",H);return Y&&(Z=Z.map(Q=>Q+"-"+Y),j&&(Z=Z.concat(Z.map(cme)))),Z}(s,m,v,S));const $=[s,...C],k=await oV(t,y),M=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&M.push(k[w]),c){const{main:D,cross:j}=R6t(r,a,S);M.push(k[D],k[j])}if(A=[...A,{placement:r,overflows:M}],!M.every(D=>D<=0)){var L,N;const D=(((L=i.flip)==null?void 0:L.index)||0)+1,j=$[D];if(j)return{data:{index:D,overflows:A},reset:{placement:j}};let U=(N=A.filter(H=>H.overflows[0]<=0).sort((H,Y)=>H.overflows[1]-Y.overflows[1])[0])==null?void 0:N.placement;if(!U)switch(p){case"bestFit":{var R;const H=(R=A.map(Y=>[Y.placement,Y.overflows.filter(Z=>Z>0).reduce((Z,Q)=>Z+Q,0)]).sort((Y,Z)=>Y[1]-Z[1])[0])==null?void 0:R[0];H&&(U=H);break}case"initialPlacement":U=s}if(r!==U)return{reset:{placement:U}}}return{}}}};function aHe(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function oHe(e){return yit.some(t=>e[t]>=0)}const P6t=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{strategy:n="referenceHidden",...r}=e,{rects:i}=t;switch(n){case"referenceHidden":{const a=aHe(await oV(t,{...r,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:oHe(a)}}}case"escaped":{const a=aHe(await oV(t,{...r,altBoundary:!0}),i.floating);return{data:{escapedOffsets:a,escaped:oHe(a)}}}default:return{}}}}},L6t=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(a,s){const{placement:u,platform:f,elements:d}=a,c=await(f.isRTL==null?void 0:f.isRTL(d.floating)),h=ek(u),p=C8(u),v=eL(u)==="x",m=["left","top"].includes(h)?-1:1,y=c&&v?-1:1,w=typeof s=="function"?s(a):s;let{mainAxis:_,crossAxis:S,alignmentAxis:C}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...w};return p&&typeof C=="number"&&(S=p==="end"?-1*C:C),v?{x:S*y,y:_*m}:{x:_*m,y:S*y}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function bit(e){return e==="x"?"y":"x"}const D6t=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:u={fn:w=>{let{x:_,y:S}=w;return{x:_,y:S}}},...f}=e,d={x:n,y:r},c=await oV(t,f),h=eL(ek(i)),p=bit(h);let v=d[h],m=d[p];if(a){const w=h==="y"?"bottom":"right";v=b2e(v+c[h==="y"?"top":"left"],v,v-c[w])}if(s){const w=p==="y"?"bottom":"right";m=b2e(m+c[p==="y"?"top":"left"],m,m-c[w])}const y=u.fn({...t,[h]:v,[p]:m});return{...y,data:{x:y.x-n,y:y.y-r}}}}},I6t=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=t,{offset:u=0,mainAxis:f=!0,crossAxis:d=!0}=e,c={x:n,y:r},h=eL(i),p=bit(h);let v=c[h],m=c[p];const y=typeof u=="function"?u(t):u,w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(f){const C=h==="y"?"height":"width",$=a.reference[h]-a.floating[C]+w.mainAxis,k=a.reference[h]+a.reference[C]-w.mainAxis;v<$?v=$:v>k&&(v=k)}if(d){var _,S;const C=h==="y"?"width":"height",$=["top","left"].includes(ek(i)),k=a.reference[p]-a.floating[C]+($&&((_=s.offset)==null?void 0:_[p])||0)+($?0:w.crossAxis),M=a.reference[p]+a.reference[C]+($?0:((S=s.offset)==null?void 0:S[p])||0)-($?w.crossAxis:0);m<k?m=k:m>M&&(m=M)}return{[h]:v,[p]:m}}}},F6t=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:a}=t,{apply:s=()=>{},...u}=e,f=await oV(t,u),d=ek(n),c=C8(n),h=eL(n)==="x",{width:p,height:v}=r.floating;let m,y;d==="top"||d==="bottom"?(m=d,y=c===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=d,m=c==="end"?"top":"bottom");const w=v-f[m],_=p-f[y],S=!t.middlewareData.shift;let C=w,$=_;if(h){const M=p-f.left-f.right;$=c||S?y2e(_,M):M}else{const M=v-f.top-f.bottom;C=c||S?y2e(w,M):M}if(S&&!c){const M=YM(f.left,0),A=YM(f.right,0),L=YM(f.top,0),N=YM(f.bottom,0);h?$=p-2*(M!==0||A!==0?M+A:YM(f.left,f.right)):C=v-2*(L!==0||N!==0?L+N:YM(f.top,f.bottom))}await s({...t,availableWidth:$,availableHeight:C});const k=await i.getDimensions(a.floating);return p!==k.width||v!==k.height?{reset:{rects:!0}}:{}}}};function Gb(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function f_(e){return Gb(e).getComputedStyle(e)}function wit(e){return e instanceof Gb(e).Node}function p3(e){return wit(e)?(e.nodeName||"").toLowerCase():""}function b_(e){return e instanceof Gb(e).HTMLElement}function J1(e){return e instanceof Gb(e).Element}function sHe(e){return typeof ShadowRoot>"u"?!1:e instanceof Gb(e).ShadowRoot||e instanceof ShadowRoot}function sV(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=f_(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function N6t(e){return["table","td","th"].includes(p3(e))}function w2e(e){const t=R$e(),n=f_(e);return n.transform!=="none"||n.perspective!=="none"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function R$e(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function hoe(e){return["html","body","#document"].includes(p3(e))}const uHe=Math.min,tU=Math.max,Hne=Math.round;function _it(e){const t=f_(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=b_(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,u=Hne(n)!==a||Hne(r)!==s;return u&&(n=a,r=s),{width:n,height:r,fallback:u}}function xit(e){return J1(e)?e:e.contextElement}const Sit={x:1,y:1};function EF(e){const t=xit(e);if(!b_(t))return Sit;const n=t.getBoundingClientRect(),{width:r,height:i,fallback:a}=_it(t);let s=(a?Hne(n.width):n.width)/r,u=(a?Hne(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),u&&Number.isFinite(u)||(u=1),{x:s,y:u}}const lHe={x:0,y:0};function Eit(e,t,n){var r,i;if(t===void 0&&(t=!0),!R$e())return lHe;const a=e?Gb(e):window;return!n||t&&n!==a?lHe:{x:((r=a.visualViewport)==null?void 0:r.offsetLeft)||0,y:((i=a.visualViewport)==null?void 0:i.offsetTop)||0}}function iP(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=xit(e);let s=Sit;t&&(r?J1(r)&&(s=EF(r)):s=EF(e));const u=Eit(a,n,r);let f=(i.left+u.x)/s.x,d=(i.top+u.y)/s.y,c=i.width/s.x,h=i.height/s.y;if(a){const p=Gb(a),v=r&&J1(r)?Gb(r):r;let m=p.frameElement;for(;m&&r&&v!==p;){const y=EF(m),w=m.getBoundingClientRect(),_=getComputedStyle(m);w.x+=(m.clientLeft+parseFloat(_.paddingLeft))*y.x,w.y+=(m.clientTop+parseFloat(_.paddingTop))*y.y,f*=y.x,d*=y.y,c*=y.x,h*=y.y,f+=w.x,d+=w.y,m=Gb(m).frameElement}}return jne({width:c,height:h,x:f,y:d})}function VR(e){return((wit(e)?e.ownerDocument:e.document)||window.document).documentElement}function goe(e){return J1(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Cit(e){return iP(VR(e)).left+goe(e).scrollLeft}function aN(e){if(p3(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sHe(e)&&e.host||VR(e);return sHe(t)?t.host:t}function $it(e){const t=aN(e);return hoe(t)?t.ownerDocument.body:b_(t)&&sV(t)?t:$it(t)}function nU(e,t){var n;t===void 0&&(t=[]);const r=$it(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=Gb(r);return i?t.concat(a,a.visualViewport||[],sV(r)?r:[]):t.concat(r,nU(r))}function cHe(e,t,n){let r;if(t==="viewport")r=function(i,a){const s=Gb(i),u=VR(i),f=s.visualViewport;let d=u.clientWidth,c=u.clientHeight,h=0,p=0;if(f){d=f.width,c=f.height;const v=R$e();(!v||v&&a==="fixed")&&(h=f.offsetLeft,p=f.offsetTop)}return{width:d,height:c,x:h,y:p}}(e,n);else if(t==="document")r=function(i){const a=VR(i),s=goe(i),u=i.ownerDocument.body,f=tU(a.scrollWidth,a.clientWidth,u.scrollWidth,u.clientWidth),d=tU(a.scrollHeight,a.clientHeight,u.scrollHeight,u.clientHeight);let c=-s.scrollLeft+Cit(i);const h=-s.scrollTop;return f_(u).direction==="rtl"&&(c+=tU(a.clientWidth,u.clientWidth)-f),{width:f,height:d,x:c,y:h}}(VR(e));else if(J1(t))r=function(i,a){const s=iP(i,!0,a==="fixed"),u=s.top+i.clientTop,f=s.left+i.clientLeft,d=b_(i)?EF(i):{x:1,y:1};return{width:i.clientWidth*d.x,height:i.clientHeight*d.y,x:f*d.x,y:u*d.y}}(t,n);else{const i=Eit(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return jne(r)}function kit(e,t){const n=aN(e);return!(n===t||!J1(n)||hoe(n))&&(f_(n).position==="fixed"||kit(n,t))}function fHe(e,t){return b_(e)&&f_(e).position!=="fixed"?t?t(e):e.offsetParent:null}function dHe(e,t){const n=Gb(e);if(!b_(e))return n;let r=fHe(e,t);for(;r&&N6t(r)&&f_(r).position==="static";)r=fHe(r,t);return r&&(p3(r)==="html"||p3(r)==="body"&&f_(r).position==="static"&&!w2e(r))?n:r||function(i){let a=aN(i);for(;b_(a)&&!hoe(a);){if(w2e(a))return a;a=aN(a)}return null}(e)||n}function z6t(e,t,n){const r=b_(t),i=VR(t),a=n==="fixed",s=iP(e,!0,a,t);let u={scrollLeft:0,scrollTop:0};const f={x:0,y:0};if(r||!r&&!a)if((p3(t)!=="body"||sV(i))&&(u=goe(t)),b_(t)){const d=iP(t,!0,a,t);f.x=d.x+t.clientLeft,f.y=d.y+t.clientTop}else i&&(f.x=Cit(i));return{x:s.left+u.scrollLeft-f.x,y:s.top+u.scrollTop-f.y,width:s.width,height:s.height}}const j6t={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=n==="clippingAncestors"?function(d,c){const h=c.get(d);if(h)return h;let p=nU(d).filter(w=>J1(w)&&p3(w)!=="body"),v=null;const m=f_(d).position==="fixed";let y=m?aN(d):d;for(;J1(y)&&!hoe(y);){const w=f_(y),_=w2e(y);_||w.position!=="fixed"||(v=null),(m?!_&&!v:!_&&w.position==="static"&&v&&["absolute","fixed"].includes(v.position)||sV(y)&&!_&&kit(d,y))?p=p.filter(S=>S!==y):v=w,y=aN(y)}return c.set(d,p),p}(t,this._c):[].concat(n),s=[...a,r],u=s[0],f=s.reduce((d,c)=>{const h=cHe(t,c,i);return d.top=tU(h.top,d.top),d.right=uHe(h.right,d.right),d.bottom=uHe(h.bottom,d.bottom),d.left=tU(h.left,d.left),d},cHe(t,u,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=b_(n),a=VR(n);if(n===a)return t;let s={scrollLeft:0,scrollTop:0},u={x:1,y:1};const f={x:0,y:0};if((i||!i&&r!=="fixed")&&((p3(n)!=="body"||sV(a))&&(s=goe(n)),b_(n))){const d=iP(n);u=EF(n),f.x=d.x+n.clientLeft,f.y=d.y+n.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-s.scrollLeft*u.x+f.x,y:t.y*u.y-s.scrollTop*u.y+f.y}},isElement:J1,getDimensions:function(e){return _it(e)},getOffsetParent:dHe,getDocumentElement:VR,getScale:EF,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||dHe,a=this.getDimensions;return{reference:z6t(t,await i(n),r),floating:{x:0,y:0,...await a(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>f_(e).direction==="rtl"};function B6t(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=!0,animationFrame:u=!1}=r,f=i||a?[...J1(e)?nU(e):e.contextElement?nU(e.contextElement):[],...nU(t)]:[];f.forEach(p=>{const v=!J1(p)&&p.toString().includes("V");!i||u&&!v||p.addEventListener("scroll",n,{passive:!0}),a&&p.addEventListener("resize",n)});let d,c=null;s&&(c=new ResizeObserver(()=>{n()}),J1(e)&&!u&&c.observe(e),J1(e)||!e.contextElement||u||c.observe(e.contextElement),c.observe(t));let h=u?iP(e):null;return u&&function p(){const v=iP(e);!h||v.x===h.x&&v.y===h.y&&v.width===h.width&&v.height===h.height||n(),h=v,d=requestAnimationFrame(p)}(),n(),()=>{var p;f.forEach(v=>{i&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),(p=c)==null||p.disconnect(),c=null,u&&cancelAnimationFrame(d)}}const H6t=(e,t,n)=>{const r=new Map,i={platform:j6t,...n},a={...i.platform,_c:r};return O6t(e,t,{...i,platform:a})},U6t=e=>{const{element:t,padding:n}=e;function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return t&&r(t)?t.current!=null?iHe({element:t.current,padding:n}).fn(i):{}:t?iHe({element:t,padding:n}).fn(i):{}}}};var dte=typeof document<"u"?z.useLayoutEffect:z.useEffect;function Une(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Une(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Une(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Oit(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hHe(e,t){const n=Oit(e);return Math.round(t*n)/n}function gHe(e){const t=z.useRef(e);return dte(()=>{t.current=e}),t}function V6t(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:u=!0,whileElementsMounted:f,open:d}=e,[c,h]=z.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,v]=z.useState(r);Une(p,r)||v(r);const[m,y]=z.useState(null),[w,_]=z.useState(null),S=z.useCallback(Z=>{Z!=M.current&&(M.current=Z,y(Z))},[y]),C=z.useCallback(Z=>{Z!==A.current&&(A.current=Z,_(Z))},[_]),$=a||m,k=s||w,M=z.useRef(null),A=z.useRef(null),L=z.useRef(c),N=gHe(f),R=gHe(i),D=z.useCallback(()=>{if(!M.current||!A.current)return;const Z={placement:t,strategy:n,middleware:p};R.current&&(Z.platform=R.current),H6t(M.current,A.current,Z).then(Q=>{const ee={...Q,isPositioned:!0};j.current&&!Une(L.current,ee)&&(L.current=ee,Xb.flushSync(()=>{h(ee)}))})},[p,t,n,R]);dte(()=>{d===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,h(Z=>({...Z,isPositioned:!1})))},[d]);const j=z.useRef(!1);dte(()=>(j.current=!0,()=>{j.current=!1}),[]),dte(()=>{if($&&(M.current=$),k&&(A.current=k),$&&k){if(N.current)return N.current($,k,D);D()}},[$,k,D,N]);const U=z.useMemo(()=>({reference:M,floating:A,setReference:S,setFloating:C}),[S,C]),H=z.useMemo(()=>({reference:$,floating:k}),[$,k]),Y=z.useMemo(()=>{const Z={position:n,left:0,top:0};if(!H.floating)return Z;const Q=hHe(H.floating,c.x),ee=hHe(H.floating,c.y);return u?{...Z,transform:"translate("+Q+"px, "+ee+"px)",...Oit(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:ee}},[n,u,H.floating,c.x,c.y]);return z.useMemo(()=>({...c,update:D,refs:U,elements:H,floatingStyles:Y}),[c,D,U,H,Y])}function W6t(e){const[t,n]=z.useState(void 0);return iN(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,u;if("borderBoxSize"in a){const f=a.borderBoxSize,d=Array.isArray(f)?f[0]:f;s=d.inlineSize,u=d.blockSize}else s=e.offsetWidth,u=e.offsetHeight;n({width:s,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const Ait="Popper",[Rit,Tit]=VW(Ait),[G6t,Mit]=Rit(Ait),q6t=e=>{const{__scopePopper:t,children:n}=e,[r,i]=z.useState(null);return z.createElement(G6t,{scope:t,anchor:r,onAnchorChange:i},n)},Y6t="PopperAnchor",K6t=z.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=Mit(Y6t,n),s=z.useRef(null),u=Jb(t,s);return z.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:z.createElement(Rk.div,ha({},i,{ref:u}))}),Pit="PopperContent",[X6t,Tbr]=Rit(Pit),Z6t=z.forwardRef((e,t)=>{var n,r,i,a,s,u,f,d;const{__scopePopper:c,side:h="bottom",sideOffset:p=0,align:v="center",alignOffset:m=0,arrowPadding:y=0,collisionBoundary:w=[],collisionPadding:_=0,sticky:S="partial",hideWhenDetached:C=!1,avoidCollisions:$=!0,onPlaced:k,...M}=e,A=Mit(Pit,c),[L,N]=z.useState(null),R=Jb(t,Ye=>N(Ye)),[D,j]=z.useState(null),U=W6t(D),H=(n=U==null?void 0:U.width)!==null&&n!==void 0?n:0,Y=(r=U==null?void 0:U.height)!==null&&r!==void 0?r:0,Z=h+(v!=="center"?"-"+v:""),Q=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},ee=Array.isArray(w)?w:[w],oe=ee.length>0,ue={padding:Q,boundary:ee.filter(Q6t),altBoundary:oe},{refs:ve,floatingStyles:le,placement:de,isPositioned:me,middlewareData:Se}=V6t({strategy:"fixed",placement:Z,whileElementsMounted:B6t,elements:{reference:A.anchor},middleware:[L6t({mainAxis:p+Y,alignmentAxis:m}),$&&D6t({mainAxis:!0,crossAxis:!1,limiter:S==="partial"?I6t():void 0,...ue}),$&&M6t({...ue}),F6t({...ue,apply:({elements:Ye,rects:ot,availableWidth:Ue,availableHeight:st})=>{const{width:at,height:St}=ot.reference,Vt=Ye.floating.style;Vt.setProperty("--radix-popper-available-width",`${Ue}px`),Vt.setProperty("--radix-popper-available-height",`${st}px`),Vt.setProperty("--radix-popper-anchor-width",`${at}px`),Vt.setProperty("--radix-popper-anchor-height",`${St}px`)}}),D&&U6t({element:D,padding:y}),J6t({arrowWidth:H,arrowHeight:Y}),C&&P6t({strategy:"referenceHidden"})]}),[Ee,xe]=Lit(de),Ie=oE(k);iN(()=>{me&&(Ie==null||Ie())},[me,Ie]);const Ne=(i=Se.arrow)===null||i===void 0?void 0:i.x,We=(a=Se.arrow)===null||a===void 0?void 0:a.y,Me=((s=Se.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[He,gt]=z.useState();return iN(()=>{L&&gt(window.getComputedStyle(L).zIndex)},[L]),z.createElement("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:me?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:He,["--radix-popper-transform-origin"]:[(u=Se.transformOrigin)===null||u===void 0?void 0:u.x,(f=Se.transformOrigin)===null||f===void 0?void 0:f.y].join(" ")},dir:e.dir},z.createElement(X6t,{scope:c,placedSide:Ee,onArrowChange:j,arrowX:Ne,arrowY:We,shouldHideArrow:Me},z.createElement(Rk.div,ha({"data-side":Ee,"data-align":xe},M,{ref:R,style:{...M.style,animation:me?void 0:"none",opacity:(d=Se.hide)!==null&&d!==void 0&&d.referenceHidden?0:void 0}}))))});function Q6t(e){return e!==null}const J6t=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,a,s;const{placement:u,rects:f,middlewareData:d}=t,h=((n=d.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,p=h?0:e.arrowWidth,v=h?0:e.arrowHeight,[m,y]=Lit(u),w={start:"0%",center:"50%",end:"100%"}[y],_=((r=(i=d.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+p/2,S=((a=(s=d.arrow)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0)+v/2;let C="",$="";return m==="bottom"?(C=h?w:`${_}px`,$=`${-v}px`):m==="top"?(C=h?w:`${_}px`,$=`${f.floating.height+v}px`):m==="right"?(C=`${-v}px`,$=h?w:`${S}px`):m==="left"&&(C=`${f.floating.width+v}px`,$=h?w:`${S}px`),{data:{x:C,y:$}}}});function Lit(e){const[t,n="center"]=e.split("-");return[t,n]}const eFt=q6t,tFt=K6t,nFt=Z6t,rFt=z.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?U5t.createPortal(z.createElement(Rk.div,ha({},i,{ref:t})),r):null});function iFt(e,t){return z.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const T$e=e=>{const{present:t,children:n}=e,r=aFt(t),i=typeof n=="function"?n({present:r.isPresent}):z.Children.only(n),a=Jb(r.ref,i.ref);return typeof n=="function"||r.isPresent?z.cloneElement(i,{ref:a}):null};T$e.displayName="Presence";function aFt(e){const[t,n]=z.useState(),r=z.useRef({}),i=z.useRef(e),a=z.useRef("none"),s=e?"mounted":"unmounted",[u,f]=iFt(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const d=iJ(r.current);a.current=u==="mounted"?d:"none"},[u]),iN(()=>{const d=r.current,c=i.current;if(c!==e){const p=a.current,v=iJ(d);e?f("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(c&&p!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),iN(()=>{if(t){const d=h=>{const v=iJ(r.current).includes(h.animationName);h.target===t&&v&&Xb.flushSync(()=>f("ANIMATION_END"))},c=h=>{h.target===t&&(a.current=iJ(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:z.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function iJ(e){return(e==null?void 0:e.animationName)||"none"}const fme="rovingFocusGroup.onEntryFocus",oFt={bubbles:!1,cancelable:!0},M$e="RovingFocusGroup",[_2e,Dit,sFt]=hit(M$e),[uFt,Iit]=VW(M$e,[sFt]),[lFt,cFt]=uFt(M$e),fFt=z.forwardRef((e,t)=>z.createElement(_2e.Provider,{scope:e.__scopeRovingFocusGroup},z.createElement(_2e.Slot,{scope:e.__scopeRovingFocusGroup},z.createElement(dFt,ha({},e,{ref:t}))))),dFt=z.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:d,...c}=e,h=z.useRef(null),p=Jb(t,h),v=git(a),[m=null,y]=fit({prop:s,defaultProp:u,onChange:f}),[w,_]=z.useState(!1),S=oE(d),C=Dit(n),$=z.useRef(!1),[k,M]=z.useState(0);return z.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(fme,S),()=>A.removeEventListener(fme,S)},[S]),z.createElement(lFt,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:m,onItemFocus:z.useCallback(A=>y(A),[y]),onItemShiftTab:z.useCallback(()=>_(!0),[]),onFocusableItemAdd:z.useCallback(()=>M(A=>A+1),[]),onFocusableItemRemove:z.useCallback(()=>M(A=>A-1),[])},z.createElement(Rk.div,ha({tabIndex:w||k===0?-1:0,"data-orientation":r},c,{ref:p,style:{outline:"none",...e.style},onMouseDown:il(e.onMouseDown,()=>{$.current=!0}),onFocus:il(e.onFocus,A=>{const L=!$.current;if(A.target===A.currentTarget&&L&&!w){const N=new CustomEvent(fme,oFt);if(A.currentTarget.dispatchEvent(N),!N.defaultPrevented){const R=C().filter(Y=>Y.focusable),D=R.find(Y=>Y.active),j=R.find(Y=>Y.id===m),H=[D,j,...R].filter(Boolean).map(Y=>Y.ref.current);Fit(H)}}$.current=!1}),onBlur:il(e.onBlur,()=>_(!1))})))}),hFt="RovingFocusGroupItem",gFt=z.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...s}=e,u=m2e(),f=a||u,d=cFt(hFt,n),c=d.currentTabStopId===f,h=Dit(n),{onFocusableItemAdd:p,onFocusableItemRemove:v}=d;return z.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),z.createElement(_2e.ItemSlot,{scope:n,id:f,focusable:r,active:i},z.createElement(Rk.span,ha({tabIndex:c?0:-1,"data-orientation":d.orientation},s,{ref:t,onMouseDown:il(e.onMouseDown,m=>{r?d.onItemFocus(f):m.preventDefault()}),onFocus:il(e.onFocus,()=>d.onItemFocus(f)),onKeyDown:il(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const y=mFt(m,d.orientation,d.dir);if(y!==void 0){m.preventDefault();let _=h().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const S=_.indexOf(m.currentTarget);_=d.loop?yFt(_,S+1):_.slice(S+1)}setTimeout(()=>Fit(_))}})})))}),pFt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vFt(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mFt(e,t,n){const r=vFt(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pFt[r]}function Fit(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function yFt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const bFt=fFt,wFt=gFt;var _Ft=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},JI=new WeakMap,aJ=new WeakMap,oJ={},dme=0,Nit=function(e){return e&&(e.host||Nit(e.parentNode))},xFt=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Nit(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},SFt=function(e,t,n,r){var i=xFt(t,Array.isArray(e)?e:[e]);oJ[n]||(oJ[n]=new WeakMap);var a=oJ[n],s=[],u=new Set,f=new Set(i),d=function(h){!h||u.has(h)||(u.add(h),d(h.parentNode))};i.forEach(d);var c=function(h){!h||f.has(h)||Array.prototype.forEach.call(h.children,function(p){if(u.has(p))c(p);else{var v=p.getAttribute(r),m=v!==null&&v!=="false",y=(JI.get(p)||0)+1,w=(a.get(p)||0)+1;JI.set(p,y),a.set(p,w),s.push(p),y===1&&m&&aJ.set(p,!0),w===1&&p.setAttribute(n,"true"),m||p.setAttribute(r,"true")}})};return c(t),u.clear(),dme++,function(){s.forEach(function(h){var p=JI.get(h)-1,v=a.get(h)-1;JI.set(h,p),a.set(h,v),p||(aJ.has(h)||h.removeAttribute(r),aJ.delete(h)),v||h.removeAttribute(n)}),dme--,dme||(JI=new WeakMap,JI=new WeakMap,aJ=new WeakMap,oJ={})}},EFt=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||_Ft(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),SFt(r,i,n,"aria-hidden")):function(){return null}},x2e=function(e,t){return x2e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},x2e(e,t)};function CFt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");x2e(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var wo=function(){return wo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},wo.apply(this,arguments)};function eT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function $Ft(e,t,n,r){var i=arguments.length,a=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(s=e[u])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function kFt(e,t){return function(n,r){t(n,r,e)}}function OFt(e,t,n,r,i,a){function s(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var u=r.kind,f=u==="getter"?"get":u==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,c=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),h,p=!1,v=n.length-1;v>=0;v--){var m={};for(var y in r)m[y]=y==="access"?{}:r[y];for(var y in r.access)m.access[y]=r.access[y];m.addInitializer=function(_){if(p)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(_||null))};var w=(0,n[v])(u==="accessor"?{get:c.get,set:c.set}:c[f],m);if(u==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=s(w.get))&&(c.get=h),(h=s(w.set))&&(c.set=h),(h=s(w.init))&&i.push(h)}else(h=s(w))&&(u==="field"?i.push(h):c[f]=h)}d&&Object.defineProperty(d,r.name,c),p=!0}function AFt(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function RFt(e){return typeof e=="symbol"?e:"".concat(e)}function TFt(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function MFt(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function PFt(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function u(c){try{d(r.next(c))}catch(h){s(h)}}function f(c){try{d(r.throw(c))}catch(h){s(h)}}function d(c){c.done?a(c.value):i(c.value).then(u,f)}d((r=r.apply(e,t||[])).next())})}function LFt(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(d){return function(c){return f([d,c])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(a=d[0]&2?i.return:d[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,d[1])).done)return a;switch(i=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){n.label=d[1];break}if(d[0]===6&&n.label<a[1]){n.label=a[1],a=d;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(d);break}a[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(c){d=[6,c],i=0}finally{r=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var P$e=Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function DFt(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&P$e(t,e,n)}function S2e(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function zit(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function IFt(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zit(arguments[t]));return e}function w_(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var a=arguments[t],s=0,u=a.length;s<u;s++,i++)r[i]=a[s];return r}function jit(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function uV(e){return this instanceof uV?(this.v=e,this):new uV(e)}function FFt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(p){r[p]&&(i[p]=function(v){return new Promise(function(m,y){a.push([p,v,m,y])>1||u(p,v)})})}function u(p,v){try{f(r[p](v))}catch(m){h(a[0][3],m)}}function f(p){p.value instanceof uV?Promise.resolve(p.value.v).then(d,c):h(a[0][2],p)}function d(p){u("next",p)}function c(p){u("throw",p)}function h(p,v){p(v),a.shift(),a.length&&u(a[0][0],a[0][1])}}function NFt(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,a){t[i]=e[i]?function(s){return(n=!n)?{value:uV(e[i](s)),done:!1}:a?a(s):s}:a}}function zFt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof S2e=="function"?S2e(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(s){return new Promise(function(u,f){s=e[a](s),i(u,f,s.done,s.value)})}}function i(a,s,u,f){Promise.resolve(f).then(function(d){a({value:d,done:u})},s)}}function jFt(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var BFt=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function HFt(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&P$e(t,e,n);return BFt(t,e),t}function UFt(e){return e&&e.__esModule?e:{default:e}}function VFt(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function WFt(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function GFt(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}const qFt=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return wo},__asyncDelegator:NFt,__asyncGenerator:FFt,__asyncValues:zFt,__await:uV,__awaiter:PFt,__classPrivateFieldGet:VFt,__classPrivateFieldIn:GFt,__classPrivateFieldSet:WFt,__createBinding:P$e,__decorate:$Ft,__esDecorate:OFt,__exportStar:DFt,__extends:CFt,__generator:LFt,__importDefault:UFt,__importStar:HFt,__makeTemplateObject:jFt,__metadata:MFt,__param:kFt,__propKey:RFt,__read:zit,__rest:eT,__runInitializers:AFt,__setFunctionName:TFt,__spread:IFt,__spreadArray:jit,__spreadArrays:w_,__values:S2e},Symbol.toStringTag,{value:"Module"}));var hte="right-scroll-bar-position",gte="width-before-scroll-bar",YFt="with-scroll-bars-hidden",KFt="--removed-body-scroll-bar-size";function XFt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ZFt(e,t){var n=z.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}function QFt(e,t){return ZFt(t||null,function(n){return e.forEach(function(r){return XFt(r,n)})})}function JFt(e){return e}function eNt(e,t){t===void 0&&(t=JFt);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(u){return u!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(u){return a(u)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var u=n;n=[],u.forEach(a),s=n}var f=function(){var c=s;s=[],c.forEach(a)},d=function(){return Promise.resolve().then(f)};d(),n={push:function(c){s.push(c),d()},filter:function(c){return s=s.filter(c),n}}}};return i}function tNt(e){e===void 0&&(e={});var t=eNt(null);return t.options=wo({async:!0,ssr:!1},e),t}var Bit=function(e){var t=e.sideCar,n=eT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return z.createElement(r,wo({},n))};Bit.isSideCarExport=!0;function nNt(e,t){return e.useMedium(t),Bit}var Hit=tNt(),hme=function(){},poe=z.forwardRef(function(e,t){var n=z.useRef(null),r=z.useState({onScrollCapture:hme,onWheelCapture:hme,onTouchMoveCapture:hme}),i=r[0],a=r[1],s=e.forwardProps,u=e.children,f=e.className,d=e.removeScrollBar,c=e.enabled,h=e.shards,p=e.sideCar,v=e.noIsolation,m=e.inert,y=e.allowPinchZoom,w=e.as,_=w===void 0?"div":w,S=eT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),C=p,$=QFt([n,t]),k=wo(wo({},S),i);return z.createElement(z.Fragment,null,c&&z.createElement(C,{sideCar:Hit,removeScrollBar:d,shards:h,noIsolation:v,inert:m,setCallbacks:a,allowPinchZoom:!!y,lockRef:n}),s?z.cloneElement(z.Children.only(u),wo(wo({},k),{ref:$})):z.createElement(_,wo({},k,{className:f,ref:$}),u))});poe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};poe.classNames={fullWidth:gte,zeroRight:hte};var pHe,rNt=function(){if(pHe)return pHe;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iNt(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rNt();return t&&e.setAttribute("nonce",t),e}function aNt(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function oNt(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var sNt=function(){var e=0,t=null;return{add:function(n){e==0&&(t=iNt())&&(aNt(t,n),oNt(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},uNt=function(){var e=sNt();return function(t,n){z.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Uit=function(){var e=uNt(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},lNt={left:0,top:0,right:0,gap:0},gme=function(e){return parseInt(e||"",10)||0},cNt=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[gme(n),gme(r),gme(i)]},fNt=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lNt;var t=cNt(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},dNt=Uit(),hNt=function(e,t,n,r){var i=e.left,a=e.top,s=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(YFt,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hte,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(gte,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(hte," .").concat(hte,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gte," .").concat(gte,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(KFt,": ").concat(u,`px;
  }
`)},gNt=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r,a=z.useMemo(function(){return fNt(i)},[i]);return z.createElement(dNt,{styles:hNt(a,!t,i,n?"":"!important")})},E2e=!1;if(typeof window<"u")try{var sJ=Object.defineProperty({},"passive",{get:function(){return E2e=!0,!0}});window.addEventListener("test",sJ,sJ),window.removeEventListener("test",sJ,sJ)}catch{E2e=!1}var e6=E2e?{passive:!1}:!1,pNt=function(e){return e.tagName==="TEXTAREA"},Vit=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!pNt(e)&&n[t]==="visible")},vNt=function(e){return Vit(e,"overflowY")},mNt=function(e){return Vit(e,"overflowX")},vHe=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Wit(e,n);if(r){var i=Git(e,n),a=i[1],s=i[2];if(a>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},yNt=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},bNt=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Wit=function(e,t){return e==="v"?vNt(t):mNt(t)},Git=function(e,t){return e==="v"?yNt(t):bNt(t)},wNt=function(e,t){return e==="h"&&t==="rtl"?-1:1},_Nt=function(e,t,n,r,i){var a=wNt(e,window.getComputedStyle(t).direction),s=a*r,u=n.target,f=t.contains(u),d=!1,c=s>0,h=0,p=0;do{var v=Git(e,u),m=v[0],y=v[1],w=v[2],_=y-w-a*m;(m||_)&&Wit(e,u)&&(h+=_,p+=m),u=u.parentNode}while(!f&&u!==document.body||f&&(t.contains(u)||t===u));return(c&&(i&&h===0||!i&&s>h)||!c&&(i&&p===0||!i&&-s>p))&&(d=!0),d},uJ=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mHe=function(e){return[e.deltaX,e.deltaY]},yHe=function(e){return e&&"current"in e?e.current:e},xNt=function(e,t){return e[0]===t[0]&&e[1]===t[1]},SNt=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ENt=0,t6=[];function CNt(e){var t=z.useRef([]),n=z.useRef([0,0]),r=z.useRef(),i=z.useState(ENt++)[0],a=z.useState(function(){return Uit()})[0],s=z.useRef(e);z.useEffect(function(){s.current=e},[e]),z.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=jit([e.lockRef.current],(e.shards||[]).map(yHe),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=z.useCallback(function(y,w){if("touches"in y&&y.touches.length===2)return!s.current.allowPinchZoom;var _=uJ(y),S=n.current,C="deltaX"in y?y.deltaX:S[0]-_[0],$="deltaY"in y?y.deltaY:S[1]-_[1],k,M=y.target,A=Math.abs(C)>Math.abs($)?"h":"v";if("touches"in y&&A==="h"&&M.type==="range")return!1;var L=vHe(A,M);if(!L)return!0;if(L?k=A:(k=A==="v"?"h":"v",L=vHe(A,M)),!L)return!1;if(!r.current&&"changedTouches"in y&&(C||$)&&(r.current=k),!k)return!0;var N=r.current||k;return _Nt(N,w,y,N==="h"?C:$,!0)},[]),f=z.useCallback(function(y){var w=y;if(!(!t6.length||t6[t6.length-1]!==a)){var _="deltaY"in w?mHe(w):uJ(w),S=t.current.filter(function(k){return k.name===w.type&&k.target===w.target&&xNt(k.delta,_)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var C=(s.current.shards||[]).map(yHe).filter(Boolean).filter(function(k){return k.contains(w.target)}),$=C.length>0?u(w,C[0]):!s.current.noIsolation;$&&w.cancelable&&w.preventDefault()}}},[]),d=z.useCallback(function(y,w,_,S){var C={name:y,delta:w,target:_,should:S};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function($){return $!==C})},1)},[]),c=z.useCallback(function(y){n.current=uJ(y),r.current=void 0},[]),h=z.useCallback(function(y){d(y.type,mHe(y),y.target,u(y,e.lockRef.current))},[]),p=z.useCallback(function(y){d(y.type,uJ(y),y.target,u(y,e.lockRef.current))},[]);z.useEffect(function(){return t6.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",f,e6),document.addEventListener("touchmove",f,e6),document.addEventListener("touchstart",c,e6),function(){t6=t6.filter(function(y){return y!==a}),document.removeEventListener("wheel",f,e6),document.removeEventListener("touchmove",f,e6),document.removeEventListener("touchstart",c,e6)}},[]);var v=e.removeScrollBar,m=e.inert;return z.createElement(z.Fragment,null,m?z.createElement(a,{styles:SNt(i)}):null,v?z.createElement(gNt,{gapMode:"margin"}):null)}const $Nt=nNt(Hit,CNt);var qit=z.forwardRef(function(e,t){return z.createElement(poe,wo({},e,{ref:t,sideCar:$Nt}))});qit.classNames=poe.classNames;const kNt=qit,ONt=["Enter"," "],ANt=["ArrowDown","PageUp","Home"],Yit=["ArrowUp","PageDown","End"],RNt=[...ANt,...Yit],voe="Menu",[C2e,TNt,MNt]=hit(voe),[tL,Kit]=VW(voe,[MNt,Tit,Iit]),L$e=Tit(),Xit=Iit(),[PNt,WW]=tL(voe),[LNt,D$e]=tL(voe),DNt=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:s=!0}=e,u=L$e(t),[f,d]=z.useState(null),c=z.useRef(!1),h=oE(a),p=git(i);return z.useEffect(()=>{const v=()=>{c.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>c.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),z.createElement(eFt,u,z.createElement(PNt,{scope:t,open:n,onOpenChange:h,content:f,onContentChange:d},z.createElement(LNt,{scope:t,onClose:z.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:c,dir:p,modal:s},r)))},INt=z.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=L$e(n);return z.createElement(tFt,ha({},i,r,{ref:t}))}),Zit="MenuPortal",[FNt,NNt]=tL(Zit,{forceMount:void 0}),zNt=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=WW(Zit,t);return z.createElement(FNt,{scope:t,forceMount:n},z.createElement(T$e,{present:n||a.open},z.createElement(rFt,{asChild:!0,container:i},r)))},WR="MenuContent",[jNt,Qit]=tL(WR),BNt=z.forwardRef((e,t)=>{const n=NNt(WR,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=WW(WR,e.__scopeMenu),s=D$e(WR,e.__scopeMenu);return z.createElement(C2e.Provider,{scope:e.__scopeMenu},z.createElement(T$e,{present:r||a.open},z.createElement(C2e.Slot,{scope:e.__scopeMenu},s.modal?z.createElement(HNt,ha({},i,{ref:t})):z.createElement(UNt,ha({},i,{ref:t})))))}),HNt=z.forwardRef((e,t)=>{const n=WW(WR,e.__scopeMenu),r=z.useRef(null),i=Jb(t,r);return z.useEffect(()=>{const a=r.current;if(a)return EFt(a)},[]),z.createElement(Jit,ha({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:il(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),UNt=z.forwardRef((e,t)=>{const n=WW(WR,e.__scopeMenu);return z.createElement(Jit,ha({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),Jit=z.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:h,onInteractOutside:p,onDismiss:v,disableOutsideScroll:m,...y}=e,w=WW(WR,n),_=D$e(WR,n),S=L$e(n),C=Xit(n),$=TNt(n),[k,M]=z.useState(null),A=z.useRef(null),L=Jb(t,A,w.onContentChange),N=z.useRef(0),R=z.useRef(""),D=z.useRef(0),j=z.useRef(null),U=z.useRef("right"),H=z.useRef(0),Y=m?kNt:z.Fragment,Z=m?{as:aV,allowPinchZoom:!0}:void 0,Q=oe=>{var ue,ve;const le=R.current+oe,de=$().filter(Ne=>!Ne.disabled),me=document.activeElement,Se=(ue=de.find(Ne=>Ne.ref.current===me))===null||ue===void 0?void 0:ue.textValue,Ee=de.map(Ne=>Ne.textValue),xe=QNt(Ee,le,Se),Ie=(ve=de.find(Ne=>Ne.textValue===xe))===null||ve===void 0?void 0:ve.ref.current;(function Ne(We){R.current=We,window.clearTimeout(N.current),We!==""&&(N.current=window.setTimeout(()=>Ne(""),1e3))})(le),Ie&&setTimeout(()=>Ie.focus())};z.useEffect(()=>()=>window.clearTimeout(N.current),[]),y6t();const ee=z.useCallback(oe=>{var ue,ve;return U.current===((ue=j.current)===null||ue===void 0?void 0:ue.side)&&e8t(oe,(ve=j.current)===null||ve===void 0?void 0:ve.area)},[]);return z.createElement(jNt,{scope:n,searchRef:R,onItemEnter:z.useCallback(oe=>{ee(oe)&&oe.preventDefault()},[ee]),onItemLeave:z.useCallback(oe=>{var ue;ee(oe)||((ue=A.current)===null||ue===void 0||ue.focus(),M(null))},[ee]),onTriggerLeave:z.useCallback(oe=>{ee(oe)&&oe.preventDefault()},[ee]),pointerGraceTimerRef:D,onPointerGraceIntentChange:z.useCallback(oe=>{j.current=oe},[])},z.createElement(Y,Z,z.createElement(b6t,{asChild:!0,trapped:i,onMountAutoFocus:il(a,oe=>{var ue;oe.preventDefault(),(ue=A.current)===null||ue===void 0||ue.focus()}),onUnmountAutoFocus:s},z.createElement(p6t,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:h,onInteractOutside:p,onDismiss:v},z.createElement(bFt,ha({asChild:!0},C,{dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:M,onEntryFocus:il(f,oe=>{_.isUsingKeyboardRef.current||oe.preventDefault()})}),z.createElement(nFt,ha({role:"menu","aria-orientation":"vertical","data-state":KNt(w.open),"data-radix-menu-content":"",dir:_.dir},S,y,{ref:L,style:{outline:"none",...y.style},onKeyDown:il(y.onKeyDown,oe=>{const ve=oe.target.closest("[data-radix-menu-content]")===oe.currentTarget,le=oe.ctrlKey||oe.altKey||oe.metaKey,de=oe.key.length===1;ve&&(oe.key==="Tab"&&oe.preventDefault(),!le&&de&&Q(oe.key));const me=A.current;if(oe.target!==me||!RNt.includes(oe.key))return;oe.preventDefault();const Ee=$().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);Yit.includes(oe.key)&&Ee.reverse(),XNt(Ee)}),onBlur:il(e.onBlur,oe=>{oe.currentTarget.contains(oe.target)||(window.clearTimeout(N.current),R.current="")}),onPointerMove:il(e.onPointerMove,k2e(oe=>{const ue=oe.target,ve=H.current!==oe.clientX;if(oe.currentTarget.contains(ue)&&ve){const le=oe.clientX>H.current?"right":"left";U.current=le,H.current=oe.clientX}}))})))))))}),$2e="MenuItem",bHe="menu.itemSelect",VNt=z.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=z.useRef(null),s=D$e($2e,e.__scopeMenu),u=Qit($2e,e.__scopeMenu),f=Jb(t,a),d=z.useRef(!1),c=()=>{const h=a.current;if(!n&&h){const p=new CustomEvent(bHe,{bubbles:!0,cancelable:!0});h.addEventListener(bHe,v=>r==null?void 0:r(v),{once:!0}),dit(h,p),p.defaultPrevented?d.current=!1:s.onClose()}};return z.createElement(WNt,ha({},i,{ref:f,disabled:n,onClick:il(e.onClick,c),onPointerDown:h=>{var p;(p=e.onPointerDown)===null||p===void 0||p.call(e,h),d.current=!0},onPointerUp:il(e.onPointerUp,h=>{var p;d.current||(p=h.currentTarget)===null||p===void 0||p.click()}),onKeyDown:il(e.onKeyDown,h=>{const p=u.searchRef.current!=="";n||p&&h.key===" "||ONt.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})}))}),WNt=z.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,s=Qit($2e,n),u=Xit(n),f=z.useRef(null),d=Jb(t,f),[c,h]=z.useState(!1),[p,v]=z.useState("");return z.useEffect(()=>{const m=f.current;if(m){var y;v(((y=m.textContent)!==null&&y!==void 0?y:"").trim())}},[a.children]),z.createElement(C2e.ItemSlot,{scope:n,disabled:r,textValue:i??p},z.createElement(wFt,ha({asChild:!0},u,{focusable:!r}),z.createElement(Rk.div,ha({role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},a,{ref:d,onPointerMove:il(e.onPointerMove,k2e(m=>{r?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus())})),onPointerLeave:il(e.onPointerLeave,k2e(m=>s.onItemLeave(m))),onFocus:il(e.onFocus,()=>h(!0)),onBlur:il(e.onBlur,()=>h(!1))}))))}),GNt="MenuRadioGroup";tL(GNt,{value:void 0,onValueChange:()=>{}});const qNt="MenuItemIndicator";tL(qNt,{checked:!1});const YNt="MenuSub";tL(YNt);function KNt(e){return e?"open":"closed"}function XNt(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function ZNt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function QNt(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let s=ZNt(e,Math.max(a,0));i.length===1&&(s=s.filter(d=>d!==n));const f=s.find(d=>d.toLowerCase().startsWith(i.toLowerCase()));return f!==n?f:void 0}function JNt(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const u=t[a].x,f=t[a].y,d=t[s].x,c=t[s].y;f>r!=c>r&&n<(d-u)*(r-f)/(c-f)+u&&(i=!i)}return i}function e8t(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return JNt(n,t)}function k2e(e){return t=>t.pointerType==="mouse"?e(t):void 0}const t8t=DNt,n8t=INt,r8t=zNt,i8t=BNt,a8t=VNt,eat="DropdownMenu",[o8t,Mbr]=VW(eat,[Kit]),GW=Kit(),[s8t,tat]=o8t(eat),u8t=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:s,modal:u=!0}=e,f=GW(t),d=z.useRef(null),[c=!1,h]=fit({prop:i,defaultProp:a,onChange:s});return z.createElement(s8t,{scope:t,triggerId:m2e(),triggerRef:d,contentId:m2e(),open:c,onOpenChange:h,onOpenToggle:z.useCallback(()=>h(p=>!p),[h]),modal:u},z.createElement(t8t,ha({},f,{open:c,onOpenChange:h,dir:r,modal:u}),n))},l8t="DropdownMenuTrigger",c8t=z.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=tat(l8t,n),s=GW(n);return z.createElement(n8t,ha({asChild:!0},s),z.createElement(Rk.button,ha({type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:O$e(t,a.triggerRef),onPointerDown:il(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(a.onOpenToggle(),a.open||u.preventDefault())}),onKeyDown:il(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&a.onOpenToggle(),u.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})))}),f8t=e=>{const{__scopeDropdownMenu:t,...n}=e,r=GW(t);return z.createElement(r8t,ha({},r,n))},d8t="DropdownMenuContent",h8t=z.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=tat(d8t,n),a=GW(n),s=z.useRef(!1);return z.createElement(i8t,ha({id:i.contentId,"aria-labelledby":i.triggerId},a,r,{ref:t,onCloseAutoFocus:il(e.onCloseAutoFocus,u=>{var f;s.current||(f=i.triggerRef.current)===null||f===void 0||f.focus(),s.current=!1,u.preventDefault()}),onInteractOutside:il(e.onInteractOutside,u=>{const f=u.detail.originalEvent,d=f.button===0&&f.ctrlKey===!0,c=f.button===2||d;(!i.modal||c)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),g8t=z.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=GW(n);return z.createElement(a8t,ha({},i,r,{ref:t}))}),p8t=u8t,v8t=c8t,m8t=f8t,y8t=h8t,wHe=g8t;function b8t(){const{isLoaded:e}=MS.useAuth(),{user:t}=MS.useUser(),n=uit();return z.useEffect(()=>{t&&window.location.hash==="#new"&&n("/temp/#new")},[n,t]),!e||!t?null:bi("div",{className:"h-screen grid grid-rows-[auto_minmax(0,1fr)]",children:[bi("nav",{className:"p-4 flex items-center gap-2 justify-between w-full bg-gradient-to-t from-white to-slate-50",children:[xt("div",{className:"flex items-center gap-2",children:xt(t6t,{to:"/",className:"text-neutral-500 hover:text-black aria-[current=page]:text-blue-600",children:"Dashboard"})}),bi(p8t,{children:[xt(v8t,{asChild:!0,children:xt("button",{className:"rounded-full hover:outline hover:outline-neutral-200",children:xt("img",{src:t.profileImageUrl,className:"rounded-full w-8 h-8",alt:"Profile"})})}),xt(m8t,{children:bi(y8t,{className:"p-2 border rounded bg-white shadow will-change-[opacity,transform] data-[side=top]:animate-slideDownAndFade data-[side=right]:animate-slideLeftAndFade data-[side=bottom]:animate-slideUpAndFade data-[side=left]:animate-slideRightAndFade grid gap-1 min-w-[6rem]",align:"end",sideOffset:5,children:[xt(wHe,{asChild:!0,children:xt(doe,{to:"/profile",className:"hover:outline-none hover:text-blue-600",children:"Profile"})}),xt(wHe,{className:"hover:outline-none",children:xt(MS.SignOutButton,{children:xt("button",{className:"hover:outline-none hover:text-blue-600 text-left",children:"Sign Out"})})})]})})]})]}),xt(WIt,{})]})}function nat({children:e}){return xt("h1",{className:"text-4xl font-bold text-neutral-700",children:e})}function w8t({children:e}){return xt("h2",{className:"text-3xl font-bold text-neutral-700",children:e})}function _He({children:e}){return xt("p",{className:"text-neutral-500",children:e})}function O2e({children:e}){return xt("section",{className:"grid gap-4",children:e})}function rat({children:e}){return xt("div",{className:"grid gap-16 max-w-3xl mx-auto mt-12 px-4 content-start w-full",children:e})}function _8t(){return TPt(async()=>{const e=await fetch("/api/project/new",{method:"POST"}).then(t=>t.json());return console.log(e),e}),_rt(["projects"],()=>fetch("/api/project/list").then(e=>e.json()),{retry:!1}),xt(rat,{children:bi(O2e,{children:[xt(nat,{children:"Dashboard"}),xt(doe,{to:"/temp",className:"text-blue-600 hover:underline",children:"Open the Editor"})]})})}function x8t(){return bi("div",{role:"status",children:[bi("svg",{"aria-hidden":"true",className:"w-8 h-8 mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[xt("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),xt("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),xt("span",{className:"sr-only",children:"Loading..."})]})}const xHe=e=>{let t;const n=new Set,r=(f,d)=>{const c=typeof f=="function"?f(t):f;if(!Object.is(c,t)){const h=t;t=d??typeof c!="object"?c:Object.assign({},t,c),n.forEach(p=>p(t,h))}},i=()=>t,u={setState:r,getState:i,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{({VITE_CLERK_PUBLIC_KEY:"pk_test_cHJvdmVuLWJvYmNhdC0xOC5jbGVyay5hY2NvdW50cy5kZXYk",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,u),u},iat=e=>e?xHe(e):xHe;var A2e={},S8t={get exports(){return A2e},set exports(e){A2e=e}},aat={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var moe=z,E8t=Lne;function C8t(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $8t=typeof Object.is=="function"?Object.is:C8t,k8t=E8t.useSyncExternalStore,O8t=moe.useRef,A8t=moe.useEffect,R8t=moe.useMemo,T8t=moe.useDebugValue;aat.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=O8t(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=R8t(function(){function f(v){if(!d){if(d=!0,c=v,v=r(v),i!==void 0&&s.hasValue){var m=s.value;if(i(m,v))return h=m}return h=v}if(m=h,$8t(c,v))return m;var y=r(v);return i!==void 0&&i(m,y)?m:(c=v,h=y)}var d=!1,c,h,p=n===void 0?null:n;return[function(){return f(t())},p===null?void 0:function(){return f(p())}]},[t,n,r,i]);var u=k8t(e,a[0],a[1]);return A8t(function(){s.hasValue=!0,s.value=u},[u]),T8t(u),u};(function(e){e.exports=aat})(S8t);const M8t=DW(A2e),{useSyncExternalStoreWithSelector:P8t}=M8t;function oat(e,t=e.getState,n){const r=P8t(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return z.useDebugValue(r),r}const SHe=e=>{({VITE_CLERK_PUBLIC_KEY:"pk_test_cHJvdmVuLWJvYmNhdC0xOC5jbGVyay5hY2NvdW50cy5kZXYk",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?iat(e):e,n=(r,i)=>oat(t,r,i);return Object.assign(n,t),n},nL=e=>e?SHe(e):SHe,R2e=new Map,lJ=e=>{const t=R2e.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},L8t=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=R2e.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return R2e.set(n.name,i),{type:"tracked",store:e,...i}},D8t=(e,t={})=>(n,r,i)=>{const{enabled:a,anonymousActionType:s,store:u,...f}=t;let d;try{d=(a??({VITE_CLERK_PUBLIC_KEY:"pk_test_cHJvdmVuLWJvYmNhdC0xOC5jbGVyay5hY2NvdW50cy5kZXYk",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return({VITE_CLERK_PUBLIC_KEY:"pk_test_cHJvdmVuLWJvYmNhdC0xOC5jbGVyay5hY2NvdW50cy5kZXYk",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&a&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,i);const{connection:c,...h}=L8t(u,d,f);let p=!0;i.setState=(y,w,_)=>{const S=n(y,w);if(!p)return S;const C=_===void 0?{type:s||"anonymous"}:typeof _=="string"?{type:_}:_;return u===void 0?(c==null||c.send(C,r()),S):(c==null||c.send({...C,type:`${u}/${C.type}`},{...lJ(f.name),[u]:i.getState()}),S)};const v=(...y)=>{const w=p;p=!1,n(...y),p=w},m=e(i.setState,r,i);if(h.type==="untracked"?c==null||c.init(m):(h.stores[h.store]=i,c==null||c.init(Object.fromEntries(Object.entries(h.stores).map(([y,w])=>[y,y===h.store?m:w.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let y=!1;const w=i.dispatch;i.dispatch=(..._)=>{({VITE_CLERK_PUBLIC_KEY:"pk_test_cHJvdmVuLWJvYmNhdC0xOC5jbGVyay5hY2NvdW50cy5kZXYk",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&_[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),w(..._)}}return c.subscribe(y=>{var w;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return pme(y.payload,_=>{if(_.type==="__setState"){if(u===void 0){v(_.state);return}Object.keys(_.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const S=_.state[u];if(S==null)return;JSON.stringify(i.getState())!==JSON.stringify(S)&&v(S);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(_)});case"DISPATCH":switch(y.payload.type){case"RESET":return v(m),u===void 0?c==null?void 0:c.init(i.getState()):c==null?void 0:c.init(lJ(f.name));case"COMMIT":if(u===void 0){c==null||c.init(i.getState());return}return c==null?void 0:c.init(lJ(f.name));case"ROLLBACK":return pme(y.state,_=>{if(u===void 0){v(_),c==null||c.init(i.getState());return}v(_[u]),c==null||c.init(lJ(f.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return pme(y.state,_=>{if(u===void 0){v(_);return}JSON.stringify(i.getState())!==JSON.stringify(_[u])&&v(_[u])});case"IMPORT_STATE":{const{nextLiftedState:_}=y.payload,S=(w=_.computedStates.slice(-1)[0])==null?void 0:w.state;if(!S)return;v(u===void 0?S:S[u]),c==null||c.send(null,_);return}case"PAUSE_RECORDING":return p=!p}return}}),m},qW=D8t,pme=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)},I8t=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(s,u,f)=>{let d=s;if(u){const c=(f==null?void 0:f.equalityFn)||Object.is;let h=s(r.getState());d=p=>{const v=s(p);if(!c(h,v)){const m=h;u(h=v,m)}},f!=null&&f.fireImmediately&&u(h,h)}return i(d)},e(t,n,r)},sat=I8t;function F8t(e){let t;try{t=e()}catch{return}return{getItem:r=>{var i;const a=u=>u===null?null:JSON.parse(u),s=(i=t.getItem(r))!=null?i:null;return s instanceof Promise?s.then(a):a(s)},setItem:(r,i)=>t.setItem(r,JSON.stringify(i)),removeItem:r=>t.removeItem(r)}}const lV=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return lV(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return lV(r)(n)}}}},N8t=(e,t)=>(n,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,_)=>({..._,...w}),...t},s=!1;const u=new Set,f=new Set;let d;try{d=a.getStorage()}catch{}if(!d)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...w)},r,i);const c=lV(a.serialize),h=()=>{const w=a.partialize({...r()});let _;const S=c({state:w,version:a.version}).then(C=>d.setItem(a.name,C)).catch(C=>{_=C});if(_)throw _;return S},p=i.setState;i.setState=(w,_)=>{p(w,_),h()};const v=e((...w)=>{n(...w),h()},r,i);let m;const y=()=>{var w;if(!d)return;s=!1,u.forEach(S=>S(r()));const _=((w=a.onRehydrateStorage)==null?void 0:w.call(a,r()))||void 0;return lV(d.getItem.bind(d))(a.name).then(S=>{if(S)return a.deserialize(S)}).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==a.version){if(a.migrate)return a.migrate(S.state,S.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return S.state}).then(S=>{var C;return m=a.merge(S,(C=r())!=null?C:v),n(m,!0),h()}).then(()=>{_==null||_(m,void 0),s=!0,f.forEach(S=>S(m))}).catch(S=>{_==null||_(void 0,S)})};return i.persist={setOptions:w=>{a={...a,...w},w.getStorage&&(d=w.getStorage())},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>y(),hasHydrated:()=>s,onHydrate:w=>(u.add(w),()=>{u.delete(w)}),onFinishHydration:w=>(f.add(w),()=>{f.delete(w)})},y(),m||v},z8t=(e,t)=>(n,r,i)=>{let a={storage:F8t(()=>localStorage),partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...t},s=!1;const u=new Set,f=new Set;let d=a.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...y)},r,i);const c=()=>{const y=a.partialize({...r()});return d.setItem(a.name,{state:y,version:a.version})},h=i.setState;i.setState=(y,w)=>{h(y,w),c()};const p=e((...y)=>{n(...y),c()},r,i);let v;const m=()=>{var y,w;if(!d)return;s=!1,u.forEach(S=>{var C;return S((C=r())!=null?C:p)});const _=((w=a.onRehydrateStorage)==null?void 0:w.call(a,(y=r())!=null?y:p))||void 0;return lV(d.getItem.bind(d))(a.name).then(S=>{if(S)if(typeof S.version=="number"&&S.version!==a.version){if(a.migrate)return a.migrate(S.state,S.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return S.state}).then(S=>{var C;return v=a.merge(S,(C=r())!=null?C:p),n(v,!0),c()}).then(()=>{_==null||_(v,void 0),v=r(),s=!0,f.forEach(S=>S(v))}).catch(S=>{_==null||_(void 0,S)})};return i.persist={setOptions:y=>{a={...a,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:y=>(u.add(y),()=>{u.delete(y)}),onFinishHydration:y=>(f.add(y),()=>{f.delete(y)})},a.skipHydration||m(),v||p},j8t=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(({VITE_CLERK_PUBLIC_KEY:"pk_test_cHJvdmVuLWJvYmNhdC0xOC5jbGVyay5hY2NvdW50cy5kZXYk",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),N8t(e,t)):z8t(e,t),B8t=j8t,H8t={openAIAPIKey:""},cV=nL()(qW(B8t(e=>H8t,{name:"global-squiggle-app-settings"}),{name:"Global Settings"}));function U8t(){const{user:e}=MS.useUser(),t=cV(n=>n.openAIAPIKey);return e?bi(rat,{children:[bi(O2e,{children:[xt(nat,{children:"Profile"}),bi(_He,{children:["You are signed in as ",e.fullName,"."]}),xt("p",{children:xt(MS.SignOutButton,{children:xt("button",{className:"text-blue-600 hover:underline",children:"Sign Out"})})})]}),bi(O2e,{children:[xt(w8t,{children:"Open AI API Key"}),xt(_He,{children:"This key is used to access the OpenAI API. It is stored in your browser's local storage."}),xt("input",{type:"password",className:"bg-neutral-100 font-mono p-3 rounded text-neutral-500 mt-1",placeholder:"Paste OpenAI API Key",autoComplete:"off",value:t,onChange:n=>{cV.setState({openAIAPIKey:n.target.value})}})]})]}):xt(x8t,{})}function V8t(){return xt("div",{children:xt("h1",{children:"Project"})})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const W8t=4,EHe=0,CHe=1,G8t=2;function $8(e){let t=e.length;for(;--t>=0;)e[t]=0}const q8t=0,uat=1,Y8t=2,K8t=3,X8t=258,I$e=29,YW=256,fV=YW+1+I$e,CF=30,F$e=19,lat=2*fV+1,w5=15,vme=16,Z8t=7,N$e=256,cat=16,fat=17,dat=18,T2e=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),pte=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Q8t=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),hat=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J8t=512,D$=new Array((fV+2)*2);$8(D$);const rU=new Array(CF*2);$8(rU);const dV=new Array(J8t);$8(dV);const hV=new Array(X8t-K8t+1);$8(hV);const z$e=new Array(I$e);$8(z$e);const Vne=new Array(CF);$8(Vne);function mme(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let gat,pat,vat;function yme(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const mat=e=>e<256?dV[e]:dV[256+(e>>>7)],gV=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},ym=(e,t,n)=>{e.bi_valid>vme-n?(e.bi_buf|=t<<e.bi_valid&65535,gV(e,e.bi_buf),e.bi_buf=t>>vme-e.bi_valid,e.bi_valid+=n-vme):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},CS=(e,t,n)=>{ym(e,n[t*2],n[t*2+1])},yat=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},e7t=e=>{e.bi_valid===16?(gV(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},t7t=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,u=t.stat_desc.extra_base,f=t.stat_desc.max_length;let d,c,h,p,v,m,y=0;for(p=0;p<=w5;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,d=e.heap_max+1;d<lat;d++)c=e.heap[d],p=n[n[c*2+1]*2+1]+1,p>f&&(p=f,y++),n[c*2+1]=p,!(c>r)&&(e.bl_count[p]++,v=0,c>=u&&(v=s[c-u]),m=n[c*2],e.opt_len+=m*(p+v),a&&(e.static_len+=m*(i[c*2+1]+v)));if(y!==0){do{for(p=f-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[f]--,y-=2}while(y>0);for(p=f;p!==0;p--)for(c=e.bl_count[p];c!==0;)h=e.heap[--d],!(h>r)&&(n[h*2+1]!==p&&(e.opt_len+=(p-n[h*2+1])*n[h*2],n[h*2+1]=p),c--)}},bat=(e,t,n)=>{const r=new Array(w5+1);let i=0,a,s;for(a=1;a<=w5;a++)i=i+n[a-1]<<1,r[a]=i;for(s=0;s<=t;s++){let u=e[s*2+1];u!==0&&(e[s*2]=yat(r[u]++,u))}},n7t=()=>{let e,t,n,r,i;const a=new Array(w5+1);for(n=0,r=0;r<I$e-1;r++)for(z$e[r]=n,e=0;e<1<<T2e[r];e++)hV[n++]=r;for(hV[n-1]=r,i=0,r=0;r<16;r++)for(Vne[r]=i,e=0;e<1<<pte[r];e++)dV[i++]=r;for(i>>=7;r<CF;r++)for(Vne[r]=i<<7,e=0;e<1<<pte[r]-7;e++)dV[256+i++]=r;for(t=0;t<=w5;t++)a[t]=0;for(e=0;e<=143;)D$[e*2+1]=8,e++,a[8]++;for(;e<=255;)D$[e*2+1]=9,e++,a[9]++;for(;e<=279;)D$[e*2+1]=7,e++,a[7]++;for(;e<=287;)D$[e*2+1]=8,e++,a[8]++;for(bat(D$,fV+1,a),e=0;e<CF;e++)rU[e*2+1]=5,rU[e*2]=yat(e,5);gat=new mme(D$,T2e,YW+1,fV,w5),pat=new mme(rU,pte,0,CF,w5),vat=new mme(new Array(0),Q8t,0,F$e,Z8t)},wat=e=>{let t;for(t=0;t<fV;t++)e.dyn_ltree[t*2]=0;for(t=0;t<CF;t++)e.dyn_dtree[t*2]=0;for(t=0;t<F$e;t++)e.bl_tree[t*2]=0;e.dyn_ltree[N$e*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},_at=e=>{e.bi_valid>8?gV(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},$He=(e,t,n,r)=>{const i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]},bme=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&$He(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!$He(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},kHe=(e,t,n)=>{let r,i,a=0,s,u;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+a++]&255,r+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],r===0?CS(e,i,t):(s=hV[i],CS(e,s+YW+1,t),u=T2e[s],u!==0&&(i-=z$e[s],ym(e,i,u)),r--,s=mat(r),CS(e,s,n),u=pte[s],u!==0&&(r-=Vne[s],ym(e,r,u)));while(a<e.sym_next);CS(e,N$e,t)},M2e=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,u,f=-1,d;for(e.heap_len=0,e.heap_max=lat,s=0;s<a;s++)n[s*2]!==0?(e.heap[++e.heap_len]=f=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=f<2?++f:0,n[d*2]=1,e.depth[d]=0,e.opt_len--,i&&(e.static_len-=r[d*2+1]);for(t.max_code=f,s=e.heap_len>>1;s>=1;s--)bme(e,n,s);d=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],bme(e,n,1),u=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=u,n[d*2]=n[s*2]+n[u*2],e.depth[d]=(e.depth[s]>=e.depth[u]?e.depth[s]:e.depth[u])+1,n[s*2+1]=n[u*2+1]=d,e.heap[1]=d++,bme(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],t7t(e,t),bat(n,f,e.bl_count)},OHe=(e,t,n)=>{let r,i=-1,a,s=t[0*2+1],u=0,f=7,d=4;for(s===0&&(f=138,d=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=s,s=t[(r+1)*2+1],!(++u<f&&a===s)&&(u<d?e.bl_tree[a*2]+=u:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[cat*2]++):u<=10?e.bl_tree[fat*2]++:e.bl_tree[dat*2]++,u=0,i=a,s===0?(f=138,d=3):a===s?(f=6,d=3):(f=7,d=4))},AHe=(e,t,n)=>{let r,i=-1,a,s=t[0*2+1],u=0,f=7,d=4;for(s===0&&(f=138,d=3),r=0;r<=n;r++)if(a=s,s=t[(r+1)*2+1],!(++u<f&&a===s)){if(u<d)do CS(e,a,e.bl_tree);while(--u!==0);else a!==0?(a!==i&&(CS(e,a,e.bl_tree),u--),CS(e,cat,e.bl_tree),ym(e,u-3,2)):u<=10?(CS(e,fat,e.bl_tree),ym(e,u-3,3)):(CS(e,dat,e.bl_tree),ym(e,u-11,7));u=0,i=a,s===0?(f=138,d=3):a===s?(f=6,d=3):(f=7,d=4)}},r7t=e=>{let t;for(OHe(e,e.dyn_ltree,e.l_desc.max_code),OHe(e,e.dyn_dtree,e.d_desc.max_code),M2e(e,e.bl_desc),t=F$e-1;t>=3&&e.bl_tree[hat[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},i7t=(e,t,n,r)=>{let i;for(ym(e,t-257,5),ym(e,n-1,5),ym(e,r-4,4),i=0;i<r;i++)ym(e,e.bl_tree[hat[i]*2+1],3);AHe(e,e.dyn_ltree,t-1),AHe(e,e.dyn_dtree,n-1)},a7t=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return EHe;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return CHe;for(n=32;n<YW;n++)if(e.dyn_ltree[n*2]!==0)return CHe;return EHe};let RHe=!1;const o7t=e=>{RHe||(n7t(),RHe=!0),e.l_desc=new yme(e.dyn_ltree,gat),e.d_desc=new yme(e.dyn_dtree,pat),e.bl_desc=new yme(e.bl_tree,vat),e.bi_buf=0,e.bi_valid=0,wat(e)},xat=(e,t,n,r)=>{ym(e,(q8t<<1)+(r?1:0),3),_at(e),gV(e,n),gV(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},s7t=e=>{ym(e,uat<<1,3),CS(e,N$e,D$),e7t(e)},u7t=(e,t,n,r)=>{let i,a,s=0;e.level>0?(e.strm.data_type===G8t&&(e.strm.data_type=a7t(e)),M2e(e,e.l_desc),M2e(e,e.d_desc),s=r7t(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?xat(e,t,n,r):e.strategy===W8t||a===i?(ym(e,(uat<<1)+(r?1:0),3),kHe(e,D$,rU)):(ym(e,(Y8t<<1)+(r?1:0),3),i7t(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),kHe(e,e.dyn_ltree,e.dyn_dtree)),wat(e),r&&_at(e)},l7t=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(hV[n]+YW+1)*2]++,e.dyn_dtree[mat(t)*2]++),e.sym_next===e.sym_end);var c7t=o7t,f7t=xat,d7t=u7t,h7t=l7t,g7t=s7t,p7t={_tr_init:c7t,_tr_stored_block:f7t,_tr_flush_block:d7t,_tr_tally:h7t,_tr_align:g7t};const v7t=(e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var pV=v7t;const m7t=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},y7t=new Uint32Array(m7t()),b7t=(e,t,n,r)=>{const i=y7t,a=r+n;e^=-1;for(let s=r;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var Rh=b7t,aP={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rL={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:w7t,_tr_stored_block:P2e,_tr_flush_block:_7t,_tr_tally:GR,_tr_align:x7t}=p7t,{Z_NO_FLUSH:qR,Z_PARTIAL_FLUSH:S7t,Z_FULL_FLUSH:E7t,Z_FINISH:Tb,Z_BLOCK:THe,Z_OK:Ag,Z_STREAM_END:MHe,Z_STREAM_ERROR:WS,Z_DATA_ERROR:C7t,Z_BUF_ERROR:wme,Z_DEFAULT_COMPRESSION:$7t,Z_FILTERED:k7t,Z_HUFFMAN_ONLY:cJ,Z_RLE:O7t,Z_FIXED:A7t,Z_DEFAULT_STRATEGY:R7t,Z_UNKNOWN:T7t,Z_DEFLATED:yoe}=rL,M7t=9,P7t=15,L7t=8,D7t=29,I7t=256,L2e=I7t+1+D7t,F7t=30,N7t=19,z7t=2*L2e+1,j7t=15,Xo=3,xR=258,GS=xR+Xo+1,B7t=32,oN=42,j$e=57,D2e=69,I2e=73,F2e=91,N2e=103,_5=113,rH=666,iv=1,k8=2,oP=3,O8=4,H7t=3,x5=(e,t)=>(e.msg=aP[t],t),PHe=e=>e*2-(e>4?9:0),dR=e=>{let t=e.length;for(;--t>=0;)e[t]=0},U7t=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let V7t=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,YR=V7t;const G1=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},ey=(e,t)=>{_7t(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,G1(e.strm)},Vs=(e,t)=>{e.pending_buf[e.pending++]=t},Jj=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},z2e=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=pV(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Rh(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},Sat=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,a,s=e.prev_length,u=e.nice_match;const f=e.strstart>e.w_size-GS?e.strstart-(e.w_size-GS):0,d=e.window,c=e.w_mask,h=e.prev,p=e.strstart+xR;let v=d[r+s-1],m=d[r+s];e.prev_length>=e.good_match&&(n>>=2),u>e.lookahead&&(u=e.lookahead);do if(i=t,!(d[i+s]!==m||d[i+s-1]!==v||d[i]!==d[r]||d[++i]!==d[r+1])){r+=2,i++;do;while(d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&r<p);if(a=xR-(p-r),r=p-xR,a>s){if(e.match_start=t,s=a,a>=u)break;v=d[r+s-1],m=d[r+s]}}while((t=h[t&c])>f&&--n!==0);return s<=e.lookahead?s:e.lookahead},sN=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-GS)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),U7t(e),r+=t),e.strm.avail_in===0)break;if(n=z2e(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Xo)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=YR(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=YR(e,e.ins_h,e.window[i+Xo-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Xo)););}while(e.lookahead<GS&&e.strm.avail_in!==0)},Eat=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,a,s=0,u=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>a&&(r=a),r<n&&(r===0&&t!==Tb||t===qR||r!==i+e.strm.avail_in)))break;s=t===Tb&&r===i+e.strm.avail_in?1:0,P2e(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,G1(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(z2e(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return u-=e.strm.avail_in,u&&(u>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=u&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-u,e.strm.next_in),e.strstart),e.strstart+=u,e.insert+=u>e.w_size-e.insert?e.w_size-e.insert:u),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?O8:t!==qR&&t!==Tb&&e.strm.avail_in===0&&e.strstart===e.block_start?k8:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(z2e(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,n=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=n||(i||t===Tb)&&t!==qR&&e.strm.avail_in===0&&i<=a)&&(r=i>a?a:i,s=t===Tb&&e.strm.avail_in===0&&r===i?1:0,P2e(e,e.block_start,r,s),e.block_start+=r,G1(e.strm)),s?oP:iv)},_me=(e,t)=>{let n,r;for(;;){if(e.lookahead<GS){if(sN(e),e.lookahead<GS&&t===qR)return iv;if(e.lookahead===0)break}if(n=0,e.lookahead>=Xo&&(e.ins_h=YR(e,e.ins_h,e.window[e.strstart+Xo-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-GS&&(e.match_length=Sat(e,n)),e.match_length>=Xo)if(r=GR(e,e.strstart-e.match_start,e.match_length-Xo),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Xo){e.match_length--;do e.strstart++,e.ins_h=YR(e,e.ins_h,e.window[e.strstart+Xo-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=YR(e,e.ins_h,e.window[e.strstart+1]);else r=GR(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ey(e,!1),e.strm.avail_out===0))return iv}return e.insert=e.strstart<Xo-1?e.strstart:Xo-1,t===Tb?(ey(e,!0),e.strm.avail_out===0?oP:O8):e.sym_next&&(ey(e,!1),e.strm.avail_out===0)?iv:k8},n6=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<GS){if(sN(e),e.lookahead<GS&&t===qR)return iv;if(e.lookahead===0)break}if(n=0,e.lookahead>=Xo&&(e.ins_h=YR(e,e.ins_h,e.window[e.strstart+Xo-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Xo-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-GS&&(e.match_length=Sat(e,n),e.match_length<=5&&(e.strategy===k7t||e.match_length===Xo&&e.strstart-e.match_start>4096)&&(e.match_length=Xo-1)),e.prev_length>=Xo&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Xo,r=GR(e,e.strstart-1-e.prev_match,e.prev_length-Xo),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=YR(e,e.ins_h,e.window[e.strstart+Xo-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Xo-1,e.strstart++,r&&(ey(e,!1),e.strm.avail_out===0))return iv}else if(e.match_available){if(r=GR(e,0,e.window[e.strstart-1]),r&&ey(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return iv}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=GR(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Xo-1?e.strstart:Xo-1,t===Tb?(ey(e,!0),e.strm.avail_out===0?oP:O8):e.sym_next&&(ey(e,!1),e.strm.avail_out===0)?iv:k8},W7t=(e,t)=>{let n,r,i,a;const s=e.window;for(;;){if(e.lookahead<=xR){if(sN(e),e.lookahead<=xR&&t===qR)return iv;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Xo&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+xR;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=xR-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Xo?(n=GR(e,1,e.match_length-Xo),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=GR(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ey(e,!1),e.strm.avail_out===0))return iv}return e.insert=0,t===Tb?(ey(e,!0),e.strm.avail_out===0?oP:O8):e.sym_next&&(ey(e,!1),e.strm.avail_out===0)?iv:k8},G7t=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(sN(e),e.lookahead===0)){if(t===qR)return iv;break}if(e.match_length=0,n=GR(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ey(e,!1),e.strm.avail_out===0))return iv}return e.insert=0,t===Tb?(ey(e,!0),e.strm.avail_out===0?oP:O8):e.sym_next&&(ey(e,!1),e.strm.avail_out===0)?iv:k8};function tS(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const iH=[new tS(0,0,0,0,Eat),new tS(4,4,8,4,_me),new tS(4,5,16,8,_me),new tS(4,6,32,32,_me),new tS(4,4,16,16,n6),new tS(8,16,32,32,n6),new tS(8,16,128,128,n6),new tS(8,32,128,256,n6),new tS(32,128,258,1024,n6),new tS(32,258,258,4096,n6)],q7t=e=>{e.window_size=2*e.w_size,dR(e.head),e.max_lazy_match=iH[e.level].max_lazy,e.good_match=iH[e.level].good_length,e.nice_match=iH[e.level].nice_length,e.max_chain_length=iH[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Xo-1,e.match_available=0,e.ins_h=0};function Y7t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yoe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(z7t*2),this.dyn_dtree=new Uint16Array((2*F7t+1)*2),this.bl_tree=new Uint16Array((2*N7t+1)*2),dR(this.dyn_ltree),dR(this.dyn_dtree),dR(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(j7t+1),this.heap=new Uint16Array(2*L2e+1),dR(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L2e+1),dR(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const KW=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==oN&&t.status!==j$e&&t.status!==D2e&&t.status!==I2e&&t.status!==F2e&&t.status!==N2e&&t.status!==_5&&t.status!==rH?1:0},Cat=e=>{if(KW(e))return x5(e,WS);e.total_in=e.total_out=0,e.data_type=T7t;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?j$e:t.wrap?oN:_5,e.adler=t.wrap===2?0:1,t.last_flush=-2,w7t(t),Ag},$at=e=>{const t=Cat(e);return t===Ag&&q7t(e.state),t},K7t=(e,t)=>KW(e)||e.state.wrap!==2?WS:(e.state.gzhead=t,Ag),kat=(e,t,n,r,i,a)=>{if(!e)return WS;let s=1;if(t===$7t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>M7t||n!==yoe||r<8||r>15||t<0||t>9||a<0||a>A7t||r===8&&s!==1)return x5(e,WS);r===8&&(r=9);const u=new Y7t;return e.state=u,u.strm=e,u.status=oN,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+Xo-1)/Xo),u.window=new Uint8Array(u.w_size*2),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=u.lit_bufsize*4,u.pending_buf=new Uint8Array(u.pending_buf_size),u.sym_buf=u.lit_bufsize,u.sym_end=(u.lit_bufsize-1)*3,u.level=t,u.strategy=a,u.method=n,$at(e)},X7t=(e,t)=>kat(e,t,yoe,P7t,L7t,R7t),Z7t=(e,t)=>{if(KW(e)||t>THe||t<0)return e?x5(e,WS):WS;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===rH&&t!==Tb)return x5(e,e.avail_out===0?wme:WS);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(G1(e),e.avail_out===0)return n.last_flush=-1,Ag}else if(e.avail_in===0&&PHe(t)<=PHe(r)&&t!==Tb)return x5(e,wme);if(n.status===rH&&e.avail_in!==0)return x5(e,wme);if(n.status===oN&&n.wrap===0&&(n.status=_5),n.status===oN){let i=yoe+(n.w_bits-8<<4)<<8,a=-1;if(n.strategy>=cJ||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,i|=a<<6,n.strstart!==0&&(i|=B7t),i+=31-i%31,Jj(n,i),n.strstart!==0&&(Jj(n,e.adler>>>16),Jj(n,e.adler&65535)),e.adler=1,n.status=_5,G1(e),n.pending!==0)return n.last_flush=-1,Ag}if(n.status===j$e){if(e.adler=0,Vs(n,31),Vs(n,139),Vs(n,8),n.gzhead)Vs(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Vs(n,n.gzhead.time&255),Vs(n,n.gzhead.time>>8&255),Vs(n,n.gzhead.time>>16&255),Vs(n,n.gzhead.time>>24&255),Vs(n,n.level===9?2:n.strategy>=cJ||n.level<2?4:0),Vs(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Vs(n,n.gzhead.extra.length&255),Vs(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Rh(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=D2e;else if(Vs(n,0),Vs(n,0),Vs(n,0),Vs(n,0),Vs(n,0),Vs(n,n.level===9?2:n.strategy>=cJ||n.level<2?4:0),Vs(n,H7t),n.status=_5,G1(e),n.pending!==0)return n.last_flush=-1,Ag}if(n.status===D2e){if(n.gzhead.extra){let i=n.pending,a=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+a>n.pending_buf_size;){let u=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+u),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=Rh(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=u,G1(e),n.pending!==0)return n.last_flush=-1,Ag;i=0,a-=u}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending+=a,n.gzhead.hcrc&&n.pending>i&&(e.adler=Rh(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=I2e}if(n.status===I2e){if(n.gzhead.name){let i=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Rh(e.adler,n.pending_buf,n.pending-i,i)),G1(e),n.pending!==0)return n.last_flush=-1,Ag;i=0}n.gzindex<n.gzhead.name.length?a=n.gzhead.name.charCodeAt(n.gzindex++)&255:a=0,Vs(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Rh(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=F2e}if(n.status===F2e){if(n.gzhead.comment){let i=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Rh(e.adler,n.pending_buf,n.pending-i,i)),G1(e),n.pending!==0)return n.last_flush=-1,Ag;i=0}n.gzindex<n.gzhead.comment.length?a=n.gzhead.comment.charCodeAt(n.gzindex++)&255:a=0,Vs(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Rh(e.adler,n.pending_buf,n.pending-i,i))}n.status=N2e}if(n.status===N2e){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(G1(e),n.pending!==0))return n.last_flush=-1,Ag;Vs(n,e.adler&255),Vs(n,e.adler>>8&255),e.adler=0}if(n.status=_5,G1(e),n.pending!==0)return n.last_flush=-1,Ag}if(e.avail_in!==0||n.lookahead!==0||t!==qR&&n.status!==rH){let i=n.level===0?Eat(n,t):n.strategy===cJ?G7t(n,t):n.strategy===O7t?W7t(n,t):iH[n.level].func(n,t);if((i===oP||i===O8)&&(n.status=rH),i===iv||i===oP)return e.avail_out===0&&(n.last_flush=-1),Ag;if(i===k8&&(t===S7t?x7t(n):t!==THe&&(P2e(n,0,0,!1),t===E7t&&(dR(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),G1(e),e.avail_out===0))return n.last_flush=-1,Ag}return t!==Tb?Ag:n.wrap<=0?MHe:(n.wrap===2?(Vs(n,e.adler&255),Vs(n,e.adler>>8&255),Vs(n,e.adler>>16&255),Vs(n,e.adler>>24&255),Vs(n,e.total_in&255),Vs(n,e.total_in>>8&255),Vs(n,e.total_in>>16&255),Vs(n,e.total_in>>24&255)):(Jj(n,e.adler>>>16),Jj(n,e.adler&65535)),G1(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Ag:MHe)},Q7t=e=>{if(KW(e))return WS;const t=e.state.status;return e.state=null,t===_5?x5(e,C7t):Ag},J7t=(e,t)=>{let n=t.length;if(KW(e))return WS;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==oN||r.lookahead)return WS;if(i===1&&(e.adler=pV(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(dR(r.head),r.strstart=0,r.block_start=0,r.insert=0);let f=new Uint8Array(r.w_size);f.set(t.subarray(n-r.w_size,n),0),t=f,n=r.w_size}const a=e.avail_in,s=e.next_in,u=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,sN(r);r.lookahead>=Xo;){let f=r.strstart,d=r.lookahead-(Xo-1);do r.ins_h=YR(r,r.ins_h,r.window[f+Xo-1]),r.prev[f&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=f,f++;while(--d);r.strstart=f,r.lookahead=Xo-1,sN(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Xo-1,r.match_available=0,e.next_in=s,e.input=u,e.avail_in=a,r.wrap=i,Ag};var e9t=X7t,t9t=kat,n9t=$at,r9t=Cat,i9t=K7t,a9t=Z7t,o9t=Q7t,s9t=J7t,u9t="pako deflate (from Nodeca project)",iU={deflateInit:e9t,deflateInit2:t9t,deflateReset:n9t,deflateResetKeep:r9t,deflateSetHeader:i9t,deflate:a9t,deflateEnd:o9t,deflateSetDictionary:s9t,deflateInfo:u9t};const l9t=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var c9t=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)l9t(n,r)&&(e[r]=n[r])}}return e},f9t=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let s=e[r];n.set(s,i),i+=s.length}return n},boe={assign:c9t,flattenChunks:f9t};let Oat=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Oat=!1}const vV=new Uint8Array(256);for(let e=0;e<256;e++)vV[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;vV[254]=vV[254]=1;var d9t=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,s=e.length,u=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(u),a=0,i=0;a<u;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const h9t=(e,t)=>{if(t<65534&&e.subarray&&Oat)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var g9t=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=e[r++];if(s<128){a[i++]=s;continue}let u=vV[s];if(u>4){a[i++]=65533,r+=u-1;continue}for(s&=u===2?31:u===3?15:7;u>1&&r<n;)s=s<<6|e[r++]&63,u--;if(u>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return h9t(a,i)},p9t=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+vV[e[n]]>t?n:t},mV={string2buf:d9t,buf2string:g9t,utf8border:p9t};function v9t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Aat=v9t;const Rat=Object.prototype.toString,{Z_NO_FLUSH:m9t,Z_SYNC_FLUSH:y9t,Z_FULL_FLUSH:b9t,Z_FINISH:w9t,Z_OK:Wne,Z_STREAM_END:_9t,Z_DEFAULT_COMPRESSION:x9t,Z_DEFAULT_STRATEGY:S9t,Z_DEFLATED:E9t}=rL;function XW(e){this.options=boe.assign({level:x9t,method:E9t,chunkSize:16384,windowBits:15,memLevel:8,strategy:S9t},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Aat,this.strm.avail_out=0;let n=iU.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Wne)throw new Error(aP[n]);if(t.header&&iU.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=mV.string2buf(t.dictionary):Rat.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=iU.deflateSetDictionary(this.strm,r),n!==Wne)throw new Error(aP[n]);this._dict_set=!0}}XW.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?w9t:m9t,typeof e=="string"?n.input=mV.string2buf(e):Rat.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===y9t||a===b9t)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=iU.deflate(n,a),i===_9t)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=iU.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Wne;if(n.avail_out===0){this.onData(n.output);continue}if(a>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};XW.prototype.onData=function(e){this.chunks.push(e)};XW.prototype.onEnd=function(e){e===Wne&&(this.result=boe.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function B$e(e,t){const n=new XW(t);if(n.push(e,!0),n.err)throw n.msg||aP[n.err];return n.result}function C9t(e,t){return t=t||{},t.raw=!0,B$e(e,t)}function $9t(e,t){return t=t||{},t.gzip=!0,B$e(e,t)}var k9t=XW,O9t=B$e,A9t=C9t,R9t=$9t,T9t=rL,M9t={Deflate:k9t,deflate:O9t,deflateRaw:A9t,gzip:R9t,constants:T9t};const fJ=16209,P9t=16191;var L9t=function(t,n){let r,i,a,s,u,f,d,c,h,p,v,m,y,w,_,S,C,$,k,M,A,L,N,R;const D=t.state;r=t.next_in,N=t.input,i=r+(t.avail_in-5),a=t.next_out,R=t.output,s=a-(n-t.avail_out),u=a+(t.avail_out-257),f=D.dmax,d=D.wsize,c=D.whave,h=D.wnext,p=D.window,v=D.hold,m=D.bits,y=D.lencode,w=D.distcode,_=(1<<D.lenbits)-1,S=(1<<D.distbits)-1;e:do{m<15&&(v+=N[r++]<<m,m+=8,v+=N[r++]<<m,m+=8),C=y[v&_];t:for(;;){if($=C>>>24,v>>>=$,m-=$,$=C>>>16&255,$===0)R[a++]=C&65535;else if($&16){k=C&65535,$&=15,$&&(m<$&&(v+=N[r++]<<m,m+=8),k+=v&(1<<$)-1,v>>>=$,m-=$),m<15&&(v+=N[r++]<<m,m+=8,v+=N[r++]<<m,m+=8),C=w[v&S];n:for(;;){if($=C>>>24,v>>>=$,m-=$,$=C>>>16&255,$&16){if(M=C&65535,$&=15,m<$&&(v+=N[r++]<<m,m+=8,m<$&&(v+=N[r++]<<m,m+=8)),M+=v&(1<<$)-1,M>f){t.msg="invalid distance too far back",D.mode=fJ;break e}if(v>>>=$,m-=$,$=a-s,M>$){if($=M-$,$>c&&D.sane){t.msg="invalid distance too far back",D.mode=fJ;break e}if(A=0,L=p,h===0){if(A+=d-$,$<k){k-=$;do R[a++]=p[A++];while(--$);A=a-M,L=R}}else if(h<$){if(A+=d+h-$,$-=h,$<k){k-=$;do R[a++]=p[A++];while(--$);if(A=0,h<k){$=h,k-=$;do R[a++]=p[A++];while(--$);A=a-M,L=R}}}else if(A+=h-$,$<k){k-=$;do R[a++]=p[A++];while(--$);A=a-M,L=R}for(;k>2;)R[a++]=L[A++],R[a++]=L[A++],R[a++]=L[A++],k-=3;k&&(R[a++]=L[A++],k>1&&(R[a++]=L[A++]))}else{A=a-M;do R[a++]=R[A++],R[a++]=R[A++],R[a++]=R[A++],k-=3;while(k>2);k&&(R[a++]=R[A++],k>1&&(R[a++]=R[A++]))}}else if($&64){t.msg="invalid distance code",D.mode=fJ;break e}else{C=w[(C&65535)+(v&(1<<$)-1)];continue n}break}}else if($&64)if($&32){D.mode=P9t;break e}else{t.msg="invalid literal/length code",D.mode=fJ;break e}else{C=y[(C&65535)+(v&(1<<$)-1)];continue t}break}}while(r<i&&a<u);k=m>>3,r-=k,m-=k<<3,v&=(1<<m)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<u?257+(u-a):257-(a-u),D.hold=v,D.bits=m};const r6=15,LHe=852,DHe=592,IHe=0,xme=1,FHe=2,D9t=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),I9t=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),F9t=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),N9t=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),z9t=(e,t,n,r,i,a,s,u)=>{const f=u.bits;let d=0,c=0,h=0,p=0,v=0,m=0,y=0,w=0,_=0,S=0,C,$,k,M,A,L=null,N;const R=new Uint16Array(r6+1),D=new Uint16Array(r6+1);let j=null,U,H,Y;for(d=0;d<=r6;d++)R[d]=0;for(c=0;c<r;c++)R[t[n+c]]++;for(v=f,p=r6;p>=1&&R[p]===0;p--);if(v>p&&(v=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,u.bits=1,0;for(h=1;h<p&&R[h]===0;h++);for(v<h&&(v=h),w=1,d=1;d<=r6;d++)if(w<<=1,w-=R[d],w<0)return-1;if(w>0&&(e===IHe||p!==1))return-1;for(D[1]=0,d=1;d<r6;d++)D[d+1]=D[d]+R[d];for(c=0;c<r;c++)t[n+c]!==0&&(s[D[t[n+c]]++]=c);if(e===IHe?(L=j=s,N=20):e===xme?(L=D9t,j=I9t,N=257):(L=F9t,j=N9t,N=0),S=0,c=0,d=h,A=a,m=v,y=0,k=-1,_=1<<v,M=_-1,e===xme&&_>LHe||e===FHe&&_>DHe)return 1;for(;;){U=d-y,s[c]+1<N?(H=0,Y=s[c]):s[c]>=N?(H=j[s[c]-N],Y=L[s[c]-N]):(H=32+64,Y=0),C=1<<d-y,$=1<<m,h=$;do $-=C,i[A+(S>>y)+$]=U<<24|H<<16|Y|0;while($!==0);for(C=1<<d-1;S&C;)C>>=1;if(C!==0?(S&=C-1,S+=C):S=0,c++,--R[d]===0){if(d===p)break;d=t[n+s[c]]}if(d>v&&(S&M)!==k){for(y===0&&(y=v),A+=h,m=d-y,w=1<<m;m+y<p&&(w-=R[m+y],!(w<=0));)m++,w<<=1;if(_+=1<<m,e===xme&&_>LHe||e===FHe&&_>DHe)return 1;k=S&M,i[k]=v<<24|m<<16|A-a|0}}return S!==0&&(i[A+S]=d-y<<24|64<<16|0),u.bits=v,0};var aU=z9t;const j9t=0,Tat=1,Mat=2,{Z_FINISH:NHe,Z_BLOCK:B9t,Z_TREES:dJ,Z_OK:sP,Z_STREAM_END:H9t,Z_NEED_DICT:U9t,Z_STREAM_ERROR:ew,Z_DATA_ERROR:Pat,Z_MEM_ERROR:Lat,Z_BUF_ERROR:V9t,Z_DEFLATED:zHe}=rL,woe=16180,jHe=16181,BHe=16182,HHe=16183,UHe=16184,VHe=16185,WHe=16186,GHe=16187,qHe=16188,YHe=16189,Gne=16190,b$=16191,Sme=16192,KHe=16193,Eme=16194,XHe=16195,ZHe=16196,QHe=16197,JHe=16198,hJ=16199,gJ=16200,eUe=16201,tUe=16202,nUe=16203,rUe=16204,iUe=16205,Cme=16206,aUe=16207,oUe=16208,Kl=16209,Dat=16210,Iat=16211,W9t=852,G9t=592,q9t=15,Y9t=q9t,sUe=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function K9t(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const iL=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<woe||t.mode>Iat?1:0},Fat=e=>{if(iL(e))return ew;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=woe,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(W9t),t.distcode=t.distdyn=new Int32Array(G9t),t.sane=1,t.back=-1,sP},Nat=e=>{if(iL(e))return ew;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Fat(e)},zat=(e,t)=>{let n;if(iL(e))return ew;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ew:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Nat(e))},jat=(e,t)=>{if(!e)return ew;const n=new K9t;e.state=n,n.strm=e,n.window=null,n.mode=woe;const r=zat(e,t);return r!==sP&&(e.state=null),r},X9t=e=>jat(e,Y9t);let uUe=!0,$me,kme;const Z9t=e=>{if(uUe){$me=new Int32Array(512),kme=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(aU(Tat,e.lens,0,288,$me,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;aU(Mat,e.lens,0,32,kme,0,e.work,{bits:5}),uUe=!1}e.lencode=$me,e.lenbits=9,e.distcode=kme,e.distbits=5},Bat=(e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},Q9t=(e,t)=>{let n,r,i,a,s,u,f,d,c,h,p,v,m,y,w=0,_,S,C,$,k,M,A,L;const N=new Uint8Array(4);let R,D;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(iL(e)||!e.output||!e.input&&e.avail_in!==0)return ew;n=e.state,n.mode===b$&&(n.mode=Sme),s=e.next_out,i=e.output,f=e.avail_out,a=e.next_in,r=e.input,u=e.avail_in,d=n.hold,c=n.bits,h=u,p=f,L=sP;e:for(;;)switch(n.mode){case woe:if(n.wrap===0){n.mode=Sme;break}for(;c<16;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}if(n.wrap&2&&d===35615){n.wbits===0&&(n.wbits=15),n.check=0,N[0]=d&255,N[1]=d>>>8&255,n.check=Rh(n.check,N,2,0),d=0,c=0,n.mode=jHe;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((d&255)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=Kl;break}if((d&15)!==zHe){e.msg="unknown compression method",n.mode=Kl;break}if(d>>>=4,c-=4,A=(d&15)+8,n.wbits===0&&(n.wbits=A),A>15||A>n.wbits){e.msg="invalid window size",n.mode=Kl;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=d&512?YHe:b$,d=0,c=0;break;case jHe:for(;c<16;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}if(n.flags=d,(n.flags&255)!==zHe){e.msg="unknown compression method",n.mode=Kl;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Kl;break}n.head&&(n.head.text=d>>8&1),n.flags&512&&n.wrap&4&&(N[0]=d&255,N[1]=d>>>8&255,n.check=Rh(n.check,N,2,0)),d=0,c=0,n.mode=BHe;case BHe:for(;c<32;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}n.head&&(n.head.time=d),n.flags&512&&n.wrap&4&&(N[0]=d&255,N[1]=d>>>8&255,N[2]=d>>>16&255,N[3]=d>>>24&255,n.check=Rh(n.check,N,4,0)),d=0,c=0,n.mode=HHe;case HHe:for(;c<16;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}n.head&&(n.head.xflags=d&255,n.head.os=d>>8),n.flags&512&&n.wrap&4&&(N[0]=d&255,N[1]=d>>>8&255,n.check=Rh(n.check,N,2,0)),d=0,c=0,n.mode=UHe;case UHe:if(n.flags&1024){for(;c<16;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}n.length=d,n.head&&(n.head.extra_len=d),n.flags&512&&n.wrap&4&&(N[0]=d&255,N[1]=d>>>8&255,n.check=Rh(n.check,N,2,0)),d=0,c=0}else n.head&&(n.head.extra=null);n.mode=VHe;case VHe:if(n.flags&1024&&(v=n.length,v>u&&(v=u),v&&(n.head&&(A=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+v),A)),n.flags&512&&n.wrap&4&&(n.check=Rh(n.check,r,v,a)),u-=v,a+=v,n.length-=v),n.length))break e;n.length=0,n.mode=WHe;case WHe:if(n.flags&2048){if(u===0)break e;v=0;do A=r[a+v++],n.head&&A&&n.length<65536&&(n.head.name+=String.fromCharCode(A));while(A&&v<u);if(n.flags&512&&n.wrap&4&&(n.check=Rh(n.check,r,v,a)),u-=v,a+=v,A)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=GHe;case GHe:if(n.flags&4096){if(u===0)break e;v=0;do A=r[a+v++],n.head&&A&&n.length<65536&&(n.head.comment+=String.fromCharCode(A));while(A&&v<u);if(n.flags&512&&n.wrap&4&&(n.check=Rh(n.check,r,v,a)),u-=v,a+=v,A)break e}else n.head&&(n.head.comment=null);n.mode=qHe;case qHe:if(n.flags&512){for(;c<16;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}if(n.wrap&4&&d!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Kl;break}d=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=b$;break;case YHe:for(;c<32;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}e.adler=n.check=sUe(d),d=0,c=0,n.mode=Gne;case Gne:if(n.havedict===0)return e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=u,n.hold=d,n.bits=c,U9t;e.adler=n.check=1,n.mode=b$;case b$:if(t===B9t||t===dJ)break e;case Sme:if(n.last){d>>>=c&7,c-=c&7,n.mode=Cme;break}for(;c<3;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}switch(n.last=d&1,d>>>=1,c-=1,d&3){case 0:n.mode=KHe;break;case 1:if(Z9t(n),n.mode=hJ,t===dJ){d>>>=2,c-=2;break e}break;case 2:n.mode=ZHe;break;case 3:e.msg="invalid block type",n.mode=Kl}d>>>=2,c-=2;break;case KHe:for(d>>>=c&7,c-=c&7;c<32;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}if((d&65535)!==(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Kl;break}if(n.length=d&65535,d=0,c=0,n.mode=Eme,t===dJ)break e;case Eme:n.mode=XHe;case XHe:if(v=n.length,v){if(v>u&&(v=u),v>f&&(v=f),v===0)break e;i.set(r.subarray(a,a+v),s),u-=v,a+=v,f-=v,s+=v,n.length-=v;break}n.mode=b$;break;case ZHe:for(;c<14;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}if(n.nlen=(d&31)+257,d>>>=5,c-=5,n.ndist=(d&31)+1,d>>>=5,c-=5,n.ncode=(d&15)+4,d>>>=4,c-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Kl;break}n.have=0,n.mode=QHe;case QHe:for(;n.have<n.ncode;){for(;c<3;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}n.lens[j[n.have++]]=d&7,d>>>=3,c-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},L=aU(j9t,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,L){e.msg="invalid code lengths set",n.mode=Kl;break}n.have=0,n.mode=JHe;case JHe:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[d&(1<<n.lenbits)-1],_=w>>>24,S=w>>>16&255,C=w&65535,!(_<=c);){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}if(C<16)d>>>=_,c-=_,n.lens[n.have++]=C;else{if(C===16){for(D=_+2;c<D;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}if(d>>>=_,c-=_,n.have===0){e.msg="invalid bit length repeat",n.mode=Kl;break}A=n.lens[n.have-1],v=3+(d&3),d>>>=2,c-=2}else if(C===17){for(D=_+3;c<D;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}d>>>=_,c-=_,A=0,v=3+(d&7),d>>>=3,c-=3}else{for(D=_+7;c<D;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}d>>>=_,c-=_,A=0,v=11+(d&127),d>>>=7,c-=7}if(n.have+v>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Kl;break}for(;v--;)n.lens[n.have++]=A}}if(n.mode===Kl)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Kl;break}if(n.lenbits=9,R={bits:n.lenbits},L=aU(Tat,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,L){e.msg="invalid literal/lengths set",n.mode=Kl;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},L=aU(Mat,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,L){e.msg="invalid distances set",n.mode=Kl;break}if(n.mode=hJ,t===dJ)break e;case hJ:n.mode=gJ;case gJ:if(u>=6&&f>=258){e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=u,n.hold=d,n.bits=c,L9t(e,p),s=e.next_out,i=e.output,f=e.avail_out,a=e.next_in,r=e.input,u=e.avail_in,d=n.hold,c=n.bits,n.mode===b$&&(n.back=-1);break}for(n.back=0;w=n.lencode[d&(1<<n.lenbits)-1],_=w>>>24,S=w>>>16&255,C=w&65535,!(_<=c);){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}if(S&&!(S&240)){for($=_,k=S,M=C;w=n.lencode[M+((d&(1<<$+k)-1)>>$)],_=w>>>24,S=w>>>16&255,C=w&65535,!($+_<=c);){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}d>>>=$,c-=$,n.back+=$}if(d>>>=_,c-=_,n.back+=_,n.length=C,S===0){n.mode=iUe;break}if(S&32){n.back=-1,n.mode=b$;break}if(S&64){e.msg="invalid literal/length code",n.mode=Kl;break}n.extra=S&15,n.mode=eUe;case eUe:if(n.extra){for(D=n.extra;c<D;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=tUe;case tUe:for(;w=n.distcode[d&(1<<n.distbits)-1],_=w>>>24,S=w>>>16&255,C=w&65535,!(_<=c);){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}if(!(S&240)){for($=_,k=S,M=C;w=n.distcode[M+((d&(1<<$+k)-1)>>$)],_=w>>>24,S=w>>>16&255,C=w&65535,!($+_<=c);){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}d>>>=$,c-=$,n.back+=$}if(d>>>=_,c-=_,n.back+=_,S&64){e.msg="invalid distance code",n.mode=Kl;break}n.offset=C,n.extra=S&15,n.mode=nUe;case nUe:if(n.extra){for(D=n.extra;c<D;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Kl;break}n.mode=rUe;case rUe:if(f===0)break e;if(v=p-f,n.offset>v){if(v=n.offset-v,v>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Kl;break}v>n.wnext?(v-=n.wnext,m=n.wsize-v):m=n.wnext-v,v>n.length&&(v=n.length),y=n.window}else y=i,m=s-n.offset,v=n.length;v>f&&(v=f),f-=v,n.length-=v;do i[s++]=y[m++];while(--v);n.length===0&&(n.mode=gJ);break;case iUe:if(f===0)break e;i[s++]=n.length,f--,n.mode=gJ;break;case Cme:if(n.wrap){for(;c<32;){if(u===0)break e;u--,d|=r[a++]<<c,c+=8}if(p-=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Rh(n.check,i,p,s-p):pV(n.check,i,p,s-p)),p=f,n.wrap&4&&(n.flags?d:sUe(d))!==n.check){e.msg="incorrect data check",n.mode=Kl;break}d=0,c=0}n.mode=aUe;case aUe:if(n.wrap&&n.flags){for(;c<32;){if(u===0)break e;u--,d+=r[a++]<<c,c+=8}if(n.wrap&4&&d!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Kl;break}d=0,c=0}n.mode=oUe;case oUe:L=H9t;break e;case Kl:L=Pat;break e;case Dat:return Lat;case Iat:default:return ew}return e.next_out=s,e.avail_out=f,e.next_in=a,e.avail_in=u,n.hold=d,n.bits=c,(n.wsize||p!==e.avail_out&&n.mode<Kl&&(n.mode<Cme||t!==NHe))&&Bat(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Rh(n.check,i,p,e.next_out-p):pV(n.check,i,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===b$?128:0)+(n.mode===hJ||n.mode===Eme?256:0),(h===0&&p===0||t===NHe)&&L===sP&&(L=V9t),L},J9t=e=>{if(iL(e))return ew;let t=e.state;return t.window&&(t.window=null),e.state=null,sP},ezt=(e,t)=>{if(iL(e))return ew;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,sP):ew},tzt=(e,t)=>{const n=t.length;let r,i,a;return iL(e)||(r=e.state,r.wrap!==0&&r.mode!==Gne)?ew:r.mode===Gne&&(i=1,i=pV(i,t,n,0),i!==r.check)?Pat:(a=Bat(e,t,n,n),a?(r.mode=Dat,Lat):(r.havedict=1,sP))};var nzt=Nat,rzt=zat,izt=Fat,azt=X9t,ozt=jat,szt=Q9t,uzt=J9t,lzt=ezt,czt=tzt,fzt="pako inflate (from Nodeca project)",I$={inflateReset:nzt,inflateReset2:rzt,inflateResetKeep:izt,inflateInit:azt,inflateInit2:ozt,inflate:szt,inflateEnd:uzt,inflateGetHeader:lzt,inflateSetDictionary:czt,inflateInfo:fzt};function dzt(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hzt=dzt;const Hat=Object.prototype.toString,{Z_NO_FLUSH:gzt,Z_FINISH:pzt,Z_OK:yV,Z_STREAM_END:Ome,Z_NEED_DICT:Ame,Z_STREAM_ERROR:vzt,Z_DATA_ERROR:lUe,Z_MEM_ERROR:mzt}=rL;function ZW(e){this.options=boe.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Aat,this.strm.avail_out=0;let n=I$.inflateInit2(this.strm,t.windowBits);if(n!==yV)throw new Error(aP[n]);if(this.header=new hzt,I$.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=mV.string2buf(t.dictionary):Hat.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=I$.inflateSetDictionary(this.strm,t.dictionary),n!==yV)))throw new Error(aP[n])}ZW.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,u;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?pzt:gzt,Hat.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=I$.inflate(n,s),a===Ame&&i&&(a=I$.inflateSetDictionary(n,i),a===yV?a=I$.inflate(n,s):a===lUe&&(a=Ame));n.avail_in>0&&a===Ome&&n.state.wrap>0&&e[n.next_in]!==0;)I$.inflateReset(n),a=I$.inflate(n,s);switch(a){case vzt:case lUe:case Ame:case mzt:return this.onEnd(a),this.ended=!0,!1}if(u=n.avail_out,n.next_out&&(n.avail_out===0||a===Ome))if(this.options.to==="string"){let f=mV.utf8border(n.output,n.next_out),d=n.next_out-f,c=mV.buf2string(n.output,f);n.next_out=d,n.avail_out=r-d,d&&n.output.set(n.output.subarray(f,f+d),0),this.onData(c)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===yV&&u===0)){if(a===Ome)return a=I$.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};ZW.prototype.onData=function(e){this.chunks.push(e)};ZW.prototype.onEnd=function(e){e===yV&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=boe.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function H$e(e,t){const n=new ZW(t);if(n.push(e),n.err)throw n.msg||aP[n.err];return n.result}function yzt(e,t){return t=t||{},t.raw=!0,H$e(e,t)}var bzt=ZW,wzt=H$e,_zt=yzt,xzt=H$e,Szt=rL,Ezt={Inflate:bzt,inflate:wzt,inflateRaw:_zt,ungzip:xzt,constants:Szt};const{Deflate:Czt,deflate:$zt,deflateRaw:kzt,gzip:Ozt}=M9t,{Inflate:Azt,inflate:Rzt,inflateRaw:Tzt,ungzip:Mzt}=Ezt;var Pzt=Czt,Lzt=$zt,Dzt=kzt,Izt=Ozt,Fzt=Azt,Nzt=Rzt,zzt=Tzt,jzt=Mzt,Bzt=rL,Uat={Deflate:Pzt,deflate:Lzt,deflateRaw:Dzt,gzip:Izt,Inflate:Fzt,inflate:Nzt,inflateRaw:zzt,ungzip:jzt,constants:Bzt};const uN={project:void 0,previousContents:void 0,fileHandle:void 0,loadFileError:void 0,projectHash:void 0},Qo=nL()(qW(sat(e=>({})),{name:"File State"}));function U$e(e){const t=JSON.stringify(e),n=Uat.deflate(t);return btoa(String.fromCharCode(...n))}function Hzt(e){const t=Uint8Array.from(atob(e),i=>i.charCodeAt(0)),n=Uat.inflate(t,{to:"string"});return JSON.parse(n)}function bV(e){return"message"in e}var Ws;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),s={};for(const u of a)s[u]=i[u];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Ws||(Ws={}));var cUe;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(cUe||(cUe={}));const ei=Ws.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),o5=e=>{switch(typeof e){case"undefined":return ei.undefined;case"string":return ei.string;case"number":return isNaN(e)?ei.nan:ei.number;case"boolean":return ei.boolean;case"function":return ei.function;case"bigint":return ei.bigint;case"symbol":return ei.symbol;case"object":return Array.isArray(e)?ei.array:e===null?ei.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ei.promise:typeof Map<"u"&&e instanceof Map?ei.map:typeof Set<"u"&&e instanceof Set?ei.set:typeof Date<"u"&&e instanceof Date?ei.date:ei.object;default:return ei.unknown}},dr=Ws.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class qS extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let u=r,f=0;for(;f<s.path.length;){const d=s.path[f];f===s.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(n(s))):u[d]=u[d]||{_errors:[]},u=u[d],f++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ws.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}qS.create=e=>new qS(e);const qne=(e,t)=>{let n;switch(e.code){case dr.invalid_type:e.received===ei.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case dr.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ws.jsonStringifyReplacer)}`;break;case dr.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ws.joinValues(e.keys,", ")}`;break;case dr.invalid_union:n="Invalid input";break;case dr.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ws.joinValues(e.options)}`;break;case dr.invalid_enum_value:n=`Invalid enum value. Expected ${Ws.joinValues(e.options)}, received '${e.received}'`;break;case dr.invalid_arguments:n="Invalid function arguments";break;case dr.invalid_return_type:n="Invalid function return type";break;case dr.invalid_date:n="Invalid date";break;case dr.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ws.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case dr.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case dr.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case dr.custom:n="Invalid input";break;case dr.invalid_intersection_types:n="Intersection results could not be merged";break;case dr.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case dr.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ws.assertNever(e)}return{message:n}};let Uzt=qne;function j2e(){return Uzt}const B2e=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],s={...i,path:a};let u="";const f=r.filter(d=>!!d).slice().reverse();for(const d of f)u=d(s,{data:t,defaultError:u}).message;return{...i,path:a,message:i.message||u}};function ui(e,t){const n=B2e({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,j2e(),qne].filter(r=>!!r)});e.common.issues.push(n)}class dv{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return Ja;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return dv.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Ja;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),(typeof s.value<"u"||i.alwaysSet)&&(r[a.value]=s.value)}return{status:t.value,value:r}}}const Ja=Object.freeze({status:"aborted"}),Vzt=e=>({status:"dirty",value:e}),km=e=>({status:"valid",value:e}),fUe=e=>e.status==="aborted",dUe=e=>e.status==="dirty",H2e=e=>e.status==="valid",U2e=e=>typeof Promise<"u"&&e instanceof Promise;var Zi;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Zi||(Zi={}));class sE{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hUe=(e,t)=>{if(H2e(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new qS(e.common.issues);return this._error=n,this._error}}};function ao(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,u)=>s.code!=="invalid_type"?{message:u.defaultError}:typeof u.data>"u"?{message:r??u.defaultError}:{message:n??u.defaultError},description:i}}class Wo{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return o5(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:o5(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new dv,ctx:{common:t.parent.common,data:t.data,parsedType:o5(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(U2e(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:o5(t)},a=this._parseSync({data:t,path:i.path,parent:i});return hUe(i,a)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:o5(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(U2e(i)?i:Promise.resolve(i));return hUe(r,a)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const s=t(i),u=()=>a.addIssue({code:dr.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(f=>f?!0:(u(),!1)):s?!0:(u(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new vk({schema:this,typeName:_a.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return KR.create(this,this._def)}nullable(){return dN.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return YS.create(this,this._def)}promise(){return _V.create(this,this._def)}or(t){return Xne.create([this,t],this._def)}and(t){return Zne.create(this,t,this._def)}transform(t){return new vk({...ao(this._def),schema:this,typeName:_a.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new nre({...ao(this._def),innerType:this,defaultValue:n,typeName:_a.ZodDefault})}brand(){return new njt({typeName:_a.ZodBranded,type:this,...ao(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new X2e({...ao(this._def),innerType:this,catchValue:n,typeName:_a.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return _oe.create(this,t)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Wzt=/^c[^\s-]{8,}$/i,Gzt=/^[a-z][a-z0-9]*$/,qzt=/[0-9A-HJKMNP-TV-Z]{26}/,Yzt=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Kzt=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Xzt=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,Zzt=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Qzt=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Jzt=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function ejt(e,t){return!!((t==="v4"||!t)&&Zzt.test(e)||(t==="v6"||!t)&&Qzt.test(e))}class V$ extends Wo{constructor(){super(...arguments),this._regex=(t,n,r)=>this.refinement(i=>t.test(i),{validation:n,code:dr.invalid_string,...Zi.errToObj(r)}),this.nonempty=t=>this.min(1,Zi.errToObj(t)),this.trim=()=>new V$({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new V$({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new V$({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ei.string){const a=this._getOrReturnCtx(t);return ui(a,{code:dr.invalid_type,expected:ei.string,received:a.parsedType}),Ja}const r=new dv;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),ui(i,{code:dr.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),ui(i,{code:dr.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,u=t.data.length<a.value;(s||u)&&(i=this._getOrReturnCtx(t,i),s?ui(i,{code:dr.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&ui(i,{code:dr.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Kzt.test(t.data)||(i=this._getOrReturnCtx(t,i),ui(i,{validation:"email",code:dr.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Xzt.test(t.data)||(i=this._getOrReturnCtx(t,i),ui(i,{validation:"emoji",code:dr.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Yzt.test(t.data)||(i=this._getOrReturnCtx(t,i),ui(i,{validation:"uuid",code:dr.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Wzt.test(t.data)||(i=this._getOrReturnCtx(t,i),ui(i,{validation:"cuid",code:dr.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Gzt.test(t.data)||(i=this._getOrReturnCtx(t,i),ui(i,{validation:"cuid2",code:dr.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")qzt.test(t.data)||(i=this._getOrReturnCtx(t,i),ui(i,{validation:"ulid",code:dr.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),ui(i,{validation:"url",code:dr.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),ui(i,{validation:"regex",code:dr.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),ui(i,{code:dr.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),ui(i,{code:dr.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),ui(i,{code:dr.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Jzt(a).test(t.data)||(i=this._getOrReturnCtx(t,i),ui(i,{code:dr.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="ip"?ejt(t.data,a.version)||(i=this._getOrReturnCtx(t,i),ui(i,{validation:"ip",code:dr.invalid_string,message:a.message}),r.dirty()):Ws.assertNever(a);return{status:r.value,value:t.data}}_addCheck(t){return new V$({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Zi.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Zi.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Zi.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Zi.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Zi.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Zi.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Zi.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Zi.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...Zi.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Zi.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Zi.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Zi.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Zi.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Zi.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Zi.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Zi.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}V$.create=e=>{var t;return new V$({checks:[],typeName:_a.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ao(e)})};function tjt(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class lN extends Wo{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ei.number){const a=this._getOrReturnCtx(t);return ui(a,{code:dr.invalid_type,expected:ei.number,received:a.parsedType}),Ja}let r;const i=new dv;for(const a of this._def.checks)a.kind==="int"?Ws.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ui(r,{code:dr.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),ui(r,{code:dr.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),ui(r,{code:dr.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?tjt(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),ui(r,{code:dr.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ui(r,{code:dr.not_finite,message:a.message}),i.dirty()):Ws.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Zi.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Zi.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Zi.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Zi.toString(n))}setLimit(t,n,r,i){return new lN({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Zi.toString(i)}]})}_addCheck(t){return new lN({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Zi.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Zi.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Zi.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Zi.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Zi.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Zi.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Zi.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Zi.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Zi.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ws.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}lN.create=e=>new lN({checks:[],typeName:_a.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ao(e)});class cN extends Wo{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==ei.bigint){const a=this._getOrReturnCtx(t);return ui(a,{code:dr.invalid_type,expected:ei.bigint,received:a.parsedType}),Ja}let r;const i=new dv;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),ui(r,{code:dr.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),ui(r,{code:dr.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ui(r,{code:dr.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Ws.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Zi.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Zi.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Zi.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Zi.toString(n))}setLimit(t,n,r,i){return new cN({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Zi.toString(i)}]})}_addCheck(t){return new cN({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Zi.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Zi.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Zi.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Zi.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Zi.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}cN.create=e=>{var t;return new cN({checks:[],typeName:_a.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ao(e)})};class V2e extends Wo{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ei.boolean){const r=this._getOrReturnCtx(t);return ui(r,{code:dr.invalid_type,expected:ei.boolean,received:r.parsedType}),Ja}return km(t.data)}}V2e.create=e=>new V2e({typeName:_a.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ao(e)});class wV extends Wo{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ei.date){const a=this._getOrReturnCtx(t);return ui(a,{code:dr.invalid_type,expected:ei.date,received:a.parsedType}),Ja}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return ui(a,{code:dr.invalid_date}),Ja}const r=new dv;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),ui(i,{code:dr.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),ui(i,{code:dr.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ws.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new wV({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Zi.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Zi.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}wV.create=e=>new wV({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:_a.ZodDate,...ao(e)});class W2e extends Wo{_parse(t){if(this._getType(t)!==ei.symbol){const r=this._getOrReturnCtx(t);return ui(r,{code:dr.invalid_type,expected:ei.symbol,received:r.parsedType}),Ja}return km(t.data)}}W2e.create=e=>new W2e({typeName:_a.ZodSymbol,...ao(e)});class Yne extends Wo{_parse(t){if(this._getType(t)!==ei.undefined){const r=this._getOrReturnCtx(t);return ui(r,{code:dr.invalid_type,expected:ei.undefined,received:r.parsedType}),Ja}return km(t.data)}}Yne.create=e=>new Yne({typeName:_a.ZodUndefined,...ao(e)});class Kne extends Wo{_parse(t){if(this._getType(t)!==ei.null){const r=this._getOrReturnCtx(t);return ui(r,{code:dr.invalid_type,expected:ei.null,received:r.parsedType}),Ja}return km(t.data)}}Kne.create=e=>new Kne({typeName:_a.ZodNull,...ao(e)});class G2e extends Wo{constructor(){super(...arguments),this._any=!0}_parse(t){return km(t.data)}}G2e.create=e=>new G2e({typeName:_a.ZodAny,...ao(e)});class $F extends Wo{constructor(){super(...arguments),this._unknown=!0}_parse(t){return km(t.data)}}$F.create=e=>new $F({typeName:_a.ZodUnknown,...ao(e)});class v3 extends Wo{_parse(t){const n=this._getOrReturnCtx(t);return ui(n,{code:dr.invalid_type,expected:ei.never,received:n.parsedType}),Ja}}v3.create=e=>new v3({typeName:_a.ZodNever,...ao(e)});class q2e extends Wo{_parse(t){if(this._getType(t)!==ei.undefined){const r=this._getOrReturnCtx(t);return ui(r,{code:dr.invalid_type,expected:ei.void,received:r.parsedType}),Ja}return km(t.data)}}q2e.create=e=>new q2e({typeName:_a.ZodVoid,...ao(e)});class YS extends Wo{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==ei.array)return ui(n,{code:dr.invalid_type,expected:ei.array,received:n.parsedType}),Ja;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,u=n.data.length<i.exactLength.value;(s||u)&&(ui(n,{code:s?dr.too_big:dr.too_small,minimum:u?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ui(n,{code:dr.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ui(n,{code:dr.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,u)=>i.type._parseAsync(new sE(n,s,n.path,u)))).then(s=>dv.mergeArray(r,s));const a=[...n.data].map((s,u)=>i.type._parseSync(new sE(n,s,n.path,u)));return dv.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new YS({...this._def,minLength:{value:t,message:Zi.toString(n)}})}max(t,n){return new YS({...this._def,maxLength:{value:t,message:Zi.toString(n)}})}length(t,n){return new YS({...this._def,exactLength:{value:t,message:Zi.toString(n)}})}nonempty(t){return this.min(1,t)}}YS.create=(e,t)=>new YS({type:e,minLength:null,maxLength:null,exactLength:null,typeName:_a.ZodArray,...ao(t)});function P6(e){if(e instanceof lf){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=KR.create(P6(r))}return new lf({...e._def,shape:()=>t})}else return e instanceof YS?new YS({...e._def,type:P6(e.element)}):e instanceof KR?KR.create(P6(e.unwrap())):e instanceof dN?dN.create(P6(e.unwrap())):e instanceof pk?pk.create(e.items.map(t=>P6(t))):e}class lf extends Wo{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ws.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==ei.object){const d=this._getOrReturnCtx(t);return ui(d,{code:dr.invalid_type,expected:ei.object,received:d.parsedType}),Ja}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),u=[];if(!(this._def.catchall instanceof v3&&this._def.unknownKeys==="strip"))for(const d in i.data)s.includes(d)||u.push(d);const f=[];for(const d of s){const c=a[d],h=i.data[d];f.push({key:{status:"valid",value:d},value:c._parse(new sE(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof v3){const d=this._def.unknownKeys;if(d==="passthrough")for(const c of u)f.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(d==="strict")u.length>0&&(ui(i,{code:dr.unrecognized_keys,keys:u}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const c of u){const h=i.data[c];f.push({key:{status:"valid",value:c},value:d._parse(new sE(i,h,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const c of f){const h=await c.key;d.push({key:h,value:await c.value,alwaysSet:c.alwaysSet})}return d}).then(d=>dv.mergeObjectSync(r,d)):dv.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(t){return Zi.errToObj,new lf({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,a,s,u;const f=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=Zi.errToObj(t).message)!==null&&u!==void 0?u:f}:{message:f}}}:{}})}strip(){return new lf({...this._def,unknownKeys:"strip"})}passthrough(){return new lf({...this._def,unknownKeys:"passthrough"})}extend(t){return new lf({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new lf({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:_a.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new lf({...this._def,catchall:t})}pick(t){const n={};return Ws.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new lf({...this._def,shape:()=>n})}omit(t){const n={};return Ws.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new lf({...this._def,shape:()=>n})}deepPartial(){return P6(this)}partial(t){const n={};return Ws.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new lf({...this._def,shape:()=>n})}required(t){const n={};return Ws.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof KR;)a=a._def.innerType;n[r]=a}}),new lf({...this._def,shape:()=>n})}keyof(){return Vat(Ws.objectKeys(this.shape))}}lf.create=(e,t)=>new lf({shape:()=>e,unknownKeys:"strip",catchall:v3.create(),typeName:_a.ZodObject,...ao(t)});lf.strictCreate=(e,t)=>new lf({shape:()=>e,unknownKeys:"strict",catchall:v3.create(),typeName:_a.ZodObject,...ao(t)});lf.lazycreate=(e,t)=>new lf({shape:e,unknownKeys:"strip",catchall:v3.create(),typeName:_a.ZodObject,...ao(t)});class Xne extends Wo{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const s=a.map(u=>new qS(u.ctx.common.issues));return ui(n,{code:dr.invalid_union,unionErrors:s}),Ja}if(n.common.async)return Promise.all(r.map(async a=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const f of r){const d={...n,common:{...n.common,issues:[]},parent:null},c=f._parseSync({data:n.data,path:n.path,parent:d});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:d}),d.common.issues.length&&s.push(d.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const u=s.map(f=>new qS(f));return ui(n,{code:dr.invalid_union,unionErrors:u}),Ja}}get options(){return this._def.options}}Xne.create=(e,t)=>new Xne({options:e,typeName:_a.ZodUnion,...ao(t)});const vte=e=>e instanceof Jne?vte(e.schema):e instanceof vk?vte(e.innerType()):e instanceof ere?[e.value]:e instanceof uP?e.options:e instanceof tre?Object.keys(e.enum):e instanceof nre?vte(e._def.innerType):e instanceof Yne?[void 0]:e instanceof Kne?[null]:null;class V$e extends Wo{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ei.object)return ui(n,{code:dr.invalid_type,expected:ei.object,received:n.parsedType}),Ja;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(ui(n,{code:dr.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ja)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const a of n){const s=vte(a.shape[t]);if(!s)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const u of s){if(i.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);i.set(u,a)}}return new V$e({typeName:_a.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...ao(r)})}}function Y2e(e,t){const n=o5(e),r=o5(t);if(e===t)return{valid:!0,data:e};if(n===ei.object&&r===ei.object){const i=Ws.objectKeys(t),a=Ws.objectKeys(e).filter(u=>i.indexOf(u)!==-1),s={...e,...t};for(const u of a){const f=Y2e(e[u],t[u]);if(!f.valid)return{valid:!1};s[u]=f.data}return{valid:!0,data:s}}else if(n===ei.array&&r===ei.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],u=t[a],f=Y2e(s,u);if(!f.valid)return{valid:!1};i.push(f.data)}return{valid:!0,data:i}}else return n===ei.date&&r===ei.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Zne extends Wo{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(a,s)=>{if(fUe(a)||fUe(s))return Ja;const u=Y2e(a.value,s.value);return u.valid?((dUe(a)||dUe(s))&&n.dirty(),{status:n.value,value:u.data}):(ui(r,{code:dr.invalid_intersection_types}),Ja)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Zne.create=(e,t,n)=>new Zne({left:e,right:t,typeName:_a.ZodIntersection,...ao(n)});class pk extends Wo{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ei.array)return ui(r,{code:dr.invalid_type,expected:ei.array,received:r.parsedType}),Ja;if(r.data.length<this._def.items.length)return ui(r,{code:dr.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ja;!this._def.rest&&r.data.length>this._def.items.length&&(ui(r,{code:dr.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new sE(r,s,r.path,u)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>dv.mergeArray(n,s)):dv.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new pk({...this._def,rest:t})}}pk.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pk({items:e,typeName:_a.ZodTuple,rest:null,...ao(t)})};class Qne extends Wo{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ei.object)return ui(r,{code:dr.invalid_type,expected:ei.object,received:r.parsedType}),Ja;const i=[],a=this._def.keyType,s=this._def.valueType;for(const u in r.data)i.push({key:a._parse(new sE(r,u,r.path,u)),value:s._parse(new sE(r,r.data[u],r.path,u))});return r.common.async?dv.mergeObjectAsync(n,i):dv.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Wo?new Qne({keyType:t,valueType:n,typeName:_a.ZodRecord,...ao(r)}):new Qne({keyType:V$.create(),valueType:t,typeName:_a.ZodRecord,...ao(n)})}}class K2e extends Wo{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ei.map)return ui(r,{code:dr.invalid_type,expected:ei.map,received:r.parsedType}),Ja;const i=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([u,f],d)=>({key:i._parse(new sE(r,u,r.path,[d,"key"])),value:a._parse(new sE(r,f,r.path,[d,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of s){const d=await f.key,c=await f.value;if(d.status==="aborted"||c.status==="aborted")return Ja;(d.status==="dirty"||c.status==="dirty")&&n.dirty(),u.set(d.value,c.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const f of s){const d=f.key,c=f.value;if(d.status==="aborted"||c.status==="aborted")return Ja;(d.status==="dirty"||c.status==="dirty")&&n.dirty(),u.set(d.value,c.value)}return{status:n.value,value:u}}}}K2e.create=(e,t,n)=>new K2e({valueType:t,keyType:e,typeName:_a.ZodMap,...ao(n)});class fN extends Wo{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ei.set)return ui(r,{code:dr.invalid_type,expected:ei.set,received:r.parsedType}),Ja;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ui(r,{code:dr.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ui(r,{code:dr.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function s(f){const d=new Set;for(const c of f){if(c.status==="aborted")return Ja;c.status==="dirty"&&n.dirty(),d.add(c.value)}return{status:n.value,value:d}}const u=[...r.data.values()].map((f,d)=>a._parse(new sE(r,f,r.path,d)));return r.common.async?Promise.all(u).then(f=>s(f)):s(u)}min(t,n){return new fN({...this._def,minSize:{value:t,message:Zi.toString(n)}})}max(t,n){return new fN({...this._def,maxSize:{value:t,message:Zi.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}fN.create=(e,t)=>new fN({valueType:e,minSize:null,maxSize:null,typeName:_a.ZodSet,...ao(t)});class oU extends Wo{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ei.function)return ui(n,{code:dr.invalid_type,expected:ei.function,received:n.parsedType}),Ja;function r(u,f){return B2e({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,j2e(),qne].filter(d=>!!d),issueData:{code:dr.invalid_arguments,argumentsError:f}})}function i(u,f){return B2e({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,j2e(),qne].filter(d=>!!d),issueData:{code:dr.invalid_return_type,returnTypeError:f}})}const a={errorMap:n.common.contextualErrorMap},s=n.data;return this._def.returns instanceof _V?km(async(...u)=>{const f=new qS([]),d=await this._def.args.parseAsync(u,a).catch(p=>{throw f.addIssue(r(u,p)),f}),c=await s(...d);return await this._def.returns._def.type.parseAsync(c,a).catch(p=>{throw f.addIssue(i(c,p)),f})}):km((...u)=>{const f=this._def.args.safeParse(u,a);if(!f.success)throw new qS([r(u,f.error)]);const d=s(...f.data),c=this._def.returns.safeParse(d,a);if(!c.success)throw new qS([i(d,c.error)]);return c.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new oU({...this._def,args:pk.create(t).rest($F.create())})}returns(t){return new oU({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new oU({args:t||pk.create([]).rest($F.create()),returns:n||$F.create(),typeName:_a.ZodFunction,...ao(r)})}}class Jne extends Wo{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Jne.create=(e,t)=>new Jne({getter:e,typeName:_a.ZodLazy,...ao(t)});class ere extends Wo{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ui(n,{received:n.data,code:dr.invalid_literal,expected:this._def.value}),Ja}return{status:"valid",value:t.data}}get value(){return this._def.value}}ere.create=(e,t)=>new ere({value:e,typeName:_a.ZodLiteral,...ao(t)});function Vat(e,t){return new uP({values:e,typeName:_a.ZodEnum,...ao(t)})}class uP extends Wo{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return ui(n,{expected:Ws.joinValues(r),received:n.parsedType,code:dr.invalid_type}),Ja}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return ui(n,{received:n.data,code:dr.invalid_enum_value,options:r}),Ja}return km(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return uP.create(t)}exclude(t){return uP.create(this.options.filter(n=>!t.includes(n)))}}uP.create=Vat;class tre extends Wo{_parse(t){const n=Ws.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==ei.string&&r.parsedType!==ei.number){const i=Ws.objectValues(n);return ui(r,{expected:Ws.joinValues(i),received:r.parsedType,code:dr.invalid_type}),Ja}if(n.indexOf(t.data)===-1){const i=Ws.objectValues(n);return ui(r,{received:r.data,code:dr.invalid_enum_value,options:i}),Ja}return km(t.data)}get enum(){return this._def.values}}tre.create=(e,t)=>new tre({values:e,typeName:_a.ZodNativeEnum,...ao(t)});class _V extends Wo{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ei.promise&&n.common.async===!1)return ui(n,{code:dr.invalid_type,expected:ei.promise,received:n.parsedType}),Ja;const r=n.parsedType===ei.promise?n.data:Promise.resolve(n.data);return km(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}_V.create=(e,t)=>new _V({type:e,typeName:_a.ZodPromise,...ao(t)});class vk extends Wo{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_a.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null;if(i.type==="preprocess"){const s=i.transform(r.data);return r.common.async?Promise.resolve(s).then(u=>this._def.schema._parseAsync({data:u,path:r.path,parent:r})):this._def.schema._parseSync({data:s,path:r.path,parent:r})}const a={addIssue:s=>{ui(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="refinement"){const s=u=>{const f=i.refinement(u,a);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Ja:(u.status==="dirty"&&n.dirty(),s(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Ja:(u.status==="dirty"&&n.dirty(),s(u.value).then(()=>({status:n.value,value:u.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!H2e(s))return s;const u=i.transform(s.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>H2e(s)?Promise.resolve(i.transform(s.value,a)).then(u=>({status:n.value,value:u})):s);Ws.assertNever(i)}}vk.create=(e,t,n)=>new vk({schema:e,typeName:_a.ZodEffects,effect:t,...ao(n)});vk.createWithPreprocess=(e,t,n)=>new vk({schema:t,effect:{type:"preprocess",transform:e},typeName:_a.ZodEffects,...ao(n)});class KR extends Wo{_parse(t){return this._getType(t)===ei.undefined?km(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}KR.create=(e,t)=>new KR({innerType:e,typeName:_a.ZodOptional,...ao(t)});class dN extends Wo{_parse(t){return this._getType(t)===ei.null?km(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}dN.create=(e,t)=>new dN({innerType:e,typeName:_a.ZodNullable,...ao(t)});class nre extends Wo{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===ei.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}nre.create=(e,t)=>new nre({innerType:e,typeName:_a.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ao(t)});class X2e extends Wo{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return U2e(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new qS(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qS(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}X2e.create=(e,t)=>new X2e({innerType:e,typeName:_a.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ao(t)});class Z2e extends Wo{_parse(t){if(this._getType(t)!==ei.nan){const r=this._getOrReturnCtx(t);return ui(r,{code:dr.invalid_type,expected:ei.nan,received:r.parsedType}),Ja}return{status:"valid",value:t.data}}}Z2e.create=e=>new Z2e({typeName:_a.ZodNaN,...ao(e)});class njt extends Wo{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class _oe extends Wo{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ja:a.status==="dirty"?(n.dirty(),Vzt(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ja:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new _oe({in:t,out:n,typeName:_a.ZodPipeline})}}lf.lazycreate;var _a;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"})(_a||(_a={}));const gUe=V$.create,pUe=lN.create;Z2e.create;cN.create;const rjt=V2e.create;wV.create;W2e.create;Yne.create;Kne.create;G2e.create;$F.create;v3.create;q2e.create;YS.create;const Wat=lf.create;lf.strictCreate;Xne.create;V$e.create;Zne.create;pk.create;const ijt=Qne.create;K2e.create;fN.create;oU.create;Jne.create;ere.create;uP.create;tre.create;_V.create;vk.create;const vUe=KR.create;dN.create;vk.createWithPreprocess;_oe.create;const ajt=Wat({x:pUe(),y:pUe()}),ojt=ijt(ajt),sjt=Wat({squiggle:gUe(),subject:gUe(),nodeLocation:vUe(ojt),renderPercentages:vUe(rjt())}).strict(),mUe=()=>({squiggle:"",subject:"",nodeLocation:{},renderPercentages:!1});function ujt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var aL=ujt,ljt=typeof $e=="object"&&$e&&$e.Object===Object&&$e,Gat=ljt,cjt=Gat,fjt=typeof self=="object"&&self&&self.Object===Object&&self,djt=cjt||fjt||Function("return this")(),SE=djt,hjt=SE,gjt=function(){return hjt.Date.now()},pjt=gjt,vjt=/\s/;function mjt(e){for(var t=e.length;t--&&vjt.test(e.charAt(t)););return t}var yjt=mjt,bjt=yjt,wjt=/^\s+/;function _jt(e){return e&&e.slice(0,bjt(e)+1).replace(wjt,"")}var xjt=_jt,Sjt=SE,Ejt=Sjt.Symbol,QW=Ejt,yUe=QW,qat=Object.prototype,Cjt=qat.hasOwnProperty,$jt=qat.toString,eB=yUe?yUe.toStringTag:void 0;function kjt(e){var t=Cjt.call(e,eB),n=e[eB];try{e[eB]=void 0;var r=!0}catch{}var i=$jt.call(e);return r&&(t?e[eB]=n:delete e[eB]),i}var Ojt=kjt,Ajt=Object.prototype,Rjt=Ajt.toString;function Tjt(e){return Rjt.call(e)}var Mjt=Tjt,bUe=QW,Pjt=Ojt,Ljt=Mjt,Djt="[object Null]",Ijt="[object Undefined]",wUe=bUe?bUe.toStringTag:void 0;function Fjt(e){return e==null?e===void 0?Ijt:Djt:wUe&&wUe in Object(e)?Pjt(e):Ljt(e)}var JW=Fjt;function Njt(e){return e!=null&&typeof e=="object"}var A8=Njt,zjt=JW,jjt=A8,Bjt="[object Symbol]";function Hjt(e){return typeof e=="symbol"||jjt(e)&&zjt(e)==Bjt}var R8=Hjt,Ujt=xjt,_Ue=aL,Vjt=R8,xUe=0/0,Wjt=/^[-+]0x[0-9a-f]+$/i,Gjt=/^0b[01]+$/i,qjt=/^0o[0-7]+$/i,Yjt=parseInt;function Kjt(e){if(typeof e=="number")return e;if(Vjt(e))return xUe;if(_Ue(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_Ue(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ujt(e);var n=Gjt.test(e);return n||qjt.test(e)?Yjt(e.slice(2),n?2:8):Wjt.test(e)?xUe:+e}var Yat=Kjt,Xjt=aL,Rme=pjt,SUe=Yat,Zjt="Expected a function",Qjt=Math.max,Jjt=Math.min;function eBt(e,t,n){var r,i,a,s,u,f,d=0,c=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(Zjt);t=SUe(t)||0,Xjt(n)&&(c=!!n.leading,h="maxWait"in n,a=h?Qjt(SUe(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function v(M){var A=r,L=i;return r=i=void 0,d=M,s=e.apply(L,A),s}function m(M){return d=M,u=setTimeout(_,t),c?v(M):s}function y(M){var A=M-f,L=M-d,N=t-A;return h?Jjt(N,a-L):N}function w(M){var A=M-f,L=M-d;return f===void 0||A>=t||A<0||h&&L>=a}function _(){var M=Rme();if(w(M))return S(M);u=setTimeout(_,y(M))}function S(M){return u=void 0,p&&r?v(M):(r=i=void 0,s)}function C(){u!==void 0&&clearTimeout(u),d=0,r=f=i=u=void 0}function $(){return u===void 0?s:S(Rme())}function k(){var M=Rme(),A=w(M);if(r=arguments,i=this,f=M,A){if(u===void 0)return m(f);if(h)return clearTimeout(u),u=setTimeout(_,t),v(f)}return u===void 0&&(u=setTimeout(_,t)),s}return k.cancel=C,k.flush=$,k}var tBt=eBt,Q2e={},nBt={get exports(){return Q2e},set exports(e){Q2e=e}},J2e={},rBt={get exports(){return J2e},set exports(e){J2e=e}};(function(e,t){(function(){var n,r,i,a,s,u,f,d,c,h,p,v,m,y,w;i=Math.floor,h=Math.min,r=function(_,S){return _<S?-1:_>S?1:0},c=function(_,S,C,$,k){var M;if(C==null&&(C=0),k==null&&(k=r),C<0)throw new Error("lo must be non-negative");for($==null&&($=_.length);C<$;)M=i((C+$)/2),k(S,_[M])<0?$=M:C=M+1;return[].splice.apply(_,[C,C-C].concat(S)),S},u=function(_,S,C){return C==null&&(C=r),_.push(S),y(_,0,_.length-1,C)},s=function(_,S){var C,$;return S==null&&(S=r),C=_.pop(),_.length?($=_[0],_[0]=C,w(_,0,S)):$=C,$},d=function(_,S,C){var $;return C==null&&(C=r),$=_[0],_[0]=S,w(_,0,C),$},f=function(_,S,C){var $;return C==null&&(C=r),_.length&&C(_[0],S)<0&&($=[_[0],S],S=$[0],_[0]=$[1],w(_,0,C)),S},a=function(_,S){var C,$,k,M,A,L;for(S==null&&(S=r),M=function(){L=[];for(var N=0,R=i(_.length/2);0<=R?N<R:N>R;0<=R?N++:N--)L.push(N);return L}.apply(this).reverse(),A=[],$=0,k=M.length;$<k;$++)C=M[$],A.push(w(_,C,S));return A},m=function(_,S,C){var $;if(C==null&&(C=r),$=_.indexOf(S),$!==-1)return y(_,0,$,C),w(_,$,C)},p=function(_,S,C){var $,k,M,A,L;if(C==null&&(C=r),k=_.slice(0,S),!k.length)return k;for(a(k,C),L=_.slice(S),M=0,A=L.length;M<A;M++)$=L[M],f(k,$,C);return k.sort(C).reverse()},v=function(_,S,C){var $,k,M,A,L,N,R,D,j;if(C==null&&(C=r),S*10<=_.length){if(M=_.slice(0,S).sort(C),!M.length)return M;for(k=M[M.length-1],R=_.slice(S),A=0,N=R.length;A<N;A++)$=R[A],C($,k)<0&&(c(M,$,0,null,C),M.pop(),k=M[M.length-1]);return M}for(a(_,C),j=[],L=0,D=h(S,_.length);0<=D?L<D:L>D;0<=D?++L:--L)j.push(s(_,C));return j},y=function(_,S,C,$){var k,M,A;for($==null&&($=r),k=_[C];C>S;){if(A=C-1>>1,M=_[A],$(k,M)<0){_[C]=M,C=A;continue}break}return _[C]=k},w=function(_,S,C){var $,k,M,A,L;for(C==null&&(C=r),k=_.length,L=S,M=_[S],$=2*S+1;$<k;)A=$+1,A<k&&!(C(_[$],_[A])<0)&&($=A),_[S]=_[$],S=$,$=2*S+1;return _[S]=M,y(_,L,S,C)},n=function(){_.push=u,_.pop=s,_.replace=d,_.pushpop=f,_.heapify=a,_.updateItem=m,_.nlargest=p,_.nsmallest=v;function _(S){this.cmp=S??r,this.nodes=[]}return _.prototype.push=function(S){return u(this.nodes,S,this.cmp)},_.prototype.pop=function(){return s(this.nodes,this.cmp)},_.prototype.peek=function(){return this.nodes[0]},_.prototype.contains=function(S){return this.nodes.indexOf(S)!==-1},_.prototype.replace=function(S){return d(this.nodes,S,this.cmp)},_.prototype.pushpop=function(S){return f(this.nodes,S,this.cmp)},_.prototype.heapify=function(){return a(this.nodes,this.cmp)},_.prototype.updateItem=function(S){return m(this.nodes,S,this.cmp)},_.prototype.clear=function(){return this.nodes=[]},_.prototype.empty=function(){return this.nodes.length===0},_.prototype.size=function(){return this.nodes.length},_.prototype.clone=function(){var S;return S=new _,S.nodes=this.nodes.slice(0),S},_.prototype.toArray=function(){return this.nodes.slice(0)},_.prototype.insert=_.prototype.push,_.prototype.top=_.prototype.peek,_.prototype.front=_.prototype.peek,_.prototype.has=_.prototype.contains,_.prototype.copy=_.prototype.clone,_}(),function(_,S){return e.exports=S()}(this,function(){return n})}).call($e)})(rBt);(function(e){e.exports=J2e})(nBt);var iBt=Array.isArray,cw=iBt,aBt=cw,oBt=R8,sBt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uBt=/^\w*$/;function lBt(e,t){if(aBt(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||oBt(e)?!0:uBt.test(e)||!sBt.test(e)||t!=null&&e in Object(t)}var W$e=lBt,cBt=JW,fBt=aL,dBt="[object AsyncFunction]",hBt="[object Function]",gBt="[object GeneratorFunction]",pBt="[object Proxy]";function vBt(e){if(!fBt(e))return!1;var t=cBt(e);return t==hBt||t==gBt||t==dBt||t==pBt}var Kat=vBt,mBt=SE,yBt=mBt["__core-js_shared__"],bBt=yBt,Tme=bBt,EUe=function(){var e=/[^.]+$/.exec(Tme&&Tme.keys&&Tme.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function wBt(e){return!!EUe&&EUe in e}var _Bt=wBt,xBt=Function.prototype,SBt=xBt.toString;function EBt(e){if(e!=null){try{return SBt.call(e)}catch{}try{return e+""}catch{}}return""}var Xat=EBt,CBt=Kat,$Bt=_Bt,kBt=aL,OBt=Xat,ABt=/[\\^$.*+?()[\]{}|]/g,RBt=/^\[object .+?Constructor\]$/,TBt=Function.prototype,MBt=Object.prototype,PBt=TBt.toString,LBt=MBt.hasOwnProperty,DBt=RegExp("^"+PBt.call(LBt).replace(ABt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function IBt(e){if(!kBt(e)||$Bt(e))return!1;var t=CBt(e)?DBt:RBt;return t.test(OBt(e))}var FBt=IBt;function NBt(e,t){return e==null?void 0:e[t]}var zBt=NBt,jBt=FBt,BBt=zBt;function HBt(e,t){var n=BBt(e,t);return jBt(n)?n:void 0}var oL=HBt,UBt=oL,VBt=UBt(Object,"create"),xoe=VBt,CUe=xoe;function WBt(){this.__data__=CUe?CUe(null):{},this.size=0}var GBt=WBt;function qBt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var YBt=qBt,KBt=xoe,XBt="__lodash_hash_undefined__",ZBt=Object.prototype,QBt=ZBt.hasOwnProperty;function JBt(e){var t=this.__data__;if(KBt){var n=t[e];return n===XBt?void 0:n}return QBt.call(t,e)?t[e]:void 0}var eHt=JBt,tHt=xoe,nHt=Object.prototype,rHt=nHt.hasOwnProperty;function iHt(e){var t=this.__data__;return tHt?t[e]!==void 0:rHt.call(t,e)}var aHt=iHt,oHt=xoe,sHt="__lodash_hash_undefined__";function uHt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=oHt&&t===void 0?sHt:t,this}var lHt=uHt,cHt=GBt,fHt=YBt,dHt=eHt,hHt=aHt,gHt=lHt;function T8(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}T8.prototype.clear=cHt;T8.prototype.delete=fHt;T8.prototype.get=dHt;T8.prototype.has=hHt;T8.prototype.set=gHt;var pHt=T8;function vHt(){this.__data__=[],this.size=0}var mHt=vHt;function yHt(e,t){return e===t||e!==e&&t!==t}var Soe=yHt,bHt=Soe;function wHt(e,t){for(var n=e.length;n--;)if(bHt(e[n][0],t))return n;return-1}var Eoe=wHt,_Ht=Eoe,xHt=Array.prototype,SHt=xHt.splice;function EHt(e){var t=this.__data__,n=_Ht(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():SHt.call(t,n,1),--this.size,!0}var CHt=EHt,$Ht=Eoe;function kHt(e){var t=this.__data__,n=$Ht(t,e);return n<0?void 0:t[n][1]}var OHt=kHt,AHt=Eoe;function RHt(e){return AHt(this.__data__,e)>-1}var THt=RHt,MHt=Eoe;function PHt(e,t){var n=this.__data__,r=MHt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var LHt=PHt,DHt=mHt,IHt=CHt,FHt=OHt,NHt=THt,zHt=LHt;function M8(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}M8.prototype.clear=DHt;M8.prototype.delete=IHt;M8.prototype.get=FHt;M8.prototype.has=NHt;M8.prototype.set=zHt;var Coe=M8,jHt=oL,BHt=SE,HHt=jHt(BHt,"Map"),G$e=HHt,$Ue=pHt,UHt=Coe,VHt=G$e;function WHt(){this.size=0,this.__data__={hash:new $Ue,map:new(VHt||UHt),string:new $Ue}}var GHt=WHt;function qHt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var YHt=qHt,KHt=YHt;function XHt(e,t){var n=e.__data__;return KHt(t)?n[typeof t=="string"?"string":"hash"]:n.map}var $oe=XHt,ZHt=$oe;function QHt(e){var t=ZHt(this,e).delete(e);return this.size-=t?1:0,t}var JHt=QHt,eUt=$oe;function tUt(e){return eUt(this,e).get(e)}var nUt=tUt,rUt=$oe;function iUt(e){return rUt(this,e).has(e)}var aUt=iUt,oUt=$oe;function sUt(e,t){var n=oUt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var uUt=sUt,lUt=GHt,cUt=JHt,fUt=nUt,dUt=aUt,hUt=uUt;function P8(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}P8.prototype.clear=lUt;P8.prototype.delete=cUt;P8.prototype.get=fUt;P8.prototype.has=dUt;P8.prototype.set=hUt;var q$e=P8,Zat=q$e,gUt="Expected a function";function Y$e(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(gUt);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(Y$e.Cache||Zat),n}Y$e.Cache=Zat;var pUt=Y$e,vUt=pUt,mUt=500;function yUt(e){var t=vUt(e,function(r){return n.size===mUt&&n.clear(),r}),n=t.cache;return t}var bUt=yUt,wUt=bUt,_Ut=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xUt=/\\(\\)?/g,SUt=wUt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_Ut,function(n,r,i,a){t.push(i?a.replace(xUt,"$1"):r||n)}),t}),Qat=SUt;function EUt(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var eG=EUt,kUe=QW,CUt=eG,$Ut=cw,kUt=R8,OUt=1/0,OUe=kUe?kUe.prototype:void 0,AUe=OUe?OUe.toString:void 0;function Jat(e){if(typeof e=="string")return e;if($Ut(e))return CUt(e,Jat)+"";if(kUt(e))return AUe?AUe.call(e):"";var t=e+"";return t=="0"&&1/e==-OUt?"-0":t}var AUt=Jat,RUt=AUt;function TUt(e){return e==null?"":RUt(e)}var L8=TUt,MUt=cw,PUt=W$e,LUt=Qat,DUt=L8;function IUt(e,t){return MUt(e)?e:PUt(e,t)?[e]:LUt(DUt(e))}var K$e=IUt,FUt=R8,NUt=1/0;function zUt(e){if(typeof e=="string"||FUt(e))return e;var t=e+"";return t=="0"&&1/e==-NUt?"-0":t}var D8=zUt,jUt=K$e,BUt=D8;function HUt(e,t){t=jUt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[BUt(t[n++])];return n&&n==r?e:void 0}var X$e=HUt,UUt=X$e;function VUt(e,t,n){var r=e==null?void 0:UUt(e,t);return r===void 0?n:r}var eot=VUt,WUt=oL,GUt=function(){try{var e=WUt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),tot=GUt,RUe=tot;function qUt(e,t,n){t=="__proto__"&&RUe?RUe(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Z$e=qUt,YUt=Z$e,KUt=Soe,XUt=Object.prototype,ZUt=XUt.hasOwnProperty;function QUt(e,t,n){var r=e[t];(!(ZUt.call(e,t)&&KUt(r,n))||n===void 0&&!(t in e))&&YUt(e,t,n)}var JUt=QUt,eVt=9007199254740991,tVt=/^(?:0|[1-9]\d*)$/;function nVt(e,t){var n=typeof e;return t=t??eVt,!!t&&(n=="number"||n!="symbol"&&tVt.test(e))&&e>-1&&e%1==0&&e<t}var koe=nVt,rVt=JUt,iVt=K$e,aVt=koe,TUe=aL,oVt=D8;function sVt(e,t,n,r){if(!TUe(e))return e;t=iVt(t,e);for(var i=-1,a=t.length,s=a-1,u=e;u!=null&&++i<a;){var f=oVt(t[i]),d=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return e;if(i!=s){var c=u[f];d=r?r(c,f,u):void 0,d===void 0&&(d=TUe(c)?c:aVt(t[i+1])?[]:{})}rVt(u,f,d),u=u[f]}return e}var uVt=sVt,lVt=uVt;function cVt(e,t,n){return e==null?e:lVt(e,t,n)}var fVt=cVt;function dVt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var hVt=dVt,gVt=eG,pVt=hVt,vVt=cw,mVt=R8,yVt=Qat,bVt=D8,wVt=L8;function _Vt(e){return vVt(e)?gVt(e,bVt):mVt(e)?[e]:pVt(yVt(wVt(e)))}var xVt=_Vt,SVt=tBt,EVt=Q2e,CVt=eot,$Vt=fVt,kVt=xVt;function tG(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var Ooe=tG(SVt),nG=tG(EVt),OVt=tG(CVt),AVt=tG($Vt),RVt=tG(kVt);function Kd(e){return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function Q$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MUe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J$e(e,t,n){return t&&MUe(e.prototype,t),n&&MUe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function not(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A$(e,t){return TVt(e)||MVt(e,t)||PVt(e,t)||LVt()}function TVt(e){if(Array.isArray(e))return e}function MVt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,a=!1,s,u;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(f){a=!0,u=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw u}}return r}}function PVt(e,t){if(e){if(typeof e=="string")return PUe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PUe(e,t)}}function PUe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LVt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ql=typeof window>"u"?null:window,LUe=Ql?Ql.navigator:null;Ql&&Ql.document;var DVt=Kd(""),rot=Kd({}),IVt=Kd(function(){}),FVt=typeof HTMLElement>"u"?"undefined":Kd(HTMLElement),rG=function(t){return t&&t.instanceString&&Dc(t.instanceString)?t.instanceString():null},ji=function(t){return t!=null&&Kd(t)==DVt},Dc=function(t){return t!=null&&Kd(t)===IVt},Vu=function(t){return!ay(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},ws=function(t){return t!=null&&Kd(t)===rot&&!Vu(t)&&t.constructor===Object},NVt=function(t){return t!=null&&Kd(t)===rot},$r=function(t){return t!=null&&Kd(t)===Kd(1)&&!isNaN(t)},zVt=function(t){return $r(t)&&Math.floor(t)===t},rre=function(t){if(FVt!=="undefined")return t!=null&&t instanceof HTMLElement},ay=function(t){return iG(t)||iot(t)},iG=function(t){return rG(t)==="collection"&&t._private.single},iot=function(t){return rG(t)==="collection"&&!t._private.single},eke=function(t){return rG(t)==="core"},aot=function(t){return rG(t)==="stylesheet"},jVt=function(t){return rG(t)==="event"},m3=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},BVt=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},HVt=function(t){return ws(t)&&$r(t.x1)&&$r(t.x2)&&$r(t.y1)&&$r(t.y2)},UVt=function(t){return NVt(t)&&Dc(t.then)},VVt=function(){return LUe&&LUe.userAgent.match(/msie|trident|edge/i)},xV=function(t,n){n||(n=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);return a.join("$")});var r=function i(){var a=this,s=arguments,u,f=n.apply(a,s),d=i.cache;return(u=d[f])||(u=d[f]=t.apply(a,s)),u};return r.cache={},r},tke=xV(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),Aoe=xV(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),oot=xV(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),DUe=function(t){return m3(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},Ud="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",WVt="rgb[a]?\\(("+Ud+"[%]?)\\s*,\\s*("+Ud+"[%]?)\\s*,\\s*("+Ud+"[%]?)(?:\\s*,\\s*("+Ud+"))?\\)",GVt="rgb[a]?\\((?:"+Ud+"[%]?)\\s*,\\s*(?:"+Ud+"[%]?)\\s*,\\s*(?:"+Ud+"[%]?)(?:\\s*,\\s*(?:"+Ud+"))?\\)",qVt="hsl[a]?\\(("+Ud+")\\s*,\\s*("+Ud+"[%])\\s*,\\s*("+Ud+"[%])(?:\\s*,\\s*("+Ud+"))?\\)",YVt="hsl[a]?\\((?:"+Ud+")\\s*,\\s*(?:"+Ud+"[%])\\s*,\\s*(?:"+Ud+"[%])(?:\\s*,\\s*(?:"+Ud+"))?\\)",KVt="\\#[0-9a-fA-F]{3}",XVt="\\#[0-9a-fA-F]{6}",sot=function(t,n){return t<n?-1:t>n?1:0},ZVt=function(t,n){return-1*sot(t,n)},oa=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(r!=null)for(var i=Object.keys(r),a=0;a<i.length;a++){var s=i[a];e[s]=r[s]}}return e},QVt=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var n=t.length===4,r,i,a,s=16;return n?(r=parseInt(t[1]+t[1],s),i=parseInt(t[2]+t[2],s),a=parseInt(t[3]+t[3],s)):(r=parseInt(t[1]+t[2],s),i=parseInt(t[3]+t[4],s),a=parseInt(t[5]+t[6],s)),[r,i,a]}},JVt=function(t){var n,r,i,a,s,u,f,d;function c(m,y,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?m+(y-m)*6*w:w<1/2?y:w<2/3?m+(y-m)*(2/3-w)*6:m}var h=new RegExp("^"+qVt+"$").exec(t);if(h){if(r=parseInt(h[1]),r<0?r=(360- -1*r%360)%360:r>360&&(r=r%360),r/=360,i=parseFloat(h[2]),i<0||i>100||(i=i/100,a=parseFloat(h[3]),a<0||a>100)||(a=a/100,s=h[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(i===0)u=f=d=Math.round(a*255);else{var p=a<.5?a*(1+i):a+i-a*i,v=2*a-p;u=Math.round(255*c(v,p,r+1/3)),f=Math.round(255*c(v,p,r)),d=Math.round(255*c(v,p,r-1/3))}n=[u,f,d,s]}return n},eWt=function(t){var n,r=new RegExp("^"+WVt+"$").exec(t);if(r){n=[];for(var i=[],a=1;a<=3;a++){var s=r[a];if(s[s.length-1]==="%"&&(i[a]=!0),s=parseFloat(s),i[a]&&(s=s/100*255),s<0||s>255)return;n.push(Math.floor(s))}var u=i[1]||i[2]||i[3],f=i[1]&&i[2]&&i[3];if(u&&!f)return;var d=r[4];if(d!==void 0){if(d=parseFloat(d),d<0||d>1)return;n.push(d)}}return n},tWt=function(t){return rWt[t.toLowerCase()]},nWt=function(t){return(Vu(t)?t:null)||tWt(t)||QVt(t)||eWt(t)||JVt(t)},rWt={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},uot=function(t){for(var n=t.map,r=t.keys,i=r.length,a=0;a<i;a++){var s=r[a];if(ws(s))throw Error("Tried to set map with object key");a<r.length-1?(n[s]==null&&(n[s]={}),n=n[s]):n[s]=t.value}},lot=function(t){for(var n=t.map,r=t.keys,i=r.length,a=0;a<i;a++){var s=r[a];if(ws(s))throw Error("Tried to get map with object key");if(n=n[s],n==null)return n}return n},Mme=Ql?Ql.performance:null,cot=Mme&&Mme.now?function(){return Mme.now()}:function(){return Date.now()},iWt=function(){if(Ql){if(Ql.requestAnimationFrame)return function(e){Ql.requestAnimationFrame(e)};if(Ql.mozRequestAnimationFrame)return function(e){Ql.mozRequestAnimationFrame(e)};if(Ql.webkitRequestAnimationFrame)return function(e){Ql.webkitRequestAnimationFrame(e)};if(Ql.msRequestAnimationFrame)return function(e){Ql.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(cot())},1e3/60)}}(),ire=function(t){return iWt(t)},mk=cot,J6=9261,fot=65599,aH=5381,dot=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J6,r=n,i;i=t.next(),!i.done;)r=r*fot+i.value|0;return r},SV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J6;return n*fot+t|0},EV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aH;return(n<<5)+n+t|0},aWt=function(t,n){return t*2097152+n},MA=function(t){return t[0]*2097152+t[1]},pJ=function(t,n){return[SV(t[0],n[0]),EV(t[1],n[1])]},oWt=function(t,n){var r={value:0,done:!1},i=0,a=t.length,s={next:function(){return i<a?r.value=t[i++]:r.done=!0,r}};return dot(s,n)},lP=function(t,n){var r={value:0,done:!1},i=0,a=t.length,s={next:function(){return i<a?r.value=t.charCodeAt(i++):r.done=!0,r}};return dot(s,n)},hot=function(){return sWt(arguments)},sWt=function(t){for(var n,r=0;r<t.length;r++){var i=t[r];r===0?n=lP(i):n=lP(i,n)}return n},IUe=!0,uWt=console.warn!=null,lWt=console.trace!=null,nke=Number.MAX_SAFE_INTEGER||9007199254740991,got=function(){return!0},are=function(){return!1},FUe=function(){return 0},rke=function(){},gf=function(t){throw new Error(t)},pot=function(t){if(t!==void 0)IUe=!!t;else return IUe},su=function(t){pot()&&(uWt?console.warn(t):(console.log(t),lWt&&console.trace()))},cWt=function(t){return oa({},t)},LS=function(t){return t==null?t:Vu(t)?t.slice():ws(t)?cWt(t):t},fWt=function(t){return t.slice()},vot=function(t,n){for(n=t="";t++<36;n+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return n},dWt={},mot=function(){return dWt},Ug=function(t){var n=Object.keys(t);return function(r){for(var i={},a=0;a<n.length;a++){var s=n[a],u=r==null?void 0:r[s];i[s]=u===void 0?t[s]:u}return i}},y3=function(t,n,r){for(var i=t.length-1;i>=0&&!(t[i]===n&&(t.splice(i,1),r));i--);},ike=function(t){t.splice(0,t.length)},hWt=function(t,n){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}},V2=function(t,n,r){return r&&(n=oot(r,n)),t[n]},hR=function(t,n,r,i){r&&(n=oot(r,n)),t[n]=i},gWt=function(){function e(){Q$e(this,e),this._obj={}}return J$e(e,[{key:"set",value:function(n,r){return this._obj[n]=r,this}},{key:"delete",value:function(n){return this._obj[n]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(n){return this._obj[n]!==void 0}},{key:"get",value:function(n){return this._obj[n]}}]),e}(),DS=typeof Map<"u"?Map:gWt,pWt="undefined",vWt=function(){function e(t){if(Q$e(this,e),this._obj=Object.create(null),this.size=0,t!=null){var n;t.instanceString!=null&&t.instanceString()===this.instanceString()?n=t.toArray():n=t;for(var r=0;r<n.length;r++)this.add(n[r])}}return J$e(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(n){var r=this._obj;r[n]!==1&&(r[n]=1,this.size++)}},{key:"delete",value:function(n){var r=this._obj;r[n]===1&&(r[n]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(n){return this._obj[n]===1}},{key:"toArray",value:function(){var n=this;return Object.keys(this._obj).filter(function(r){return n.has(r)})}},{key:"forEach",value:function(n,r){return this.toArray().forEach(n,r)}}]),e}(),I8=(typeof Set>"u"?"undefined":Kd(Set))!==pWt?Set:vWt,Roe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||n===void 0||!eke(t)){gf("An element must have a core reference and parameters set");return}var i=n.group;if(i==null&&(n.data&&n.data.source!=null&&n.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){gf("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var a=this._private={cy:t,single:!0,data:n.data||{},position:n.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!n.selected,selectable:n.selectable===void 0?!0:!!n.selectable,locked:!!n.locked,grabbed:!1,grabbable:n.grabbable===void 0?!0:!!n.grabbable,pannable:n.pannable===void 0?i==="edges":!!n.pannable,active:!1,classes:new I8,animation:{current:[],queue:[]},rscratch:{},scratch:n.scratch||{},edges:[],children:[],parent:n.parent&&n.parent.isNode()?n.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(a.position.x==null&&(a.position.x=0),a.position.y==null&&(a.position.y=0),n.renderedPosition){var s=n.renderedPosition,u=t.pan(),f=t.zoom();a.position={x:(s.x-u.x)/f,y:(s.y-u.y)/f}}var d=[];Vu(n.classes)?d=n.classes:ji(n.classes)&&(d=n.classes.split(/\s+/));for(var c=0,h=d.length;c<h;c++){var p=d[c];!p||p===""||a.classes.add(p)}this.createEmitter();var v=n.style||n.css;v&&(su("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(v)),(r===void 0||r)&&this.restore()},NUe=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(r,i,a){var s;ws(r)&&!ay(r)&&(s=r,r=s.roots||s.root,i=s.visit,a=s.directed),a=arguments.length===2&&!Dc(i)?i:a,i=Dc(i)?i:function(){};for(var u=this._private.cy,f=r=ji(r)?this.filter(r):r,d=[],c=[],h={},p={},v={},m=0,y,w=this.byGroup(),_=w.nodes,S=w.edges,C=0;C<f.length;C++){var $=f[C],k=$.id();$.isNode()&&(d.unshift($),t.bfs&&(v[k]=!0,c.push($)),p[k]=0)}for(var M=function(){var U=t.bfs?d.shift():d.pop(),H=U.id();if(t.dfs){if(v[H])return"continue";v[H]=!0,c.push(U)}var Y=p[H],Z=h[H],Q=Z!=null?Z.source():null,ee=Z!=null?Z.target():null,oe=Z==null?void 0:U.same(Q)?ee[0]:Q[0],ue=void 0;if(ue=i(U,Z,oe,m++,Y),ue===!0)return y=U,"break";if(ue===!1)return"break";for(var ve=U.connectedEdges().filter(function(Ee){return(!a||Ee.source().same(U))&&S.has(Ee)}),le=0;le<ve.length;le++){var de=ve[le],me=de.connectedNodes().filter(function(Ee){return!Ee.same(U)&&_.has(Ee)}),Se=me.id();me.length!==0&&!v[Se]&&(me=me[0],d.push(me),t.bfs&&(v[Se]=!0,c.push(me)),h[Se]=de,p[Se]=p[H]+1)}};d.length!==0;){var A=M();if(A!=="continue"&&A==="break")break}for(var L=u.collection(),N=0;N<c.length;N++){var R=c[N],D=h[R.id()];D!=null&&L.push(D),L.push(R)}return{path:u.collection(L),found:u.collection(y)}}},CV={breadthFirstSearch:NUe({bfs:!0}),depthFirstSearch:NUe({dfs:!0})};CV.bfs=CV.breadthFirstSearch;CV.dfs=CV.depthFirstSearch;var mWt=Ug({root:null,weight:function(t){return 1},directed:!1}),yWt={dijkstra:function(t){if(!ws(t)){var n=arguments;t={root:n[0],weight:n[1],directed:n[2]}}var r=mWt(t),i=r.root,a=r.weight,s=r.directed,u=this,f=a,d=ji(i)?this.filter(i)[0]:i[0],c={},h={},p={},v=this.byGroup(),m=v.nodes,y=v.edges;y.unmergeBy(function(Y){return Y.isLoop()});for(var w=function(Z){return c[Z.id()]},_=function(Z,Q){c[Z.id()]=Q,S.updateItem(Z)},S=new nG.default(function(Y,Z){return w(Y)-w(Z)}),C=0;C<m.length;C++){var $=m[C];c[$.id()]=$.same(d)?0:1/0,S.push($)}for(var k=function(Z,Q){for(var ee=(s?Z.edgesTo(Q):Z.edgesWith(Q)).intersect(y),oe=1/0,ue,ve=0;ve<ee.length;ve++){var le=ee[ve],de=f(le);(de<oe||!ue)&&(oe=de,ue=le)}return{edge:ue,dist:oe}};S.size()>0;){var M=S.pop(),A=w(M),L=M.id();if(p[L]=A,A!==1/0)for(var N=M.neighborhood().intersect(m),R=0;R<N.length;R++){var D=N[R],j=D.id(),U=k(M,D),H=A+U.dist;H<w(D)&&(_(D,H),h[j]={node:M,edge:U.edge})}}return{distanceTo:function(Z){var Q=ji(Z)?m.filter(Z)[0]:Z[0];return p[Q.id()]},pathTo:function(Z){var Q=ji(Z)?m.filter(Z)[0]:Z[0],ee=[],oe=Q,ue=oe.id();if(Q.length>0)for(ee.unshift(Q);h[ue];){var ve=h[ue];ee.unshift(ve.edge),ee.unshift(ve.node),oe=ve.node,ue=oe.id()}return u.spawn(ee)}}}},bWt={kruskal:function(t){t=t||function(C){return 1};for(var n=this.byGroup(),r=n.nodes,i=n.edges,a=r.length,s=new Array(a),u=r,f=function($){for(var k=0;k<s.length;k++){var M=s[k];if(M.has($))return k}},d=0;d<a;d++)s[d]=this.spawn(r[d]);for(var c=i.sort(function(C,$){return t(C)-t($)}),h=0;h<c.length;h++){var p=c[h],v=p.source()[0],m=p.target()[0],y=f(v),w=f(m),_=s[y],S=s[w];y!==w&&(u.merge(p),_.merge(S),s.splice(w,1))}return u}},wWt=Ug({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),_Wt={aStar:function(t){var n=this.cy(),r=wWt(t),i=r.root,a=r.goal,s=r.heuristic,u=r.directed,f=r.weight;i=n.collection(i)[0],a=n.collection(a)[0];var d=i.id(),c=a.id(),h={},p={},v={},m=new nG.default(function(ue,ve){return p[ue.id()]-p[ve.id()]}),y=new I8,w={},_={},S=function(ve,le){m.push(ve),y.add(le)},C,$,k=function(){C=m.pop(),$=C.id(),y.delete($)},M=function(ve){return y.has(ve)};S(i,d),h[d]=0,p[d]=s(i);for(var A=0;m.size()>0;){if(k(),A++,$===c){for(var L=[],N=a,R=c,D=_[R];L.unshift(N),D!=null&&L.unshift(D),N=w[R],N!=null;)R=N.id(),D=_[R];return{found:!0,distance:h[$],path:this.spawn(L),steps:A}}v[$]=!0;for(var j=C._private.edges,U=0;U<j.length;U++){var H=j[U];if(this.hasElementWithId(H.id())&&!(u&&H.data("source")!==$)){var Y=H.source(),Z=H.target(),Q=Y.id()!==$?Y:Z,ee=Q.id();if(this.hasElementWithId(ee)&&!v[ee]){var oe=h[$]+f(H);if(!M(ee)){h[ee]=oe,p[ee]=oe+s(Q),S(Q,ee),w[ee]=C,_[ee]=H;continue}oe<h[ee]&&(h[ee]=oe,p[ee]=oe+s(Q),w[ee]=C,_[ee]=H)}}}}return{found:!1,distance:void 0,path:void 0,steps:A}}},xWt=Ug({weight:function(t){return 1},directed:!1}),SWt={floydWarshall:function(t){for(var n=this.cy(),r=xWt(t),i=r.weight,a=r.directed,s=i,u=this.byGroup(),f=u.nodes,d=u.edges,c=f.length,h=c*c,p=function(de){return f.indexOf(de)},v=function(de){return f[de]},m=new Array(h),y=0;y<h;y++){var w=y%c,_=(y-w)/c;_===w?m[y]=0:m[y]=1/0}for(var S=new Array(h),C=new Array(h),$=0;$<d.length;$++){var k=d[$],M=k.source()[0],A=k.target()[0];if(M!==A){var L=p(M),N=p(A),R=L*c+N,D=s(k);if(m[R]>D&&(m[R]=D,S[R]=N,C[R]=k),!a){var j=N*c+L;!a&&m[j]>D&&(m[j]=D,S[j]=L,C[j]=k)}}}for(var U=0;U<c;U++)for(var H=0;H<c;H++)for(var Y=H*c+U,Z=0;Z<c;Z++){var Q=H*c+Z,ee=U*c+Z;m[Y]+m[ee]<m[Q]&&(m[Q]=m[Y]+m[ee],S[Q]=S[Y])}var oe=function(de){return(ji(de)?n.filter(de):de)[0]},ue=function(de){return p(oe(de))},ve={distance:function(de,me){var Se=ue(de),Ee=ue(me);return m[Se*c+Ee]},path:function(de,me){var Se=ue(de),Ee=ue(me),xe=v(Se);if(Se===Ee)return xe.collection();if(S[Se*c+Ee]==null)return n.collection();var Ie=n.collection(),Ne=Se,We;for(Ie.merge(xe);Se!==Ee;)Ne=Se,Se=S[Se*c+Ee],We=C[Ne*c+Se],Ie.merge(We),Ie.merge(v(Se));return Ie}};return ve}},EWt=Ug({weight:function(t){return 1},directed:!1,root:null}),CWt={bellmanFord:function(t){var n=this,r=EWt(t),i=r.weight,a=r.directed,s=r.root,u=i,f=this,d=this.cy(),c=this.byGroup(),h=c.edges,p=c.nodes,v=p.length,m=new DS,y=!1,w=[];s=d.collection(s)[0],h.unmergeBy(function(st){return st.isLoop()});for(var _=h.length,S=function(at){var St=m.get(at.id());return St||(St={},m.set(at.id(),St)),St},C=function(at){return(ji(at)?d.$(at):at)[0]},$=function(at){return S(C(at)).dist},k=function(at){for(var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Vt=C(at),tt=[],wt=Vt;;){if(wt==null)return n.spawn();var vt=S(wt),Le=vt.edge,ft=vt.pred;if(tt.unshift(wt[0]),wt.same(St)&&tt.length>0)break;Le!=null&&tt.unshift(Le),wt=ft}return f.spawn(tt)},M=0;M<v;M++){var A=p[M],L=S(A);A.same(s)?L.dist=0:L.dist=1/0,L.pred=null,L.edge=null}for(var N=!1,R=function(at,St,Vt,tt,wt,vt){var Le=tt.dist+vt;Le<wt.dist&&!Vt.same(tt.edge)&&(wt.dist=Le,wt.pred=at,wt.edge=Vt,N=!0)},D=1;D<v;D++){N=!1;for(var j=0;j<_;j++){var U=h[j],H=U.source(),Y=U.target(),Z=u(U),Q=S(H),ee=S(Y);R(H,Y,U,Q,ee,Z),a||R(Y,H,U,ee,Q,Z)}if(!N)break}if(N)for(var oe=[],ue=0;ue<_;ue++){var ve=h[ue],le=ve.source(),de=ve.target(),me=u(ve),Se=S(le).dist,Ee=S(de).dist;if(Se+me<Ee||!a&&Ee+me<Se)if(y||(su("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),t.findNegativeWeightCycles!==!1){var xe=[];Se+me<Ee&&xe.push(le),!a&&Ee+me<Se&&xe.push(de);for(var Ie=xe.length,Ne=0;Ne<Ie;Ne++){var We=xe[Ne],Me=[We];Me.push(S(We).edge);for(var He=S(We).pred;Me.indexOf(He)===-1;)Me.push(He),Me.push(S(He).edge),He=S(He).pred;Me=Me.slice(Me.indexOf(He));for(var gt=Me[0].id(),Ye=0,ot=2;ot<Me.length;ot+=2)Me[ot].id()<gt&&(gt=Me[ot].id(),Ye=ot);Me=Me.slice(Ye).concat(Me.slice(0,Ye)),Me.push(Me[0]);var Ue=Me.map(function(st){return st.id()}).join(",");oe.indexOf(Ue)===-1&&(w.push(f.spawn(Me)),oe.push(Ue))}}else break}return{distanceTo:$,pathTo:k,hasNegativeWeightCycle:y,negativeWeightCycles:w}}},$Wt=Math.sqrt(2),kWt=function(t,n,r){r.length===0&&gf("Karger-Stein must be run on a connected (sub)graph");for(var i=r[t],a=i[1],s=i[2],u=n[a],f=n[s],d=r,c=d.length-1;c>=0;c--){var h=d[c],p=h[1],v=h[2];(n[p]===u&&n[v]===f||n[p]===f&&n[v]===u)&&d.splice(c,1)}for(var m=0;m<d.length;m++){var y=d[m];y[1]===f?(d[m]=y.slice(),d[m][1]=u):y[2]===f&&(d[m]=y.slice(),d[m][2]=u)}for(var w=0;w<n.length;w++)n[w]===f&&(n[w]=u);return d},Pme=function(t,n,r,i){for(;r>i;){var a=Math.floor(Math.random()*n.length);n=kWt(a,t,n),r--}return n},OWt={kargerStein:function(){var t=this,n=this.byGroup(),r=n.nodes,i=n.edges;i.unmergeBy(function(ee){return ee.isLoop()});var a=r.length,s=i.length,u=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),f=Math.floor(a/$Wt);if(a<2){gf("At least 2 nodes are required for Karger-Stein algorithm");return}for(var d=[],c=0;c<s;c++){var h=i[c];d.push([c,r.indexOf(h.source()),r.indexOf(h.target())])}for(var p=1/0,v=[],m=new Array(a),y=new Array(a),w=new Array(a),_=function(oe,ue){for(var ve=0;ve<a;ve++)ue[ve]=oe[ve]},S=0;S<=u;S++){for(var C=0;C<a;C++)y[C]=C;var $=Pme(y,d.slice(),a,f),k=$.slice();_(y,w);var M=Pme(y,$,f,2),A=Pme(w,k,f,2);M.length<=A.length&&M.length<p?(p=M.length,v=M,_(y,m)):A.length<=M.length&&A.length<p&&(p=A.length,v=A,_(w,m))}for(var L=this.spawn(v.map(function(ee){return i[ee[0]]})),N=this.spawn(),R=this.spawn(),D=m[0],j=0;j<m.length;j++){var U=m[j],H=r[j];U===D?N.merge(H):R.merge(H)}var Y=function(oe){var ue=t.spawn();return oe.forEach(function(ve){ue.merge(ve),ve.connectedEdges().forEach(function(le){t.contains(le)&&!L.contains(le)&&ue.merge(le)})}),ue},Z=[Y(N),Y(R)],Q={cut:L,components:Z,partition1:N,partition2:R};return Q}},AWt=function(t){return{x:t.x,y:t.y}},Toe=function(t,n,r){return{x:t.x*n+r.x,y:t.y*n+r.y}},yot=function(t,n,r){return{x:(t.x-r.x)/n,y:(t.y-r.y)/n}},eF=function(t){return{x:t[0],y:t[1]}},RWt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=1/0,a=n;a<r;a++){var s=t[a];isFinite(s)&&(i=Math.min(s,i))}return i},TWt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=-1/0,a=n;a<r;a++){var s=t[a];isFinite(s)&&(i=Math.max(s,i))}return i},MWt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=0,a=0,s=n;s<r;s++){var u=t[s];isFinite(u)&&(i+=u,a++)}return i/a},PWt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?t=t.slice(n,r):(r<t.length&&t.splice(r,t.length-r),n>0&&t.splice(0,n));for(var u=0,f=t.length-1;f>=0;f--){var d=t[f];s?isFinite(d)||(t[f]=-1/0,u++):t.splice(f,1)}a&&t.sort(function(p,v){return p-v});var c=t.length,h=Math.floor(c/2);return c%2!==0?t[h+1+u]:(t[h-1+u]+t[h+u])/2},LWt=function(t){return Math.PI*t/180},vJ=function(t,n){return Math.atan2(n,t)-Math.PI/2},ake=Math.log2||function(e){return Math.log(e)/Math.log(2)},bot=function(t){return t>0?1:t<0?-1:0},cP=function(t,n){return Math.sqrt(KM(t,n))},KM=function(t,n){var r=n.x-t.x,i=n.y-t.y;return r*r+i*i},DWt=function(t){for(var n=t.length,r=0,i=0;i<n;i++)r+=t[i];for(var a=0;a<n;a++)t[a]=t[a]/r;return t},Ah=function(t,n,r,i){return(1-i)*(1-i)*t+2*(1-i)*i*n+i*i*r},kF=function(t,n,r,i){return{x:Ah(t.x,n.x,r.x,i),y:Ah(t.y,n.y,r.y,i)}},IWt=function(t,n,r,i){var a={x:n.x-t.x,y:n.y-t.y},s=cP(t,n),u={x:a.x/s,y:a.y/s};return r=r??0,i=i??r*s,{x:t.x+u.x*i,y:t.y+u.y*i}},$V=function(t,n,r){return Math.max(t,Math.min(r,n))},Om=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},FWt=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},NWt=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},zWt=function(t,n){t.x1=Math.min(t.x1,n.x1),t.x2=Math.max(t.x2,n.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n.y1),t.y2=Math.max(t.y2,n.y2),t.h=t.y2-t.y1},jWt=function(t,n,r){t.x1=Math.min(t.x1,n),t.x2=Math.max(t.x2,n),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r),t.y2=Math.max(t.y2,r),t.h=t.y2-t.y1},mte=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=n,t.x2+=n,t.y1-=n,t.y2+=n,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Lme=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],r,i,a,s;if(n.length===1)r=i=a=s=n[0];else if(n.length===2)r=a=n[0],s=i=n[1];else if(n.length===4){var u=A$(n,4);r=u[0],i=u[1],a=u[2],s=u[3]}return t.x1-=s,t.x2+=i,t.y1-=r,t.y2+=a,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},zUe=function(t,n){t.x1=n.x1,t.y1=n.y1,t.x2=n.x2,t.y2=n.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},oke=function(t,n){return!(t.x1>n.x2||n.x1>t.x2||t.x2<n.x1||n.x2<t.x1||t.y2<n.y1||n.y2<t.y1||t.y1>n.y2||n.y1>t.y2)},hN=function(t,n,r){return t.x1<=n&&n<=t.x2&&t.y1<=r&&r<=t.y2},BWt=function(t,n){return hN(t,n.x,n.y)},wot=function(t,n){return hN(t,n.x1,n.y1)&&hN(t,n.x2,n.y2)},_ot=function(t,n,r,i,a,s,u){var f=aG(a,s),d=a/2,c=s/2,h;{var p=r-d+f-u,v=i-c-u,m=r+d-f+u,y=v;if(h=SR(t,n,r,i,p,v,m,y,!1),h.length>0)return h}{var w=r+d+u,_=i-c+f-u,S=w,C=i+c-f+u;if(h=SR(t,n,r,i,w,_,S,C,!1),h.length>0)return h}{var $=r-d+f-u,k=i+c+u,M=r+d-f+u,A=k;if(h=SR(t,n,r,i,$,k,M,A,!1),h.length>0)return h}{var L=r-d-u,N=i-c+f-u,R=L,D=i+c-f+u;if(h=SR(t,n,r,i,L,N,R,D,!1),h.length>0)return h}var j;{var U=r-d+f,H=i-c+f;if(j=oH(t,n,r,i,U,H,f+u),j.length>0&&j[0]<=U&&j[1]<=H)return[j[0],j[1]]}{var Y=r+d-f,Z=i-c+f;if(j=oH(t,n,r,i,Y,Z,f+u),j.length>0&&j[0]>=Y&&j[1]<=Z)return[j[0],j[1]]}{var Q=r+d-f,ee=i+c-f;if(j=oH(t,n,r,i,Q,ee,f+u),j.length>0&&j[0]>=Q&&j[1]>=ee)return[j[0],j[1]]}{var oe=r-d+f,ue=i+c-f;if(j=oH(t,n,r,i,oe,ue,f+u),j.length>0&&j[0]<=oe&&j[1]>=ue)return[j[0],j[1]]}return[]},HWt=function(t,n,r,i,a,s,u){var f=u,d=Math.min(r,a),c=Math.max(r,a),h=Math.min(i,s),p=Math.max(i,s);return d-f<=t&&t<=c+f&&h-f<=n&&n<=p+f},UWt=function(t,n,r,i,a,s,u,f,d){var c={x1:Math.min(r,u,a)-d,x2:Math.max(r,u,a)+d,y1:Math.min(i,f,s)-d,y2:Math.max(i,f,s)+d};return!(t<c.x1||t>c.x2||n<c.y1||n>c.y2)},VWt=function(t,n,r,i){r-=i;var a=n*n-4*t*r;if(a<0)return[];var s=Math.sqrt(a),u=2*t,f=(-n+s)/u,d=(-n-s)/u;return[f,d]},WWt=function(t,n,r,i,a){var s=1e-5;t===0&&(t=s),n/=t,r/=t,i/=t;var u,f,d,c,h,p,v,m;if(f=(3*r-n*n)/9,d=-(27*i)+n*(9*r-2*(n*n)),d/=54,u=f*f*f+d*d,a[1]=0,v=n/3,u>0){h=d+Math.sqrt(u),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),p=d-Math.sqrt(u),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),a[0]=-v+h+p,v+=(h+p)/2,a[4]=a[2]=-v,v=Math.sqrt(3)*(-p+h)/2,a[3]=v,a[5]=-v;return}if(a[5]=a[3]=0,u===0){m=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),a[0]=-v+2*m,a[4]=a[2]=-(m+v);return}f=-f,c=f*f*f,c=Math.acos(d/Math.sqrt(c)),m=2*Math.sqrt(f),a[0]=-v+m*Math.cos(c/3),a[2]=-v+m*Math.cos((c+2*Math.PI)/3),a[4]=-v+m*Math.cos((c+4*Math.PI)/3)},GWt=function(t,n,r,i,a,s,u,f){var d=1*r*r-4*r*a+2*r*u+4*a*a-4*a*u+u*u+i*i-4*i*s+2*i*f+4*s*s-4*s*f+f*f,c=1*9*r*a-3*r*r-3*r*u-6*a*a+3*a*u+9*i*s-3*i*i-3*i*f-6*s*s+3*s*f,h=1*3*r*r-6*r*a+r*u-r*t+2*a*a+2*a*t-u*t+3*i*i-6*i*s+i*f-i*n+2*s*s+2*s*n-f*n,p=1*r*a-r*r+r*t-a*t+i*s-i*i+i*n-s*n,v=[];WWt(d,c,h,p,v);for(var m=1e-7,y=[],w=0;w<6;w+=2)Math.abs(v[w+1])<m&&v[w]>=0&&v[w]<=1&&y.push(v[w]);y.push(1),y.push(0);for(var _=-1,S,C,$,k=0;k<y.length;k++)S=Math.pow(1-y[k],2)*r+2*(1-y[k])*y[k]*a+y[k]*y[k]*u,C=Math.pow(1-y[k],2)*i+2*(1-y[k])*y[k]*s+y[k]*y[k]*f,$=Math.pow(S-t,2)+Math.pow(C-n,2),_>=0?$<_&&(_=$):_=$;return _},qWt=function(t,n,r,i,a,s){var u=[t-r,n-i],f=[a-r,s-i],d=f[0]*f[0]+f[1]*f[1],c=u[0]*u[0]+u[1]*u[1],h=u[0]*f[0]+u[1]*f[1],p=h*h/d;return h<0?c:p>d?(t-a)*(t-a)+(n-s)*(n-s):c-p},cm=function(t,n,r){for(var i,a,s,u,f,d=0,c=0;c<r.length/2;c++)if(i=r[c*2],a=r[c*2+1],c+1<r.length/2?(s=r[(c+1)*2],u=r[(c+1)*2+1]):(s=r[(c+1-r.length/2)*2],u=r[(c+1-r.length/2)*2+1]),!(i==t&&s==t))if(i>=t&&t>=s||i<=t&&t<=s)f=(t-i)/(s-i)*(u-a)+a,f>n&&d++;else continue;return d%2!==0},yk=function(t,n,r,i,a,s,u,f,d){var c=new Array(r.length),h;f[0]!=null?(h=Math.atan(f[1]/f[0]),f[0]<0?h=h+Math.PI/2:h=-h-Math.PI/2):h=f;for(var p=Math.cos(-h),v=Math.sin(-h),m=0;m<c.length/2;m++)c[m*2]=s/2*(r[m*2]*p-r[m*2+1]*v),c[m*2+1]=u/2*(r[m*2+1]*p+r[m*2]*v),c[m*2]+=i,c[m*2+1]+=a;var y;if(d>0){var w=Sot(c,-d);y=xot(w)}else y=c;return cm(t,n,y)},YWt=function(t,n,r,i,a,s,u){for(var f=new Array(r.length),d=s/2,c=u/2,h=ske(s,u),p=h*h,v=0;v<r.length/4;v++){var m=void 0,y=void 0;v===0?m=r.length-2:m=v*4-2,y=v*4+2;var w=i+d*r[v*4],_=a+c*r[v*4+1],S=-r[m]*r[y]-r[m+1]*r[y+1],C=h/Math.tan(Math.acos(S)/2),$=w-C*r[m],k=_-C*r[m+1],M=w+C*r[y],A=_+C*r[y+1];f[v*4]=$,f[v*4+1]=k,f[v*4+2]=M,f[v*4+3]=A;var L=r[m+1],N=-r[m],R=L*r[y]+N*r[y+1];R<0&&(L*=-1,N*=-1);var D=$+L*h,j=k+N*h,U=Math.pow(D-t,2)+Math.pow(j-n,2);if(U<=p)return!0}return cm(t,n,f)},xot=function(t){for(var n=new Array(t.length/2),r,i,a,s,u,f,d,c,h=0;h<t.length/4;h++){r=t[h*4],i=t[h*4+1],a=t[h*4+2],s=t[h*4+3],h<t.length/4-1?(u=t[(h+1)*4],f=t[(h+1)*4+1],d=t[(h+1)*4+2],c=t[(h+1)*4+3]):(u=t[0],f=t[1],d=t[2],c=t[3]);var p=SR(r,i,a,s,u,f,d,c,!0);n[h*2]=p[0],n[h*2+1]=p[1]}return n},Sot=function(t,n){for(var r=new Array(t.length*2),i,a,s,u,f=0;f<t.length/2;f++){i=t[f*2],a=t[f*2+1],f<t.length/2-1?(s=t[(f+1)*2],u=t[(f+1)*2+1]):(s=t[0],u=t[1]);var d=u-a,c=-(s-i),h=Math.sqrt(d*d+c*c),p=d/h,v=c/h;r[f*4]=i+p*n,r[f*4+1]=a+v*n,r[f*4+2]=s+p*n,r[f*4+3]=u+v*n}return r},KWt=function(t,n,r,i,a,s){var u=r-t,f=i-n;u/=a,f/=s;var d=Math.sqrt(u*u+f*f),c=d-1;if(c<0)return[];var h=c/d;return[(r-t)*h+t,(i-n)*h+n]},S5=function(t,n,r,i,a,s,u){return t-=a,n-=s,t/=r/2+u,n/=i/2+u,t*t+n*n<=1},oH=function(t,n,r,i,a,s,u){var f=[r-t,i-n],d=[t-a,n-s],c=f[0]*f[0]+f[1]*f[1],h=2*(d[0]*f[0]+d[1]*f[1]),p=d[0]*d[0]+d[1]*d[1]-u*u,v=h*h-4*c*p;if(v<0)return[];var m=(-h+Math.sqrt(v))/(2*c),y=(-h-Math.sqrt(v))/(2*c),w=Math.min(m,y),_=Math.max(m,y),S=[];if(w>=0&&w<=1&&S.push(w),_>=0&&_<=1&&S.push(_),S.length===0)return[];var C=S[0]*f[0]+t,$=S[0]*f[1]+n;if(S.length>1){if(S[0]==S[1])return[C,$];var k=S[1]*f[0]+t,M=S[1]*f[1]+n;return[C,$,k,M]}else return[C,$]},Dme=function(t,n,r){return n<=t&&t<=r||r<=t&&t<=n?t:t<=n&&n<=r||r<=n&&n<=t?n:r},SR=function(t,n,r,i,a,s,u,f,d){var c=t-a,h=r-t,p=u-a,v=n-s,m=i-n,y=f-s,w=p*v-y*c,_=h*v-m*c,S=y*h-p*m;if(S!==0){var C=w/S,$=_/S,k=.001,M=0-k,A=1+k;return M<=C&&C<=A&&M<=$&&$<=A?[t+C*h,n+C*m]:d?[t+C*h,n+C*m]:[]}else return w===0||_===0?Dme(t,r,u)===u?[u,f]:Dme(t,r,a)===a?[a,s]:Dme(a,u,r)===r?[r,i]:[]:[]},kV=function(t,n,r,i,a,s,u,f){var d=[],c,h=new Array(r.length),p=!0;s==null&&(p=!1);var v;if(p){for(var m=0;m<h.length/2;m++)h[m*2]=r[m*2]*s+i,h[m*2+1]=r[m*2+1]*u+a;if(f>0){var y=Sot(h,-f);v=xot(y)}else v=h}else v=r;for(var w,_,S,C,$=0;$<v.length/2;$++)w=v[$*2],_=v[$*2+1],$<v.length/2-1?(S=v[($+1)*2],C=v[($+1)*2+1]):(S=v[0],C=v[1]),c=SR(t,n,i,a,w,_,S,C),c.length!==0&&d.push(c[0],c[1]);return d},XWt=function(t,n,r,i,a,s,u,f){for(var d=[],c,h=new Array(r.length),p=s/2,v=u/2,m=ske(s,u),y=0;y<r.length/4;y++){var w=void 0,_=void 0;y===0?w=r.length-2:w=y*4-2,_=y*4+2;var S=i+p*r[y*4],C=a+v*r[y*4+1],$=-r[w]*r[_]-r[w+1]*r[_+1],k=m/Math.tan(Math.acos($)/2),M=S-k*r[w],A=C-k*r[w+1],L=S+k*r[_],N=C+k*r[_+1];y===0?(h[r.length-2]=M,h[r.length-1]=A):(h[y*4-2]=M,h[y*4-1]=A),h[y*4]=L,h[y*4+1]=N;var R=r[w+1],D=-r[w],j=R*r[_]+D*r[_+1];j<0&&(R*=-1,D*=-1);var U=M+R*m,H=A+D*m;c=oH(t,n,i,a,U,H,m),c.length!==0&&d.push(c[0],c[1])}for(var Y=0;Y<h.length/4;Y++)c=SR(t,n,i,a,h[Y*4],h[Y*4+1],h[Y*4+2],h[Y*4+3],!1),c.length!==0&&d.push(c[0],c[1]);if(d.length>2){for(var Z=[d[0],d[1]],Q=Math.pow(Z[0]-t,2)+Math.pow(Z[1]-n,2),ee=1;ee<d.length/2;ee++){var oe=Math.pow(d[ee*2]-t,2)+Math.pow(d[ee*2+1]-n,2);oe<=Q&&(Z[0]=d[ee*2],Z[1]=d[ee*2+1],Q=oe)}return Z}return d},mJ=function(t,n,r){var i=[t[0]-n[0],t[1]-n[1]],a=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(a-r)/a;return s<0&&(s=1e-5),[n[0]+s*i[0],n[1]+s*i[1]]},W0=function(t,n){var r=e_e(t,n);return r=Eot(r),r},Eot=function(t){for(var n,r,i=t.length/2,a=1/0,s=1/0,u=-1/0,f=-1/0,d=0;d<i;d++)n=t[2*d],r=t[2*d+1],a=Math.min(a,n),u=Math.max(u,n),s=Math.min(s,r),f=Math.max(f,r);for(var c=2/(u-a),h=2/(f-s),p=0;p<i;p++)n=t[2*p]=t[2*p]*c,r=t[2*p+1]=t[2*p+1]*h,a=Math.min(a,n),u=Math.max(u,n),s=Math.min(s,r),f=Math.max(f,r);if(s<-1)for(var v=0;v<i;v++)r=t[2*v+1]=t[2*v+1]+(-1-s);return t},e_e=function(t,n){var r=1/t*2*Math.PI,i=t%2===0?Math.PI/2+r/2:Math.PI/2;i+=n;for(var a=new Array(t*2),s,u=0;u<t;u++)s=u*r+i,a[2*u]=Math.cos(s),a[2*u+1]=Math.sin(-s);return a},aG=function(t,n){return Math.min(t/4,n/4,8)},ske=function(t,n){return Math.min(t/10,n/10,8)},Cot=function(){return 8},ZWt=function(t,n,r){return[t-2*n+r,2*(n-t),t]},t_e=function(t,n){return{heightOffset:Math.min(15,.05*n),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},QWt=Ug({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),JWt={pageRank:function(t){for(var n=QWt(t),r=n.dampingFactor,i=n.precision,a=n.iterations,s=n.weight,u=this._private.cy,f=this.byGroup(),d=f.nodes,c=f.edges,h=d.length,p=h*h,v=c.length,m=new Array(p),y=new Array(h),w=(1-r)/h,_=0;_<h;_++){for(var S=0;S<h;S++){var C=_*h+S;m[C]=0}y[_]=0}for(var $=0;$<v;$++){var k=c[$],M=k.data("source"),A=k.data("target");if(M!==A){var L=d.indexOfId(M),N=d.indexOfId(A),R=s(k),D=N*h+L;m[D]+=R,y[L]+=R}}for(var j=1/h+w,U=0;U<h;U++)if(y[U]===0)for(var H=0;H<h;H++){var Y=H*h+U;m[Y]=j}else for(var Z=0;Z<h;Z++){var Q=Z*h+U;m[Q]=m[Q]/y[U]+w}for(var ee=new Array(h),oe=new Array(h),ue,ve=0;ve<h;ve++)ee[ve]=1;for(var le=0;le<a;le++){for(var de=0;de<h;de++)oe[de]=0;for(var me=0;me<h;me++)for(var Se=0;Se<h;Se++){var Ee=me*h+Se;oe[me]+=m[Ee]*ee[Se]}DWt(oe),ue=ee,ee=oe,oe=ue;for(var xe=0,Ie=0;Ie<h;Ie++){var Ne=ue[Ie]-ee[Ie];xe+=Ne*Ne}if(xe<i)break}var We={rank:function(He){return He=u.collection(He)[0],ee[d.indexOf(He)]}};return We}},jUe=Ug({root:null,weight:function(t){return 1},directed:!1,alpha:0}),OF={degreeCentralityNormalized:function(t){t=jUe(t);var n=this.cy(),r=this.nodes(),i=r.length;if(t.directed){for(var c={},h={},p=0,v=0,m=0;m<i;m++){var y=r[m],w=y.id();t.root=y;var _=this.degreeCentrality(t);p<_.indegree&&(p=_.indegree),v<_.outdegree&&(v=_.outdegree),c[w]=_.indegree,h[w]=_.outdegree}return{indegree:function(C){return p==0?0:(ji(C)&&(C=n.filter(C)),c[C.id()]/p)},outdegree:function(C){return v===0?0:(ji(C)&&(C=n.filter(C)),h[C.id()]/v)}}}else{for(var a={},s=0,u=0;u<i;u++){var f=r[u];t.root=f;var d=this.degreeCentrality(t);s<d.degree&&(s=d.degree),a[f.id()]=d.degree}return{degree:function(C){return s===0?0:(ji(C)&&(C=n.filter(C)),a[C.id()]/s)}}}},degreeCentrality:function(t){t=jUe(t);var n=this.cy(),r=this,i=t,a=i.root,s=i.weight,u=i.directed,f=i.alpha;if(a=n.collection(a)[0],u){for(var v=a.connectedEdges(),m=v.filter(function(M){return M.target().same(a)&&r.has(M)}),y=v.filter(function(M){return M.source().same(a)&&r.has(M)}),w=m.length,_=y.length,S=0,C=0,$=0;$<m.length;$++)S+=s(m[$]);for(var k=0;k<y.length;k++)C+=s(y[k]);return{indegree:Math.pow(w,1-f)*Math.pow(S,f),outdegree:Math.pow(_,1-f)*Math.pow(C,f)}}else{for(var d=a.connectedEdges().intersection(r),c=d.length,h=0,p=0;p<d.length;p++)h+=s(d[p]);return{degree:Math.pow(c,1-f)*Math.pow(h,f)}}}};OF.dc=OF.degreeCentrality;OF.dcn=OF.degreeCentralityNormalised=OF.degreeCentralityNormalized;var BUe=Ug({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),AF={closenessCentralityNormalized:function(t){for(var n=BUe(t),r=n.harmonic,i=n.weight,a=n.directed,s=this.cy(),u={},f=0,d=this.nodes(),c=this.floydWarshall({weight:i,directed:a}),h=0;h<d.length;h++){for(var p=0,v=d[h],m=0;m<d.length;m++)if(h!==m){var y=c.distance(v,d[m]);r?p+=1/y:p+=y}r||(p=1/p),f<p&&(f=p),u[v.id()]=p}return{closeness:function(_){return f==0?0:(ji(_)?_=s.filter(_)[0].id():_=_.id(),u[_]/f)}}},closenessCentrality:function(t){var n=BUe(t),r=n.root,i=n.weight,a=n.directed,s=n.harmonic;r=this.filter(r)[0];for(var u=this.dijkstra({root:r,weight:i,directed:a}),f=0,d=this.nodes(),c=0;c<d.length;c++){var h=d[c];if(!h.same(r)){var p=u.distanceTo(h);s?f+=1/p:f+=p}}return s?f:1/f}};AF.cc=AF.closenessCentrality;AF.ccn=AF.closenessCentralityNormalised=AF.closenessCentralityNormalized;var eGt=Ug({weight:null,directed:!1}),n_e={betweennessCentrality:function(t){for(var n=eGt(t),r=n.directed,i=n.weight,a=i!=null,s=this.cy(),u=this.nodes(),f={},d={},c=0,h={set:function(C,$){d[C]=$,$>c&&(c=$)},get:function(C){return d[C]}},p=0;p<u.length;p++){var v=u[p],m=v.id();r?f[m]=v.outgoers().nodes():f[m]=v.openNeighborhood().nodes(),h.set(m,0)}for(var y=function(C){for(var $=u[C].id(),k=[],M={},A={},L={},N=new nG.default(function(Se,Ee){return L[Se]-L[Ee]}),R=0;R<u.length;R++){var D=u[R].id();M[D]=[],A[D]=0,L[D]=1/0}for(A[$]=1,L[$]=0,N.push($);!N.empty();){var j=N.pop();if(k.push(j),a)for(var U=0;U<f[j].length;U++){var H=f[j][U],Y=s.getElementById(j),Z=void 0;Y.edgesTo(H).length>0?Z=Y.edgesTo(H)[0]:Z=H.edgesTo(Y)[0];var Q=i(Z);H=H.id(),L[H]>L[j]+Q&&(L[H]=L[j]+Q,N.nodes.indexOf(H)<0?N.push(H):N.updateItem(H),A[H]=0,M[H]=[]),L[H]==L[j]+Q&&(A[H]=A[H]+A[j],M[H].push(j))}else for(var ee=0;ee<f[j].length;ee++){var oe=f[j][ee].id();L[oe]==1/0&&(N.push(oe),L[oe]=L[j]+1),L[oe]==L[j]+1&&(A[oe]=A[oe]+A[j],M[oe].push(j))}}for(var ue={},ve=0;ve<u.length;ve++)ue[u[ve].id()]=0;for(;k.length>0;){for(var le=k.pop(),de=0;de<M[le].length;de++){var me=M[le][de];ue[me]=ue[me]+A[me]/A[le]*(1+ue[le])}le!=u[C].id()&&h.set(le,h.get(le)+ue[le])}},w=0;w<u.length;w++)y(w);var _={betweenness:function(C){var $=s.collection(C).id();return h.get($)},betweennessNormalized:function(C){if(c==0)return 0;var $=s.collection(C).id();return h.get($)/c}};return _.betweennessNormalised=_.betweennessNormalized,_}};n_e.bc=n_e.betweennessCentrality;var tGt=Ug({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),nGt=function(t){return tGt(t)},rGt=function(t,n){for(var r=0,i=0;i<n.length;i++)r+=n[i](t);return r},iGt=function(t,n,r){for(var i=0;i<n;i++)t[i*n+i]=r},$ot=function(t,n){for(var r,i=0;i<n;i++){r=0;for(var a=0;a<n;a++)r+=t[a*n+i];for(var s=0;s<n;s++)t[s*n+i]=t[s*n+i]/r}},aGt=function(t,n,r){for(var i=new Array(r*r),a=0;a<r;a++){for(var s=0;s<r;s++)i[a*r+s]=0;for(var u=0;u<r;u++)for(var f=0;f<r;f++)i[a*r+f]+=t[a*r+u]*n[u*r+f]}return i},oGt=function(t,n,r){for(var i=t.slice(0),a=1;a<r;a++)t=aGt(t,i,n);return t},sGt=function(t,n,r){for(var i=new Array(n*n),a=0;a<n*n;a++)i[a]=Math.pow(t[a],r);return $ot(i,n),i},uGt=function(t,n,r,i){for(var a=0;a<r;a++){var s=Math.round(t[a]*Math.pow(10,i))/Math.pow(10,i),u=Math.round(n[a]*Math.pow(10,i))/Math.pow(10,i);if(s!==u)return!1}return!0},lGt=function(t,n,r,i){for(var a=[],s=0;s<n;s++){for(var u=[],f=0;f<n;f++)Math.round(t[s*n+f]*1e3)/1e3>0&&u.push(r[f]);u.length!==0&&a.push(i.collection(u))}return a},cGt=function(t,n){for(var r=0;r<t.length;r++)if(!n[r]||t[r].id()!==n[r].id())return!1;return!0},fGt=function(t){for(var n=0;n<t.length;n++)for(var r=0;r<t.length;r++)n!=r&&cGt(t[n],t[r])&&t.splice(r,1);return t},HUe=function(t){for(var n=this.nodes(),r=this.edges(),i=this.cy(),a=nGt(t),s={},u=0;u<n.length;u++)s[n[u].id()]=u;for(var f=n.length,d=f*f,c=new Array(d),h,p=0;p<d;p++)c[p]=0;for(var v=0;v<r.length;v++){var m=r[v],y=s[m.source().id()],w=s[m.target().id()],_=rGt(m,a.attributes);c[y*f+w]+=_,c[w*f+y]+=_}iGt(c,f,a.multFactor),$ot(c,f);for(var S=!0,C=0;S&&C<a.maxIterations;)S=!1,h=oGt(c,f,a.expandFactor),c=sGt(h,f,a.inflateFactor),uGt(c,h,d,4)||(S=!0),C++;var $=lGt(c,f,n,i);return $=fGt($),$},dGt={markovClustering:HUe,mcl:HUe},hGt=function(t){return t},kot=function(t,n){return Math.abs(n-t)},UUe=function(t,n,r){return t+kot(n,r)},VUe=function(t,n,r){return t+Math.pow(r-n,2)},gGt=function(t){return Math.sqrt(t)},pGt=function(t,n,r){return Math.max(t,kot(n,r))},tB=function(t,n,r,i,a){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:hGt,u=i,f,d,c=0;c<t;c++)f=n(c),d=r(c),u=a(u,f,d);return s(u)},gN={euclidean:function(t,n,r){return t>=2?tB(t,n,r,0,VUe,gGt):tB(t,n,r,0,UUe)},squaredEuclidean:function(t,n,r){return tB(t,n,r,0,VUe)},manhattan:function(t,n,r){return tB(t,n,r,0,UUe)},max:function(t,n,r){return tB(t,n,r,-1/0,pGt)}};gN["squared-euclidean"]=gN.squaredEuclidean;gN.squaredeuclidean=gN.squaredEuclidean;function Moe(e,t,n,r,i,a){var s;return Dc(e)?s=e:s=gN[e]||gN.euclidean,t===0&&Dc(e)?s(i,a):s(t,n,r,i,a)}var vGt=Ug({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),uke=function(t){return vGt(t)},ore=function(t,n,r,i,a){var s=a!=="kMedoids",u=s?function(h){return r[h]}:function(h){return i[h](r)},f=function(p){return i[p](n)},d=r,c=n;return Moe(t,i.length,u,f,d,c)},Ime=function(t,n,r){for(var i=r.length,a=new Array(i),s=new Array(i),u=new Array(n),f=null,d=0;d<i;d++)a[d]=t.min(r[d]).value,s[d]=t.max(r[d]).value;for(var c=0;c<n;c++){f=[];for(var h=0;h<i;h++)f[h]=Math.random()*(s[h]-a[h])+a[h];u[c]=f}return u},Oot=function(t,n,r,i,a){for(var s=1/0,u=0,f=0;f<n.length;f++){var d=ore(r,t,n[f],i,a);d<s&&(s=d,u=f)}return u},Aot=function(t,n,r){for(var i=[],a=null,s=0;s<n.length;s++)a=n[s],r[a.id()]===t&&i.push(a);return i},mGt=function(t,n,r){return Math.abs(n-t)<=r},yGt=function(t,n,r){for(var i=0;i<t.length;i++)for(var a=0;a<t[i].length;a++){var s=Math.abs(t[i][a]-n[i][a]);if(s>r)return!1}return!0},bGt=function(t,n,r){for(var i=0;i<r;i++)if(t===n[i])return!0;return!1},WUe=function(t,n){var r=new Array(n);if(t.length<50)for(var i=0;i<n;i++){for(var a=t[Math.floor(Math.random()*t.length)];bGt(a,r,i);)a=t[Math.floor(Math.random()*t.length)];r[i]=a}else for(var s=0;s<n;s++)r[s]=t[Math.floor(Math.random()*t.length)];return r},GUe=function(t,n,r){for(var i=0,a=0;a<n.length;a++)i+=ore("manhattan",n[a],t,r,"kMedoids");return i},wGt=function(t){var n=this.cy(),r=this.nodes(),i=null,a=uke(t),s=new Array(a.k),u={},f;a.testMode?typeof a.testCentroids=="number"?(a.testCentroids,f=Ime(r,a.k,a.attributes)):Kd(a.testCentroids)==="object"?f=a.testCentroids:f=Ime(r,a.k,a.attributes):f=Ime(r,a.k,a.attributes);for(var d=!0,c=0;d&&c<a.maxIterations;){for(var h=0;h<r.length;h++)i=r[h],u[i.id()]=Oot(i,f,a.distance,a.attributes,"kMeans");d=!1;for(var p=0;p<a.k;p++){var v=Aot(p,r,u);if(v.length!==0){for(var m=a.attributes.length,y=f[p],w=new Array(m),_=new Array(m),S=0;S<m;S++){_[S]=0;for(var C=0;C<v.length;C++)i=v[C],_[S]+=a.attributes[S](i);w[S]=_[S]/v.length,mGt(w[S],y[S],a.sensitivityThreshold)||(d=!0)}f[p]=w,s[p]=n.collection(v)}}c++}return s},_Gt=function(t){var n=this.cy(),r=this.nodes(),i=null,a=uke(t),s=new Array(a.k),u,f={},d,c=new Array(a.k);a.testMode?typeof a.testCentroids=="number"||(Kd(a.testCentroids)==="object"?u=a.testCentroids:u=WUe(r,a.k)):u=WUe(r,a.k);for(var h=!0,p=0;h&&p<a.maxIterations;){for(var v=0;v<r.length;v++)i=r[v],f[i.id()]=Oot(i,u,a.distance,a.attributes,"kMedoids");h=!1;for(var m=0;m<u.length;m++){var y=Aot(m,r,f);if(y.length!==0){c[m]=GUe(u[m],y,a.attributes);for(var w=0;w<y.length;w++)d=GUe(y[w],y,a.attributes),d<c[m]&&(c[m]=d,u[m]=y[w],h=!0);s[m]=n.collection(y)}}p++}return s},xGt=function(t,n,r,i,a){for(var s,u,f=0;f<n.length;f++)for(var d=0;d<t.length;d++)i[f][d]=Math.pow(r[f][d],a.m);for(var c=0;c<t.length;c++)for(var h=0;h<a.attributes.length;h++){s=0,u=0;for(var p=0;p<n.length;p++)s+=i[p][c]*a.attributes[h](n[p]),u+=i[p][c];t[c][h]=s/u}},SGt=function(t,n,r,i,a){for(var s=0;s<t.length;s++)n[s]=t[s].slice();for(var u,f,d,c=2/(a.m-1),h=0;h<r.length;h++)for(var p=0;p<i.length;p++){u=0;for(var v=0;v<r.length;v++)f=ore(a.distance,i[p],r[h],a.attributes,"cmeans"),d=ore(a.distance,i[p],r[v],a.attributes,"cmeans"),u+=Math.pow(f/d,c);t[p][h]=1/u}},EGt=function(t,n,r,i){for(var a=new Array(r.k),s=0;s<a.length;s++)a[s]=[];for(var u,f,d=0;d<n.length;d++){u=-1/0,f=-1;for(var c=0;c<n[0].length;c++)n[d][c]>u&&(u=n[d][c],f=c);a[f].push(t[d])}for(var h=0;h<a.length;h++)a[h]=i.collection(a[h]);return a},qUe=function(t){var n=this.cy(),r=this.nodes(),i=uke(t),a,s,u,f,d;f=new Array(r.length);for(var c=0;c<r.length;c++)f[c]=new Array(i.k);u=new Array(r.length);for(var h=0;h<r.length;h++)u[h]=new Array(i.k);for(var p=0;p<r.length;p++){for(var v=0,m=0;m<i.k;m++)u[p][m]=Math.random(),v+=u[p][m];for(var y=0;y<i.k;y++)u[p][y]=u[p][y]/v}s=new Array(i.k);for(var w=0;w<i.k;w++)s[w]=new Array(i.attributes.length);d=new Array(r.length);for(var _=0;_<r.length;_++)d[_]=new Array(i.k);for(var S=!0,C=0;S&&C<i.maxIterations;)S=!1,xGt(s,r,u,d,i),SGt(u,f,s,r,i),yGt(u,f,i.sensitivityThreshold)||(S=!0),C++;return a=EGt(r,u,i,n),{clusters:a,degreeOfMembership:u}},CGt={kMeans:wGt,kMedoids:_Gt,fuzzyCMeans:qUe,fcm:qUe},$Gt=Ug({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),kGt={single:"min",complete:"max"},OGt=function(t){var n=$Gt(t),r=kGt[n.linkage];return r!=null&&(n.linkage=r),n},YUe=function(t,n,r,i,a){for(var s=0,u=1/0,f,d=a.attributes,c=function(N,R){return Moe(a.distance,d.length,function(D){return d[D](N)},function(D){return d[D](R)},N,R)},h=0;h<t.length;h++){var p=t[h].key,v=r[p][i[p]];v<u&&(s=p,u=v)}if(a.mode==="threshold"&&u>=a.threshold||a.mode==="dendrogram"&&t.length===1)return!1;var m=n[s],y=n[i[s]],w;a.mode==="dendrogram"?w={left:m,right:y,key:m.key}:w={value:m.value.concat(y.value),key:m.key},t[m.index]=w,t.splice(y.index,1),n[m.key]=w;for(var _=0;_<t.length;_++){var S=t[_];m.key===S.key?f=1/0:a.linkage==="min"?(f=r[m.key][S.key],r[m.key][S.key]>r[y.key][S.key]&&(f=r[y.key][S.key])):a.linkage==="max"?(f=r[m.key][S.key],r[m.key][S.key]<r[y.key][S.key]&&(f=r[y.key][S.key])):a.linkage==="mean"?f=(r[m.key][S.key]*m.size+r[y.key][S.key]*y.size)/(m.size+y.size):a.mode==="dendrogram"?f=c(S.value,m.value):f=c(S.value[0],m.value[0]),r[m.key][S.key]=r[S.key][m.key]=f}for(var C=0;C<t.length;C++){var $=t[C].key;if(i[$]===m.key||i[$]===y.key){for(var k=$,M=0;M<t.length;M++){var A=t[M].key;r[$][A]<r[$][k]&&(k=A)}i[$]=k}t[C].index=C}return m.key=y.key=m.index=y.index=null,!0},yJ=function e(t,n,r){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n),t.right&&e(t.right,n)))},AGt=function e(t,n){if(!t)return"";if(t.left&&t.right){var r=e(t.left,n),i=e(t.right,n),a=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:a.id()}}),n.add({group:"edges",data:{source:i,target:a.id()}}),a.id()}else if(t.value)return t.value.id()},RGt=function e(t,n,r){if(!t)return[];var i=[],a=[],s=[];return n===0?(t.left&&yJ(t.left,i),t.right&&yJ(t.right,a),s=i.concat(a),[r.collection(s)]):n===1?t.value?[r.collection(t.value)]:(t.left&&yJ(t.left,i),t.right&&yJ(t.right,a),[r.collection(i),r.collection(a)]):t.value?[r.collection(t.value)]:(t.left&&(i=e(t.left,n-1,r)),t.right&&(a=e(t.right,n-1,r)),i.concat(a))},KUe=function(t){for(var n=this.cy(),r=this.nodes(),i=OGt(t),a=i.attributes,s=function(C,$){return Moe(i.distance,a.length,function(k){return a[k](C)},function(k){return a[k]($)},C,$)},u=[],f=[],d=[],c=[],h=0;h<r.length;h++){var p={value:i.mode==="dendrogram"?r[h]:[r[h]],key:h,index:h};u[h]=p,c[h]=p,f[h]=[],d[h]=0}for(var v=0;v<u.length;v++)for(var m=0;m<=v;m++){var y=void 0;i.mode==="dendrogram"?y=v===m?1/0:s(u[v].value,u[m].value):y=v===m?1/0:s(u[v].value[0],u[m].value[0]),f[v][m]=y,f[m][v]=y,y<f[v][d[v]]&&(d[v]=m)}for(var w=YUe(u,c,f,d,i);w;)w=YUe(u,c,f,d,i);var _;return i.mode==="dendrogram"?(_=RGt(u[0],i.dendrogramDepth,n),i.addDendrogram&&AGt(u[0],n)):(_=new Array(u.length),u.forEach(function(S,C){S.key=S.index=null,_[C]=n.collection(S.value)})),_},TGt={hierarchicalClustering:KUe,hca:KUe},MGt=Ug({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),PGt=function(t){var n=t.damping,r=t.preference;.5<=n&&n<1||gf("Damping must range on [0.5, 1).  Got: ".concat(n));var i=["median","mean","min","max"];return i.some(function(a){return a===r})||$r(r)||gf("Preference must be one of [".concat(i.map(function(a){return"'".concat(a,"'")}).join(", "),"] or a number.  Got: ").concat(r)),MGt(t)},LGt=function(t,n,r,i){var a=function(u,f){return i[f](u)};return-Moe(t,i.length,function(s){return a(n,s)},function(s){return a(r,s)},n,r)},DGt=function(t,n){var r=null;return n==="median"?r=PWt(t):n==="mean"?r=MWt(t):n==="min"?r=RWt(t):n==="max"?r=TWt(t):r=n,r},IGt=function(t,n,r){for(var i=[],a=0;a<t;a++)n[a*t+a]+r[a*t+a]>0&&i.push(a);return i},XUe=function(t,n,r){for(var i=[],a=0;a<t;a++){for(var s=-1,u=-1/0,f=0;f<r.length;f++){var d=r[f];n[a*t+d]>u&&(s=d,u=n[a*t+d])}s>0&&i.push(s)}for(var c=0;c<r.length;c++)i[r[c]]=r[c];return i},FGt=function(t,n,r){for(var i=XUe(t,n,r),a=0;a<r.length;a++){for(var s=[],u=0;u<i.length;u++)i[u]===r[a]&&s.push(u);for(var f=-1,d=-1/0,c=0;c<s.length;c++){for(var h=0,p=0;p<s.length;p++)h+=n[s[p]*t+s[c]];h>d&&(f=c,d=h)}r[a]=s[f]}return i=XUe(t,n,r),i},ZUe=function(t){for(var n=this.cy(),r=this.nodes(),i=PGt(t),a={},s=0;s<r.length;s++)a[r[s].id()]=s;var u,f,d,c,h,p;u=r.length,f=u*u,d=new Array(f);for(var v=0;v<f;v++)d[v]=-1/0;for(var m=0;m<u;m++)for(var y=0;y<u;y++)m!==y&&(d[m*u+y]=LGt(i.distance,r[m],r[y],i.attributes));c=DGt(d,i.preference);for(var w=0;w<u;w++)d[w*u+w]=c;h=new Array(f);for(var _=0;_<f;_++)h[_]=0;p=new Array(f);for(var S=0;S<f;S++)p[S]=0;for(var C=new Array(u),$=new Array(u),k=new Array(u),M=0;M<u;M++)C[M]=0,$[M]=0,k[M]=0;for(var A=new Array(u*i.minIterations),L=0;L<A.length;L++)A[L]=0;var N;for(N=0;N<i.maxIterations;N++){for(var R=0;R<u;R++){for(var D=-1/0,j=-1/0,U=-1,H=0,Y=0;Y<u;Y++)C[Y]=h[R*u+Y],H=p[R*u+Y]+d[R*u+Y],H>=D?(j=D,D=H,U=Y):H>j&&(j=H);for(var Z=0;Z<u;Z++)h[R*u+Z]=(1-i.damping)*(d[R*u+Z]-D)+i.damping*C[Z];h[R*u+U]=(1-i.damping)*(d[R*u+U]-j)+i.damping*C[U]}for(var Q=0;Q<u;Q++){for(var ee=0,oe=0;oe<u;oe++)C[oe]=p[oe*u+Q],$[oe]=Math.max(0,h[oe*u+Q]),ee+=$[oe];ee-=$[Q],$[Q]=h[Q*u+Q],ee+=$[Q];for(var ue=0;ue<u;ue++)p[ue*u+Q]=(1-i.damping)*Math.min(0,ee-$[ue])+i.damping*C[ue];p[Q*u+Q]=(1-i.damping)*(ee-$[Q])+i.damping*C[Q]}for(var ve=0,le=0;le<u;le++){var de=p[le*u+le]+h[le*u+le]>0?1:0;A[N%i.minIterations*u+le]=de,ve+=de}if(ve>0&&(N>=i.minIterations-1||N==i.maxIterations-1)){for(var me=0,Se=0;Se<u;Se++){k[Se]=0;for(var Ee=0;Ee<i.minIterations;Ee++)k[Se]+=A[Ee*u+Se];(k[Se]===0||k[Se]===i.minIterations)&&me++}if(me===u)break}}for(var xe=IGt(u,h,p),Ie=FGt(u,d,xe),Ne={},We=0;We<xe.length;We++)Ne[xe[We]]=[];for(var Me=0;Me<r.length;Me++){var He=a[r[Me].id()],gt=Ie[He];gt!=null&&Ne[gt].push(r[Me])}for(var Ye=new Array(xe.length),ot=0;ot<xe.length;ot++)Ye[ot]=n.collection(Ne[xe[ot]]);return Ye},NGt={affinityPropagation:ZUe,ap:ZUe},zGt=Ug({root:void 0,directed:!1}),jGt={hierholzer:function(t){if(!ws(t)){var n=arguments;t={root:n[0],directed:n[1]}}var r=zGt(t),i=r.root,a=r.directed,s=this,u=!1,f,d,c;i&&(c=ji(i)?this.filter(i)[0].id():i[0].id());var h={},p={};a?s.forEach(function(S){var C=S.id();if(S.isNode()){var $=S.indegree(!0),k=S.outdegree(!0),M=$-k,A=k-$;M==1?f?u=!0:f=C:A==1?d?u=!0:d=C:(A>1||M>1)&&(u=!0),h[C]=[],S.outgoers().forEach(function(L){L.isEdge()&&h[C].push(L.id())})}else p[C]=[void 0,S.target().id()]}):s.forEach(function(S){var C=S.id();if(S.isNode()){var $=S.degree(!0);$%2&&(f?d?u=!0:d=C:f=C),h[C]=[],S.connectedEdges().forEach(function(k){return h[C].push(k.id())})}else p[C]=[S.source().id(),S.target().id()]});var v={found:!1,trail:void 0};if(u)return v;if(d&&f)if(a){if(c&&d!=c)return v;c=d}else{if(c&&d!=c&&f!=c)return v;c||(c=d)}else c||(c=s[0].id());var m=function(C){for(var $=C,k=[C],M,A,L;h[$].length;)M=h[$].shift(),A=p[M][0],L=p[M][1],$!=L?(h[L]=h[L].filter(function(N){return N!=M}),$=L):!a&&$!=A&&(h[A]=h[A].filter(function(N){return N!=M}),$=A),k.unshift(M),k.unshift($);return k},y=[],w=[];for(w=m(c);w.length!=1;)h[w[0]].length==0?(y.unshift(s.getElementById(w.shift())),y.unshift(s.getElementById(w.shift()))):w=m(w.shift()).concat(w);y.unshift(s.getElementById(w.shift()));for(var _ in h)if(h[_].length)return v;return v.found=!0,v.trail=this.spawn(y,!0),v}},bJ=function(){var t=this,n={},r=0,i=0,a=[],s=[],u={},f=function(p,v){for(var m=s.length-1,y=[],w=t.spawn();s[m].x!=p||s[m].y!=v;)y.push(s.pop().edge),m--;y.push(s.pop().edge),y.forEach(function(_){var S=_.connectedNodes().intersection(t);w.merge(_),S.forEach(function(C){var $=C.id(),k=C.connectedEdges().intersection(t);w.merge(C),n[$].cutVertex?w.merge(k.filter(function(M){return M.isLoop()})):w.merge(k)})}),a.push(w)},d=function h(p,v,m){p===m&&(i+=1),n[v]={id:r,low:r++,cutVertex:!1};var y=t.getElementById(v).connectedEdges().intersection(t);if(y.size()===0)a.push(t.spawn(t.getElementById(v)));else{var w,_,S,C;y.forEach(function($){w=$.source().id(),_=$.target().id(),S=w===v?_:w,S!==m&&(C=$.id(),u[C]||(u[C]=!0,s.push({x:v,y:S,edge:$})),S in n?n[v].low=Math.min(n[v].low,n[S].id):(h(p,S,v),n[v].low=Math.min(n[v].low,n[S].low),n[v].id<=n[S].low&&(n[v].cutVertex=!0,f(v,S))))})}};t.forEach(function(h){if(h.isNode()){var p=h.id();p in n||(i=0,d(p,p),n[p].cutVertex=i>1)}});var c=Object.keys(n).filter(function(h){return n[h].cutVertex}).map(function(h){return t.getElementById(h)});return{cut:t.spawn(c),components:a}},BGt={hopcroftTarjanBiconnected:bJ,htbc:bJ,htb:bJ,hopcroftTarjanBiconnectedComponents:bJ},wJ=function(){var t=this,n={},r=0,i=[],a=[],s=t.spawn(t),u=function f(d){a.push(d),n[d]={index:r,low:r++,explored:!1};var c=t.getElementById(d).connectedEdges().intersection(t);if(c.forEach(function(y){var w=y.target().id();w!==d&&(w in n||f(w),n[w].explored||(n[d].low=Math.min(n[d].low,n[w].low)))}),n[d].index===n[d].low){for(var h=t.spawn();;){var p=a.pop();if(h.merge(t.getElementById(p)),n[p].low=n[d].index,n[p].explored=!0,p===d)break}var v=h.edgesWith(h),m=h.merge(v);i.push(m),s=s.difference(m)}};return t.forEach(function(f){if(f.isNode()){var d=f.id();d in n||u(d)}}),{cut:s,components:i}},HGt={tarjanStronglyConnected:wJ,tsc:wJ,tscc:wJ,tarjanStronglyConnectedComponents:wJ},Rot={};[CV,yWt,bWt,_Wt,SWt,CWt,OWt,JWt,OF,AF,n_e,dGt,CGt,TGt,NGt,jGt,BGt,HGt].forEach(function(e){oa(Rot,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var Tot=0,Mot=1,Pot=2,bk=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=Tot,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};bk.prototype={fulfill:function(t){return QUe(this,Mot,"fulfillValue",t)},reject:function(t){return QUe(this,Pot,"rejectReason",t)},then:function(t,n){var r=this,i=new bk;return r.onFulfilled.push(eVe(t,i,"fulfill")),r.onRejected.push(eVe(n,i,"reject")),Lot(r),i.proxy}};var QUe=function(t,n,r,i){return t.state===Tot&&(t.state=n,t[r]=i,Lot(t)),t},Lot=function(t){t.state===Mot?JUe(t,"onFulfilled",t.fulfillValue):t.state===Pot&&JUe(t,"onRejected",t.rejectReason)},JUe=function(t,n,r){if(t[n].length!==0){var i=t[n];t[n]=[];var a=function(){for(var u=0;u<i.length;u++)i[u](r)};typeof setImmediate=="function"?setImmediate(a):setTimeout(a,0)}},eVe=function(t,n,r){return function(i){if(typeof t!="function")n[r].call(n,i);else{var a;try{a=t(i)}catch(s){n.reject(s);return}UGt(n,a)}}},UGt=function e(t,n){if(t===n||t.proxy===n){t.reject(new TypeError("cannot resolve promise with itself"));return}var r;if(Kd(n)==="object"&&n!==null||typeof n=="function")try{r=n.then}catch(a){t.reject(a);return}if(typeof r=="function"){var i=!1;try{r.call(n,function(a){i||(i=!0,a===n?t.reject(new TypeError("circular thenable chain")):e(t,a))},function(a){i||(i=!0,t.reject(a))})}catch(a){i||t.reject(a)}return}t.fulfill(n)};bk.all=function(e){return new bk(function(t,n){for(var r=new Array(e.length),i=0,a=function(f,d){r[f]=d,i++,i===e.length&&t(r)},s=0;s<e.length;s++)(function(u){var f=e[u],d=f!=null&&f.then!=null;if(d)f.then(function(h){a(u,h)},function(h){n(h)});else{var c=f;a(u,c)}})(s)})};bk.resolve=function(e){return new bk(function(t,n){t(e)})};bk.reject=function(e){return new bk(function(t,n){n(e)})};var F8=typeof Promise<"u"?Promise:bk,r_e=function(t,n,r){var i=eke(t),a=!i,s=this._private=oa({duration:1e3},n,r);if(s.target=t,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&Dc(s.complete)&&s.completes.push(s.complete),a){var u=t.position();s.startPosition=s.startPosition||{x:u.x,y:u.y},s.startStyle=s.startStyle||t.cy().style().getAnimationStartStyle(t,s.style)}if(i){var f=t.pan();s.startPan={x:f.x,y:f.y},s.startZoom=t.zoom()}this.length=1,this[0]=this},fP=r_e.prototype;oa(fP,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var n,r=t.target._private.animation;t.queue?n=r.queue:n=r.current,n.push(this),ay(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var n=this._private;return t===void 0?n.progress*n.duration:this.progress(t/n.duration)},progress:function(t){var n=this._private,r=n.playing;return t===void 0?n.progress:(r&&this.pause(),n.progress=t,n.started=!1,r&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,n=t.playing;n&&this.pause(),t.progress=1-t.progress,t.started=!1;var r=function(d,c){var h=t[d];h!=null&&(t[d]=t[c],t[c]=h)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),t.style)for(var i=0;i<t.style.length;i++){var a=t.style[i],s=a.name,u=t.startStyle[s];t.startStyle[s]=a,t.style[i]=u}return n&&this.play(),this},promise:function(t){var n=this._private,r;switch(t){case"frame":r=n.frames;break;default:case"complete":case"completed":r=n.completes}return new F8(function(i,a){r.push(function(){i()})})}});fP.complete=fP.completed;fP.run=fP.play;fP.running=fP.playing;var VGt={animated:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return!1;var s=i[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var n=this,r=n.length!==void 0,i=r?n:[n],a=this._private.cy||this;if(!a.styleEnabled())return this;for(var s=0;s<i.length;s++){var u=i[s];u._private.animation.queue=[]}return this}},delay:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:n,duration:n,complete:r}):this}},delayAnimation:function(){return function(n,r){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:n,duration:n,complete:r}):this}},animation:function(){return function(n,r){var i=this,a=i.length!==void 0,s=a?i:[i],u=this._private.cy||this,f=!a,d=!f;if(!u.styleEnabled())return this;var c=u.style();n=oa({},n,r);var h=Object.keys(n).length===0;if(h)return new r_e(s[0],n);switch(n.duration===void 0&&(n.duration=400),n.duration){case"slow":n.duration=600;break;case"fast":n.duration=200;break}if(d&&(n.style=c.getPropsList(n.style||n.css),n.css=void 0),d&&n.renderedPosition!=null){var p=n.renderedPosition,v=u.pan(),m=u.zoom();n.position=yot(p,m,v)}if(f&&n.panBy!=null){var y=n.panBy,w=u.pan();n.pan={x:w.x+y.x,y:w.y+y.y}}var _=n.center||n.centre;if(f&&_!=null){var S=u.getCenterPan(_.eles,n.zoom);S!=null&&(n.pan=S)}if(f&&n.fit!=null){var C=n.fit,$=u.getFitViewport(C.eles||C.boundingBox,C.padding);$!=null&&(n.pan=$.pan,n.zoom=$.zoom)}if(f&&ws(n.zoom)){var k=u.getZoomedViewport(n.zoom);k!=null?(k.zoomed&&(n.zoom=k.zoom),k.panned&&(n.pan=k.pan)):n.zoom=null}return new r_e(s[0],n)}},animate:function(){return function(n,r){var i=this,a=i.length!==void 0,s=a?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;r&&(n=oa({},n,r));for(var f=0;f<s.length;f++){var d=s[f],c=d.animated()&&(n.queue===void 0||n.queue),h=d.animation(n,c?{queue:!0}:void 0);h.play()}return this}},stop:function(){return function(n,r){var i=this,a=i.length!==void 0,s=a?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var f=0;f<s.length;f++){for(var d=s[f],c=d._private,h=c.animation.current,p=0;p<h.length;p++){var v=h[p],m=v._private;r&&(m.duration=0)}n&&(c.animation.queue=[]),r||(c.animation.current=[])}return u.notify("draw"),this}}},WGt={data:function(t){var n={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,a){},onSet:function(i){},canSet:function(i){return!0}};return t=oa({},n,t),function(i,a){var s=t,u=this,f=u.length!==void 0,d=f?u:[u],c=f?u[0]:u;if(ji(i)){var h=i.indexOf(".")!==-1,p=h&&RVt.default(i);if(s.allowGetting&&a===void 0){var v;return c&&(s.beforeGet(c),p&&c._private[s.field][i]===void 0?v=OVt.default(c._private[s.field],p):v=c._private[s.field][i]),v}else if(s.allowSetting&&a!==void 0){var m=!s.immutableKeys[i];if(m){var y=not({},i,a);s.beforeSet(u,y);for(var w=0,_=d.length;w<_;w++){var S=d[w];s.canSet(S)&&(p&&c._private[s.field][i]===void 0?AVt.default(S._private[s.field],p,a):S._private[s.field][i]=a)}s.updateStyle&&u.updateStyle(),s.onSet(u),s.settingTriggersEvent&&u[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&ws(i)){var C=i,$,k,M=Object.keys(C);s.beforeSet(u,C);for(var A=0;A<M.length;A++){$=M[A],k=C[$];var L=!s.immutableKeys[$];if(L)for(var N=0;N<d.length;N++){var R=d[N];s.canSet(R)&&(R._private[s.field][$]=k)}}s.updateStyle&&u.updateStyle(),s.onSet(u),s.settingTriggersEvent&&u[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&Dc(i)){var D=i;u.on(s.bindingEvent,D)}else if(s.allowGetting&&i===void 0){var j;return c&&(s.beforeGet(c),j=c._private[s.field]),j}return u}},removeData:function(t){var n={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=oa({},n,t),function(i){var a=t,s=this,u=s.length!==void 0,f=u?s:[s];if(ji(i)){for(var d=i.split(/\s+/),c=d.length,h=0;h<c;h++){var p=d[h];if(!m3(p)){var v=!a.immutableKeys[p];if(v)for(var m=0,y=f.length;m<y;m++)f[m]._private[a.field][p]=void 0}}a.triggerEvent&&s[a.triggerFnName](a.event)}else if(i===void 0){for(var w=0,_=f.length;w<_;w++)for(var S=f[w]._private[a.field],C=Object.keys(S),$=0;$<C.length;$++){var k=C[$],M=!a.immutableKeys[k];M&&(S[k]=void 0)}a.triggerEvent&&s[a.triggerFnName](a.event)}return s}}},GGt={eventAliasesOn:function(t){var n=t;n.addListener=n.listen=n.bind=n.on,n.unlisten=n.unbind=n.off=n.removeListener,n.trigger=n.emit,n.pon=n.promiseOn=function(r,i){var a=this,s=Array.prototype.slice.call(arguments,0);return new F8(function(u,f){var d=function(v){a.off.apply(a,h),u(v)},c=s.concat([d]),h=c.concat([]);a.on.apply(a,c)})}}},ou={};[VGt,WGt,GGt].forEach(function(e){oa(ou,e)});var qGt={animate:ou.animate(),animation:ou.animation(),animated:ou.animated(),clearQueue:ou.clearQueue(),delay:ou.delay(),delayAnimation:ou.delayAnimation(),stop:ou.stop()},yte={classes:function(t){var n=this;if(t===void 0){var r=[];return n[0]._private.classes.forEach(function(m){return r.push(m)}),r}else Vu(t)||(t=(t||"").match(/\S+/g)||[]);for(var i=[],a=new I8(t),s=0;s<n.length;s++){for(var u=n[s],f=u._private,d=f.classes,c=!1,h=0;h<t.length;h++){var p=t[h],v=d.has(p);if(!v){c=!0;break}}c||(c=d.size!==t.length),c&&(f.classes=a,i.push(u))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var n=this[0];return n!=null&&n._private.classes.has(t)},toggleClass:function(t,n){Vu(t)||(t=t.match(/\S+/g)||[]);for(var r=this,i=n===void 0,a=[],s=0,u=r.length;s<u;s++)for(var f=r[s],d=f._private.classes,c=!1,h=0;h<t.length;h++){var p=t[h],v=d.has(p),m=!1;n||i&&!v?(d.add(p),m=!0):(!n||i&&v)&&(d.delete(p),m=!0),!c&&m&&(a.push(f),c=!0)}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,n){var r=this;if(n==null)n=250;else if(n===0)return r;return r.addClass(t),setTimeout(function(){r.removeClass(t)},n),r}};yte.className=yte.classNames=yte.classes;var ys={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Ud,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};ys.variable="(?:[\\w-.]|(?:\\\\"+ys.metaChar+"))+";ys.className="(?:[\\w-]|(?:\\\\"+ys.metaChar+"))+";ys.value=ys.string+"|"+ys.number;ys.id=ys.variable;(function(){var e,t,n;for(e=ys.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],ys.comparatorOp+="|@"+t;for(e=ys.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],!(t.indexOf("!")>=0)&&t!=="="&&(ys.comparatorOp+="|\\!"+t)})();var Au=function(){return{checks:[]}},si={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},i_e=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return ZVt(e.selector,t.selector)}),YGt=function(){for(var e={},t,n=0;n<i_e.length;n++)t=i_e[n],e[t.selector]=t.matches;return e}(),KGt=function(t,n){return YGt[t](n)},XGt="("+i_e.map(function(e){return e.selector}).join("|")+")",i6=function(t){return t.replace(new RegExp("\\\\("+ys.metaChar+")","g"),function(n,r){return r})},PA=function(t,n,r){t[t.length-1]=r},a_e=[{name:"group",query:!0,regex:"("+ys.group+")",populate:function(t,n,r){var i=A$(r,1),a=i[0];n.checks.push({type:si.GROUP,value:a==="*"?a:a+"s"})}},{name:"state",query:!0,regex:XGt,populate:function(t,n,r){var i=A$(r,1),a=i[0];n.checks.push({type:si.STATE,value:a})}},{name:"id",query:!0,regex:"\\#("+ys.id+")",populate:function(t,n,r){var i=A$(r,1),a=i[0];n.checks.push({type:si.ID,value:i6(a)})}},{name:"className",query:!0,regex:"\\.("+ys.className+")",populate:function(t,n,r){var i=A$(r,1),a=i[0];n.checks.push({type:si.CLASS,value:i6(a)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+ys.variable+")\\s*\\]",populate:function(t,n,r){var i=A$(r,1),a=i[0];n.checks.push({type:si.DATA_EXIST,field:i6(a)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+ys.variable+")\\s*("+ys.comparatorOp+")\\s*("+ys.value+")\\s*\\]",populate:function(t,n,r){var i=A$(r,3),a=i[0],s=i[1],u=i[2],f=new RegExp("^"+ys.string+"$").exec(u)!=null;f?u=u.substring(1,u.length-1):u=parseFloat(u),n.checks.push({type:si.DATA_COMPARE,field:i6(a),operator:s,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+ys.boolOp+")\\s*("+ys.variable+")\\s*\\]",populate:function(t,n,r){var i=A$(r,2),a=i[0],s=i[1];n.checks.push({type:si.DATA_BOOL,field:i6(s),operator:a})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+ys.meta+")\\s*("+ys.comparatorOp+")\\s*("+ys.number+")\\s*\\]\\]",populate:function(t,n,r){var i=A$(r,3),a=i[0],s=i[1],u=i[2];n.checks.push({type:si.META_COMPARE,field:i6(a),operator:s,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:ys.separator,populate:function(t,n){var r=t.currentSubject,i=t.edgeCount,a=t.compoundCount,s=t[t.length-1];r!=null&&(s.subject=r,t.currentSubject=null),s.edgeCount=i,s.compoundCount=a,t.edgeCount=0,t.compoundCount=0;var u=t[t.length++]=Au();return u}},{name:"directedEdge",separator:!0,regex:ys.directedEdge,populate:function(t,n){if(t.currentSubject==null){var r=Au(),i=n,a=Au();return r.checks.push({type:si.DIRECTED_EDGE,source:i,target:a}),PA(t,n,r),t.edgeCount++,a}else{var s=Au(),u=n,f=Au();return s.checks.push({type:si.NODE_SOURCE,source:u,target:f}),PA(t,n,s),t.edgeCount++,f}}},{name:"undirectedEdge",separator:!0,regex:ys.undirectedEdge,populate:function(t,n){if(t.currentSubject==null){var r=Au(),i=n,a=Au();return r.checks.push({type:si.UNDIRECTED_EDGE,nodes:[i,a]}),PA(t,n,r),t.edgeCount++,a}else{var s=Au(),u=n,f=Au();return s.checks.push({type:si.NODE_NEIGHBOR,node:u,neighbor:f}),PA(t,n,s),f}}},{name:"child",separator:!0,regex:ys.child,populate:function(t,n){if(t.currentSubject==null){var r=Au(),i=Au(),a=t[t.length-1];return r.checks.push({type:si.CHILD,parent:a,child:i}),PA(t,n,r),t.compoundCount++,i}else if(t.currentSubject===n){var s=Au(),u=t[t.length-1],f=Au(),d=Au(),c=Au(),h=Au();return s.checks.push({type:si.COMPOUND_SPLIT,left:u,right:f,subject:d}),d.checks=n.checks,n.checks=[{type:si.TRUE}],h.checks.push({type:si.TRUE}),f.checks.push({type:si.PARENT,parent:h,child:c}),PA(t,u,s),t.currentSubject=d,t.compoundCount++,c}else{var p=Au(),v=Au(),m=[{type:si.PARENT,parent:p,child:v}];return p.checks=n.checks,n.checks=m,t.compoundCount++,v}}},{name:"descendant",separator:!0,regex:ys.descendant,populate:function(t,n){if(t.currentSubject==null){var r=Au(),i=Au(),a=t[t.length-1];return r.checks.push({type:si.DESCENDANT,ancestor:a,descendant:i}),PA(t,n,r),t.compoundCount++,i}else if(t.currentSubject===n){var s=Au(),u=t[t.length-1],f=Au(),d=Au(),c=Au(),h=Au();return s.checks.push({type:si.COMPOUND_SPLIT,left:u,right:f,subject:d}),d.checks=n.checks,n.checks=[{type:si.TRUE}],h.checks.push({type:si.TRUE}),f.checks.push({type:si.ANCESTOR,ancestor:h,descendant:c}),PA(t,u,s),t.currentSubject=d,t.compoundCount++,c}else{var p=Au(),v=Au(),m=[{type:si.ANCESTOR,ancestor:p,descendant:v}];return p.checks=n.checks,n.checks=m,t.compoundCount++,v}}},{name:"subject",modifier:!0,regex:ys.subject,populate:function(t,n){if(t.currentSubject!=null&&t.currentSubject!==n)return su("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=n;var r=t[t.length-1],i=r.checks[0],a=i==null?null:i.type;a===si.DIRECTED_EDGE?i.type=si.NODE_TARGET:a===si.UNDIRECTED_EDGE&&(i.type=si.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];a_e.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var ZGt=function(t){for(var n,r,i,a=0;a<a_e.length;a++){var s=a_e[a],u=s.name,f=t.match(s.regexObj);if(f!=null){r=f,n=s,i=u;var d=f[0];t=t.substring(d.length);break}}return{expr:n,match:r,name:i,remaining:t}},QGt=function(t){var n=t.match(/^\s+/);if(n){var r=n[0];t=t.substring(r.length)}return t},JGt=function(t){var n=this,r=n.inputText=t,i=n[0]=Au();for(n.length=1,r=QGt(r);;){var a=ZGt(r);if(a.expr==null)return su("The selector `"+t+"`is invalid"),!1;var s=a.match.slice(1),u=a.expr.populate(n,i,s);if(u===!1)return!1;if(u!=null&&(i=u),r=a.remaining,r.match(/^\s*$/))break}var f=n[n.length-1];n.currentSubject!=null&&(f.subject=n.currentSubject),f.edgeCount=n.edgeCount,f.compoundCount=n.compoundCount;for(var d=0;d<n.length;d++){var c=n[d];if(c.compoundCount>0&&c.edgeCount>0)return su("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return su("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&su("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},eqt=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(c){return c??""},n=function(c){return ji(c)?'"'+c+'"':t(c)},r=function(c){return" "+c+" "},i=function(c,h){var p=c.type,v=c.value;switch(p){case si.GROUP:{var m=t(v);return m.substring(0,m.length-1)}case si.DATA_COMPARE:{var y=c.field,w=c.operator;return"["+y+r(t(w))+n(v)+"]"}case si.DATA_BOOL:{var _=c.operator,S=c.field;return"["+t(_)+S+"]"}case si.DATA_EXIST:{var C=c.field;return"["+C+"]"}case si.META_COMPARE:{var $=c.operator,k=c.field;return"[["+k+r(t($))+n(v)+"]]"}case si.STATE:return v;case si.ID:return"#"+v;case si.CLASS:return"."+v;case si.PARENT:case si.CHILD:return a(c.parent,h)+r(">")+a(c.child,h);case si.ANCESTOR:case si.DESCENDANT:return a(c.ancestor,h)+" "+a(c.descendant,h);case si.COMPOUND_SPLIT:{var M=a(c.left,h),A=a(c.subject,h),L=a(c.right,h);return M+(M.length>0?" ":"")+A+L}case si.TRUE:return""}},a=function(c,h){return c.checks.reduce(function(p,v,m){return p+(h===c&&m===0?"$":"")+i(v,h)},"")},s="",u=0;u<this.length;u++){var f=this[u];s+=a(f,f.subject),this.length>1&&u<this.length-1&&(s+=", ")}return this.toStringCache=s,s},tqt={parse:JGt,toString:eqt},Dot=function(t,n,r){var i,a=ji(t),s=$r(t),u=ji(r),f,d,c=!1,h=!1,p=!1;switch(n.indexOf("!")>=0&&(n=n.replace("!",""),h=!0),n.indexOf("@")>=0&&(n=n.replace("@",""),c=!0),(a||u||c)&&(f=!a&&!s?"":""+t,d=""+r),c&&(t=f=f.toLowerCase(),r=d=d.toLowerCase()),n){case"*=":i=f.indexOf(d)>=0;break;case"$=":i=f.indexOf(d,f.length-d.length)>=0;break;case"^=":i=f.indexOf(d)===0;break;case"=":i=t===r;break;case">":p=!0,i=t>r;break;case">=":p=!0,i=t>=r;break;case"<":p=!0,i=t<r;break;case"<=":p=!0,i=t<=r;break;default:i=!1;break}return h&&(t!=null||!p)&&(i=!i),i},nqt=function(t,n){switch(n){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},rqt=function(t){return t!==void 0},lke=function(t,n){return t.data(n)},iqt=function(t,n){return t[n]()},bf=[],Ml=function(t,n){return t.checks.every(function(r){return bf[r.type](r,n)})};bf[si.GROUP]=function(e,t){var n=e.value;return n==="*"||n===t.group()};bf[si.STATE]=function(e,t){var n=e.value;return KGt(n,t)};bf[si.ID]=function(e,t){var n=e.value;return t.id()===n};bf[si.CLASS]=function(e,t){var n=e.value;return t.hasClass(n)};bf[si.META_COMPARE]=function(e,t){var n=e.field,r=e.operator,i=e.value;return Dot(iqt(t,n),r,i)};bf[si.DATA_COMPARE]=function(e,t){var n=e.field,r=e.operator,i=e.value;return Dot(lke(t,n),r,i)};bf[si.DATA_BOOL]=function(e,t){var n=e.field,r=e.operator;return nqt(lke(t,n),r)};bf[si.DATA_EXIST]=function(e,t){var n=e.field;return e.operator,rqt(lke(t,n))};bf[si.UNDIRECTED_EDGE]=function(e,t){var n=e.nodes[0],r=e.nodes[1],i=t.source(),a=t.target();return Ml(n,i)&&Ml(r,a)||Ml(r,i)&&Ml(n,a)};bf[si.NODE_NEIGHBOR]=function(e,t){return Ml(e.node,t)&&t.neighborhood().some(function(n){return n.isNode()&&Ml(e.neighbor,n)})};bf[si.DIRECTED_EDGE]=function(e,t){return Ml(e.source,t.source())&&Ml(e.target,t.target())};bf[si.NODE_SOURCE]=function(e,t){return Ml(e.source,t)&&t.outgoers().some(function(n){return n.isNode()&&Ml(e.target,n)})};bf[si.NODE_TARGET]=function(e,t){return Ml(e.target,t)&&t.incomers().some(function(n){return n.isNode()&&Ml(e.source,n)})};bf[si.CHILD]=function(e,t){return Ml(e.child,t)&&Ml(e.parent,t.parent())};bf[si.PARENT]=function(e,t){return Ml(e.parent,t)&&t.children().some(function(n){return Ml(e.child,n)})};bf[si.DESCENDANT]=function(e,t){return Ml(e.descendant,t)&&t.ancestors().some(function(n){return Ml(e.ancestor,n)})};bf[si.ANCESTOR]=function(e,t){return Ml(e.ancestor,t)&&t.descendants().some(function(n){return Ml(e.descendant,n)})};bf[si.COMPOUND_SPLIT]=function(e,t){return Ml(e.subject,t)&&Ml(e.left,t)&&Ml(e.right,t)};bf[si.TRUE]=function(){return!0};bf[si.COLLECTION]=function(e,t){var n=e.value;return n.has(t)};bf[si.FILTER]=function(e,t){var n=e.value;return n(t)};var aqt=function(t){var n=this;if(n.length===1&&n[0].checks.length===1&&n[0].checks[0].type===si.ID)return t.getElementById(n[0].checks[0].value).collection();var r=function(a){for(var s=0;s<n.length;s++){var u=n[s];if(Ml(u,a))return!0}return!1};return n.text()==null&&(r=function(){return!0}),t.filter(r)},oqt=function(t){for(var n=this,r=0;r<n.length;r++){var i=n[r];if(Ml(i,t))return!0}return!1},sqt={matches:oqt,filter:aqt},b3=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||ji(t)&&t.match(/^\s*$/)||(ay(t)?this.addQuery({checks:[{type:si.COLLECTION,value:t.collection()}]}):Dc(t)?this.addQuery({checks:[{type:si.FILTER,value:t}]}):ji(t)?this.parse(t)||(this.invalid=!0):gf("A selector must be created from a string; found "))},w3=b3.prototype;[tqt,sqt].forEach(function(e){return oa(w3,e)});w3.text=function(){return this.inputText};w3.size=function(){return this.length};w3.eq=function(e){return this[e]};w3.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};w3.addQuery=function(e){this[this.length++]=e};w3.selector=w3.toString;var XR={allAre:function(t){var n=new b3(t);return this.every(function(r){return n.matches(r)})},is:function(t){var n=new b3(t);return this.some(function(r){return n.matches(r)})},some:function(t,n){for(var r=0;r<this.length;r++){var i=n?t.apply(n,[this[r],r,this]):t(this[r],r,this);if(i)return!0}return!1},every:function(t,n){for(var r=0;r<this.length;r++){var i=n?t.apply(n,[this[r],r,this]):t(this[r],r,this);if(!i)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var n=this.length,r=t.length;return n!==r?!1:n===1?this[0]===t[0]:this.every(function(i){return t.hasElementWithId(i.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(n){return t.hasElementWithId(n.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var n=this.neighborhood();return t.every(function(r){return n.hasElementWithId(r.id())})},contains:function(t){t=this.cy().collection(t);var n=this;return t.every(function(r){return n.hasElementWithId(r.id())})}};XR.allAreNeighbours=XR.allAreNeighbors;XR.has=XR.contains;XR.equal=XR.equals=XR.same;var Ib=function(t,n){return function(i,a,s,u){var f=i,d=this,c;if(f==null?c="":ay(f)&&f.length===1&&(c=f.id()),d.length===1&&c){var h=d[0]._private,p=h.traversalCache=h.traversalCache||{},v=p[n]=p[n]||[],m=lP(c),y=v[m];return y||(v[m]=t.call(d,i,a,s,u))}else return t.call(d,i,a,s,u)}},pN={parent:function(t){var n=[];if(this.length===1){var r=this[0]._private.parent;if(r)return r}for(var i=0;i<this.length;i++){var a=this[i],s=a._private.parent;s&&n.push(s)}return this.spawn(n,!0).filter(t)},parents:function(t){for(var n=[],r=this.parent();r.nonempty();){for(var i=0;i<r.length;i++){var a=r[i];n.push(a)}r=r.parent()}return this.spawn(n,!0).filter(t)},commonAncestors:function(t){for(var n,r=0;r<this.length;r++){var i=this[r],a=i.parents();n=n||a,n=n.intersect(a)}return n.filter(t)},orphans:function(t){return this.stdFilter(function(n){return n.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(n){return n.isChild()}).filter(t)},children:Ib(function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n],i=r._private.children,a=0;a<i.length;a++)t.push(i[a]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var n=[];function r(i){for(var a=0;a<i.length;a++){var s=i[a];n.push(s),s.children().nonempty()&&r(s.children())}}return r(this.children()),this.spawn(n,!0).filter(t)}};function cke(e,t,n,r){for(var i=[],a=new I8,s=e.cy(),u=s.hasCompoundNodes(),f=0;f<e.length;f++){var d=e[f];n?i.push(d):u&&r(i,a,d)}for(;i.length>0;){var c=i.shift();t(c),a.add(c.id()),u&&r(i,a,c)}return e}function Iot(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var a=r[i];t.has(a.id())||e.push(a)}}pN.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return cke(this,e,t,Iot)};function Fot(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}pN.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return cke(this,e,t,Fot)};function uqt(e,t,n){Fot(e,t,n),Iot(e,t,n)}pN.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return cke(this,e,t,uqt)};pN.ancestors=pN.parents;var OV,Not;OV=Not={data:ou.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ou.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ou.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ou.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ou.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ou.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};OV.attr=OV.data;OV.removeAttr=OV.removeData;var lqt=Not,Poe={};function Fme(e){return function(t){var n=this;if(t===void 0&&(t=!0),n.length!==0)if(n.isNode()&&!n.removed()){for(var r=0,i=n[0],a=i._private.edges,s=0;s<a.length;s++){var u=a[s];!t&&u.isLoop()||(r+=e(i,u))}return r}else return}}oa(Poe,{degree:Fme(function(e,t){return t.source().same(t.target())?2:1}),indegree:Fme(function(e,t){return t.target().same(e)?1:0}),outdegree:Fme(function(e,t){return t.source().same(e)?1:0})});function a6(e,t){return function(n){for(var r,i=this.nodes(),a=0;a<i.length;a++){var s=i[a],u=s[e](n);u!==void 0&&(r===void 0||t(u,r))&&(r=u)}return r}}oa(Poe,{minDegree:a6("degree",function(e,t){return e<t}),maxDegree:a6("degree",function(e,t){return e>t}),minIndegree:a6("indegree",function(e,t){return e<t}),maxIndegree:a6("indegree",function(e,t){return e>t}),minOutdegree:a6("outdegree",function(e,t){return e<t}),maxOutdegree:a6("outdegree",function(e,t){return e>t})});oa(Poe,{totalDegree:function(t){for(var n=0,r=this.nodes(),i=0;i<r.length;i++)n+=r[i].degree(t);return n}});var d_,zot,jot=function(t,n,r){for(var i=0;i<t.length;i++){var a=t[i];if(!a.locked()){var s=a._private.position,u={x:n.x!=null?n.x-s.x:0,y:n.y!=null?n.y-s.y:0};a.isParent()&&!(u.x===0&&u.y===0)&&a.children().shift(u,r),a.dirtyBoundingBoxCache()}}},tVe={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,n){jot(t,n,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};d_=zot={position:ou.data(tVe),silentPosition:ou.data(oa({},tVe,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,n){jot(t,n,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,n){if(ws(t))n?this.silentPosition(t):this.position(t);else if(Dc(t)){var r=t,i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var s=this[a],u=void 0;(u=r(s,a))&&(n?s.silentPosition(u):s.position(u))}i.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,n,r){var i;if(ws(t)?(i={x:$r(t.x)?t.x:0,y:$r(t.y)?t.y:0},r=n):ji(t)&&$r(n)&&(i={x:0,y:0},i[t]=n),i!=null){var a=this.cy();a.startBatch();for(var s=0;s<this.length;s++){var u=this[s];if(!(a.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var f=u.position(),d={x:f.x+i.x,y:f.y+i.y};r?u.silentPosition(d):u.position(d)}}a.endBatch()}return this},silentShift:function(t,n){return ws(t)?this.shift(t,!0):ji(t)&&$r(n)&&this.shift(t,n,!0),this},renderedPosition:function(t,n){var r=this[0],i=this.cy(),a=i.zoom(),s=i.pan(),u=ws(t)?t:void 0,f=u!==void 0||n!==void 0&&ji(t);if(r&&r.isNode())if(f)for(var d=0;d<this.length;d++){var c=this[d];n!==void 0?c.position(t,(n-s[t])/a):u!==void 0&&c.position(yot(u,a,s))}else{var h=r.position();return u=Toe(h,a,s),t===void 0?u:u[t]}else if(!f)return;return this},relativePosition:function(t,n){var r=this[0],i=this.cy(),a=ws(t)?t:void 0,s=a!==void 0||n!==void 0&&ji(t),u=i.hasCompoundNodes();if(r&&r.isNode())if(s)for(var f=0;f<this.length;f++){var d=this[f],c=u?d.parent():null,h=c&&c.length>0,p=h;h&&(c=c[0]);var v=p?c.position():{x:0,y:0};n!==void 0?d.position(t,n+v[t]):a!==void 0&&d.position({x:a.x+v.x,y:a.y+v.y})}else{var m=r.position(),y=u?r.parent():null,w=y&&y.length>0,_=w;w&&(y=y[0]);var S=_?y.position():{x:0,y:0};return a={x:m.x-S.x,y:m.y-S.y},t===void 0?a:a[t]}else if(!s)return;return this}};d_.modelPosition=d_.point=d_.position;d_.modelPositions=d_.points=d_.positions;d_.renderedPoint=d_.renderedPosition;d_.relativePoint=d_.relativePosition;var cqt=zot,RF,tT;RF=tT={};tT.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),a=t.x1*r+i.x,s=t.x2*r+i.x,u=t.y1*r+i.y,f=t.y2*r+i.y;return{x1:a,x2:s,y1:u,y2:f,w:s-a,h:f-u}};tT.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(n){if(n.isParent()){var r=n._private;r.compoundBoundsClean=!1,r.bbCache=null,e||n.emitAndNotify("bounds")}}),this)};tT.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(s){if(!s.isParent())return;var u=s._private,f=s.children(),d=s.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},h=f.boundingBox({includeLabels:d,includeOverlays:!1,useCache:!1}),p=u.position;(h.w===0||h.h===0)&&(h={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},h.x1=p.x-h.w/2,h.x2=p.x+h.w/2,h.y1=p.y-h.h/2,h.y2=p.y+h.h/2);function v(N,R,D){var j=0,U=0,H=R+D;return N>0&&H>0&&(j=R/H*N,U=D/H*N),{biasDiff:j,biasComplementDiff:U}}function m(N,R,D,j){if(D.units==="%")switch(j){case"width":return N>0?D.pfValue*N:0;case"height":return R>0?D.pfValue*R:0;case"average":return N>0&&R>0?D.pfValue*(N+R)/2:0;case"min":return N>0&&R>0?N>R?D.pfValue*R:D.pfValue*N:0;case"max":return N>0&&R>0?N>R?D.pfValue*N:D.pfValue*R:0;default:return 0}else return D.units==="px"?D.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var w=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(w=w*100/c.width.val);var _=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(_=_*100/c.height.val);var S=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(S=S*100/c.height.val);var C=v(c.width.val-h.w,y,w),$=C.biasDiff,k=C.biasComplementDiff,M=v(c.height.val-h.h,_,S),A=M.biasDiff,L=M.biasComplementDiff;u.autoPadding=m(h.w,h.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),u.autoWidth=Math.max(h.w,c.width.val),p.x=(-$+h.x1+h.x2+k)/2,u.autoHeight=Math.max(h.h,c.height.val),p.y=(-A+h.y1+h.y2+L)/2}for(var r=0;r<this.length;r++){var i=this[r],a=i._private;(!a.compoundBoundsClean||e)&&(n(i),t.batching()||(a.compoundBoundsClean=!0))}return this};var Ob=function(t){return t===1/0||t===-1/0?0:t},B2=function(t,n,r,i,a){i-n===0||a-r===0||n==null||r==null||i==null||a==null||(t.x1=n<t.x1?n:t.x1,t.x2=i>t.x2?i:t.x2,t.y1=r<t.y1?r:t.y1,t.y2=a>t.y2?a:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},XM=function(t,n){return n==null?t:B2(t,n.x1,n.y1,n.x2,n.y2)},nB=function(t,n,r){return V2(t,n,r)},_J=function(t,n,r){if(!n.cy().headless()){var i=n._private,a=i.rstyle,s=a.arrowWidth/2,u=n.pstyle(r+"-arrow-shape").value,f,d;if(u!=="none"){r==="source"?(f=a.srcX,d=a.srcY):r==="target"?(f=a.tgtX,d=a.tgtY):(f=a.midX,d=a.midY);var c=i.arrowBounds=i.arrowBounds||{},h=c[r]=c[r]||{};h.x1=f-s,h.y1=d-s,h.x2=f+s,h.y2=d+s,h.w=h.x2-h.x1,h.h=h.y2-h.y1,mte(h,1),B2(t,h.x1,h.y1,h.x2,h.y2)}}},Nme=function(t,n,r){if(!n.cy().headless()){var i;r?i=r+"-":i="";var a=n._private,s=a.rstyle,u=n.pstyle(i+"label").strValue;if(u){var f=n.pstyle("text-halign"),d=n.pstyle("text-valign"),c=nB(s,"labelWidth",r),h=nB(s,"labelHeight",r),p=nB(s,"labelX",r),v=nB(s,"labelY",r),m=n.pstyle(i+"text-margin-x").pfValue,y=n.pstyle(i+"text-margin-y").pfValue,w=n.isEdge(),_=n.pstyle(i+"text-rotation"),S=n.pstyle("text-outline-width").pfValue,C=n.pstyle("text-border-width").pfValue,$=C/2,k=n.pstyle("text-background-padding").pfValue,M=2,A=h,L=c,N=L/2,R=A/2,D,j,U,H;if(w)D=p-N,j=p+N,U=v-R,H=v+R;else{switch(f.value){case"left":D=p-L,j=p;break;case"center":D=p-N,j=p+N;break;case"right":D=p,j=p+L;break}switch(d.value){case"top":U=v-A,H=v;break;case"center":U=v-R,H=v+R;break;case"bottom":U=v,H=v+A;break}}D+=m-Math.max(S,$)-k-M,j+=m+Math.max(S,$)+k+M,U+=y-Math.max(S,$)-k-M,H+=y+Math.max(S,$)+k+M;var Y=r||"main",Z=a.labelBounds,Q=Z[Y]=Z[Y]||{};Q.x1=D,Q.y1=U,Q.x2=j,Q.y2=H,Q.w=j-D,Q.h=H-U;var ee=w&&_.strValue==="autorotate",oe=_.pfValue!=null&&_.pfValue!==0;if(ee||oe){var ue=ee?nB(a.rstyle,"labelAngle",r):_.pfValue,ve=Math.cos(ue),le=Math.sin(ue),de=(D+j)/2,me=(U+H)/2;if(!w){switch(f.value){case"left":de=j;break;case"right":de=D;break}switch(d.value){case"top":me=H;break;case"bottom":me=U;break}}var Se=function(gt,Ye){return gt=gt-de,Ye=Ye-me,{x:gt*ve-Ye*le+de,y:gt*le+Ye*ve+me}},Ee=Se(D,U),xe=Se(D,H),Ie=Se(j,U),Ne=Se(j,H);D=Math.min(Ee.x,xe.x,Ie.x,Ne.x),j=Math.max(Ee.x,xe.x,Ie.x,Ne.x),U=Math.min(Ee.y,xe.y,Ie.y,Ne.y),H=Math.max(Ee.y,xe.y,Ie.y,Ne.y)}var We=Y+"Rot",Me=Z[We]=Z[We]||{};Me.x1=D,Me.y1=U,Me.x2=j,Me.y2=H,Me.w=j-D,Me.h=H-U,B2(t,D,U,j,H),B2(a.labelBounds.all,D,U,j,H)}return t}},fqt=function(t,n){var r=t._private.cy,i=r.styleEnabled(),a=r.headless(),s=Om(),u=t._private,f=t.isNode(),d=t.isEdge(),c,h,p,v,m,y,w=u.rstyle,_=f&&i?t.pstyle("bounds-expansion").pfValue:[0],S=function(Ue){return Ue.pstyle("display").value!=="none"},C=!i||S(t)&&(!d||S(t.source())&&S(t.target()));if(C){var $=0,k=0;i&&n.includeOverlays&&($=t.pstyle("overlay-opacity").value,$!==0&&(k=t.pstyle("overlay-padding").value));var M=0,A=0;i&&n.includeUnderlays&&(M=t.pstyle("underlay-opacity").value,M!==0&&(A=t.pstyle("underlay-padding").value));var L=Math.max(k,A),N=0,R=0;if(i&&(N=t.pstyle("width").pfValue,R=N/2),f&&n.includeNodes){var D=t.position();m=D.x,y=D.y;var j=t.outerWidth(),U=j/2,H=t.outerHeight(),Y=H/2;c=m-U,h=m+U,p=y-Y,v=y+Y,B2(s,c,p,h,v)}else if(d&&n.includeEdges)if(i&&!a){var Z=t.pstyle("curve-style").strValue;if(c=Math.min(w.srcX,w.midX,w.tgtX),h=Math.max(w.srcX,w.midX,w.tgtX),p=Math.min(w.srcY,w.midY,w.tgtY),v=Math.max(w.srcY,w.midY,w.tgtY),c-=R,h+=R,p-=R,v+=R,B2(s,c,p,h,v),Z==="haystack"){var Q=w.haystackPts;if(Q&&Q.length===2){if(c=Q[0].x,p=Q[0].y,h=Q[1].x,v=Q[1].y,c>h){var ee=c;c=h,h=ee}if(p>v){var oe=p;p=v,v=oe}B2(s,c-R,p-R,h+R,v+R)}}else if(Z==="bezier"||Z==="unbundled-bezier"||Z==="segments"||Z==="taxi"){var ue;switch(Z){case"bezier":case"unbundled-bezier":ue=w.bezierPts;break;case"segments":case"taxi":ue=w.linePts;break}if(ue!=null)for(var ve=0;ve<ue.length;ve++){var le=ue[ve];c=le.x-R,h=le.x+R,p=le.y-R,v=le.y+R,B2(s,c,p,h,v)}}}else{var de=t.source(),me=de.position(),Se=t.target(),Ee=Se.position();if(c=me.x,h=Ee.x,p=me.y,v=Ee.y,c>h){var xe=c;c=h,h=xe}if(p>v){var Ie=p;p=v,v=Ie}c-=R,h+=R,p-=R,v+=R,B2(s,c,p,h,v)}if(i&&n.includeEdges&&d&&(_J(s,t,"mid-source"),_J(s,t,"mid-target"),_J(s,t,"source"),_J(s,t,"target")),i){var Ne=t.pstyle("ghost").value==="yes";if(Ne){var We=t.pstyle("ghost-offset-x").pfValue,Me=t.pstyle("ghost-offset-y").pfValue;B2(s,s.x1+We,s.y1+Me,s.x2+We,s.y2+Me)}}var He=u.bodyBounds=u.bodyBounds||{};zUe(He,s),Lme(He,_),mte(He,1),i&&(c=s.x1,h=s.x2,p=s.y1,v=s.y2,B2(s,c-L,p-L,h+L,v+L));var gt=u.overlayBounds=u.overlayBounds||{};zUe(gt,s),Lme(gt,_),mte(gt,1);var Ye=u.labelBounds=u.labelBounds||{};Ye.all!=null?NWt(Ye.all):Ye.all=Om(),i&&n.includeLabels&&(n.includeMainLabels&&Nme(s,t,null),d&&(n.includeSourceLabels&&Nme(s,t,"source"),n.includeTargetLabels&&Nme(s,t,"target")))}return s.x1=Ob(s.x1),s.y1=Ob(s.y1),s.x2=Ob(s.x2),s.y2=Ob(s.y2),s.w=Ob(s.x2-s.x1),s.h=Ob(s.y2-s.y1),s.w>0&&s.h>0&&C&&(Lme(s,_),mte(s,1)),s},Bot=function(t){var n=0,r=function(s){return(s?1:0)<<n++},i=0;return i+=r(t.incudeNodes),i+=r(t.includeEdges),i+=r(t.includeLabels),i+=r(t.includeMainLabels),i+=r(t.includeSourceLabels),i+=r(t.includeTargetLabels),i+=r(t.includeOverlays),i},Hot=function(t){if(t.isEdge()){var n=t.source().position(),r=t.target().position(),i=function(s){return Math.round(s)};return oWt([i(n.x),i(n.y),i(r.x),i(r.y)])}else return 0},nVe=function(t,n){var r=t._private,i,a=t.isEdge(),s=n==null?rVe:Bot(n),u=s===rVe,f=Hot(t),d=r.bbCachePosKey===f,c=n.useCache&&d,h=function(y){return y._private.bbCache==null||y._private.styleDirty},p=!c||h(t)||a&&h(t.source())||h(t.target());if(p?(d||t.recalculateRenderedStyle(c),i=fqt(t,AV),r.bbCache=i,r.bbCachePosKey=f):i=r.bbCache,!u){var v=t.isNode();i=Om(),(n.includeNodes&&v||n.includeEdges&&!v)&&(n.includeOverlays?XM(i,r.overlayBounds):XM(i,r.bodyBounds)),n.includeLabels&&(n.includeMainLabels&&(!a||n.includeSourceLabels&&n.includeTargetLabels)?XM(i,r.labelBounds.all):(n.includeMainLabels&&XM(i,r.labelBounds.mainRot),n.includeSourceLabels&&XM(i,r.labelBounds.sourceRot),n.includeTargetLabels&&XM(i,r.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},AV={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},rVe=Bot(AV),iVe=Ug(AV);tT.boundingBox=function(e){var t;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(e===void 0||e.useCache===void 0||e.useCache===!0))e===void 0?e=AV:e=iVe(e),t=nVe(this[0],e);else{t=Om(),e=e||AV;var n=iVe(e),r=this,i=r.cy(),a=i.styleEnabled();if(a)for(var s=0;s<r.length;s++){var u=r[s],f=u._private,d=Hot(u),c=f.bbCachePosKey===d,h=n.useCache&&c&&!f.styleDirty;u.recalculateRenderedStyle(h)}this.updateCompoundBounds(!e.useCache);for(var p=0;p<r.length;p++){var v=r[p];XM(t,nVe(v,n))}}return t.x1=Ob(t.x1),t.y1=Ob(t.y1),t.x2=Ob(t.x2),t.y2=Ob(t.y2),t.w=Ob(t.x2-t.x1),t.h=Ob(t.y2-t.y1),t};tT.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};tT.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),i=n.collection();if(r&&(i=t.filter(function(d){return d.isParent()}),t=t.not(i)),ws(e)){var a=e;e=function(){return a}}var s=function(c,h){return c._private.bbAtOldPos=e(c,h)},u=function(c){return c._private.bbAtOldPos};n.startBatch(),t.forEach(s).silentPositions(e),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var f=FWt(this.boundingBox({useCache:!1}));return t.silentPositions(u),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),n.endBatch(),f};RF.boundingbox=RF.bb=RF.boundingBox;RF.renderedBoundingbox=RF.renderedBoundingBox;var dqt=tT,sH,oG;sH=oG={};var Uot=function(t){t.uppercaseName=DUe(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=DUe(t.outerName),sH[t.name]=function(){var r=this[0],i=r._private,a=i.cy,s=a._private.styleEnabled;if(r)if(s){if(r.isParent())return r.updateCompoundBounds(),i[t.autoName]||0;var u=r.pstyle(t.name);switch(u.strValue){case"label":return r.recalculateRenderedStyle(),i.rstyle[t.labelName]||0;default:return u.pfValue}}else return 1},sH["outer"+t.uppercaseName]=function(){var r=this[0],i=r._private,a=i.cy,s=a._private.styleEnabled;if(r)if(s){var u=r[t.name](),f=r.pstyle("border-width").pfValue,d=2*r.padding();return u+f+d}else return 1},sH["rendered"+t.uppercaseName]=function(){var r=this[0];if(r){var i=r[t.name]();return i*this.cy().zoom()}},sH["rendered"+t.uppercaseOuterName]=function(){var r=this[0];if(r){var i=r[t.outerName]();return i*this.cy().zoom()}}};Uot({name:"width"});Uot({name:"height"});oG.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};oG.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};oG.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var hqt=oG,gqt=function(t,n){if(t.isEdge())return n(t)},pqt=function(t,n){if(t.isEdge()){var r=t.cy();return Toe(n(t),r.zoom(),r.pan())}},vqt=function(t,n){if(t.isEdge()){var r=t.cy(),i=r.pan(),a=r.zoom();return n(t).map(function(s){return Toe(s,a,i)})}},mqt=function(t){return t.renderer().getControlPoints(t)},yqt=function(t){return t.renderer().getSegmentPoints(t)},bqt=function(t){return t.renderer().getSourceEndpoint(t)},wqt=function(t){return t.renderer().getTargetEndpoint(t)},_qt=function(t){return t.renderer().getEdgeMidpoint(t)},aVe={controlPoints:{get:mqt,mult:!0},segmentPoints:{get:yqt,mult:!0},sourceEndpoint:{get:bqt},targetEndpoint:{get:wqt},midpoint:{get:_qt}},xqt=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},Sqt=Object.keys(aVe).reduce(function(e,t){var n=aVe[t],r=xqt(t);return e[t]=function(){return gqt(this,n.get)},n.mult?e[r]=function(){return vqt(this,n.get)}:e[r]=function(){return pqt(this,n.get)},e},{}),Eqt=oa({},cqt,dqt,hqt,Sqt);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var Vot=function(t,n){this.recycle(t,n)};function rB(){return!1}function xJ(){return!0}Vot.prototype={instanceString:function(){return"event"},recycle:function(t,n){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=rB,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?xJ:rB):t!=null&&t.type?n=t:this.type=t,n!=null&&(this.originalEvent=n.originalEvent,this.type=n.type!=null?n.type:this.type,this.cy=n.cy,this.target=n.target,this.position=n.position,this.renderedPosition=n.renderedPosition,this.namespace=n.namespace,this.layout=n.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var r=this.position,i=this.cy.zoom(),a=this.cy.pan();this.renderedPosition={x:r.x*i+a.x,y:r.y*i+a.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=xJ;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=xJ;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=xJ,this.stopPropagation()},isDefaultPrevented:rB,isPropagationStopped:rB,isImmediatePropagationStopped:rB};var Wot=/^([^.]+)(\.(?:[^.]+))?$/,Cqt=".*",Got={qualifierCompare:function(t,n){return t===n},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},oVe=Object.keys(Got),$qt={};function Loe(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$qt,t=arguments.length>1?arguments[1]:void 0,n=0;n<oVe.length;n++){var r=oVe[n];this[r]=e[r]||Got[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var _3=Loe.prototype,qot=function(t,n,r,i,a,s,u){Dc(i)&&(a=i,i=null),u&&(s==null?s=u:s=oa({},s,u));for(var f=Vu(r)?r:r.split(/\s+/),d=0;d<f.length;d++){var c=f[d];if(!m3(c)){var h=c.match(Wot);if(h){var p=h[1],v=h[2]?h[2]:null,m=n(t,c,p,v,i,a,s);if(m===!1)break}}}},sVe=function(t,n){return t.addEventFields(t.context,n),new Vot(n.type,n)},kqt=function(t,n,r){if(jVt(r)){n(t,r);return}else if(ws(r)){n(t,sVe(t,r));return}for(var i=Vu(r)?r:r.split(/\s+/),a=0;a<i.length;a++){var s=i[a];if(!m3(s)){var u=s.match(Wot);if(u){var f=u[1],d=u[2]?u[2]:null,c=sVe(t,{type:f,namespace:d,target:t.context});n(t,c)}}}};_3.on=_3.addListener=function(e,t,n,r,i){return qot(this,function(a,s,u,f,d,c,h){Dc(c)&&a.listeners.push({event:s,callback:c,type:u,namespace:f,qualifier:d,conf:h})},e,t,n,r,i),this};_3.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})};_3.removeListener=_3.off=function(e,t,n,r){var i=this;this.emitting!==0&&(this.listeners=fWt(this.listeners));for(var a=this.listeners,s=function(d){var c=a[d];qot(i,function(h,p,v,m,y,w){if((c.type===v||e==="*")&&(!m&&c.namespace!==".*"||c.namespace===m)&&(!y||h.qualifierCompare(c.qualifier,y))&&(!w||c.callback===w))return a.splice(d,1),!1},e,t,n,r)},u=a.length-1;u>=0;u--)s(u);return this};_3.removeAllListeners=function(){return this.removeListener("*")};_3.emit=_3.trigger=function(e,t,n){var r=this.listeners,i=r.length;return this.emitting++,Vu(t)||(t=[t]),kqt(this,function(a,s){n!=null&&(r=[{event:s.event,type:s.type,namespace:s.namespace,callback:n}],i=r.length);for(var u=function(c){var h=r[c];if(h.type===s.type&&(!h.namespace||h.namespace===s.namespace||h.namespace===Cqt)&&a.eventMatches(a.context,h,s)){var p=[s];t!=null&&hWt(p,t),a.beforeEmit(a.context,h,s),h.conf&&h.conf.one&&(a.listeners=a.listeners.filter(function(y){return y!==h}));var v=a.callbackContext(a.context,h,s),m=h.callback.apply(v,p);a.afterEmit(a.context,h,s),m===!1&&(s.stopPropagation(),s.preventDefault())}},f=0;f<i;f++)u(f);a.bubble(a.context)&&!s.isPropagationStopped()&&a.parent(a.context).emit(s,t)},e),this.emitting--,this};var Oqt={qualifierCompare:function(t,n){return t==null||n==null?t==null&&n==null:t.sameText(n)},eventMatches:function(t,n,r){var i=n.qualifier;return i!=null?t!==r.target&&iG(r.target)&&i.matches(r.target):!0},addEventFields:function(t,n){n.cy=t.cy(),n.target=t},callbackContext:function(t,n,r){return n.qualifier!=null?r.target:t},beforeEmit:function(t,n){n.conf&&n.conf.once&&n.conf.onceCollection.removeListener(n.event,n.qualifier,n.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},SJ=function(t){return ji(t)?new b3(t):t},Yot={createEmitter:function(){for(var t=0;t<this.length;t++){var n=this[t],r=n._private;r.emitter||(r.emitter=new Loe(Oqt,n))}return this},emitter:function(){return this._private.emitter},on:function(t,n,r){for(var i=SJ(n),a=0;a<this.length;a++){var s=this[a];s.emitter().on(t,i,r)}return this},removeListener:function(t,n,r){for(var i=SJ(n),a=0;a<this.length;a++){var s=this[a];s.emitter().removeListener(t,i,r)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var n=this[t];n.emitter().removeAllListeners()}return this},one:function(t,n,r){for(var i=SJ(n),a=0;a<this.length;a++){var s=this[a];s.emitter().one(t,i,r)}return this},once:function(t,n,r){for(var i=SJ(n),a=0;a<this.length;a++){var s=this[a];s.emitter().on(t,i,r,{once:!0,onceCollection:this})}},emit:function(t,n){for(var r=0;r<this.length;r++){var i=this[r];i.emitter().emit(t,n)}return this},emitAndNotify:function(t,n){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,n),this}};ou.eventAliasesOn(Yot);var Kot={nodes:function(t){return this.filter(function(n){return n.isNode()}).filter(t)},edges:function(t){return this.filter(function(n){return n.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),n=this.spawn(),r=0;r<this.length;r++){var i=this[r];i.isNode()?t.push(i):n.push(i)}return{nodes:t,edges:n}},filter:function(t,n){if(t===void 0)return this;if(ji(t)||ay(t))return new b3(t).filter(this);if(Dc(t)){for(var r=this.spawn(),i=this,a=0;a<i.length;a++){var s=i[a],u=n?t.apply(n,[s,a,i]):t(s,a,i);u&&r.push(s)}return r}return this.spawn()},not:function(t){if(t){ji(t)&&(t=this.filter(t));for(var n=this.spawn(),r=0;r<this.length;r++){var i=this[r],a=t.has(i);a||n.push(i)}return n}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(ji(t)){var n=t;return this.filter(n)}for(var r=this.spawn(),i=this,a=t,s=this.length<t.length,u=s?i:a,f=s?a:i,d=0;d<u.length;d++){var c=u[d];f.has(c)&&r.push(c)}return r},xor:function(t){var n=this._private.cy;ji(t)&&(t=n.$(t));var r=this.spawn(),i=this,a=t,s=function(f,d){for(var c=0;c<f.length;c++){var h=f[c],p=h._private.data.id,v=d.hasElementWithId(p);v||r.push(h)}};return s(i,a),s(a,i),r},diff:function(t){var n=this._private.cy;ji(t)&&(t=n.$(t));var r=this.spawn(),i=this.spawn(),a=this.spawn(),s=this,u=t,f=function(c,h,p){for(var v=0;v<c.length;v++){var m=c[v],y=m._private.data.id,w=h.hasElementWithId(y);w?a.merge(m):p.push(m)}};return f(s,u,r),f(u,s,i),{left:r,right:i,both:a}},add:function(t){var n=this._private.cy;if(!t)return this;if(ji(t)){var r=t;t=n.mutableElements().filter(r)}for(var i=this.spawnSelf(),a=0;a<t.length;a++){var s=t[a],u=!this.has(s);u&&i.push(s)}return i},merge:function(t){var n=this._private,r=n.cy;if(!t)return this;if(t&&ji(t)){var i=t;t=r.mutableElements().filter(i)}for(var a=n.map,s=0;s<t.length;s++){var u=t[s],f=u._private.data.id,d=!a.has(f);if(d){var c=this.length++;this[c]=u,a.set(f,{ele:u,index:c})}}return this},unmergeAt:function(t){var n=this[t],r=n.id(),i=this._private,a=i.map;this[t]=void 0,a.delete(r);var s=t===this.length-1;if(this.length>1&&!s){var u=this.length-1,f=this[u],d=f._private.data.id;this[u]=void 0,this[t]=f,a.set(d,{ele:f,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var n=this._private,r=t._private.data.id,i=n.map,a=i.get(r);if(!a)return this;var s=a.index;return this.unmergeAt(s),this},unmerge:function(t){var n=this._private.cy;if(!t)return this;if(t&&ji(t)){var r=t;t=n.mutableElements().filter(r)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},unmergeBy:function(t){for(var n=this.length-1;n>=0;n--){var r=this[n];t(r)&&this.unmergeAt(n)}return this},map:function(t,n){for(var r=[],i=this,a=0;a<i.length;a++){var s=i[a],u=n?t.apply(n,[s,a,i]):t(s,a,i);r.push(u)}return r},reduce:function(t,n){for(var r=n,i=this,a=0;a<i.length;a++)r=t(r,i[a],a,i);return r},max:function(t,n){for(var r=-1/0,i,a=this,s=0;s<a.length;s++){var u=a[s],f=n?t.apply(n,[u,s,a]):t(u,s,a);f>r&&(r=f,i=u)}return{value:r,ele:i}},min:function(t,n){for(var r=1/0,i,a=this,s=0;s<a.length;s++){var u=a[s],f=n?t.apply(n,[u,s,a]):t(u,s,a);f<r&&(r=f,i=u)}return{value:r,ele:i}}},ks=Kot;ks.u=ks["|"]=ks["+"]=ks.union=ks.or=ks.add;ks["\\"]=ks["!"]=ks["-"]=ks.difference=ks.relativeComplement=ks.subtract=ks.not;ks.n=ks["&"]=ks["."]=ks.and=ks.intersection=ks.intersect;ks["^"]=ks["(+)"]=ks["(-)"]=ks.symmetricDifference=ks.symdiff=ks.xor;ks.fnFilter=ks.filterFn=ks.stdFilter=ks.filter;ks.complement=ks.abscomp=ks.absoluteComplement;var Aqt={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},Xot=function(t,n){var r=t.cy(),i=r.hasCompoundNodes();function a(c){var h=c.pstyle("z-compound-depth");return h.value==="auto"?i?c.zDepth():0:h.value==="bottom"?-1:h.value==="top"?nke:0}var s=a(t)-a(n);if(s!==0)return s;function u(c){var h=c.pstyle("z-index-compare");return h.value==="auto"&&c.isNode()?1:0}var f=u(t)-u(n);if(f!==0)return f;var d=t.pstyle("z-index").value-n.pstyle("z-index").value;return d!==0?d:t.poolIndex()-n.poolIndex()},sre={forEach:function(t,n){if(Dc(t))for(var r=this.length,i=0;i<r;i++){var a=this[i],s=n?t.apply(n,[a,i,this]):t(a,i,this);if(s===!1)break}return this},toArray:function(){for(var t=[],n=0;n<this.length;n++)t.push(this[n]);return t},slice:function(t,n){var r=[],i=this.length;n==null&&(n=i),t==null&&(t=0),t<0&&(t=i+t),n<0&&(n=i+n);for(var a=t;a>=0&&a<n&&a<i;a++)r.push(this[a]);return this.spawn(r)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!Dc(t))return this;var n=this.toArray().sort(t);return this.spawn(n)},sortByZIndex:function(){return this.sort(Xot)},zDepth:function(){var t=this[0];if(t){var n=t._private,r=n.group;if(r==="nodes"){var i=n.data.parent?t.parents().size():0;return t.isParent()?i:nke-1}else{var a=n.source,s=n.target,u=a.zDepth(),f=s.zDepth();return Math.max(u,f,0)}}}};sre.each=sre.forEach;var Rqt=function(){var t="undefined",n=(typeof Symbol>"u"?"undefined":Kd(Symbol))!=t&&Kd(Symbol.iterator)!=t;n&&(sre[Symbol.iterator]=function(){var r=this,i={value:void 0,done:!1},a=0,s=this.length;return not({next:function(){return a<s?i.value=r[a++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};Rqt();var Tqt=Ug({nodeDimensionsIncludeLabels:!1}),bte={layoutDimensions:function(t){t=Tqt(t);var n;if(!this.takesUpSpace())n={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var r=this.boundingBox();n={w:r.w,h:r.h}}else n={w:this.outerWidth(),h:this.outerHeight()};return(n.w===0||n.h===0)&&(n.w=n.h=1),n},layoutPositions:function(t,n,r){var i=this.nodes().filter(function(k){return!k.isParent()}),a=this.cy(),s=n.eles,u=function(M){return M.id()},f=xV(r,u);t.emit({type:"layoutstart",layout:t}),t.animations=[];var d=function(M,A,L){var N={x:A.x1+A.w/2,y:A.y1+A.h/2},R={x:(L.x-N.x)*M,y:(L.y-N.y)*M};return{x:N.x+R.x,y:N.y+R.y}},c=n.spacingFactor&&n.spacingFactor!==1,h=function(){if(!c)return null;for(var M=Om(),A=0;A<i.length;A++){var L=i[A],N=f(L,A);jWt(M,N.x,N.y)}return M},p=h(),v=xV(function(k,M){var A=f(k,M);if(c){var L=Math.abs(n.spacingFactor);A=d(L,p,A)}return n.transform!=null&&(A=n.transform(k,A)),A},u);if(n.animate){for(var m=0;m<i.length;m++){var y=i[m],w=v(y,m),_=n.animateFilter==null||n.animateFilter(y,m);if(_){var S=y.animation({position:w,duration:n.animationDuration,easing:n.animationEasing});t.animations.push(S)}else y.position(w)}if(n.fit){var C=a.animation({fit:{boundingBox:s.boundingBoxAt(v),padding:n.padding},duration:n.animationDuration,easing:n.animationEasing});t.animations.push(C)}else if(n.zoom!==void 0&&n.pan!==void 0){var $=a.animation({zoom:n.zoom,pan:n.pan,duration:n.animationDuration,easing:n.animationEasing});t.animations.push($)}t.animations.forEach(function(k){return k.play()}),t.one("layoutready",n.ready),t.emit({type:"layoutready",layout:t}),F8.all(t.animations.map(function(k){return k.promise()})).then(function(){t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t})})}else i.positions(v),n.fit&&a.fit(n.eles,n.padding),n.zoom!=null&&a.zoom(n.zoom),n.pan&&a.pan(n.pan),t.one("layoutready",n.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",n.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var n=this.cy();return n.makeLayout(oa({},t,{eles:this}))}};bte.createLayout=bte.makeLayout=bte.layout;function Zot(e,t,n){var r=n._private,i=r.styleCache=r.styleCache||[],a;return(a=i[e])!=null||(a=i[e]=t(n)),a}function Doe(e,t){return e=lP(e),function(r){return Zot(e,t,r)}}function Ioe(e,t){e=lP(e);var n=function(i){return t.call(i)};return function(){var i=this[0];if(i)return Zot(e,n,i)}}var Ig={recalculateRenderedStyle:function(t){var n=this.cy(),r=n.renderer(),i=n.styleEnabled();return r&&i&&r.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),n=function(a){return a._private.styleCache=null};if(t.hasCompoundNodes()){var r;r=this.spawnSelf().merge(this.descendants()).merge(this.parents()),r.merge(r.connectedEdges()),r.forEach(n)}else this.forEach(function(i){n(i),i.connectedEdges().forEach(n)});return this},updateStyle:function(t){var n=this._private.cy;if(!n.styleEnabled())return this;if(n.batching()){var r=n._private.batchStyleEles;return r.merge(this),this}var i=n.hasCompoundNodes(),a=this;t=!!(t||t===void 0),i&&(a=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=a;return t?s.emitAndNotify("style"):s.emit("style"),a.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var n=0;n<this.length;n++){var r=this[n];r._private.styleDirty&&(r._private.styleDirty=!1,t.style().apply(r))}},parsedStyle:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this[0],i=r.cy();if(i.styleEnabled()&&r){this.cleanStyle();var a=r._private.style[t];return a??(n?i.style().getDefaultProperty(t):null)}},numericStyle:function(t){var n=this[0];if(n.cy().styleEnabled()&&n){var r=n.pstyle(t);return r.pfValue!==void 0?r.pfValue:r.value}},numericStyleUnits:function(t){var n=this[0];if(n.cy().styleEnabled()&&n)return n.pstyle(t).units},renderedStyle:function(t){var n=this.cy();if(!n.styleEnabled())return this;var r=this[0];if(r)return n.style().getRenderedStyle(r,t)},style:function(t,n){var r=this.cy();if(!r.styleEnabled())return this;var i=!1,a=r.style();if(ws(t)){var s=t;a.applyBypass(this,s,i),this.emitAndNotify("style")}else if(ji(t))if(n===void 0){var u=this[0];return u?a.getStylePropertyValue(u,t):void 0}else a.applyBypass(this,t,n,i),this.emitAndNotify("style");else if(t===void 0){var f=this[0];return f?a.getRawStyle(f):void 0}return this},removeStyle:function(t){var n=this.cy();if(!n.styleEnabled())return this;var r=!1,i=n.style(),a=this;if(t===void 0)for(var s=0;s<a.length;s++){var u=a[s];i.removeAllBypasses(u,r)}else{t=t.split(/\s+/);for(var f=0;f<a.length;f++){var d=a[f];i.removeBypasses(d,t,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var n=t.hasCompoundNodes(),r=this[0];if(r){var i=r._private,a=r.pstyle("opacity").value;if(!n)return a;var s=i.data.parent?r.parents():null;if(s)for(var u=0;u<s.length;u++){var f=s[u],d=f.pstyle("opacity").value;a=d*a}return a}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var n=this[0],r=n.cy().hasCompoundNodes();if(n)return r?n.effectiveOpacity()===0:n.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var n=this[0];return!!n._private.backgrounding}};function zme(e,t){var n=e._private,r=n.data.parent?e.parents():null;if(r)for(var i=0;i<r.length;i++){var a=r[i];if(!t(a))return!1}return!0}function fke(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var a=this[0],s=i.hasCompoundNodes();if(a){var u=a._private;if(!t(a))return!1;if(a.isNode())return!s||zme(a,r);var f=u.source,d=u.target;return n(f)&&(!s||zme(f,n))&&(f===d||n(d)&&(!s||zme(d,n)))}}}var N8=Doe("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});Ig.takesUpSpace=Ioe("takesUpSpace",fke({ok:N8}));var Mqt=Doe("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&N8(e)}),Pqt=Doe("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&N8(e)});Ig.interactive=Ioe("interactive",fke({ok:Mqt,parentOk:Pqt,edgeOkViaNode:N8}));Ig.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var Lqt=Doe("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&N8(e)}),Dqt=N8;Ig.visible=Ioe("visible",fke({ok:Lqt,edgeOkViaNode:Dqt}));Ig.hidden=function(){var e=this[0];if(e)return!e.visible()};Ig.isBundledBezier=Ioe("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Ig.bypass=Ig.css=Ig.style;Ig.renderedCss=Ig.renderedStyle;Ig.removeBypass=Ig.removeCss=Ig.removeStyle;Ig.pstyle=Ig.parsedStyle;var ZR={};function uVe(e){return function(){var t=arguments,n=[];if(t.length===2){var r=t[0],i=t[1];this.on(e.event,r,i)}else if(t.length===1&&Dc(t[0])){var a=t[0];this.on(e.event,a)}else if(t.length===0||t.length===1&&Vu(t[0])){for(var s=t.length===1?t[0]:null,u=0;u<this.length;u++){var f=this[u],d=!e.ableField||f._private[e.ableField],c=f._private[e.field]!=e.value;if(e.overrideAble){var h=e.overrideAble(f);if(h!==void 0&&(d=h,!h))return this}d&&(f._private[e.field]=e.value,c&&n.push(f))}var p=this.spawn(n);p.updateStyle(),p.emit(e.event),s&&p.emit(s)}return this}}function z8(e){ZR[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(n!==void 0)return n}return t._private[e.field]}},ZR[e.on]=uVe({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),ZR[e.off]=uVe({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}z8({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});z8({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});z8({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});z8({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});ZR.deselect=ZR.unselect;ZR.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};z8({field:"active",on:"activate",off:"unactivate"});z8({field:"pannable",on:"panify",off:"unpanify"});ZR.inactive=function(){var e=this[0];if(e)return!e._private.active};var Gp={},lVe=function(t){return function(r){for(var i=this,a=[],s=0;s<i.length;s++){var u=i[s];if(u.isNode()){for(var f=!1,d=u.connectedEdges(),c=0;c<d.length;c++){var h=d[c],p=h.source(),v=h.target();if(t.noIncomingEdges&&v===u&&p!==u||t.noOutgoingEdges&&p===u&&v!==u){f=!0;break}}f||a.push(u)}}return this.spawn(a,!0).filter(r)}},cVe=function(t){return function(n){for(var r=this,i=[],a=0;a<r.length;a++){var s=r[a];if(s.isNode())for(var u=s.connectedEdges(),f=0;f<u.length;f++){var d=u[f],c=d.source(),h=d.target();t.outgoing&&c===s?(i.push(d),i.push(h)):t.incoming&&h===s&&(i.push(d),i.push(c))}}return this.spawn(i,!0).filter(n)}},fVe=function(t){return function(n){for(var r=this,i=[],a={};;){var s=t.outgoing?r.outgoers():r.incomers();if(s.length===0)break;for(var u=!1,f=0;f<s.length;f++){var d=s[f],c=d.id();a[c]||(a[c]=!0,i.push(d),u=!0)}if(!u)break;r=s}return this.spawn(i,!0).filter(n)}};Gp.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};oa(Gp,{roots:lVe({noIncomingEdges:!0}),leaves:lVe({noOutgoingEdges:!0}),outgoers:Ib(cVe({outgoing:!0}),"outgoers"),successors:fVe({outgoing:!0}),incomers:Ib(cVe({incoming:!0}),"incomers"),predecessors:fVe({incoming:!0})});oa(Gp,{neighborhood:Ib(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],a=i.connectedEdges(),s=0;s<a.length;s++){var u=a[s],f=u.source(),d=u.target(),c=i===f?d:f;c.length>0&&t.push(c[0]),t.push(u[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});Gp.neighbourhood=Gp.neighborhood;Gp.closedNeighbourhood=Gp.closedNeighborhood;Gp.openNeighbourhood=Gp.openNeighborhood;oa(Gp,{source:Ib(function(t){var n=this[0],r;return n&&(r=n._private.source||n.cy().collection()),r&&t?r.filter(t):r},"source"),target:Ib(function(t){var n=this[0],r;return n&&(r=n._private.target||n.cy().collection()),r&&t?r.filter(t):r},"target"),sources:dVe({attr:"source"}),targets:dVe({attr:"target"})});function dVe(e){return function(n){for(var r=[],i=0;i<this.length;i++){var a=this[i],s=a._private[e.attr];s&&r.push(s)}return this.spawn(r,!0).filter(n)}}oa(Gp,{edgesWith:Ib(hVe(),"edgesWith"),edgesTo:Ib(hVe({thisIsSrc:!0}),"edgesTo")});function hVe(e){return function(n){var r=[],i=this._private.cy,a=e||{};ji(n)&&(n=i.$(n));for(var s=0;s<n.length;s++)for(var u=n[s]._private.edges,f=0;f<u.length;f++){var d=u[f],c=d._private.data,h=this.hasElementWithId(c.source)&&n.hasElementWithId(c.target),p=n.hasElementWithId(c.source)&&this.hasElementWithId(c.target),v=h||p;v&&((a.thisIsSrc||a.thisIsTgt)&&(a.thisIsSrc&&!h||a.thisIsTgt&&!p)||r.push(d))}return this.spawn(r,!0)}}oa(Gp,{connectedEdges:Ib(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var i=n[r];if(i.isNode())for(var a=i._private.edges,s=0;s<a.length;s++){var u=a[s];t.push(u)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Ib(function(e){for(var t=[],n=this,r=0;r<n.length;r++){var i=n[r];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Ib(gVe(),"parallelEdges"),codirectedEdges:Ib(gVe({codirected:!0}),"codirectedEdges")});function gVe(e){var t={codirected:!1};return e=oa({},t,e),function(r){for(var i=[],a=this.edges(),s=e,u=0;u<a.length;u++)for(var f=a[u],d=f._private,c=d.source,h=c._private.data.id,p=d.data.target,v=c._private.edges,m=0;m<v.length;m++){var y=v[m],w=y._private.data,_=w.target,S=w.source,C=_===p&&S===h,$=h===_&&p===S;(s.codirected&&C||!s.codirected&&(C||$))&&i.push(y)}return this.spawn(i,!0).filter(r)}}oa(Gp,{components:function(t){var n=this,r=n.cy(),i=r.collection(),a=t==null?n.nodes():t.nodes(),s=[];t!=null&&a.empty()&&(a=t.sources());var u=function(c,h){i.merge(c),a.unmerge(c),h.merge(c)};if(a.empty())return n.spawn();var f=function(){var c=r.collection();s.push(c);var h=a[0];u(h,c),n.bfs({directed:!1,roots:h,visit:function(v){return u(v,c)}}),c.forEach(function(p){p.connectedEdges().forEach(function(v){n.has(v)&&c.has(v.source())&&c.has(v.target())&&c.merge(v)})})};do f();while(a.length>0);return s},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});Gp.componentsOf=Gp.components;var Fg=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){gf("A collection must have a reference to the core");return}var a=new DS,s=!1;if(!n)n=[];else if(n.length>0&&ws(n[0])&&!iG(n[0])){s=!0;for(var u=[],f=new I8,d=0,c=n.length;d<c;d++){var h=n[d];h.data==null&&(h.data={});var p=h.data;if(p.id==null)p.id=vot();else if(t.hasElementWithId(p.id)||f.has(p.id))continue;var v=new Roe(t,h,!1);u.push(v),f.add(p.id)}n=u}this.length=0;for(var m=0,y=n.length;m<y;m++){var w=n[m][0];if(w!=null){var _=w._private.data.id;(!r||!a.has(_))&&(r&&a.set(_,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(S){this.lazyMap=S},rebuildMap:function(){for(var C=this.lazyMap=new DS,$=this.eles,k=0;k<$.length;k++){var M=$[k];C.set(M.id(),{index:k,ele:M})}}},r&&(this._private.map=a),s&&!i&&this.restore()},ol=Roe.prototype=Fg.prototype=Object.create(Array.prototype);ol.instanceString=function(){return"collection"};ol.spawn=function(e,t){return new Fg(this.cy(),e,t)};ol.spawnSelf=function(){return this.spawn(this)};ol.cy=function(){return this._private.cy};ol.renderer=function(){return this._private.cy.renderer()};ol.element=function(){return this[0]};ol.collection=function(){return iot(this)?this:new Fg(this._private.cy,[this])};ol.unique=function(){return new Fg(this._private.cy,this,!0)};ol.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};ol.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new Fg(t)};ol.$id=ol.getElementById;ol.poolIndex=function(){var e=this._private.cy,t=e._private.elements,n=this[0]._private.data.id;return t._private.map.get(n).index};ol.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};ol.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};ol.json=function(e){var t=this.element(),n=this.cy();if(t==null&&e)return this;if(t!=null){var r=t._private;if(ws(e)){if(n.startBatch(),e.data){t.data(e.data);var i=r.data;if(t.isEdge()){var a=!1,s={},u=e.data.source,f=e.data.target;u!=null&&u!=i.source&&(s.source=""+u,a=!0),f!=null&&f!=i.target&&(s.target=""+f,a=!0),a&&(t=t.move(s))}else{var d="parent"in e.data,c=e.data.parent;d&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var h=function(y,w,_){var S=e[y];S!=null&&S!==r[y]&&(S?t[w]():t[_]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),n.endBatch(),this}else if(e===void 0){var p={data:LS(r.data),position:LS(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};p.classes="";var v=0;return r.classes.forEach(function(m){return p.classes+=v++===0?m:" "+m}),p}}};ol.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t],r=n.json();e.push(r)}return e};ol.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n],i=r.json(),a=new Roe(e,i,!1);t.push(a)}return new Fg(e,t)};ol.copy=ol.clone;ol.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=n.cy(),i=r._private,a=[],s=[],u,f=0,d=n.length;f<d;f++){var c=n[f];t&&!c.removed()||(c.isNode()?a.push(c):s.push(c))}u=a.concat(s);var h,p=function(){u.splice(h,1),h--};for(h=0;h<u.length;h++){var v=u[h],m=v._private,y=m.data;if(v.clearTraversalCache(),!(!t&&!m.removed)){if(y.id===void 0)y.id=vot();else if($r(y.id))y.id=""+y.id;else if(m3(y.id)||!ji(y.id)){gf("Can not create element with invalid string ID `"+y.id+"`"),p();continue}else if(r.hasElementWithId(y.id)){gf("Can not create second element with ID `"+y.id+"`"),p();continue}}var w=y.id;if(v.isNode()){var _=m.position;_.x==null&&(_.x=0),_.y==null&&(_.y=0)}if(v.isEdge()){for(var S=v,C=["source","target"],$=C.length,k=!1,M=0;M<$;M++){var A=C[M],L=y[A];$r(L)&&(L=y[A]=""+y[A]),L==null||L===""?(gf("Can not create edge `"+w+"` with unspecified "+A),k=!0):r.hasElementWithId(L)||(gf("Can not create edge `"+w+"` with nonexistant "+A+" `"+L+"`"),k=!0)}if(k){p();continue}var N=r.getElementById(y.source),R=r.getElementById(y.target);N.same(R)?N._private.edges.push(S):(N._private.edges.push(S),R._private.edges.push(S)),S._private.source=N,S._private.target=R}m.map=new DS,m.map.set(w,{ele:v,index:0}),m.removed=!1,t&&r.addToPool(v)}for(var D=0;D<a.length;D++){var j=a[D],U=j._private.data;$r(U.parent)&&(U.parent=""+U.parent);var H=U.parent,Y=H!=null;if(Y||j._private.parent){var Z=j._private.parent?r.collection().merge(j._private.parent):r.getElementById(H);if(Z.empty())U.parent=void 0;else if(Z[0].removed())su("Node added with missing parent, reference to parent removed"),U.parent=void 0,j._private.parent=null;else{for(var Q=!1,ee=Z;!ee.empty();){if(j.same(ee)){Q=!0,U.parent=void 0;break}ee=ee.parent()}Q||(Z[0]._private.children.push(j),j._private.parent=Z[0],i.hasCompoundNodes=!0)}}}if(u.length>0){for(var oe=u.length===n.length?n:new Fg(r,u),ue=0;ue<oe.length;ue++){var ve=oe[ue];ve.isNode()||(ve.parallelEdges().clearTraversalCache(),ve.source().clearTraversalCache(),ve.target().clearTraversalCache())}var le;i.hasCompoundNodes?le=r.collection().merge(oe).merge(oe.connectedNodes()).merge(oe.parent()):le=oe,le.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?oe.emitAndNotify("add"):t&&oe.emit("add")}return n};ol.removed=function(){var e=this[0];return e&&e._private.removed};ol.inside=function(){var e=this[0];return e&&!e._private.removed};ol.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this,r=[],i={},a=n._private.cy;function s(H){for(var Y=H._private.edges,Z=0;Z<Y.length;Z++)f(Y[Z])}function u(H){for(var Y=H._private.children,Z=0;Z<Y.length;Z++)f(Y[Z])}function f(H){var Y=i[H.id()];t&&H.removed()||Y||(i[H.id()]=!0,H.isNode()?(r.push(H),s(H),u(H)):r.unshift(H))}for(var d=0,c=n.length;d<c;d++){var h=n[d];f(h)}function p(H,Y){var Z=H._private.edges;y3(Z,Y),H.clearTraversalCache()}function v(H){H.clearTraversalCache()}var m=[];m.ids={};function y(H,Y){Y=Y[0],H=H[0];var Z=H._private.children,Q=H.id();y3(Z,Y),Y._private.parent=null,m.ids[Q]||(m.ids[Q]=!0,m.push(H))}n.dirtyCompoundBoundsCache(),t&&a.removeFromPool(r);for(var w=0;w<r.length;w++){var _=r[w];if(_.isEdge()){var S=_.source()[0],C=_.target()[0];p(S,_),p(C,_);for(var $=_.parallelEdges(),k=0;k<$.length;k++){var M=$[k];v(M),M.isBundledBezier()&&M.dirtyBoundingBoxCache()}}else{var A=_.parent();A.length!==0&&y(A,_)}t&&(_._private.removed=!0)}var L=a._private.elements;a._private.hasCompoundNodes=!1;for(var N=0;N<L.length;N++){var R=L[N];if(R.isParent()){a._private.hasCompoundNodes=!0;break}}var D=new Fg(this.cy(),r);D.size()>0&&(e?D.emitAndNotify("remove"):t&&D.emit("remove"));for(var j=0;j<m.length;j++){var U=m[j];(!t||!U.removed())&&U.updateStyle()}return D};ol.move=function(e){var t=this._private.cy,n=this,r=!1,i=!1,a=function(m){return m==null?m:""+m};if(e.source!==void 0||e.target!==void 0){var s=a(e.source),u=a(e.target),f=s!=null&&t.hasElementWithId(s),d=u!=null&&t.hasElementWithId(u);(f||d)&&(t.batch(function(){n.remove(r,i),n.emitAndNotify("moveout");for(var v=0;v<n.length;v++){var m=n[v],y=m._private.data;m.isEdge()&&(f&&(y.source=s),d&&(y.target=u))}n.restore(r,i)}),n.emitAndNotify("move"))}else if(e.parent!==void 0){var c=a(e.parent),h=c===null||t.hasElementWithId(c);if(h){var p=c===null?void 0:c;t.batch(function(){var v=n.remove(r,i);v.emitAndNotify("moveout");for(var m=0;m<n.length;m++){var y=n[m],w=y._private.data;y.isNode()&&(w.parent=p)}v.restore(r,i)}),n.emitAndNotify("move")}}return this};[Rot,qGt,yte,XR,pN,lqt,Poe,Eqt,Yot,Kot,Aqt,sre,bte,Ig,ZR,Gp].forEach(function(e){oa(ol,e)});var Iqt={add:function(t){var n,r=this;if(ay(t)){var i=t;if(i._private.cy===r)n=i.restore();else{for(var a=[],s=0;s<i.length;s++){var u=i[s];a.push(u.json())}n=new Fg(r,a)}}else if(Vu(t)){var f=t;n=new Fg(r,f)}else if(ws(t)&&(Vu(t.nodes)||Vu(t.edges))){for(var d=t,c=[],h=["nodes","edges"],p=0,v=h.length;p<v;p++){var m=h[p],y=d[m];if(Vu(y))for(var w=0,_=y.length;w<_;w++){var S=oa({group:m},y[w]);c.push(S)}}n=new Fg(r,c)}else{var C=t;n=new Roe(r,C).collection()}return n},remove:function(t){if(!ay(t)){if(ji(t)){var n=t;t=this.$(n)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function Fqt(e,t,n,r){var i=4,a=.001,s=1e-7,u=10,f=11,d=1/(f-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var h=0;h<4;++h)if(typeof arguments[h]!="number"||isNaN(arguments[h])||!isFinite(arguments[h]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var p=c?new Float32Array(f):new Array(f);function v(R,D){return 1-3*D+3*R}function m(R,D){return 3*D-6*R}function y(R){return 3*R}function w(R,D,j){return((v(D,j)*R+m(D,j))*R+y(D))*R}function _(R,D,j){return 3*v(D,j)*R*R+2*m(D,j)*R+y(D)}function S(R,D){for(var j=0;j<i;++j){var U=_(D,e,n);if(U===0)return D;var H=w(D,e,n)-R;D-=H/U}return D}function C(){for(var R=0;R<f;++R)p[R]=w(R*d,e,n)}function $(R,D,j){var U,H,Y=0;do H=D+(j-D)/2,U=w(H,e,n)-R,U>0?j=H:D=H;while(Math.abs(U)>s&&++Y<u);return H}function k(R){for(var D=0,j=1,U=f-1;j!==U&&p[j]<=R;++j)D+=d;--j;var H=(R-p[j])/(p[j+1]-p[j]),Y=D+H*d,Z=_(Y,e,n);return Z>=a?S(R,Y):Z===0?Y:$(R,D,D+d)}var M=!1;function A(){M=!0,(e!==t||n!==r)&&C()}var L=function(D){return M||A(),e===t&&n===r?D:D===0?0:D===1?1:w(k(D),t,r)};L.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var N="generateBezier("+[e,t,n,r]+")";return L.toString=function(){return N},L}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var Nqt=function(){function e(r){return-r.tension*r.x-r.friction*r.v}function t(r,i,a){var s={x:r.x+a.dx*i,v:r.v+a.dv*i,tension:r.tension,friction:r.friction};return{dx:s.v,dv:e(s)}}function n(r,i){var a={dx:r.v,dv:e(r)},s=t(r,i*.5,a),u=t(r,i*.5,s),f=t(r,i,u),d=1/6*(a.dx+2*(s.dx+u.dx)+f.dx),c=1/6*(a.dv+2*(s.dv+u.dv)+f.dv);return r.x=r.x+d*i,r.v=r.v+c*i,r}return function r(i,a,s){var u={x:-1,v:0,tension:null,friction:null},f=[0],d=0,c=1/1e4,h=16/1e3,p,v,m;for(i=parseFloat(i)||500,a=parseFloat(a)||20,s=s||null,u.tension=i,u.friction=a,p=s!==null,p?(d=r(i,a),v=d/s*h):v=h;m=n(m||u,v),f.push(1+m.x),d+=16,Math.abs(m.x)>c&&Math.abs(m.v)>c;);return p?function(y){return f[y*(f.length-1)|0]}:d}}(),el=function(t,n,r,i){var a=Fqt(t,n,r,i);return function(s,u,f){return s+(u-s)*a(f)}},wte={linear:function(t,n,r){return t+(n-t)*r},ease:el(.25,.1,.25,1),"ease-in":el(.42,0,1,1),"ease-out":el(0,0,.58,1),"ease-in-out":el(.42,0,.58,1),"ease-in-sine":el(.47,0,.745,.715),"ease-out-sine":el(.39,.575,.565,1),"ease-in-out-sine":el(.445,.05,.55,.95),"ease-in-quad":el(.55,.085,.68,.53),"ease-out-quad":el(.25,.46,.45,.94),"ease-in-out-quad":el(.455,.03,.515,.955),"ease-in-cubic":el(.55,.055,.675,.19),"ease-out-cubic":el(.215,.61,.355,1),"ease-in-out-cubic":el(.645,.045,.355,1),"ease-in-quart":el(.895,.03,.685,.22),"ease-out-quart":el(.165,.84,.44,1),"ease-in-out-quart":el(.77,0,.175,1),"ease-in-quint":el(.755,.05,.855,.06),"ease-out-quint":el(.23,1,.32,1),"ease-in-out-quint":el(.86,0,.07,1),"ease-in-expo":el(.95,.05,.795,.035),"ease-out-expo":el(.19,1,.22,1),"ease-in-out-expo":el(1,0,0,1),"ease-in-circ":el(.6,.04,.98,.335),"ease-out-circ":el(.075,.82,.165,1),"ease-in-out-circ":el(.785,.135,.15,.86),spring:function(t,n,r){if(r===0)return wte.linear;var i=Nqt(t,n,r);return function(a,s,u){return a+(s-a)*i(u)}},"cubic-bezier":el};function pVe(e,t,n,r,i){if(r===1||t===n)return n;var a=i(t,n,r);return e==null||((e.roundValue||e.color)&&(a=Math.round(a)),e.min!==void 0&&(a=Math.max(a,e.min)),e.max!==void 0&&(a=Math.min(a,e.max))),a}function vVe(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function o6(e,t,n,r,i){var a=i!=null?i.type:null;n<0?n=0:n>1&&(n=1);var s=vVe(e,i),u=vVe(t,i);if($r(s)&&$r(u))return pVe(a,s,u,n,r);if(Vu(s)&&Vu(u)){for(var f=[],d=0;d<u.length;d++){var c=s[d],h=u[d];if(c!=null&&h!=null){var p=pVe(a,c,h,n,r);f.push(p)}else f.push(h)}return f}}function zqt(e,t,n,r){var i=!r,a=e._private,s=t._private,u=s.easing,f=s.startTime,d=r?e:e.cy(),c=d.style();if(!s.easingImpl)if(u==null)s.easingImpl=wte.linear;else{var h;if(ji(u)){var p=c.parse("transition-timing-function",u);h=p.value}else h=u;var v,m;ji(h)?(v=h,m=[]):(v=h[1],m=h.slice(2).map(function(oe){return+oe})),m.length>0?(v==="spring"&&m.push(s.duration),s.easingImpl=wte[v].apply(null,m)):s.easingImpl=wte[v]}var y=s.easingImpl,w;if(s.duration===0?w=1:w=(n-f)/s.duration,s.applying&&(w=s.progress),w<0?w=0:w>1&&(w=1),s.delay==null){var _=s.startPosition,S=s.position;if(S&&i&&!e.locked()){var C={};iB(_.x,S.x)&&(C.x=o6(_.x,S.x,w,y)),iB(_.y,S.y)&&(C.y=o6(_.y,S.y,w,y)),e.position(C)}var $=s.startPan,k=s.pan,M=a.pan,A=k!=null&&r;A&&(iB($.x,k.x)&&(M.x=o6($.x,k.x,w,y)),iB($.y,k.y)&&(M.y=o6($.y,k.y,w,y)),e.emit("pan"));var L=s.startZoom,N=s.zoom,R=N!=null&&r;R&&(iB(L,N)&&(a.zoom=$V(a.minZoom,o6(L,N,w,y),a.maxZoom)),e.emit("zoom")),(A||R)&&e.emit("viewport");var D=s.style;if(D&&D.length>0&&i){for(var j=0;j<D.length;j++){var U=D[j],H=U.name,Y=U,Z=s.startStyle[H],Q=c.properties[Z.name],ee=o6(Z,Y,w,y,Q);c.overrideBypass(e,H,ee)}e.emit("style")}}return s.progress=w,w}function iB(e,t){return e==null||t==null?!1:$r(e)&&$r(t)?!0:!!(e&&t)}function jqt(e,t,n,r){var i=t._private;i.started=!0,i.startTime=n-i.progress*i.duration}function mVe(e,t){var n=t._private.aniEles,r=[];function i(c,h){var p=c._private,v=p.animation.current,m=p.animation.queue,y=!1;if(v.length===0){var w=m.shift();w&&v.push(w)}for(var _=function(M){for(var A=M.length-1;A>=0;A--){var L=M[A];L()}M.splice(0,M.length)},S=v.length-1;S>=0;S--){var C=v[S],$=C._private;if($.stopped){v.splice(S,1),$.hooked=!1,$.playing=!1,$.started=!1,_($.frames);continue}!$.playing&&!$.applying||($.playing&&$.applying&&($.applying=!1),$.started||jqt(c,C,e),zqt(c,C,e,h),$.applying&&($.applying=!1),_($.frames),$.step!=null&&$.step(e),C.completed()&&(v.splice(S,1),$.hooked=!1,$.playing=!1,$.started=!1,_($.completes)),y=!0)}return!h&&v.length===0&&m.length===0&&r.push(c),y}for(var a=!1,s=0;s<n.length;s++){var u=n[s],f=i(u);a=a||f}var d=i(t,!0);(a||d)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var Bqt={animate:ou.animate(),animation:ou.animation(),animated:ou.animated(),clearQueue:ou.clearQueue(),delay:ou.delay(),delayAnimation:ou.delayAnimation(),stop:ou.stop(),addToAnimationPool:function(t){var n=this;n.styleEnabled()&&n._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function n(){t._private.animationsRunning&&ire(function(a){mVe(a,t),n()})}var r=t.renderer();r&&r.beforeRender?r.beforeRender(function(a,s){mVe(s,t)},r.beforeRenderPriorities.animations):n()}},Hqt={qualifierCompare:function(t,n){return t==null||n==null?t==null&&n==null:t.sameText(n)},eventMatches:function(t,n,r){var i=n.qualifier;return i!=null?t!==r.target&&iG(r.target)&&i.matches(r.target):!0},addEventFields:function(t,n){n.cy=t,n.target=t},callbackContext:function(t,n,r){return n.qualifier!=null?r.target:t}},EJ=function(t){return ji(t)?new b3(t):t},Qot={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new Loe(Hqt,this)),this},emitter:function(){return this._private.emitter},on:function(t,n,r){return this.emitter().on(t,EJ(n),r),this},removeListener:function(t,n,r){return this.emitter().removeListener(t,EJ(n),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,n,r){return this.emitter().one(t,EJ(n),r),this},once:function(t,n,r){return this.emitter().one(t,EJ(n),r),this},emit:function(t,n){return this.emitter().emit(t,n),this},emitAndNotify:function(t,n){return this.emit(t),this.notify(t,n),this}};ou.eventAliasesOn(Qot);var o_e={png:function(t){var n=this._private.renderer;return t=t||{},n.png(t)},jpg:function(t){var n=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",n.jpg(t)}};o_e.jpeg=o_e.jpg;var _te={layout:function(t){var n=this;if(t==null){gf("Layout options must be specified to make a layout");return}if(t.name==null){gf("A `name` must be specified to make a layout");return}var r=t.name,i=n.extension("layout",r);if(i==null){gf("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var a;ji(t.eles)?a=n.$(t.eles):a=t.eles!=null?t.eles:n.$();var s=new i(oa({},t,{cy:n,eles:a}));return s}};_te.createLayout=_te.makeLayout=_te.layout;var Uqt={notify:function(t,n){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var i=r.batchNotifications[t]=r.batchNotifications[t]||this.collection();n!=null&&i.merge(n);return}if(r.notificationsEnabled){var a=this.renderer();this.destroyed()||!a||a.notify(t,n)}},notifications:function(t){var n=this._private;return t===void 0?n.notificationsEnabled:(n.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var n=this.renderer();Object.keys(t.batchNotifications).forEach(function(r){var i=t.batchNotifications[r];i.empty()?n.notify(r):n.notify(r,i)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var n=this;return this.batch(function(){for(var r=Object.keys(t),i=0;i<r.length;i++){var a=r[i],s=t[a],u=n.getElementById(a);u.data(s)}})}},Vqt=Ug({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),s_e={renderTo:function(t,n,r,i){var a=this._private.renderer;return a.renderTo(t,n,r,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var n=this,r=n.extension("renderer",t.name);if(r==null){gf("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&su("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=Vqt(t);i.cy=n,n._private.renderer=new r(i),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var n=t.container();if(n)for(n._cyreg=null;n.childNodes.length>0;)n.removeChild(n.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(r){var i=r._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};s_e.invalidateDimensions=s_e.resize;var xte={collection:function(t,n){return ji(t)?this.$(t):ay(t)?t.collection():Vu(t)?(n||(n={}),new Fg(this,t,n.unique,n.removed)):new Fg(this)},nodes:function(t){var n=this.$(function(r){return r.isNode()});return t?n.filter(t):n},edges:function(t){var n=this.$(function(r){return r.isEdge()});return t?n.filter(t):n},$:function(t){var n=this._private.elements;return t?n.filter(t):n.spawnSelf()},mutableElements:function(){return this._private.elements}};xte.elements=xte.filter=xte.$;var e0={},sU="t",Wqt="f";e0.apply=function(e){for(var t=this,n=t._private,r=n.cy,i=r.collection(),a=0;a<e.length;a++){var s=e[a],u=t.getContextMeta(s);if(!u.empty){var f=t.getContextStyle(u),d=t.applyContextStyle(u,f,s);s._private.appliedInitStyle?t.updateTransitions(s,d.diffProps):s._private.appliedInitStyle=!0;var c=t.updateStyleHints(s);c&&i.push(s)}}return i};e0.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=e+"-"+t,a=r[i];if(a)return a;for(var s=[],u={},f=0;f<n.length;f++){var d=n[f],c=e[f]===sU,h=t[f]===sU,p=c!==h,v=d.mappedProperties.length>0;if(p||h&&v){var m=void 0;p&&v||p?m=d.properties:v&&(m=d.mappedProperties);for(var y=0;y<m.length;y++){for(var w=m[y],_=w.name,S=!1,C=f+1;C<n.length;C++){var $=n[C],k=t[C]===sU;if(k&&(S=$.properties[w.name]!=null,S))break}!u[_]&&!S&&(u[_]=!0,s.push(_))}}}return r[i]=s,s};e0.getContextMeta=function(e){for(var t=this,n="",r,i=e._private.styleCxtKey||"",a=0;a<t.length;a++){var s=t[a],u=s.selector&&s.selector.matches(e);u?n+=sU:n+=Wqt}return r=t.getPropertiesDiff(i,n),e._private.styleCxtKey=n,{key:n,diffPropNames:r,empty:r.length===0}};e0.getContextStyle=function(e){var t=e.key,n=this,r=this._private.contextStyles=this._private.contextStyles||{};if(r[t])return r[t];for(var i={_private:{key:t}},a=0;a<n.length;a++){var s=n[a],u=t[a]===sU;if(u)for(var f=0;f<s.properties.length;f++){var d=s.properties[f];i[d.name]=d}}return r[t]=i,i};e0.applyContextStyle=function(e,t,n){for(var r=this,i=e.diffPropNames,a={},s=r.types,u=0;u<i.length;u++){var f=i[u],d=t[f],c=n.pstyle(f);if(!d)if(c)c.bypass?d={name:f,deleteBypassed:!0}:d={name:f,delete:!0};else continue;if(c!==d){if(d.mapped===s.fn&&c!=null&&c.mapping!=null&&c.mapping.value===d.value){var h=c.mapping,p=h.fnValue=d.value(n);if(p===h.prevFnValue)continue}var v=a[f]={prev:c};r.applyParsedProperty(n,d),v.next=n.pstyle(f),v.next&&v.next.bypass&&(v.next=v.next.bypassed)}}return{diffProps:a}};e0.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,a=function(We,Me,He){return n.getPropertiesHash(We,Me,He)},s=t.styleKey;if(e.removed())return!1;var u=t.group==="nodes",f=e._private.style;r=Object.keys(f);for(var d=0;d<i.length;d++){var c=i[d];t.styleKeys[c]=[J6,aH]}for(var h=function(We,Me){return t.styleKeys[Me][0]=SV(We,t.styleKeys[Me][0])},p=function(We,Me){return t.styleKeys[Me][1]=EV(We,t.styleKeys[Me][1])},v=function(We,Me){h(We,Me),p(We,Me)},m=function(We,Me){for(var He=0;He<We.length;He++){var gt=We.charCodeAt(He);h(gt,Me),p(gt,Me)}},y=2e9,w=function(We){return-128<We&&We<128&&Math.floor(We)!==We?y-(We*1024|0):We},_=0;_<r.length;_++){var S=r[_],C=f[S];if(C!=null){var $=this.properties[S],k=$.type,M=$.groupKey,A=void 0;$.hashOverride!=null?A=$.hashOverride(e,C):C.pfValue!=null&&(A=C.pfValue);var L=$.enums==null?C.value:null,N=A!=null,R=L!=null,D=N||R,j=C.units;if(k.number&&D&&!k.multiple){var U=N?A:L;v(w(U),M),!N&&j!=null&&m(j,M)}else m(C.strValue,M)}}for(var H=[J6,aH],Y=0;Y<i.length;Y++){var Z=i[Y],Q=t.styleKeys[Z];H[0]=SV(Q[0],H[0]),H[1]=EV(Q[1],H[1])}t.styleKey=aWt(H[0],H[1]);var ee=t.styleKeys;t.labelDimsKey=MA(ee.labelDimensions);var oe=a(e,["label"],ee.labelDimensions);if(t.labelKey=MA(oe),t.labelStyleKey=MA(pJ(ee.commonLabel,oe)),!u){var ue=a(e,["source-label"],ee.labelDimensions);t.sourceLabelKey=MA(ue),t.sourceLabelStyleKey=MA(pJ(ee.commonLabel,ue));var ve=a(e,["target-label"],ee.labelDimensions);t.targetLabelKey=MA(ve),t.targetLabelStyleKey=MA(pJ(ee.commonLabel,ve))}if(u){var le=t.styleKeys,de=le.nodeBody,me=le.nodeBorder,Se=le.backgroundImage,Ee=le.compound,xe=le.pie,Ie=[de,me,Se,Ee,xe].filter(function(Ne){return Ne!=null}).reduce(pJ,[J6,aH]);t.nodeKey=MA(Ie),t.hasPie=xe!=null&&xe[0]!==J6&&xe[1]!==aH}return s!==t.styleKey};e0.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null};e0.applyParsedProperty=function(e,t){var n=this,r=t,i=e._private.style,a,s=n.types,u=n.properties[r.name].type,f=r.bypass,d=i[r.name],c=d&&d.bypass,h=e._private,p="mapping",v=function(de){return de==null?null:de.pfValue!=null?de.pfValue:de.value},m=function(){var de=v(d),me=v(r);n.checkTriggers(e,r.name,de,me)};if(r&&r.name.substr(0,3)==="pie"&&su("The pie style properties are deprecated.  Create charts using background images instead."),t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(r=t=this.parse(t.name,"bezier",f)),r.delete)return i[r.name]=void 0,m(),!0;if(r.deleteBypassed)return d?d.bypass?(d.bypassed=void 0,m(),!0):!1:(m(),!0);if(r.deleteBypass)return d?d.bypass?(i[r.name]=d.bypassed,m(),!0):!1:(m(),!0);var y=function(){su("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case s.mapData:{for(var w=r.field.split("."),_=h.data,S=0;S<w.length&&_;S++){var C=w[S];_=_[C]}if(_==null)return y(),!1;var $;if($r(_)){var k=r.fieldMax-r.fieldMin;k===0?$=0:$=(_-r.fieldMin)/k}else return su("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+_+"` for `"+e.id()+"` is non-numeric)"),!1;if($<0?$=0:$>1&&($=1),u.color){var M=r.valueMin[0],A=r.valueMax[0],L=r.valueMin[1],N=r.valueMax[1],R=r.valueMin[2],D=r.valueMax[2],j=r.valueMin[3]==null?1:r.valueMin[3],U=r.valueMax[3]==null?1:r.valueMax[3],H=[Math.round(M+(A-M)*$),Math.round(L+(N-L)*$),Math.round(R+(D-R)*$),Math.round(j+(U-j)*$)];a={bypass:r.bypass,name:r.name,value:H,strValue:"rgb("+H[0]+", "+H[1]+", "+H[2]+")"}}else if(u.number){var Y=r.valueMin+(r.valueMax-r.valueMin)*$;a=this.parse(r.name,Y,r.bypass,p)}else return!1;if(!a)return y(),!1;a.mapping=r,r=a;break}case s.data:{for(var Z=r.field.split("."),Q=h.data,ee=0;ee<Z.length&&Q;ee++){var oe=Z[ee];Q=Q[oe]}if(Q!=null&&(a=this.parse(r.name,Q,r.bypass,p)),!a)return y(),!1;a.mapping=r,r=a;break}case s.fn:{var ue=r.value,ve=r.fnValue!=null?r.fnValue:ue(e);if(r.prevFnValue=ve,ve==null)return su("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+e.id()+"` is null)"),!1;if(a=this.parse(r.name,ve,r.bypass,p),!a)return su("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+e.id()+"` is invalid)"),!1;a.mapping=LS(r),r=a;break}case void 0:break;default:return!1}return f?(c?r.bypassed=d.bypassed:r.bypassed=d,i[r.name]=r):c?d.bypassed=r:i[r.name]=r,m(),!0};e0.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),!t)r._private.style={};else for(var i=r._private.style,a=Object.keys(i),s=0;s<a.length;s++){var u=a[s],f=i[u];f!=null&&(f.bypass?f.bypassed=null:i[u]=null)}}};e0.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};e0.updateTransitions=function(e,t){var n=this,r=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,s=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var u={},f=!1,d=0;d<i.length;d++){var c=i[d],h=e.pstyle(c),p=t[c];if(p){var v=p.prev,m=v,y=p.next!=null?p.next:h,w=!1,_=void 0,S=1e-6;m&&($r(m.pfValue)&&$r(y.pfValue)?(w=y.pfValue-m.pfValue,_=m.pfValue+S*w):$r(m.value)&&$r(y.value)?(w=y.value-m.value,_=m.value+S*w):Vu(m.value)&&Vu(y.value)&&(w=m.value[0]!==y.value[0]||m.value[1]!==y.value[1]||m.value[2]!==y.value[2],_=m.strValue),w&&(u[c]=y.strValue,this.applyBypass(e,c,_),f=!0))}}if(!f)return;r.transitioning=!0,new F8(function(C){s>0?e.delayAnimation(s).play().promise().then(C):C()}).then(function(){return e.animation({style:u,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){n.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1})}else r.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1)};e0.checkTrigger=function(e,t,n,r,i,a){var s=this.properties[t],u=i(s);u!=null&&u(n,r)&&a(s)};e0.checkZOrderTrigger=function(e,t,n,r){var i=this;this.checkTrigger(e,t,n,r,function(a){return a.triggersZOrder},function(){i._private.cy.notify("zorder",e)})};e0.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,function(i){return i.triggersBounds},function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),i.triggersBoundsOfParallelBeziers&&(t==="curve-style"&&(n==="bezier"||r==="bezier")||t==="display"&&(n==="none"||r==="none"))&&e.parallelEdges().forEach(function(a){a.isBundledBezier()&&a.dirtyBoundingBoxCache()})})};e0.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r)};var sG={};sG.applyBypass=function(e,t,n,r){var i=this,a=[],s=!0;if(t==="*"||t==="**"){if(n!==void 0)for(var u=0;u<i.properties.length;u++){var f=i.properties[u],d=f.name,c=this.parse(d,n,!0);c&&a.push(c)}}else if(ji(t)){var h=this.parse(t,n,!0);h&&a.push(h)}else if(ws(t)){var p=t;r=n;for(var v=Object.keys(p),m=0;m<v.length;m++){var y=v[m],w=p[y];if(w===void 0&&(w=p[Aoe(y)]),w!==void 0){var _=this.parse(y,w,!0);_&&a.push(_)}}}else return!1;if(a.length===0)return!1;for(var S=!1,C=0;C<e.length;C++){for(var $=e[C],k={},M=void 0,A=0;A<a.length;A++){var L=a[A];if(r){var N=$.pstyle(L.name);M=k[L.name]={prev:N}}S=this.applyParsedProperty($,LS(L))||S,r&&(M.next=$.pstyle(L.name))}S&&this.updateStyleHints($),r&&this.updateTransitions($,k,s)}return S};sG.overrideBypass=function(e,t,n){t=tke(t);for(var r=0;r<e.length;r++){var i=e[r],a=i._private.style[t],s=this.properties[t].type,u=s.color,f=s.mutiple,d=a?a.pfValue!=null?a.pfValue:a.value:null;!a||!a.bypass?this.applyBypass(i,t,n):(a.value=n,a.pfValue!=null&&(a.pfValue=n),u?a.strValue="rgb("+n.join(",")+")":f?a.strValue=n.join(" "):a.strValue=""+n,this.updateStyleHints(i)),this.checkTriggers(i,t,d,n)}};sG.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};sG.removeBypasses=function(e,t,n){for(var r=!0,i=0;i<e.length;i++){for(var a=e[i],s={},u=0;u<t.length;u++){var f=t[u],d=this.properties[f],c=a.pstyle(d.name);if(!(!c||!c.bypass)){var h="",p=this.parse(f,h,!0),v=s[d.name]={prev:c};this.applyParsedProperty(a,p),v.next=a.pstyle(d.name)}}this.updateStyleHints(a),n&&this.updateTransitions(a,s,r)}};var dke={};dke.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};dke.containerCss=function(e){var t=this._private.cy,n=t.container();if(Ql&&n&&Ql.getComputedStyle)return Ql.getComputedStyle(n).getPropertyValue(e)};var uE={};uE.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};uE.getRawStyle=function(e,t){var n=this;if(e=e[0],e){for(var r={},i=0;i<n.properties.length;i++){var a=n.properties[i],s=n.getStylePropertyValue(e,a.name,t);s!=null&&(r[a.name]=s,r[Aoe(a.name)]=s)}return r}};uE.getIndexedStyle=function(e,t,n,r){var i=e.pstyle(t)[n][r];return i??e.cy().style().getDefaultProperty(t)[n][0]};uE.getStylePropertyValue=function(e,t,n){var r=this;if(e=e[0],e){var i=r.properties[t];i.alias&&(i=i.pointsTo);var a=i.type,s=e.pstyle(i.name);if(s){var u=s.value,f=s.units,d=s.strValue;if(n&&a.number&&u!=null&&$r(u)){var c=e.cy().zoom(),h=function(w){return w*c},p=function(w,_){return h(w)+_},v=Vu(u),m=v?f.every(function(y){return y!=null}):f!=null;return m?v?u.map(function(y,w){return p(y,f[w])}).join(" "):p(u,f):v?u.map(function(y){return ji(y)?y:""+h(y)}).join(" "):""+h(u)}else if(d!=null)return d}return null}};uE.getAnimationStartStyle=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],a=i.name,s=e.pstyle(a);s!==void 0&&(ws(s)?s=this.parse(a,s.strValue):s=this.parse(a,s)),s&&(n[a]=s)}return n};uE.getPropsList=function(e){var t=this,n=[],r=e,i=t.properties;if(r)for(var a=Object.keys(r),s=0;s<a.length;s++){var u=a[s],f=r[u],d=i[u]||i[tke(u)],c=this.parse(d.name,f);c&&n.push(c)}return n};uE.getNonDefaultPropertiesHash=function(e,t,n){var r=n.slice(),i,a,s,u,f,d;for(f=0;f<t.length;f++)if(i=t[f],a=e.pstyle(i,!1),a!=null)if(a.pfValue!=null)r[0]=SV(u,r[0]),r[1]=EV(u,r[1]);else for(s=a.strValue,d=0;d<s.length;d++)u=s.charCodeAt(d),r[0]=SV(u,r[0]),r[1]=EV(u,r[1]);return r};uE.getPropertiesHash=uE.getNonDefaultPropertiesHash;var Foe={};Foe.appendFromJson=function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],i=r.selector,a=r.style||r.css,s=Object.keys(a);t.selector(i);for(var u=0;u<s.length;u++){var f=s[u],d=a[f];t.css(f,d)}}return t};Foe.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};Foe.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,a={},s=0;s<i.length;s++){var u=i[s];a[u.name]=u.strValue}e.push({selector:r?r.toString():"core",style:a})}return e};var hke={};hke.appendFromString=function(e){var t=this,n=this,r=""+e,i,a,s;r=r.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){r.length>i.length?r=r.substr(i.length):r=""}function f(){a.length>s.length?a=a.substr(s.length):a=""}for(;;){var d=r.match(/^\s*$/);if(d)break;var c=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){su("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}i=c[0];var h=c[1];if(h!=="core"){var p=new b3(h);if(p.invalid){su("Skipping parsing of block: Invalid selector found in string stylesheet: "+h),u();continue}}var v=c[2],m=!1;a=v;for(var y=[];;){var w=a.match(/^\s*$/);if(w)break;var _=a.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!_){su("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+v),m=!0;break}s=_[0];var S=_[1],C=_[2],$=t.properties[S];if(!$){su("Skipping property: Invalid property name in: "+s),f();continue}var k=n.parse(S,C);if(!k){su("Skipping property: Invalid property definition in: "+s),f();continue}y.push({name:S,val:C}),f()}if(m){u();break}n.selector(h);for(var M=0;M<y.length;M++){var A=y[M];n.css(A.name,A.val)}u()}return n};hke.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var Rg={};(function(){var e=Ud,t=GVt,n=YVt,r=KVt,i=XVt,a=function(Ie){return"^"+Ie+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(Ie){var Ne=e+"|\\w+|"+t+"|"+n+"|"+r+"|"+i;return"^"+Ie+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+Ne+")\\s*\\,\\s*("+Ne+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Rg.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:a("data")},layoutData:{mapping:!0,regex:a("layoutData")},scratch:{mapping:!0,regex:a("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(Ie,Ne){switch(Ie.length){case 2:return Ne[0]!=="deg"&&Ne[0]!=="rad"&&Ne[1]!=="deg"&&Ne[1]!=="rad";case 1:return ji(Ie[0])||Ne[0]==="deg"||Ne[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(Ie){var Ne=Ie.length;return Ne===1||Ne===2||Ne===4}}};var f={zeroNonZero:function(Ie,Ne){return(Ie==null||Ne==null)&&Ie!==Ne||Ie==0&&Ne!=0?!0:Ie!=0&&Ne==0},any:function(Ie,Ne){return Ie!=Ne},emptyNonEmpty:function(Ie,Ne){var We=m3(Ie),Me=m3(Ne);return We&&!Me||!We&&Me}},d=Rg.types,c=[{name:"label",type:d.text,triggersBounds:f.any,triggersZOrder:f.emptyNonEmpty},{name:"text-rotation",type:d.textRotation,triggersBounds:f.any},{name:"text-margin-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"text-margin-y",type:d.bidirectionalSize,triggersBounds:f.any}],h=[{name:"source-label",type:d.text,triggersBounds:f.any},{name:"source-text-rotation",type:d.textRotation,triggersBounds:f.any},{name:"source-text-margin-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"source-text-margin-y",type:d.bidirectionalSize,triggersBounds:f.any},{name:"source-text-offset",type:d.size,triggersBounds:f.any}],p=[{name:"target-label",type:d.text,triggersBounds:f.any},{name:"target-text-rotation",type:d.textRotation,triggersBounds:f.any},{name:"target-text-margin-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"target-text-margin-y",type:d.bidirectionalSize,triggersBounds:f.any},{name:"target-text-offset",type:d.size,triggersBounds:f.any}],v=[{name:"font-family",type:d.fontFamily,triggersBounds:f.any},{name:"font-style",type:d.fontStyle,triggersBounds:f.any},{name:"font-weight",type:d.fontWeight,triggersBounds:f.any},{name:"font-size",type:d.size,triggersBounds:f.any},{name:"text-transform",type:d.textTransform,triggersBounds:f.any},{name:"text-wrap",type:d.textWrap,triggersBounds:f.any},{name:"text-overflow-wrap",type:d.textOverflowWrap,triggersBounds:f.any},{name:"text-max-width",type:d.size,triggersBounds:f.any},{name:"text-outline-width",type:d.size,triggersBounds:f.any},{name:"line-height",type:d.positiveNumber,triggersBounds:f.any}],m=[{name:"text-valign",type:d.valign,triggersBounds:f.any},{name:"text-halign",type:d.halign,triggersBounds:f.any},{name:"color",type:d.color},{name:"text-outline-color",type:d.color},{name:"text-outline-opacity",type:d.zeroOneNumber},{name:"text-background-color",type:d.color},{name:"text-background-opacity",type:d.zeroOneNumber},{name:"text-background-padding",type:d.size,triggersBounds:f.any},{name:"text-border-opacity",type:d.zeroOneNumber},{name:"text-border-color",type:d.color},{name:"text-border-width",type:d.size,triggersBounds:f.any},{name:"text-border-style",type:d.borderStyle,triggersBounds:f.any},{name:"text-background-shape",type:d.textBackgroundShape,triggersBounds:f.any},{name:"text-justification",type:d.justification}],y=[{name:"events",type:d.bool},{name:"text-events",type:d.bool}],w=[{name:"display",type:d.display,triggersZOrder:f.any,triggersBounds:f.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:d.visibility,triggersZOrder:f.any},{name:"opacity",type:d.zeroOneNumber,triggersZOrder:f.zeroNonZero},{name:"text-opacity",type:d.zeroOneNumber},{name:"min-zoomed-font-size",type:d.size},{name:"z-compound-depth",type:d.zCompoundDepth,triggersZOrder:f.any},{name:"z-index-compare",type:d.zIndexCompare,triggersZOrder:f.any},{name:"z-index",type:d.nonNegativeInt,triggersZOrder:f.any}],_=[{name:"overlay-padding",type:d.size,triggersBounds:f.any},{name:"overlay-color",type:d.color},{name:"overlay-opacity",type:d.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"overlay-shape",type:d.overlayShape,triggersBounds:f.any}],S=[{name:"underlay-padding",type:d.size,triggersBounds:f.any},{name:"underlay-color",type:d.color},{name:"underlay-opacity",type:d.zeroOneNumber,triggersBounds:f.zeroNonZero},{name:"underlay-shape",type:d.overlayShape,triggersBounds:f.any}],C=[{name:"transition-property",type:d.propList},{name:"transition-duration",type:d.time},{name:"transition-delay",type:d.time},{name:"transition-timing-function",type:d.easing}],$=function(Ie,Ne){return Ne.value==="label"?-Ie.poolIndex():Ne.pfValue},k=[{name:"height",type:d.nodeSize,triggersBounds:f.any,hashOverride:$},{name:"width",type:d.nodeSize,triggersBounds:f.any,hashOverride:$},{name:"shape",type:d.nodeShape,triggersBounds:f.any},{name:"shape-polygon-points",type:d.polygonPointList,triggersBounds:f.any},{name:"background-color",type:d.color},{name:"background-fill",type:d.fill},{name:"background-opacity",type:d.zeroOneNumber},{name:"background-blacken",type:d.nOneOneNumber},{name:"background-gradient-stop-colors",type:d.colors},{name:"background-gradient-stop-positions",type:d.percentages},{name:"background-gradient-direction",type:d.gradientDirection},{name:"padding",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"padding-relative-to",type:d.paddingRelativeTo,triggersBounds:f.any},{name:"bounds-expansion",type:d.boundsExpansion,triggersBounds:f.any}],M=[{name:"border-color",type:d.color},{name:"border-opacity",type:d.zeroOneNumber},{name:"border-width",type:d.size,triggersBounds:f.any},{name:"border-style",type:d.borderStyle}],A=[{name:"background-image",type:d.urls},{name:"background-image-crossorigin",type:d.bgCrossOrigin},{name:"background-image-opacity",type:d.zeroOneNumbers},{name:"background-image-containment",type:d.bgContainment},{name:"background-image-smoothing",type:d.bools},{name:"background-position-x",type:d.bgPos},{name:"background-position-y",type:d.bgPos},{name:"background-width-relative-to",type:d.bgRelativeTo},{name:"background-height-relative-to",type:d.bgRelativeTo},{name:"background-repeat",type:d.bgRepeat},{name:"background-fit",type:d.bgFit},{name:"background-clip",type:d.bgClip},{name:"background-width",type:d.bgWH},{name:"background-height",type:d.bgWH},{name:"background-offset-x",type:d.bgPos},{name:"background-offset-y",type:d.bgPos}],L=[{name:"position",type:d.position,triggersBounds:f.any},{name:"compound-sizing-wrt-labels",type:d.compoundIncludeLabels,triggersBounds:f.any},{name:"min-width",type:d.size,triggersBounds:f.any},{name:"min-width-bias-left",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"min-width-bias-right",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"min-height",type:d.size,triggersBounds:f.any},{name:"min-height-bias-top",type:d.sizeMaybePercent,triggersBounds:f.any},{name:"min-height-bias-bottom",type:d.sizeMaybePercent,triggersBounds:f.any}],N=[{name:"line-style",type:d.lineStyle},{name:"line-color",type:d.color},{name:"line-fill",type:d.fill},{name:"line-cap",type:d.lineCap},{name:"line-opacity",type:d.zeroOneNumber},{name:"line-dash-pattern",type:d.numbers},{name:"line-dash-offset",type:d.number},{name:"line-gradient-stop-colors",type:d.colors},{name:"line-gradient-stop-positions",type:d.percentages},{name:"curve-style",type:d.curveStyle,triggersBounds:f.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:d.zeroOneNumber,triggersBounds:f.any},{name:"source-endpoint",type:d.edgeEndpoint,triggersBounds:f.any},{name:"target-endpoint",type:d.edgeEndpoint,triggersBounds:f.any},{name:"control-point-step-size",type:d.size,triggersBounds:f.any},{name:"control-point-distances",type:d.bidirectionalSizes,triggersBounds:f.any},{name:"control-point-weights",type:d.numbers,triggersBounds:f.any},{name:"segment-distances",type:d.bidirectionalSizes,triggersBounds:f.any},{name:"segment-weights",type:d.numbers,triggersBounds:f.any},{name:"taxi-turn",type:d.bidirectionalSizeMaybePercent,triggersBounds:f.any},{name:"taxi-turn-min-distance",type:d.size,triggersBounds:f.any},{name:"taxi-direction",type:d.axisDirection,triggersBounds:f.any},{name:"edge-distances",type:d.edgeDistances,triggersBounds:f.any},{name:"arrow-scale",type:d.positiveNumber,triggersBounds:f.any},{name:"loop-direction",type:d.angle,triggersBounds:f.any},{name:"loop-sweep",type:d.angle,triggersBounds:f.any},{name:"source-distance-from-node",type:d.size,triggersBounds:f.any},{name:"target-distance-from-node",type:d.size,triggersBounds:f.any}],R=[{name:"ghost",type:d.bool,triggersBounds:f.any},{name:"ghost-offset-x",type:d.bidirectionalSize,triggersBounds:f.any},{name:"ghost-offset-y",type:d.bidirectionalSize,triggersBounds:f.any},{name:"ghost-opacity",type:d.zeroOneNumber}],D=[{name:"selection-box-color",type:d.color},{name:"selection-box-opacity",type:d.zeroOneNumber},{name:"selection-box-border-color",type:d.color},{name:"selection-box-border-width",type:d.size},{name:"active-bg-color",type:d.color},{name:"active-bg-opacity",type:d.zeroOneNumber},{name:"active-bg-size",type:d.size},{name:"outside-texture-bg-color",type:d.color},{name:"outside-texture-bg-opacity",type:d.zeroOneNumber}],j=[];Rg.pieBackgroundN=16,j.push({name:"pie-size",type:d.sizeMaybePercent});for(var U=1;U<=Rg.pieBackgroundN;U++)j.push({name:"pie-"+U+"-background-color",type:d.color}),j.push({name:"pie-"+U+"-background-size",type:d.percent}),j.push({name:"pie-"+U+"-background-opacity",type:d.zeroOneNumber});var H=[],Y=Rg.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:d.arrowShape,triggersBounds:f.any},{name:"arrow-color",type:d.color},{name:"arrow-fill",type:d.arrowFill}].forEach(function(xe){Y.forEach(function(Ie){var Ne=Ie+"-"+xe.name,We=xe.type,Me=xe.triggersBounds;H.push({name:Ne,type:We,triggersBounds:Me})})},{});var Z=Rg.properties=[].concat(y,C,w,_,S,R,m,v,c,h,p,k,M,A,j,L,N,H,D),Q=Rg.propertyGroups={behavior:y,transition:C,visibility:w,overlay:_,underlay:S,ghost:R,commonLabel:m,labelDimensions:v,mainLabel:c,sourceLabel:h,targetLabel:p,nodeBody:k,nodeBorder:M,backgroundImage:A,pie:j,compound:L,edgeLine:N,edgeArrow:H,core:D},ee=Rg.propertyGroupNames={},oe=Rg.propertyGroupKeys=Object.keys(Q);oe.forEach(function(xe){ee[xe]=Q[xe].map(function(Ie){return Ie.name}),Q[xe].forEach(function(Ie){return Ie.groupKey=xe})});var ue=Rg.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Rg.propertyNames=Z.map(function(xe){return xe.name});for(var ve=0;ve<Z.length;ve++){var le=Z[ve];Z[le.name]=le}for(var de=0;de<ue.length;de++){var me=ue[de],Se=Z[me.pointsTo],Ee={name:me.name,alias:!0,pointsTo:Se};Z.push(Ee),Z[me.name]=Ee}})();Rg.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};Rg.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=oa({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(f,d){for(var c=1;c<=Rg.pieBackgroundN;c++){var h=d.name.replace("{{i}}",c),p=d.value;f[h]=p}return f},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(f,d){return Rg.arrowPrefixes.forEach(function(c){var h=c+"-"+d.name,p=d.value;f[h]=p}),f},{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var a=i.name,s=t[a],u=this.parse(a,s);n[a]=u}}return e.defaultProperties=n,e.defaultProperties};Rg.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Noe={};Noe.parse=function(e,t,n,r){var i=this;if(Dc(t))return i.parseImplWarn(e,t,n,r);var a=r==="mapping"||r===!0||r===!1||r==null?"dontcare":r,s=n?"t":"f",u=""+t,f=hot(e,u,s,a),d=i.propCache=i.propCache||[],c;return(c=d[f])||(c=d[f]=i.parseImplWarn(e,t,n,r)),(n||r==="mapping")&&(c=LS(c),c&&(c.value=LS(c.value))),c};Noe.parseImplWarn=function(e,t,n,r){var i=this.parseImpl(e,t,n,r);return!i&&t!=null&&su("The style property `".concat(e,": ").concat(t,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&t==="label"&&su("The style value of `label` is deprecated for `"+i.name+"`"),i};Noe.parseImpl=function(e,t,n,r){var i=this;e=tke(e);var a=i.properties[e],s=t,u=i.types;if(!a||t===void 0)return null;a.alias&&(a=a.pointsTo,e=a.name);var f=ji(t);f&&(t=t.trim());var d=a.type;if(!d)return null;if(n&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(Dc(t))return{name:e,value:t,strValue:"fn",mapped:u.fn,bypass:n};var c,h;if(!(!f||r||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(c=new RegExp(u.data.regex).exec(t))){if(n)return!1;var p=u.data;return{name:e,value:c,strValue:""+t,mapped:p,field:c[1],bypass:n}}else if(t.length>=10&&t[0]==="m"&&(h=new RegExp(u.mapData.regex).exec(t))){if(n||d.multiple)return!1;var v=u.mapData;if(!(d.color||d.number))return!1;var m=this.parse(e,h[4]);if(!m||m.mapped)return!1;var y=this.parse(e,h[5]);if(!y||y.mapped)return!1;if(m.pfValue===y.pfValue||m.strValue===y.strValue)return su("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+m.strValue+"`"),this.parse(e,m.strValue);if(d.color){var w=m.value,_=y.value,S=w[0]===_[0]&&w[1]===_[1]&&w[2]===_[2]&&(w[3]===_[3]||(w[3]==null||w[3]===1)&&(_[3]==null||_[3]===1));if(S)return!1}return{name:e,value:h,strValue:""+t,mapped:v,field:h[1],fieldMin:parseFloat(h[2]),fieldMax:parseFloat(h[3]),valueMin:m.value,valueMax:y.value,bypass:n}}}if(d.multiple&&r!=="multiple"){var C;if(f?C=t.split(/\s+/):Vu(t)?C=t:C=[t],d.evenMultiple&&C.length%2!==0)return null;for(var $=[],k=[],M=[],A="",L=!1,N=0;N<C.length;N++){var R=i.parse(e,C[N],n,"multiple");L=L||ji(R.value),$.push(R.value),M.push(R.pfValue!=null?R.pfValue:R.value),k.push(R.units),A+=(N>0?" ":"")+R.strValue}return d.validate&&!d.validate($,k)?null:d.singleEnum&&L?$.length===1&&ji($[0])?{name:e,value:$[0],strValue:$[0],bypass:n}:null:{name:e,value:$,pfValue:M,strValue:A,bypass:n,units:k}}var D=function(){for(var Ne=0;Ne<d.enums.length;Ne++){var We=d.enums[Ne];if(We===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(d.number){var j,U="px";if(d.units&&(j=d.units),d.implicitUnits&&(U=d.implicitUnits),!d.unitless)if(f){var H="px|em"+(d.allowPercent?"|\\%":"");j&&(H=j);var Y=t.match("^("+Ud+")("+H+")?$");Y&&(t=Y[1],j=Y[2]||U)}else(!j||d.implicitUnits)&&(j=U);if(t=parseFloat(t),isNaN(t)&&d.enums===void 0)return null;if(isNaN(t)&&d.enums!==void 0)return t=s,D();if(d.integer&&!zVt(t)||d.min!==void 0&&(t<d.min||d.strictMin&&t===d.min)||d.max!==void 0&&(t>d.max||d.strictMax&&t===d.max))return null;var Z={name:e,value:t,strValue:""+t+(j||""),units:j,bypass:n};return d.unitless||j!=="px"&&j!=="em"?Z.pfValue=t:Z.pfValue=j==="px"||!j?t:this.getEmSizeInPixels()*t,(j==="ms"||j==="s")&&(Z.pfValue=j==="ms"?t:1e3*t),(j==="deg"||j==="rad")&&(Z.pfValue=j==="rad"?t:LWt(t)),j==="%"&&(Z.pfValue=t/100),Z}else if(d.propList){var Q=[],ee=""+t;if(ee!=="none"){for(var oe=ee.split(/\s*,\s*|\s+/),ue=0;ue<oe.length;ue++){var ve=oe[ue].trim();i.properties[ve]?Q.push(ve):su("`"+ve+"` is not a valid property name")}if(Q.length===0)return null}return{name:e,value:Q,strValue:Q.length===0?"none":Q.join(" "),bypass:n}}else if(d.color){var le=nWt(t);return le?{name:e,value:le,pfValue:le,strValue:"rgb("+le[0]+","+le[1]+","+le[2]+")",bypass:n}:null}else if(d.regex||d.regexes){if(d.enums){var de=D();if(de)return de}for(var me=d.regexes?d.regexes:[d.regex],Se=0;Se<me.length;Se++){var Ee=new RegExp(me[Se]),xe=Ee.exec(t);if(xe)return{name:e,value:d.singleRegexMatchValue?xe[1]:xe,strValue:""+t,bypass:n}}return null}else return d.string?{name:e,value:""+t,strValue:""+t,bypass:n}:d.enums?D():null};var zp=function e(t){if(!(this instanceof e))return new e(t);if(!eke(t)){gf("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},qp=zp.prototype;qp.instanceString=function(){return"style"};qp.clear=function(){for(var e=this._private,t=e.cy,n=t.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(n,!0),n.forEach(function(i){var a=i[0]._private;a.styleDirty=!0,a.appliedInitStyle=!1}),this};qp.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};qp.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};qp.selector=function(e){var t=e==="core"?null:new b3(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this};qp.css=function(){var e=this,t=arguments;if(t.length===1)for(var n=t[0],r=0;r<e.properties.length;r++){var i=e.properties[r],a=n[i.name];a===void 0&&(a=n[Aoe(i.name)]),a!==void 0&&this.cssRule(i.name,a)}else t.length===2&&this.cssRule(t[0],t[1]);return this};qp.style=qp.css;qp.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n);var i=!this[r].selector;i&&(this._private.coreStyle[n.name]=n)}return this};qp.append=function(e){return aot(e)?e.appendToStyle(this):Vu(e)?this.appendFromJson(e):ji(e)&&this.appendFromString(e),this};zp.fromJson=function(e,t){var n=new zp(e);return n.fromJson(t),n};zp.fromString=function(e,t){return new zp(e).fromString(t)};[e0,sG,dke,uE,Foe,hke,Rg,Noe].forEach(function(e){oa(qp,e)});zp.types=qp.types;zp.properties=qp.properties;zp.propertyGroups=qp.propertyGroups;zp.propertyGroupNames=qp.propertyGroupNames;zp.propertyGroupKeys=qp.propertyGroupKeys;var Gqt={style:function(t){if(t){var n=this.setStyle(t);n.update()}return this._private.style},setStyle:function(t){var n=this._private;return aot(t)?n.style=t.generateStyle(this):Vu(t)?n.style=zp.fromJson(this,t):ji(t)?n.style=zp.fromString(this,t):n.style=zp(this),n.style},updateStyle:function(){this.mutableElements().updateStyle()}},qqt="single",dP={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var n=this._private;if(n.selectionType==null&&(n.selectionType=qqt),t!==void 0)(t==="additive"||t==="single")&&(n.selectionType=t);else return n.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,n=this._private.pan,r,i,a,s,u;switch(t.length){case 0:return n;case 1:if(ji(t[0]))return r=t[0],n[r];if(ws(t[0])){if(!this._private.panningEnabled)return this;a=t[0],s=a.x,u=a.y,$r(s)&&(n.x=s),$r(u)&&(n.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;r=t[0],i=t[1],(r==="x"||r==="y")&&$r(i)&&(n[r]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,n){var r=arguments,i=this._private.pan,a,s,u,f,d;if(!this._private.panningEnabled)return this;switch(r.length){case 1:ws(t)&&(u=r[0],f=u.x,d=u.y,$r(f)&&(i.x+=f),$r(d)&&(i.y+=d),this.emit("pan viewport"));break;case 2:a=t,s=n,(a==="x"||a==="y")&&$r(s)&&(i[a]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(t,n){var r=this.getFitViewport(t,n);if(r){var i=this._private;i.zoom=r.zoom,i.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,n){if($r(t)&&n===void 0&&(n=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var r;if(ji(t)){var i=t;t=this.$(i)}else if(HVt(t)){var a=t;r={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2},r.w=r.x2-r.x1,r.h=r.y2-r.y1}else ay(t)||(t=this.mutableElements());if(!(ay(t)&&t.empty())){r=r||t.boundingBox();var s=this.width(),u=this.height(),f;if(n=$r(n)?n:0,!isNaN(s)&&!isNaN(u)&&s>0&&u>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0){f=Math.min((s-2*n)/r.w,(u-2*n)/r.h),f=f>this._private.maxZoom?this._private.maxZoom:f,f=f<this._private.minZoom?this._private.minZoom:f;var d={x:(s-f*(r.x1+r.x2))/2,y:(u-f*(r.y1+r.y2))/2};return{zoom:f,pan:d}}}}},zoomRange:function(t,n){var r=this._private;if(n==null){var i=t;t=i.min,n=i.max}return $r(t)&&$r(n)&&t<=n?(r.minZoom=t,r.maxZoom=n):$r(t)&&n===void 0&&t<=r.maxZoom?r.minZoom=t:$r(n)&&t===void 0&&n>=r.minZoom&&(r.maxZoom=n),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var n=this._private,r=n.pan,i=n.zoom,a,s,u=!1;if(n.zoomingEnabled||(u=!0),$r(t)?s=t:ws(t)&&(s=t.level,t.position!=null?a=Toe(t.position,i,r):t.renderedPosition!=null&&(a=t.renderedPosition),a!=null&&!n.panningEnabled&&(u=!0)),s=s>n.maxZoom?n.maxZoom:s,s=s<n.minZoom?n.minZoom:s,u||!$r(s)||s===i||a!=null&&(!$r(a.x)||!$r(a.y)))return null;if(a!=null){var f=r,d=i,c=s,h={x:-c/d*(a.x-f.x)+a.x,y:-c/d*(a.y-f.y)+a.y};return{zoomed:!0,panned:!0,zoom:c,pan:h}}else return{zoomed:!0,panned:!1,zoom:s,pan:r}},zoom:function(t){if(t===void 0)return this._private.zoom;var n=this.getZoomedViewport(t),r=this._private;return n==null||!n.zoomed?this:(r.zoom=n.zoom,n.panned&&(r.pan.x=n.pan.x,r.pan.y=n.pan.y),this.emit("zoom"+(n.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var n=this._private,r=!0,i=!0,a=[],s=!1,u=!1;if(!t)return this;if($r(t.zoom)||(r=!1),ws(t.pan)||(i=!1),!r&&!i)return this;if(r){var f=t.zoom;f<n.minZoom||f>n.maxZoom||!n.zoomingEnabled?s=!0:(n.zoom=f,a.push("zoom"))}if(i&&(!s||!t.cancelOnFailedZoom)&&n.panningEnabled){var d=t.pan;$r(d.x)&&(n.pan.x=d.x,u=!1),$r(d.y)&&(n.pan.y=d.y,u=!1),u||a.push("pan")}return a.length>0&&(a.push("viewport"),this.emit(a.join(" ")),this.notify("viewport")),this},center:function(t){var n=this.getCenterPan(t);return n&&(this._private.pan=n,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,n){if(this._private.panningEnabled){if(ji(t)){var r=t;t=this.mutableElements().filter(r)}else ay(t)||(t=this.mutableElements());if(t.length!==0){var i=t.boundingBox(),a=this.width(),s=this.height();n=n===void 0?this._private.zoom:n;var u={x:(a-n*(i.x1+i.x2))/2,y:(s-n*(i.y1+i.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,n=t.container;return t.sizeCache=t.sizeCache||(n?function(){var r=Ql.getComputedStyle(n),i=function(s){return parseFloat(r.getPropertyValue(s))};return{width:n.clientWidth-i("padding-left")-i("padding-right"),height:n.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,n=this._private.zoom,r=this.renderedExtent(),i={x1:(r.x1-t.x)/n,x2:(r.x2-t.x)/n,y1:(r.y1-t.y)/n,y2:(r.y2-t.y)/n};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var t=this.width(),n=this.height();return{x1:0,y1:0,x2:t,y2:n,w:t,h:n}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};dP.centre=dP.center;dP.autolockNodes=dP.autolock;dP.autoungrabifyNodes=dP.autoungrabify;var RV={data:ou.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ou.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ou.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ou.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};RV.attr=RV.data;RV.removeAttr=RV.removeData;var TV=function(t){var n=this;t=oa({},t);var r=t.container;r&&!rre(r)&&rre(r[0])&&(r=r[0]);var i=r?r._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var a=i.readies=i.readies||[];r&&(r._cyreg=i),i.cy=n;var s=Ql!==void 0&&r!==void 0&&!t.headless,u=t;u.layout=oa({name:s?"grid":"null"},u.layout),u.renderer=oa({name:s?"canvas":"null"},u.renderer);var f=function(m,y,w){return y!==void 0?y:w!==void 0?w:m},d=this._private={container:r,ready:!1,options:u,elements:new Fg(this),listeners:[],aniEles:new Fg(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:f(!0,u.zoomingEnabled),userZoomingEnabled:f(!0,u.userZoomingEnabled),panningEnabled:f(!0,u.panningEnabled),userPanningEnabled:f(!0,u.userPanningEnabled),boxSelectionEnabled:f(!0,u.boxSelectionEnabled),autolock:f(!1,u.autolock,u.autolockNodes),autoungrabify:f(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:f(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?s:u.styleEnabled,zoom:$r(u.zoom)?u.zoom:1,pan:{x:ws(u.pan)&&$r(u.pan.x)?u.pan.x:0,y:ws(u.pan)&&$r(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:f(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var c=function(m,y){var w=m.some(UVt);if(w)return F8.all(m).then(y);y(m)};d.styleEnabled&&n.setStyle([]);var h=oa({},u,u.renderer);n.initRenderer(h);var p=function(m,y,w){n.notifications(!1);var _=n.mutableElements();_.length>0&&_.remove(),m!=null&&(ws(m)||Vu(m))&&n.add(m),n.one("layoutready",function(C){n.notifications(!0),n.emit(C),n.one("load",y),n.emitAndNotify("load")}).one("layoutstop",function(){n.one("done",w),n.emit("done")});var S=oa({},n._private.options.layout);S.eles=n.elements(),n.layout(S).run()};c([u.style,u.elements],function(v){var m=v[0],y=v[1];d.styleEnabled&&n.style().append(m),p(y,function(){n.startAnimationLoop(),d.ready=!0,Dc(u.ready)&&n.on("ready",u.ready);for(var w=0;w<a.length;w++){var _=a[w];n.on("ready",_)}i&&(i.readies=[]),n.emit("ready")},u.done)})},ure=TV.prototype;oa(ure,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},mount:function(t){if(t!=null){var n=this,r=n._private,i=r.options;return!rre(t)&&rre(t[0])&&(t=t[0]),n.stopAnimationLoop(),n.destroyRenderer(),r.container=t,r.styleEnabled=!0,n.invalidateSize(),n.initRenderer(oa({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),n.startAnimationLoop(),n.style(i.style),n.emit("mount"),n}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return LS(this._private.options)},json:function(t){var n=this,r=n._private,i=n.mutableElements(),a=function($){return n.getElementById($.id())};if(ws(t)){if(n.startBatch(),t.elements){var s={},u=function($,k){for(var M=[],A=[],L=0;L<$.length;L++){var N=$[L];if(!N.data.id){su("cy.json() cannot handle elements without an ID attribute");continue}var R=""+N.data.id,D=n.getElementById(R);s[R]=!0,D.length!==0?A.push({ele:D,json:N}):(k&&(N.group=k),M.push(N))}n.add(M);for(var j=0;j<A.length;j++){var U=A[j],H=U.ele,Y=U.json;H.json(Y)}};if(Vu(t.elements))u(t.elements);else for(var f=["nodes","edges"],d=0;d<f.length;d++){var c=f[d],h=t.elements[c];Vu(h)&&u(h,c)}var p=n.collection();i.filter(function(C){return!s[C.id()]}).forEach(function(C){C.isParent()?p.merge(C):C.remove()}),p.forEach(function(C){return C.children().move({parent:null})}),p.forEach(function(C){return a(C).remove()})}t.style&&n.style(t.style),t.zoom!=null&&t.zoom!==r.zoom&&n.zoom(t.zoom),t.pan&&(t.pan.x!==r.pan.x||t.pan.y!==r.pan.y)&&n.pan(t.pan),t.data&&n.data(t.data);for(var v=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],m=0;m<v.length;m++){var y=v[m];t[y]!=null&&n[y](t[y])}return n.endBatch(),this}else{var w=!!t,_={};w?_.elements=this.elements().map(function(C){return C.json()}):(_.elements={},i.forEach(function(C){var $=C.group();_.elements[$]||(_.elements[$]=[]),_.elements[$].push(C.json())})),this._private.styleEnabled&&(_.style=n.style().json()),_.data=LS(n.data());var S=r.options;return _.zoomingEnabled=r.zoomingEnabled,_.userZoomingEnabled=r.userZoomingEnabled,_.zoom=r.zoom,_.minZoom=r.minZoom,_.maxZoom=r.maxZoom,_.panningEnabled=r.panningEnabled,_.userPanningEnabled=r.userPanningEnabled,_.pan=LS(r.pan),_.boxSelectionEnabled=r.boxSelectionEnabled,_.renderer=LS(S.renderer),_.hideEdgesOnViewport=S.hideEdgesOnViewport,_.textureOnViewport=S.textureOnViewport,_.wheelSensitivity=S.wheelSensitivity,_.motionBlur=S.motionBlur,_.multiClickDebounceTime=S.multiClickDebounceTime,_}}});ure.$id=ure.getElementById;[Iqt,Bqt,Qot,o_e,_te,Uqt,s_e,xte,Gqt,dP,RV].forEach(function(e){oa(ure,e)});var Yqt={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}},s6=function(t){return t.scratch("breadthfirst")},yVe=function(t,n){return t.scratch("breadthfirst",n)};function Jot(e){this.options=oa({},Yqt,e)}Jot.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().filter(function(Ye){return!Ye.isParent()}),a=r,s=t.directed,u=t.maximal||t.maximalAdjustments>0,f=Om(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),d;if(ay(t.roots))d=t.roots;else if(Vu(t.roots)){for(var c=[],h=0;h<t.roots.length;h++){var p=t.roots[h],v=n.getElementById(p);c.push(v)}d=n.collection(c)}else if(ji(t.roots))d=n.$(t.roots);else if(s)d=i.roots();else{var m=r.components();d=n.collection();for(var y=function(ot){var Ue=m[ot],st=Ue.maxDegree(!1),at=Ue.filter(function(St){return St.degree(!1)===st});d=d.add(at)},w=0;w<m.length;w++)y(w)}var _=[],S={},C=function(ot,Ue){_[Ue]==null&&(_[Ue]=[]);var st=_[Ue].length;_[Ue].push(ot),yVe(ot,{index:st,depth:Ue})},$=function(ot,Ue){var st=s6(ot),at=st.depth,St=st.index;_[at][St]=null,C(ot,Ue)};a.bfs({roots:d,directed:t.directed,visit:function(ot,Ue,st,at,St){var Vt=ot[0],tt=Vt.id();C(Vt,St),S[tt]=!0}});for(var k=[],M=0;M<i.length;M++){var A=i[M];S[A.id()]||k.push(A)}var L=function(ot){for(var Ue=_[ot],st=0;st<Ue.length;st++){var at=Ue[st];if(at==null){Ue.splice(st,1),st--;continue}yVe(at,{depth:ot,index:st})}},N=function(){for(var ot=0;ot<_.length;ot++)L(ot)},R=function(ot,Ue){for(var st=s6(ot),at=ot.incomers().filter(function(Le){return Le.isNode()&&r.has(Le)}),St=-1,Vt=ot.id(),tt=0;tt<at.length;tt++){var wt=at[tt],vt=s6(wt);St=Math.max(St,vt.depth)}return st.depth<=St?Ue[Vt]?null:($(ot,St+1),Ue[Vt]=!0,!0):!1};if(s&&u){var D=[],j={},U=function(ot){return D.push(ot)},H=function(){return D.shift()};for(i.forEach(function(Ye){return D.push(Ye)});D.length>0;){var Y=H(),Z=R(Y,j);if(Z)Y.outgoers().filter(function(Ye){return Ye.isNode()&&r.has(Ye)}).forEach(U);else if(Z===null){su("Detected double maximal shift for node `"+Y.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}N();var Q=0;if(t.avoidOverlap)for(var ee=0;ee<i.length;ee++){var oe=i[ee],ue=oe.layoutDimensions(t),ve=ue.w,le=ue.h;Q=Math.max(Q,ve,le)}var de={},me=function(ot){if(de[ot.id()])return de[ot.id()];for(var Ue=s6(ot).depth,st=ot.neighborhood(),at=0,St=0,Vt=0;Vt<st.length;Vt++){var tt=st[Vt];if(!(tt.isEdge()||tt.isParent()||!i.has(tt))){var wt=s6(tt);if(wt!=null){var vt=wt.index,Le=wt.depth;if(!(vt==null||Le==null)){var ft=_[Le].length;Le<Ue&&(at+=vt/ft,St++)}}}}return St=Math.max(1,St),at=at/St,St===0&&(at=0),de[ot.id()]=at,at},Se=function(ot,Ue){var st=me(ot),at=me(Ue),St=st-at;return St===0?sot(ot.id(),Ue.id()):St};t.depthSort!==void 0&&(Se=t.depthSort);for(var Ee=0;Ee<_.length;Ee++)_[Ee].sort(Se),L(Ee);for(var xe=[],Ie=0;Ie<k.length;Ie++)xe.push(k[Ie]);_.unshift(xe),N();for(var Ne=0,We=0;We<_.length;We++)Ne=Math.max(_[We].length,Ne);var Me={x:f.x1+f.w/2,y:f.x1+f.h/2},He=_.reduce(function(Ye,ot){return Math.max(Ye,ot.length)},0),gt=function(ot){var Ue=s6(ot),st=Ue.depth,at=Ue.index,St=_[st].length,Vt=Math.max(f.w/((t.grid?He:St)+1),Q),tt=Math.max(f.h/(_.length+1),Q),wt=Math.min(f.w/2/_.length,f.h/2/_.length);if(wt=Math.max(wt,Q),t.circle){var Le=wt*st+wt-(_.length>0&&_[0].length<=3?wt/2:0),ft=2*Math.PI/_[st].length*at;return st===0&&_[0].length===1&&(Le=1),{x:Me.x+Le*Math.cos(ft),y:Me.y+Le*Math.sin(ft)}}else{var vt={x:Me.x+(at+1-(St+1)/2)*Vt,y:(st+1)*tt};return vt}};return r.nodes().layoutPositions(this,t,gt),this};var Kqt={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function est(e){this.options=oa({},Kqt,e)}est.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,a=r.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var s=Om(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:s.x1+s.w/2,y:s.y1+s.h/2},f=t.sweep===void 0?2*Math.PI-2*Math.PI/a.length:t.sweep,d=f/Math.max(1,a.length-1),c,h=0,p=0;p<a.length;p++){var v=a[p],m=v.layoutDimensions(t),y=m.w,w=m.h;h=Math.max(h,y,w)}if($r(t.radius)?c=t.radius:a.length<=1?c=0:c=Math.min(s.h,s.w)/2-h,a.length>1&&t.avoidOverlap){h*=1.75;var _=Math.cos(d)-Math.cos(0),S=Math.sin(d)-Math.sin(0),C=Math.sqrt(h*h/(_*_+S*S));c=Math.max(C,c)}var $=function(M,A){var L=t.startAngle+A*d*(i?1:-1),N=c*Math.cos(L),R=c*Math.sin(L),D={x:u.x+N,y:u.y+R};return D};return r.nodes().layoutPositions(this,t,$),this};var Xqt={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function tst(e){this.options=oa({},Xqt,e)}tst.prototype.run=function(){for(var e=this.options,t=e,n=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles,a=i.nodes().not(":parent"),s=Om(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u={x:s.x1+s.w/2,y:s.y1+s.h/2},f=[],d=0,c=0;c<a.length;c++){var h=a[c],p=void 0;p=t.concentric(h),f.push({value:p,node:h}),h._private.scratch.concentric=p}a.updateStyle();for(var v=0;v<a.length;v++){var m=a[v],y=m.layoutDimensions(t);d=Math.max(d,y.w,y.h)}f.sort(function(Ye,ot){return ot.value-Ye.value});for(var w=t.levelWidth(a),_=[[]],S=_[0],C=0;C<f.length;C++){var $=f[C];if(S.length>0){var k=Math.abs(S[0].value-$.value);k>=w&&(S=[],_.push(S))}S.push($)}var M=d+t.minNodeSpacing;if(!t.avoidOverlap){var A=_.length>0&&_[0].length>1,L=Math.min(s.w,s.h)/2-M,N=L/(_.length+A?1:0);M=Math.min(M,N)}for(var R=0,D=0;D<_.length;D++){var j=_[D],U=t.sweep===void 0?2*Math.PI-2*Math.PI/j.length:t.sweep,H=j.dTheta=U/Math.max(1,j.length-1);if(j.length>1&&t.avoidOverlap){var Y=Math.cos(H)-Math.cos(0),Z=Math.sin(H)-Math.sin(0),Q=Math.sqrt(M*M/(Y*Y+Z*Z));R=Math.max(Q,R)}j.r=R,R+=M}if(t.equidistant){for(var ee=0,oe=0,ue=0;ue<_.length;ue++){var ve=_[ue],le=ve.r-oe;ee=Math.max(ee,le)}oe=0;for(var de=0;de<_.length;de++){var me=_[de];de===0&&(oe=me.r),me.r=oe,oe+=ee}}for(var Se={},Ee=0;Ee<_.length;Ee++)for(var xe=_[Ee],Ie=xe.dTheta,Ne=xe.r,We=0;We<xe.length;We++){var Me=xe[We],He=t.startAngle+(n?1:-1)*Ie*We,gt={x:u.x+Ne*Math.cos(He),y:u.y+Ne*Math.sin(He)};Se[Me.node.id()]=gt}return i.nodes().layoutPositions(this,t,function(Ye){var ot=Ye.id();return Se[ot]}),this};var jme,Zqt={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,n){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function zoe(e){this.options=oa({},Zqt,e),this.options.layout=this}zoe.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,(e.animate===!0||e.animate===!1)&&n.emit({type:"layoutstart",layout:n}),e.debug===!0?jme=!0:jme=!1;var r=Qqt(t,n,e);jme&&tYt(r),e.randomize&&nYt(r);var i=mk(),a=function(){rYt(r,t,e),e.fit===!0&&t.fit(e.padding)},s=function(p){return!(n.stopped||p>=e.numIter||(iYt(r,e),r.temperature=r.temperature*e.coolingFactor,r.temperature<e.minTemp))},u=function(){if(e.animate===!0||e.animate===!1)a(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var p=e.eles.nodes(),v=nst(r,e,p);p.layoutPositions(n,e,v)}},f=0,d=!0;if(e.animate===!0){var c=function h(){for(var p=0;d&&p<e.refresh;)d=s(f),f++,p++;if(!d)wVe(r,e),u();else{var v=mk();v-i>=e.animationThreshold&&a(),ire(h)}};c()}else{for(;d;)d=s(f),f++;wVe(r,e),u()}return this};zoe.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};zoe.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Qqt=function(t,n,r){for(var i=r.eles.edges(),a=r.eles.nodes(),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:a.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:r.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:Om(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},u=r.eles.components(),f={},d=0;d<u.length;d++)for(var c=u[d],h=0;h<c.length;h++){var p=c[h];f[p.id()]=d}for(var d=0;d<s.nodeSize;d++){var v=a[d],m=v.layoutDimensions(r),y={};y.isLocked=v.locked(),y.id=v.data("id"),y.parentId=v.data("parent"),y.cmptId=f[v.id()],y.children=[],y.positionX=v.position("x"),y.positionY=v.position("y"),y.offsetX=0,y.offsetY=0,y.height=m.w,y.width=m.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(v.style("padding")),y.padRight=parseFloat(v.style("padding")),y.padTop=parseFloat(v.style("padding")),y.padBottom=parseFloat(v.style("padding")),y.nodeRepulsion=Dc(r.nodeRepulsion)?r.nodeRepulsion(v):r.nodeRepulsion,s.layoutNodes.push(y),s.idToIndex[y.id]=d}for(var w=[],_=0,S=-1,C=[],d=0;d<s.nodeSize;d++){var v=s.layoutNodes[d],$=v.parentId;$!=null?s.layoutNodes[s.idToIndex[$]].children.push(v.id):(w[++S]=v.id,C.push(v.id))}for(s.graphSet.push(C);_<=S;){var k=w[_++],M=s.idToIndex[k],p=s.layoutNodes[M],A=p.children;if(A.length>0){s.graphSet.push(A);for(var d=0;d<A.length;d++)w[++S]=A[d]}}for(var d=0;d<s.graphSet.length;d++)for(var L=s.graphSet[d],h=0;h<L.length;h++){var N=s.idToIndex[L[h]];s.indexToGraph[N]=d}for(var d=0;d<s.edgeSize;d++){var R=i[d],D={};D.id=R.data("id"),D.sourceId=R.data("source"),D.targetId=R.data("target");var j=Dc(r.idealEdgeLength)?r.idealEdgeLength(R):r.idealEdgeLength,U=Dc(r.edgeElasticity)?r.edgeElasticity(R):r.edgeElasticity,H=s.idToIndex[D.sourceId],Y=s.idToIndex[D.targetId],Z=s.indexToGraph[H],Q=s.indexToGraph[Y];if(Z!=Q){for(var ee=Jqt(D.sourceId,D.targetId,s),oe=s.graphSet[ee],ue=0,y=s.layoutNodes[H];oe.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],ue++;for(y=s.layoutNodes[Y];oe.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],ue++;j*=ue*r.nestingFactor}D.idealLength=j,D.elasticity=U,s.layoutEdges.push(D)}return s},Jqt=function(t,n,r){var i=eYt(t,n,0,r);return 2>i.count?0:i.graph},eYt=function e(t,n,r,i){var a=i.graphSet[r];if(-1<a.indexOf(t)&&-1<a.indexOf(n))return{count:2,graph:r};for(var s=0,u=0;u<a.length;u++){var f=a[u],d=i.idToIndex[f],c=i.layoutNodes[d].children;if(c.length!==0){var h=i.indexToGraph[i.idToIndex[c[0]]],p=e(t,n,h,i);if(p.count!==0)if(p.count===1){if(s++,s===2)break}else return p}}return{count:s,graph:r}},tYt,nYt=function(t,n){for(var r=t.clientWidth,i=t.clientHeight,a=0;a<t.nodeSize;a++){var s=t.layoutNodes[a];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*r,s.positionY=Math.random()*i)}},nst=function(t,n,r){var i=t.boundingBox,a={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return n.boundingBox&&(r.forEach(function(s){var u=t.layoutNodes[t.idToIndex[s.data("id")]];a.x1=Math.min(a.x1,u.positionX),a.x2=Math.max(a.x2,u.positionX),a.y1=Math.min(a.y1,u.positionY),a.y2=Math.max(a.y2,u.positionY)}),a.w=a.x2-a.x1,a.h=a.y2-a.y1),function(s,u){var f=t.layoutNodes[t.idToIndex[s.data("id")]];if(n.boundingBox){var d=(f.positionX-a.x1)/a.w,c=(f.positionY-a.y1)/a.h;return{x:i.x1+d*i.w,y:i.y1+c*i.h}}else return{x:f.positionX,y:f.positionY}}},rYt=function(t,n,r){var i=r.layout,a=r.eles.nodes(),s=nst(t,r,a);a.positions(s),t.ready!==!0&&(t.ready=!0,i.one("layoutready",r.ready),i.emit({type:"layoutready",layout:this}))},iYt=function(t,n,r){aYt(t,n),uYt(t),lYt(t,n),cYt(t),fYt(t)},aYt=function(t,n){for(var r=0;r<t.graphSet.length;r++)for(var i=t.graphSet[r],a=i.length,s=0;s<a;s++)for(var u=t.layoutNodes[t.idToIndex[i[s]]],f=s+1;f<a;f++){var d=t.layoutNodes[t.idToIndex[i[f]]];oYt(u,d,t,n)}},bVe=function(t){return-t+2*t*Math.random()},oYt=function(t,n,r,i){var a=t.cmptId,s=n.cmptId;if(!(a!==s&&!r.isCompound)){var u=n.positionX-t.positionX,f=n.positionY-t.positionY,d=1;u===0&&f===0&&(u=bVe(d),f=bVe(d));var c=sYt(t,n,u,f);if(c>0)var h=i.nodeOverlap*c,p=Math.sqrt(u*u+f*f),v=h*u/p,m=h*f/p;else var y=lre(t,u,f),w=lre(n,-1*u,-1*f),_=w.x-y.x,S=w.y-y.y,C=_*_+S*S,p=Math.sqrt(C),h=(t.nodeRepulsion+n.nodeRepulsion)/C,v=h*_/p,m=h*S/p;t.isLocked||(t.offsetX-=v,t.offsetY-=m),n.isLocked||(n.offsetX+=v,n.offsetY+=m)}},sYt=function(t,n,r,i){if(r>0)var a=t.maxX-n.minX;else var a=n.maxX-t.minX;if(i>0)var s=t.maxY-n.minY;else var s=n.maxY-t.minY;return a>=0&&s>=0?Math.sqrt(a*a+s*s):0},lre=function(t,n,r){var i=t.positionX,a=t.positionY,s=t.height||1,u=t.width||1,f=r/n,d=s/u,c={};return n===0&&0<r||n===0&&0>r?(c.x=i,c.y=a+s/2,c):0<n&&-1*d<=f&&f<=d?(c.x=i+u/2,c.y=a+u*r/2/n,c):0>n&&-1*d<=f&&f<=d?(c.x=i-u/2,c.y=a-u*r/2/n,c):0<r&&(f<=-1*d||f>=d)?(c.x=i+s*n/2/r,c.y=a+s/2,c):(0>r&&(f<=-1*d||f>=d)&&(c.x=i-s*n/2/r,c.y=a-s/2),c)},uYt=function(t,n){for(var r=0;r<t.edgeSize;r++){var i=t.layoutEdges[r],a=t.idToIndex[i.sourceId],s=t.layoutNodes[a],u=t.idToIndex[i.targetId],f=t.layoutNodes[u],d=f.positionX-s.positionX,c=f.positionY-s.positionY;if(!(d===0&&c===0)){var h=lre(s,d,c),p=lre(f,-1*d,-1*c),v=p.x-h.x,m=p.y-h.y,y=Math.sqrt(v*v+m*m),w=Math.pow(i.idealLength-y,2)/i.elasticity;if(y!==0)var _=w*v/y,S=w*m/y;else var _=0,S=0;s.isLocked||(s.offsetX+=_,s.offsetY+=S),f.isLocked||(f.offsetX-=_,f.offsetY-=S)}}},lYt=function(t,n){if(n.gravity!==0)for(var r=1,i=0;i<t.graphSet.length;i++){var a=t.graphSet[i],s=a.length;if(i===0)var u=t.clientHeight/2,f=t.clientWidth/2;else var d=t.layoutNodes[t.idToIndex[a[0]]],c=t.layoutNodes[t.idToIndex[d.parentId]],u=c.positionX,f=c.positionY;for(var h=0;h<s;h++){var p=t.layoutNodes[t.idToIndex[a[h]]];if(!p.isLocked){var v=u-p.positionX,m=f-p.positionY,y=Math.sqrt(v*v+m*m);if(y>r){var w=n.gravity*v/y,_=n.gravity*m/y;p.offsetX+=w,p.offsetY+=_}}}}},cYt=function(t,n){var r=[],i=0,a=-1;for(r.push.apply(r,t.graphSet[0]),a+=t.graphSet[0].length;i<=a;){var s=r[i++],u=t.idToIndex[s],f=t.layoutNodes[u],d=f.children;if(0<d.length&&!f.isLocked){for(var c=f.offsetX,h=f.offsetY,p=0;p<d.length;p++){var v=t.layoutNodes[t.idToIndex[d[p]]];v.offsetX+=c,v.offsetY+=h,r[++a]=d[p]}f.offsetX=0,f.offsetY=0}}},fYt=function(t,n){for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];if(!(0<i.children.length||i.isLocked)){var a=dYt(i.offsetX,i.offsetY,t.temperature);i.positionX+=a.x,i.positionY+=a.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,hYt(i,t)}}for(var r=0;r<t.nodeSize;r++){var i=t.layoutNodes[r];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},dYt=function(t,n,r){var i=Math.sqrt(t*t+n*n);if(i>r)var a={x:r*t/i,y:r*n/i};else var a={x:t,y:n};return a},hYt=function e(t,n){var r=t.parentId;if(r!=null){var i=n.layoutNodes[n.idToIndex[r]],a=!1;if((i.maxX==null||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(i.minX==null||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(i.maxY==null||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(i.minY==null||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a)return e(i,n)}},wVe=function(t,n){for(var r=t.layoutNodes,i=[],a=0;a<r.length;a++){var s=r[a],u=s.cmptId,f=i[u]=i[u]||[];f.push(s)}for(var d=0,a=0;a<i.length;a++){var c=i[a];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var h=0;h<c.length;h++){var p=c[h];c.x1=Math.min(c.x1,p.positionX-p.width/2),c.x2=Math.max(c.x2,p.positionX+p.width/2),c.y1=Math.min(c.y1,p.positionY-p.height/2),c.y2=Math.max(c.y2,p.positionY+p.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,d+=c.w*c.h}}i.sort(function(S,C){return C.w*C.h-S.w*S.h});for(var v=0,m=0,y=0,w=0,_=Math.sqrt(d)*t.clientWidth/t.clientHeight,a=0;a<i.length;a++){var c=i[a];if(c){for(var h=0;h<c.length;h++){var p=c[h];p.isLocked||(p.positionX+=v-c.x1,p.positionY+=m-c.y1)}v+=c.w+n.componentSpacing,y+=c.w+n.componentSpacing,w=Math.max(w,c.h),y>_&&(m+=w+n.componentSpacing,v=0,y=0,w=0)}}},gYt={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function rst(e){this.options=oa({},gYt,e)}rst.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=Om(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(a.h===0||a.w===0)r.nodes().layoutPositions(this,t,function(de){return{x:a.x1,y:a.y1}});else{var s=i.size(),u=Math.sqrt(s*a.h/a.w),f=Math.round(u),d=Math.round(a.w/a.h*u),c=function(me){if(me==null)return Math.min(f,d);var Se=Math.min(f,d);Se==f?f=me:d=me},h=function(me){if(me==null)return Math.max(f,d);var Se=Math.max(f,d);Se==f?f=me:d=me},p=t.rows,v=t.cols!=null?t.cols:t.columns;if(p!=null&&v!=null)f=p,d=v;else if(p!=null&&v==null)f=p,d=Math.ceil(s/f);else if(p==null&&v!=null)d=v,f=Math.ceil(s/d);else if(d*f>s){var m=c(),y=h();(m-1)*y>=s?c(m-1):(y-1)*m>=s&&h(y-1)}else for(;d*f<s;){var w=c(),_=h();(_+1)*w>=s?h(_+1):c(w+1)}var S=a.w/d,C=a.h/f;if(t.condense&&(S=0,C=0),t.avoidOverlap)for(var $=0;$<i.length;$++){var k=i[$],M=k._private.position;(M.x==null||M.y==null)&&(M.x=0,M.y=0);var A=k.layoutDimensions(t),L=t.avoidOverlapPadding,N=A.w+L,R=A.h+L;S=Math.max(S,N),C=Math.max(C,R)}for(var D={},j=function(me,Se){return!!D["c-"+me+"-"+Se]},U=function(me,Se){D["c-"+me+"-"+Se]=!0},H=0,Y=0,Z=function(){Y++,Y>=d&&(Y=0,H++)},Q={},ee=0;ee<i.length;ee++){var oe=i[ee],ue=t.position(oe);if(ue&&(ue.row!==void 0||ue.col!==void 0)){var ve={row:ue.row,col:ue.col};if(ve.col===void 0)for(ve.col=0;j(ve.row,ve.col);)ve.col++;else if(ve.row===void 0)for(ve.row=0;j(ve.row,ve.col);)ve.row++;Q[oe.id()]=ve,U(ve.row,ve.col)}}var le=function(me,Se){var Ee,xe;if(me.locked()||me.isParent())return!1;var Ie=Q[me.id()];if(Ie)Ee=Ie.col*S+S/2+a.x1,xe=Ie.row*C+C/2+a.y1;else{for(;j(H,Y);)Z();Ee=Y*S+S/2+a.x1,xe=H*C+C/2+a.y1,U(H,Y),Z()}return{x:Ee,y:xe}};i.layoutPositions(this,t,le)}return this};var pYt={ready:function(){},stop:function(){}};function gke(e){this.options=oa({},pYt,e)}gke.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this};gke.prototype.stop=function(){return this};var vYt={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function ist(e){this.options=oa({},vYt,e)}ist.prototype.run=function(){var e=this.options,t=e.eles,n=t.nodes(),r=Dc(e.positions);function i(a){if(e.positions==null)return AWt(a.position());if(r)return e.positions(a);var s=e.positions[a._private.data.id];return s??null}return n.layoutPositions(this,e,function(a,s){var u=i(a);return a.locked()||u==null?!1:u}),this};var mYt={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,n){return!0},ready:void 0,stop:void 0,transform:function(t,n){return n}};function ast(e){this.options=oa({},mYt,e)}ast.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=Om(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),i=function(s,u){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}};return n.nodes().layoutPositions(this,e,i),this};var yYt=[{name:"breadthfirst",impl:Jot},{name:"circle",impl:est},{name:"concentric",impl:tst},{name:"cose",impl:zoe},{name:"grid",impl:rst},{name:"null",impl:gke},{name:"preset",impl:ist},{name:"random",impl:ast}];function ost(e){this.options=e,this.notifications=0}var _Ve=function(){},xVe=function(){throw new Error("A headless instance can not render images")};ost.prototype={recalculateRenderedStyle:_Ve,notify:function(){this.notifications++},init:_Ve,isHeadless:function(){return!0},png:xVe,jpg:xVe};var pke={};pke.arrowShapeWidth=.3;pke.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,n=function(d,c,h,p,v,m,y){var w=v.x-h/2-y,_=v.x+h/2+y,S=v.y-h/2-y,C=v.y+h/2+y,$=w<=d&&d<=_&&S<=c&&c<=C;return $},r=function(d,c,h,p,v){var m=d*Math.cos(p)-c*Math.sin(p),y=d*Math.sin(p)+c*Math.cos(p),w=m*h,_=y*h,S=w+v.x,C=_+v.y;return{x:S,y:C}},i=function(d,c,h,p){for(var v=[],m=0;m<d.length;m+=2){var y=d[m],w=d[m+1];v.push(r(y,w,c,h,p))}return v},a=function(d){for(var c=[],h=0;h<d.length;h++){var p=d[h];c.push(p.x,p.y)}return c},s=function(d){return d.pstyle("width").pfValue*d.pstyle("arrow-scale").pfValue*2},u=function(d,c){ji(c)&&(c=e[c]),e[d]=oa({name:d,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,v,m,y,w,_){var S=a(i(this.points,m+2*_,y,w)),C=cm(p,v,S);return C},roughCollide:n,draw:function(p,v,m,y){var w=i(this.points,v,m,y);t.arrowShapeImpl("polygon")(p,w)},spacing:function(p){return 0},gap:s},c)};u("none",{collide:are,roughCollide:are,draw:rke,spacing:FUe,gap:FUe}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(d,c,h,p,v){var m=i(this.points,c,h,p),y=this.controlPoint,w=r(y[0],y[1],c,h,p);t.arrowShapeImpl(this.name)(d,m,w)},gap:function(d){return s(d)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(d,c,h,p,v,m,y){var w=a(i(this.points,h+2*y,p,v)),_=a(i(this.pointsTee,h+2*y,p,v)),S=cm(d,c,w)||cm(d,c,_);return S},draw:function(d,c,h,p,v){var m=i(this.points,c,h,p),y=i(this.pointsTee,c,h,p);t.arrowShapeImpl(this.name)(d,m,y)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(d,c,h,p,v,m,y){var w=v,_=Math.pow(w.x-d,2)+Math.pow(w.y-c,2)<=Math.pow((h+2*y)*this.radius,2),S=a(i(this.points,h+2*y,p,v));return cm(d,c,S)||_},draw:function(d,c,h,p,v){var m=i(this.pointsTr,c,h,p);t.arrowShapeImpl(this.name)(d,m,p.x,p.y,this.radius*c)},spacing:function(d){return t.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(d,c){var h=this.baseCrossLinePts.slice(),p=c/d,v=3,m=5;return h[v]=h[v]-p,h[m]=h[m]-p,h},collide:function(d,c,h,p,v,m,y){var w=a(i(this.points,h+2*y,p,v)),_=a(i(this.crossLinePts(h,m),h+2*y,p,v)),S=cm(d,c,w)||cm(d,c,_);return S},draw:function(d,c,h,p,v){var m=i(this.points,c,h,p),y=i(this.crossLinePts(c,v),c,h,p);t.arrowShapeImpl(this.name)(d,m,y)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(d){return s(d)*.525}}),u("circle",{radius:.15,collide:function(d,c,h,p,v,m,y){var w=v,_=Math.pow(w.x-d,2)+Math.pow(w.y-c,2)<=Math.pow((h+2*y)*this.radius,2);return _},draw:function(d,c,h,p,v){t.arrowShapeImpl(this.name)(d,p.x,p.y,this.radius*c)},spacing:function(d){return t.getArrowWidth(d.pstyle("width").pfValue,d.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(d){return 1},gap:function(d){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(d){return d.pstyle("width").pfValue*d.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(d){return .95*d.pstyle("width").pfValue*d.pstyle("arrow-scale").value}})};var sL={};sL.projectIntoViewport=function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],a=r[1],s=r[4],u=n.pan(),f=n.zoom(),d=((e-i)/s-u.x)/f,c=((t-a)/s-u.y)/f;return[d,c]};sL.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=Ql.getComputedStyle(e),r=function(_){return parseFloat(n.getPropertyValue(_))},i={left:r("padding-left"),right:r("padding-right"),top:r("padding-top"),bottom:r("padding-bottom")},a={left:r("border-left-width"),right:r("border-right-width"),top:r("border-top-width"),bottom:r("border-bottom-width")},s=e.clientWidth,u=e.clientHeight,f=i.left+i.right,d=i.top+i.bottom,c=a.left+a.right,h=t.width/(s+c),p=s-f,v=u-d,m=t.left+i.left+a.left,y=t.top+i.top+a.top;return this.containerBB=[m,y,p,v,h]};sL.invalidateContainerClientCoordsCache=function(){this.containerBB=null};sL.findNearestElement=function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]};sL.findNearestElements=function(e,t,n,r){var i=this,a=this,s=a.getCachedZSortedEles(),u=[],f=a.cy.zoom(),d=a.cy.hasCompoundNodes(),c=(r?24:8)/f,h=(r?8:2)/f,p=(r?8:2)/f,v=1/0,m,y;n&&(s=s.interactive);function w(A,L){if(A.isNode()){if(y)return;y=A,u.push(A)}if(A.isEdge()&&(L==null||L<v))if(m){if(m.pstyle("z-compound-depth").value===A.pstyle("z-compound-depth").value&&m.pstyle("z-compound-depth").value===A.pstyle("z-compound-depth").value){for(var N=0;N<u.length;N++)if(u[N].isEdge()){u[N]=A,m=A,v=L??v;break}}}else u.push(A),m=A,v=L??v}function _(A){var L=A.outerWidth()+2*h,N=A.outerHeight()+2*h,R=L/2,D=N/2,j=A.position();if(j.x-R<=e&&e<=j.x+R&&j.y-D<=t&&t<=j.y+D){var U=a.nodeShapes[i.getNodeShape(A)];if(U.checkPoint(e,t,0,L,N,j.x,j.y))return w(A,0),!0}}function S(A){var L=A._private,N=L.rscratch,R=A.pstyle("width").pfValue,D=A.pstyle("arrow-scale").value,j=R/2+c,U=j*j,H=j*2,ee=L.source,oe=L.target,Y;if(N.edgeType==="segments"||N.edgeType==="straight"||N.edgeType==="haystack"){for(var Z=N.allpts,Q=0;Q+3<Z.length;Q+=2)if(HWt(e,t,Z[Q],Z[Q+1],Z[Q+2],Z[Q+3],H)&&U>(Y=qWt(e,t,Z[Q],Z[Q+1],Z[Q+2],Z[Q+3])))return w(A,Y),!0}else if(N.edgeType==="bezier"||N.edgeType==="multibezier"||N.edgeType==="self"||N.edgeType==="compound"){for(var Z=N.allpts,Q=0;Q+5<N.allpts.length;Q+=4)if(UWt(e,t,Z[Q],Z[Q+1],Z[Q+2],Z[Q+3],Z[Q+4],Z[Q+5],H)&&U>(Y=GWt(e,t,Z[Q],Z[Q+1],Z[Q+2],Z[Q+3],Z[Q+4],Z[Q+5])))return w(A,Y),!0}for(var ee=ee||L.source,oe=oe||L.target,ue=i.getArrowWidth(R,D),ve=[{name:"source",x:N.arrowStartX,y:N.arrowStartY,angle:N.srcArrowAngle},{name:"target",x:N.arrowEndX,y:N.arrowEndY,angle:N.tgtArrowAngle},{name:"mid-source",x:N.midX,y:N.midY,angle:N.midsrcArrowAngle},{name:"mid-target",x:N.midX,y:N.midY,angle:N.midtgtArrowAngle}],Q=0;Q<ve.length;Q++){var le=ve[Q],de=a.arrowShapes[A.pstyle(le.name+"-arrow-shape").value],me=A.pstyle("width").pfValue;if(de.roughCollide(e,t,ue,le.angle,{x:le.x,y:le.y},me,c)&&de.collide(e,t,ue,le.angle,{x:le.x,y:le.y},me,c))return w(A),!0}d&&u.length>0&&(_(ee),_(oe))}function C(A,L,N){return V2(A,L,N)}function $(A,L){var N=A._private,R=p,D;L?D=L+"-":D="",A.boundingBox();var j=N.labelBounds[L||"main"],U=A.pstyle(D+"label").value,H=A.pstyle("text-events").strValue==="yes";if(!(!H||!U)){var Y=C(N.rscratch,"labelX",L),Z=C(N.rscratch,"labelY",L),Q=C(N.rscratch,"labelAngle",L),ee=A.pstyle(D+"text-margin-x").pfValue,oe=A.pstyle(D+"text-margin-y").pfValue,ue=j.x1-R-ee,ve=j.x2+R-ee,le=j.y1-R-oe,de=j.y2+R-oe;if(Q){var me=Math.cos(Q),Se=Math.sin(Q),Ee=function(gt,Ye){return gt=gt-Y,Ye=Ye-Z,{x:gt*me-Ye*Se+Y,y:gt*Se+Ye*me+Z}},xe=Ee(ue,le),Ie=Ee(ue,de),Ne=Ee(ve,le),We=Ee(ve,de),Me=[xe.x+ee,xe.y+oe,Ne.x+ee,Ne.y+oe,We.x+ee,We.y+oe,Ie.x+ee,Ie.y+oe];if(cm(e,t,Me))return w(A),!0}else if(hN(j,e,t))return w(A),!0}}for(var k=s.length-1;k>=0;k--){var M=s[k];M.isNode()?_(M)||$(M):S(M)||$(M)||$(M,"source")||$(M,"target")}return u};sL.getAllInBox=function(e,t,n,r){var i=this.getCachedZSortedEles().interactive,a=[],s=Math.min(e,n),u=Math.max(e,n),f=Math.min(t,r),d=Math.max(t,r);e=s,n=u,t=f,r=d;for(var c=Om({x1:e,y1:t,x2:n,y2:r}),h=0;h<i.length;h++){var p=i[h];if(p.isNode()){var v=p,m=v.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});oke(c,m)&&!wot(m,c)&&a.push(v)}else{var y=p,w=y._private,_=w.rscratch;if(_.startX!=null&&_.startY!=null&&!hN(c,_.startX,_.startY)||_.endX!=null&&_.endY!=null&&!hN(c,_.endX,_.endY))continue;if(_.edgeType==="bezier"||_.edgeType==="multibezier"||_.edgeType==="self"||_.edgeType==="compound"||_.edgeType==="segments"||_.edgeType==="haystack"){for(var S=w.rstyle.bezierPts||w.rstyle.linePts||w.rstyle.haystackPts,C=!0,$=0;$<S.length;$++)if(!BWt(c,S[$])){C=!1;break}C&&a.push(y)}else(_.edgeType==="haystack"||_.edgeType==="straight")&&a.push(y)}}return a};var cre={};cre.calculateArrowAngles=function(e){var t=e._private.rscratch,n=t.edgeType==="haystack",r=t.edgeType==="bezier",i=t.edgeType==="multibezier",a=t.edgeType==="segments",s=t.edgeType==="compound",u=t.edgeType==="self",f,d,c,h,p,v,_,S;if(n?(c=t.haystackPts[0],h=t.haystackPts[1],p=t.haystackPts[2],v=t.haystackPts[3]):(c=t.arrowStartX,h=t.arrowStartY,p=t.arrowEndX,v=t.arrowEndY),_=t.midX,S=t.midY,a)f=c-t.segpts[0],d=h-t.segpts[1];else if(i||s||u||r){var m=t.allpts,y=Ah(m[0],m[2],m[4],.1),w=Ah(m[1],m[3],m[5],.1);f=c-y,d=h-w}else f=c-_,d=h-S;t.srcArrowAngle=vJ(f,d);var _=t.midX,S=t.midY;if(n&&(_=(c+p)/2,S=(h+v)/2),f=p-c,d=v-h,a){var m=t.allpts;if(m.length/2%2===0){var C=m.length/2,$=C-2;f=m[C]-m[$],d=m[C+1]-m[$+1]}else{var C=m.length/2-1,$=C-2,k=C+2;f=m[C]-m[$],d=m[C+1]-m[$+1]}}else if(i||s||u){var m=t.allpts,M=t.ctrlpts,A,L,N,R;if(M.length/2%2===0){var D=m.length/2-1,j=D+2,U=j+2;A=Ah(m[D],m[j],m[U],0),L=Ah(m[D+1],m[j+1],m[U+1],0),N=Ah(m[D],m[j],m[U],1e-4),R=Ah(m[D+1],m[j+1],m[U+1],1e-4)}else{var j=m.length/2-1,D=j-2,U=j+2;A=Ah(m[D],m[j],m[U],.4999),L=Ah(m[D+1],m[j+1],m[U+1],.4999),N=Ah(m[D],m[j],m[U],.5),R=Ah(m[D+1],m[j+1],m[U+1],.5)}f=N-A,d=R-L}if(t.midtgtArrowAngle=vJ(f,d),t.midDispX=f,t.midDispY=d,f*=-1,d*=-1,a){var m=t.allpts;if(m.length/2%2!==0){var C=m.length/2-1,k=C+2;f=-(m[k]-m[C]),d=-(m[k+1]-m[C+1])}}if(t.midsrcArrowAngle=vJ(f,d),a)f=p-t.segpts[t.segpts.length-2],d=v-t.segpts[t.segpts.length-1];else if(i||s||u||r){var m=t.allpts,H=m.length,y=Ah(m[H-6],m[H-4],m[H-2],.9),w=Ah(m[H-5],m[H-3],m[H-1],.9);f=p-y,d=v-w}else f=p-_,d=v-S;t.tgtArrowAngle=vJ(f,d)};cre.getArrowWidth=cre.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(e*13.37,.9),29)*t,n[e+", "+t]=r,r)};var wv={};wv.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,i=r.rscratch;if(!i.haystack){var a=Math.random()*2*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=Math.random()*2*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var s=r.source,u=r.target,f=s.position(),d=u.position(),c=s.width(),h=u.width(),p=s.height(),v=u.height(),m=n.pstyle("haystack-radius").value,y=m/2;i.haystackPts=i.allpts=[i.source.x*c*y+f.x,i.source.y*p*y+f.y,i.target.x*h*y+d.x,i.target.y*v*y+d.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}};wv.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=t.posPts,i=t.intersectionPts,a=t.vectorNormInverse,s=e.pstyle("edge-distances").value,u=e.pstyle("segment-weights"),f=e.pstyle("segment-distances"),d=Math.min(u.pfValue.length,f.pfValue.length);n.edgeType="segments",n.segpts=[];for(var c=0;c<d;c++){var h=u.pfValue[c],p=f.pfValue[c],v=1-h,m=h,y=s==="node-position"?r:i,w={x:y.x1*v+y.x2*m,y:y.y1*v+y.y2*m};n.segpts.push(w.x+a.x*p,w.y+a.y*p)}};wv.findLoopPoints=function(e,t,n,r){var i=e._private.rscratch,a=t.dirCounts,s=t.srcPos,u=e.pstyle("control-point-distances"),f=u?u.pfValue[0]:void 0,d=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,h=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var p=n,v=h;r&&(p=0,v=f);var m=d-Math.PI/2,y=m-c/2,w=m+c/2,_=d+"_"+c;p=a[_]===void 0?a[_]=0:++a[_],i.ctrlpts=[s.x+Math.cos(y)*1.4*v*(p/3+1),s.y+Math.sin(y)*1.4*v*(p/3+1),s.x+Math.cos(w)*1.4*v*(p/3+1),s.y+Math.sin(w)*1.4*v*(p/3+1)]};wv.findCompoundLoopPoints=function(e,t,n,r){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,s=t.tgtPos,u=t.srcW,f=t.srcH,d=t.tgtW,c=t.tgtH,h=e.pstyle("control-point-step-size").pfValue,p=e.pstyle("control-point-distances"),v=p?p.pfValue[0]:void 0,m=n,y=h;r&&(m=0,y=v);var w=50,_={x:a.x-u/2,y:a.y-f/2},S={x:s.x-d/2,y:s.y-c/2},C={x:Math.min(_.x,S.x),y:Math.min(_.y,S.y)},$=.5,k=Math.max($,Math.log(u*.01)),M=Math.max($,Math.log(d*.01));i.ctrlpts=[C.x,C.y-(1+Math.pow(w,1.12)/100)*y*(m/3+1)*k,C.x-(1+Math.pow(w,1.12)/100)*y*(m/3+1)*M,C.y]};wv.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};wv.findBezierPoints=function(e,t,n,r,i){var a=e._private.rscratch,s=t.vectorNormInverse,u=t.posPts,f=t.intersectionPts,d=e.pstyle("edge-distances").value,c=e.pstyle("control-point-step-size").pfValue,h=e.pstyle("control-point-distances"),p=e.pstyle("control-point-weights"),v=h&&p?Math.min(h.value.length,p.value.length):1,m=h?h.pfValue[0]:void 0,y=p.value[0],w=r;a.edgeType=w?"multibezier":"bezier",a.ctrlpts=[];for(var _=0;_<v;_++){var S=(.5-t.eles.length/2+n)*c*(i?-1:1),C=void 0,$=bot(S);w&&(m=h?h.pfValue[_]:c,y=p.value[_]),r?C=m:C=m!==void 0?$*m:void 0;var k=C!==void 0?C:S,M=1-y,A=y,L=d==="node-position"?u:f,N={x:L.x1*M+L.x2*A,y:L.y1*M+L.y2*A};a.ctrlpts.push(N.x+s.x*k,N.y+s.y*k)}};wv.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",i="horizontal",a="leftward",s="rightward",u="downward",f="upward",d="auto",c=t.posPts,h=t.srcW,p=t.srcH,v=t.tgtW,m=t.tgtH,y=e.pstyle("edge-distances").value,w=y!=="node-position",_=e.pstyle("taxi-direction").value,S=_,C=e.pstyle("taxi-turn"),$=C.units==="%",k=C.pfValue,M=k<0,A=e.pstyle("taxi-turn-min-distance").pfValue,L=w?(h+v)/2:0,N=w?(p+m)/2:0,R=c.x2-c.x1,D=c.y2-c.y1,j=function(Bt,kt){return Bt>0?Math.max(Bt-kt,0):Math.min(Bt+kt,0)},U=j(R,L),H=j(D,N),Y=!1;S===d?_=Math.abs(U)>Math.abs(H)?i:r:S===f||S===u?(_=r,Y=!0):(S===a||S===s)&&(_=i,Y=!0);var Z=_===r,Q=Z?H:U,ee=Z?D:R,oe=bot(ee),ue=!1;!(Y&&($||M))&&(S===u&&ee<0||S===f&&ee>0||S===a&&ee>0||S===s&&ee<0)&&(oe*=-1,Q=oe*Math.abs(Q),ue=!0);var ve;if($){var le=k<0?1+k:k;ve=le*Q}else{var de=k<0?Q:0;ve=de+k*oe}var me=function(Bt){return Math.abs(Bt)<A||Math.abs(Bt)>=Math.abs(Q)},Se=me(ve),Ee=me(Math.abs(Q)-Math.abs(ve)),xe=Se||Ee;if(xe&&!ue)if(Z){var Ie=Math.abs(ee)<=p/2,Ne=Math.abs(R)<=v/2;if(Ie){var We=(c.x1+c.x2)/2,Me=c.y1,He=c.y2;n.segpts=[We,Me,We,He]}else if(Ne){var gt=(c.y1+c.y2)/2,Ye=c.x1,ot=c.x2;n.segpts=[Ye,gt,ot,gt]}else n.segpts=[c.x1,c.y2]}else{var Ue=Math.abs(ee)<=h/2,st=Math.abs(D)<=m/2;if(Ue){var at=(c.y1+c.y2)/2,St=c.x1,Vt=c.x2;n.segpts=[St,at,Vt,at]}else if(st){var tt=(c.x1+c.x2)/2,wt=c.y1,vt=c.y2;n.segpts=[tt,wt,tt,vt]}else n.segpts=[c.x2,c.y1]}else if(Z){var Le=c.y1+ve+(w?p/2*oe:0),ft=c.x1,Mt=c.x2;n.segpts=[ft,Le,Mt,Le]}else{var yt=c.x1+ve+(w?h/2*oe:0),Ct=c.y1,jt=c.y2;n.segpts=[yt,Ct,yt,jt]}};wv.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if(n.edgeType==="bezier"){var r=t.srcPos,i=t.tgtPos,a=t.srcW,s=t.srcH,u=t.tgtW,f=t.tgtH,d=t.srcShape,c=t.tgtShape,h=!$r(n.startX)||!$r(n.startY),p=!$r(n.arrowStartX)||!$r(n.arrowStartY),v=!$r(n.endX)||!$r(n.endY),m=!$r(n.arrowEndX)||!$r(n.arrowEndY),y=3,w=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,_=y*w,S=cP({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),C=S<_,$=cP({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),k=$<_,M=!1;if(h||p||C){M=!0;var A={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},L=Math.sqrt(A.x*A.x+A.y*A.y),N={x:A.x/L,y:A.y/L},R=Math.max(a,s),D={x:n.ctrlpts[0]+N.x*2*R,y:n.ctrlpts[1]+N.y*2*R},j=d.intersectLine(r.x,r.y,a,s,D.x,D.y,0);C?(n.ctrlpts[0]=n.ctrlpts[0]+N.x*(_-S),n.ctrlpts[1]=n.ctrlpts[1]+N.y*(_-S)):(n.ctrlpts[0]=j[0]+N.x*_,n.ctrlpts[1]=j[1]+N.y*_)}if(v||m||k){M=!0;var U={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},H=Math.sqrt(U.x*U.x+U.y*U.y),Y={x:U.x/H,y:U.y/H},Z=Math.max(a,s),Q={x:n.ctrlpts[0]+Y.x*2*Z,y:n.ctrlpts[1]+Y.y*2*Z},ee=c.intersectLine(i.x,i.y,u,f,Q.x,Q.y,0);k?(n.ctrlpts[0]=n.ctrlpts[0]+Y.x*(_-$),n.ctrlpts[1]=n.ctrlpts[1]+Y.y*(_-$)):(n.ctrlpts[0]=ee[0]+Y.x*_,n.ctrlpts[1]=ee[1]+Y.y*_)}M&&this.findEndpoints(e)}};wv.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);t.allpts.push(t.endX,t.endY);var r,i;t.ctrlpts.length/2%2===0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,i=.5,t.midX=Ah(t.allpts[r],t.allpts[r+2],t.allpts[r+4],i),t.midY=Ah(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],i))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments")if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4===0){var a=t.segpts.length/2,s=a-2;t.midX=(t.segpts[s]+t.segpts[a])/2,t.midY=(t.segpts[s+1]+t.segpts[a+1])/2}else{var u=t.segpts.length/2-1;t.midX=t.segpts[u],t.midY=t.segpts[u+1]}};wv.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||$r(t.startX)&&$r(t.startY)&&$r(t.endX)&&$r(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,su("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};wv.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var n=this,r=n.cy,i=r.hasCompoundNodes(),a={map:new DS,get:function(A){var L=this.map.get(A[0]);return L!=null?L.get(A[1]):null},set:function(A,L){var N=this.map.get(A[0]);N==null&&(N=new DS,this.map.set(A[0],N)),N.set(A[1],L)}},s=[],u=[],f=0;f<e.length;f++){var d=e[f],c=d._private,h=d.pstyle("curve-style").value;if(!(d.removed()||!d.takesUpSpace())){if(h==="haystack"){u.push(d);continue}var p=h==="unbundled-bezier"||h==="segments"||h==="straight"||h==="straight-triangle"||h==="taxi",v=h==="unbundled-bezier"||h==="bezier",m=c.source,y=c.target,w=m.poolIndex(),_=y.poolIndex(),S=[w,_].sort(),C=a.get(S);C==null&&(C={eles:[]},a.set(S,C),s.push(S)),C.eles.push(d),p&&(C.hasUnbundled=!0),v&&(C.hasBezier=!0)}}for(var $=function(A){var L=s[A],N=a.get(L),R=void 0;if(!N.hasUnbundled){var D=N.eles[0].parallelEdges().filter(function(vt){return vt.isBundledBezier()});ike(N.eles),D.forEach(function(vt){return N.eles.push(vt)}),N.eles.sort(function(vt,Le){return vt.poolIndex()-Le.poolIndex()})}var j=N.eles[0],U=j.source(),H=j.target();if(U.poolIndex()>H.poolIndex()){var Y=U;U=H,H=Y}var Z=N.srcPos=U.position(),Q=N.tgtPos=H.position(),ee=N.srcW=U.outerWidth(),oe=N.srcH=U.outerHeight(),ue=N.tgtW=H.outerWidth(),ve=N.tgtH=H.outerHeight(),le=N.srcShape=n.nodeShapes[t.getNodeShape(U)],de=N.tgtShape=n.nodeShapes[t.getNodeShape(H)];N.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var me=0;me<N.eles.length;me++){var Se=N.eles[me],Ee=Se[0]._private.rscratch,xe=Se.pstyle("curve-style").value,Ie=xe==="unbundled-bezier"||xe==="segments"||xe==="taxi",Ne=!U.same(Se.source());if(!N.calculatedIntersection&&U!==H&&(N.hasBezier||N.hasUnbundled)){N.calculatedIntersection=!0;var We=le.intersectLine(Z.x,Z.y,ee,oe,Q.x,Q.y,0),Me=N.srcIntn=We,He=de.intersectLine(Q.x,Q.y,ue,ve,Z.x,Z.y,0),gt=N.tgtIntn=He,Ye=N.intersectionPts={x1:We[0],x2:He[0],y1:We[1],y2:He[1]},ot=N.posPts={x1:Z.x,x2:Q.x,y1:Z.y,y2:Q.y},Ue=He[1]-We[1],st=He[0]-We[0],at=Math.sqrt(st*st+Ue*Ue),St=N.vector={x:st,y:Ue},Vt=N.vectorNorm={x:St.x/at,y:St.y/at},tt={x:-Vt.y,y:Vt.x};N.nodesOverlap=!$r(at)||de.checkPoint(We[0],We[1],0,ue,ve,Q.x,Q.y)||le.checkPoint(He[0],He[1],0,ee,oe,Z.x,Z.y),N.vectorNormInverse=tt,R={nodesOverlap:N.nodesOverlap,dirCounts:N.dirCounts,calculatedIntersection:!0,hasBezier:N.hasBezier,hasUnbundled:N.hasUnbundled,eles:N.eles,srcPos:Q,tgtPos:Z,srcW:ue,srcH:ve,tgtW:ee,tgtH:oe,srcIntn:gt,tgtIntn:Me,srcShape:de,tgtShape:le,posPts:{x1:ot.x2,y1:ot.y2,x2:ot.x1,y2:ot.y1},intersectionPts:{x1:Ye.x2,y1:Ye.y2,x2:Ye.x1,y2:Ye.y1},vector:{x:-St.x,y:-St.y},vectorNorm:{x:-Vt.x,y:-Vt.y},vectorNormInverse:{x:-tt.x,y:-tt.y}}}var wt=Ne?R:N;Ee.nodesOverlap=wt.nodesOverlap,Ee.srcIntn=wt.srcIntn,Ee.tgtIntn=wt.tgtIntn,i&&(U.isParent()||U.isChild()||H.isParent()||H.isChild())&&(U.parents().anySame(H)||H.parents().anySame(U)||U.same(H)&&U.isParent())?t.findCompoundLoopPoints(Se,wt,me,Ie):U===H?t.findLoopPoints(Se,wt,me,Ie):xe==="segments"?t.findSegmentsPoints(Se,wt):xe==="taxi"?t.findTaxiPoints(Se,wt):xe==="straight"||!Ie&&N.eles.length%2===1&&me===Math.floor(N.eles.length/2)?t.findStraightEdgePoints(Se):t.findBezierPoints(Se,wt,me,Ie,Ne),t.findEndpoints(Se),t.tryToCorrectInvalidPoints(Se,wt),t.checkForInvalidEdgeWarning(Se),t.storeAllpts(Se),t.storeEdgeProjections(Se),t.calculateArrowAngles(Se),t.recalculateEdgeLabelProjections(Se),t.calculateLabelAngles(Se)}},k=0;k<s.length;k++)$(k);this.findHaystackPoints(u)}};function sst(e){var t=[];if(e!=null){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t.push({x:r,y:i})}return t}}wv.getSegmentPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if(n==="segments")return this.recalculateRenderedStyle(e),sst(t.segpts)};wv.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if(n==="bezier"||n==="multibezier"||n==="self"||n==="compound")return this.recalculateRenderedStyle(e),sst(t.ctrlpts)};wv.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var uG={};uG.manualEndptToPx=function(e,t){var n=this,r=e.position(),i=e.outerWidth(),a=e.outerHeight();if(t.value.length===2){var s=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(s[0]=s[0]*i),t.units[1]==="%"&&(s[1]=s[1]*a),s[0]+=r.x,s[1]+=r.y,s}else{var u=t.pfValue[0];u=-Math.PI/2+u;var f=2*Math.max(i,a),d=[r.x+Math.cos(u)*f,r.y+Math.sin(u)*f];return n.nodeShapes[this.getNodeShape(e)].intersectLine(r.x,r.y,i,a,d[0],d[1],0)}};uG.findEndpoints=function(e){var t=this,n,r=e.source()[0],i=e.target()[0],a=r.position(),s=i.position(),u=e.pstyle("target-arrow-shape").value,f=e.pstyle("source-arrow-shape").value,d=e.pstyle("target-distance-from-node").pfValue,c=e.pstyle("source-distance-from-node").pfValue,h=e.pstyle("curve-style").value,p=e._private.rscratch,v=p.edgeType,m=h==="taxi",y=v==="self"||v==="compound",w=v==="bezier"||v==="multibezier"||y,_=v!=="bezier",S=v==="straight"||v==="segments",C=v==="segments",$=w||_||S,k=y||m,M=e.pstyle("source-endpoint"),A=k?"outside-to-node":M.value,L=e.pstyle("target-endpoint"),N=k?"outside-to-node":L.value;p.srcManEndpt=M,p.tgtManEndpt=L;var R,D,j,U;if(w){var H=[p.ctrlpts[0],p.ctrlpts[1]],Y=_?[p.ctrlpts[p.ctrlpts.length-2],p.ctrlpts[p.ctrlpts.length-1]]:H;R=Y,D=H}else if(S){var Z=C?p.segpts.slice(0,2):[s.x,s.y],Q=C?p.segpts.slice(p.segpts.length-2):[a.x,a.y];R=Q,D=Z}if(N==="inside-to-node")n=[s.x,s.y];else if(L.units)n=this.manualEndptToPx(i,L);else if(N==="outside-to-line")n=p.tgtIntn;else if(N==="outside-to-node"||N==="outside-to-node-or-label"?j=R:(N==="outside-to-line"||N==="outside-to-line-or-label")&&(j=[a.x,a.y]),n=t.nodeShapes[this.getNodeShape(i)].intersectLine(s.x,s.y,i.outerWidth(),i.outerHeight(),j[0],j[1],0),N==="outside-to-node-or-label"||N==="outside-to-line-or-label"){var ee=i._private.rscratch,oe=ee.labelWidth,ue=ee.labelHeight,ve=ee.labelX,le=ee.labelY,de=oe/2,me=ue/2,Se=i.pstyle("text-valign").value;Se==="top"?le-=me:Se==="bottom"&&(le+=me);var Ee=i.pstyle("text-halign").value;Ee==="left"?ve-=de:Ee==="right"&&(ve+=de);var xe=kV(j[0],j[1],[ve-de,le-me,ve+de,le-me,ve+de,le+me,ve-de,le+me],s.x,s.y);if(xe.length>0){var Ie=a,Ne=KM(Ie,eF(n)),We=KM(Ie,eF(xe)),Me=Ne;if(We<Ne&&(n=xe,Me=We),xe.length>2){var He=KM(Ie,{x:xe[2],y:xe[3]});He<Me&&(n=[xe[2],xe[3]])}}}var gt=mJ(n,R,t.arrowShapes[u].spacing(e)+d),Ye=mJ(n,R,t.arrowShapes[u].gap(e)+d);if(p.endX=Ye[0],p.endY=Ye[1],p.arrowEndX=gt[0],p.arrowEndY=gt[1],A==="inside-to-node")n=[a.x,a.y];else if(M.units)n=this.manualEndptToPx(r,M);else if(A==="outside-to-line")n=p.srcIntn;else if(A==="outside-to-node"||A==="outside-to-node-or-label"?U=D:(A==="outside-to-line"||A==="outside-to-line-or-label")&&(U=[s.x,s.y]),n=t.nodeShapes[this.getNodeShape(r)].intersectLine(a.x,a.y,r.outerWidth(),r.outerHeight(),U[0],U[1],0),A==="outside-to-node-or-label"||A==="outside-to-line-or-label"){var ot=r._private.rscratch,Ue=ot.labelWidth,st=ot.labelHeight,at=ot.labelX,St=ot.labelY,Vt=Ue/2,tt=st/2,wt=r.pstyle("text-valign").value;wt==="top"?St-=tt:wt==="bottom"&&(St+=tt);var vt=r.pstyle("text-halign").value;vt==="left"?at-=Vt:vt==="right"&&(at+=Vt);var Le=kV(U[0],U[1],[at-Vt,St-tt,at+Vt,St-tt,at+Vt,St+tt,at-Vt,St+tt],a.x,a.y);if(Le.length>0){var ft=s,Mt=KM(ft,eF(n)),yt=KM(ft,eF(Le)),Ct=Mt;if(yt<Mt&&(n=[Le[0],Le[1]],Ct=yt),Le.length>2){var jt=KM(ft,{x:Le[2],y:Le[3]});jt<Ct&&(n=[Le[2],Le[3]])}}}var At=mJ(n,D,t.arrowShapes[f].spacing(e)+c),Bt=mJ(n,D,t.arrowShapes[f].gap(e)+c);p.startX=Bt[0],p.startY=Bt[1],p.arrowStartX=At[0],p.arrowStartY=At[1],$&&(!$r(p.startX)||!$r(p.startY)||!$r(p.endX)||!$r(p.endY)?p.badLine=!0:p.badLine=!1)};uG.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};uG.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var vke={};function bYt(e,t,n){for(var r=function(d,c,h,p){return Ah(d,c,h,p)},i=t._private,a=i.rstyle.bezierPts,s=0;s<e.bezierProjPcts.length;s++){var u=e.bezierProjPcts[s];a.push({x:r(n[0],n[2],n[4],u),y:r(n[1],n[3],n[5],u)})}}vke.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,r==="multibezier"||r==="bezier"||r==="self"||r==="compound"){t.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)bYt(this,e,n.allpts.slice(i,i+6))}else if(r==="segments")for(var a=t.rstyle.linePts=[],i=0;i+1<n.allpts.length;i+=2)a.push({x:n.allpts[i],y:n.allpts[i+1]});else if(r==="haystack"){var s=n.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};vke.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var EE={};EE.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!m3(t)){var n,r,i=e._private,a=e.width(),s=e.height(),u=e.padding(),f=e.position(),d=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,h=i.rscratch,p=i.rstyle;switch(d){case"left":n=f.x-a/2-u;break;case"right":n=f.x+a/2+u;break;default:n=f.x}switch(c){case"top":r=f.y-s/2-u;break;case"bottom":r=f.y+s/2+u;break;default:r=f.y}h.labelX=n,h.labelY=r,p.labelX=n,p.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var ust=function(t,n){var r=Math.atan(n/t);return t===0&&r<0&&(r=r*-1),r},lst=function(t,n){var r=n.x-t.x,i=n.y-t.y;return ust(r,i)},wYt=function(t,n,r,i){var a=$V(0,i-.001,1),s=$V(0,i+.001,1),u=kF(t,n,r,a),f=kF(t,n,r,s);return lst(u,f)};EE.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:r.midX,y:r.midY};var s=function(h,p,v){hR(n.rscratch,h,p,v),hR(n.rstyle,h,p,v)};s("labelX",null,t.x),s("labelY",null,t.y);var u=ust(r.midDispX,r.midDispY);s("labelAutoAngle",null,u);var f=function c(){if(c.cache)return c.cache;for(var h=[],p=0;p+5<r.allpts.length;p+=4){var v={x:r.allpts[p],y:r.allpts[p+1]},m={x:r.allpts[p+2],y:r.allpts[p+3]},y={x:r.allpts[p+4],y:r.allpts[p+5]};h.push({p0:v,p1:m,p2:y,startDist:0,length:0,segments:[]})}var w=n.rstyle.bezierPts,_=i.bezierProjPcts.length;function S(A,L,N,R,D){var j=cP(L,N),U=A.segments[A.segments.length-1],H={p0:L,p1:N,t0:R,t1:D,startDist:U?U.startDist+U.length:0,length:j};A.segments.push(H),A.length+=j}for(var C=0;C<h.length;C++){var $=h[C],k=h[C-1];k&&($.startDist=k.startDist+k.length),S($,$.p0,w[C*_],0,i.bezierProjPcts[0]);for(var M=0;M<_-1;M++)S($,w[C*_+M],w[C*_+M+1],i.bezierProjPcts[M],i.bezierProjPcts[M+1]);S($,w[C*_+_-1],$.p2,i.bezierProjPcts[_-1],1)}return c.cache=h},d=function(h){var p,v=h==="source";if(a[h]){var m=e.pstyle(h+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=f(),w,_=0,S=0,C=0;C<y.length;C++){for(var $=y[v?C:y.length-1-C],k=0;k<$.segments.length;k++){var M=$.segments[v?k:$.segments.length-1-k],A=C===y.length-1&&k===$.segments.length-1;if(_=S,S+=M.length,S>=m||A){w={cp:$,segment:M};break}}if(w)break}var L=w.cp,N=w.segment,R=(m-_)/N.length,D=N.t1-N.t0,j=v?N.t0+D*R:N.t1-D*R;j=$V(0,j,1),t=kF(L.p0,L.p1,L.p2,j),p=wYt(L.p0,L.p1,L.p2,j);break}case"straight":case"segments":case"haystack":{for(var U=0,H,Y,Z,Q,ee=r.allpts.length,oe=0;oe+3<ee&&(v?(Z={x:r.allpts[oe],y:r.allpts[oe+1]},Q={x:r.allpts[oe+2],y:r.allpts[oe+3]}):(Z={x:r.allpts[ee-2-oe],y:r.allpts[ee-1-oe]},Q={x:r.allpts[ee-4-oe],y:r.allpts[ee-3-oe]}),H=cP(Z,Q),Y=U,U+=H,!(U>=m));oe+=2);var ue=m-Y,ve=ue/H;ve=$V(0,ve,1),t=IWt(Z,Q,ve),p=lst(Z,Q);break}}s("labelX",h,t.x),s("labelY",h,t.y),s("labelAutoAngle",h,p)}};d("source"),d("target"),this.applyLabelDimensions(e)}};EE.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};EE.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r),a=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,u=V2(n.rscratch,"labelWrapCachedLines",t)||[],f=s!=="wrap"?1:Math.max(u.length,1),d=i.height/f,c=d*a,h=i.width,p=i.height+(f-1)*(a-1)*d;hR(n.rstyle,"labelWidth",t,h),hR(n.rscratch,"labelWidth",t,h),hR(n.rstyle,"labelHeight",t,p),hR(n.rscratch,"labelHeight",t,p),hR(n.rscratch,"labelLineHeight",t,c)};EE.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,a=e.pstyle("text-transform").value,s=function(ue,ve){return ve?(hR(n.rscratch,ue,t,ve),ve):V2(n.rscratch,ue,t)};if(!i)return"";a=="none"||(a=="uppercase"?i=i.toUpperCase():a=="lowercase"&&(i=i.toLowerCase()));var u=e.pstyle("text-wrap").value;if(u==="wrap"){var f=s("labelKey");if(f!=null&&s("labelWrapKey")===f)return s("labelWrapCachedText");for(var d="",c=i.split(`
`),h=e.pstyle("text-max-width").pfValue,p=e.pstyle("text-overflow-wrap").value,v=p==="anywhere",m=[],y=/[\s\u200b]+/,w=v?"":" ",_=0;_<c.length;_++){var S=c[_],C=this.calculateLabelDimensions(e,S),$=C.width;if(v){var k=S.split("").join(d);S=k}if($>h){for(var M=S.split(y),A="",L=0;L<M.length;L++){var N=M[L],R=A.length===0?N:A+w+N,D=this.calculateLabelDimensions(e,R),j=D.width;j<=h?A+=N+w:(A&&m.push(A),A=N+w)}A.match(/^[\s\u200b]+$/)||m.push(A)}else m.push(S)}s("labelWrapCachedLines",m),i=s("labelWrapCachedText",m.join(`
`)),s("labelWrapKey",f)}else if(u==="ellipsis"){var U=e.pstyle("text-max-width").pfValue,H="",Y="",Z=!1;if(this.calculateLabelDimensions(e,i).width<U)return i;for(var Q=0;Q<i.length;Q++){var ee=this.calculateLabelDimensions(e,H+i[Q]+Y).width;if(ee>U)break;H+=i[Q],Q===i.length-1&&(Z=!0)}return Z||(H+=Y),H}return i};EE.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(n){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};EE.calculateLabelDimensions=function(e,t){var n=this,r=lP(t,e._private.labelDimsKey),i=n.labelDimCache||(n.labelDimCache=[]),a=i[r];if(a!=null)return a;var s=0,u=e.pstyle("font-style").strValue,f=e.pstyle("font-size").pfValue,d=e.pstyle("font-family").strValue,c=e.pstyle("font-weight").strValue,h=this.labelCalcCanvas,p=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=document.createElement("canvas"),p=this.labelCalcCanvasContext=h.getContext("2d");var v=h.style;v.position="absolute",v.left="-9999px",v.top="-9999px",v.zIndex="-1",v.visibility="hidden",v.pointerEvents="none"}p.font="".concat(u," ").concat(c," ").concat(f,"px ").concat(d);for(var m=0,y=0,w=t.split(`
`),_=0;_<w.length;_++){var S=w[_],C=p.measureText(S),$=Math.ceil(C.width),k=f;m=Math.max($,m),y+=k}return m+=s,y+=s,i[r]={width:m,height:y}};EE.calculateLabelAngle=function(e,t){var n=e._private,r=n.rscratch,i=e.isEdge(),a=t?t+"-":"",s=e.pstyle(a+"text-rotation"),u=s.strValue;return u==="none"?0:i&&u==="autorotate"?r.labelAutoAngle:u==="autorotate"?0:s.pfValue};EE.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private,i=r.rscratch;i.labelAngle=t.calculateLabelAngle(e),n&&(i.sourceLabelAngle=t.calculateLabelAngle(e,"source"),i.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var cst={},SVe=28,EVe=!1;cst.getNodeShape=function(e){var t=this,n=e.pstyle("shape").value;if(n==="cutrectangle"&&(e.width()<SVe||e.height()<SVe))return EVe||(su("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),EVe=!0),"rectangle";if(e.isParent())return n==="rectangle"||n==="roundrectangle"||n==="round-rectangle"||n==="cutrectangle"||n==="cut-rectangle"||n==="barrel"?n:"rectangle";if(n==="polygon"){var r=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(r).name}return n};var joe={};joe.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),n=this,r=function(s){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(s),u)for(var f=0;f<s.length;f++){var d=s[f],c=d._private,h=c.rstyle;h.clean=!1,h.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",function(s){var u=s.target;r(u)}).on("style.* background.*",function(s){var u=s.target;r(u,!1)});var i=function(s){if(s){var u=n.onUpdateEleCalcsFns;t.cleanStyle();for(var f=0;f<t.length;f++){var d=t[f],c=d._private.rstyle;d.isNode()&&!c.cleanConnected&&(r(d.connectedEdges()),c.cleanConnected=!0)}if(u)for(var h=0;h<u.length;h++){var p=u[h];p(s,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)};joe.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};joe.recalculateRenderedStyle=function(e,t){var n=function($){return $._private.rstyle.cleanConnected},r=[],i=[];if(!this.destroyed){t===void 0&&(t=!0);for(var a=0;a<e.length;a++){var s=e[a],u=s._private,f=u.rstyle;s.isEdge()&&(!n(s.source())||!n(s.target()))&&(f.clean=!1),!(t&&f.clean||s.removed())&&s.pstyle("display").value!=="none"&&(u.group==="nodes"?i.push(s):r.push(s),f.clean=!0)}for(var d=0;d<i.length;d++){var c=i[d],h=c._private,p=h.rstyle,v=c.position();this.recalculateNodeLabelProjection(c),p.nodeX=v.x,p.nodeY=v.y,p.nodeW=c.pstyle("width").pfValue,p.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var m=0;m<r.length;m++){var y=r[m],w=y._private,_=w.rstyle,S=w.rscratch;_.srcX=S.arrowStartX,_.srcY=S.arrowStartY,_.tgtX=S.arrowEndX,_.tgtY=S.arrowEndY,_.midX=S.midX,_.midY=S.midY,_.labelAngle=S.labelAngle,_.sourceLabelAngle=S.sourceLabelAngle,_.targetLabelAngle=S.targetLabelAngle}}};var Boe={};Boe.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=e[n],i=r._private.rscratch;r.grabbed()&&!r.isParent()?t.push(r):i.inDragLayer?e.drag.push(r):e.nondrag.push(r)}for(var n=0;n<t.length;n++){var r=t[n];e.drag.push(r)}}};Boe.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Boe.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Xot),t.interactive=t.filter(function(n){return n.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var fst={};[sL,cre,wv,uG,vke,EE,cst,joe,Boe].forEach(function(e){oa(fst,e)});var dst={};dst.getCachedImage=function(e,t,n){var r=this,i=r.imageCache=r.imageCache||{},a=i[e];if(a)return a.image.complete||a.image.addEventListener("load",n),a.image;a=i[e]=i[e]||{};var s=a.image=new Image;s.addEventListener("load",n),s.addEventListener("error",function(){s.error=!0});var u="data:",f=e.substring(0,u.length).toLowerCase()===u;return f||(s.crossOrigin=t),s.src=e,s};var j8={};j8.registerBinding=function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(e);return a.on.apply(a,i)};j8.binder=function(e){var t=this,n=e===window||e===document||e===document.body||BVt(e);if(t.supportsPassiveEvents==null){var r=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return r=!0,!0}});window.addEventListener("test",null,i)}catch{}t.supportsPassiveEvents=r}var a=function(u,f,d){var c=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(c[2]={capture:d??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:c}),(e.addEventListener||e.on).apply(e,c),this};return{on:a,addEventListener:a,addListener:a,bind:a}};j8.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};j8.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};j8.load=function(){var e=this,t=function(Le){return Le.selected()},n=function(Le,ft,Mt,yt){Le==null&&(Le=e.cy);for(var Ct=0;Ct<ft.length;Ct++){var jt=ft[Ct];Le.emit({originalEvent:Mt,type:jt,position:yt})}},r=function(Le){return Le.shiftKey||Le.metaKey||Le.ctrlKey},i=function(Le,ft){var Mt=!0;if(e.cy.hasCompoundNodes()&&Le&&Le.pannable())for(var yt=0;ft&&yt<ft.length;yt++){var Le=ft[yt];if(Le.isNode()&&Le.isParent()&&!Le.pannable()){Mt=!1;break}}else Mt=!0;return Mt},a=function(Le){Le[0]._private.grabbed=!0},s=function(Le){Le[0]._private.grabbed=!1},u=function(Le){Le[0]._private.rscratch.inDragLayer=!0},f=function(Le){Le[0]._private.rscratch.inDragLayer=!1},d=function(Le){Le[0]._private.rscratch.isGrabTarget=!0},c=function(Le){Le[0]._private.rscratch.isGrabTarget=!1},h=function(Le,ft){var Mt=ft.addToList,yt=Mt.has(Le);!yt&&Le.grabbable()&&!Le.locked()&&(Mt.merge(Le),a(Le))},p=function(Le,ft){if(Le.cy().hasCompoundNodes()&&!(ft.inDragLayer==null&&ft.addToList==null)){var Mt=Le.descendants();ft.inDragLayer&&(Mt.forEach(u),Mt.connectedEdges().forEach(u)),ft.addToList&&h(Mt,ft)}},v=function(Le,ft){ft=ft||{};var Mt=Le.cy().hasCompoundNodes();ft.inDragLayer&&(Le.forEach(u),Le.neighborhood().stdFilter(function(yt){return!Mt||yt.isEdge()}).forEach(u)),ft.addToList&&Le.forEach(function(yt){h(yt,ft)}),p(Le,ft),w(Le,{inDragLayer:ft.inDragLayer}),e.updateCachedGrabbedEles()},m=v,y=function(Le){Le&&(e.getCachedZSortedEles().forEach(function(ft){s(ft),f(ft),c(ft)}),e.updateCachedGrabbedEles())},w=function(Le,ft){if(!(ft.inDragLayer==null&&ft.addToList==null)&&Le.cy().hasCompoundNodes()){var Mt=Le.ancestors().orphans();if(!Mt.same(Le)){var yt=Mt.descendants().spawnSelf().merge(Mt).unmerge(Le).unmerge(Le.descendants()),Ct=yt.connectedEdges();ft.inDragLayer&&(Ct.forEach(u),yt.forEach(u)),ft.addToList&&yt.forEach(function(jt){h(jt,ft)})}}},_=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},S=typeof MutationObserver<"u",C=typeof ResizeObserver<"u";S?(e.removeObserver=new MutationObserver(function(vt){for(var Le=0;Le<vt.length;Le++){var ft=vt[Le],Mt=ft.removedNodes;if(Mt)for(var yt=0;yt<Mt.length;yt++){var Ct=Mt[yt];if(Ct===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(vt){e.destroy()});var $=Ooe.default(function(){e.cy.resize()},100);S&&(e.styleObserver=new MutationObserver($),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",$),C&&(e.resizeObserver=new ResizeObserver($),e.resizeObserver.observe(e.container));var k=function(Le,ft){for(;Le!=null;)ft(Le),Le=Le.parentNode},M=function(){e.invalidateContainerClientCoordsCache()};k(e.container,function(vt){e.registerBinding(vt,"transitionend",M),e.registerBinding(vt,"animationend",M),e.registerBinding(vt,"scroll",M)}),e.registerBinding(e.container,"contextmenu",function(vt){vt.preventDefault()});var A=function(){return e.selection[4]!==0},L=function(Le){for(var ft=e.findContainerClientCoords(),Mt=ft[0],yt=ft[1],Ct=ft[2],jt=ft[3],At=Le.touches?Le.touches:[Le],Bt=!1,kt=0;kt<At.length;kt++){var qt=At[kt];if(Mt<=qt.clientX&&qt.clientX<=Mt+Ct&&yt<=qt.clientY&&qt.clientY<=yt+jt){Bt=!0;break}}if(!Bt)return!1;for(var fn=e.container,jn=Le.target,Mn=jn.parentNode,Un=!1;Mn;){if(Mn===fn){Un=!0;break}Mn=Mn.parentNode}return!!Un};e.registerBinding(e.container,"mousedown",function(Le){if(L(Le)){Le.preventDefault(),_(),e.hoverData.capture=!0,e.hoverData.which=Le.which;var ft=e.cy,Mt=[Le.clientX,Le.clientY],yt=e.projectIntoViewport(Mt[0],Mt[1]),Ct=e.selection,jt=e.findNearestElements(yt[0],yt[1],!0,!1),At=jt[0],Bt=e.dragData.possibleDragElements;e.hoverData.mdownPos=yt,e.hoverData.mdownGPos=Mt;var kt=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var Kr=e.hoverData.down;Kr?Kr.emit({originalEvent:Le,type:"taphold",position:{x:yt[0],y:yt[1]}}):ft.emit({originalEvent:Le,type:"taphold",position:{x:yt[0],y:yt[1]}})}},e.tapholdDuration)};if(Le.which==3){e.hoverData.cxtStarted=!0;var qt={originalEvent:Le,type:"cxttapstart",position:{x:yt[0],y:yt[1]}};At?(At.activate(),At.emit(qt),e.hoverData.down=At):ft.emit(qt),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(Le.which==1){At&&At.activate();{if(At!=null&&e.nodeIsGrabbable(At)){var fn=function(Kr){return{originalEvent:Le,type:Kr,position:{x:yt[0],y:yt[1]}}},jn=function(Kr){Kr.emit(fn("grab"))};if(d(At),!At.selected())Bt=e.dragData.possibleDragElements=ft.collection(),m(At,{addToList:Bt}),At.emit(fn("grabon")).emit(fn("grab"));else{Bt=e.dragData.possibleDragElements=ft.collection();var Mn=ft.$(function(Un){return Un.isNode()&&Un.selected()&&e.nodeIsGrabbable(Un)});v(Mn,{addToList:Bt}),At.emit(fn("grabon")),Mn.forEach(jn)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=At,e.hoverData.downs=jt,e.hoverData.downTime=new Date().getTime()}n(At,["mousedown","tapstart","vmousedown"],Le,{x:yt[0],y:yt[1]}),At==null?(Ct[4]=1,e.data.bgActivePosistion={x:yt[0],y:yt[1]},e.redrawHint("select",!0),e.redraw()):At.pannable()&&(Ct[4]=1),kt()}Ct[0]=Ct[2]=yt[0],Ct[1]=Ct[3]=yt[1]}},!1),e.registerBinding(window,"mousemove",function(Le){var ft=e.hoverData.capture;if(!(!ft&&!L(Le))){var Mt=!1,yt=e.cy,Ct=yt.zoom(),jt=[Le.clientX,Le.clientY],At=e.projectIntoViewport(jt[0],jt[1]),Bt=e.hoverData.mdownPos,kt=e.hoverData.mdownGPos,qt=e.selection,fn=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(fn=e.findNearestElement(At[0],At[1],!0,!1));var jn=e.hoverData.last,Mn=e.hoverData.down,Un=[At[0]-qt[2],At[1]-qt[3]],Kr=e.dragData.possibleDragElements,Wi;if(kt){var sa=jt[0]-kt[0],ga=sa*sa,$i=jt[1]-kt[1],Do=$i*$i,xo=ga+Do;e.hoverData.isOverThresholdDrag=Wi=xo>=e.desktopTapThreshold2}var en=r(Le);Wi&&(e.hoverData.tapholdCancelled=!0);var sn=function(){var Oa=e.hoverData.dragDelta=e.hoverData.dragDelta||[];Oa.length===0?(Oa.push(Un[0]),Oa.push(Un[1])):(Oa[0]+=Un[0],Oa[1]+=Un[1])};Mt=!0,n(fn,["mousemove","vmousemove","tapdrag"],Le,{x:At[0],y:At[1]});var On=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||yt.emit({originalEvent:Le,type:"boxstart",position:{x:At[0],y:At[1]}}),qt[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(Wi){var Kn={originalEvent:Le,type:"cxtdrag",position:{x:At[0],y:At[1]}};Mn?Mn.emit(Kn):yt.emit(Kn),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||fn!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:Le,type:"cxtdragout",position:{x:At[0],y:At[1]}}),e.hoverData.cxtOver=fn,fn&&fn.emit({originalEvent:Le,type:"cxtdragover",position:{x:At[0],y:At[1]}}))}}else if(e.hoverData.dragging){if(Mt=!0,yt.panningEnabled()&&yt.userPanningEnabled()){var kr;if(e.hoverData.justStartedPan){var ti=e.hoverData.mdownPos;kr={x:(At[0]-ti[0])*Ct,y:(At[1]-ti[1])*Ct},e.hoverData.justStartedPan=!1}else kr={x:Un[0]*Ct,y:Un[1]*Ct};yt.panBy(kr),yt.emit("dragpan"),e.hoverData.dragged=!0}At=e.projectIntoViewport(Le.clientX,Le.clientY)}else if(qt[4]==1&&(Mn==null||Mn.pannable())){if(Wi){if(!e.hoverData.dragging&&yt.boxSelectionEnabled()&&(en||!yt.panningEnabled()||!yt.userPanningEnabled()))On();else if(!e.hoverData.selecting&&yt.panningEnabled()&&yt.userPanningEnabled()){var Ji=i(Mn,e.hoverData.downs);Ji&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,qt[4]=0,e.data.bgActivePosistion=eF(Bt),e.redrawHint("select",!0),e.redraw())}Mn&&Mn.pannable()&&Mn.active()&&Mn.unactivate()}}else{if(Mn&&Mn.pannable()&&Mn.active()&&Mn.unactivate(),(!Mn||!Mn.grabbed())&&fn!=jn&&(jn&&n(jn,["mouseout","tapdragout"],Le,{x:At[0],y:At[1]}),fn&&n(fn,["mouseover","tapdragover"],Le,{x:At[0],y:At[1]}),e.hoverData.last=fn),Mn)if(Wi){if(yt.boxSelectionEnabled()&&en)Mn&&Mn.grabbed()&&(y(Kr),Mn.emit("freeon"),Kr.emit("free"),e.dragData.didDrag&&(Mn.emit("dragfreeon"),Kr.emit("dragfree"))),On();else if(Mn&&Mn.grabbed()&&e.nodeIsDraggable(Mn)){var Yi=!e.dragData.didDrag;Yi&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||v(Kr,{inDragLayer:!0});var ka={x:0,y:0};if($r(Un[0])&&$r(Un[1])&&(ka.x+=Un[0],ka.y+=Un[1],Yi)){var fo=e.hoverData.dragDelta;fo&&$r(fo[0])&&$r(fo[1])&&(ka.x+=fo[0],ka.y+=fo[1])}e.hoverData.draggingEles=!0,Kr.silentShift(ka).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else sn();Mt=!0}if(qt[2]=At[0],qt[3]=At[1],Mt)return Le.stopPropagation&&Le.stopPropagation(),Le.preventDefault&&Le.preventDefault(),!1}},!1);var N,R,D;e.registerBinding(window,"mouseup",function(Le){var ft=e.hoverData.capture;if(ft){e.hoverData.capture=!1;var Mt=e.cy,yt=e.projectIntoViewport(Le.clientX,Le.clientY),Ct=e.selection,jt=e.findNearestElement(yt[0],yt[1],!0,!1),At=e.dragData.possibleDragElements,Bt=e.hoverData.down,kt=r(Le);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,Bt&&Bt.unactivate(),e.hoverData.which===3){var qt={originalEvent:Le,type:"cxttapend",position:{x:yt[0],y:yt[1]}};if(Bt?Bt.emit(qt):Mt.emit(qt),!e.hoverData.cxtDragged){var fn={originalEvent:Le,type:"cxttap",position:{x:yt[0],y:yt[1]}};Bt?Bt.emit(fn):Mt.emit(fn)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(n(jt,["mouseup","tapend","vmouseup"],Le,{x:yt[0],y:yt[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(n(Bt,["click","tap","vclick"],Le,{x:yt[0],y:yt[1]}),R=!1,Le.timeStamp-D<=Mt.multiClickDebounceTime()?(N&&clearTimeout(N),R=!0,D=null,n(Bt,["dblclick","dbltap","vdblclick"],Le,{x:yt[0],y:yt[1]})):(N=setTimeout(function(){R||n(Bt,["oneclick","onetap","voneclick"],Le,{x:yt[0],y:yt[1]})},Mt.multiClickDebounceTime()),D=Le.timeStamp)),Bt==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!r(Le)&&(Mt.$(t).unselect(["tapunselect"]),At.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=At=Mt.collection()),jt==Bt&&!e.dragData.didDrag&&!e.hoverData.selecting&&jt!=null&&jt._private.selectable&&(e.hoverData.dragging||(Mt.selectionType()==="additive"||kt?jt.selected()?jt.unselect(["tapunselect"]):jt.select(["tapselect"]):kt||(Mt.$(t).unmerge(jt).unselect(["tapunselect"]),jt.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var jn=Mt.collection(e.getAllInBox(Ct[0],Ct[1],Ct[2],Ct[3]));e.redrawHint("select",!0),jn.length>0&&e.redrawHint("eles",!0),Mt.emit({type:"boxend",originalEvent:Le,position:{x:yt[0],y:yt[1]}});var Mn=function(Wi){return Wi.selectable()&&!Wi.selected()};Mt.selectionType()==="additive"||kt||Mt.$(t).unmerge(jn).unselect(),jn.emit("box").stdFilter(Mn).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!Ct[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var Un=Bt&&Bt.grabbed();y(At),Un&&(Bt.emit("freeon"),At.emit("free"),e.dragData.didDrag&&(Bt.emit("dragfreeon"),At.emit("dragfree")))}}Ct[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}},!1);var j=function(Le){if(!e.scrollingPage){var ft=e.cy,Mt=ft.zoom(),yt=ft.pan(),Ct=e.projectIntoViewport(Le.clientX,Le.clientY),jt=[Ct[0]*Mt+yt.x,Ct[1]*Mt+yt.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||A()){Le.preventDefault();return}if(ft.panningEnabled()&&ft.userPanningEnabled()&&ft.zoomingEnabled()&&ft.userZoomingEnabled()){Le.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var At;Le.deltaY!=null?At=Le.deltaY/-250:Le.wheelDeltaY!=null?At=Le.wheelDeltaY/1e3:At=Le.wheelDelta/1e3,At=At*e.wheelSensitivity;var Bt=Le.deltaMode===1;Bt&&(At*=33);var kt=ft.zoom()*Math.pow(10,At);Le.type==="gesturechange"&&(kt=e.gestureStartZoom*Le.scale),ft.zoom({level:kt,renderedPosition:{x:jt[0],y:jt[1]}}),ft.emit(Le.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",j,!0),e.registerBinding(window,"scroll",function(Le){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(Le){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||Le.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(vt){e.hasTouchStarted||j(vt)},!0),e.registerBinding(e.container,"mouseout",function(Le){var ft=e.projectIntoViewport(Le.clientX,Le.clientY);e.cy.emit({originalEvent:Le,type:"mouseout",position:{x:ft[0],y:ft[1]}})},!1),e.registerBinding(e.container,"mouseover",function(Le){var ft=e.projectIntoViewport(Le.clientX,Le.clientY);e.cy.emit({originalEvent:Le,type:"mouseover",position:{x:ft[0],y:ft[1]}})},!1);var U,H,Y,Z,Q,ee,oe,ue,ve,le,de,me,Se,Ee=function(Le,ft,Mt,yt){return Math.sqrt((Mt-Le)*(Mt-Le)+(yt-ft)*(yt-ft))},xe=function(Le,ft,Mt,yt){return(Mt-Le)*(Mt-Le)+(yt-ft)*(yt-ft)},Ie;e.registerBinding(e.container,"touchstart",Ie=function(Le){if(e.hasTouchStarted=!0,!!L(Le)){_(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var ft=e.cy,Mt=e.touchData.now,yt=e.touchData.earlier;if(Le.touches[0]){var Ct=e.projectIntoViewport(Le.touches[0].clientX,Le.touches[0].clientY);Mt[0]=Ct[0],Mt[1]=Ct[1]}if(Le.touches[1]){var Ct=e.projectIntoViewport(Le.touches[1].clientX,Le.touches[1].clientY);Mt[2]=Ct[0],Mt[3]=Ct[1]}if(Le.touches[2]){var Ct=e.projectIntoViewport(Le.touches[2].clientX,Le.touches[2].clientY);Mt[4]=Ct[0],Mt[5]=Ct[1]}if(Le.touches[1]){e.touchData.singleTouchMoved=!0,y(e.dragData.touchDragEles);var jt=e.findContainerClientCoords();ve=jt[0],le=jt[1],de=jt[2],me=jt[3],U=Le.touches[0].clientX-ve,H=Le.touches[0].clientY-le,Y=Le.touches[1].clientX-ve,Z=Le.touches[1].clientY-le,Se=0<=U&&U<=de&&0<=Y&&Y<=de&&0<=H&&H<=me&&0<=Z&&Z<=me;var At=ft.pan(),Bt=ft.zoom();Q=Ee(U,H,Y,Z),ee=xe(U,H,Y,Z),oe=[(U+Y)/2,(H+Z)/2],ue=[(oe[0]-At.x)/Bt,(oe[1]-At.y)/Bt];var kt=200,qt=kt*kt;if(ee<qt&&!Le.touches[2]){var fn=e.findNearestElement(Mt[0],Mt[1],!0,!0),jn=e.findNearestElement(Mt[2],Mt[3],!0,!0);fn&&fn.isNode()?(fn.activate().emit({originalEvent:Le,type:"cxttapstart",position:{x:Mt[0],y:Mt[1]}}),e.touchData.start=fn):jn&&jn.isNode()?(jn.activate().emit({originalEvent:Le,type:"cxttapstart",position:{x:Mt[0],y:Mt[1]}}),e.touchData.start=jn):ft.emit({originalEvent:Le,type:"cxttapstart",position:{x:Mt[0],y:Mt[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(Le.touches[2])ft.boxSelectionEnabled()&&Le.preventDefault();else if(!Le.touches[1]){if(Le.touches[0]){var Mn=e.findNearestElements(Mt[0],Mt[1],!0,!0),Un=Mn[0];if(Un!=null&&(Un.activate(),e.touchData.start=Un,e.touchData.starts=Mn,e.nodeIsGrabbable(Un))){var Kr=e.dragData.touchDragEles=ft.collection(),Wi=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),Un.selected()?(Wi=ft.$(function(xo){return xo.selected()&&e.nodeIsGrabbable(xo)}),v(Wi,{addToList:Kr})):m(Un,{addToList:Kr}),d(Un);var sa=function(en){return{originalEvent:Le,type:en,position:{x:Mt[0],y:Mt[1]}}};Un.emit(sa("grabon")),Wi?Wi.forEach(function(xo){xo.emit(sa("grab"))}):Un.emit(sa("grab"))}n(Un,["touchstart","tapstart","vmousedown"],Le,{x:Mt[0],y:Mt[1]}),Un==null&&(e.data.bgActivePosistion={x:Ct[0],y:Ct[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&n(e.touchData.start,["taphold"],Le,{x:Mt[0],y:Mt[1]})},e.tapholdDuration)}}if(Le.touches.length>=1){for(var ga=e.touchData.startPosition=[],$i=0;$i<Mt.length;$i++)ga[$i]=yt[$i]=Mt[$i];var Do=Le.touches[0];e.touchData.startGPosition=[Do.clientX,Do.clientY]}}},!1);var Ne;e.registerBinding(window,"touchmove",Ne=function(Le){var ft=e.touchData.capture;if(!(!ft&&!L(Le))){var Mt=e.selection,yt=e.cy,Ct=e.touchData.now,jt=e.touchData.earlier,At=yt.zoom();if(Le.touches[0]){var Bt=e.projectIntoViewport(Le.touches[0].clientX,Le.touches[0].clientY);Ct[0]=Bt[0],Ct[1]=Bt[1]}if(Le.touches[1]){var Bt=e.projectIntoViewport(Le.touches[1].clientX,Le.touches[1].clientY);Ct[2]=Bt[0],Ct[3]=Bt[1]}if(Le.touches[2]){var Bt=e.projectIntoViewport(Le.touches[2].clientX,Le.touches[2].clientY);Ct[4]=Bt[0],Ct[5]=Bt[1]}var kt=e.touchData.startGPosition,qt;if(ft&&Le.touches[0]&&kt){for(var fn=[],jn=0;jn<Ct.length;jn++)fn[jn]=Ct[jn]-jt[jn];var Mn=Le.touches[0].clientX-kt[0],Un=Mn*Mn,Kr=Le.touches[0].clientY-kt[1],Wi=Kr*Kr,sa=Un+Wi;qt=sa>=e.touchTapThreshold2}if(ft&&e.touchData.cxt){Le.preventDefault();var ga=Le.touches[0].clientX-ve,$i=Le.touches[0].clientY-le,Do=Le.touches[1].clientX-ve,xo=Le.touches[1].clientY-le,en=xe(ga,$i,Do,xo),sn=en/ee,On=150,Kn=On*On,kr=1.5,ti=kr*kr;if(sn>=ti||en>=Kn){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Ji={originalEvent:Le,type:"cxttapend",position:{x:Ct[0],y:Ct[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(Ji),e.touchData.start=null):yt.emit(Ji)}}if(ft&&e.touchData.cxt){var Ji={originalEvent:Le,type:"cxtdrag",position:{x:Ct[0],y:Ct[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Ji):yt.emit(Ji),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var Yi=e.findNearestElement(Ct[0],Ct[1],!0,!0);(!e.touchData.cxtOver||Yi!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:Le,type:"cxtdragout",position:{x:Ct[0],y:Ct[1]}}),e.touchData.cxtOver=Yi,Yi&&Yi.emit({originalEvent:Le,type:"cxtdragover",position:{x:Ct[0],y:Ct[1]}}))}else if(ft&&Le.touches[2]&&yt.boxSelectionEnabled())Le.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||yt.emit({originalEvent:Le,type:"boxstart",position:{x:Ct[0],y:Ct[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,Mt[4]=1,!Mt||Mt.length===0||Mt[0]===void 0?(Mt[0]=(Ct[0]+Ct[2]+Ct[4])/3,Mt[1]=(Ct[1]+Ct[3]+Ct[5])/3,Mt[2]=(Ct[0]+Ct[2]+Ct[4])/3+1,Mt[3]=(Ct[1]+Ct[3]+Ct[5])/3+1):(Mt[2]=(Ct[0]+Ct[2]+Ct[4])/3,Mt[3]=(Ct[1]+Ct[3]+Ct[5])/3),e.redrawHint("select",!0),e.redraw();else if(ft&&Le.touches[1]&&!e.touchData.didSelect&&yt.zoomingEnabled()&&yt.panningEnabled()&&yt.userZoomingEnabled()&&yt.userPanningEnabled()){Le.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var ka=e.dragData.touchDragEles;if(ka){e.redrawHint("drag",!0);for(var fo=0;fo<ka.length;fo++){var Il=ka[fo]._private;Il.grabbed=!1,Il.rscratch.inDragLayer=!1}}var Oa=e.touchData.start,ga=Le.touches[0].clientX-ve,$i=Le.touches[0].clientY-le,Do=Le.touches[1].clientX-ve,xo=Le.touches[1].clientY-le,rc=Ee(ga,$i,Do,xo),Bf=rc/Q;if(Se){var Hf=ga-U,th=$i-H,Gh=Do-Y,wu=xo-Z,qs=(Hf+Gh)/2,ic=(th+wu)/2,wf=yt.zoom(),Fl=wf*Bf,Du=yt.pan(),Gu=ue[0]*wf+Du.x,Uf=ue[1]*wf+Du.y,Nl={x:-Fl/wf*(Gu-Du.x-qs)+Gu,y:-Fl/wf*(Uf-Du.y-ic)+Uf};if(Oa&&Oa.active()){var ka=e.dragData.touchDragEles;y(ka),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Oa.unactivate().emit("freeon"),ka.emit("free"),e.dragData.didDrag&&(Oa.emit("dragfreeon"),ka.emit("dragfree"))}yt.viewport({zoom:Fl,pan:Nl,cancelOnFailedZoom:!0}),yt.emit("pinchzoom"),Q=rc,U=ga,H=$i,Y=Do,Z=xo,e.pinching=!0}if(Le.touches[0]){var Bt=e.projectIntoViewport(Le.touches[0].clientX,Le.touches[0].clientY);Ct[0]=Bt[0],Ct[1]=Bt[1]}if(Le.touches[1]){var Bt=e.projectIntoViewport(Le.touches[1].clientX,Le.touches[1].clientY);Ct[2]=Bt[0],Ct[3]=Bt[1]}if(Le.touches[2]){var Bt=e.projectIntoViewport(Le.touches[2].clientX,Le.touches[2].clientY);Ct[4]=Bt[0],Ct[5]=Bt[1]}}else if(Le.touches[0]&&!e.touchData.didSelect){var ja=e.touchData.start,lu=e.touchData.last,Yi;if(!e.hoverData.draggingEles&&!e.swipePanning&&(Yi=e.findNearestElement(Ct[0],Ct[1],!0,!0)),ft&&ja!=null&&Le.preventDefault(),ft&&ja!=null&&e.nodeIsDraggable(ja))if(qt){var ka=e.dragData.touchDragEles,_f=!e.dragData.didDrag;_f&&v(ka,{inDragLayer:!0}),e.dragData.didDrag=!0;var Iu={x:0,y:0};if($r(fn[0])&&$r(fn[1])&&(Iu.x+=fn[0],Iu.y+=fn[1],_f)){e.redrawHint("eles",!0);var _u=e.touchData.dragDelta;_u&&$r(_u[0])&&$r(_u[1])&&(Iu.x+=_u[0],Iu.y+=_u[1])}e.hoverData.draggingEles=!0,ka.silentShift(Iu).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==jt[0]&&e.touchData.startPosition[1]==jt[1]&&e.redrawHint("eles",!0),e.redraw()}else{var _u=e.touchData.dragDelta=e.touchData.dragDelta||[];_u.length===0?(_u.push(fn[0]),_u.push(fn[1])):(_u[0]+=fn[0],_u[1]+=fn[1])}if(n(ja||Yi,["touchmove","tapdrag","vmousemove"],Le,{x:Ct[0],y:Ct[1]}),(!ja||!ja.grabbed())&&Yi!=lu&&(lu&&lu.emit({originalEvent:Le,type:"tapdragout",position:{x:Ct[0],y:Ct[1]}}),Yi&&Yi.emit({originalEvent:Le,type:"tapdragover",position:{x:Ct[0],y:Ct[1]}})),e.touchData.last=Yi,ft)for(var fo=0;fo<Ct.length;fo++)Ct[fo]&&e.touchData.startPosition[fo]&&qt&&(e.touchData.singleTouchMoved=!0);if(ft&&(ja==null||ja.pannable())&&yt.panningEnabled()&&yt.userPanningEnabled()){var xf=i(ja,e.touchData.starts);xf&&(Le.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=eF(e.touchData.startPosition)),e.swipePanning?(yt.panBy({x:fn[0]*At,y:fn[1]*At}),yt.emit("dragpan")):qt&&(e.swipePanning=!0,yt.panBy({x:Mn*At,y:Kr*At}),yt.emit("dragpan"),ja&&(ja.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var Bt=e.projectIntoViewport(Le.touches[0].clientX,Le.touches[0].clientY);Ct[0]=Bt[0],Ct[1]=Bt[1]}}for(var jn=0;jn<Ct.length;jn++)jt[jn]=Ct[jn];ft&&Le.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var We;e.registerBinding(window,"touchcancel",We=function(Le){var ft=e.touchData.start;e.touchData.capture=!1,ft&&ft.unactivate()});var Me,He,gt,Ye;if(e.registerBinding(window,"touchend",Me=function(Le){var ft=e.touchData.start,Mt=e.touchData.capture;if(Mt)Le.touches.length===0&&(e.touchData.capture=!1),Le.preventDefault();else return;var yt=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var Ct=e.cy,jt=Ct.zoom(),At=e.touchData.now,Bt=e.touchData.earlier;if(Le.touches[0]){var kt=e.projectIntoViewport(Le.touches[0].clientX,Le.touches[0].clientY);At[0]=kt[0],At[1]=kt[1]}if(Le.touches[1]){var kt=e.projectIntoViewport(Le.touches[1].clientX,Le.touches[1].clientY);At[2]=kt[0],At[3]=kt[1]}if(Le.touches[2]){var kt=e.projectIntoViewport(Le.touches[2].clientX,Le.touches[2].clientY);At[4]=kt[0],At[5]=kt[1]}ft&&ft.unactivate();var qt;if(e.touchData.cxt){if(qt={originalEvent:Le,type:"cxttapend",position:{x:At[0],y:At[1]}},ft?ft.emit(qt):Ct.emit(qt),!e.touchData.cxtDragged){var fn={originalEvent:Le,type:"cxttap",position:{x:At[0],y:At[1]}};ft?ft.emit(fn):Ct.emit(fn)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!Le.touches[2]&&Ct.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var jn=Ct.collection(e.getAllInBox(yt[0],yt[1],yt[2],yt[3]));yt[0]=void 0,yt[1]=void 0,yt[2]=void 0,yt[3]=void 0,yt[4]=0,e.redrawHint("select",!0),Ct.emit({type:"boxend",originalEvent:Le,position:{x:At[0],y:At[1]}});var Mn=function(Kn){return Kn.selectable()&&!Kn.selected()};jn.emit("box").stdFilter(Mn).select().emit("boxselect"),jn.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(ft!=null&&ft.unactivate(),Le.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!Le.touches[1]){if(!Le.touches[0]){if(!Le.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Un=e.dragData.touchDragEles;if(ft!=null){var Kr=ft._private.grabbed;y(Un),e.redrawHint("drag",!0),e.redrawHint("eles",!0),Kr&&(ft.emit("freeon"),Un.emit("free"),e.dragData.didDrag&&(ft.emit("dragfreeon"),Un.emit("dragfree"))),n(ft,["touchend","tapend","vmouseup","tapdragout"],Le,{x:At[0],y:At[1]}),ft.unactivate(),e.touchData.start=null}else{var Wi=e.findNearestElement(At[0],At[1],!0,!0);n(Wi,["touchend","tapend","vmouseup","tapdragout"],Le,{x:At[0],y:At[1]})}var sa=e.touchData.startPosition[0]-At[0],ga=sa*sa,$i=e.touchData.startPosition[1]-At[1],Do=$i*$i,xo=ga+Do,en=xo*jt*jt;e.touchData.singleTouchMoved||(ft||Ct.$(":selected").unselect(["tapunselect"]),n(ft,["tap","vclick"],Le,{x:At[0],y:At[1]}),He=!1,Le.timeStamp-Ye<=Ct.multiClickDebounceTime()?(gt&&clearTimeout(gt),He=!0,Ye=null,n(ft,["dbltap","vdblclick"],Le,{x:At[0],y:At[1]})):(gt=setTimeout(function(){He||n(ft,["onetap","voneclick"],Le,{x:At[0],y:At[1]})},Ct.multiClickDebounceTime()),Ye=Le.timeStamp)),ft!=null&&!e.dragData.didDrag&&ft._private.selectable&&en<e.touchTapThreshold2&&!e.pinching&&(Ct.selectionType()==="single"?(Ct.$(t).unmerge(ft).unselect(["tapunselect"]),ft.select(["tapselect"])):ft.selected()?ft.unselect(["tapunselect"]):ft.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var sn=0;sn<At.length;sn++)Bt[sn]=At[sn];e.dragData.didDrag=!1,Le.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null,e.touchData.didSelect=!1),Le.touches.length<2&&(Le.touches.length===1&&(e.touchData.startGPosition=[Le.touches[0].clientX,Le.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var ot=[],Ue=function(Le){return{clientX:Le.clientX,clientY:Le.clientY,force:1,identifier:Le.pointerId,pageX:Le.pageX,pageY:Le.pageY,radiusX:Le.width/2,radiusY:Le.height/2,screenX:Le.screenX,screenY:Le.screenY,target:Le.target}},st=function(Le){return{event:Le,touch:Ue(Le)}},at=function(Le){ot.push(st(Le))},St=function(Le){for(var ft=0;ft<ot.length;ft++){var Mt=ot[ft];if(Mt.event.pointerId===Le.pointerId){ot.splice(ft,1);return}}},Vt=function(Le){var ft=ot.filter(function(Mt){return Mt.event.pointerId===Le.pointerId})[0];ft.event=Le,ft.touch=Ue(Le)},tt=function(Le){Le.touches=ot.map(function(ft){return ft.touch})},wt=function(Le){return Le.pointerType==="mouse"||Le.pointerType===4};e.registerBinding(e.container,"pointerdown",function(vt){wt(vt)||(vt.preventDefault(),at(vt),tt(vt),Ie(vt))}),e.registerBinding(e.container,"pointerup",function(vt){wt(vt)||(St(vt),tt(vt),Me(vt))}),e.registerBinding(e.container,"pointercancel",function(vt){wt(vt)||(St(vt),tt(vt),We(vt))}),e.registerBinding(e.container,"pointermove",function(vt){wt(vt)||(vt.preventDefault(),Vt(vt),tt(vt),Ne(vt))})}};var Tk={};Tk.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(r,i,a,s,u){this.renderer.nodeShapeImpl("polygon",r,i,a,s,u,this.points)},intersectLine:function(r,i,a,s,u,f,d){return kV(u,f,this.points,r,i,a/2,s/2,d)},checkPoint:function(r,i,a,s,u,f,d){return yk(r,i,this.points,f,d,s,u,[0,-1],a)}}};Tk.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,n,r,i,a){this.renderer.nodeShapeImpl(this.name,t,n,r,i,a)},intersectLine:function(t,n,r,i,a,s,u){return KWt(a,s,t,n,r/2+u,i/2+u)},checkPoint:function(t,n,r,i,a,s,u){return S5(t,n,i,a,s,u,r)}}};Tk.generateRoundPolygon=function(e,t){for(var n=new Array(t.length*2),r=0;r<t.length/2;r++){var i=r*2,a=void 0;r<t.length/2-1?a=(r+1)*2:a=0,n[r*4]=t[i],n[r*4+1]=t[i+1];var s=t[a]-t[i],u=t[a+1]-t[i+1],f=Math.sqrt(s*s+u*u);n[r*4+2]=s/f,n[r*4+3]=u/f}return this.nodeShapes[e]={renderer:this,name:e,points:n,draw:function(c,h,p,v,m){this.renderer.nodeShapeImpl("round-polygon",c,h,p,v,m,this.points)},intersectLine:function(c,h,p,v,m,y,w){return XWt(m,y,this.points,c,h,p,v)},checkPoint:function(c,h,p,v,m,y,w){return YWt(c,h,this.points,y,w,v,m)}}};Tk.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:W0(4,0),draw:function(t,n,r,i,a){this.renderer.nodeShapeImpl(this.name,t,n,r,i,a)},intersectLine:function(t,n,r,i,a,s,u){return _ot(a,s,t,n,r,i,u)},checkPoint:function(t,n,r,i,a,s,u){var f=aG(i,a),d=f*2;return!!(yk(t,n,this.points,s,u,i,a-d,[0,-1],r)||yk(t,n,this.points,s,u,i-d,a,[0,-1],r)||S5(t,n,d,d,s-i/2+f,u-a/2+f,r)||S5(t,n,d,d,s+i/2-f,u-a/2+f,r)||S5(t,n,d,d,s+i/2-f,u+a/2-f,r)||S5(t,n,d,d,s-i/2+f,u+a/2-f,r))}}};Tk.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Cot(),points:W0(4,0),draw:function(t,n,r,i,a){this.renderer.nodeShapeImpl(this.name,t,n,r,i,a)},generateCutTrianglePts:function(t,n,r,i){var a=this.cornerLength,s=n/2,u=t/2,f=r-u,d=r+u,c=i-s,h=i+s;return{topLeft:[f,c+a,f+a,c,f+a,c+a],topRight:[d-a,c,d,c+a,d-a,c+a],bottomRight:[d,h-a,d-a,h,d-a,h-a],bottomLeft:[f+a,h,f,h-a,f+a,h-a]}},intersectLine:function(t,n,r,i,a,s,u){var f=this.generateCutTrianglePts(r+2*u,i+2*u,t,n),d=[].concat.apply([],[f.topLeft.splice(0,4),f.topRight.splice(0,4),f.bottomRight.splice(0,4),f.bottomLeft.splice(0,4)]);return kV(a,s,d,t,n)},checkPoint:function(t,n,r,i,a,s,u){if(yk(t,n,this.points,s,u,i,a-2*this.cornerLength,[0,-1],r)||yk(t,n,this.points,s,u,i-2*this.cornerLength,a,[0,-1],r))return!0;var f=this.generateCutTrianglePts(i,a,s,u);return cm(t,n,f.topLeft)||cm(t,n,f.topRight)||cm(t,n,f.bottomRight)||cm(t,n,f.bottomLeft)}}};Tk.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:W0(4,0),draw:function(t,n,r,i,a){this.renderer.nodeShapeImpl(this.name,t,n,r,i,a)},intersectLine:function(t,n,r,i,a,s,u){var f=.15,d=.5,c=.85,h=this.generateBarrelBezierPts(r+2*u,i+2*u,t,n),p=function(y){var w=kF({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},f),_=kF({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},d),S=kF({x:y[0],y:y[1]},{x:y[2],y:y[3]},{x:y[4],y:y[5]},c);return[y[0],y[1],w.x,w.y,_.x,_.y,S.x,S.y,y[4],y[5]]},v=[].concat(p(h.topLeft),p(h.topRight),p(h.bottomRight),p(h.bottomLeft));return kV(a,s,v,t,n)},generateBarrelBezierPts:function(t,n,r,i){var a=n/2,s=t/2,u=r-s,f=r+s,d=i-a,c=i+a,h=t_e(t,n),p=h.heightOffset,v=h.widthOffset,m=h.ctrlPtOffsetPct*t,y={topLeft:[u,d+p,u+m,d,u+v,d],topRight:[f-v,d,f-m,d,f,d+p],bottomRight:[f,c-p,f-m,c,f-v,c],bottomLeft:[u+v,c,u+m,c,u,c-p]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(t,n,r,i,a,s,u){var f=t_e(i,a),d=f.heightOffset,c=f.widthOffset;if(yk(t,n,this.points,s,u,i,a-2*d,[0,-1],r)||yk(t,n,this.points,s,u,i-2*c,a,[0,-1],r))return!0;for(var h=this.generateBarrelBezierPts(i,a,s,u),p=function(A,L,N){var R=N[4],D=N[2],j=N[0],U=N[5],H=N[1],Y=Math.min(R,j),Z=Math.max(R,j),Q=Math.min(U,H),ee=Math.max(U,H);if(Y<=A&&A<=Z&&Q<=L&&L<=ee){var oe=ZWt(R,D,j),ue=VWt(oe[0],oe[1],oe[2],A),ve=ue.filter(function(le){return 0<=le&&le<=1});if(ve.length>0)return ve[0]}return null},v=Object.keys(h),m=0;m<v.length;m++){var y=v[m],w=h[y],_=p(t,n,w);if(_!=null){var S=w[5],C=w[3],$=w[1],k=Ah(S,C,$,_);if(w.isTop&&k<=n||w.isBottom&&n<=k)return!0}}return!1}}};Tk.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:W0(4,0),draw:function(t,n,r,i,a){this.renderer.nodeShapeImpl(this.name,t,n,r,i,a)},intersectLine:function(t,n,r,i,a,s,u){var f=t-(r/2+u),d=n-(i/2+u),c=d,h=t+(r/2+u),p=SR(a,s,t,n,f,d,h,c,!1);return p.length>0?p:_ot(a,s,t,n,r,i,u)},checkPoint:function(t,n,r,i,a,s,u){var f=aG(i,a),d=2*f;if(yk(t,n,this.points,s,u,i,a-d,[0,-1],r)||yk(t,n,this.points,s,u,i-d,a,[0,-1],r))return!0;var c=i/2+2*r,h=a/2+2*r,p=[s-c,u-h,s-c,u,s+c,u,s+c,u-h];return!!(cm(t,n,p)||S5(t,n,d,d,s+i/2-f,u+a/2-f,r)||S5(t,n,d,d,s-i/2+f,u+a/2-f,r))}}};Tk.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",W0(3,0)),this.generateRoundPolygon("round-triangle",W0(3,0)),this.generatePolygon("rectangle",W0(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n)}this.generatePolygon("pentagon",W0(5,0)),this.generateRoundPolygon("round-pentagon",W0(5,0)),this.generatePolygon("hexagon",W0(6,0)),this.generateRoundPolygon("round-hexagon",W0(6,0)),this.generatePolygon("heptagon",W0(7,0)),this.generateRoundPolygon("round-heptagon",W0(7,0)),this.generatePolygon("octagon",W0(8,0)),this.generateRoundPolygon("round-octagon",W0(8,0));var r=new Array(20);{var i=e_e(5,0),a=e_e(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var u=0;u<a.length/2;u++)a[u*2]*=s,a[u*2+1]*=s;for(var u=0;u<20/4;u++)r[u*4]=i[u*2],r[u*4+1]=i[u*2+1],r[u*4+2]=a[u*2],r[u*4+3]=a[u*2+1]}r=Eot(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var f=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",f),this.generateRoundPolygon("round-tag",f)}e.makePolygon=function(d){var c=d.join("$"),h="polygon-"+c,p;return(p=this[h])?p:t.generatePolygon(h,d)}};var lG={};lG.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};lG.redraw=function(e){e=e||mot();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};lG.beforeRender=function(e,t){if(!this.destroyed){t==null&&gf("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(r,i){return i.priority-r.priority})}};var CVe=function(t,n,r){for(var i=t.beforeRenderCallbacks,a=0;a<i.length;a++)i[a].fn(n,r)};lG.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var n=function r(i){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){CVe(e,!0,i);var a=mk();e.render(e.renderOptions);var s=e.lastDrawTime=mk();e.averageRedrawTime===void 0&&(e.averageRedrawTime=s-a),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var u=s-a;e.redrawTotalTime+=u,e.lastRedrawTime=u,e.averageRedrawTime=e.averageRedrawTime/2+u/2,e.requestedFrame=!1}else CVe(e,!1,i);e.skipFrame=!1,ire(r)}};ire(n)}};var _Yt=function(t){this.init(t)},hst=_Yt,B8=hst.prototype;B8.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];B8.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(Ql){var r=Ql.document,i=r.head,a="__________cytoscape_stylesheet",s="__________cytoscape_container",u=r.getElementById(a)!=null;if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!u){var f=r.createElement("style");f.id=a,f.innerHTML="."+s+" { position: relative; }",i.insertBefore(f,i.children[0])}var d=Ql.getComputedStyle(n),c=d.getPropertyValue("position");c==="static"&&su("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=$r(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};B8.notify=function(e,t){var n=this,r=n.cy;if(!this.destroyed){if(e==="init"){n.load();return}if(e==="destroy"){n.destroy();return}(e==="add"||e==="remove"||e==="move"&&r.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&n.invalidateCachedZSortedEles(),e==="viewport"&&n.redrawHint("select",!0),(e==="load"||e==="resize"||e==="mount")&&(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};B8.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n,i=r.target;(i.off||i.removeEventListener).apply(i,r.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};B8.isHeadless=function(){return!1};[pke,fst,dst,j8,Tk,lG].forEach(function(e){oa(B8,e)});var Bme=1e3/60,gst={setupDequeueing:function(t){return function(){var r=this,i=this.renderer;if(!r.dequeueingSetup){r.dequeueingSetup=!0;var a=Ooe.default(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},t.deqRedrawThreshold),s=function(d,c){var h=mk(),p=i.averageRedrawTime,v=i.lastRedrawTime,m=[],y=i.cy.extent(),w=i.getPixelRatio();for(d||i.flushRenderedStyleQueue();;){var _=mk(),S=_-h,C=_-c;if(v<Bme){var $=Bme-(d?p:0);if(C>=t.deqFastCost*$)break}else if(d){if(S>=t.deqCost*v||S>=t.deqAvgCost*p)break}else if(C>=t.deqNoDrawCost*Bme)break;var k=t.deq(r,w,y);if(k.length>0)for(var M=0;M<k.length;M++)m.push(k[M]);else break}m.length>0&&(t.onDeqd(r,m),!d&&t.shouldRedraw(r,m,w,y)&&a())},u=t.priority||rke;i.beforeRender(s,u(r))}}}},xYt=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:are;Q$e(this,e),this.idsByKey=new DS,this.keyForId=new DS,this.cachesByLvl=new DS,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return J$e(e,[{key:"getIdsFor",value:function(n){n==null&&gf("Can not get id list for null key");var r=this.idsByKey,i=this.idsByKey.get(n);return i||(i=new I8,r.set(n,i)),i}},{key:"addIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).add(r)}},{key:"deleteIdForKey",value:function(n,r){n!=null&&this.getIdsFor(n).delete(r)}},{key:"getNumberOfIdsForKey",value:function(n){return n==null?0:this.getIdsFor(n).size}},{key:"updateKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),a=this.getKey(n);this.deleteIdForKey(i,r),this.addIdForKey(a,r),this.keyForId.set(r,a)}},{key:"deleteKeyMappingFor",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteIdForKey(i,r),this.keyForId.delete(r)}},{key:"keyHasChangedFor",value:function(n){var r=n.id(),i=this.keyForId.get(r),a=this.getKey(n);return i!==a}},{key:"isInvalid",value:function(n){return this.keyHasChangedFor(n)||this.doesEleInvalidateKey(n)}},{key:"getCachesAt",value:function(n){var r=this.cachesByLvl,i=this.lvls,a=r.get(n);return a||(a=new DS,r.set(n,a),i.push(n)),a}},{key:"getCache",value:function(n,r){return this.getCachesAt(r).get(n)}},{key:"get",value:function(n,r){var i=this.getKey(n),a=this.getCache(i,r);return a!=null&&this.updateKeyMappingFor(n),a}},{key:"getForCachedKey",value:function(n,r){var i=this.keyForId.get(n.id()),a=this.getCache(i,r);return a}},{key:"hasCache",value:function(n,r){return this.getCachesAt(r).has(n)}},{key:"has",value:function(n,r){var i=this.getKey(n);return this.hasCache(i,r)}},{key:"setCache",value:function(n,r,i){i.key=n,this.getCachesAt(r).set(n,i)}},{key:"set",value:function(n,r,i){var a=this.getKey(n);this.setCache(a,r,i),this.updateKeyMappingFor(n)}},{key:"deleteCache",value:function(n,r){this.getCachesAt(r).delete(n)}},{key:"delete",value:function(n,r){var i=this.getKey(n);this.deleteCache(i,r)}},{key:"invalidateKey",value:function(n){var r=this;this.lvls.forEach(function(i){return r.deleteCache(n,i)})}},{key:"invalidate",value:function(n){var r=n.id(),i=this.keyForId.get(r);this.deleteKeyMappingFor(n);var a=this.doesEleInvalidateKey(n);return a&&this.invalidateKey(i),a||this.getNumberOfIdsForKey(i)===0}}]),e}(),$Ve=25,CJ=50,Ste=-4,u_e=3,SYt=7.99,EYt=8,CYt=1024,$Yt=1024,kYt=1024,OYt=.2,AYt=.8,RYt=10,TYt=.15,MYt=.1,PYt=.9,LYt=.9,DYt=100,IYt=1,tF={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},FYt=Ug({getKey:null,doesEleInvalidateKey:are,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:got,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),uH=function(t,n){var r=this;r.renderer=t,r.onDequeues=[];var i=FYt(n);oa(r,i),r.lookup=new xYt(i.getKey,i.doesEleInvalidateKey),r.setupDequeueing()},Zd=uH.prototype;Zd.reasons=tF;Zd.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};Zd.getRetiredTextureQueue=function(e){var t=this,n=t.eleImgCaches.retired=t.eleImgCaches.retired||{},r=n[e]=n[e]||[];return r};Zd.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new nG.default(function(n,r){return r.reqs-n.reqs});return t};Zd.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};Zd.getElement=function(e,t,n,r,i){var a=this,s=this.renderer,u=s.cy.zoom(),f=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(r==null&&(r=Math.ceil(ake(u*n))),r<Ste)r=Ste;else if(u>=SYt||r>u_e)return null;var d=Math.pow(2,r),c=t.h*d,h=t.w*d,p=s.eleTextBiggerThanMin(e,d);if(!this.isVisible(e,p))return null;var v=f.get(e,r);if(v&&v.invalidated&&(v.invalidated=!1,v.texture.invalidatedWidth-=v.width),v)return v;var m;if(c<=$Ve?m=$Ve:c<=CJ?m=CJ:m=Math.ceil(c/CJ)*CJ,c>kYt||h>$Yt)return null;var y=a.getTextureQueue(m),w=y[y.length-2],_=function(){return a.recycleTexture(m,h)||a.addTexture(m,h)};w||(w=y[y.length-1]),w||(w=_()),w.width-w.usedWidth<h&&(w=_());for(var S=function(Z){return Z&&Z.scaledLabelShown===p},C=i&&i===tF.dequeue,$=i&&i===tF.highQuality,k=i&&i===tF.downscale,M,A=r+1;A<=u_e;A++){var L=f.get(e,A);if(L){M=L;break}}var N=M&&M.level===r+1?M:null,R=function(){w.context.drawImage(N.texture.canvas,N.x,0,N.width,N.height,w.usedWidth,0,h,c)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,h,m),S(N))R();else if(S(M))if($){for(var D=M.level;D>r;D--)N=a.getElement(e,t,n,D,tF.downscale);R()}else return a.queueElement(e,M.level-1),M;else{var j;if(!C&&!$&&!k)for(var U=r-1;U>=Ste;U--){var H=f.get(e,U);if(H){j=H;break}}if(S(j))return a.queueElement(e,r),j;w.context.translate(w.usedWidth,0),w.context.scale(d,d),this.drawElement(w.context,e,t,p,!1),w.context.scale(1/d,1/d),w.context.translate(-w.usedWidth,0)}return v={x:w.usedWidth,texture:w,level:r,scale:d,width:h,height:c,scaledLabelShown:p},w.usedWidth+=Math.ceil(h+EYt),w.eleCaches.push(v),f.set(e,r,v),a.checkTextureFullness(w),v};Zd.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};Zd.invalidateElement=function(e){var t=this,n=t.lookup,r=[],i=n.isInvalid(e);if(i){for(var a=Ste;a<=u_e;a++){var s=n.getForCachedKey(e,a);s&&r.push(s)}var u=n.invalidate(e);if(u)for(var f=0;f<r.length;f++){var d=r[f],c=d.texture;c.invalidatedWidth+=d.width,d.invalidated=!0,t.checkTextureUtility(c)}t.removeFromQueue(e)}};Zd.checkTextureUtility=function(e){e.invalidatedWidth>=OYt*e.width&&this.retireTexture(e)};Zd.checkTextureFullness=function(e){var t=this,n=t.getTextureQueue(e.height);e.usedWidth/e.width>AYt&&e.fullnessChecks>=RYt?y3(n,e):e.fullnessChecks++};Zd.retireTexture=function(e){var t=this,n=e.height,r=t.getTextureQueue(n),i=this.lookup;y3(r,e),e.retired=!0;for(var a=e.eleCaches,s=0;s<a.length;s++){var u=a[s];i.deleteCache(u.key,u.level)}ike(a);var f=t.getRetiredTextureQueue(n);f.push(e)};Zd.addTexture=function(e,t){var n=this,r=n.getTextureQueue(e),i={};return r.push(i),i.eleCaches=[],i.height=e,i.width=Math.max(CYt,t),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=n.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};Zd.recycleTexture=function(e,t){for(var n=this,r=n.getTextureQueue(e),i=n.getRetiredTextureQueue(e),a=0;a<i.length;a++){var s=i[a];if(s.width>=t)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,ike(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),y3(i,s),r.push(s),s}};Zd.queueElement=function(e,t){var n=this,r=n.getElementQueue(),i=n.getElementKeyToQueue(),a=this.getKey(e),s=i[a];if(s)s.level=Math.max(s.level,t),s.eles.merge(e),s.reqs++,r.updateItem(s);else{var u={eles:e.spawn().merge(e),level:t,reqs:1,key:a};r.push(u),i[a]=u}};Zd.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),i=[],a=t.lookup,s=0;s<IYt&&n.size()>0;s++){var u=n.pop(),f=u.key,d=u.eles[0],c=a.hasCache(d,u.level);if(r[f]=null,c)continue;i.push(u);var h=t.getBoundingBox(d);t.getElement(d,h,e,u.level,tF.dequeue)}return i};Zd.removeFromQueue=function(e){var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),i=this.getKey(e),a=r[i];a!=null&&(a.eles.length===1?(a.reqs=nke,n.updateItem(a),n.pop(),r[i]=null):a.eles.unmerge(e))};Zd.onDequeue=function(e){this.onDequeues.push(e)};Zd.offDequeue=function(e){y3(this.onDequeues,e)};Zd.setupDequeueing=gst.setupDequeueing({deqRedrawThreshold:DYt,deqCost:TYt,deqAvgCost:MYt,deqNoDrawCost:PYt,deqFastCost:LYt,deq:function(t,n,r){return t.dequeue(n,r)},onDeqd:function(t,n){for(var r=0;r<t.onDequeues.length;r++){var i=t.onDequeues[r];i(n)}},shouldRedraw:function(t,n,r,i){for(var a=0;a<n.length;a++)for(var s=n[a].eles,u=0;u<s.length;u++){var f=s[u].boundingBox();if(oke(f,i))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var NYt=1,uU=-4,fre=2,zYt=3.99,jYt=50,BYt=50,HYt=.15,UYt=.1,VYt=.9,WYt=.9,GYt=1,kVe=250,qYt=4e3*4e3,YYt=!0,pst=function(t){var n=this,r=n.renderer=t,i=r.cy;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=mk()-2*kVe,n.skipping=!1,n.eleTxrDeqs=i.collection(),n.scheduleElementRefinement=Ooe.default(function(){n.refineElementTextures(n.eleTxrDeqs),n.eleTxrDeqs.unmerge(n.eleTxrDeqs)},BYt),r.beforeRender(function(s,u){u-n.lastInvalidationTime<=kVe?n.skipping=!0:n.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);var a=function(u,f){return f.reqs-u.reqs};n.layersQueue=new nG.default(a),n.setupDequeueing()},Vg=pst.prototype,OVe=0,KYt=Math.pow(2,53)-1;Vg.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),a=this.renderer.makeOffscreenCanvas(r,i),s={id:OVe=++OVe%KYt,bb:e,level:t,width:r,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=s.context,f=-s.bb.x1,d=-s.bb.y1;return u.scale(n,n),u.translate(f,d),s};Vg.getLayers=function(e,t,n){var r=this,i=r.renderer,a=i.cy,s=a.zoom(),u=r.firstGet;if(r.firstGet=!1,n==null){if(n=Math.ceil(ake(s*t)),n<uU)n=uU;else if(s>=zYt||n>fre)return null}r.validateLayersElesOrdering(n,e);var f=r.layersByLevel,d=Math.pow(2,n),c=f[n]=f[n]||[],h,p=r.levelIsComplete(n,e),v,m=function(){var R=function(Y){if(r.validateLayersElesOrdering(Y,e),r.levelIsComplete(Y,e))return v=f[Y],!0},D=function(Y){if(!v)for(var Z=n+Y;uU<=Z&&Z<=fre&&!R(Z);Z+=Y);};D(1),D(-1);for(var j=c.length-1;j>=0;j--){var U=c[j];U.invalid&&y3(c,U)}};if(!p)m();else return c;var y=function(){if(!h){h=Om();for(var R=0;R<e.length;R++)zWt(h,e[R].boundingBox())}return h},w=function(R){R=R||{};var D=R.after;y();var j=h.w*d*(h.h*d);if(j>qYt)return null;var U=r.makeLayer(h,n);if(D!=null){var H=c.indexOf(D)+1;c.splice(H,0,U)}else(R.insert===void 0||R.insert)&&c.unshift(U);return U};if(r.skipping&&!u)return null;for(var _=null,S=e.length/NYt,C=!u,$=0;$<e.length;$++){var k=e[$],M=k._private.rscratch,A=M.imgLayerCaches=M.imgLayerCaches||{},L=A[n];if(L){_=L;continue}if((!_||_.eles.length>=S||!wot(_.bb,k.boundingBox()))&&(_=w({insert:!0,after:_}),!_))return null;v||C?r.queueLayer(_,k):r.drawEleInLayer(_,k,n,t),_.eles.push(k),A[n]=_}return v||(C?null:c)};Vg.getEleLevelForLayerLevel=function(e,t){return e};Vg.drawEleInLayer=function(e,t,n,r){var i=this,a=this.renderer,s=e.context,u=t.boundingBox();u.w===0||u.h===0||!t.visible()||(n=i.getEleLevelForLayerLevel(n,r),a.setImgSmoothing(s,!1),a.drawCachedElement(s,t,null,null,n,YYt),a.setImgSmoothing(s,!0))};Vg.levelIsComplete=function(e,t){var n=this,r=n.layersByLevel[e];if(!r||r.length===0)return!1;for(var i=0,a=0;a<r.length;a++){var s=r[a];if(s.reqs>0||s.invalid)return!1;i+=s.eles.length}return i===t.length};Vg.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=-1,s=0;s<t.length;s++)if(i.eles[0]===t[s]){a=s;break}if(a<0){this.invalidateLayer(i);continue}for(var u=a,s=0;s<i.eles.length;s++)if(i.eles[s]!==t[u+s]){this.invalidateLayer(i);break}}};Vg.updateElementsInLayers=function(e,t){for(var n=this,r=iG(e[0]),i=0;i<e.length;i++)for(var a=r?null:e[i],s=r?e[i]:e[i].ele,u=s._private.rscratch,f=u.imgLayerCaches=u.imgLayerCaches||{},d=uU;d<=fre;d++){var c=f[d];c&&(a&&n.getEleLevelForLayerLevel(c.level)!==a.level||t(c,s,a))}};Vg.haveLayers=function(){for(var e=this,t=!1,n=uU;n<=fre;n++){var r=e.layersByLevel[n];if(r&&r.length>0){t=!0;break}}return t};Vg.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=mk(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(r,i,a){t.invalidateLayer(r)}))};Vg.invalidateLayer=function(e){if(this.lastInvalidationTime=mk(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];y3(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var a=n[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}};Vg.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(r,i,a){var s=r.replacement;if(s||(s=r.replacement=t.makeLayer(r.bb,r.level),s.replaces=r,s.eles=r.eles),!s.reqs)for(var u=0;u<s.eles.length;u++)t.queueLayer(s,s.eles[u])})};Vg.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};Vg.queueLayer=function(e,t){var n=this,r=n.layersQueue,i=e.elesQueue,a=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(a[t.id()])return;i.push(t),a[t.id()]=!0}e.reqs?(e.reqs++,r.updateItem(e)):(e.reqs=1,r.push(e))}};Vg.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],i=0;i<GYt&&n.size()!==0;){var a=n.peek();if(a.replacement){n.pop();continue}if(a.replaces&&a!==a.replaces.replacement){n.pop();continue}if(a.invalid){n.pop();continue}var s=a.elesQueue.shift();s&&(t.drawEleInLayer(a,s,a.level,e),i++),r.length===0&&r.push(!0),a.elesQueue.length===0&&(n.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}return r};Vg.applyLayerReplacement=function(e){var t=this,n=t.layersByLevel[e.level],r=e.replaces,i=n.indexOf(r);if(!(i<0||r.invalid)){n[i]=e;for(var a=0;a<e.eles.length;a++){var s=e.eles[a]._private,u=s.imgLayerCaches=s.imgLayerCaches||{};u&&(u[e.level]=e)}t.requestRedraw()}};Vg.requestRedraw=Ooe.default(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);Vg.setupDequeueing=gst.setupDequeueing({deqRedrawThreshold:jYt,deqCost:HYt,deqAvgCost:UYt,deqNoDrawCost:VYt,deqFastCost:WYt,deq:function(t,n){return t.dequeue(n)},onDeqd:rke,shouldRedraw:got,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var vst={},AVe;function XYt(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function ZYt(e,t,n){for(var r,i=0;i<t.length;i++){var a=t[i];i===0&&(r=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function RVe(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var a=r[i];e.lineTo(a.x,a.y)}var s=n,u=n[0];e.moveTo(u.x,u.y);for(var i=1;i<s.length;i++){var a=s[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function QYt(e,t,n,r,i){e.beginPath&&e.beginPath(),e.arc(n,r,i,0,Math.PI*2,!1);var a=t,s=a[0];e.moveTo(s.x,s.y);for(var u=0;u<a.length;u++){var f=a[u];e.lineTo(f.x,f.y)}e.closePath&&e.closePath()}function JYt(e,t,n,r){e.arc(t,n,r,0,Math.PI*2,!1)}vst.arrowShapeImpl=function(e){return(AVe||(AVe={polygon:XYt,"triangle-backcurve":ZYt,"triangle-tee":RVe,"circle-triangle":QYt,"triangle-cross":RVe,circle:JYt}))[e]};var CE={};CE.drawElement=function(e,t,n,r,i,a){var s=this;t.isNode()?s.drawNode(e,t,n,r,i,a):s.drawEdge(e,t,n,r,i,a)};CE.drawElementOverlay=function(e,t){var n=this;t.isNode()?n.drawNodeOverlay(e,t):n.drawEdgeOverlay(e,t)};CE.drawElementUnderlay=function(e,t){var n=this;t.isNode()?n.drawNodeUnderlay(e,t):n.drawEdgeUnderlay(e,t)};CE.drawCachedElementPortion=function(e,t,n,r,i,a,s,u){var f=this,d=n.getBoundingBox(t);if(!(d.w===0||d.h===0)){var c=n.getElement(t,d,r,i,a);if(c!=null){var h=u(f,t);if(h===0)return;var p=s(f,t),v=d.x1,m=d.y1,y=d.w,w=d.h,_,S,C,$,k;if(p!==0){var M=n.getRotationPoint(t);C=M.x,$=M.y,e.translate(C,$),e.rotate(p),k=f.getImgSmoothing(e),k||f.setImgSmoothing(e,!0);var A=n.getRotationOffset(t);_=A.x,S=A.y}else _=v,S=m;var L;h!==1&&(L=e.globalAlpha,e.globalAlpha=L*h),e.drawImage(c.texture.canvas,c.x,0,c.width,c.height,_,S,y,w),h!==1&&(e.globalAlpha=L),p!==0&&(e.rotate(-p),e.translate(-C,-$),k||f.setImgSmoothing(e,!1))}else n.drawElement(e,t)}};var eKt=function(){return 0},tKt=function(t,n){return t.getTextAngle(n,null)},nKt=function(t,n){return t.getTextAngle(n,"source")},rKt=function(t,n){return t.getTextAngle(n,"target")},iKt=function(t,n){return n.effectiveOpacity()},Hme=function(t,n){return n.pstyle("text-opacity").pfValue*n.effectiveOpacity()};CE.drawCachedElement=function(e,t,n,r,i,a){var s=this,u=s.data,f=u.eleTxrCache,d=u.lblTxrCache,c=u.slbTxrCache,h=u.tlbTxrCache,p=t.boundingBox(),v=a===!0?f.reasons.highQuality:null;if(!(p.w===0||p.h===0||!t.visible())&&(!r||oke(p,r))){var m=t.isEdge(),y=t.element()._private.rscratch.badLine;s.drawElementUnderlay(e,t),s.drawCachedElementPortion(e,t,f,n,i,v,eKt,iKt),(!m||!y)&&s.drawCachedElementPortion(e,t,d,n,i,v,tKt,Hme),m&&!y&&(s.drawCachedElementPortion(e,t,c,n,i,v,nKt,Hme),s.drawCachedElementPortion(e,t,h,n,i,v,rKt,Hme)),s.drawElementOverlay(e,t)}};CE.drawElements=function(e,t){for(var n=this,r=0;r<t.length;r++){var i=t[r];n.drawElement(e,i)}};CE.drawCachedElements=function(e,t,n,r){for(var i=this,a=0;a<t.length;a++){var s=t[a];i.drawCachedElement(e,s,n,r)}};CE.drawCachedNodes=function(e,t,n,r){for(var i=this,a=0;a<t.length;a++){var s=t[a];s.isNode()&&i.drawCachedElement(e,s,n,r)}};CE.drawLayeredElements=function(e,t,n,r){var i=this,a=i.data.lyrTxrCache.getLayers(t,n);if(a)for(var s=0;s<a.length;s++){var u=a[s],f=u.bb;f.w===0||f.h===0||e.drawImage(u.canvas,f.x1,f.y1,f.w,f.h)}else i.drawCachedElements(e,t,n,r)};var Mk={};Mk.drawEdge=function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,u=t._private.rscratch;if(!(a&&!t.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var f;n&&(f=n,e.translate(-f.x1,-f.y1));var d=a?t.pstyle("opacity").value:1,c=a?t.pstyle("line-opacity").value:1,h=t.pstyle("curve-style").value,p=t.pstyle("line-style").value,v=t.pstyle("width").pfValue,m=t.pstyle("line-cap").value,y=d*c,w=d*c,_=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;h==="straight-triangle"?(s.eleStrokeStyle(e,t,j),s.drawEdgeTrianglePath(t,e,u.allpts)):(e.lineWidth=v,e.lineCap=m,s.eleStrokeStyle(e,t,j),s.drawEdgePath(t,e,u.allpts,p),e.lineCap="butt")},S=function(){i&&s.drawEdgeOverlay(e,t)},C=function(){i&&s.drawEdgeUnderlay(e,t)},$=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w;s.drawArrowheads(e,t,j)},k=function(){s.drawElementText(e,t,null,r)};e.lineJoin="round";var M=t.pstyle("ghost").value==="yes";if(M){var A=t.pstyle("ghost-offset-x").pfValue,L=t.pstyle("ghost-offset-y").pfValue,N=t.pstyle("ghost-opacity").value,R=y*N;e.translate(A,L),_(R),$(R),e.translate(-A,-L)}C(),_(),$(),S(),k(),n&&e.translate(f.x1,f.y1)}};var mst=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(n,r){if(r.visible()){var i=r.pstyle("".concat(t,"-opacity")).value;if(i!==0){var a=this,s=a.usePaths(),u=r._private.rscratch,f=r.pstyle("".concat(t,"-padding")).pfValue,d=2*f,c=r.pstyle("".concat(t,"-color")).value;n.lineWidth=d,u.edgeType==="self"&&!s?n.lineCap="butt":n.lineCap="round",a.colorStrokeStyle(n,c[0],c[1],c[2],i),a.drawEdgePath(r,n,u.allpts,"solid")}}}};Mk.drawEdgeOverlay=mst("overlay");Mk.drawEdgeUnderlay=mst("underlay");Mk.drawEdgePath=function(e,t,n,r){var i=e._private.rscratch,a=t,s,u=!1,f=this.usePaths(),d=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(f){var h=n.join("$"),p=i.pathCacheKey&&i.pathCacheKey===h;p?(s=t=i.pathCache,u=!0):(s=t=new Path2D,i.pathCacheKey=h,i.pathCache=s)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(d),a.lineDashOffset=c;break;case"solid":a.setLineDash([]);break}if(!u&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var v=2;v+3<n.length;v+=4)t.quadraticCurveTo(n[v],n[v+1],n[v+2],n[v+3]);break;case"straight":case"segments":case"haystack":for(var m=2;m+1<n.length;m+=2)t.lineTo(n[m],n[m+1]);break}t=a,f?t.stroke(s):t.stroke(),t.setLineDash&&t.setLineDash([])};Mk.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var r=e.pstyle("width").pfValue,i=0;i+1<n.length;i+=2){var a=[n[i+2]-n[i],n[i+3]-n[i+1]],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),u=[a[1]/s,-a[0]/s],f=[u[0]*r/2,u[1]*r/2];t.beginPath(),t.moveTo(n[i]-f[0],n[i+1]-f[1]),t.lineTo(n[i]+f[0],n[i+1]+f[1]),t.lineTo(n[i+2],n[i+3]),t.closePath(),t.fill()}};Mk.drawArrowheads=function(e,t,n){var r=t._private.rscratch,i=r.edgeType==="haystack";i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)};Mk.drawArrowhead=function(e,t,n,r,i,a,s){if(!(isNaN(r)||r==null||isNaN(i)||i==null||isNaN(a)||a==null)){var u=this,f=t.pstyle(n+"-arrow-shape").value;if(f!=="none"){var d=t.pstyle(n+"-arrow-fill").value==="hollow"?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,h=t.pstyle("width").pfValue,p=t.pstyle("opacity").value;s===void 0&&(s=p);var v=e.globalCompositeOperation;(s!==1||c==="hollow")&&(e.globalCompositeOperation="destination-out",u.colorFillStyle(e,255,255,255,1),u.colorStrokeStyle(e,255,255,255,1),u.drawArrowShape(t,e,d,h,f,r,i,a),e.globalCompositeOperation=v);var m=t.pstyle(n+"-arrow-color").value;u.colorFillStyle(e,m[0],m[1],m[2],s),u.colorStrokeStyle(e,m[0],m[1],m[2],s),u.drawArrowShape(t,e,c,h,f,r,i,a)}}};Mk.drawArrowShape=function(e,t,n,r,i,a,s,u){var f=this,d=this.usePaths()&&i!=="triangle-cross",c=!1,h,p=t,v={x:a,y:s},m=e.pstyle("arrow-scale").value,y=this.getArrowWidth(r,m),w=f.arrowShapes[i];if(d){var _=f.arrowPathCache=f.arrowPathCache||[],S=lP(i),C=_[S];C!=null?(h=t=C,c=!0):(h=t=new Path2D,_[S]=h)}c||(t.beginPath&&t.beginPath(),d?w.draw(t,1,0,{x:0,y:0},1):w.draw(t,y,u,v,r),t.closePath&&t.closePath()),t=p,d&&(t.translate(a,s),t.rotate(u),t.scale(y,y)),(n==="filled"||n==="both")&&(d?t.fill(h):t.fill()),(n==="hollow"||n==="both")&&(t.lineWidth=(w.matchEdgeWidth?r:1)/(d?y:1),t.lineJoin="miter",d?t.stroke(h):t.stroke()),d&&(t.scale(1/y,1/y),t.rotate(-u),t.translate(-a,-s))};var mke={};mke.safeDrawImage=function(e,t,n,r,i,a,s,u,f,d){if(!(i<=0||a<=0||f<=0||d<=0))try{e.drawImage(t,n,r,i,a,s,u,f,d)}catch(c){su(c)}};mke.drawInscribedImage=function(e,t,n,r,i){var a=this,s=n.position(),u=s.x,f=s.y,d=n.cy().style(),c=d.getIndexedStyle.bind(d),h=c(n,"background-fit","value",r),p=c(n,"background-repeat","value",r),v=n.width(),m=n.height(),y=n.padding()*2,w=v+(c(n,"background-width-relative-to","value",r)==="inner"?0:y),_=m+(c(n,"background-height-relative-to","value",r)==="inner"?0:y),S=n._private.rscratch,C=c(n,"background-clip","value",r),$=C==="node",k=c(n,"background-image-opacity","value",r)*i,M=c(n,"background-image-smoothing","value",r),A=t.width||t.cachedW,L=t.height||t.cachedH;(A==null||L==null)&&(document.body.appendChild(t),A=t.cachedW=t.width||t.offsetWidth,L=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var N=A,R=L;if(c(n,"background-width","value",r)!=="auto"&&(c(n,"background-width","units",r)==="%"?N=c(n,"background-width","pfValue",r)*w:N=c(n,"background-width","pfValue",r)),c(n,"background-height","value",r)!=="auto"&&(c(n,"background-height","units",r)==="%"?R=c(n,"background-height","pfValue",r)*_:R=c(n,"background-height","pfValue",r)),!(N===0||R===0)){if(h==="contain"){var D=Math.min(w/N,_/R);N*=D,R*=D}else if(h==="cover"){var D=Math.max(w/N,_/R);N*=D,R*=D}var j=u-w/2,U=c(n,"background-position-x","units",r),H=c(n,"background-position-x","pfValue",r);U==="%"?j+=(w-N)*H:j+=H;var Y=c(n,"background-offset-x","units",r),Z=c(n,"background-offset-x","pfValue",r);Y==="%"?j+=(w-N)*Z:j+=Z;var Q=f-_/2,ee=c(n,"background-position-y","units",r),oe=c(n,"background-position-y","pfValue",r);ee==="%"?Q+=(_-R)*oe:Q+=oe;var ue=c(n,"background-offset-y","units",r),ve=c(n,"background-offset-y","pfValue",r);ue==="%"?Q+=(_-R)*ve:Q+=ve,S.pathCache&&(j-=u,Q-=f,u=0,f=0);var le=e.globalAlpha;e.globalAlpha=k;var de=a.getImgSmoothing(e),me=!1;if(M==="no"&&de?(a.setImgSmoothing(e,!1),me=!0):M==="yes"&&!de&&(a.setImgSmoothing(e,!0),me=!0),p==="no-repeat")$&&(e.save(),S.pathCache?e.clip(S.pathCache):(a.nodeShapes[a.getNodeShape(n)].draw(e,u,f,w,_),e.clip())),a.safeDrawImage(e,t,0,0,A,L,j,Q,N,R),$&&e.restore();else{var Se=e.createPattern(t,p);e.fillStyle=Se,a.nodeShapes[a.getNodeShape(n)].draw(e,u,f,w,_),e.translate(j,Q),e.fill(),e.translate(-j,-Q)}e.globalAlpha=le,me&&a.setImgSmoothing(e,de)}};var uL={};uL.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(ake(n*r));t=Math.pow(2,i)}var a=e.pstyle("font-size").pfValue*t,s=e.pstyle("min-zoomed-font-size").pfValue;return!(a<s)};uL.drawElementText=function(e,t,n,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(r==null){if(a&&!s.eleTextBiggerThanMin(t))return}else if(r===!1)return;if(t.isNode()){var u=t.pstyle("label");if(!u||!u.value)return;var f=s.getLabelJustification(t);e.textAlign=f,e.textBaseline="bottom"}else{var d=t.element()._private.rscratch.badLine,c=t.pstyle("label"),h=t.pstyle("source-label"),p=t.pstyle("target-label");if(d||(!c||!c.value)&&(!h||!h.value)&&(!p||!p.value))return;e.textAlign="center",e.textBaseline="bottom"}var v=!n,m;n&&(m=n,e.translate(-m.x1,-m.y1)),i==null?(s.drawText(e,t,null,v,a),t.isEdge()&&(s.drawText(e,t,"source",v,a),s.drawText(e,t,"target",v,a))):s.drawText(e,t,i,v,a),n&&e.translate(m.x1,m.y1)};uL.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if(t=this.fontCaches[n],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};uL.setupTextStyle=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,s=t.pstyle("font-weight").strValue,u=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,f=t.pstyle("text-outline-opacity").value*u,d=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=r+" "+s+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,d[0],d[1],d[2],u),this.colorStrokeStyle(e,c[0],c[1],c[2],f)};function aKt(e,t,n,r,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5;e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+a),e.lineTo(t+r,n+i-a),e.quadraticCurveTo(t+r,n+i,t+r-a,n+i),e.lineTo(t+a,n+i),e.quadraticCurveTo(t,n+i,t,n+i-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath(),e.fill()}uL.getTextAngle=function(e,t){var n,r=e._private,i=r.rscratch,a=t?t+"-":"",s=e.pstyle(a+"text-rotation"),u=V2(i,"labelAngle",t);return s.strValue==="autorotate"?n=e.isEdge()?u:0:s.strValue==="none"?n=0:n=s.pfValue,n};uL.drawText=function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=t._private,s=a.rscratch,u=i?t.effectiveOpacity():1;if(!(i&&(u===0||t.pstyle("text-opacity").value===0))){n==="main"&&(n=null);var f=V2(s,"labelX",n),d=V2(s,"labelY",n),c,h,p=this.getLabelText(t,n);if(p!=null&&p!==""&&!isNaN(f)&&!isNaN(d)){this.setupTextStyle(e,t,i);var v=n?n+"-":"",m=V2(s,"labelWidth",n),y=V2(s,"labelHeight",n),w=t.pstyle(v+"text-margin-x").pfValue,_=t.pstyle(v+"text-margin-y").pfValue,S=t.isEdge(),C=t.pstyle("text-halign").value,$=t.pstyle("text-valign").value;S&&(C="center",$="center"),f+=w,d+=_;var k;switch(r?k=this.getTextAngle(t,n):k=0,k!==0&&(c=f,h=d,e.translate(c,h),e.rotate(k),f=0,d=0),$){case"top":break;case"center":d+=y/2;break;case"bottom":d+=y;break}var M=t.pstyle("text-background-opacity").value,A=t.pstyle("text-border-opacity").value,L=t.pstyle("text-border-width").pfValue,N=t.pstyle("text-background-padding").pfValue;if(M>0||L>0&&A>0){var R=f-N;switch(C){case"left":R-=m;break;case"center":R-=m/2;break}var D=d-y-N,j=m+2*N,U=y+2*N;if(M>0){var H=e.fillStyle,Y=t.pstyle("text-background-color").value;e.fillStyle="rgba("+Y[0]+","+Y[1]+","+Y[2]+","+M*u+")";var Z=t.pstyle("text-background-shape").strValue;Z.indexOf("round")===0?aKt(e,R,D,j,U,2):e.fillRect(R,D,j,U),e.fillStyle=H}if(L>0&&A>0){var Q=e.strokeStyle,ee=e.lineWidth,oe=t.pstyle("text-border-color").value,ue=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+oe[0]+","+oe[1]+","+oe[2]+","+A*u+")",e.lineWidth=L,e.setLineDash)switch(ue){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=L/4,e.setLineDash([]);break;case"solid":e.setLineDash([]);break}if(e.strokeRect(R,D,j,U),ue==="double"){var ve=L/2;e.strokeRect(R+ve,D+ve,j-ve*2,U-ve*2)}e.setLineDash&&e.setLineDash([]),e.lineWidth=ee,e.strokeStyle=Q}}var le=2*t.pstyle("text-outline-width").pfValue;if(le>0&&(e.lineWidth=le),t.pstyle("text-wrap").value==="wrap"){var de=V2(s,"labelWrapCachedLines",n),me=V2(s,"labelLineHeight",n),Se=m/2,Ee=this.getLabelJustification(t);switch(Ee==="auto"||(C==="left"?Ee==="left"?f+=-m:Ee==="center"&&(f+=-Se):C==="center"?Ee==="left"?f+=-Se:Ee==="right"&&(f+=Se):C==="right"&&(Ee==="center"?f+=Se:Ee==="right"&&(f+=m))),$){case"top":d-=(de.length-1)*me;break;case"center":case"bottom":d-=(de.length-1)*me;break}for(var xe=0;xe<de.length;xe++)le>0&&e.strokeText(de[xe],f,d),e.fillText(de[xe],f,d),d+=me}else le>0&&e.strokeText(p,f,d),e.fillText(p,f,d);k!==0&&(e.rotate(-k),e.translate(-c,-h))}}};var H8={};H8.drawNode=function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,u,f,d=t._private,c=d.rscratch,h=t.position();if(!(!$r(h.x)||!$r(h.y))&&!(a&&!t.visible())){var p=a?t.effectiveOpacity():1,v=s.usePaths(),m,y=!1,w=t.padding();u=t.width()+2*w,f=t.height()+2*w;var _;n&&(_=n,e.translate(-_.x1,-_.y1));for(var S=t.pstyle("background-image"),C=S.value,$=new Array(C.length),k=new Array(C.length),M=0,A=0;A<C.length;A++){var L=C[A],N=$[A]=L!=null&&L!=="none";if(N){var R=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",A);M++,k[A]=s.getCachedImage(L,R,function(){d.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var D=t.pstyle("background-blacken").value,j=t.pstyle("border-width").pfValue,U=t.pstyle("background-opacity").value*p,H=t.pstyle("border-color").value,Y=t.pstyle("border-style").value,Z=t.pstyle("border-opacity").value*p;e.lineJoin="miter";var Q=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U;s.eleFillStyle(e,t,at)},ee=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Z;s.colorStrokeStyle(e,H[0],H[1],H[2],at)},oe=t.pstyle("shape").strValue,ue=t.pstyle("shape-polygon-points").pfValue;if(v){e.translate(h.x,h.y);var ve=s.nodePathCache=s.nodePathCache||[],le=hot(oe==="polygon"?oe+","+ue.join(","):oe,""+f,""+u),de=ve[le];de!=null?(m=de,y=!0,c.pathCache=m):(m=new Path2D,ve[le]=c.pathCache=m)}var me=function(){if(!y){var at=h;v&&(at={x:0,y:0}),s.nodeShapes[s.getNodeShape(t)].draw(m||e,at.x,at.y,u,f)}v?e.fill(m):e.fill()},Se=function(){for(var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Vt=d.backgrounding,tt=0,wt=0;wt<k.length;wt++){var vt=t.cy().style().getIndexedStyle(t,"background-image-containment","value",wt);if(St&&vt==="over"||!St&&vt==="inside"){tt++;continue}$[wt]&&k[wt].complete&&!k[wt].error&&(tt++,s.drawInscribedImage(e,k[wt],t,wt,at))}d.backgrounding=tt!==M,Vt!==d.backgrounding&&t.updateStyle(!1)},Ee=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;s.hasPie(t)&&(s.drawPie(e,t,St),at&&(v||s.nodeShapes[s.getNodeShape(t)].draw(e,h.x,h.y,u,f)))},xe=function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,St=(D>0?D:-D)*at,Vt=D>0?0:255;D!==0&&(s.colorFillStyle(e,Vt,Vt,Vt,St),v?e.fill(m):e.fill())},Ie=function(){if(j>0){if(e.lineWidth=j,e.lineCap="butt",e.setLineDash)switch(Y){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}if(v?e.stroke(m):e.stroke(),Y==="double"){e.lineWidth=j/3;var at=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",v?e.stroke(m):e.stroke(),e.globalCompositeOperation=at}e.setLineDash&&e.setLineDash([])}},Ne=function(){i&&s.drawNodeOverlay(e,t,h,u,f)},We=function(){i&&s.drawNodeUnderlay(e,t,h,u,f)},Me=function(){s.drawElementText(e,t,null,r)},He=t.pstyle("ghost").value==="yes";if(He){var gt=t.pstyle("ghost-offset-x").pfValue,Ye=t.pstyle("ghost-offset-y").pfValue,ot=t.pstyle("ghost-opacity").value,Ue=ot*p;e.translate(gt,Ye),Q(ot*U),me(),Se(Ue,!0),ee(ot*Z),Ie(),Ee(D!==0||j!==0),Se(Ue,!1),xe(Ue),e.translate(-gt,-Ye)}v&&e.translate(-h.x,-h.y),We(),v&&e.translate(h.x,h.y),Q(),me(),Se(p,!0),ee(),Ie(),Ee(D!==0||j!==0),Se(p,!1),xe(),v&&e.translate(-h.x,-h.y),Me(),Ne(),n&&e.translate(_.x1,_.y1)}};var yst=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(n,r,i,a,s){var u=this;if(r.visible()){var f=r.pstyle("".concat(t,"-padding")).pfValue,d=r.pstyle("".concat(t,"-opacity")).value,c=r.pstyle("".concat(t,"-color")).value,h=r.pstyle("".concat(t,"-shape")).value;if(d>0){if(i=i||r.position(),a==null||s==null){var p=r.padding();a=r.width()+2*p,s=r.height()+2*p}u.colorFillStyle(n,c[0],c[1],c[2],d),u.nodeShapes[h].draw(n,i.x,i.y,a+f*2,s+f*2),n.fill()}}}};H8.drawNodeOverlay=yst("overlay");H8.drawNodeUnderlay=yst("underlay");H8.hasPie=function(e){return e=e[0],e._private.hasPie};H8.drawPie=function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),s=r.x,u=r.y,f=t.width(),d=t.height(),c=Math.min(f,d)/2,h=0,p=this.usePaths();p&&(s=0,u=0),a.units==="%"?c=c*a.pfValue:a.pfValue!==void 0&&(c=a.pfValue/2);for(var v=1;v<=i.pieBackgroundN;v++){var m=t.pstyle("pie-"+v+"-background-size").value,y=t.pstyle("pie-"+v+"-background-color").value,w=t.pstyle("pie-"+v+"-background-opacity").value*n,_=m/100;_+h>1&&(_=1-h);var S=1.5*Math.PI+2*Math.PI*h,C=2*Math.PI*_,$=S+C;m===0||h>=1||h+_>1||(e.beginPath(),e.moveTo(s,u),e.arc(s,u,c,S,$),e.closePath(),this.colorFillStyle(e,y[0],y[1],y[2],w),e.fill(),h+=_)}};var wy={},oKt=100;wy.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t};wy.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],n=!0,r,i=0;i<t.length;i++)if(r=t[i],r.context===e){n=!1;break}return n&&(r={context:e},t.push(r)),r};wy.createGradientStyleFor=function(e,t,n,r,i){var a,s=this.usePaths(),u=n.pstyle(t+"-gradient-stop-colors").value,f=n.pstyle(t+"-gradient-stop-positions").pfValue;if(r==="radial-gradient")if(n.isEdge()){var d=n.sourceEndpoint(),c=n.targetEndpoint(),h=n.midpoint(),p=cP(d,h),v=cP(c,h);a=e.createRadialGradient(h.x,h.y,0,h.x,h.y,Math.max(p,v))}else{var m=s?{x:0,y:0}:n.position(),y=n.paddedWidth(),w=n.paddedHeight();a=e.createRadialGradient(m.x,m.y,0,m.x,m.y,Math.max(y,w))}else if(n.isEdge()){var _=n.sourceEndpoint(),S=n.targetEndpoint();a=e.createLinearGradient(_.x,_.y,S.x,S.y)}else{var C=s?{x:0,y:0}:n.position(),$=n.paddedWidth(),k=n.paddedHeight(),M=$/2,A=k/2,L=n.pstyle("background-gradient-direction").value;switch(L){case"to-bottom":a=e.createLinearGradient(C.x,C.y-A,C.x,C.y+A);break;case"to-top":a=e.createLinearGradient(C.x,C.y+A,C.x,C.y-A);break;case"to-left":a=e.createLinearGradient(C.x+M,C.y,C.x-M,C.y);break;case"to-right":a=e.createLinearGradient(C.x-M,C.y,C.x+M,C.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(C.x-M,C.y-A,C.x+M,C.y+A);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(C.x-M,C.y+A,C.x+M,C.y-A);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(C.x+M,C.y-A,C.x-M,C.y+A);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(C.x+M,C.y+A,C.x-M,C.y-A);break}}if(!a)return null;for(var N=f.length===u.length,R=u.length,D=0;D<R;D++)a.addColorStop(N?f[D]:D/(R-1),"rgba("+u[D][0]+","+u[D][1]+","+u[D][2]+","+i+")");return a};wy.gradientFillStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"background",t,n,r);if(!i)return null;e.fillStyle=i};wy.colorFillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"};wy.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientFillStyle(e,t,r,n);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],n)}};wy.gradientStrokeStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"line",t,n,r);if(!i)return null;e.strokeStyle=i};wy.colorStrokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"};wy.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if(r==="linear-gradient"||r==="radial-gradient")this.gradientStrokeStyle(e,t,r,n);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],n)}};wy.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],a=r[3],s=t.getPixelRatio(),u=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(s=u);var f=i*s,d=a*s,c;if(!(f===t.canvasWidth&&d===t.canvasHeight)){t.fontCaches=null;var h=n.canvasContainer;h.style.width=i+"px",h.style.height=a+"px";for(var p=0;p<t.CANVAS_LAYERS;p++)c=n.canvases[p],c.width=f,c.height=d,c.style.width=i+"px",c.style.height=a+"px";for(var p=0;p<t.BUFFER_COUNT;p++)c=n.bufferCanvases[p],c.width=f,c.height=d,c.style.width=i+"px",c.style.height=a+"px";t.textureMult=1,s<=1&&(c=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,c.width=f*t.textureMult,c.height=d*t.textureMult),t.canvasWidth=f,t.canvasHeight=d}};wy.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})};wy.render=function(e){e=e||mot();var t=e.forcedContext,n=e.drawAllLayers,r=e.drawOnlyNodeLayer,i=e.forcedZoom,a=e.forcedPan,s=this,u=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,f=s.cy,d=s.data,c=d.canvasNeedsRedraw,h=s.textureOnViewport&&!t&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),p=e.motionBlur!==void 0?e.motionBlur:s.motionBlur,v=s.motionBlurPxRatio,m=f.hasCompoundNodes(),y=s.hoverData.draggingEles,w=!!(s.hoverData.selecting||s.touchData.selecting);p=p&&!t&&s.motionBlurEnabled&&!w;var _=p;t||(s.prevPxRatio!==u&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=u),!t&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),p&&(s.mbFrames==null&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(_=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!h&&(c[s.NODE]=!0,c[s.SELECT_BOX]=!0);var S=f.style(),C=f.zoom(),$=i!==void 0?i:C,k=f.pan(),M={x:k.x,y:k.y},A={zoom:C,pan:{x:k.x,y:k.y}},L=s.prevViewport,N=L===void 0||A.zoom!==L.zoom||A.pan.x!==L.pan.x||A.pan.y!==L.pan.y;!N&&!(y&&!m)&&(s.motionBlurPxRatio=1),a&&(M=a),$*=u,M.x*=u,M.y*=u;var R=s.getCachedZSortedEles();function D(Ye,ot,Ue,st,at){var St=Ye.globalCompositeOperation;Ye.globalCompositeOperation="destination-out",s.colorFillStyle(Ye,255,255,255,s.motionBlurTransparency),Ye.fillRect(ot,Ue,st,at),Ye.globalCompositeOperation=St}function j(Ye,ot){var Ue,st,at,St;!s.clearingMotionBlur&&(Ye===d.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]||Ye===d.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG])?(Ue={x:k.x*v,y:k.y*v},st=C*v,at=s.canvasWidth*v,St=s.canvasHeight*v):(Ue=M,st=$,at=s.canvasWidth,St=s.canvasHeight),Ye.setTransform(1,0,0,1,0,0),ot==="motionBlur"?D(Ye,0,0,at,St):!t&&(ot===void 0||ot)&&Ye.clearRect(0,0,at,St),n||(Ye.translate(Ue.x,Ue.y),Ye.scale(st,st)),a&&Ye.translate(a.x,a.y),i&&Ye.scale(i,i)}if(h||(s.textureDrawLastFrame=!1),h){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=f.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var U=s.data.bufferContexts[s.TEXTURE_BUFFER];U.setTransform(1,0,0,1,0,0),U.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:U,drawOnlyNodeLayer:!0,forcedPxRatio:u*s.textureMult});var A=s.textureCache.viewport={zoom:f.zoom(),pan:f.pan(),width:s.canvasWidth,height:s.canvasHeight};A.mpan={x:(0-A.pan.x)/A.zoom,y:(0-A.pan.y)/A.zoom}}c[s.DRAG]=!1,c[s.NODE]=!1;var H=d.contexts[s.NODE],Y=s.textureCache.texture,A=s.textureCache.viewport;H.setTransform(1,0,0,1,0,0),p?D(H,0,0,A.width,A.height):H.clearRect(0,0,A.width,A.height);var Z=S.core("outside-texture-bg-color").value,Q=S.core("outside-texture-bg-opacity").value;s.colorFillStyle(H,Z[0],Z[1],Z[2],Q),H.fillRect(0,0,A.width,A.height);var C=f.zoom();j(H,!1),H.clearRect(A.mpan.x,A.mpan.y,A.width/A.zoom/u,A.height/A.zoom/u),H.drawImage(Y,A.mpan.x,A.mpan.y,A.width/A.zoom/u,A.height/A.zoom/u)}else s.textureOnViewport&&!t&&(s.textureCache=null);var ee=f.extent(),oe=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),ue=s.hideEdgesOnViewport&&oe,ve=[];if(ve[s.NODE]=!c[s.NODE]&&p&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,ve[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),ve[s.DRAG]=!c[s.DRAG]&&p&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,ve[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),c[s.NODE]||n||r||ve[s.NODE]){var le=p&&!ve[s.NODE]&&v!==1,H=t||(le?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:d.contexts[s.NODE]),de=p&&!le?"motionBlur":void 0;j(H,de),ue?s.drawCachedNodes(H,R.nondrag,u,ee):s.drawLayeredElements(H,R.nondrag,u,ee),s.debug&&s.drawDebugPoints(H,R.nondrag),!n&&!p&&(c[s.NODE]=!1)}if(!r&&(c[s.DRAG]||n||ve[s.DRAG])){var le=p&&!ve[s.DRAG]&&v!==1,H=t||(le?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:d.contexts[s.DRAG]);j(H,p&&!le?"motionBlur":void 0),ue?s.drawCachedNodes(H,R.drag,u,ee):s.drawCachedElements(H,R.drag,u,ee),s.debug&&s.drawDebugPoints(H,R.drag),!n&&!p&&(c[s.DRAG]=!1)}if(s.showFps||!r&&c[s.SELECT_BOX]&&!n){var H=t||d.contexts[s.SELECT_BOX];if(j(H),s.selection[4]==1&&(s.hoverData.selecting||s.touchData.selecting)){var C=s.cy.zoom(),me=S.core("selection-box-border-width").value/C;H.lineWidth=me,H.fillStyle="rgba("+S.core("selection-box-color").value[0]+","+S.core("selection-box-color").value[1]+","+S.core("selection-box-color").value[2]+","+S.core("selection-box-opacity").value+")",H.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),me>0&&(H.strokeStyle="rgba("+S.core("selection-box-border-color").value[0]+","+S.core("selection-box-border-color").value[1]+","+S.core("selection-box-border-color").value[2]+","+S.core("selection-box-opacity").value+")",H.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(d.bgActivePosistion&&!s.hoverData.selecting){var C=s.cy.zoom(),Se=d.bgActivePosistion;H.fillStyle="rgba("+S.core("active-bg-color").value[0]+","+S.core("active-bg-color").value[1]+","+S.core("active-bg-color").value[2]+","+S.core("active-bg-opacity").value+")",H.beginPath(),H.arc(Se.x,Se.y,S.core("active-bg-size").pfValue/C,0,2*Math.PI),H.fill()}var Ee=s.lastRedrawTime;if(s.showFps&&Ee){Ee=Math.round(Ee);var xe=Math.round(1e3/Ee);H.setTransform(1,0,0,1,0,0),H.fillStyle="rgba(255, 0, 0, 0.75)",H.strokeStyle="rgba(255, 0, 0, 0.75)",H.lineWidth=1,H.fillText("1 frame = "+Ee+" ms = "+xe+" fps",0,20);var Ie=60;H.strokeRect(0,30,250,20),H.fillRect(0,30,250*Math.min(xe/Ie,1),20)}n||(c[s.SELECT_BOX]=!1)}if(p&&v!==1){var Ne=d.contexts[s.NODE],We=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],Me=d.contexts[s.DRAG],He=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],gt=function(ot,Ue,st){ot.setTransform(1,0,0,1,0,0),st||!_?ot.clearRect(0,0,s.canvasWidth,s.canvasHeight):D(ot,0,0,s.canvasWidth,s.canvasHeight);var at=v;ot.drawImage(Ue,0,0,s.canvasWidth*at,s.canvasHeight*at,0,0,s.canvasWidth,s.canvasHeight)};(c[s.NODE]||ve[s.NODE])&&(gt(Ne,We,ve[s.NODE]),c[s.NODE]=!1),(c[s.DRAG]||ve[s.DRAG])&&(gt(Me,He,ve[s.DRAG]),c[s.DRAG]=!1)}s.prevViewport=A,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),p&&(s.motionBlurTimeout=setTimeout(function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!h,s.mbFrames=0,c[s.NODE]=!0,c[s.DRAG]=!0,s.redraw()},oKt)),t||f.emit("render")};var nT={};nT.drawPolygonPath=function(e,t,n,r,i,a){var s=r/2,u=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+s*a[0],n+u*a[1]);for(var f=1;f<a.length/2;f++)e.lineTo(t+s*a[f*2],n+u*a[f*2+1]);e.closePath()};nT.drawRoundPolygonPath=function(e,t,n,r,i,a){var s=r/2,u=i/2,f=ske(r,i);e.beginPath&&e.beginPath();for(var d=0;d<a.length/4;d++){var c=void 0,h=void 0;d===0?c=a.length-2:c=d*4-2,h=d*4+2;var p=t+s*a[d*4],v=n+u*a[d*4+1],m=-a[c]*a[h]-a[c+1]*a[h+1],y=f/Math.tan(Math.acos(m)/2),w=p-y*a[c],_=v-y*a[c+1],S=p+y*a[h],C=v+y*a[h+1];d===0?e.moveTo(w,_):e.lineTo(w,_),e.arcTo(p,v,S,C,f)}e.closePath()};nT.drawRoundRectanglePath=function(e,t,n,r,i){var a=r/2,s=i/2,u=aG(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.arcTo(t+a,n-s,t+a,n,u),e.arcTo(t+a,n+s,t,n+s,u),e.arcTo(t-a,n+s,t-a,n,u),e.arcTo(t-a,n-s,t,n-s,u),e.lineTo(t,n-s),e.closePath()};nT.drawBottomRoundRectanglePath=function(e,t,n,r,i){var a=r/2,s=i/2,u=aG(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.lineTo(t+a,n-s),e.lineTo(t+a,n),e.arcTo(t+a,n+s,t,n+s,u),e.arcTo(t-a,n+s,t-a,n,u),e.lineTo(t-a,n-s),e.lineTo(t,n-s),e.closePath()};nT.drawCutRectanglePath=function(e,t,n,r,i){var a=r/2,s=i/2,u=Cot();e.beginPath&&e.beginPath(),e.moveTo(t-a+u,n-s),e.lineTo(t+a-u,n-s),e.lineTo(t+a,n-s+u),e.lineTo(t+a,n+s-u),e.lineTo(t+a-u,n+s),e.lineTo(t-a+u,n+s),e.lineTo(t-a,n+s-u),e.lineTo(t-a,n-s+u),e.closePath()};nT.drawBarrelPath=function(e,t,n,r,i){var a=r/2,s=i/2,u=t-a,f=t+a,d=n-s,c=n+s,h=t_e(r,i),p=h.widthOffset,v=h.heightOffset,m=h.ctrlPtOffsetPct*p;e.beginPath&&e.beginPath(),e.moveTo(u,d+v),e.lineTo(u,c-v),e.quadraticCurveTo(u+m,c,u+p,c),e.lineTo(f-p,c),e.quadraticCurveTo(f-m,c,f,c-v),e.lineTo(f,d+v),e.quadraticCurveTo(f-m,d,f-p,d),e.lineTo(u+p,d),e.quadraticCurveTo(u+m,d,u,d+v),e.closePath()};var TVe=Math.sin(0),MVe=Math.cos(0),l_e={},c_e={},bst=Math.PI/40;for(var u6=0*Math.PI;u6<2*Math.PI;u6+=bst)l_e[u6]=Math.sin(u6),c_e[u6]=Math.cos(u6);nT.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var a,s,u=r/2,f=i/2,d=0*Math.PI;d<2*Math.PI;d+=bst)a=t-u*l_e[d]*TVe+u*c_e[d]*MVe,s=n+f*c_e[d]*TVe+f*l_e[d]*MVe,d===0?e.moveTo(a,s):e.lineTo(a,s);e.closePath()};var cG={};cG.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]};cG.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements(),r=n.boundingBox(),i=this.findContainerClientCoords(),a=e.full?Math.ceil(r.w):i[2],s=e.full?Math.ceil(r.h):i[3],u=$r(e.maxWidth)||$r(e.maxHeight),f=this.getPixelRatio(),d=1;if(e.scale!==void 0)a*=e.scale,s*=e.scale,d=e.scale;else if(u){var c=1/0,h=1/0;$r(e.maxWidth)&&(c=d*e.maxWidth/a),$r(e.maxHeight)&&(h=d*e.maxHeight/s),d=Math.min(c,h),a*=d,s*=d}u||(a*=f,s*=f,d*=f);var p=document.createElement("canvas");p.width=a,p.height=s,p.style.width=a+"px",p.style.height=s+"px";var v=p.getContext("2d");if(a>0&&s>0){v.clearRect(0,0,a,s),v.globalCompositeOperation="source-over";var m=this.getCachedZSortedEles();if(e.full)v.translate(-r.x1*d,-r.y1*d),v.scale(d,d),this.drawElements(v,m),v.scale(1/d,1/d),v.translate(r.x1*d,r.y1*d);else{var y=t.pan(),w={x:y.x*d,y:y.y*d};d*=t.zoom(),v.translate(w.x,w.y),v.scale(d,d),this.drawElements(v,m),v.scale(1/d,1/d),v.translate(-w.x,-w.y)}e.bg&&(v.globalCompositeOperation="destination-over",v.fillStyle=e.bg,v.rect(0,0,a,s),v.fill())}return p};function sKt(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return new Blob([r],{type:t})}function PVe(e){var t=e.indexOf(",");return e.substr(t+1)}function wst(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new F8(function(i,a){try{t.toBlob(function(s){s!=null?i(s):a(new Error("`canvas.toBlob()` sent a null value in its callback"))},n,e.quality)}catch(s){a(s)}});case"blob":return sKt(PVe(r()),n);case"base64":return PVe(r());case"base64uri":default:return r()}}cG.png=function(e){return wst(e,this.bufferCanvasImage(e),"image/png")};cG.jpg=function(e){return wst(e,this.bufferCanvasImage(e),"image/jpeg")};var _st={};_st.nodeShapeImpl=function(e,t,n,r,i,a,s){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,a);case"polygon":return this.drawPolygonPath(t,n,r,i,a,s);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,i,a,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,i,a);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,i,a);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,a);case"barrel":return this.drawBarrelPath(t,n,r,i,a)}};var uKt=xst,$s=xst.prototype;$s.CANVAS_LAYERS=3;$s.SELECT_BOX=0;$s.DRAG=1;$s.NODE=2;$s.BUFFER_COUNT=3;$s.TEXTURE_BUFFER=0;$s.MOTIONBLUR_BUFFER_NODE=1;$s.MOTIONBLUR_BUFFER_DRAG=2;function xst(e){var t=this;t.data={canvases:new Array($s.CANVAS_LAYERS),contexts:new Array($s.CANVAS_LAYERS),canvasNeedsRedraw:new Array($s.CANVAS_LAYERS),bufferCanvases:new Array($s.BUFFER_COUNT),bufferContexts:new Array($s.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",r="rgba(0,0,0,0)";t.data.canvasContainer=document.createElement("div");var i=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=r,i.position="relative",i.zIndex="0",i.overflow="hidden";var a=e.cy.container();a.appendChild(t.data.canvasContainer),a.style[n]=r;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};VVt()&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var u=0;u<$s.CANVAS_LAYERS;u++){var f=t.data.canvases[u]=document.createElement("canvas");t.data.contexts[u]=f.getContext("2d"),Object.keys(s).forEach(function(Ee){f.style[Ee]=s[Ee]}),f.style.position="absolute",f.setAttribute("data-id","layer"+u),f.style.zIndex=String($s.CANVAS_LAYERS-u),t.data.canvasContainer.appendChild(f),t.data.canvasNeedsRedraw[u]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[$s.NODE].setAttribute("data-id","layer"+$s.NODE+"-node"),t.data.canvases[$s.SELECT_BOX].setAttribute("data-id","layer"+$s.SELECT_BOX+"-selectbox"),t.data.canvases[$s.DRAG].setAttribute("data-id","layer"+$s.DRAG+"-drag");for(var u=0;u<$s.BUFFER_COUNT;u++)t.data.bufferCanvases[u]=document.createElement("canvas"),t.data.bufferContexts[u]=t.data.bufferCanvases[u].getContext("2d"),t.data.bufferCanvases[u].style.position="absolute",t.data.bufferCanvases[u].setAttribute("data-id","buffer"+u),t.data.bufferCanvases[u].style.zIndex=String(-u-1),t.data.bufferCanvases[u].style.visibility="hidden";t.pathsEnabled=!0;var d=Om(),c=function(xe){return{x:(xe.x1+xe.x2)/2,y:(xe.y1+xe.y2)/2}},h=function(xe){return{x:-xe.w/2,y:-xe.h/2}},p=function(xe){var Ie=xe[0]._private,Ne=Ie.oldBackgroundTimestamp===Ie.backgroundTimestamp;return!Ne},v=function(xe){return xe[0]._private.nodeKey},m=function(xe){return xe[0]._private.labelStyleKey},y=function(xe){return xe[0]._private.sourceLabelStyleKey},w=function(xe){return xe[0]._private.targetLabelStyleKey},_=function(xe,Ie,Ne,We,Me){return t.drawElement(xe,Ie,Ne,!1,!1,Me)},S=function(xe,Ie,Ne,We,Me){return t.drawElementText(xe,Ie,Ne,We,"main",Me)},C=function(xe,Ie,Ne,We,Me){return t.drawElementText(xe,Ie,Ne,We,"source",Me)},$=function(xe,Ie,Ne,We,Me){return t.drawElementText(xe,Ie,Ne,We,"target",Me)},k=function(xe){return xe.boundingBox(),xe[0]._private.bodyBounds},M=function(xe){return xe.boundingBox(),xe[0]._private.labelBounds.main||d},A=function(xe){return xe.boundingBox(),xe[0]._private.labelBounds.source||d},L=function(xe){return xe.boundingBox(),xe[0]._private.labelBounds.target||d},N=function(xe,Ie){return Ie},R=function(xe){return c(k(xe))},D=function(xe,Ie,Ne){var We=xe?xe+"-":"";return{x:Ie.x+Ne.pstyle(We+"text-margin-x").pfValue,y:Ie.y+Ne.pstyle(We+"text-margin-y").pfValue}},j=function(xe,Ie,Ne){var We=xe[0]._private.rscratch;return{x:We[Ie],y:We[Ne]}},U=function(xe){return D("",j(xe,"labelX","labelY"),xe)},H=function(xe){return D("source",j(xe,"sourceLabelX","sourceLabelY"),xe)},Y=function(xe){return D("target",j(xe,"targetLabelX","targetLabelY"),xe)},Z=function(xe){return h(k(xe))},Q=function(xe){return h(A(xe))},ee=function(xe){return h(L(xe))},oe=function(xe){var Ie=M(xe),Ne=h(M(xe));if(xe.isNode()){switch(xe.pstyle("text-halign").value){case"left":Ne.x=-Ie.w;break;case"right":Ne.x=0;break}switch(xe.pstyle("text-valign").value){case"top":Ne.y=-Ie.h;break;case"bottom":Ne.y=0;break}}return Ne},ue=t.data.eleTxrCache=new uH(t,{getKey:v,doesEleInvalidateKey:p,drawElement:_,getBoundingBox:k,getRotationPoint:R,getRotationOffset:Z,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ve=t.data.lblTxrCache=new uH(t,{getKey:m,drawElement:S,getBoundingBox:M,getRotationPoint:U,getRotationOffset:oe,isVisible:N}),le=t.data.slbTxrCache=new uH(t,{getKey:y,drawElement:C,getBoundingBox:A,getRotationPoint:H,getRotationOffset:Q,isVisible:N}),de=t.data.tlbTxrCache=new uH(t,{getKey:w,drawElement:$,getBoundingBox:L,getRotationPoint:Y,getRotationOffset:ee,isVisible:N}),me=t.data.lyrTxrCache=new pst(t);t.onUpdateEleCalcs(function(xe,Ie){ue.invalidateElements(Ie),ve.invalidateElements(Ie),le.invalidateElements(Ie),de.invalidateElements(Ie),me.invalidateElements(Ie);for(var Ne=0;Ne<Ie.length;Ne++){var We=Ie[Ne]._private;We.oldBackgroundTimestamp=We.backgroundTimestamp}});var Se=function(xe){for(var Ie=0;Ie<xe.length;Ie++)me.enqueueElementRefinement(xe[Ie].ele)};ue.onDequeue(Se),ve.onDequeue(Se),le.onDequeue(Se),de.onDequeue(Se)}$s.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[$s.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[$s.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[$s.SELECT_BOX]=t;break}};var lKt=typeof Path2D<"u";$s.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};$s.usePaths=function(){return lKt&&this.pathsEnabled};$s.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};$s.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};$s.makeOffscreenCanvas=function(e,t){var n;return(typeof OffscreenCanvas>"u"?"undefined":Kd(OffscreenCanvas))!=="undefined"?n=new OffscreenCanvas(e,t):(n=document.createElement("canvas"),n.width=e,n.height=t),n};[vst,CE,Mk,mke,uL,H8,wy,nT,cG,_st].forEach(function(e){oa($s,e)});var cKt=[{name:"null",impl:ost},{name:"base",impl:hst},{name:"canvas",impl:uKt}],fKt=[{type:"layout",extensions:yYt},{type:"renderer",extensions:cKt}],Sst={},Est={};function Cst(e,t,n){var r=n,i=function(L){su("Can not register `"+t+"` for `"+e+"` since `"+L+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(TV.prototype[t])return i(t);TV.prototype[t]=n}else if(e==="collection"){if(Fg.prototype[t])return i(t);Fg.prototype[t]=n}else if(e==="layout"){for(var a=function(L){this.options=L,n.call(this,L),ws(this._private)||(this._private={}),this._private.cy=L.cy,this._private.listeners=[],this.createEmitter()},s=a.prototype=Object.create(n.prototype),u=[],f=0;f<u.length;f++){var d=u[f];s[d]=s[d]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var c=n.prototype.stop;s.stop=function(){var A=this.options;if(A&&A.animate){var L=this.animations;if(L)for(var N=0;N<L.length;N++)L[N].stop()}return c?c.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var h=function(L){return L._private.cy},p={addEventFields:function(L,N){N.layout=L,N.cy=h(L),N.target=L},bubble:function(){return!0},parent:function(L){return h(L)}};oa(s,{createEmitter:function(){return this._private.emitter=new Loe(p,this),this},emitter:function(){return this._private.emitter},on:function(L,N){return this.emitter().on(L,N),this},one:function(L,N){return this.emitter().one(L,N),this},once:function(L,N){return this.emitter().one(L,N),this},removeListener:function(L,N){return this.emitter().removeListener(L,N),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(L,N){return this.emitter().emit(L,N),this}}),ou.eventAliasesOn(s),r=a}else if(e==="renderer"&&t!=="null"&&t!=="base"){var v=$st("renderer","base"),m=v.prototype,y=n,w=n.prototype,_=function(){v.apply(this,arguments),y.apply(this,arguments)},S=_.prototype;for(var C in m){var $=m[C],k=w[C]!=null;if(k)return i(C);S[C]=$}for(var M in w)S[M]=w[M];m.clientFunctions.forEach(function(A){S[A]=S[A]||function(){gf("Renderer does not implement `renderer."+A+"()` on its prototype")}}),r=_}else if(e==="__proto__"||e==="constructor"||e==="prototype")return gf(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return uot({map:Sst,keys:[e,t],value:r})}function $st(e,t){return lot({map:Sst,keys:[e,t]})}function dKt(e,t,n,r,i){return uot({map:Est,keys:[e,t,n,r],value:i})}function hKt(e,t,n,r){return lot({map:Est,keys:[e,t,n,r]})}var f_e=function(){if(arguments.length===2)return $st.apply(null,arguments);if(arguments.length===3)return Cst.apply(null,arguments);if(arguments.length===4)return hKt.apply(null,arguments);if(arguments.length===5)return dKt.apply(null,arguments);gf("Invalid extension access syntax")};TV.prototype.extension=f_e;fKt.forEach(function(e){e.extensions.forEach(function(t){Cst(e.type,t.name,t.impl)})});var kst=function e(){if(!(this instanceof e))return new e;this.length=0},hP=kst.prototype;hP.instanceString=function(){return"stylesheet"};hP.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};hP.css=function(e,t){var n=this.length-1;if(ji(e))this[n].properties.push({name:e,value:t});else if(ws(e))for(var r=e,i=Object.keys(r),a=0;a<i.length;a++){var s=i[a],u=r[s];if(u!=null){var f=zp.properties[s]||zp.properties[Aoe(s)];if(f!=null){var d=f.name,c=u;this[n].properties.push({name:d,value:c})}}}return this};hP.style=hP.css;hP.generateStyle=function(e){var t=new zp(e);return this.appendToStyle(t)};hP.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var a=0;a<i.length;a++){var s=i[a];e.css(s.name,s.value)}}return e};var gKt="3.23.0",gP=function(t){if(t===void 0&&(t={}),ws(t))return new TV(t);if(ji(t))return f_e.apply(f_e,arguments)};gP.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(gP),e.apply(null,t),this};gP.warnings=function(e){return pot(e)};gP.version=gKt;gP.stylesheet=gP.Stylesheet=kst;var lH=gP,d_e={},pKt={get exports(){return d_e},set exports(e){d_e=e}},dre={},vKt={get exports(){return dre},set exports(e){dre=e}},LVe;function mKt(){return LVe||(LVe=1,function(e){(function(){var t;typeof window<"u"?(t=window,t.document):t={Array:function(){}};function n(){}function r(){}function i(){}function a(){}function s(){}function u(){}function f(){}function d(){}function c(){}function h(){}function p(){}function v(){}function m(){}function y(){}function w(){}function _(){}function S(){}function C(){}function $(){}function k(){}function M(){}function A(){}function L(){}function N(){}function R(){}function D(){}function j(){}function U(){}function H(){}function Y(){}function Z(){}function Q(){}function ee(){}function oe(){}function ue(){}function ve(){}function le(){}function de(){}function me(){}function Se(){}function Ee(){}function xe(){}function Ie(){}function Ne(){}function We(){}function Me(){}function He(){}function gt(){}function Ye(){}function ot(){}function Ue(){}function st(){}function at(){}function St(){}function Vt(){}function tt(){}function wt(){}function vt(){}function Le(){}function ft(){}function Mt(){}function yt(){}function Ct(){}function jt(){}function At(){}function Bt(){}function kt(){}function qt(){}function fn(){}function jn(){}function Mn(){}function Un(){}function Kr(){}function Wi(){}function sa(){}function ga(){}function $i(){}function Do(){}function xo(){}function en(){}function sn(){}function On(){}function Kn(){}function kr(){}function ti(){}function Ji(){}function Yi(){}function ka(){}function fo(){}function Il(){}function Oa(){}function rc(){}function Bf(){}function Hf(){}function th(){}function Gh(){}function wu(){}function qs(){}function ic(){}function wf(){}function Fl(){}function Du(){}function Gu(){}function Uf(){}function Nl(){}function ja(){}function lu(){}function _f(){}function Iu(){}function _u(){}function xf(){}function xu(){}function Ev(){}function wd(){}function qh(){}function t0(){}function n0(){}function r0(){}function Sf(){}function Yh(){}function nh(){}function Yg(){}function Vf(){}function Kh(){jY()}function Hm(){QAt()}function Wf(){nIe()}function rh(){J5e()}function Ef(){Gfe()}function Xh(){xw()}function Zh(){eO()}function cs(){uC()}function Gf(){APe()}function ac(){NY()}function Kg(){jIe()}function Cv(){zY()}function _d(){C9()}function Xg(){T6e()}function Cf(){dhe()}function jc(){TC(this)}function i0(){}function Pe(){ox(this)}function ut(){}function rt(l){this.a=l}function Ot(l){this.a=l}function Dt(l){this.a=l}function Tt(l){this.a=l}function nn(l){this.a=l}function Sn(l){this.a=l}function Fn(l){this.a=l}function gn(l){this.a=l}function Xn(l){this.a=l}function or(l){this.b=l}function An(l){this.a=l}function cr(l){this.a=l}function bn(l){this.a=l}function Zn(l){this.a=l}function Ve(l){this.a=l}function $t(l){this.a=l}function an(l){this.a=l}function _n(l){this.a=l}function In(l){this.a=l}function Yn(l){this.a=l}function pi(l){this.a=l}function ir(l){this.a=l}function Cn(l){this.a=l}function un(l){this.a=l}function Hr(l){this.a=l}function Xr(l){this.e=l}function Ur(l){this.a=l}function gr(l){this.a=l}function Er(l){this.a=l}function pr(l){this.a=l}function vr(l){this.a=l}function ri(l){this.a=l}function ua(l){this.a=l}function Ga(l){this.a=l}function Fr(l){this.a=l}function to(l){this.a=l}function Li(l){this.a=l}function ll(l){this.a=l}function Vr(l){this.a=l}function oo(l){this.a=l}function Io(l){this.a=l}function qo(l){this.a=l}function Zr(l){this.a=l}function cl(l){this.a=l}function Qh(l){this.a=l}function xd(l){this.a=l}function vw(l){this.a=l}function qk(l){this.c=l}function WE(l){this.a=l}function F_(l){this.a=l}function GE(l){this.a=l}function Um(l){this.a=l}function a0(l){this.a=l}function qE(l){this.a=l}function YE(l){this.a=l}function N_(l){this.a=l}function li(l){this.a=l}function qf(l){this.a=l}function o0(l){this.d=l}function wi(l){this.a=l}function _i(l){this.a=l}function Jh(l){this.a=l}function xy(l){this.a=l}function Sy(l){this.b=l}function fl(l){this.a=l}function Vm(l){this.a=l}function ge(l){this.c=l}function zl(l){this.a=l}function z_(l){this.a=l}function mw(l){this.a=l}function Wm(l){this.b=l}function re(l){this.b=l}function nr(l){this.c=l}function $v(l){this.a=l}function dl(l){this.a=l}function s0(l){this.a=l}function pt(){this.a=[]}function Jt(l){this.a=l}function eg(l){this.a=l}function Ba(l){l.b=l.a}function ki(l){l.c=l.d.d}function Wr(l,g){l.g=g}function hl(l,g){l.k=g}function RT(l,g){l.a=g}function cu(l,g){l.b=g}function Sd(l,g){l.e.k=g}function yw(l){return l.a}function Wt(l){return l.a}function Yk(l){return l.a}function Kk(l){return l.a}function KE(l){return l.a}function j_(){return null}function Zg(){return null}function Ft(){this.c=this}function hn(){TC(this)}function Rt(){yg(this)}function Or(l){FOt(this,l)}function na(l){fc(),E3t(l)}function So(l){l.a=new Ds}function Ls(l,g){l.a=g-l.a}function so(l,g){l.b=g-l.b}function Mo(){Mo=r}function Gm(){Gm=r}function Bc(){throw new ya}function u0(){throw new ya}function B_(){throw new ya}function tg(){throw new ya}function Ey(){throw new ya}function qm(){throw new ya}function Fo(){throw new ya}function H_(){throw new ya}function Xk(){throw new ya}function Ym(){this.a=new Pe}function XE(){this.a=new Pe}function U_(){this.a=new Pe}function bw(){this.a=new Pe}function ng(){this.a=new Pe}function oc(){this.a=new lu}function Ed(){this.a=new lLe}function V_(){this.b=new Pe}function ns(){Ds.call(this)}function W_(){kO.call(this)}function Cy(){i0.call(this)}function l0(){i0.call(this)}function $y(){Pe.call(this)}function Km(){jc.call(this)}function Cd(){jc.call(this)}function Xm(){jc.call(this)}function G_(){jc.call(this)}function kv(){jc.call(this)}function c0(){jc.call(this)}function ya(){jc.call(this)}function ky(){this.f=new Pe}function Zm(){this.d=new Pe}function ZE(){this.a=new Aa}function QE(){throw new ya}function Qg(){throw new ya}function q_(){throw new ya}function Ys(){throw new ya}function Hc(){throw new ya}function Qm(){this.a=new Pe}function Y_(){Y_=r,jz=new i}function Gi(){Gi=r}function gl(){gl=r,YX=new a}function ww(){ww=r,s8e=new d}function f0(){f0=r,u8e=new mPe}function Jm(){Jm=r,Wge=new u}function e1(){e1=r,d8e=new m}function t1(){t1=r,m7e=new N}function d0(){d0=r,y7e=new U}function Oy(l){return C1(l),l}function Jg(l){Ss(),this.a=l}function _w(l){Tf(),this.a=l}function qa(l){Tf(),this.a=l}function sr(l){Tf(),this.a=l}function Ay(l,g){l.i=g,g.f=l}function h0(l,g){ma(l.b,g)}function $d(){jc.call(this)}function ih(){jc.call(this)}function Su(){jc.call(this)}function qe(){OPe.call(this)}function n1(){OPe.call(this)}function Ry(){Xm.call(this)}function Yf(){Cd.call(this)}function te(l){s1.call(this,l)}function ke(l){u9.call(this,l)}function De(l){u9.call(this,l)}function Ae(l){mY.call(this,l)}function Ge(l){MY.call(this,l)}function Et(l){IPe.call(this,l)}function Gt(l){vO.call(this,l)}function Pn(l){Ny.call(this,l)}function la(l){mY.call(this,l)}function Ia(l,g){l.a.W().nb(g)}function Ya(l,g){return l===g}function Uc(l){return l?l.a:0}function $f(l){return l?l.d:0}function Ty(l){return l?l.j:0}function WL(l){te.call(this,l)}function JE(l){te.call(this,l)}function rs(l){te.call(this,l)}function Zk(l){rs.call(this,l)}function g0(){pi.call(this,{})}function Qk(l){Or.call(this,l)}function TT(l){Or.call(this,l)}function GL(l,g,b){TCt(l,g.b,b)}function r1(l,g,b){iEt(l.c,g,b)}function qL(l,g,b){l.b.Fc(g,b)}function eC(l){cl.call(this,l)}function ah(l){cl.call(this,l)}function MT(){this.a=(vo(),hp)}function YL(){this.a=(vo(),hp)}function Aa(){this.a=new Rt}function tC(){this.a=new oD}function Jk(){Jk=r,$pe=new H}function xw(){xw=r,k7e=new de}function eO(){eO=r,T7e=new fn}function zr(l){return Sa(),l}function Lt(l){return hs(l),l}function Sw(l){s1.call(this,l)}function sc(l){te.call(this,l)}function Oi(l){te.call(this,l)}function nC(l){this.c=dx(mr(l))}function is(){this.a=0,this.b=0}function Ds(){fY(this),S1(this)}function Ov(){WX==null&&(WX=[])}function Ew(l){l.b=null,l.c=0}function i1(l,g){return l.b=g,l}function rg(l,g){return l.c=g,l}function rC(l,g){return l.f=g,l}function tO(l,g){return l.g=g,l}function nO(l,g){return l.a=g,l}function Av(l,g){return l.f=g,l}function a1(l,g){return l.k=g,l}function qu(l,g){return l.e-g.e}function Rv(l,g){return l.d-g.d}function iC(l){return l<0?-l:l}function KL(l){return isNaN(l)}function XL(l){return new Yn(l)}function uc(l){return new px(l)}function K_(l){te.call(this,l)}function Vc(l){te.call(this,l)}function ep(l){te.call(this,l)}function o1(l){te.call(this,l)}function oh(l){te.call(this,l)}function s1(l){this.f=l,TC(this)}function aC(){this.b=0,this.a=0}function Yu(){Yu=r}function rO(){rO=r,bze=cOt()}function ZL(l,g,b){l.set(g,b)}function My(l,g,b){l.set(g,b)}function PT(l,g){M4(),Dge.dc(l,g)}function nt(l,g){return BPe(l,g)}function QL(l,g){return l.a.B(g)}function kf(l,g){return l.g[g.e]}function X_(l,g){return l.i[g.e]}function iO(l,g){return l.j[g.e]}function Py(l,g){return l.n[g.e]}function tp(l,g){return l.o[g.e]}function aO(l,g){return g in l.a}function W7(l,g){return l.b-g.b}function LT(l,g){return l.d-g.d}function JL(l,g){return l.i-g.i}function rn(l,g){return l>g?l:g}function oO(l,g){return l>g?l:g}function Is(l,g){return l>g?l:g}function Ri(l,g){return l<g?l:g}function DT(l,g){return l<g?l:g}function ig(l,g){return l<g?l:g}function ag(l){return!!l&&l.b}function IT(l){vg(l,l.length)}function FT(l){SSt(l,l.length)}function Cw(l){ESt(l,l.length)}function $w(l){sc.call(this,l)}function Ly(l){YE.call(this,l)}function NT(l){F_.call(this,l)}function kw(l){Oi.call(this,l)}function u1(l){Wm.call(this,l)}function zT(l){u1.call(this,l)}function jT(l){p4.call(this,l)}function Tv(){YE.call(this,"")}function oC(){YE.call(this,"")}function Ow(l){return Vw(l),l.n}function eD(l){return Vw(l),l.j}function Eu(l){return l.e&&l.e()}function ba(l,g){return l.a.sb(g)}function BT(l,g){return l||mr(g)}function HT(l,g){return _e(l.a,g)}function Z_(l,g){return Ofe(l.a,g)}function UT(l,g){return zK(l,g)<0}function sC(l){return Gi(),""+l}function VT(l){return l?l.d:null}function Cu(l){Tf(),this.a=mr(l)}function WT(){$Le(),this.g=new nx}function uC(){uC=r,M7e=(Gc(),L1)}function sO(){Uz!=0&&(Uz=0),Vz=-1}function Aw(l){return QOt(l,l.d),l}function l1(l,g){return l.a.d=g,l}function jl(l,g){return l.a.a=g,l}function Of(l,g){return l.a.c=g,l}function p0(l,g){return l.a.f=g,l}function Rw(l,g){return l.a.f=g,l}function Tw(l,g){return l.a.b=g,l}function uO(l,g,b){l.splice(g,b)}function GT(l,g){return Rde(g,l)}function qT(l,g){return l.b.t(g)}function lO(l,g){return l.c.t(g)}function og(l,g){return l.a.R(g)}function v0(l,g){return l.get(g)}function lC(l,g){return l.get(g)}function Dy(l,g){return l.test(g)}function _s(l){return l<=0?0-l:l}function cO(l){return Gi(),""+l}function YT(l){return Gi(),""+l}function cC(l){this.a=new mC(l)}function tD(l){this.a=new Jfe(l)}function nD(l){this.a=T(mr(l),19)}function Q_(l){this.b=T(mr(l),57)}function fO(l){this.d=T(mr(l),56)}function fi(l,g){this.d=l,this.e=g}function J_(l,g){this.b=l,this.a=g}function KT(l,g){this.b=l,this.a=g}function Af(l,g){this.b=l,this.c=g}function np(l,g){this.a=l,this.b=g}function dO(l,g){this.a=l,this.b=g}function XT(l,g){this.a=l,this.f=g}function Iy(l,g){fi.call(this,l,g)}function Fy(l,g){fi.call(this,l,g)}function hO(l,g){fi.call(this,l,g)}function gO(l,g){this.b=l,this.c=g}function rD(l,g){this.e=l,this.c=g}function ZT(l,g){this.a=l,this.b=g}function Mw(l,g){this.a=l,this.b=g}function Pw(l,g){fi.call(this,l,g)}function QT(l,g){this.a=l,this.b=g}function pO(l){this.a=T(mr(l),20)}function Ny(l){this.a=T(mr(l),20)}function ex(l){this.a=T(mr(l),57)}function vO(l){this.b=T(mr(l),35)}function Gn(l,g){this.a=l,this.b=g}function Po(l,g){this.a=l,this.b=g}function Mv(l,g){fi.call(this,l,g)}function mO(l,g){return ZO(l.b,g)}function iD(l){return uPe(),l?f8e:c8e}function sg(l){return l==Id||l==Kc}function fC(l){return l==P1||l==Jv}function yO(l,g){zs(l,g,l.a,l.a.a)}function bO(l,g){zs(l,g,l.c.b,l.c)}function Lw(l,g){fi.call(this,l,g)}function sh(l,g){fi.call(this,l,g)}function Dw(l,g){fi.call(this,l,g)}function zy(l,g){fi.call(this,l,g)}function wO(l,g){fi.call(this,l,g)}function m0(l,g){fi.call(this,l,g)}function tx(l,g){fi.call(this,l,g)}function jy(l,g){fi.call(this,l,g)}function rp(l,g){fi.call(this,l,g)}function c1(l,g){fi.call(this,l,g)}function Iw(l,g){fi.call(this,l,g)}function ug(l,g){fi.call(this,l,g)}function f1(l,g){fi.call(this,l,g)}function Pv(l,g){fi.call(this,l,g)}function Ai(l,g){this.b=l,this.a=g}function y0(l,g){this.c=l,this.d=g}function dC(l,g){this.a=l,this.c=g}function d1(l,g){this.e=l,this.c=g}function hC(l,g){this.e=l,this.d=g}function Fw(l,g){fi.call(this,l,g)}function By(l,g){fi.call(this,l,g)}function lc(l,g){this.a=l,this.b=g}function aD(l,g){this.a=l,this.b=g}function h1(l,g){fi.call(this,l,g)}function Di(l,g){fi.call(this,l,g)}function g1(l,g){fi.call(this,l,g)}function _O(l,g){fi.call(this,l,g)}function Hy(l,g){fi.call(this,l,g)}function JT(l,g){fi.call(this,l,g)}function gC(l,g){fi.call(this,l,g)}function ip(l,g){fi.call(this,l,g)}function kd(l,g){return gg(l.c,g)}function Nw(l){return l.b<l.d.Y()}function pC(l){return l.d.c+l.e.c}function xO(l,g){return l.c.ab(g)}function G7(l,g){return l.b.kb(g)}function q7(l,g){return l.b.lb(g)}function zw(l,g){return l.b.pb(g)}function vC(l,g){return l.b.kb(g)}function e4(l,g){return l.b.lb(g)}function Y7(l){return l==f2||l==Gx}function K7(l){return l==f2||l==Wx}function uh(l){return l!=pp&&l!=u2}function X7(l){return Pd(l),l.d.Y()}function Kf(l){this.c=l,KLe(this)}function mC(l){VDe.call(this,l,0)}function oD(){Jfe.call(this,null)}function p1(){De.call(this,new Rt)}function SO(){hO.call(this,"KEY",0)}function b0(l){YO(),MY.call(this,l)}function EO(l){t.clearTimeout(l)}function CO(l){return l.Vb(l.b.H())}function $O(l){this.a=T(mr(l),144)}function nx(){this.b=(hi(),new Rt)}function Lv(){Lv=r,p$=new nh}function lh(){lh=r,DQ=new n0}function Uy(){Uy=r,yze=new Yh}function yC(){yC=r,t8e=new nC(",")}function t4(){t4=r}function kO(){vh.call(this,0,0,0,0)}function OO(l,g){fi.call(this,l,g)}function rx(l,g){fi.call(this,l,g)}function bC(l,g){fi.call(this,l,g)}function n4(l,g){fi.call(this,l,g)}function sD(l){Uw(),bt.call(this,l)}function AO(l,g){fi.call(this,l,g)}function uD(l,g){this.c=l,this.b=g}function lD(l,g){this.a=l,this.b=g}function cD(l,g){this.b=l,this.d=g}function r4(l,g){fi.call(this,l,g)}function v1(l,g){fi.call(this,l,g)}function wC(l,g){fi.call(this,l,g)}function Vy(l,g){fi.call(this,l,g)}function Wy(l,g){fi.call(this,l,g)}function w0(l,g){fi.call(this,l,g)}function _C(l,g){fi.call(this,l,g)}function RO(l,g){fi.call(this,l,g)}function ix(l,g){fi.call(this,l,g)}function xC(l,g){fi.call(this,l,g)}function TO(l,g){fi.call(this,l,g)}function MO(l,g){fi.call(this,l,g)}function jw(l,g,b){l.splice(g,0,b)}function ax(l,g,b){l.g[g.e][g.e]=b}function ch(l,g){l.a=g,l.g=0,l.f=0}function lg(l){return l.a=0,l.b=0,l}function pl(l){return mc(l.b.c,l,0)}function SC(l){return Math.ceil(l)}function PO(l){return Math.sqrt(l)}function EC(l,g){return lC(l.a,g)}function LO(l,g){return!!Hde(l,g)}function DO(l,g){bSt(l,l.length,g)}function Bw(l,g){fi.call(this,l,g)}function Hw(l,g){this.b=l,this.a=g}function CC(l,g){this.d=l,this.e=g}function fD(){OD(),this.c=new Aa}function dD(){pz(),this.a=new Aa}function i4(){return rO(),new bze}function m1(l){if(!l)throw new Cd}function $C(l){if(!l)throw new kv}function G(l){if(!l)throw new Su}function X(){this.b=(hi(),new Rt)}function ae(){this.b=(hi(),new Rt)}function se(l){this.a=l.a,this.b=l.b}function he(l){return l??null}function Fe(l){return l?l.zb():null}function Te(l,g){return l.Nb().sb(g)}function Ke(l,g){return l.a.a.a.U(g)}function Qe(l,g){return f$t(l.mb(),g)}function et(l,g){return js(g.b,l.b)}function lt(l,g){return js(g.k,l.k)}function zt(l){return Math.floor(l)}function It(l,g){return l.a+=""+g,l}function Kt(l,g){return l.a+=""+g,l}function pn(l,g){return l.a+=""+g,l}function Bn(l){return IO(l==null),l}function Nr(l){return l.d&&cX(l),l.a}function Cr(l){return l.d&&cX(l),l.b}function Lr(l){return l.d&&cX(l),l.c}function Rr(l,g){return tn(l.a,g),g}function Sr(l){yg(this),mDe(this,l)}function as(l){this.c=l,this.e=!1}function xs(){Fy.call(this,"OPEN",0)}function cc(){Pw.call(this,"SIZE",0)}function cg(){F_.call(this,"UTF-8")}function fg(){fg=r,gve={},Cj={}}function fc(){fc=r,o$=new Nn(kNe,0)}function os(l){return mr(l),new sx(l)}function Dv(l){return Gi(),l.length}function a4(l,g){return JEt(l.a,g.a)}function kC(l,g){return sY(l.a,g.a)}function vl(l,g){return l==g?0:l?1:-1}function Gy(l){return $f(l.e)-$f(l.g)}function fs(l){return new Gn(l.a,l.b)}function hD(l){return new Gn(l.d,l.e)}function ox(l){l.c=Pt(Ln,cn,1,0,4,1)}function gD(){hO.call(this,"VALUE",1)}function Z7(l){s9.call(this),this.a=l}function rY(l){this.a=new dFe,this.b=l}function sx(l){this.a=l,Ft.call(this)}function iY(l){this.a=l,Ft.call(this)}function aY(){rIe(),this.d=(Qy(),Ej)}function Kce(l){if(!l)throw new G_}function qy(l){if(!l)throw new kv}function Q7(l){if(!l)throw new Cd}function IO(l){if(!l)throw new Km}function Jn(l){if(!l)throw new Su}function Bl(){Jt.call(this,new O4)}function oY(){Fy.call(this,"CLOSED",1)}function Xf(l){IPe.call(this,new Et(l))}function J7(l,g){return++l.d,Ks(l,g)}function Xce(l,g){return F(l.a,0,g)}function Zce(l,g){return js(l.a,g.a)}function OC(l){return IC(l.b.mb(),l.a)}function dg(l){return VO(l.a.mb(),l.b)}function pD(l,g){return g==l.c?l.d:l.c}function Qce(l,g){return l<g?-1:l>g?1:0}function sY(l,g){return l<g?-1:l>g?1:0}function vD(l){return l!=null?C0(l):0}function uY(l){this.a=i4(),this.b=l}function lY(l){this.a=i4(),this.b=l}function o4(l){this.a=l,k9.call(this,l)}function cY(){e9(),this.b=new Io(this)}function fh(){fh=r,zge=ife(new nC(", "))}function Od(){Od=r,_h=new xs,Hz=new oY}function Ha(){Ha=r,a8e=new p,jge=new v}function FO(){FO=r,KX=new SO,Bge=new gD}function NO(){NO=r,XX=new cc,Uge=new vY}function Uw(){Uw=r,p8e=new w,v8e=new _}function mD(l){l.g=new Pe,l.b=new Pe}function fY(l){l.a=new Yg,l.c=new Yg}function e9(){e9=r,j7e=new wf,z7e=new WY}function dY(){Iy.call(this,"IS_NULL",2)}function s4(){Bw.call(this,"Head",1)}function u4(){Bw.call(this,"Tail",3)}function t9(l,g){$de.call(this,l,g,null)}function n9(l,g){iA(l,0,l.length,g)}function ux(l,g){return tn(g.a,l.a),l.a}function dh(l,g){return l.a*=g,l.b*=g,l}function hY(l,g){Ss(),this.a=l,this.b=g}function Jce(l,g){return l.a[g.d.k][g.k]}function Rf(l,g){return l.a[g.d.k][g.k]}function efe(l,g){return uK(l.b,g.mc())}function gY(l,g){return VT(E$t(l.a,g))}function pY(l,g){return VT(C$t(l.a,g))}function Fs(l,g){return T(Ld(l.a,g),20)}function Zt(l,g){return l!=null&&tX(l,g)}function Yy(l){return l.a<l.c.c.length}function l4(l){return l.a<l.c.a.length}function tfe(l,g){return js(l.i.a,g.i.a)}function nfe(l,g){return l.i.b=(hs(g),g)}function y1(l,g){return l.i.b=(hs(g),g)}function yD(l,g){return l.a.eb(g)!=null}function bD(l,g,b){return l.g[g.e][b.e]}function lx(l){return Sa(),Gi(),""+l}function xa(){Bw.call(this,"Range",2)}function vY(){Pw.call(this,"DISTINCT",1)}function hg(){Iy.call(this,"NOT_NULL",3)}function hi(){hi=r,o8e=new o9((fh(),zge))}function mY(l){this.d=(ea(),new nr(l))}function Ky(l,g){return oIe(l,new Tv,g).a}function c4(l,g){return g==null?l.b:cPe(g)}function rfe(l){return l==null?null:l.name}function cx(l){return typeof l=="number"}function hh(l){return typeof l=="string"}function r9(l,g){return new dPe(l,l.Y(),g)}function f4(l,g){return new S6e(l.a,l.b,g)}function ife(l){return mr(O1),new UY(l,l)}function Zf(l){return wl(l,Dx),new yc(l)}function i9(l,g){this.a=g,vO.call(this,l)}function d4(l,g){this.a=g,vO.call(this,l)}function Ku(l,g){this.a=l,Q_.call(this,g)}function ml(l){this.c=l,this.a=POt(this.c)}function Qf(l){var g;g=l.a,l.a=l.b,l.b=g}function afe(l,g){l.e.j.a=g.a,l.e.j.b=g.b}function ofe(l,g,b){l.a=g^1502,l.b=b^UX}function Wc(l,g,b){return l.a+=g,l.b+=b,l}function sfe(l,g,b){return l.a-=g,l.b-=b,l}function wD(l){return l.a=-l.a,l.b=-l.b,l}function _D(l){return Jn(l.b!=0),l.a.a.c}function zO(l){return Jn(l.b!=0),l.c.b.c}function jO(l,g){l.a&&(yl(g),zPe(g))}function AC(l,g,b){var x;x=l.ub(g),x.J(b)}function ufe(l,g){return Qce(g.Yb(),l.Yb())}function h4(l){return T(_t(l.a,l.b),128)}function g4(l){return eK(l.c,l.c.length)}function _0(l){return l.l+l.m*ZC+l.h*i2}function Ns(l){return l==bA||l==T0||l==Xu}function dc(l){return typeof l=="number"}function gg(l,g){return!!g&&l.b[g.e]==g}function a9(l,g){var b;b=l[zx],g[zx]=b}function BO(l,g){rs.call(this,l),this.b=g}function p4(l){Wm.call(this,l),this.a=l}function xD(l){re.call(this,l),this.a=l}function b1(l){u1.call(this,l),this.a=l}function Fa(l){Jt.call(this,new zLe(l))}function RC(l){this.a=l,Sy.call(this,l)}function x0(l){this.c=l,this.a=1,this.b=1}function o9(l){this.a=l,this.b=dx(mr("="))}function yY(){this.a=new Ds,this.e=new Ds}function ds(){this.a=new XE,this.c=new ve}function s9(){this.i=new is,this.j=new is}function u9(l){m1(l.d.c+l.e.c==0),this.b=l}function TC(l){return l.g=null,PT(l,l.f),l}function l9(l){return Ha(),mr(l),new TY(l)}function bY(l){return M4(),parseInt(l)||-1}function wY(l,g){return TD(l.a,g)!=null}function HO(l,g){return!o$t(l,g)&&!xDe(l,g)}function Iv(l){return l.$H||(l.$H=++h4t)}function lfe(l){return l.d!=null?l.d:""+l.e}function v4(l){return l.d!=null?l.d:""+l.e}function SD(l){return l.b=T(WSt(l.a),21)}function fx(l){return typeof l=="boolean"}function _Y(l){l.b=new SY(l),l.c=new Rt}function xY(){this.a=new Pe,this.d=new Pe}function SY(l){ne.call(this,l,null,null)}function EY(l,g,b,x){Dfe.call(this,l,g,b,x)}function ED(l,g,b,x){vK.call(this,l,g,b,x)}function pg(l,g,b,x){vK.call(this,l,g,b,x)}function m4(l,g,b){FD.call(this,l,g,b,null)}function c9(l,g,b){FD.call(this,l,g,b,null)}function f9(l,g,b){l.i=g,g.f=l,g.i=b,b.f=g}function d9(l,g){So(this),this.e=l,this.f=g}function Jf(l,g){this.d=l,ki(this),this.b=g}function Ad(l){fY(this),S1(this),Pf(this,l)}function Qr(l){return IO(l==null||fx(l)),l}function ci(l){return IO(l==null||cx(l)),l}function dx(l){return IO(l==null||hh(l)),l}function ra(l,g){return l.a+=g.a,l.b+=g.b,l}function Fv(l,g){return l.a-=g.a,l.b-=g.b,l}function cfe(l,g){return l.i.a=(hs(g),g+10)}function ffe(l,g){return l.i.a=(hs(g),g+10)}function w1(l,g){return T(Ki(l.k,g),24).a}function dfe(l,g){return xkt(l,g),new KPe(l,g)}function h9(l,g){return T(l.b.sb(g),92).a}function CY(l){return T(l,7).b.c.length!=0}function g9(l){return T(l,7).e.c.length!=0}function p9(l){return l.d?mc(l.d.a,l,0):-1}function hfe(l){return l==null?null:l.message}function Vw(l){l.n==null&&hAt(l)}function gfe(l,g,b,x){return yLe(l,g,b,x),l}function pfe(l,g){return Gi(),l.indexOf(g)}function ni(l,g){if(!g)throw new c0;l.g=g}function v9(l){if(l.e.c!=l.b)throw new $d}function y4(l){if(l.f.c!=l.b)throw new $d}function vfe(l,g){return mr(l),mr(g),Rde(l,g)}function Xy(l,g){this.a=l,this.c=g,this.b=2}function b4(){So(this),this.e=-1,this.f=!0}function w4(){ke.call(this,new Rt),this.a=3}function m9(l){vK.call(this,l.d,l.b,l.a,l.c)}function y9(l){vK.call(this,l.d,l.b,l.a,l.c)}function $Y(l){Kde.call(this,l),this.c=new Pe}function kY(){Iy.call(this,"ALWAYS_TRUE",0)}function OY(){Iy.call(this,"ALWAYS_FALSE",1)}function AY(l){rNe(),this.a=new w4,wDe(this,l)}function mfe(l){return!l.e&&(l.e=new Pe),l.e}function b9(l){var g;return g=new _f,g.e=l,g}function CD(l){var g;g=l[zx]|0,l[zx]=g+1}function Nv(l,g){l.a.rb(l.b,g),++l.b,l.c=-1}function w9(l,g){qy(l.c!=-1),l.a.wb(l.c,g)}function yfe(l,g){return Sa(),l==g?0:l?1:-1}function $D(l,g,b){return l.g[g.e][b.e]*l.d}function bfe(l,g,b){return l.apply(g,b)}function _9(l,g,b){return mSt(l,T(g,17),b)}function wfe(l,g){return g==(Ut(),kn)?l.c:l.d}function RY(l,g){return g!=null&&l.Nb().kb(g)}function _fe(l,g){this.e=g,this.f=l,TC(this)}function TY(l){this.b=l,this.a=(Ha(),Ha(),jge)}function MY(l){Tf(),this.a=(ea(),new u1(l))}function Tf(){Tf=r,new _w((ea(),ea(),b2))}function PY(){PY=r,W7e=mn(new no,(Js(),zZ))}function UO(l){h$t.call(this,l,(bde(),hve))}function _1(l){ox(this),W(this.c,0,l.ob())}function LY(l,g,b){this.b=l,this.a=g,this.c=b}function x9(l,g,b){y0.call(this,l,g),this.b=b}function MC(l,g,b){this.b=l,this.a=g,this.c=b}function kD(l,g){var b;return b=l.e,l.e=g,b}function S9(l){yg(l.c),l.b.b=l.b,l.b.a=l.b}function _4(l){l.b?_4(l.b):ca(l.f.b,l.e,l.d)}function E9(l){return Jn(l.b!=0),E1(l,l.a.a)}function xfe(l){return Jn(l.b!=0),E1(l,l.c.b)}function VO(l,g){return Ha(),mr(g),new i9(l,g)}function Sfe(l,g){return hi(),new d4(l.mb(),g)}function DY(l,g){return Gi(),l.charCodeAt(g)}function PC(l,g,b){return Gi(),l.substr(g,b)}function ap(l){return Gi(),l==null?O1:nd(l)}function hx(l,g,b){return bD(l,g.g,b.g)*l.d}function x1(l,g,b){return{l,m:g,h:b}}function zv(l,g){return P4(l,new y0(g.a,g.b))}function IY(l,g,b,x,E){l.d=g,l.e=b,l.c=x,l.b=E}function Mf(l,g,b,x,E){l.b=g,l.c=b,l.d=x,l.a=E}function Vi(l,g){return zs(l,g,l.c.b,l.c),!0}function tn(l,g){return l.c[l.c.length]=g,!0}function Nn(l,g){Uw(),bt.call(this,l),this.a=g}function FY(){PY(),this.e=new Ds,this.d=new Ds}function Ww(){Ww=r,mze=new qh,lve=new qh}function NY(){NY=r,u9e=Ti(new no,(Js(),eM))}function zY(){zY=r,f9e=Ti(new no,(Js(),eM))}function C9(){C9=r,g9e=Ti(new no,(Js(),eM))}function OD(){OD=r,p9e=Ti(new no,(Js(),eM))}function jY(){jY=r,Error.stackTraceLimit=64}function $9(){Mf(this,!1,!1,!1,!1)}function LC(l){var g;return g=new Pe,AK(g,l),g}function Hl(l){var g;return g=new Ds,Lde(g,l),g}function x4(l){var g;return g=new no,Xs(g,l),g}function Efe(l){var g;return g=new Ev,g.a=l,g}function T(l,g){return IO(l==null||tX(l,g)),l}function S4(l,g){if(l<0||l>=g)throw new Ry}function gh(l,g){return mr(l),mr(g),new we(l,g)}function op(l,g){return mr(l),mr(g),new ze(l,g)}function Cfe(l,g){return Gi(),l.lastIndexOf(g)}function AD(l,g,b){return l<g?b<=l:l<=b||l==g}function BY(l,g,b){this.d=l,this.b=b,this.a=g}function $u(l,g,b){this.a=l,this.b=g,this.c=b}function HY(l,g,b){this.a=l,this.b=g,this.c=b}function UY(l,g){this.a=l,this.b=O1,this.c=g.c}function VY(l){this.c=l.c,this.a=l.e,this.b=l.b}function k9(l){this.d=l,ki(this),this.b=_St(l.d)}function WY(){O9.call(this),this.a=new qo(this)}function O9(){this.c=new S,this.d=new CPe(this)}function $fe(l){var g;return g=new Aa,AK(g,l),g}function GY(l){up(l.a),ILe(l.c,l.b),l.b=null}function qY(l){return l.c-T(_t(l.a,l.b),128).b}function kfe(l,g){return l.c<g.c?-1:l.c==g.c?0:1}function Ofe(l,g){return sg(l.b.d)?g.xc():g.wc()}function F(l,g,b){return Gi(),l.substr(g,b-g)}function W(l,g,b){iX(b,0,l,g,b.length,!1)}function ne(l,g,b){this.c=l,CC.call(this,g,b)}function we(l,g){this.b=l,this.a=g,Ft.call(this)}function ze(l,g){this.a=l,this.b=g,Ft.call(this)}function Ze(l,g){this.b=l,this.a=g,wl(g,"count")}function mt(l){this.b=l,this.a=vx(this.b.a).Kb()}function bt(l){Uw(),this.c=p8e,this.d=v8e,this.b=l}function Ht(l,g,b){uD.call(this,l,g),this.a=b}function $n(l,g,b){uD.call(this,l,g),this.a=b}function _t(l,g){return Ra(g,l.c.length),l.c[g]}function mn(l,g){return T(_t(l.a,5),18).ib(g),l}function fr(l,g){return T(_t(l.a,0),18).ib(g),l}function ii(l,g){return T(_t(l.a,1),18).ib(g),l}function Dr(l,g){return T(_t(l.a,2),18).ib(g),l}function xi(l,g){return T(_t(l.a,3),18).ib(g),l}function Ti(l,g){return T(_t(l.a,4),18).ib(g),l}function ho(l){return Xv(l,(vo(),Id)),l.e=!0,l}function go(l){M4();var g;return g=Dge.ec(l),kkt(g)}function Rd(l,g){var b;return b=rK(l,g),b.g=2,b}function vg(l,g){var b;for(b=0;b<g;++b)l[b]=0}function sp(l,g){l.b=g.b,l.c=g.c,l.d=g.d,l.a=g.a}function yl(l){l.a.b=l.b,l.b.a=l.a,l.a=l.b=null}function jv(l){return l.b.c.length+l.e.c.length}function Bv(l){return Array.isArray(l)&&l.ad===n}function A9(l,g){return Ha(),jDe(new ge(l),g)!=-1}function YY(l,g,b,x,E,O){return QIe(l,g,b,x,E,0,O)}function R9(l,g,b){Uw(),V9.call(this,l.b,g,b,l.d)}function T9(l,g){Uw(),V9.call(this,l.b,g,l.c,l.d)}function gx(l,g,b){Ex(g,l.c.length),jw(l.c,g,b)}function Z5e(l,g){return Ra(g,l.a.length),l.a[g]}function gSt(l){l.sort(function(g,b){return g-b})}function mr(l){if(l==null)throw new c0;return l}function px(l){if(l==null)throw new c0;this.a=l}function M9(l,g,b){if(l.a!=g)throw new $d;l.a=b}function Afe(l,g){if(!l)throw new Oi((Gi(),g))}function Rfe(l,g){if(!l)throw new K_((Gi(),g))}function hs(l){if(l==null)throw new c0;return l}function KY(l){Jt.call(this,new O4),Pf(this,l)}function Tfe(l){this.a=new mC(l.Y()),Pf(this,l)}function P9(l){this.c=l,this.a=new Kf(this.c.a)}function Zy(l){Ss(),this.a=(ea(),new mw(mr(l)))}function Sa(){Sa=r,ro=(Sa(),!1),Qu=!0}function Q5e(){Q5e=r,uve=Pt(GX,eu,24,256,0,1)}function J5e(){J5e=r,G7e=mn(fr(new no,(Js(),PZ)),zZ)}function XY(){XY=r,b7e=new $,_7e=new O9,w7e=new k}function ePe(l){return l!=null&&nK(l)&&l.ad!==n}function ZY(l){return!Array.isArray(l)&&l.ad===n}function DC(l,g){return hh(g)?SPe(l,g):vX(l.d,g)}function Mfe(l,g){return Zt(g,17)&&gg(l,T(g,17))}function tPe(l,g){return Zt(g,17)&&UCt(l,T(g,17))}function pSt(l,g){return lC(l.a,g)!==void 0}function Ii(l,g){var b;return b=uz(l),UD(b,g),b}function vSt(l,g){return!l&&(l=[]),l[l.length]=g,l}function mSt(l,g,b){return _l(l.a,g),tK(l,g.e,b)}function ySt(l,g,b){return Gi(),l.lastIndexOf(g,b)}function nPe(l,g,b){if(!l)throw new Oi(nRt(g,b))}function bSt(l,g,b){var x;for(x=0;x<g;++x)l[x]=b}function WO(l,g){var b;return b=l.a.Y(),yK(g,b),b-g}function QY(l){var g;return g=l.i,g||(l.i=l.T())}function Pfe(l){var g;return g=l.c,g||(l.c=l.gb())}function rPe(l){var g;return g=l.c,g||(l.c=l.Jb())}function vx(l){return l.e?l.e:l.e=l.Ob()}function iPe(l){return l.f?l.f:l.f=l.Pb()}function wSt(l,g){return x1(l.l&g.l,l.m&g.m,l.h&g.h)}function aPe(l,g){return js((hs(l),l),(hs(g),g))}function _St(l){return Zt(l,20)?T(l,20).tb():l.mb()}function L9(l){for(Ha(),mr(l);l.G();)l.H(),l.I()}function Lfe(l){var g;for(g=l;g.g;)g=g.g;return g}function xSt(l){return l.b.i.a+=l.a.f*(l.a.a-1),null}function E4(l){qy(l.b!=-1),l.c.vb(l.a=l.b),l.b=-1}function oPe(l){return Jn(l.b>0),l.a.sb(l.c=--l.b)}function D9(l){l.b?D9(l.b):l.d.V()&&DC(l.f.b,l.e)}function GO(l){if(Pd(l.d),l.d.d!=l.c)throw new $d}function JY(l,g){if(g[zx]!=l[zx])throw new $d}function IC(l,g){return Ha(),mr(l),mr(g),new KT(l,g)}function sPe(l,g){Ss(),ZT.call(this,l,iz(new zl(g)))}function Dfe(l,g,b,x){this.a=l,FD.call(this,l,g,b,x)}function mx(l){this.a=Math.cos(l),this.b=Math.sin(l)}function Hv(l,g,b){rs.call(this,l),this.b=g,this.a=b}function Ife(l){this.b=new Pe,this.a=new Pe,this.c=l}function yx(l){this.c=new is,this.a=new Pe,this.b=l}function uPe(){uPe=r,c8e=new In(!1),f8e=new In(!0)}function Gw(l,g){return++l.d,l.c[l.c.length]=g,!0}function RD(l,g){zs(l.d,g,l.b.b,l.b),++l.a,l.c=null}function ma(l,g){var b;return b=l.a.db(g,l),b==null}function eK(l,g){var b;return b=l.slice(0,g),ND(b,l)}function hc(l,g){var b;return b=new Array(g),ND(b,l)}function tK(l,g,b){var x;return x=l.b[g],l.b[g]=b,x}function SSt(l,g){var b;for(b=0;b<g;++b)l[b]=null}function ESt(l,g){var b;for(b=0;b<g;++b)l[b]=!1}function CSt(l,g){return Sa(),T(g.b,24).a<l?Qu:ro}function $St(l,g){return Sa(),T(g.a,24).a<l?Qu:ro}function kSt(l,g){return T(rPe(vx(l.a)).sb(g),21).yb()}function lPe(l){return hi(),VO(dEt(l.a).mb(),(FO(),KX))}function Jr(l){return Ha(),new Xf(dg(op(l.a,new h)))}function nK(l){return typeof l===Rz||typeof l===fNe}function OSt(l){t.setTimeout(function(){throw l},0)}function ASt(l,g){return l>0?new d9(l-1,g):new d9(l,g)}function cPe(l){return mr(l),Zt(l,345)?T(l,345):nd(l)}function Ffe(l,g){return BDe(l.a,g,(Sa(),ro))==null}function Nfe(l,g){var b;return b=l.a.Y(),pEt(g,b),b-1-g}function fPe(l,g,b){var x;return x=qw(l,g),iCt(l,g,b),x}function Ce(l,g,b){var x;return x=rK(l,g),JLe(b,x),x}function rK(l,g){var b;return b=new Bde,b.i=l,b.d=g,b}function dPe(l,g,b){this.a=l,yK(b,g),this.c=g,this.b=b}function ph(l,g,b){return Kce(b==null||nAt(l,b)),l[g]=b}function zfe(l){l.a=null,l.e=null,yg(l.b),l.d=0,++l.c}function RSt(l){Oi.call(this,(Gi(),l??O1))}function TSt(l){Oi.call(this,(Gi(),l??O1))}function FC(l){var g;return g=l.f,g||(l.f=new $O(l))}function jfe(l){var g;return g=l.k,g||(l.k=new nn(l))}function hPe(l){var g;return g=l.e,g||(l.e=new ex(l))}function qO(l){var g;return g=l.e,!g&&(l.e=g=l.gb()),g}function iK(l){var g,b;return g=l.c.f.d,b=l.d.f.d,g==b}function Bfe(l,g){var b;return b=new ID(l),Ede(b,g),b}function C4(l,g){return l.a+=String.fromCharCode(g),l}function gc(l){return!l.a&&l.d?l.d.b:l.a}function aK(l){return dc(l)?l|0:l.l|l.m<<22}function MSt(l){return wl(l,mge),QO(Zs(Zs(5,l),l/10|0))}function Ki(l,g){return hh(g)?B9(l,g):Fe(bl(l.d,g))}function NC(l){return Zt(l,19)?T(l,19).Y():wK(l.mb())}function Hfe(l){return l?new Tfe((fh(),l)):$fe(null.mb())}function zC(l,g){return he(l)===he(g)||l!=null&&cp(l,g)}function gPe(l,g){return Jk(),js(Lt(ci(l)),Lt(ci(g)))}function pPe(l){return hi(),VO(l.a.bb().mb(),(FO(),Bge))}function Ss(){Ss=r,Tf(),bI=new zo((ea(),ea(),b2))}function YO(){YO=r,Tf(),K4=new b0((ea(),ea(),LQ))}function vPe(l,g){if(l==null)throw new o1((Gi(),g))}function PSt(l,g){return dhe(),(l-g<=0?0-(l-g):l-g)<.2}function LSt(l,g){return l.i.b<g.i.b?-1:l.i.b==g.i.b?0:1}function S0(l,g,b,x){l.g[g.e][b.e]=x,l.g[b.e][g.e]=x}function up(l){qy(l.c!=-1),l.d.vb(l.c),l.b=l.c,l.c=-1}function oK(l){this.c=l,this.b=l.a.b.a,a9(l.a.c,this)}function sK(l){Ghe.call(this,new zl(l)),this.a=new is}function mPe(){Ae.call(this,new la(new Rt)),this.a=this}function yPe(){HLe(),this.b=(hi(),new Rt),this.a=new Rt}function DSt(){return FO(),it(nt(Hge,1),on,188,0,[KX,Bge])}function ISt(){return Od(),it(nt(Nge,1),on,159,0,[_h,Hz])}function FSt(){return NO(),it(nt(Vge,1),on,205,0,[XX,Uge])}function bPe(l){F9(l.a),l.b=Pt(Ln,cn,1,l.b.length,4,1)}function wPe(l){return!l.b&&(l.b=new u1(l.c.W())),l.b}function TD(l,g){var b;return b=new Vf,KFe(l,g,b),b.d}function I9(l,g){var b;return b=rK("",l),b.k=g,b.g=1,b}function F9(l){var g;for(g=l.mb();g.G();)g.H(),g.I()}function Ufe(l,g){return Zt(g,79)&&Ya(l.b,T(g,79).mc())}function NSt(){return q9(),it(nt(D7e,1),on,175,0,[f0e,jZ])}function zSt(){return j9(),it(nt(U7e,1),on,193,0,[BZ,y0e])}function jSt(){return LD(),it(nt(n9e,1),on,192,0,[VZ,UZ])}function ca(l,g,b){return hh(g)?H9(l,g,b):Lf(l.d,g,b)}function BSt(l,g,b){l.i=0,l.e=0,g!=b&&ADe(l,g,b)}function HSt(l,g,b){l.i=0,l.e=0,g!=b&&ODe(l,g,b)}function Vfe(l,g,b,x){this.d=l,this.b=g,this.a=b,this.c=x}function vh(l,g,b,x){this.d=l,this.e=g,this.c=b,this.b=x}function N9(l,g,b,x){this.a=l,this.c=g,this.b=b,this.d=x}function pc(l,g,b,x){fi.call(this,l,g),this.a=b,this.b=x}function USt(l,g){var b;return b=v0(l.a,g),b??[]}function uK(l,g){return Gi(),l==g?0:l<g?-1:1}function VSt(l,g){var b;return b=NCt(l.f,g),ra(wD(b),l.f.d)}function KO(l,g){return Mfe(l.a,g)?l.b[T(g,17).e]:null}function ed(l,g){return he(l)===he(g)||l!=null&&cp(l,g)}function Ka(l,g){if(g==null)throw new c0;return gkt(l,g)}function _Pe(l){return IO(l==null||nK(l)&&l.ad!==n),l}function Td(l){return!l.a&&(l.a=new zT(l.c.bb())),l.a}function xPe(l){return!l.d&&(l.d=new Wm(l.c.fb())),l.d}function S1(l){l.a.a=l.c,l.c.b=l.a,l.a.b=l.c.a=null,l.b=0}function WSt(l){return Jn(l.b<l.d.Y()),l.d.sb(l.c=l.b++)}function SPe(l,g){return g==null?vX(l.d,null):PDe(l.e,g)}function EPe(l,g){this.g=l,this.d=it(nt(Hs,1),bc,9,0,[g])}function CPe(l){this.c=l,this.b=new tD(T(mr(new M),56))}function Uv(){this.a=new ns,this.b=(wl(3,Dx),new yc(3))}function $Pe(l,g){this.a=l,Jf.call(this,l,T(l.d,20).ub(g))}function z9(l,g,b,x){this.a=l,this.c=g,this.b=b,this.d=x}function lK(l,g,b){this.a=oge,this.d=l,this.b=g,this.c=b}function kPe(){this.d=0,this.b=0,this.a=0,this.c=0}function OPe(){this.b=new Aa,this.d=new Ds,this.e=new Qm}function ea(){ea=r,b2=new t0,cve=new r0,LQ=new Sf}function Wfe(){Wfe=r,r8e=new kY,n8e=new OY,Fge=new dY,i8e=new hg}function j9(){j9=r,BZ=new JT("GREEDY",0),y0e=new JT(zX,1)}function Gfe(){Gfe=r,Cpe=new T9((Xt(),ope),(Sa(),Sa(),Qu))}function APe(){APe=r,i9e=mn(xi(Dr(new no,(Js(),IZ)),LZ),DZ)}function XO(l,g){var b;return b=_K(g),T(Ki(l.c,b),24).a}function GSt(l,g){var b;return b=yD(l.a,g),b&&(g.f=null),b}function RPe(l){var g;return g=l.b.ob(),bLe(g,g.length),g}function cK(l){return l<0?-1:l>0?1:0}function qSt(){return Gc(),it(nt(YTt,1),on,171,0,[DI,P0,L1])}function YSt(){return oz(),it(nt($8e,1),on,166,0,[iZ,epe,tpe])}function KSt(){return eA(),it(nt(z8e,1),on,149,0,[TI,hZ,dZ])}function XSt(){return bK(),it(nt(qTt,1),on,225,0,[l2,EA,c2])}function ZSt(){return az(),it(nt(QTt,1),on,221,0,[Tpe,Mpe,Rpe])}function QSt(){return Z9(),it(nt(q7e,1),on,173,0,[HZ,w0e,b0e])}function TPe(l,g){return HD(wSt(dc(l)?Zw(l):l,dc(g)?Zw(g):g))}function JSt(l){return l.b==0?null:(Jn(l.b!=0),E1(l,l.a.a))}function qfe(l){l.d=l.d-15,l.b=l.b-15,l.c=l.c+15,l.a=l.a+15}function Yfe(l){this.b=l,this.c=l,l.e=null,l.c=null,this.a=1}function MPe(l,g,b){this.d=l,this.b=new Pe,this.c=g,this.a=b}function fK(l,g){RT(this,new Gn(l.a,l.b)),cu(this,Hl(g))}function eEt(l,g){return g===l?!0:(Pd(l),l.d.t(g))}function tEt(l){return l==vp||l==L0}function nEt(l){Yy(new ge(KD(l.e)))&&(TTt(l),MAt(l))}function PPe(l,g){var b;b=T(yde(l.e,g),116),b&&(l.d=!0)}function Kfe(l,g){var b;return b=l.b.pb(g),bLe(b,l.b.Y()),b}function rEt(l){var g;return g=X6e(l,(Ut(),kn)),g+=X6e(l,yn),g}function iEt(l,g,b){nI(l,g,b,(Ut(),yn),l.f),nI(l,g,b,kn,l.n)}function fa(l,g){l.f&&Ks(l.f.f,l),l.f=g,l.f&&tn(l.f.f,l)}function fu(l,g){l.d&&Ks(l.d.a,l),l.d=g,l.d&&tn(l.d.a,l)}function Ea(l,g){l.d&&Ks(l.d.b,l),l.d=g,l.d&&tn(l.d.b,l)}function uo(l,g){l.c&&Ks(l.c.e,l),l.c=g,l.c&&tn(l.c.e,l)}function dK(l){var g;return g=Hl(l.b),Pf(g,l.c),Pf(g,l.i),g}function aEt(){pve==256&&(gve=Cj,Cj={},pve=0),++pve}function lp(){lp=r,d2=new bC(U4,0),tm=new bC(H4,1)}function bx(){bx=r,D1=new r4(H4,0),l$=new r4(U4,1)}function oEt(){return bx(),it(nt(a4t,1),on,223,0,[D1,l$])}function sEt(){return G9(),it(nt(n4t,1),on,242,0,[HI,BI])}function uEt(){return lp(),it(nt(r4t,1),on,248,0,[d2,tm])}function lEt(){return mg(),it(nt(i4t,1),on,247,0,[lb,Eh])}function cEt(){return zD(),it(nt(v9e,1),on,194,0,[GZ,qZ])}function fEt(){return W9(),it(nt(rze,1),on,174,0,[fQ,z0e])}function Xfe(l){return ea(),Zt(l,63)?new jT(l):new p4(l)}function dEt(l){var g;return g=l.g,T(g||(l.g=new An(l)),20)}function bl(l,g){return GDe(l,g,USt(l,g==null?0:l.b.Vc(g)))}function LPe(l){var g;return g=Y9(l),"n_"+(g??sC(l.k))}function DPe(l){return Ow(A4(l))+"@"+(C0(l)>>>0).toString(16)}function hEt(l,g){return yfe(zr((hs(l),l)),zr((hs(g),g)))}function B9(l,g){return g==null?Fe(bl(l.d,null)):EC(l.e,g)}function gEt(l,g,b){return new tde(l.c,MFe(l.b,TEt(l.d,g,b)),l.a)}function No(l){return Math.max(Math.min(l,Bs),-2147483648)|0}function Zfe(l){this.e=l,this.b=this.e.a.entries(),this.a=[]}function Qfe(l){this.c=l,this.b=new GC(new qf(this.c.a).a)}function IPe(l){this.b=(Ha(),Ha(),Ha(),a8e),this.a=T(mr(l),35)}function jC(l,g,b){Uw(),Nn.call(this,l,g),b!=null&&(this.c=b)}function FPe(l,g,b){if(l<0||g<l||g>b)throw new sc(zOt(l,g,b))}function pEt(l,g){if(l<0||l>=g)throw new sc(BOt(l,g));return l}function hK(l,g){if(l==null)throw new o1((Gi(),g));return l}function Ar(l){if(!Br(l))throw new Su;return l.c=l.b,l.b.H()}function vEt(l){function g(){}return g.prototype=l||{},new g}function NPe(l){var g;return g=new cC(PK(l.length)),UD(g,l),g}function zPe(l){var g;g=l.c.b.b,l.b=g,l.a=l.c.b,g.a=l.c.b.b=l}function Jfe(l){this.b=null,!l&&(l=(Lv(),Lv(),p$)),this.a=l}function ede(l){this.b=l,this.a=new pa(this.b,this.b.c.length)}function jPe(l){return Ss(),mr(l),IIe(l||LC(new ge(null)))}function mEt(l,g){var b=ZX[l.charCodeAt(0)];return b??l}function BPe(l,g){var b=l.a=l.a||[];return b[g]||(b[g]=l.Oc(g))}function HPe(l,g,b){var x;she(g,b,l.c.length),x=b-g,uO(l.c,g,x)}function tde(l,g,b){fO.call(this,g.a),this.c=l,this.b=g,this.a=b}function gK(l){return G(l.c),l.e=l.a=l.c,l.c=l.c.c,++l.d,l.a.f}function UPe(l){return G(l.e),l.c=l.a=l.e,l.e=l.e.e,--l.d,l.a.f}function vc(l){return da(it(nt(Ci,1),Ei,10,0,[l.f.i,l.i,l.a]))}function yEt(){return qv(),it(nt(w8e,1),on,107,0,[eZ,_I,jx,vA])}function bEt(){return Jy(),it(nt(x8e,1),on,122,0,[nZ,Yge,n$,tZ])}function wEt(){return oA(),it(nt(bZ,1),on,139,0,[LI,yZ,mZ,vZ])}function _Et(){return tb(),it(nt(J4,1),on,150,0,[pZ,PI,gZ,MI])}function xEt(){return Wfe(),it(nt(Bz,1),on,136,0,[r8e,n8e,Fge,i8e])}function SEt(){return BD(),it(nt(XTt,1),on,201,0,[f2,Gx,Wx,s$])}function EEt(){return Ut(),it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn])}function CEt(){return vo(),it(nt(wI,1),on,59,0,[hp,Kc,Id,Jv,P1])}function VPe(){VPe=r,V7e=du((j9(),it(nt(U7e,1),on,193,0,[BZ,y0e])))}function WPe(){WPe=r,I7e=du((q9(),it(nt(D7e,1),on,175,0,[f0e,jZ])))}function GPe(){GPe=r,r9e=du((LD(),it(nt(n9e,1),on,192,0,[VZ,UZ])))}function $Et(){return Gv(),it(nt(s4t,1),on,140,0,[vj,d$,$A])}function kEt(){return tA(),it(nt(o4t,1),on,218,0,[$0e,dj,UI])}function OEt(){return gs(),it(nt(u4t,1),on,219,0,[bQ,Sc,Zu])}function AEt(){return lz(),it(nt(fze,1),on,153,0,[ove,PQ,sve])}function REt(){return Qy(),it(nt(hze,1),on,172,0,[dM,YI,Ej])}function H9(l,g,b){return g==null?Lf(l.d,null,b):WK(l.e,g,b)}function TEt(l,g,b){return new xz(l,!1,null,(Od(),_h),!0,g,b)}function nde(l,g){return tPe(l.a,g)?tK(l,T(g,17).e,null):null}function U9(l){return mr(l),ihe((Ha(),new Xf(dg(op(l.a,new h)))))}function MEt(l){return ea(),l?new z_(l):(Uy(),yze)}function qPe(l,g){var b,x;return x=WO(l,g),b=l.a.ub(x),new gO(l,b)}function PEt(l,g){var b,x;for(x=l.Y(),b=0;b<x;b++)l.wb(b,g[b])}function YPe(l,g,b){var x;x=new xf,x.b=g,x.a=b,++g.b,tn(l.d,x)}function LEt(l,g,b){l.d&&Ks(l.d.b,l),l.d=g,l.d&&gx(l.d.b,b,l)}function pK(l,g,b){she(g,b,l.Y()),this.c=l,this.a=g,this.b=b-g}function vK(l,g,b,x){this.d=l,this.b=g,this.a=b,this.c=x}function KPe(l,g){Ae.call(this,fDe(mr(l),mr(g))),this.b=l,this.c=g}function pa(l,g){this.a=l,o0.call(this,l),Ex(g,l.Y()),this.b=g}function V9(l,g,b,x){Uw(),jC.call(this,l,g,b),x!=null&&(this.d=x)}function DEt(l,g,b){l.i=0,l.e=0,g!=b&&(ADe(l,g,b),ODe(l,g,b))}function pe(l){return Jn(l.a<l.c.c.length),l.b=l.a++,l.c.c[l.b]}function MD(l){return Jn(l.b.b!=l.d.a),l.c=l.b=l.b.b,--l.a,l.c.c}function XPe(l,g){var b;return b=1-g,l.a[b]=tz(l.a[b],b),tz(l,g)}function IEt(l){var g;return g=(Ul(),Ul(),T9e),l.d&&cX(l),Bc(),g}function FEt(l){var g;return dc(l)?(g=l,g==-0?0:g):qkt(l)}function $4(l){var g;return g=(mr(l),new _1((fh(),l))),_z(g),iz(g)}function NEt(l){Ha();for(var g;;)if(g=l.H(),!l.G())return g}function ZPe(l){return y4(l),G(l.c),l.e=l.a=l.c,l.c=l.c.b,++l.d,l.a}function QPe(l){return y4(l),G(l.e),l.c=l.a=l.e,l.e=l.e.d,--l.d,l.a}function zEt(l){var g;g=l.Y(),g!=0&&(l.d.Q(),l.f.c-=g,D9(l))}function jEt(l,g,b){var x;x=ukt();try{return bfe(l,g,b)}finally{uCt(x)}}function BEt(l){return function(){return jEt(l,this,arguments)}}function PD(l){return Zt(l,19)?T(l,19).V():!l.mb().G()}function zo(l){Ss(),this.a=(ea(),Zt(l,63)?new jT(l):new p4(l))}function W9(){W9=r,fQ=new RO(Dz,0),z0e=new RO("TOP_LEFT",1)}function mg(){mg=r,lb=new n4("DOWN",0),Eh=new n4("UP",1)}function LD(){LD=r,VZ=new ip("LAYER_SWEEP",0),UZ=new ip(zX,1)}function G9(){G9=r,HI=new OO("UPPER",0),BI=new OO("LOWER",1)}function HEt(l){if(l<0)throw new ep("Negative array size: "+l)}function rde(l,g){return Zt(g,21)?rX(l.a,T(g,21)):!1}function JPe(l,g){return Zt(g,21)?rX(l.a,T(g,21)):!1}function eLe(l,g){return Zt(g,21)?rX(l.a,T(g,21)):!1}function mK(l){var g;return g=new Uv,eb(g,l),dt(g,(Xt(),$o),null),g}function tLe(l,g){return g===l?"(this Map)":(Gi(),g==null?O1:nd(g))}function ide(l,g,b,x){return Zt(b,63)?new EY(l,g,b,x):new Dfe(l,g,b,x)}function UEt(){return Jw(),it(nt(ppe,1),on,100,0,[i$,em,dpe,hpe,gpe])}function VEt(){return lo(),it(nt(F8e,1),on,28,0,[u2,pp,RI,bA,T0,Xu])}function WEt(){return $0(),it(nt(m8e,1),on,103,0,[JX,qz,Yz,Kz,Wz,Gz])}function GEt(){return wz(),it(nt(E8e,1),on,133,0,[rZ,Zge,Jge,Kge,Qge,Xge])}function nLe(){nLe=r,j8e=du((eA(),it(nt(z8e,1),on,149,0,[TI,hZ,dZ])))}function rLe(){rLe=r,k8e=du((oz(),it(nt($8e,1),on,166,0,[iZ,epe,tpe])))}function iLe(){iLe=r,Y7e=du((Z9(),it(nt(q7e,1),on,173,0,[HZ,w0e,b0e])))}function qEt(){return zn(),it(nt(kpe,1),on,132,0,[co,va,Ta,Bo,Sh,wc])}function YEt(){return N4(),it(nt(F7e,1),on,125,0,[jI,h0e,v0e,p0e,g0e,d0e])}function KEt(l){return Ha(),C4(oIe((fh(),zge),C4(new Tv,91),l),93).a}function mh(l,g){ea();var b;b=l.ob(),iA(b,0,b.length,g),PEt(l,b)}function aLe(l,g,b,x,E){this.c=l,this.e=g,this.d=b,this.b=x,this.a=E}function Vv(l,g,b,x,E){fi.call(this,l,g),this.a=b,this.b=x,this.c=E}function BC(l,g,b,x,E){fi.call(this,l,g),this.a=b,this.b=x,this.c=E}function oLe(l,g,b){this.a=g,this.c=l,this.b=(mr(b),new _1((fh(),b)))}function sLe(){ox(this),this.b=new Gn(Gl,Gl),this.a=new Gn(pu,pu)}function q9(){q9=r,f0e=new _O("QUADRATIC",0),jZ=new _O("SCANLINE",1)}function XEt(){throw new oh("Add not supported on this collection")}function uLe(l){var g,b;return b=ap(l.Zb()),g=l.Yb(),g==1?b:b+" x "+g}function Fi(l){return Jn(l.b!=l.d.c),l.c=l.b,l.b=l.b.a,++l.a,l.c.c}function ZEt(l){if(l.Tc())return null;var g=l.k,b=zz[g];return b}function yK(l,g){if(l<0||l>g)throw new sc(_he(l,g,"index"));return l}function QEt(l,g){var b;return Pd(l),b=l.d.nb(g),b&&(--l.f.c,D9(l)),b}function DD(l,g,b){var x;x=(mr(l),new _1((fh(),l))),Fkt(new oLe(x,g,b))}function JEt(l,g){return uK((Gi(),l.toLowerCase()),g.toLowerCase())}function eCt(l,g){return uK((Gi(),l.toLowerCase()),g.toLowerCase())}function tCt(){return bde(),it(nt(IQ,1),on,138,0,[hve,wze,_ze,xze])}function nCt(l,g,b,x){Array.prototype.splice.apply(l,[g,b].concat(x))}function zs(l,g,b,x){var E;E=new Yg,E.c=g,E.b=b,E.a=x,x.b=b.a=E,++l.b}function ade(l,g){var b;return b=Xfe(LC(new SK(l,g))),L9(new SK(l,g)),b}function rCt(l,g,b){if(b){var x=b.gc();l.a[g]=x(b)}else delete l.a[g]}function iCt(l,g,b){if(b){var x=b.gc();b=x(b)}else b=void 0;l.a[g]=b}function ID(l){this.d=l.d,this.c=l.c,this.a=l.a,this.b=l.b}function lLe(){this.g=new $y,this.c=new $y,this.a=new Pe,this.k=new Pe}function cLe(){this.d=new yPe,this.a=new ds,this.c=new X,this.b=new Xh}function ode(){this.i=new Pe,this.g=new is,this.n=new $9,this.q=new $9}function fLe(l,g,b,x){this.e=l,this.b=new Pe,this.d=g,this.a=b,this.c=x}function k4(){k4=r,E7e=new Y,C7e=new Z,x7e=new Q,S7e=new ee,$7e=new oe}function bK(){bK=r,l2=new f1(H4,0),EA=new f1(Dz,1),c2=new f1(U4,2)}function dLe(){dLe=r,_8e=du((qv(),it(nt(w8e,1),on,107,0,[eZ,_I,jx,vA])))}function hLe(){hLe=r,S8e=du((Jy(),it(nt(x8e,1),on,122,0,[nZ,Yge,n$,tZ])))}function gLe(){gLe=r,U8e=du((oA(),it(nt(bZ,1),on,139,0,[LI,yZ,mZ,vZ])))}function pLe(){pLe=r,H8e=du((tb(),it(nt(J4,1),on,150,0,[pZ,PI,gZ,MI])))}function vLe(){vLe=r,m9e=du((zD(),it(nt(v9e,1),on,194,0,[GZ,qZ])))}function mLe(){mLe=r,ize=du((W9(),it(nt(rze,1),on,174,0,[fQ,z0e])))}function wx(l){return mr(l),Zt(l,19)?new _1((fh(),T(l,19))):LC(l.mb())}function aCt(l){return zr(Lt(Qr(_e(l,(ht(),m2)))))&&_e(l,lr)!=null}function oCt(l){return zr(Lt(Qr(_e(l,(ht(),m2)))))&&_e(l,lr)!=null}function yLe(l,g,b,x){g==null&&(g=O1),l.a+=""+(Gi(),g.substr(b,x-b))}function bLe(l,g){var b;for(b=0;b<g;++b)ph(l,b,new dl(T(l[b],21)))}function sCt(l,g){var b,x;b=T(Bkt(l.b,g),19),b&&(x=b.Y(),b.Q(),l.c-=x)}function _x(l,g,b){var x;return x=(Ra(g,l.c.length),l.c[g]),l.c[g]=b,x}function xx(l){return Jn(l.a<l.c.a.length),l.b=l.a,KLe(l),l.c.b[l.b]}function wK(l){Ha();var g;for(g=0;l.G();)l.H(),g=Zs(g,1);return QO(g)}function sde(l){this.d=l,this.b=this.d.a.entries(),this.a=this.b.next()}function wLe(l){this.g=l,this.f=new Pe,this.a=Ri(this.g.c.c,this.g.d.c)}function _Le(l){Y_(),this.e=null,this.f=null,this.a="",this.b=l,this.a=""}function O4(){Rt.call(this),_Y(this),this.b.b=this.b,this.b.a=this.b}function uCt(l){l&&LCt((Jm(),Wge)),--Uz,l&&Vz!=-1&&(EO(Vz),Vz=-1)}function Sx(l){return!l.c||!l.d?!1:!!l.c.f&&l.c.f==l.d.f}function lCt(){return Date.now?Date.now():new Date().getTime()}function Y9(l){return l.c.c.length!=0?T(_t(l.c,0),33).a:null}function xLe(l){return l.c.c.length!=0?T(_t(l.c,0),33).a:null}function cCt(l){return l.d=3,l.c=HCt(l),l.d!=2?(l.d=0,!0):!1}function K9(l,g,b){this.a=l,this.b=g,this.c=b,tn(l.j,this),tn(g.d,this)}function yh(l,g,b,x){var E;l.c?E=new Yn(No(x)):E=new Yn(x),Md(g,b,E)}function X9(l){var g,b;return mr(l),g=MSt(l.length),b=new yc(g),UD(b,l),b}function ude(l){var g,b,x;return g=l&wh,b=l>>22&wh,x=l<0?r2:0,x1(g,b,x)}function fCt(){return gz(),it(nt(d9e,1),on,141,0,[E0e,_0e,x0e,WZ,S0e])}function dCt(){return vz(),it(nt(Z9e,1),on,115,0,[hj,tQ,rQ,nQ,iQ])}function hCt(){return qc(),it(nt(uze,1),on,85,0,[g$,GI,y2,uM,gb])}function SLe(){SLe=r,b8e=du((vo(),it(nt(wI,1),on,59,0,[hp,Kc,Id,Jv,P1])))}function ELe(){ELe=r,B8e=du((Ut(),it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn])))}function CLe(){CLe=r,I8e=du((Jw(),it(nt(ppe,1),on,100,0,[i$,em,dpe,hpe,gpe])))}function $Le(){$Le=r,a9e=mn(xi(xi(xi(Dr(new no,(Js(),IZ)),Jpe),Fpe),LZ),DZ)}function kLe(l,g){var b,x;for(x=g.mb();x.G();)b=T(x.H(),55),wFe(l,b,0,0)}function Wv(l,g,b){var x,E;for(E=l.mb();E.G();)x=T(E.H(),55),sI(x,g,b)}function lde(l,g,b){var x,E;for(x=0,E=0;E<g.length;E++)x+=l.Hc(g[E],x,b)}function HC(l,g){var b;return b=(Ra(g,l.c.length),l.c[g]),uO(l.c,g,1),b}function gCt(l){var g;for(mr(l),FCt(!0),g=0;g<0&&Br(l);g++)Ar(l);return g}function yg(l){var g;l.d=new uY(l),l.e=new lY(l),g=l[zx]|0,l[zx]=g+1}function OLe(l){l.g=new Aa,l.o=new Aa,l.c=new Aa,l.j=new Pe,l.d=new Pe}function Ex(l,g){if(l<0||l>g)throw new sc("Index: "+l+", Size: "+g)}function Ra(l,g){if(l<0||l>=g)throw new sc("Index: "+l+", Size: "+g)}function ALe(l,g){var b,x;return b=g.yb(),x=Hde(l,b),!!x&&ed(x.e,g.zb())}function pCt(l,g){var b;return b=l.d,g>0?T(_t(b.a,g-1),9):null}function Pt(l,g,b,x,E,O){var P;return P=GIe(E,x),E!=9&&it(nt(l,O),g,b,E,P),P}function UC(l){var g;if(!Yw(l))throw new Su;return l.d=1,g=l.c,l.c=null,g}function FD(l,g,b,x){this.f=l,this.e=g,this.d=b,this.b=x,this.c=x?x.d:null}function vCt(l,g){if(l&&typeof l==Rz)try{l.__gwt$exception=g}catch{}}function mCt(l,g){l.a.$b(g.d,l.b)>0&&(tn(l.c,new x9(g.c,g.d,l.d)),l.b=g.d)}function yCt(l,g){var b;return b=js(l.j,g.j),b==0?js(l.k,g.k):b}function cde(l){var g,b;return b=T(_t(l.f,0),7),g=T(_e(b,(ht(),lr)),7),g}function _K(l){var g,b;return b=T(_t(l.f,0),7),g=T(_e(b,(ht(),lr)),7),g}function bCt(l,g){return js(Lt(ci(_e(l,(ht(),hb)))),Lt(ci(_e(g,hb))))}function RLe(){RLe=r,dze=du((lz(),it(nt(fze,1),on,153,0,[ove,PQ,sve])))}function TLe(){TLe=r,gze=du((Qy(),it(nt(hze,1),on,172,0,[dM,YI,Ej])))}function MLe(){MLe=r,y8e=du(($0(),it(nt(m8e,1),on,103,0,[JX,qz,Yz,Kz,Wz,Gz])))}function PLe(){PLe=r,C8e=du((wz(),it(nt(E8e,1),on,133,0,[rZ,Zge,Jge,Kge,Qge,Xge])))}function LLe(){LLe=r,N8e=du((lo(),it(nt(F8e,1),on,28,0,[u2,pp,RI,bA,T0,Xu])))}function DLe(){DLe=r,N7e=du((N4(),it(nt(F7e,1),on,125,0,[jI,h0e,v0e,p0e,g0e,d0e])))}function wCt(){return Rx(),it(nt(P7e,1),on,109,0,[sj,NI,zI,u0e,l0e,s0e,c0e,uj])}function _Ct(){return rb(),it(nt(za,1),on,41,0,[Xc,xh,Qc,od,ad,id,ql,Jc,Zc])}function xCt(){return I4(),it(nt(eQ,1),on,123,0,[JZ,QZ,ZZ,KZ,YZ,XZ])}function SCt(){return QD(),it(nt(J9e,1),on,124,0,[oQ,O0e,R0e,k0e,A0e,aQ])}function fde(){fde=r,qge=new Nn("de.cau.cs.kieler.labels.labelManager",null)}function ECt(){return Date.now?Date.now():new Date().getTime()}function CCt(l){var g;return g=T(eK(l.b,l.b.length),11),new $u(l.a,g,l.c)}function $Ct(l,g){var b;return b=(Gi(),g.length),Ya(PC(l,l.length-b,b),g)}function ILe(l,g){var b;return b=new Vf,b.c=!0,b.d=g.zb(),KFe(l,g.yb(),b)}function kCt(l,g){var b;return b=g.yb(),hi(),new np(b,RIe(l.b,b,T(g.zb(),19)))}function Ks(l,g){var b;return b=mc(l,g,0),b==-1?!1:(l.vb(b),!0)}function ND(l,g){return wde(g)!=9&&it(A4(g),g._c,g.__elementTypeId$,wde(g),l),l}function dde(l){return JY(l.c.a.c,l),Jn(l.b!=l.c.a.b),l.a=l.b,l.b=l.b.a,l.a}function hde(l){qy(!!l.c),JY(l.e,l),l.c.I(),l.c=null,l.b=Mde(l),a9(l.e,l)}function OCt(l,g,b){l.a=g,l.c=b,l.b.a.Q(),S1(l.d),l.e.a.c=Pt(Ln,cn,1,0,4,1)}function FLe(l,g,b){Ae.call(this,fDe(mr(l),mr(g))),this.b=l,this.c=g,this.a=b}function NLe(l,g,b,x){this.b=new xd(this),this.a=l,this.c=g,this.e=b,this.d=x}function zLe(l){VDe.call(this,l,0),_Y(this),this.b.b=this.b,this.b.a=this.b}function xK(l,g){CC.call(this,l,g),this.a=Pt(d4t,cn,183,2,0,1),this.b=!0}function ZO(l,g){return hh(g)?g==null?!!bl(l.d,null):pSt(l.e,g):!!bl(l.d,g)}function gde(l,g){return Yu(),(l-g>0?l-g:-(l-g))<=dI||l==g||isNaN(l)&&isNaN(g)}function jLe(l,g){return Yu(),(l-g>0?l-g:-(l-g))<=dI||l==g||isNaN(l)&&isNaN(g)}function pde(l){var g,b;g=!0;do g?b=lIe(l):b=pIe(l),g=!g;while(b);Pde(l,l.d)}function Md(l,g,b){var x;if(g==null)throw new c0;return x=Ka(l,g),rCt(l,g,b),x}function dt(l,g,b){return!l.n&&(l.n=new Rt),b==null?DC(l.n,g):ca(l.n,g,b),l}function mc(l,g,b){for(;b<l.c.length;++b)if(ed(g,l.c[b]))return b;return-1}function ACt(l,g){for(;g>=l.a.c.length;)tn(l.a,new Ds);return T(_t(l.a,g),20)}function RCt(l,g){var b;return b=T(qD(l.a,g),19),b?RIe(l.b,g,b):null}function TCt(l,g,b){var x;x=Ka(l,PX),x||(x=new g0,Md(l,PX,x)),Md(x.kc(),g,b)}function gi(l,g,b,x,E){var O;return O=rK(l,g),JLe(b,O),O.g=E?8:0,O.f=x,O.e=E,O}function SK(l,g){var b;this.f=l,this.b=g,b=T(Ki(l.b,g),126),this.c=b?b.b:null}function vde(l,g){var b,x,E;for(x=0,E=g.length;x<E;++x)b=g[x],zs(l,b,l.c.b,l.c)}function BLe(l,g,b,x,E,O){var P;P=mK(x),uo(P,E),Ea(P,O),wr(l.a,x,new MC(P,g,b.f))}function mde(l,g,b){var x;return x=0,l.c[b]>0&&(x+=gTt(g)),l.b[b]&&(x+=xTt(g)),x}function yde(l,g){var b;return b=T(DC(l.c,g),176),b?(yl(b),b.e):null}function QO(l){return zK(l,Bs)>0?Bs:zK(l,A1)<0?A1:aK(l)}function MCt(l){return fh(),wl(l,"size"),aK(UT(tIe(l,8),pge)?tIe(l,8):pge),new oC}function EK(l){_fe.call(this,(Gi(),l==null?O1:nd(l)),Zt(l,46)?T(l,46):null)}function yc(l){ox(this),Afe(l>=0,"Initial capacity must not be negative")}function HLe(){HLe=r,p7e=Ti(xi(xi(new no,(Js(),Kpe)),Vpe),Gpe),v7e=Dr(new no,Wpe)}function td(){td=r,Ape=new Se,Ope=new Ee,$Z=new xe,CZ=new Ie,kZ=new Ne,OZ=new We}function bde(){bde=r,hve=new Bw("All",0),wze=new s4,_ze=new xa,xze=new u4}function Z9(){Z9=r,HZ=new gC(UNe,0),w0e=new gC("LONGEST_PATH",1),b0e=new gC(zX,2)}function Q9(){Q9=r,h8e=x1(wh,wh,524287),g8e=x1(0,0,524288),ude(1),ude(2),Gge=ude(0)}function ULe(){ULe=r,L7e=du((Rx(),it(nt(P7e,1),on,109,0,[sj,NI,zI,u0e,l0e,s0e,c0e,uj])))}function VLe(){VLe=r,h9e=du((gz(),it(nt(d9e,1),on,141,0,[E0e,_0e,x0e,WZ,S0e])))}function WLe(){WLe=r,Q9e=du((vz(),it(nt(Z9e,1),on,115,0,[hj,tQ,rQ,nQ,iQ])))}function GLe(){GLe=r,lze=du((qc(),it(nt(uze,1),on,85,0,[g$,GI,y2,uM,gb])))}function qLe(l){phe(),ofe(this,aK(TPe(HD(rAt(dc(l)?Zw(l):l,24)),Lge)),aK(TPe(l,Lge)))}function A4(l){return hh(l)?qX:cx(l)?KI:fx(l)?l4t:ZY(l)||Bv(l)?l.$c:l.$c||GTt}function wde(l){return l.__elementTypeCategory$==null?9:l.__elementTypeCategory$}function PCt(l){var g,b;if(l.a){b=null;do g=l.a,l.a=null,b=v6e(g,b);while(l.a);l.a=b}}function LCt(l){var g,b;if(l.b){b=null;do g=l.b,l.b=null,b=v6e(g,b);while(l.b);l.b=b}}function JO(l){t4();var g,b;for(b=_ge,g=0;g<l.length;g++)l[g]>b&&(b=l[g]);return b}function J9(l,g){var b;return b=T(Ki(l.b,g),106),b||(b=g.rc(),ca(l.b,g,b)),b}function CK(l,g){var b;return b=T(Ki(l.c,g),176),b?(jO(l,b),b.e):null}function YLe(l,g,b,x){var E;E=T(CK(l.e,g),116),E.b+=b,E.a+=x,YD(l.e,g,E),l.d=!0}function KLe(l){var g;for(++l.a,g=l.c.a.length;l.a<g;++l.a)if(l.c.b[l.a])return}function DCt(l){var g,b,x;for(g=(l.g==null&&(l.g=go(l)),l.g),b=0,x=g.length;b<x;++b);}function ICt(l,g){var b,x;return Pd(l),x=l.d.V(),b=l.d.ib(g),b&&(++l.f.c,x&&_4(l)),b}function wl(l,g){if(l<0)throw new Oi(g+" cannot be negative but was: "+l);return l}function FCt(l){if(!l)throw new Oi((Gi(),"numberToAdvance must be nonnegative"))}function _de(l){if(!l.a.G()&&(l.a=l.b.mb(),!l.a.G()))throw new Su;return l.a.H()}function R4(l){Ha();var g;return mr(l),Zt(l,108)?(g=T(l,108),g):new Xn(l)}function qw(l,g){var b=l.a[g],x=(LK(),QX)[typeof b];return x?x(b):Vde(typeof b)}function $K(l,g){var b,x;for(x=new ge(l);x.a<x.c.c.length;)b=T(pe(x),7),Ez(b,g)}function kK(l,g){var b,x,E,O;for(x=l.d,E=0,O=x.length;E<O;++E)b=x[E],Rf(l.g,b).a=g}function NCt(l,g){var b;return b=Fv(fs(T(Ki(l.g,g),10)),hD(T(Ki(l.f,g),198).b)),b}function OK(l){var g;return!Yw(IC((g=new wi(l.b.a).a.bb().mb(),new _i(g)),l.a))}function xde(l){var g;qy(!!l.c),g=l.c.a,E1(l.d,l.c),l.b==l.c?l.b=g:--l.a,l.c=null}function XLe(l){return l.c&&l.d?l.c.f+"("+l.c+")->"+l.d.f+"("+l.d+")":"e_"+Iv(l)}function zCt(l,g){return BD(),l==f2&&g==Gx||l==Gx&&g==f2||l==s$&&g==Wx||l==Wx&&g==s$}function jCt(l,g){return BD(),l==f2&&g==Wx||l==f2&&g==s$||l==Gx&&g==s$||l==Gx&&g==Wx}function BCt(){return uI(),it(nt(tze,1),on,110,0,[P0e,cQ,L0e,F0e,D0e,N0e,I0e,lQ])}function ZLe(){ZLe=r,D8e=du((rb(),it(nt(za,1),on,41,0,[Xc,xh,Qc,od,ad,id,ql,Jc,Zc])))}function eA(){eA=r,TI=new rp("OUTSIDE",0),hZ=new rp("INSIDE",1),dZ=new rp("FIXED",2)}function Gv(){Gv=r,vj=new _C(V4,0),d$=new _C("TOP",1),$A=new _C("BOTTOM",2)}function zD(){zD=r,GZ=new AO("CLASSIC",0),qZ=new AO("IMPROVE_STRAIGHTNESS",1)}function Sde(){this.e=new is,this.a=new kPe,this.d=new is,this.b=new Pe,this.c=new Pe}function ez(l,g,b){this.b=g,this.a=l,this.c=b,tn(this.a.e,this),tn(this.b.b,this)}function Ede(l,g){l.d=Ri(l.d,g.d),l.c=rn(l.c,g.c),l.a=rn(l.a,g.a),l.b=Ri(l.b,g.b)}function E1(l,g){var b;return b=g.c,g.a.b=g.b,g.b.a=g.a,g.a=g.b=null,g.c=null,--l.b,b}function AK(l,g){Ha();var b;for(mr(l),mr(g),b=!1;g.G();)b=b|l.ib(g.H());return b}function T4(l){var g;return JY(l.e,l),Jn(l.b),l.c=l.a,g=T(l.a.H(),21),l.b=Mde(l),g}function HCt(l){for(var g;l.b.G();)if(g=l.b.H(),l.a.D(g))return g;return l.d=2,null}function UCt(l,g){return g&&l.b[g.e]==g?(ph(l.b,g.e,null),--l.c,!0):!1}function VCt(l){return TX<l&&l<i2?l<0?Math.ceil(l):Math.floor(l):HD(SRt(l))}function QLe(l){if(l){if(l.V())throw new Su;return l.sb(l.Y()-1)}return NEt(null.mb())}function WCt(l,g){var b;return b=l.d,g<b.a.c.length-1?T(_t(b.a,g+1),9):null}function JLe(l,g){if(l){g.k=l;var b=ZEt(g);if(!b){zz[l]=[g];return}b.$c=g}}function eDe(l,g){var b,x;x=!1;do l.i?b=v$t(l,g):b=p$t(l,g),x=x|b;while(b);return x}function tDe(l,g,b){var x,E;x=g;do E=Lt(l.n[x.k])+b,l.n[x.k]=E,x=l.a[x.k];while(x!=g)}function GCt(l){var g,b;for(b=new ge(l.a.b);b.a<b.c.c.length;)g=T(pe(b),25),g.vc()}function qCt(){Ov();for(var l=WX,g=0;g<arguments.length;g++)l.push(arguments[g])}function YCt(l,g){var b,x;for(b=0,x=l.Y();b<x;++b)if(ed(g,l.sb(b)))return b;return-1}function Cde(l,g){var b;return hK(l,"set1"),hK(g,"set2"),b=(yC(),new nD(g)),new LY(l,b,g)}function KCt(l){var g=/function(?:\s+([\w$]+))?\s*\(/,b=g.exec(l);return b&&b[1]||kX}function XCt(l,g,b){ai(b,PNe,3),OIe(l.c,g,VC(b,1)),z6e(l,g,VC(b,1)),lNe(g,VC(b,1)),jr(b)}function nDe(){nDe=r,X9e=du((I4(),it(nt(eQ,1),on,123,0,[JZ,QZ,ZZ,KZ,YZ,XZ])))}function rDe(){rDe=r,eze=du((QD(),it(nt(J9e,1),on,124,0,[oQ,O0e,R0e,k0e,A0e,aQ])))}function iDe(){iDe=r,pze=it(nt(ko,1),Co,26,12,[0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15])}function gs(){gs=r,bQ=new xC(QC,0),Sc=new xC("INPUT",1),Zu=new xC("OUTPUT",2)}function aDe(l){this.c=l,this.b=new GC(new qf(l.b).a),this.a=null,this.d=(Ha(),Ha(),jge)}function oDe(l){this.e=l,this.d=new cC(PK(QY(this.e).Y())),this.c=this.e.a,this.b=this.e.c}function $de(l,g,b){this.c=l,ode.call(this),this.b=g,this.j=new vh(g.d,g.e,g.c,g.b),this.a=b}function sDe(l,g){l.j>0&&l.c<l.j&&(l.c+=g,l.g&&l.g.d>0&&l.e!=0&&sDe(l.g,g/l.j*l.g.d))}function uDe(l){return l.b.d.f.g==(zn(),Ta)?T(_e(l.b.d.f,(ht(),lr)),7):l.b.d}function ZCt(l){return l.b.c.f.g==(zn(),Ta)?T(_e(l.b.c.f,(ht(),lr)),7):l.b.c}function Yw(l){switch($C(l.d!=3),l.d){case 2:return!1;case 0:return!0}return cCt(l)}function lDe(l){switch(l.e){case 2:return Ut(),kn;case 4:return Ut(),yn;default:return l}}function cDe(l){switch(l.e){case 1:return Ut(),ur;case 3:return Ut(),Hn;default:return l}}function QCt(l){var g;return Zt(l,90)?(g=T(l,90),new Et(g.a)):(Ha(),new or(l))}function fDe(l,g){ea();var b;return b=new mC(1),hh(l)?H9(b,l,g):Lf(b.d,l,g),new nr(b)}function dDe(l,g){return l.g?(l.g=dDe(l.g,g),--l.a,l.j=Qw(l.j,g.c),nb(l)):l.e}function hDe(l,g){return l.e?(l.e=hDe(l.e,g),--l.a,l.j=Qw(l.j,g.c),nb(l)):l.g}function Pf(l,g){var b,x,E;for(hs(g),b=!1,E=g.mb();E.G();)x=E.H(),b=b|l.ib(x);return b}function JCt(l){var g,b,x;for(g=0,x=l.mb();x.G();)b=x.H(),g+=b!=null?C0(b):0,g=~~g;return g}function e$t(l){var g,b,x,E;for(b=l.a,x=0,E=b.length;x<E;++x)g=b[x],g.B(null);return null}function RK(l){var g,b,x;for(x=new ns,b=l.b.mb();b.G();)g=T(b.H(),92),Vi(x,g.a);return x}function jD(l){var g,b,x;for(g=0,x=l.mb();x.G();)b=ci(x.H()),g+=(hs(b),b);return g/l.Y()}function gDe(l,g){var b;return b=T(Ki(l.c,g),200),b||(b=new Zm,b.c=g,ca(l.c,b.c,b)),b}function _l(l,g){var b;return hs(g),b=g.e,l.b[b]?!1:(ph(l.b,b,g),++l.c,!0)}function tz(l,g){var b,x;return b=1-g,x=l.a[b],l.a[b]=x.a[g],x.a[g]=l,l.b=!0,x.b=!1,x}function pDe(l,g){var b;return Zt(g,10)?(b=T(g,10),l.a==b.a&&l.b==b.b):!1}function kde(l,g,b){return l.g=new nz(g,b),f9(l,l.g,l.i),l.d=Is(2,l.d),++l.a,l.j=Zs(l.j,b),l}function Ode(l,g,b){return l.e=new nz(g,b),f9(l.f,l.e,l),l.d=Is(2,l.d),++l.a,l.j=Zs(l.j,b),l}function vDe(l,g){var b=l.a,x=0;for(var E in b)b.hasOwnProperty(E)&&(g[x++]=E);return g}function mDe(l,g){var b,x;for(hs(g),x=g.bb().mb();x.G();)b=T(x.H(),21),l.db(b.yb(),b.zb())}function t$t(l,g,b){var x;return x=l.a.e[T(g.a,9).k]-l.a.e[T(b.a,9).k],No(x>0?1:x<0?-1:0)}function yDe(l,g,b){this.g=l,this.d=g,this.e=b,this.a=new Pe,UOt(this),ea(),mh(this.a,null)}function nz(l,g){m1(g>0),this.b=l,this.c=g,this.j=g,this.a=1,this.d=1,this.e=null,this.g=null}function n$t(l){l.a=null,l.e=null,l.b.c=Pt(Ln,cn,1,0,4,1),l.f.c=Pt(Ln,cn,1,0,4,1),l.c=null}function r$t(){return Es(),it(nt(M0e,1),on,113,0,[sQ,I0,gj,uQ,c$,f$,pj,nM,rM,T0e])}function i$t(l){return KC(l,26)*14901161193847656e-24+KC(l,27)*11102230246251565e-32}function TK(l){return Zt(l,87)?$4(T(l,87)):Zt(l,88)?T(l,88).a:Zt(l,63)?new Pn(l):new Ny(l)}function bDe(l){var g;return g=T(_e(l,(ht(),vu)),32),l.g==(zn(),Ta)&&(g==(Ut(),kn)||g==yn)}function wDe(l,g){return Kkt(l,g)?(wr(l.a,T(_e(g,(ht(),h$)),18),g),!0):!1}function Xs(l,g){var b;if(g)for(b=0;b<6;b++)T(_t(l.a,b),18).jb(T(_t(g.a,b),19));return l}function VC(l,g){var b;return l.b?null:(b=ASt(l.e,l.f),Vi(l.a,b),b.g=l,l.d=g,b)}function Kw(l,g){var b,x;for(x=ta(l,0);x.b!=x.d.c;)b=T(Fi(x),10),b.a+=g.a,b.b+=g.b;return l}function Ade(l,g){var b,x;for(b=0;b<g.length;b++)for(x=0;x<g[b].length;x++)g[b][x]=l[b][x]}function a$t(l){var g,b;for(b=new ge(l.b.f);b.a<b.c.c.length;)g=T(pe(b),7),PPe(l.a,KK(g.g))}function BD(){BD=r,f2=new Fw("Q1",0),Gx=new Fw("Q4",1),Wx=new Fw("Q2",2),s$=new Fw("Q3",3)}function qv(){qv=r,eZ=new sh(QC,0),_I=new sh(Dz,1),jx=new sh("HEAD",2),vA=new sh("TAIL",3)}function Qy(){Qy=r,dM=new MO("AGGRESSIVE",0),YI=new MO("CAREFUL",1),Ej=new MO("OFF",2)}function _De(){_De=r,nze=du((uI(),it(nt(tze,1),on,110,0,[P0e,cQ,L0e,F0e,D0e,N0e,I0e,lQ])))}function Rde(l,g){return Sa(),hh(l)?uK(l,dx(g)):cx(l)?aPe(l,ci(g)):fx(l)?hEt(l,Qr(g)):l.F(g)}function Tde(l,g,b){var x;return x=g.$b(b,l.b),x<0?l.e?Tde(l.e,g,b):0:x>0?l.g?Tde(l.g,g,b):0:l.c}function o$t(l,g){var b,x;return l.b?(x=l.e,b=l.a.$b(g,x),b<0|b==0&l.d==(Od(),_h)):!1}function xDe(l,g){var b,x;return l.c?(x=l.g,b=l.a.$b(g,x),b>0|b==0&l.f==(Od(),_h)):!1}function HD(l){var g;return g=l.h,g==0?l.l+l.m*ZC:g==r2?l.l+l.m*ZC-i2:l}function da(l){var g,b,x,E;for(g=new is,x=0,E=l.length;x<E;++x)b=l[x],g.a+=b.a,g.b+=b.b;return g}function s$t(l){var g,b,x,E;for(b=l.a,x=0,E=b.length;x<E;++x)g=b[x],IDe(l,g,(Ut(),ur)),IDe(l,g,Hn)}function u$t(l){var g,b,x;for(g=1,x=l.mb();x.G();)b=x.H(),g=31*g+(b==null?0:C0(b)),g=~~g;return g}function l$t(l){var g,b;return g=T(l.e&&l.e(),11),b=T(eK(g,g.length),11),new $u(g,b,g.length)}function SDe(l){this.e=he(_e(gc(l[0]),(Xt(),r$)))===he((Jy(),n$)),this.a=l,this.c=new Rt,s$t(this)}function EDe(l){t1(),this.g=(hi(),new Rt),this.f=new Rt,this.b=new Rt,this.c=new p1,this.i=l}function CDe(l){this.o=l,this.g=new Pe,this.j=new Ds,this.n=new Ds,this.e=new Pe,this.b=new Pe}function rz(l,g){if(ma(l.a,g),g.f)throw new te("CNode belongs to another CGroup.");g.f=l}function c$t(l,g){typeof window===Rz&&typeof window.$gwt===Rz&&(window.$gwt[l]=g)}function $De(l,g,b,x){var E,O;for(E=tkt(l,g,b,x),E<0&&(E=-E-1),O=b-1;O>=E;O--)l[O+1]=l[O];l[E]=x}function kDe(l,g,b,x){var E,O;for(E=dkt(l,g,b,x),E<0&&(E=-E-1),O=b-1;O>=E;O--)l[O+1]=l[O];l[E]=x}function Xw(l,g){var b,x;for(hs(g),x=g.mb();x.G();)if(b=x.H(),!l.kb(b))return!1;return!0}function f$t(l,g){Ha();var b;for(mr(g);l.G();)if(b=l.H(),!bDe(T(b,9)))return!1;return!0}function d$t(l,g){var b,x,E;return b=g.k-l.k,b==0?(x=l.e.a*l.e.b,E=g.e.a*g.e.b,js(x,E)):b}function Zw(l){var g,b,x,E;return E=l,x=0,E<0&&(E+=i2,x=r2),b=No(E/ZC),g=No(E-b*ZC),x1(g,b,x)}function MK(l,g){return l.c.c=Pt(Ln,cn,1,0,4,1),c6e(l,l.e,g),c6e(l,l.a,g),ea(),mh(l.c,null),x$t(l)}function ODe(l,g,b){l.g=lX(l,g,(Ut(),yn),l.b),l.d=lX(l,b,yn,l.b),!(l.g.c==0||l.d.c==0)&&i6e(l)}function ADe(l,g,b){l.g=lX(l,g,(Ut(),kn),l.j),l.d=lX(l,b,kn,l.j),!(l.g.c==0||l.d.c==0)&&i6e(l)}function RDe(l,g,b){return new vh(Ri(l.a,g.a)-b/2,Ri(l.b,g.b)-b/2,_s(l.a-g.a)+b,_s(l.b-g.b)+b)}function Mde(l){return l.a.G()?!0:l.a!=l.d?!1:(l.a=new Zfe(l.e.d),l.a.G())}function Na(l,g){var b,x;return b=g.ob(),x=b.length,x==0?!1:(W(l.c,l.c.length,b),!0)}function Pde(l,g){var b,x;for(b=0;b<l.a.length;b++)for(x=0;x<l.a[b].length;x++)l.a[b][x]=g[b][x]}function UD(l,g){ea();var b,x,E,O;for(O=!1,x=0,E=g.length;x<E;++x)b=g[x],O=O|l.ib(b);return O}function PK(l){return hi(),l<3?(wl(l,"expectedSize"),l+1):l<pge?No(l/.75+1):Bs}function Lde(l,g){var b;return Zt(g,19)?(b=(fh(),T(g,19)),l.jb(b)):AK(l,T(mr(g),22).mb())}function TDe(l,g){var b,x;x=l.d.f,x.g!=(zn(),co)&&(b=Jr(Ca(x)),Br(b)&&ca(g,l,T(Ar(b),12)))}function Dde(l,g){var b,x;return HEt(g),b=hIe(l,0,g),x=Pt(ko,Co,26,g,12,1),iX(l,0,x,0,b,!0),x}function h$t(l,g){var b;this.c=l,b=new Pe,ohe(l,b,g,l.b,null,!1,null,!1),this.a=new pa(b,0)}function MDe(l){return l.a?xDe(l.c.b,l.a.b)?(l.a=null,!1):!0:!1}function WC(l){if(!l)throw new Vc((Gi(),"no calls to next() since the last call to remove()"))}function LK(){LK=r,QX={boolean:iD,number:XL,string:uc,object:$6e,function:$6e,undefined:j_}}function DK(){DK=r,xZ=NPe(it(nt(wI,1),on,59,0,[(vo(),Id),Kc])),SZ=NPe(it(nt(wI,1),on,59,0,[P1,Jv]))}function Ide(l){ea();var g,b,x;for(x=0,b=l.mb();b.G();)g=b.H(),x=x+(g!=null?C0(g):0),x=x|0;return x}function g$t(l){Mo();var g,b,x;for(x=0,b=qO(l).mb();b.G();)g=T(b.H(),83),x=Zs(x,g.Yb());return QO(x)}function C1(l){var g,b;for(b=new ge(l.a.b);b.a<b.c.c.length;)g=T(pe(b),25),g.i.Q();l.c.Dc(l),gFe(l)}function PDe(l,g){var b;return b=lC(l.a,g),b===void 0?++l.d:(l.a[HX](g),--l.c,CD(l.b)),b}function p$t(l,g){var b,x,E,O;for(b=!1,x=l.d[g].length,E=x-1;E>0;E--)O=E-1,b=b|_Ie(l,g,O,E);return b}function v$t(l,g){var b,x,E,O;for(b=!1,x=l.d[g].length,O=0;O<x-1;O++)E=O+1,b=b|_Ie(l,g,O,E);return b}function m$t(l,g){var b,x,E;return b=l.l+g.l,x=l.m+g.m+(b>>22),E=l.h+g.h+(x>>22),x1(b&wh,x&wh,E&r2)}function y$t(l,g){var b,x,E;return b=l.l-g.l,x=l.m-g.m+(b>>22),E=l.h-g.h+(x>>22),x1(b&wh,x&wh,E&r2)}function LDe(l,g){var b;for(b=0;b<(Gi(),g.length);b++)if(l==g.charCodeAt(b))return!0;return!1}function DDe(l,g){var b;for(b=0;b<(Gi(),g.length);b++)if(l==g.charCodeAt(b))return!0;return!1}function _e(l,g){var b,x;return l.n&&(x=Ki(l.n,g),x!=null)?x:(b=g3t(g),Zt(b,5)&&dt(l,g,b),b)}function IK(l){var g,b,x;for(g=new ns,x=ta(l,0);x.b!=x.d.c;)b=T(Fi(x),10),AC(g,0,new se(b));return g}function IDe(l,g,b){var x,E,O,P;for(P=new Xy(g,b),O=0,E=Tx(P);E.G();)x=T(E.H(),7),ca(l.c,x,yr(O++))}function b$t(l,g,b){if(mr(g),b.G())for(It(g,l.C(b.H()));b.G();)It(g,l.c),It(g,l.C(b.H()));return g}function w$t(l,g,b,x,E){x?Qkt(l,g):(Jkt(l,g,E),H3t(l,g,b)),g.c.length>1&&(mh(g,l.b),lRt(l.c,g))}function it(l,g,b,x,E){return E.$c=l,E._c=g,E.ad=n,E.__elementTypeId$=b,E.__elementTypeCategory$=x,E}function VD(l,g,b){switch(b.e){case 2:l.b=g;break;case 1:l.c=g;break;case 4:l.d=g;break;case 3:l.a=g}}function FDe(l,g,b){var x,E;return E=cde(b).g,x=KDe(l,g,E).a,x-iC(T(Ki(l.c,g),24).a-T(Ki(l.c,b),24).a)}function js(l,g){return l<g?-1:l>g?1:l==g?0:isNaN(l)?isNaN(g)?0:1:-1}function iz(l){switch(l.Y()){case 0:return bI;case 1:return new Zy(l.mb().H());default:return new zo(l)}}function M4(){M4=r;var l,g;g=!(Error.stackTraceLimit||"stack"in new Error),l=new Kh,Dge=g?new s:l}function Fde(){Fde=r,vpe=new Nn("intCoordinates",(Sa(),Sa(),ro)),mpe=new bt("jsonObject"),_Z=new Gn(0,0)}function az(){az=r,Tpe=new h1("MIRROR_X",0),Mpe=new h1("TRANSPOSE",1),Rpe=new h1("MIRROR_AND_TRANSPOSE",2)}function tA(){tA=r,$0e=new wC(V4,0),dj=new wC("INCOMING_ONLY",1),UI=new wC("OUTGOING_ONLY",2)}function Nde(){return Ul(),it(nt(tM,1),on,60,0,[nm,h2,cb,fb,D0,v2,p2,vp,L0,g2,db,Yx,u$])}function NDe(){NDe=r;var l,g,b,x;for(qx=new Xde(tM),g=Nde(),b=0,x=g.length;b<x;++b)l=g[b],_9(qx,l,null)}function zDe(l){ea();var g,b,x;for(x=1,b=l.mb();b.G();)g=b.H(),x=31*x+(g!=null?C0(g):0),x=x|0;return x}function jDe(l,g){Ha();var b,x;for(hK(g,"predicate"),x=0;l.G();x++)if(b=l.H(),g.D(b))return x;return-1}function zde(l,g){var b,x;return b=l.c.a,x=g.ac(b),l.b.b&&(x=Qw(x,Mhe(l,g,b))),l.b.c&&(x=Qw(x,The(l,g,b))),x}function BDe(l,g,b){var x,E;return x=new xK(g,b),E=new Vf,l.b=lFe(l,l.b,x,E),E.b||++l.c,l.b.b=!1,E.d}function FK(l,g,b){var x,E,O;for(x=new Ds,O=ta(b,0);O.b!=O.d.c;)E=T(Fi(O),10),Vi(x,new se(E));F$t(l,g,x)}function jde(l,g){var b;return g===l?!0:Zt(g,144)?(b=T(g,144),l.P().t(b.P())):!1}function HDe(l){var g;if(g=l.a.c.length,g>0)return S4(g-1,l.a.c.length),HC(l.a,g-1);throw new ih}function UDe(l){l.b.c.length-l.e.c.length<0?(ni(l,(Ut(),yn)),l.a.a=l.j.a):(ni(l,(Ut(),kn)),l.a.a=0)}function VDe(l,g){Afe(l>=0,"Negative initial capacity"),Afe(g>=0,"Non-positive load factor"),yg(this)}function GC(l){var g;this.e=l,this.d=new sde(this.e.e),this.a=this.d,this.b=Mde(this),g=l[zx],this[zx]=g}function Bde(){this.n=null,this.j=null,this.i=null,this.d=null,this.b=null,this.k=null,this.a=null}function NK(l){var g,b,x,E;for(E=1,b=0,x=l.length;b<x;++b)g=l[b],E=31*E+(g!=null?C0(g):0),E=E|0;return E}function du(l){var g,b,x,E;for(g={},x=0,E=l.length;x<E;++x)b=l[x],g[":"+(b.d!=null?b.d:""+b.e)]=b;return g}function WDe(l){$X();var g,b,x,E;for(b=Zde(),x=0,E=b.length;x<E;++x)if(g=b[x],RY(g.a,l))return g;return wZ}function GDe(l,g,b){var x,E,O;for(E=0,O=b.length;E<O;++E)if(x=b[E],l.b.Uc(g,x.yb()))return x;return null}function qDe(l,g,b){var x,E;for(E=b.mb();E.G();)if(x=T(E.H(),21),l.Uc(g,x.zb()))return!0;return!1}function Hde(l,g){var b,x,E;for(E=l.b;E;){if(b=l.a.$b(g,E.d),b==0)return E;x=b<0?0:1,E=E.a[x]}return null}function _$t(l,g){var b,x;return b=T(DC(l.a,g),19),b?(x=l.b.Z(),x.jb(b),l.b.c-=b.Y(),b.Q(),x):null}function YDe(l,g,b){var x;for(x=T(g.B(l),9);x.g==(zn(),va);)!x.n&&(x.n=new Rt),DC(x.n,b),x=T(g.B(x),9)}function zK(l,g){var b;return dc(l)&&dc(g)&&(b=l-g,!isNaN(b))?b:YIe(dc(l)?Zw(l):l,dc(g)?Zw(g):g)}function Fu(l){var g;return Zt(l,46)?l:(g=l&&l.__gwt$exception,g||(g=new _Le(l),PT(g,l),vCt(l,g)),g)}function x$t(l){var g,b,x;for(g=0,x=new ge(l.c);x.a<x.c.c.length;)b=T(pe(x),226),g+=nFe(l,b.a,b.b);return g}function S$t(l){var g;return g=new wLe(l),DD(l.a,$7e,new zl(it(nt(II,1),cn,160,0,[g]))),g.d&&tn(g.f,g.d),g.f}function KDe(l,g,b){switch(b.e){case 1:return T(Ki(l.d,g),24);case 3:return T(Ki(l.j,g),24)}return yr(0)}function XDe(l,g,b){return l.d[g.k][b.k]||(Ckt(l,g,b),l.d[g.k][b.k]=!0,l.d[b.k][g.k]=!0),l.a[g.k][b.k]}function Ude(l,g,b){var x;return x=g.$b(b,l.b),x<0?l.e?T(BT(Ude(l.e,g,b),l),206):l:x==0?l:l.g?Ude(l.g,g,b):null}function cp(l,g){return hh(l)?Ya(l,g):cx(l)||fx(l)?(hs(l),l===g):ZY(l)?l.t(g):(Bv(l),l===g)}function po(l,g){return Ya(l.b,g)||$Ct(l.b,g)&&(Gi(),g.length==Dv(l.b)||DY(l.b,Dv(l.b)-g.length-1)==46)}function jK(l,g){var b,x,E;for(b=0,E=jo(l,g).mb();E.G();)x=T(E.H(),7),b+=_e(x,(ht(),rm))!=null?1:0;return b}function E$t(l,g){var b,x,E;for(x=null,E=l.b;E;)b=l.a.$b(g,E.d),b>=0?E=E.a[1]:(x=E,E=E.a[0]);return x}function C$t(l,g){var b,x,E;for(x=null,E=l.b;E;)b=l.a.$b(g,E.d),b<=0?E=E.a[0]:(x=E,E=E.a[1]);return x}function $$t(l,g,b,x){var E,O;for(O=l.mb();O.G();)E=T(O.H(),33),E.i.a=g.a+(x.a-E.j.a)/2,E.i.b=g.b,g.b+=E.j.b+b}function ZDe(l,g){var b;l.c.length!=0&&(b=T(Eo(l,Pt(Hs,bc,9,l.c.length,0,1)),51),n9(b,new vt),r6e(b,g))}function QDe(l,g){var b;l.c.length!=0&&(b=T(Eo(l,Pt(Hs,bc,9,l.c.length,0,1)),51),n9(b,new Le),r6e(b,g))}function JDe(l){var g,b;return g=l.g,g==(zn(),Ta)?(b=T(_e(l,(ht(),vu)),32),b==(Ut(),Hn)||b==ur):!1}function hu(l,g){var b;return hs(g),b=l[":"+g],nPe(!!b,"Enum constant undefined: %s",it(nt(Ln,1),cn,1,4,[g])),b}function k$t(l,g,b){if(!l)throw new Oi(aI("lowerEndpoint (%s) > upperEndpoint (%s)",it(nt(Ln,1),cn,1,4,[g,b])))}function Vde(l){throw LK(),new WL("Unexpected typeof result '"+l+"'; please report this bug to the GWT team")}function BK(l){switch(l.e){case 1:return ur;case 2:return kn;case 3:return Hn;case 4:return yn;default:return vs}}function eIe(l){switch(l.e){case 2:return Kc;case 1:return Id;case 4:return Jv;case 3:return P1;default:return hp}}function O$t(l){return l>=48&&l<58?l-48:l>=97&&l<97?l-97+10:l>=65&&l<65?l-65+10:-1}function A$t(l,g){var b,x;for(x=pPe(hPe(l.P()));x.b.G();)if(b=T(QL(x,x.b.H()),19),b.kb(g))return!0;return!1}function R$t(l){var g;if(!MDe(l))throw new Su;return g=new Mw(l.c,l.a),l.b=g,l.a.i==l.c.a?l.a=null:l.a=l.a.i,g}function T$t(l,g){hi();var b;return l===g?!0:Zt(g,57)?(b=T(g,57),w6e(vx(l),b.bb())):!1}function M$t(l,g,b,x){return Mo(),wl(b,"oldCount"),wl(x,"newCount"),l.Cb(g)==b?(l.Gb(g,x),!0):!1}function P$t(l,g,b,x,E){return mr(b),mr(E),gEt(new tde(l.c,MFe(l.b,new xz(l.d,!0,g,b,!1,null,(Od(),_h))),l.a),x,E)}function Wde(l){switch(Tf(),l.Y()){case 0:return YO(),K4;case 1:return new Cu(l.mb().H());default:return new b0(l)}}function Zs(l,g){var b;return dc(l)&&dc(g)&&(b=l+g,TX<b&&b<i2)?b:HD(m$t(dc(l)?Zw(l):l,dc(g)?Zw(g):g))}function tIe(l,g){var b;return dc(l)&&dc(g)&&(b=l*g,TX<b&&b<i2)?b:HD(m3t(dc(l)?Zw(l):l,dc(g)?Zw(g):g))}function Qw(l,g){var b;return dc(l)&&dc(g)&&(b=l-g,TX<b&&b<i2)?b:HD(y$t(dc(l)?Zw(l):l,dc(g)?Zw(g):g))}function vo(){vo=r,hp=new Lw(QC,0),Kc=new Lw(U4,1),Id=new Lw(H4,2),Jv=new Lw("DOWN",3),P1=new Lw("UP",4)}function Jy(){Jy=r,nZ=new Dw(QC,0),Yge=new Dw("POLYLINE",1),n$=new Dw("ORTHOGONAL",2),tZ=new Dw("SPLINES",3)}function oz(){oz=r,iZ=new wO("INHERIT",0),epe=new wO("INCLUDE_CHILDREN",1),tpe=new wO("SEPARATE_CHILDREN",2)}function nIe(){nIe=r,K7e=Dr(fr(new no,(Js(),MZ)),ij),X7e=mn(Dr(ii(new no,RZ),AZ),FI),Z7e=mn(xi(new no,TZ),FI)}function rIe(){rIe=r,Q7e=Dr(fr(new no,(Js(),MZ)),ij),J7e=mn(Dr(ii(new no,RZ),AZ),FI),e9e=mn(xi(new no,TZ),FI)}function iIe(l){this.a=new Bl,this.d=new Bl,this.b=new Bl,this.c=new Bl,this.g=new Bl,this.i=new Bl,this.f=l}function aIe(l,g,b,x,E,O){this.e=new Pe,this.f=(gs(),bQ),tn(this.e,l),this.d=g,this.a=b,this.b=x,this.f=E,this.c=O}function L$t(l,g,b,x,E,O,P,I){var B;for(B=b;O<P;)B>=x||g<b&&I.$b(l[g],l[B])<=0?ph(E,O++,l[g++]):ph(E,O++,l[B++])}function D$t(l,g,b,x,E){var O,P;for(P=l.mb();P.G();)O=T(P.H(),33),O.i.a=g.a,O.i.b=E?g.b:g.b+x.b-O.j.b,g.a+=O.j.a+b}function I$t(l,g){OD();var b,x;for(x=Jr(JD(l));Br(x);)if(b=T(Ar(x),12),b.d.f==g||b.c.f==g)return b;return null}function HK(l,g,b){var x,E,O;for(x=0,O=ta(l,0);O.b!=O.d.c&&(E=Lt(ci(Fi(O))),!(E>b));)E>=g&&++x;return x}function F$t(l,g,b){var x,E,O,P;for(hs(b),P=!1,O=ta(l,g),E=ta(b,0);E.b!=E.d.c;)x=Fi(E),RD(O,x),P=!0;return P}function N$t(l,g){var b,x,E;return g.V()?!1:(E=l.Y(),b=l.d.jb(g),b&&(x=l.d.Y(),l.f.c+=x-E,E==0&&_4(l)),b)}function eb(l,g){var b;return g&&(b=g.n?g.n:(ea(),ea(),cve),b.V()||(l.n?mDe(l.n,b):l.n=new Sr(b))),l}function oIe(l,g,b){var x;try{b$t(l,g,b)}catch(E){throw E=Fu(E),Zt(E,181)?(x=E,new EK(x)):Nu(E)}return g}function z$t(l,g,b){var x;try{WOt(l,g,b)}catch(E){throw E=Fu(E),Zt(E,181)?(x=E,new EK(x)):Nu(E)}return g}function Nu(l){var g;return Zt(l,164)&&(g=T(l,164),he(g.b)!==he((Y_(),jz)))?he(g.b)===he(jz)?null:g.b:l}function nA(l,g){var b;for(b=T(_e(gc(l),(ht(),Zx)),9);b;){if(b==g)return!0;b=T(_e(gc(b),Zx),9)}return!1}function j$t(l){switch(T(_e(l,(ht(),I1)),140).e){case 1:dt(l,I1,(Gv(),$A));break;case 2:dt(l,I1,(Gv(),d$))}}function E0(l){switch(Tf(),l.c){case 0:return YO(),K4;case 1:return new Cu(b6e(new Kf(l)));default:return new Ge(l)}}function ps(l){Ss();var g,b;for(g=0,b=l.length;g<b;g++)if(l[g]==null)throw new o1("at index "+g);return new zl(l)}function B$t(l,g,b){return g.length==0||b.length==0?0:(l.e?l.b=new Qk(l.c):l.b=new TT(l.c),l.b.Gc(g,b))}function jr(l){if(l.i==null)throw new Vc("The task has not begun yet.");l.b||(l.c<l.j&&sDe(l,l.j-l.c),l.b=!0)}function UK(l,g){var b,x;for(x=new ge(g);x.a<x.c.c.length;)b=T(pe(x),27),Ks(l.b.b,b.b),GSt(T(b.a,78),T(b.b,25))}function H$t(l,g){var b,x;for(x=new ge(l.a);x.a<x.c.c.length;)if(b=T(pe(x),222),wDe(b,g))return;tn(l.a,new AY(g))}function U$t(l){var g,b,x;for(g=new Pe,x=new ge(l.b);x.a<x.c.c.length;)b=T(pe(x),251),Na(g,T(b.Ac(),19));return g}function V$t(l,g){var b,x,E;for(E=new Pe,x=jo(l,g).mb();x.G();)b=T(x.H(),7),E.c[E.c.length]=b;return mh(E,new sa),E}function Qs(l){var g,b,x;for(g=new Pe,x=new ge(l.f);x.a<x.c.c.length;)b=T(pe(x),7),tn(g,b.b);return mr(g),new sx(g)}function Ca(l){var g,b,x;for(g=new Pe,x=new ge(l.f);x.a<x.c.c.length;)b=T(pe(x),7),tn(g,b.e);return mr(g),new sx(g)}function yr(l){var g,b;return l>-129&&l<128?(g=l+128,b=(Q5e(),uve)[g],!b&&(b=uve[g]=new WE(l)),b):new WE(l)}function Gde(l){var g,b;for(g=aX(l.b,l.d),b=Bs;b>g;){if(Pde(l,l.d),g==0){b=0;break}lIe(l),pIe(l),b=g,g=aX(l.b,l.d)}l.c=b}function sIe(){phe();var l,g,b;b=f4t+++ECt(),l=No(Math.floor(b*jX))&Lge,g=No(b-l*Pge),this.a=l^1502,this.b=g^UX}function C0(l){return hh(l)?eX(l):cx(l)?No((hs(l),l)):fx(l)?zr((hs(l),l))?1231:1237:ZY(l)?l.v():(Bv(l),Iv(l))}function W$t(l,g,b){var x,E,O;E=new BIe,E.d=b,x=pOt(E,g),O=new cLe,zr(Lt(Qr(_e(x,Cpe))))?XCt(O,x,new b4):AFe(l,O,x),sNe(E,x)}function uIe(l,g,b,x){var E,O,P,I;for(I=new Xy(g,x),P=0,O=Tx(I);O.G();)E=T(O.H(),7),ca(l.i,E,yr(P++));ca(b,g,yr(P))}function G$t(l,g){var b,x,E,O,P;for(b=0,P=0,E=0,O=g.length;E<O;++E)x=g[E],b=J6e(l,b,x,(Ut(),yn),l.f),P=J6e(l,P,x,kn,l.n)}function q$t(l,g){var b,x,E,O;if(l.n)for(x=0,E=g.length;x<E;++x)b=g[x],O=Ki(l.n,b),O!=null&&(b.nc(),b.oc())}function Y$t(l,g){var b,x,E;for(x=new ge(g);x.a<x.c.c.length;)b=T(pe(x),75),E=KAt(l.a),YLe(l.a,E,b.k,b.j),F4(b,E,!0)}function K$t(l,g){var b,x,E;for(x=new ge(g);x.a<x.c.c.length;)b=T(pe(x),75),E=RAt(l.a),YLe(l.a,E,b.k,b.j),F4(b,E,!0)}function VK(l){var g,b;return b=T(_e(l,(Xt(),gp)),59),b==(vo(),hp)?(g=T(_e(l,(ht(),kA)),15).a,g>=1?Kc:Jv):b}function Br(l){if(mr(l.b),l.b.G())return!0;for(;l.a.G();)if(mr(l.b=l.Wb(l.a.H())),l.b.G())return!0;return!1}function qC(l){return(l.d!=l.c.d||l.i!=l.g.d)&&(l.a.c=Pt(Ln,cn,1,0,4,1),Na(l.a,l.c),Na(l.a,l.g),l.d=l.c.d,l.i=l.g.d),l.a}function Pd(l){var g;if(l.b){if(Pd(l.b),l.b.d!=l.c)throw new $d}else l.d.V()&&(g=T(Ki(l.f.b,l.e),19),g&&(l.d=g))}function qde(l,g,b,x,E){var O,P,I,B;for(B=X9(l),w$t(g,B,x,E,b),O=0,I=new ge(B);I.a<I.c.c.length;)P=T(pe(I),9),l[O++]=P}function X$t(l){var g,b,x;for(x=T(HT(l.a,(Xt(),mA)),15).a,b=new ge(d6e(l.a));b.a<b.c.c.length;)g=T(pe(b),626),yTt(l,g,x)}function no(){var l,g;for(this.a=new yc(6),g=0;g<6;g++)tn(this.a,(l=T(Eu(R7e),11),new $u(l,T(hc(l,l.length),11),0)))}function lIe(l){var g,b,x;for(x=!1,b=0;b<l.d.length;b++)l.j=(g=new mhe(l.e,l.d,b,0),new hhe(b,l.d,g)),x=x|eDe(l,b);return x}function Z$t(l,g,b){var x,E;for(E=l.a.c,x=E.c.length;x<b;x++)gx(E,0,new yx(l.a));fu(g,T(_t(E,E.c.length-b),16)),l.b[g.k]=b}function cIe(l,g){var b,x;for(b=ta(l,0);b.b!=b.d.c;){if(x=Lt(ci(Fi(b))),x==g)return;if(x>g){MD(b);break}}RD(b,g)}function WK(l,g,b){var x;return x=lC(l.a,g),My(l.a,g,b===void 0?null:b),x===void 0?(++l.c,CD(l.b)):++l.d,x}function GK(l,g,b){return(g-l<=0?0-(g-l):g-l)<a2||(b-l<=0?0-(b-l):b-l)<a2?!0:g-l>a2?l-b>a2:b-l>a2}function fIe(l){switch(l.e){case 0:return tQ;case 1:return hj;case 2:return nQ;case 3:return rQ;default:return iQ}}function Yde(l,g){switch(g.e){case 2:return l.b;case 1:return l.c;case 4:return l.d;case 3:return l.a;default:return!1}}function sz(l){switch(Ut(),l.e){case 4:return Hn;case 1:return yn;case 3:return ur;case 2:return kn;default:return vs}}function qK(l,g){if(g==l.c)return l.d;if(g==l.d)return l.c;throw new Oi("Node "+g+" not part of edge "+l)}function Q$t(l,g){var b;return gg(l.a,g)?T(gg(l.a,g)?l.b[g.e]:null,62):(b=new W_,_l(l.a,g),tK(l,g.e,b),b)}function dIe(l,g){var b,x,E,O;for(O=l.g.tb(),b=0;O.G();){if(x=Lt(ci(O.H())),E=x-g,E>Nx)return b;E>Nz&&++b}return b}function uz(l){var g,b,x,E;return b=(g=T(Eu((x=l.$c,E=x.f,E==ia?x:E)),11),new $u(g,T(hc(g,g.length),11),0)),_l(b,l),b}function YK(l,g){var b,x;for(x=new ge(g);x.a<x.c.c.length;)b=T(pe(x),27),tn(l.b.b,T(b.b,25)),rz(T(b.a,78),T(b.b,25))}function J$t(l,g,b,x){var E,O,P;for(E=g+1;E<b;++E)for(O=E;O>g&&x.$b(l[O-1],l[O])>0;--O)P=l[O],ph(l,O,l[O-1]),ph(l,O-1,P)}function ekt(l){var g,b;if(!uh(T(_e(l,(Xt(),hr)),28)))for(b=new ge(l.f);b.a<b.c.c.length;)g=T(pe(b),7),ni(g,(Ut(),vs))}function Yv(l,g){switch(g.e){case 1:return gh(l.f,(td(),Ope));case 2:return gh(l.f,(td(),Ape));default:return ea(),ea(),b2}}function Yo(l,g){return Ufe(g,(Xt(),fpe))?_e(l.e,(ht(),xc)):Ufe(g,Bx)?_e(l.e,(ht(),oM)):_e(l.e,g)}function tkt(l,g,b,x){var E,O,P;for(O=g,E=b-1;O<=E;){if(P=(O+E)/2|0,l[P]==x)return P;l[P]<x?O=P+1:E=P-1}return-O-1}function WD(l,g,b){var x,E;for(E=l.mb();E.G();)if(x=E.H(),he(g)===he(x)||g!=null&&cp(g,x))return b&&E.I(),!0;return!1}function hIe(l,g,b){var x;return nPe(g<=b,"%s > %s",it(nt(Ln,1),cn,1,4,[yr(g),yr(b)])),x=l.length,b=b<x?b:x,she(g,b,x),b-g}function gIe(l,g){var b,x,E;b=l,E=0;do{if(b==g)return E;if(x=T(_e(b,(ht(),Zx)),9),!x)throw new Cd;b=gc(x),++E}while(!0)}function pIe(l){var g,b,x;for(x=!1,b=l.d.length-1;b>=0;b--)l.j=(g=new mhe(l.e,l.d,b,1),new hhe(b,l.d,g)),x=x|eDe(l,b);return x}function Kde(l){this.f=(hi(),new Rt),this.n=new Rt,this.k=new Rt,this.g=new Aa,this.i=new MIe((ww(),s8e)),this.j=l,G$t(this,l)}function Xde(l){var g;this.a=(g=T(l.e&&l.e(),11),new $u(g,T(hc(g,g.length),11),0)),this.b=Pt(Ln,cn,1,this.a.a.length,4,1)}function vIe(l,g){var b;return g===l?!0:!Zt(g,18)||(b=T(g,18),b.Y()!=l.Y())?!1:l.lb(b)}function KK(l){switch(Ul(),l.e){case 1:return nm;case 2:return cb;case 3:return D0;case 4:return p2;default:return u$}}function mIe(l,g){switch(g.e){case 1:return l.e.d;case 2:return l.e.c;case 3:return l.e.a;case 4:return l.e.b;default:return 0}}function Zde(){return $X(),it(nt(f7e,1),on,67,0,[l7e,u7e,c7e,e7e,J8e,t7e,i7e,r7e,n7e,s7e,o7e,a7e,Z8e,X8e,Q8e,Y8e,q8e,K8e,W8e,V8e,G8e,wZ])}function Jw(){Jw=r,i$=new tx(QC,0),em=new tx("JUSTIFIED",1),dpe=new tx("BEGIN",2),hpe=new tx(Dz,3),gpe=new tx("END",4)}function tb(){tb=r,pZ=new Iw("PORTS",0),PI=new Iw("PORT_LABELS",1),gZ=new Iw("NODE_LABELS",2),MI=new Iw("MINIMUM_SIZE",3)}function Gc(){Gc=r,DI=new Pv("UNKNOWN",0),P0=new Pv("ABOVE",1),L1=new Pv("BELOW",2),d7e=new Nn("de.cau.cs.kieler.labelSide",DI)}function lz(){lz=r,ove=new TO("EQUALLY_DISTRIBUTED",0),PQ=new TO("NORTH_STACKED",1),sve=new TO("NORTH_SEQUENCE",2)}function nkt(){zz={},!Array.isArray&&(Array.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"})}function rkt(l,g){return Yu(),Yu(),((l-g>0?l-g:-(l-g))<=dI||l==g||isNaN(l)&&isNaN(g)?0:l<g?-1:l>g?1:vl(isNaN(l),isNaN(g)))>0}function Qde(l,g){return Yu(),Yu(),((l-g>0?l-g:-(l-g))<=dI||l==g||isNaN(l)&&isNaN(g)?0:l<g?-1:l>g?1:vl(isNaN(l),isNaN(g)))<0}function XK(l){var g,b;for(l.d||aRt(l),b=new ns,g=l.b.mb(),g.H();g.G();)Vi(b,T(g.H(),92).a);return Jn(b.b!=0),E1(b,b.c.b),b}function yIe(l){var g,b,x,E;for(E=new Bl,g=new _1(l.c),_z(g),x=new ge(g);x.a<x.c.c.length;)b=T(pe(x),7),E.a.db(b,E);return E}function ikt(l,g){var b,x,E;for(mr(g),x=(E=l.g,T(E||(l.g=new An(l)),20)).mb();x.G();)b=T(x.H(),21),wr(g,b.zb(),b.yb());return g}function bIe(l,g){var b,x,E;return Zt(g,21)?(b=T(g,21),x=b.yb(),E=qD(l.qb(),x),zC(E,b.zb())&&(E!=null||l.qb().R(x))):!1}function Jde(l,g){var b,x,E;for(E=l.g.tb();E.G();)if(b=Lt(ci(E.H())),x=b-g<=0?0-(b-g):b-g,x<Nx)return E.L()-1;return l.g.Y()}function wIe(l){var g,b;for(b=new ge(l.a);b.a<b.c.c.length;)if(g=T(pe(b),9),g.g==(zn(),co)||g.g==wc)return!1;return!0}function ai(l,g,b){if(l.b)throw new Vc("The task is already done.");return l.i!=null?!1:(l.i=g,l.j=b,!0)}function akt(l,g){return l.f<g.f?-1:l.f>g.f?1:l.g<g.g?-1:l.g>g.g?1:l.b-g.b}function okt(l,g){if(g.c==l)return g.d;if(g.d==l)return g.c;throw new Oi("Input edge is not connected to the input port.")}function ZK(l){var g;l.c!=0&&(g=T(_t(l.a,l.b),128),g.b==1?(++l.b,l.b<l.a.c.length&&Ba(T(_t(l.a,l.b),128))):--g.b,--l.c)}function P4(l,g){return l.b.a=Ri(l.b.a,g.c),l.b.b=Ri(l.b.b,g.d),l.a.a=rn(l.a.a,g.c),l.a.b=rn(l.a.b,g.d),l.c[l.c.length]=g,!0}function skt(l,g,b){var x,E;return x=Lt(l.n[g.f.k])+Lt(l.d[g.f.k])+g.i.b+g.a.b,E=Lt(l.n[b.f.k])+Lt(l.d[b.f.k])+b.i.b+b.a.b,E-x}function _Ie(l,g,b,x){var E,O,P;return E=!1,BRt(l.j,b,x)&&(r1(l.j,l.d[g][b],l.d[g][x]),O=l.d[g],P=O[x],O[x]=O[b],O[b]=P,E=!0),E}function cz(l,g,b){var x,E,O,P,I;I=gc(l),E=I.a,x=T(_e(I,(ht(),F0)),15).a,O=I.d,P=l.i,g&&(P.a=P.a-E.b-x-O.a),b&&(P.b=P.b-E.d-x-O.b)}function xIe(l,g){var b,x,E;for(x=Jr(JD(l));Br(x);)return b=T(Ar(x),12),E=T(g.B(b),9),new Dt(mr(E.i.b+E.j.b/2));return gl(),gl(),YX}function SIe(l){var g,b,x,E,O;for(x=SX(l),g=k0,O=0,E=0;g>.5&&O<50;)E=tFe(x),b=YC(x,E,!0),g=_s(b.b),++O;return YC(l,E,!1)}function EIe(l){var g,b,x,E,O;for(x=SX(l),g=k0,O=0,E=0;g>.5&&O<50;)E=eFe(x),b=YC(x,E,!0),g=_s(b.a),++O;return YC(l,E,!1)}function fz(l){var g,b,x;for(this.a=new Bl,this.e=new Aa,this.f=0,b=0,x=l.length;b<x;++b)g=l[b],!this.g&&(this.g=g),rz(this,g)}function CIe(l){mD(this),this.c=l.c,this.f=l.f,this.e=l.e,this.k=l.k,this.d=l.d,this.g=Hl(l.g),this.j=l.j,this.i=l.i,this.b=Hl(l.b)}function QK(l){switch(l.e){case 1:return vo(),P1;case 4:return vo(),Id;case 2:return vo(),Kc;case 3:return vo(),Jv}return vo(),hp}function $Ie(l,g){return jOt(l,g)?(ma(l.g,g),!0):(g.g!=(Ut(),vs)&&ma(l.i,g),g.e.c.length==0?ma(l.c,g):ma(l.b,g),!1)}function kIe(l,g){var b,x;return Ex(0,l.c.length),b=nX(g,Pt(Ln,cn,1,g.a.Y(),4,1)),x=b.length,x==0?!1:(W(l.c,0,b),!0)}function JK(l,g){for(var b=0;!g[b]||g[b]=="";)b++;for(var x=g[b++];b<g.length;b++)!g[b]||g[b]==""||(x+=l+g[b]);return x}function ukt(){var l;return Uz!=0&&(l=lCt(),l-l8e>2e3&&(l8e=l,Vz=t.setTimeout(sO,10))),Uz++==0?(PCt((Jm(),Wge)),!0):!1}function Kv(l){var g,b;for(b=new ge(l.a.b);b.a<b.c.c.length;)g=T(pe(b),25),g.j.d=-g.j.d-g.j.c,g.o&&(g.g.a=-g.g.a+g.o.j.c);kz(l)}function GD(l,g){var b;for(b=l;g.b<g.d.Y()&&b==l;)b=(Jn(g.b<g.d.Y()),T(g.d.sb(g.c=g.b++),7)).g;b==l||(Jn(g.b>0),g.a.sb(g.c=--g.b))}function lkt(l){var g;Ns(T(_e(l,(Xt(),hr)),28))&&(g=l.c,Y6e((Ra(0,g.c.length),T(g.c[0],16))),Y6e(T(_t(g,g.c.length-1),16)))}function OIe(l,g,b){ai(b,"Compound graph preprocessor",1),l.a=new p1,LFe(l,g,null),s3t(l,g),dt(g,(ht(),U0e),l.a),l.a=null,yg(l.b),jr(b)}function AIe(l){var g,b;return g=T(Ar(Jr(Qs(l))),12),b=T(Ar(Jr(Ca(l))),12),!zr(Lt(Qr(_e(g,(ht(),F1)))))||!zr(Lt(Qr(_e(b,F1))))}function ckt(l,g,b){g.g==(zn(),co)&&b.g==va&&(l.d=jK(g,(Ut(),ur)),l.b=jK(g,Hn)),b.g==co&&g.g==va&&(l.d=jK(b,(Ut(),Hn)),l.b=jK(b,ur))}function fkt(l,g,b){var x,E,O,P;return O=g.g,P=b.g,O!=P?O.e-P.e:(x=l.a[g.k],E=l.a[b.k],!x&&!E?0:x?E?js(x.a,E.a):1:-1)}function dkt(l,g,b,x){var E,O,P,I;for(O=g,E=b-1;O<=E;)if(P=O+E>>>1,I=l[P],I<x)O=P+1;else if(I>x)E=P-1;else return P;return-(O+1)}function hkt(l){return Zt(l,137)?(ea(),new b1(T(l,137))):Zt(l,18)?(ea(),new u1(T(l,18))):Zt(l,20)?Xfe(T(l,20)):(ea(),new Wm(l))}function RIe(l,g,b){return Zt(b,137)?new c9(l,g,T(b,137)):Zt(b,18)?new m4(l,g,T(b,18)):Zt(b,20)?ide(l,g,T(b,20),null):new FD(l,g,b,null)}function L4(l,g){var b;b=l.ub(g);try{return b.H()}catch(x){throw x=Fu(x),Zt(x,74)?new sc("Can't get element "+g):Nu(x)}}function qD(l,g){hi(),mr(l);try{return l.cb(g)}catch(b){if(b=Fu(b),Zt(b,119))return null;if(Zt(b,76))return null;throw Nu(b)}}function gkt(l,g){var b=l.a,x;g=String(g),b.hasOwnProperty(g)&&(x=b[g]);var E=(LK(),QX)[typeof x],O=E?E(x):Vde(typeof x);return O}function TIe(l,g,b,x){g<b?(l.b=.5*(g+b),l.p=BX*l.b+.9*g,l.a=BX*l.b+.9*b):(l.b=.5*(g+x),l.p=BX*l.b+.9*x,l.a=BX*l.b+.9*g)}function MIe(l){fO.call(this,l),this.b=new xz(l,!1,null,(Od(),_h),!1,null,_h),this.a=new nz(null,1),Ay(this.a,this.a),this.c=new c}function dz(l){switch(Jk(),this.c=new Pe,this.d=l,l.e){case 0:case 2:this.a=MEt($pe),this.b=Gl;break;case 3:case 1:this.a=$pe,this.b=pu}}function $0(){$0=r,JX=new Mv("AUTOMATIC",0),qz=new Mv(H4,1),Yz=new Mv(U4,2),Kz=new Mv("TOP",3),Wz=new Mv("BOTTOM",4),Gz=new Mv(Dz,5)}function eX(l){fg();var g,b,x;return b=":"+l,x=Cj[b],x!==void 0?x:(x=gve[b],g=x===void 0?GOt(l):x,aEt(),Cj[b]=g,g)}function pkt(l,g,b,x,E,O,P){Tf();var I,B;return B=P.length+6,I=new yc(B),UD(I,it(nt(Ln,1),cn,1,4,[l,g,b,x,E,O])),UD(I,P),qIe(new ge(I))}function vkt(l){var g;g=T(_e(l,(Xt(),Df)),18),!g.V()&&(g.kb((rb(),Xc))?(g.nb(Xc),g.ib(Qc)):g.kb(Qc)&&(g.nb(Qc),g.ib(Xc)))}function mkt(l){var g;g=T(_e(l,(Xt(),Df)),18),!g.V()&&(g.kb((rb(),od))?(g.nb(od),g.ib(id)):g.kb(id)&&(g.nb(id),g.ib(od)))}function ykt(l,g){var b,x,E,O;return E=l.g,b=Lt(ci(_e(l,(ht(),hb)))),O=g.g,x=Lt(ci(_e(g,hb))),O!=(zn(),Ta)?-1:E!=Ta?1:b==x?0:b<x?-1:1}function bkt(l,g,b){var x,E;return x=ig(w1(l,g.d),w1(l,g.c)),E=Is(w1(l,g.d),w1(l,g.c)),QO(zde(P$t(b,yr(x),(Od(),_h),yr(E),_h),(NO(),XX)))}function PIe(l,g){hi(),mr(l);try{return l.R(g)}catch(b){if(b=Fu(b),Zt(b,119))return!1;if(Zt(b,76))return!1;throw Nu(b)}}function LIe(l,g){fh(),mr(l);try{return rde(l,g)}catch(b){if(b=Fu(b),Zt(b,119))return!1;if(Zt(b,76))return!1;throw Nu(b)}}function wkt(l,g){return l.e<g.e?-1:l.e>g.e?1:l.f<g.f?-1:l.f>g.f?1:Iv(l)-Iv(g)}function DIe(l){switch(l.e){case 1:return Ut(),kn;case 4:return Ut(),Hn;case 3:return Ut(),yn;case 2:return Ut(),ur;default:return Ut(),vs}}function IIe(l){var g,b;switch(g=eK(l.c,l.c.length),g.length){case 0:return bI;case 1:return b=new Zy(g[0]),b;default:return new zo(ps(g))}}function _kt(l){var g,b,x,E;for(x=Pt(UTt,cn,64,l.c.length,0,1),E=0,b=new ge(l);b.a<b.c.c.length;)g=T(pe(b),64),x[E++]=g;return new vr(x)}function FIe(l){var g,b;if(!l.b)for(l.b=Zf(l.a.b.c.length),b=new ge(l.a.b);b.a<b.c.c.length;)g=T(pe(b),33),tn(l.b,new Xr(g));return l.b}function rA(l,g){var b,x,E;if(l.e)return 1;for(b=0,E=new ge(g.f);E.a<E.c.c.length;)x=T(pe(E),7),b+=x.b.c.length+x.e.c.length;return b}function NIe(l){var g,b,x,E;for(g=!1,E=!1,x=new ge(l.f);x.a<x.c.c.length;)b=T(pe(x),7),g=g|b.g==(Ut(),yn),E=E|b.g==kn;return g&&E}function zIe(l){var g,b;for(this.b=new Pe,this.c=l,this.a=!1,b=new ge(l.b);b.a<b.c.c.length;)g=T(pe(b),9),this.a=this.a|g.g==(zn(),co)}function bh(l){s9.call(this),this.g=(zn(),co),this.f=(wl(6,Dx),new yc(6)),this.c=(wl(2,Dx),new yc(2)),this.e=new ut,this.b=new ut,this.a=l}function ehe(l,g,b,x,E,O){mD(this),this.e=l,this.f=g,this.d=b,this.c=x,this.g=E,this.b=O,this.j=Lt(ci(E.mb().H())),this.i=Lt(ci(QLe(E)))}function xkt(l,g){if(l==null)throw new o1("null key in entry: null="+g);if(g==null)throw new o1("null value in entry: "+l+"=null")}function jIe(){jIe=r,l9e=Ti(new no,(Js(),eM)),lj=new Nn("linearSegments.inputPrio",yr(0)),cj=new Nn("linearSegments.outputPrio",yr(0))}function the(l){var g,b,x,E;for(b=(E=new Jh(l.b).a.bb().mb(),new xy(E));b.a.G();)g=(x=T(b.a.H(),21),T(x.zb(),19)),g.Q();yg(l.b),l.c=0}function ta(l,g){var b,x;if(Ex(g,l.b),g>=l.b>>1)for(x=l.c,b=l.b;b>g;--b)x=x.b;else for(x=l.a.a,b=0;b<g;++b)x=x.a;return new BY(l,g,x)}function Cx(l,g){var b,x,E;for(E=new is,x=l.mb();x.G();)b=T(x.H(),55),sI(b,E.a,0),E.a+=b.e.a+g,E.b=rn(E.b,b.e.b);return E.b>0&&(E.b+=g),E}function hz(l,g){var b,x,E;for(E=new is,x=l.mb();x.G();)b=T(x.H(),55),sI(b,0,E.b),E.b+=b.e.b+g,E.a=rn(E.a,b.e.a);return E.a>0&&(E.a+=g),E}function YD(l,g,b){var x,E,O;return E=T(Ki(l.c,g),176),E?(O=kD(E,b),jO(l,E),O):(x=new ne(l,g,b),ca(l.c,g,x),zPe(x),null)}function Skt(l,g){return SAt(l.b).kb(g.c)?tEt(l.b)?!(AD(g.d,l.c,l.a)&&AD(g.a,l.c,l.a)):AD(g.d,l.c,l.a)&&AD(g.a,l.c,l.a):!1}function Ekt(l,g){return l.c<g.c||l.c==g.c&&iK(l.a)&&iK(g.a)&&w1(l.d,pD(l.a,l.b))>w1(l.d,pD(g.a,g.b))?-1:l.c==g.c&&pD(l.a,l.b)==pD(l.a,l.b)?0:1}function Ckt(l,g,b){if(l.e)switch(l.b){case 1:HSt(l.c,g,b);break;case 0:BSt(l.c,g,b)}else DEt(l.c,g,b);l.a[g.k][b.k]=l.c.i,l.a[b.k][g.k]=l.c.e}function $kt(l,g,b){switch(b.e){case 1:l.a=g.a/2,l.b=0;break;case 2:l.a=g.a,l.b=g.b/2;break;case 3:l.a=g.a/2,l.b=g.b;break;case 4:l.a=0,l.b=g.b/2}}function nhe(l){switch(l.e){case 8:return Ut(),Hn;case 9:return Ut(),ur;case 10:return Ut(),yn;case 11:return Ut(),kn;default:return Ut(),vs}}function kkt(l){var g,b,x;for(g="Ot",x=ig(l.length,5),b=0;b<x;b++)if(Ya(l[b].d,g)){l.length>=b+1&&l.splice(0,b+1);break}return l}function tX(l,g){return hh(l)?!!e8e[g]:l._c?!!l._c[g]:cx(l)?!!JNe[g]:fx(l)?!!QNe[g]:!1}function BIe(){Fde(),this.i=(hi(),new Rt),this.a=new Rt,this.k=new Rt,this.j=new Rt,this.b=new Rt,this.n=new Rt,this.f=new Rt,this.e=new Rt}function Okt(l,g){var b,x;g.a.R(l)||(x=T(_e(l,(ht(),vu)),32),b=T(_t(l.f,0),7),x==(Ut(),Hn)?ni(b,ur):x==ur&&ni(b,Hn),g.a.db(l,g))}function HIe(l){var g,b;return b=Is(1,T(_e(l,(ht(),Ch)),24).a),l.c.f.g==(zn(),co)&&l.d.f.g==co?g=1:l.c.f.g==co||l.d.f.g==co?g=2:g=8,b*g}function Akt(l){var g,b,x,E,O;for(O=T(_e(l,(ht(),lr)),7),g=T(Eo(l.b,Pt(ef,Yc,12,l.b.c.length,0,1)),47),x=0,E=g.length;x<E;++x)b=g[x],Ea(b,O)}function Rkt(l){var g,b,x,E,O;for(b=T(_e(l,(ht(),lr)),7),g=T(Eo(l.e,Pt(ef,Yc,12,l.e.c.length,0,1)),47),E=0,O=g.length;E<O;++E)x=g[E],uo(x,b)}function UIe(l){var g,b;b=l.i,g=ra(new Gn(b.a,b.b),l.j),this.d=Ri(b.b,g.b),this.a=rn(b.b,g.b),this.b=Ri(b.a,g.a),this.c=rn(b.a,g.a)}function iA(l,g,b,x){var E,O,P,I;!x&&(x=(Lv(),Lv(),p$)),E=(O=hIe(l,g,b),P=(I=new Array(b-g),ND(I,l)),iX(l,g,P,0,O,!0),P),xhe(E,l,g,b,-g,x)}function Eo(l,g){var b,x,E;for(E=l.c.length,g.length<E&&(g=(x=new Array(E),ND(x,g))),b=0;b<E;++b)ph(g,b,l.c[b]);return g.length>E&&ph(g,E,null),g}function VIe(l,g){var b,x,E;for(E=l.a.length,g.length<E&&(g=(x=new Array(E),ND(x,g))),b=0;b<E;++b)ph(g,b,l.a[b]);return g.length>E&&ph(g,E,null),g}function nd(l){return hh(l)?l:cx(l)?cO((hs(l),l)):fx(l)?lx(zr((hs(l),l))):ZY(l)?l.w():Bv(l)?DPe(l):l.toString?l.toString():"[JavaScriptObject]"}function Tkt(l){var g,b,x,E,O;for(O=0,b=l.b,x=0,E=b.length;x<E;++x)g=b[x],g.g==(zn(),va)||ca(l.c,g,yr(O++)),uIe(l,g,l.d,(Ut(),Hn)),uIe(l,g,l.j,ur)}function gz(){gz=r,E0e=new rx("SIMPLE",0),_0e=new rx(zX,1),x0e=new rx("LINEAR_SEGMENTS",2),WZ=new rx("BRANDES_KOEPF",3),S0e=new rx(UNe,4)}function qc(){qc=r,g$=new ix(V4,0),GI=new ix("FIRST",1),y2=new ix("FIRST_SEPARATE",2),uM=new ix("LAST",3),gb=new ix("LAST_SEPARATE",4)}function pz(){pz=r,fj=new wd,k9e=Dr(new no,(Js(),ej)),O9e=mn(Dr(new no,oj),aj),C9e=mn(xi(Dr(ii(new no,tj),rj),CA),nj),$9e=mn(xi(new no,CA),Jz)}function Mkt(l){var g,b,x,E;for(b=(E=new wi(l.d.a).a.bb().mb(),new _i(E));b.a.G();)g=(x=T(b.a.H(),21),T(x.yb(),12)),tn(g.c.e,g),tn(g.d.b,g)}function rhe(l,g){var b,x;if(Q7(g>0),(g&-g)==g)return No(g*KC(l,31)*4656612873077393e-25);do b=KC(l,31),x=b%g;while(b-x+(g-1)<0);return No(x)}function Pkt(l,g){if(l.c.f==g)return l.d.f;if(l.d.f==g)return l.c.f;throw new Oi("Node "+g+" is neither source nor target of edge "+l)}function Lkt(l,g,b){return Q7(l>=0&&l<=1114111),l>=lI?(g[b++]=55296+(l-lI>>10&1023)&Zv,g[b]=56320+(l-lI&1023)&Zv,2):(g[b]=l&Zv,1)}function Dkt(l,g){Ha();for(var b,x;l.G();)if(!g.G()||(b=l.H(),x=g.H(),!(he(b)===he(x)||b!=null&&cp(b,x))))return!1;return!g.G()}function Ikt(l){var g,b,x;for(Ew(l.b.a),l.a=Pt(Qz,cn,25,l.c.b.a.b.c.length,0,1),g=0,x=new ge(l.c.b.a.b);x.a<x.c.c.length;)b=T(pe(x),25),b.k=g++}function Fkt(l){var g,b,x,E;for(mh(l.c,l.a),E=new ge(l.c);E.a<E.c.c.length;)for(x=pe(E),b=new ge(l.b);b.a<b.c.c.length;)g=T(pe(b),160),g.Ec(x)}function KD(l){var g,b;if(!l.a)for(l.a=Zf(T(l.e,9).c.c.length),b=new ge(T(l.e,9).c);b.a<b.c.c.length;)g=T(pe(b),33),tn(l.a,new Xr(g));return l.a}function XD(l){var g,b;if(!l.b)for(l.b=Zf(T(l.e,7).c.c.length),b=new ge(T(l.e,7).c);b.a<b.c.c.length;)g=T(pe(b),33),tn(l.b,new Xr(g));return l.b}function WIe(l){this.b=l,this.c=(hi(),new Rt),this.i=new Rt,this.d=new Rt,this.j=new Rt,this.k=he(_e(gc(l[0]),(Xt(),r$)))===he((Jy(),n$)),Tkt(this)}function D4(l){switch(l.e){case 1:return 4.71238898038469;default:case 2:return 0;case 3:return 1.5707963267948966;case 4:return 3.141592653589793}}function ihe(l){Ha();var g;if(g=gCt(l),!Br(l))throw new sc("position (0) must be less than the number of elements that remained ("+g+")");return Ar(l)}function ahe(l,g){var b,x;b=l.ub(g);try{return x=b.H(),b.I(),x}catch(E){throw E=Fu(E),Zt(E,74)?new sc("Can't remove element "+g):Nu(E)}}function nX(l,g){var b,x,E,O;for(O=l.Y(),g.length<O&&(g=(E=new Array(O),ND(E,g))),x=l.mb(),b=0;b<O;++b)ph(g,b,x.H());return g.length>O&&ph(g,O,null),g}function aA(l,g,b){if(b&&(g<0||g>b.a.c.length))throw new Oi("index must be >= 0 and <= layer node count");l.d&&Ks(l.d.a,l),l.d=b,b&&gx(b.a,g,l)}function ohe(l,g,b,x,E,O,P,I){var B,q;x&&(B=x.a[0],B&&ohe(l,g,b,B,E,O,P,I),Wkt(l,b,x.d,E,O,P,I)&&g.ib(x),q=x.a[1],q&&ohe(l,g,b,q,E,O,P,I))}function she(l,g,b){if(l<0)throw new sc(gNe+l+" < 0");if(g>b)throw new sc("toIndex: "+g+" > size "+b);if(l>g)throw new Oi(gNe+l+" > toIndex: "+g)}function rX(l,g){var b,x,E;return b=g.yb(),E=g.zb(),x=l.cb(b),!(!(he(E)===he(x)||E!=null&&cp(E,x))||x==null&&!l.R(b))}function Nkt(l,g,b){var x;x=g.c.f,x.g==(zn(),va)?(dt(l,(ht(),_c),T(_e(x,_c),7)),dt(l,Yl,T(_e(x,Yl),7))):(dt(l,(ht(),_c),g.c),dt(l,Yl,b.d))}function zkt(l,g,b){var x;x=g.c.f,x.g==(zn(),va)?(dt(l,(ht(),_c),T(_e(x,_c),7)),dt(l,Yl,T(_e(x,Yl),7))):(dt(l,(ht(),_c),g.c),dt(l,Yl,b.d))}function uhe(l,g,b){var x,E,O,P,I;for(DCt(l),E=(l.i==null&&(l.i=Pt(HTt,eu,46,0,0,1)),l.i),O=0,P=E.length;O<P;++O)x=E[O],uhe(x);I=l.e,I&&uhe(I)}function GIe(l,g){var b=new Array(g),x;switch(l){case 11:case 12:x=0;break;case 13:x=!1;break;default:return b}for(var E=0;E<g;++E)b[E]=x;return b}function jkt(l){var g,b,x,E;for(E=Pt(Hs,eu,51,l.a.length,0,2),b=0;b<E.length;b++)x=l.a[b].length,g=Pt(Hs,bc,9,x,0,1),XRt(l.a[b],0,g,0,x),E[b]=g;return E}function e2(l){var g,b;if(!l.b)for(l.b=Zf(T(l.e,9).f.c.length),b=new ge(T(l.e,9).f);b.a<b.c.c.length;)g=T(pe(b),7),tn(l.b,new hC(g,l.c));return l.b}function Bkt(l,g){hi(),mr(l);try{return hh(g)?SPe(l,g):vX(l.d,g)}catch(b){if(b=Fu(b),Zt(b,119))return null;if(Zt(b,76))return null;throw Nu(b)}}function Hkt(l){var g;return g=(iDe(),pze),g[l>>>28]|g[l>>24&15]<<4|g[l>>20&15]<<8|g[l>>16&15]<<12|g[l>>12&15]<<16|g[l>>8&15]<<20|g[l>>4&15]<<24|g[l&15]<<28}function Ukt(l,g,b){var x,E;return g.c==(gs(),Zu)&&b.c==Sc?-1:g.c==Sc&&b.c==Zu?1:(x=gIe(g.a,l.a),E=gIe(b.a,l.a),g.c==Zu?E-x:x-E)}function Vkt(l){var g,b,x,E,O;for(E=Bs,O=null,x=new ge(l.d);x.a<x.c.c.length;)b=T(pe(x),89),b.c.j^b.d.j&&(g=b.d.e-b.c.e-b.a,g<E&&(E=g,O=b));return O}function Wkt(l,g,b,x,E,O,P){var I,B;return!(g.Xc()&&(B=l.a.$b(b,x),B<0||!E&&B==0)||g.Yc()&&(I=l.a.$b(b,O),I>0||!P&&I==0))}function qIe(l){Tf();var g,b;if(!l.G())return YO(),K4;if(b=l.H(),!l.G())return new Cu(b);g=new Bl,ma(g,mr(b));do ma(g,mr(l.H()));while(l.G());return Wde(g)}function Gkt(l,g,b){l.e=g,l.a=b,l.d=MK(l,(Ut(),yn)),l.d+=MK(l,kn),nI(l,g,b,yn,l.f),nI(l,g,b,kn,l.n),l.b=MK(l,yn),l.b+=MK(l,kn),nI(l,b,g,yn,l.f),nI(l,b,g,kn,l.n)}function $x(l){var g,b,x;for(b=(Gi(),l.length),x=0;x<b&&l.charCodeAt(x)<=32;)++x;for(g=b;g>x&&l.charCodeAt(g-1)<=32;)--g;return x>0||g<b?l.substr(x,g-x):l}function iX(l,g,b,x,E,O){var P,I,B;for(he(l)===he(b)&&(l=l.slice(g,g+E),g=0),I=g,B=g+E;I<B;)P=I+1e4<B?I+1e4:B,E=P-I,nCt(b,x,O?E:0,l.slice(I,P)),I=P,x+=E}function qkt(l){var g,b,x;return YIe(l,(Q9(),Gge))<0?-_0((g=~l.l+1&wh,b=~l.m+(g==0?1:0)&wh,x=~l.h+(g==0&&b==0?1:0)&r2,x1(g,b,x))):l.l+l.m*ZC+l.h*i2}function Ykt(l,g){var b;switch(b=l.f,g.e){case 1:return-(l.i.b+l.j.b);case 2:return l.i.a-b.j.a;case 3:return l.i.b-b.j.b;case 4:return-(l.i.a+l.j.a)}return 0}function lo(){lo=r,u2=new jy(QC,0),pp=new jy("FREE",1),RI=new jy("FIXED_SIDE",2),bA=new jy("FIXED_ORDER",3),T0=new jy("FIXED_RATIO",4),Xu=new jy("FIXED_POS",5)}function Kkt(l,g){var b,x,E,O;for(b=T(_e(g,(ht(),h$)),18),O=T(Ld(Ir,b),18),E=O.mb();E.G();)if(x=T(E.H(),18),!T(Ld(l.a,x),20).V())return!1;return!0}function lhe(l,g,b){this.b=new w4,this.i=new Pe,this.d=new ri(this),this.g=l,this.a=g.c.length,this.c=g,this.e=T(_t(this.c,this.c.c.length-1),9),this.f=b,GRt(this)}function vz(){vz=r,hj=new Vy("ALWAYS_UP",0),tQ=new Vy("ALWAYS_DOWN",1),rQ=new Vy("DIRECTION_UP",2),nQ=new Vy("DIRECTION_DOWN",3),iQ=new Vy("SMART",4)}function YIe(l,g){var b,x,E,O,P,I,B,q;return B=l.h>>19,q=g.h>>19,B!=q?q-B:(E=l.h,I=g.h,E!=I?E-I:(x=l.m,P=g.m,x!=P?x-P:(b=l.l,O=g.l,b-O)))}function KIe(l){var g,b,x,E;for(b=(E=new wi(l.p.a).a.bb().mb(),new _i(E));b.a.G();)if(g=(x=T(b.a.H(),21),T(x.yb(),89)),g.e&&l.b[g.b]<0)return g;return null}function ZD(l,g){var b,x,E,O,P;x=Ri(l.d,g.d),O=Ri(l.e,g.e),E=rn(l.d+l.c,g.d+g.c),P=rn(l.e+l.b,g.e+g.b),E<x&&(b=x,x=E,E=b),P<O&&(b=O,O=P,P=b),IY(l,x,O,E-x,P-O)}function mz(l,g){var b;if(PX in l.a){if(b=Ka(l,PX),!b.kc())throw new Hv("The 'properties' property of a graph element must be an object.",b,l);l6e(b.kc(),g,!0)}}function Xkt(l,g){var b,x,E;if(x=l.b.j.e,l.a||(x+=l.b.j.b),E=g.b.j.e,g.a||(E+=g.b.j.b),b=js(x,E),b==0){if(!l.a&&g.a)return-1;if(!g.a&&l.a)return 1}return b}function che(l){var g,b;switch(T(_e(gc(l),(Si(),kQ)),174).e){case 0:return g=l.i,b=l.j,new Gn(g.a+b.a/2,g.b+b.b/2);case 1:return new se(l.i);default:return null}}function mo(){td(),s9.call(this),this.g=(Ut(),vs),this.a=new is,this.d=new ut,this.c=(wl(2,Dx),new yc(2)),this.b=(wl(4,Dx),new yc(4)),this.e=(wl(4,Dx),new yc(4))}function Zkt(l,g,b){l.d=0,l.b=0,kAt(l,g,b),g.g==(zn(),Bo)&&b.g==va?_K(g).g==(Ut(),Hn)?l.d=1:l.b=1:b.g==Bo&&g.g==va&&(_K(b).g==(Ut(),Hn)?l.b=1:l.d=1),ckt(l,g,b)}function Qkt(l,g){var b,x;for(x=new ge(g);x.a<x.c.c.length;)b=T(pe(x),9),l.a[b.d.k][b.k].a=i$t(l.e),l.a[b.d.k][b.k].d=Lt(l.a[b.d.k][b.k].a),l.a[b.d.k][b.k].b=1}function Jkt(l,g,b){var x,E,O;for(O=new ge(g);O.a<O.c.c.length;)x=T(pe(O),9),l.a[x.d.k][x.k].e=!1;for(E=new ge(g);E.a<E.c.c.length;)x=T(pe(E),9),rge(l,x,b)}function eOt(l,g){var b,x,E,O;for(b=0,x=0,O=new ge(g.b);O.a<O.c.c.length;)E=T(pe(O),33),b=rn(b,E.j.a),x+=E.j.b;dt(g,(ht(),sze),new Gn(b,x)),l.k<b&&(l.k=b),l.j+=x}function XIe(l,g){this.c=(hi(),new Rt),this.a=l,this.b=g,this.d=T(_e(l,(ht(),Qx)),134),he(_e(l,(Si(),_Q)))===he((zD(),qZ))?this.e=new n1:this.e=new qe}function aX(l,g){var b,x,E,O;for(E=0,x=0;x<g.length;x++)b=g[x],x<g.length-1&&(O=g[x+1],E+=B$t(l,b,O)),E+=(l.d=new WIe(b),NOt(l.d)),E+=(l.a=new Kde(b),rEt(l.a));return E}function fhe(l){switch(l.c.e){case 1:return td(),$Z;case 2:return td(),CZ;case 3:return td(),kZ;case 4:return td(),OZ}throw new oh("Can't filter on undefined side")}function yz(l,g){var b;try{return b=l.c.a,!HO(l.b,g)||!b?0:Tde(b,l.d,g)}catch(x){if(x=Fu(x),Zt(x,119))return 0;if(Zt(x,76))return 0;throw Nu(x)}}function tOt(l){var g,b,x,E,O;for(x=new GC(new qf(l.b).a);x.b;)b=T4(x),g=T(b.yb(),9),O=T(T(b.zb(),27).a,9),E=T(T(b.zb(),27).b,10),ra(lg(g.i),ra(fs(O.i),E))}function nOt(l,g,b){var x,E,O;if(x=js(l.a[g.k],l.a[b.k]),x==0){if(E=T(_e(g,(ht(),OA)),20),O=T(_e(b,OA),20),E.kb(b))return-1;if(O.kb(g))return 1}return x}function rOt(l,g){var b,x;switch(x=ra(fs(l.i),l.a),b=l.f.j,g.e){case 1:return-x.b;case 2:return-x.a+b.a;case 3:return-x.b+b.b;case 4:return-x.a;default:return 0}}function ZIe(l,g){var b,x,E,O;for(E=0;E<g.length;E++)for(E+1<g.length&&lde(l,g[E+1],(gs(),Sc)),O=g[E],b=0,x=0;x<O.length;x++)NTt(l,O[x]),b+=l.Hc(O[x],b,(gs(),Zu))}function dhe(){dhe=r,K9e=xi(xi(fr(new no,(Js(),r0e)),n0e),i0e),W9e=mn(xi(Dr(ii(new no,tj),rj),CA),nj),q9e=Dr(new no,ej),Y9e=mn(Dr(new no,oj),aj),G9e=mn(xi(new no,CA),Jz)}function iOt(l,g,b,x){Ov();var E=WX;function O(){for(var P=0;P<E.length;P++)E[P]()}if(l)try{kj(O)()}catch(P){l(g,P)}else kj(O)()}function bz(l){if(Ige==null&&(Ige=/^\s*[+-]?(NaN|Infinity|((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?)\s*$/),!Dy(Ige,l))throw new kw(OX+l+'"');return parseFloat(l)}function QD(){QD=r,oQ=new Wy(V4,0),O0e=new Wy("LEFTUP",1),R0e=new Wy("RIGHTUP",2),k0e=new Wy("LEFTDOWN",3),A0e=new Wy("RIGHTDOWN",4),aQ=new Wy("BALANCED",5)}function I4(){I4=r,JZ=new v1("V_TOP",0),QZ=new v1("V_CENTER",1),ZZ=new v1("V_BOTTOM",2),KZ=new v1("H_LEFT",3),YZ=new v1("H_CENTER",4),XZ=new v1("H_RIGHT",5)}function wz(){wz=r,rZ=new zy(V4,0),Zge=new zy("DIRECTED",1),Jge=new zy("UNDIRECTED",2),Kge=new zy("ASSOCIATION",3),Qge=new zy("GENERALIZATION",4),Xge=new zy("DEPENDENCY",5)}function zn(){zn=r,co=new By("NORMAL",0),va=new By("LONG_EDGE",1),Ta=new By("EXTERNAL_PORT",2),Bo=new By("NORTH_SOUTH_PORT",3),Sh=new By("LABEL",4),wc=new By("BIG_NODE",5)}function QIe(l,g,b,x,E,O,P){var I,B,q,K,J;if(K=E[O],q=O==P-1,I=q?x:0,J=GIe(I,K),x!=9&&it(nt(l,P-O),g[O],b[O],I,J),!q)for(++O,B=0;B<K;++B)J[B]=QIe(l,g,b,x,E,O,P);return J}function JD(l){var g,b,x;for(g=new Pe,x=new ge(l.f);x.a<x.c.c.length;)b=T(pe(x),7),tn(g,os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[b.b,b.e]))))));return mr(g),new sx(g)}function hhe(l,g,b){if(this.a=b,l>=g.length)throw new sc("Greedy SwitchDecider: Free layer layer not in graph.");this.b=g[l],this.c=new $Y(this.b),this.d=new SDe(this.b)}function JIe(l,g){var b;if(this.f=l,this.b=this.f.c,b=l.d,yK(g,b),g>=(b/2|0))for(this.e=l.e,this.d=b;g++<b;)QPe(this);else for(this.c=l.a;g-- >0;)ZPe(this);this.a=null}function kx(l){var g,b,x;for(b=new ge(l.a.b);b.a<b.c.c.length;)g=T(pe(b),25),x=g.j.d,g.j.d=g.j.e,g.j.e=x,x=g.j.c,g.j.c=g.j.b,g.j.b=x,x=g.g.a,g.g.a=g.g.b,g.g.b=x;kz(l)}function aOt(l,g){var b,x,E;for(x=new pa(l.b,0);x.b<x.d.Y();)b=(Jn(x.b<x.d.Y()),T(x.d.sb(x.c=x.b++),33)),E=T(_e(b,(Xt(),rd)),107),E==(qv(),jx)&&(up(x),tn(g.b,b))}function oOt(l,g,b){var x,E,O,P;for(P=mc(l.f,g,0),O=new ky,O.b=b,x=new pa(l.f,P);x.b<x.d.Y();)E=(Jn(x.b<x.d.Y()),T(x.d.sb(x.c=x.b++),9)),E.k=b,tn(O.f,E),up(x);return O}function sOt(l,g){Mo();var b,x,E;if(g.V())return!1;if(Zt(g,207))for(E=T(g,207),x=E.bb().mb();x.G();)b=T(x.H(),83),l.Bb(b.Zb(),b.Yb());else AK(l,g.mb());return!0}function oA(){oA=r,LI=new ug("DEFAULT_MINIMUM_SIZE",0),yZ=new ug("MINIMUM_SIZE_ACCOUNTS_FOR_INSETS",1),mZ=new ug("COMPUTE_INSETS",2),vZ=new ug("APPLY_ADDITIONAL_INSETS",3)}function e6e(l){var g,b,x,E;for(b=l.a.b+2,E=Pt(Ci,Ei,10,b,0,1),E[0]=fs(vc(l.c)),x=ta(l.a,0);x.b!=x.d.c;)g=T(Fi(x),10),E[x.a]=new Gn(g.a,g.b);return E[b-1]=fs(vc(l.d)),E}function ghe(l,g,b){var x,E,O;for(E=l.bb().mb();E.G();)if(x=T(E.H(),21),O=x.yb(),he(g)===he(O)||g!=null&&cp(g,O))return b&&(x=new CC(x.yb(),x.zb()),E.I()),x;return null}function uOt(l,g,b){var x,E;return x=l.a[g.d.k][g.k],E=l.a[b.d.k][b.k],x.a!=null&&E.a!=null?aPe(x.a,E.a):x.a!=null?-1:E.a!=null?1:0}function lOt(l,g,b){var x,E,O;return E=g.c,O=g.d,x=b,ma(l.a,g)?($Ie(l,E)&&(x=!0),$Ie(l,O)&&(x=!0),x&&(Ks(g.c.e,g),Ks(g.d.b,g),ma(l.d,g)),eOt(l,g),!0):!1}function YC(l,g,b){var x,E;return E=dIe(l,g),E==l.c?h9(l,Jde(l,g)):b?(p6e(l,g,l.c-E),h9(l,Jde(l,g))):(x=new CIe(l),p6e(x,g,l.c-E),h9(x,Jde(x,g)))}function cOt(){function l(){try{return new Map().entries().next().done}catch{return!1}}return typeof Map===fNe&&Map.prototype.entries&&l()?Map:cTt()}function Ld(l,g){var b;return b=T(Ki(l.b,g),19),!b&&(b=l.Z()),Zt(b,137)?new c9(l,g,T(b,137)):Zt(b,18)?new m4(l,g,T(b,18)):Zt(b,20)?ide(l,g,T(b,20),null):new FD(l,g,b,null)}function nb(l){switch($f(l.e)-$f(l.g)){case-2:return Gy(l.g)>0&&(l.g=s6e(l.g)),o6e(l);case 2:return Gy(l.e)<0&&(l.e=o6e(l.e)),s6e(l);default:return l.d=1+Is($f(l.e),$f(l.g)),l}}function t6e(l,g){this.f=(hi(),new Rt),this.b=new Rt,this.j=new Rt,this.a=l,this.c=g,this.c>0&&k6e(this,this.c-1,(Ut(),yn)),this.c<this.a.length-1&&k6e(this,this.c+1,(Ut(),kn))}function fOt(l){var g;l.c==null&&(g=he(l.b)===he(jz)?null:l.b,l.d=g==null?O1:ePe(g)?rfe(_Pe(g)):hh(g)?"String":Ow(A4(g)),l.a=l.a+": "+(ePe(g)?hfe(_Pe(g)):g+""),l.c="("+l.d+") "+l.a)}function dOt(l){var g,b,x,E;for(b=new ge(l.a.c);b.a<b.c.c.length;)for(g=T(pe(b),9),E=ta(Hl(g.c),0);E.b!=E.d.c;)x=T(Fi(E),33),_e(x,(ht(),lr))==null&&Ks(g.c,x);return null}function Ox(l,g){var b,x,E,O,P;for(P=new Pe,x=T(KO(qx,l),20).mb();x.G();)b=T(x.H(),75),Na(P,b.b);for(_z(P),$K(P,l.a),O=new ge(P);O.a<O.c.c.length;)E=T(pe(O),7),Nv(g,E)}function hOt(l){for(var g,b,x,E;l.o.a.c.length!=0;)b=T(HDe(l.o),27),x=T(b.a,61),g=T(b.b,89),E=qK(g,x),g.d==x?(Gw(E.g,g),x.e=E.e+g.a):(Gw(E.c,g),x.e=E.e-g.a),tn(l.e.a,x)}function n6e(l,g,b){var x,E,O;return wl(b,"count"),HO(l.b,g)?(O=l.c.a,O?(E=Pt(ko,Co,26,1,12,1),x=Uhe(O,l.d,g,b,E),M9(l.c,O,x),E[0]):(b>0&&Sz(l,g,b),0)):(m1(b==0),0)}function r6e(l,g){var b,x,E,O,P;for(E=T(_e(g,(ht(),xc)),15).a*T(_e(g,(Si(),N1)),15).a,P=l[0].i.a+l[0].j.a,O=1;O<l.length;O++)b=l[O].i,x=l[O].j,b.a<=P+E&&(b.a=P+E),P=b.a+x.a}function phe(){phe=r;var l,g,b,x;for(fve=Pt(tf,Vl,26,25,12,1),dve=Pt(tf,Vl,26,33,12,1),x=152587890625e-16,g=32;g>=0;g--)dve[g]=x,x*=.5;for(b=1,l=24;l>=0;l--)fve[l]=b,b*=.5}function i6e(l){for(;l.g.c!=0&&l.d.c!=0;)h4(l.g).c>h4(l.d).c?(l.i+=l.g.c,ZK(l.d)):h4(l.d).c>h4(l.g).c?(l.e+=l.d.c,ZK(l.g)):(l.i+=qY(l.g),l.e+=qY(l.d),ZK(l.g),ZK(l.d))}function gOt(l){if(!l)throw new Zk("An element is null. The origin of an edge could not be determined, this might be due to an inconsistency within the internal element mappings.")}function pOt(l,g){var b,x;return yg(l.i),yg(l.a),yg(l.k),yg(l.j),yg(l.b),yg(l.n),yg(l.f),yg(l.e),l.d&&(x=Ka(l.d,vpe.b),x&&x.ic()&&(l.c=x.ic().a)),b=eNe(l,g,null),EFe(l,g),b}function vOt(l){var g,b,x,E,O,P;for(x=_Fe(SX(l)),g=k0,O=0,E=0;g>.5&&O<50;)E=tFe(x),b=YC(x,E,!0),g=_s(b.b),++O;return P=ci(L4(Hl(l.g),Hl(l.g).b-1)),YC(l,(hs(P),P-E),!1)}function mOt(l){var g,b,x,E,O,P;for(x=_Fe(SX(l)),g=k0,O=0,E=0;g>.5&&O<50;)E=eFe(x),b=YC(x,E,!0),g=_s(b.a),++O;return P=ci(L4(Hl(l.g),Hl(l.g).b-1)),YC(l,(hs(P),P-E),!1)}function t2(l){var g,b,x,E;for(E=new Ly("["),g=!1,x=l.mb();x.G();)b=x.H(),g?E.a+=", ":g=!0,pn(E,b===l?"(this Collection)":(Gi(),b==null?O1:nd(b)));return E.a+="]",E.a}function a6e(l){var g,b,x,E;for(E=new Ly("{"),g=!1,x=l.bb().mb();x.G();)b=T(x.H(),21),g?E.a+=", ":g=!0,pn(E,tLe(l,b.yb())),E.a+="=",pn(E,tLe(l,b.zb()));return E.a+="}",E.a}function o6e(l){var g;return $C(!!l.g),g=l.g,l.g=g.e,g.e=l,g.j=l.j,g.a=l.a,l.a=1+Uc(l.e)+Uc(l.g),l.j=Zs(Zs(l.c,Ty(l.e)),Ty(l.g)),l.d=1+Is($f(l.e),$f(l.g)),g.d=1+Is($f(g.e),$f(g.g)),g}function s6e(l){var g;return $C(!!l.e),g=l.e,l.e=g.g,g.g=l,g.j=l.j,g.a=l.a,l.a=1+Uc(l.e)+Uc(l.g),l.j=Zs(Zs(l.c,Ty(l.e)),Ty(l.g)),l.d=1+Is($f(l.e),$f(l.g)),g.d=1+Is($f(g.e),$f(g.g)),g}function yOt(l){var g;Yy(new ge(e2(l.e)))&&(g=T(Yo(l.e,(Xt(),hr)),28),g==(lo(),Xu)?UAt(l.e):g==T0?z3t(l.e):zr(Lt(Qr(Yo(l.e,EI))))||l.e.e.j.a==0&&l.e.e.j.b==0?PAt(l.e):M3t(l))}function vhe(l,g,b){var x,E,O;if(E=new ge(l),E.a<E.c.c.length){for(O=T(pe(E),33),x=FFe(O,g,b);E.a<E.c.c.length;)O=T(pe(E),33),Ede(x,FFe(O,g,b));return new ID(x)}else return null}function bOt(l,g){var b,x,E,O,P,I;for(E=0,x=new ge(g.c);x.a<x.c.c.length;)for(b=T(pe(x),16),P=new ge(b.a);P.a<P.c.c.length;)O=T(pe(P),9),I=O.j.a+O.e.c+O.e.b+l.b,E=E>I?E:I;return E}function wOt(l,g){k4();var b;if(l.c==g.c){if(l.b==g.b||zCt(l.b,g.b)){if(b=Y7(l.b)?1:-1,l.a&&!g.a)return b;if(!l.a&&g.a)return-b}return sY(l.b.e,g.b.e)}else return js(l.c,g.c)}function u6e(l){var g,b;switch(b=fs(da(it(nt(Ci,1),Ei,10,0,[l.f.i,l.i,l.a]))),g=l.f.e,l.g.e){case 1:b.b-=g.d;break;case 2:b.a+=g.c;break;case 3:b.b+=g.a;break;case 4:b.a-=g.b}return b}function _Ot(l,g){var b;return b=0,g.g==(zn(),Bo)?(cde(g).f!=l.a&&(ch(l,cde(g).f),l.e=!0),l.e?++l.g:b+=l.f):g.g==va?l.e?b+=l.g:++l.f:g.g==co&&(ch(l,g),l.e=!1),b}function xOt(l,g,b,x,E){var O,P,I,B;for(B=null,I=new ge(x);I.a<I.c.c.length;)if(P=T(pe(I),187),P!=b&&mc(P.e,E,0)!=-1){B=P;break}O=mK(E),uo(O,b.b),Ea(O,B.b),wr(l.a,E,new MC(O,g,b.f))}function SOt(l){switch(T(_e(l,(Si(),Us)),85).e){case 1:dt(l,Us,(qc(),uM));break;case 2:dt(l,Us,(qc(),gb));break;case 3:dt(l,Us,(qc(),GI));break;case 4:dt(l,Us,(qc(),y2))}}function l6e(l,g,b){var x,E,O,P;if(l)for(E=(O=vDe(l,Pt(qX,eu,2,0,5,1)),new o0(new zl(new QT(l,O).b)));E.b<E.d.Y();)x=(Jn(E.b<E.d.Y()),dx(E.d.sb(E.c=E.b++))),P=Ka(l,x),BTt(g,x,P,b)}function EOt(l,g,b){var x,E,O,P,I,B;for(E=1;E<l;)E*=2;for(B=2*E-1,E-=1,I=Pt(ko,Co,26,B,12,1),x=0,P=0;P<g;P++)for(O=b[P]+E,++I[O];O>0;)O%2>0&&(x+=I[O+1]),O=(O-1)/2|0,++I[O];return x}function F4(l,g,b){var x,E,O,P;if(l.e=g,b)for(E=(P=new wi(l.a.a).a.bb().mb(),new _i(P));E.a.G();)x=(O=T(E.a.H(),21),T(O.yb(),12)),dt(x,(ht(),WI),l.e),ni(x.c,g.a),ni(x.d,g.b)}function N4(){N4=r,jI=new Hy(V4,0),h0e=new Hy(H4,1),v0e=new Hy(U4,2),p0e=new Hy("LEFT_RIGHT_CONSTRAINT_LOCKING",3),g0e=new Hy("LEFT_RIGHT_CONNECTION_LOCKING",4),d0e=new Hy("EDGE_LENGTH",5)}function mhe(l,g,b,x){var E;this.b=x,this.e=l.a,E=g[b],this.d=YY(XI,[eu,vI],[227,26],13,[E.length,E.length],2),this.a=YY(ko,[eu,Co],[52,26],12,[E.length,E.length],2),this.c=new t6e(g,b)}function COt(l,g,b,x){var E,O;for(O=g,E=O.d==null||l.a.$b(b.d,O.d)>0?1:0;O.a[E]!=b;)O=O.a[E],E=l.a.$b(b.d,O.d)>0?1:0;O.a[E]=x,x.b=b.b,x.a[0]=b.a[0],x.a[1]=b.a[1],b.a[0]=null,b.a[1]=null}function $Ot(l,g,b){var x,E,O,P;if(ai(b,PNe,1),ZFe(l.d,g),P=w3t(l.a,g),P.Y()==1)Khe(T(P.sb(0),55),b);else for(O=1/P.Y(),E=P.mb();E.G();)x=T(E.H(),55),Khe(x,VC(b,O));qL(l.a,P,g),RFe(g),jr(b)}function c6e(l,g,b){var x,E,O,P,I;for(I=new Xy(g,b),P=Tx(I);P.G();)for(O=T(P.H(),7),E=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[O.b,O.e]))))));Br(E);)x=T(Ar(E),12),Sx(x)||MOt(l,g,O,x)}function f6e(l,g){var b,x,E;for(E=jo(l,g),x=E.mb();x.G();)if(b=T(x.H(),7),_e(b,(ht(),rm))!=null||Br(Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[b.b,b.e]))))))))return!0;return!1}function oX(l){var g,b;if(PD(l))throw new Oi(qNe);for(b=ta(l,0);b.b!=b.d.c;)g=T(Fi(b),10),this.d=Ri(this.d,g.b),this.c=rn(this.c,g.a),this.a=rn(this.a,g.b),this.b=Ri(this.b,g.a)}function kOt(l,g,b){if(g<0||b<0)throw new Oi("The highx must be bigger then lowx and the highy must be bigger then lowy");return l.a<0?l.a=0:l.a>g&&(l.a=g),l.b<0?l.b=0:l.b>b&&(l.b=b),l}function jo(l,g){switch(g.e){case 1:return gh(l.f,(td(),$Z));case 2:return gh(l.f,(td(),CZ));case 3:return gh(l.f,(td(),kZ));case 4:return gh(l.f,(td(),OZ));default:return ea(),ea(),b2}}function OOt(l){var g,b,x,E;for(E=(Ha(),new Xf(dg(op(l.a,new h))));Br(E);)for(x=T(Ar(E),9),x.g==(zn(),Sh)&&dt(x,(ht(),_g),(Gc(),L1)),b=Jr(Ca(x));Br(b);)g=T(Ar(b),12),mX(g,(Gc(),L1))}function AOt(l){var g,b,x,E;for(E=(Ha(),new Xf(dg(op(l.a,new h))));Br(E);)for(x=T(Ar(E),9),x.g==(zn(),Sh)&&dt(x,(ht(),_g),(Gc(),P0)),b=Jr(Ca(x));Br(b);)g=T(Ar(b),12),mX(g,(Gc(),P0))}function sX(l,g){switch(this.b=new Aa,l){case 0:this.d=new qE(this);break;case 1:this.d=new Um(this);break;case 2:this.d=new a0(this);break;default:throw new Cd}this.c=g,this.a=.2*g}function d6e(l){var g,b,x,E;if(!l.b)for(l.b=new Pe,b=new ge(l.a.c);b.a<b.c.c.length;)for(g=T(pe(b),16),E=new ge(g.a);E.a<E.c.c.length;)x=T(pe(E),9),tn(l.b,new d1(x,l.c));return l.b}function ROt(l,g){var b,x,E;b=wfe(g,l.e),x=T(Ki(l.g.f,b),24).a,E=l.a.c.length-1,l.a.c.length!=0&&T(_t(l.a,E),128).c==x?(++T(_t(l.a,E),128).a,++T(_t(l.a,E),128).b):tn(l.a,new x0(x))}function yhe(l){Gi();var g,b;return l>=lI?(g=55296+(l-lI>>10&1023)&Zv,b=56320+(l-lI&1023)&Zv,String.fromCharCode(g)+(""+String.fromCharCode(b))):String.fromCharCode(l&Zv)}function TOt(l,g,b,x){var E,O,P;switch(E=gc(b),O=VK(E),P=new mo,fa(P,b),x.e){case 1:ni(P,BK(sz(O)));break;case 2:ni(P,sz(O))}return dt(P,(ht(),oM),T(_e(g,oM),15)),dt(g,lr,P),ca(l.b,P,g),P}function MOt(l,g,b,x){var E;tn(l.c,new Vfe(l,b,x,T(Ki(l.k,b),24).a)),iK(x)&&(g==l.e?x.d.f!=l.a&&x.c.f!=l.a:x.d.f!=l.e&&x.c.f!=l.e)&&(E=b==x.c?x.d:x.c,tn(l.c,new Vfe(l,E,x,T(Ki(l.k,E),24).a)))}function h6e(l,g){var b,x,E;if(g===l)return!0;if(!Zt(g,57)||(E=T(g,57),l.Y()!=E.Y()))return!1;for(x=E.bb().mb();x.G();)if(b=T(x.H(),21),!l._(b))return!1;return!0}function g6e(l,g){var b,x,E;return x=new bh(l),eb(x,g),dt(x,(ht(),yj),g),dt(x,(Xt(),hr),(lo(),Xu)),dt(x,wg,($0(),Gz)),Wr(x,(zn(),Ta)),b=new mo,fa(b,x),ni(b,(Ut(),kn)),E=new mo,fa(E,x),ni(E,yn),x}function bhe(l,g){var b,x,E;for(E=Bs,x=new ge(qC(g));x.a<x.c.c.length;)b=T(pe(x),89),b.e&&!l.c[b.b]&&(l.c[b.b]=!0,E=ig(E,bhe(l,qK(b,g))));return l.i[g.b]=l.j,l.g[g.b]=ig(E,l.j++),l.g[g.b]}function p6e(l,g,b){var x,E,O,P;if(P=l.g.tb(),l.e)for(E=0;E<l.c;E++)P.H();else for(E=0;E<l.c-1;E++)P.H();for(O=l.b.tb(),x=Lt(ci(P.H()));x-g<Nx;)x=Lt(ci(P.H())),O.H();P.M(),fFe(l,b,g,O,P)}function v6e(l,g){var b,x,E,O;for(x=0,E=l.length;x<E;x++){O=l[x];try{O[1]?O[0].bd()&&(g=vSt(g,O)):O[0].bd()}catch(P){if(P=Fu(P),Zt(P,46))b=P,OSt(Zt(b,164)?T(b,164).cc():b);else throw Nu(P)}}return g}function POt(l){var g,b,x;if(x=l.c.a,!x)return null;if(l.b.b){if(g=l.b.e,b=Ude(l.c.a,l.d,g),!b)return null;l.b.d==(Od(),_h)&&l.d.$b(g,b.b)==0&&(b=b.i)}else b=l.a.i;return b==l.a||!HO(l.b,b.b)?null:b}function LOt(l,g){var b,x,E,O,P,I;for(O=0,x=new ge(g.c);x.a<x.c.c.length;){for(b=T(pe(x),16),E=0,I=new ge(b.a);I.a<I.c.c.length;)P=T(pe(I),9),E+=P.j.b+P.e.a+P.e.d+l.a;E-=l.a,O=O>E?O:E}return O}function DOt(l){var g,b,x,E,O;for(O=Bs,E=Bs,x=new ge(qC(l));x.a<x.c.c.length;)b=T(pe(x),89),g=b.d.e-b.c.e,b.d==l&&g<E?E=g:g<O&&(O=g);return E==Bs&&(E=-1),O==Bs&&(O=-1),new Po(yr(E),yr(O))}function m6e(l,g,b){var x,E,O,P,I;for(g.k=-1,I=Yv(g,(gs(),Zu)).mb();I.G();)for(P=T(I.H(),7),E=new ge(P.e);E.a<E.c.c.length;)x=T(pe(E),12),O=x.d.f,g!=O&&(O.k<0?b.ib(x):O.k>0&&m6e(l,O,b));g.k=0}function y6e(l,g){if(0>g)throw new Oi("Top must be smaller or equal to bottom.");if(0>l)throw new Oi("Left must be smaller or equal to right.");this.d=0,this.c=l,this.a=g,this.b=0}function uX(l){var g,b,x;if(l.length==0)throw new Oi(qNe);for(b=0,x=l.length;b<x;++b)g=l[b],this.d=Ri(this.d,g.b),this.c=rn(this.c,g.a),this.a=rn(this.a,g.b),this.b=Ri(this.b,g.a)}function IOt(){return Js(),it(nt(R7e,1),on,37,0,[Ype,Ipe,o0e,Lpe,MZ,r0e,PZ,Qpe,RZ,tj,Zpe,Xpe,ij,Npe,AZ,IZ,NZ,rj,Wpe,ej,t0e,FZ,oj,Fpe,Jpe,n0e,e0e,LZ,Hpe,CA,TZ,Vpe,i0e,Kpe,zpe,eM,Gpe,FI,Ppe,Upe,jpe,DZ,aj,nj,Bpe,zZ,qpe,Dpe,a0e,Jz])}function FOt(l,g){var b,x,E,O,P,I,B,q,K;for(K=0,x=0,E=g.length;x<E;++x)for(b=g[x],P=0,I=b.length;P<I;++P)for(O=b[P],q=new ge(O.f);q.a<q.c.c.length;)B=T(pe(q),7),B.k=K++;l.a=Pt(ko,Co,26,K,12,1)}function b6e(l){Ha();var g,b,x;if(g=l.H(),!l.G())return g;for(x=new Tv,x.a+="expected one element but was: <"+g,b=0;b<4&&l.G();b++)pn(x,", "+l.H());throw l.G()&&(x.a+=", ..."),x.a+=">",new Oi(x.a)}function NOt(l){var g,b,x,E,O;for(g=0,x=l.b,E=0,O=x.length;E<O;++E)b=x[E],g+=_Ot(l,b),Ns(T(_e(b,(Xt(),hr)),28))&&(jo(b,(Ut(),Hn)).mb().G()&&(g+=mFe(l,b,Hn)),jo(b,ur).mb().G()&&(g+=mFe(l,b,ur)));return g}function lX(l,g,b,x){var E,O,P,I,B;if(x.d.c+x.e.c==0)for(P=l.a[l.c],I=0,B=P.length;I<B;++I)O=P[I],ca(x,O,new yDe(l,O,b));return E=T(Fe(bl(x.d,g)),284),E.b=0,E.c=E.f,E.c==0||Ba(T(_t(E.a,E.b),128)),E}function _z(l){var g;ea();var b,x,E,O,P,I;if(Zt(l,63))for(O=0,E=l.Y()-1;O<E;++O,--E)g=l.sb(O),l.wb(O,l.sb(E)),l.wb(E,g);else for(b=l.tb(),P=l.ub(l.Y());b.L()<P.N();)x=b.H(),I=P.M(),b.O(I),P.O(x)}function zOt(l,g,b){return l<0||l>b?_he(l,b,"start index"):g<0||g>b?_he(g,b,"end index"):aI("end index (%s) must not be less than start index (%s)",it(nt(Ln,1),cn,1,4,[yr(g),yr(l)]))}function whe(l){if(!("id"in l.a))throw new BO("Every graph element must specify an 'id' property.",l);if(!Ka(l,"id").lc())throw new BO("Invalid format for 'id'. Must be a string, was "+Ka(l,"id").$c,l)}function Ax(l,g){var b,x,E,O,P,I,B;for(B=l.b,x=T(KO(qx,l),20).mb();x.G();)for(b=T(x.H(),75),I=(O=new wi(b.c.a).a.bb().mb(),new _i(O));I.a.G();)P=(E=T(I.a.H(),21),T(E.yb(),7)),Nv(g,P),Ez(P,B)}function jOt(l,g){var b,x,E;for(E=new ge(g.e);E.a<E.c.c.length;)if(b=T(pe(E),12),b.d.f!=l.f)return!0;for(x=new ge(g.b);x.a<x.c.c.length;)if(b=T(pe(x),12),b.c.f!=l.f)return!0;return!1}function cX(l){var g,b,x,E;for(F9(l.c),F9(l.b),F9(l.a),E=(b=new wi(l.e).a.bb().mb(),new _i(b));E.a.G();)x=(g=T(E.a.H(),21),T(g.yb(),60)),x.c!=2&&(_l(l.a,x),x.c==0&&_l(l.c,x)),_l(l.b,x);l.d=!1}function w6e(l,g){var b;if(l===g)return!0;if(Zt(g,18)){b=T(g,18);try{return l.Y()==b.Y()&&l.lb(b)}catch(x){if(x=Fu(x),Zt(x,76))return!1;if(Zt(x,119))return!1;throw Nu(x)}}return!1}function Lf(l,g,b){var x,E,O,P;if(P=g==null?0:l.b.Vc(g),E=(x=v0(l.a,P),x??[]),E.length==0)ZL(l.a,P,E);else if(O=GDe(l,g,E),O)return O.Ab(b);return ph(E,E.length,new CC(g,b)),++l.c,CD(l.b),null}function _he(l,g,b){if(l<0)return aI(pNe,it(nt(Ln,1),cn,1,4,[b,yr(l)]));if(g<0)throw new Oi(vNe+g);return aI("%s (%s) must not be greater than size (%s)",it(nt(Ln,1),cn,1,4,[b,yr(l),yr(g)]))}function BOt(l,g){if(l<0)return aI(pNe,it(nt(Ln,1),cn,1,4,["index",yr(l)]));if(g<0)throw new Oi(vNe+g);return aI("%s (%s) must be less than size (%s)",it(nt(Ln,1),cn,1,4,["index",yr(l),yr(g)]))}function _6e(l){var g,b,x,E;for(E=Pt(Hs,eu,51,l.c.c.length,0,2),x=new pa(l.c,0);x.b<x.d.Y();)g=(Jn(x.b<x.d.Y()),T(x.d.sb(x.c=x.b++),16)),b=x.b-1,E[b]=T(Eo(g.a,Pt(Hs,bc,9,g.a.c.length,0,1)),51);return E}function z4(l,g,b,x,E){switch(this.c=E,this.d=g,this.a=b,E.e){case 4:this.b=_s(l.b);break;case 1:this.b=_s(l.d);break;case 2:this.b=_s(l.c-x.j.a);break;case 3:this.b=_s(l.a-x.j.b);break;default:this.b=0}}function x6e(l,g,b,x,E){var O,P,I,B,q;if(g)for(I=g.mb();I.G();)for(P=T(I.H(),9),q=Ihe(P,(gs(),Zu),b).mb();q.G();)B=T(q.H(),7),O=T(Fe(bl(E.d,B)),80),O||(O=new CDe(l),x.c[x.c.length]=O,sFe(O,B,E))}function HOt(l,g){var b,x,E;if(b=l.c,b.a.Y()>1)throw new Oi("In straight hyperEdges there may be only one edge.");Vi((E=new wi(b.a).a.bb().mb(),x=T(new _i(E).a.H(),21),T(x.yb(),12)).a,new Gn(g,l.b))}function S6e(l,g,b){var x,E;if(this.f=l,x=T(Ki(l.b,g),126),E=x?x.a:0,yK(b,E),b>=(E/2|0))for(this.e=x?x.c:null,this.d=E;b++<E;)UPe(this);else for(this.c=x?x.b:null;b-- >0;)gK(this);this.b=g,this.a=null}function eI(l,g){(typeof document!==hI||e.exports)&&kj(l(g)),typeof document===hI&&typeof self!==hI&&self.postMessage(g)}function fX(l,g){var b,x,E,O;"x"in l.a&&(E=T(Ka(l,"x"),104),g.i.a=E.a),"y"in l.a&&(O=T(Ka(l,"y"),104),g.i.b=O.a),DX in l.a&&(x=T(Ka(l,DX),104),g.j.a=x.a),IX in l.a&&(b=T(Ka(l,IX),104),g.j.b=b.a)}function E6e(l,g,b){var x,E;OLe(this),g==(bx(),D1)?ma(this.g,l.c):ma(this.o,l.c),b==D1?ma(this.g,l.d):ma(this.o,l.d),ma(this.c,l),x=vc(l.c).b,E=vc(l.d).b,TIe(this,x,E,E),this.f=PSt(vc(l.c).b,vc(l.d).b)}function UOt(l){var g,b,x,E,O,P;for(P=new Xy(l.d,l.e),O=Tx(P);O.G();)for(E=T(O.H(),7),x=l.e==(Ut(),kn)?E.b:E.e,b=new ge(x);b.a<b.c.c.length;)g=T(pe(b),12),!Sx(g)&&g.c.f.d!=g.d.f.d&&(ROt(l,g),++l.f,++l.c)}function tI(l,g,b){var x,E,O,P,I;for(P=(ea(),new u1(T(_t(g.a,b),18))),I=new yc(P.b.Y()),E=new re(P.b.mb());E.b.G();)x=T(E.b.H(),37),O=T(Ki(l.a,x),31),O||(O=PTt(x),ca(l.a,x,O)),I.c[I.c.length]=O;return I}function VOt(l,g){var b,x,E,O;for(x=new pa(l.f.c,0);x.b<x.d.Y();)for(b=(Jn(x.b<x.d.Y()),T(x.d.sb(x.c=x.b++),16)),O=g[x.b-1],E=new pa(b.a,0);E.b<E.d.Y();)Jn(E.b<E.d.Y()),E.d.sb(E.c=E.b++),w9(E,O[E.b-1])}function C6e(l){var g,b;if(uh(T(_e(l,(Xt(),hr)),28)))for(b=new ge(l.f);b.a<b.c.c.length;)g=T(pe(b),7),g.g==(Ut(),vs)&&UDe(g);else{for(b=new ge(l.f);b.a<b.c.c.length;)g=T(pe(b),7),UDe(g);dt(l,hr,(lo(),RI))}}function xhe(l,g,b,x,E,O){var P,I,B,q;if(P=x-b,P<7){J$t(g,b,x,O);return}if(B=b+E,I=x+E,q=B+(I-B>>1),xhe(g,l,B,q,-E,O),xhe(g,l,q,I,-E,O),O.$b(l[q-1],l[q])<=0){for(;b<x;)ph(g,b++,l[B++]);return}L$t(l,B,q,I,g,b,x,O)}function $6e(l){if(!l)return e1(),d8e;var g=l.valueOf?l.valueOf():l;if(g!==l){var b=QX[typeof g];return b?b(g):Vde(typeof g)}else return l instanceof Array||l instanceof t.Array?new _n(l):new pi(l)}function dX(l,g,b){var x,E;return x=b.c,E=b.d,l.g[x.b]<=l.i[g.b]&&l.i[g.b]<=l.i[x.b]&&l.g[E.b]<=l.i[g.b]&&l.i[g.b]<=l.i[E.b]?!(l.i[x.b]<l.i[E.b]):l.i[x.b]<l.i[E.b]}function k6e(l,g,b){var x,E,O,P,I,B,q,K;for(q=0,E=l.a[g],O=0,P=E.length;O<P;++O){for(x=E[O],K=new Xy(x,b),B=Tx(K);B.G();)I=T(B.H(),7),ca(l.f,I,yr(q)),Ns(T(_e(x,(Xt(),hr)),28))&&++q;Ns(T(_e(x,(Xt(),hr)),28))||++q}}function WOt(l,g,b){var x,E;if(mr(g),b.G())for(E=T(b.H(),21),It(g,c4(l.a,E.yb())),It(g,l.b),It(g,c4(l.a,E.zb()));b.G();)It(g,l.a.c),x=T(b.H(),21),It(g,c4(l.a,x.yb())),It(g,l.b),It(g,c4(l.a,x.zb()));return g}function hX(l,g){var b,x;return b=T(DC(l.b,g),19),b?(x=l.Z(),x.jb(b),l.c-=b.Y(),b.Q(),Zt(x,137)?(ea(),new b1(T(x,137))):Zt(x,18)?(ea(),new u1(T(x,18))):Zt(x,20)?Xfe(T(x,20)):(ea(),new Wm(x))):l.$()}function O6e(l,g){var b;g.d?g.d.b=g.b:l.a=g.b,g.b?g.b.d=g.d:l.e=g.d,!g.e&&!g.c?(b=T(DC(l.b,g.a),126),b.a=0,++l.c):(b=T(Ki(l.b,g.a),126),--b.a,g.e?g.e.c=g.c:b.b=g.c,g.c?g.c.e=g.e:b.c=g.e),--l.d}function She(l,g,b){switch(b.e){case 1:return new Gn(g.a,Ri(l.d.b,g.b));case 2:return new Gn(rn(l.c.a,g.a),g.b);case 3:return new Gn(g.a,rn(l.c.b,g.b));case 4:return new Gn(Ri(g.a,l.d.a),g.b)}return new Gn(g.a,g.b)}function GOt(l){var g,b,x,E;for(g=0,x=(Gi(),l.length),E=x-4,b=0;b<E;)g=l.charCodeAt(b+3)+31*(l.charCodeAt(b+2)+31*(l.charCodeAt(b+1)+31*(l.charCodeAt(b)+31*g))),g=g|0,b+=4;for(;b<x;)g=g*31+DY(l,b++);return g=g|0,g}function A6e(l,g){var b,x,E;for(this.a=l,this.c=g,this.b=Pt(o9e,eu,673,l.length,0,2),b=0;b<l.length;++b)for(E=l[b].length,this.b[b]=Pt(o9e,{673:1,3:1,5:1,6:1},102,E,0,1),x=0;x<E;++x)this.b[b][x]=new EPe(this,l[b][x].c)}function xz(l,g,b,x,E,O,P){var I;this.a=T(mr(l),56),this.b=g,this.c=E,this.e=b,this.d=T(mr(x),159),this.g=O,this.f=T(mr(P),159),g&&l.$b(b,b),E&&l.$b(O,O),g&&E&&(I=l.$b(b,O),k$t(I<=0,b,O),I==0&&m1(x!=(Od(),_h)|P!=_h))}function R6e(l){if(this.a=l,l.c.f.g==(zn(),Ta))this.c=l.c,this.d=T(_e(l.c.f,(ht(),vu)),32);else if(l.d.f.g==Ta)this.c=l.d,this.d=T(_e(l.d.f,(ht(),vu)),32);else throw new Oi("Edge "+l+" is not an external edge.")}function T6e(){T6e=r,_9e=xi(new no,(Js(),Hpe)),C0e=Dr(new no,ej),S9e=mn(Dr(new no,oj),aj),w9e=mn(xi(Dr(new no,Npe),zpe),jpe),E9e=Dr(new no,t0e),x9e=mn(new no,Upe),y9e=mn(xi(Dr(ii(new no,tj),rj),CA),nj),b9e=mn(xi(new no,CA),Jz)}function Sz(l,g,b){var x,E,O,P;return wl(b,bge),b==0?yz(l,g):(m1(HO(l.b,g)),P=l.c.a,P?(O=Pt(ko,Co,26,1,12,1),x=jhe(P,l.d,g,b,O),M9(l.c,P,x),O[0]):(l.d.$b(g,g),E=new nz(g,b),f9(l.a,E,l.a),M9(l.c,null,E),0))}function M6e(l,g,b){var x,E,O,P,I,B;for(x=0,B=b,g||(x=b*(l.c.length-1),B*=-1),O=new ge(l);O.a<O.c.c.length;){for(E=T(pe(O),9),dt(E,(Xt(),wg),($0(),Gz)),E.j.a=x,I=jo(E,(Ut(),yn)).mb();I.G();)P=T(I.H(),7),P.i.a=x;x+=B}}function wr(l,g,b){var x;if(x=T(Ki(l.b,g),19),x)return x.ib(b)?(++l.c,!0):!1;if(x=l.Z(),x.ib(b))return++l.c,ca(l.b,g,x),!0;throw new EK("New Collection violated the Collection spec")}function gX(l,g,b){var x,E,O;for(CAt(l,g,b),O=new Pe,E=new ge(l.b.a.b);E.a<E.c.c.length;)x=T(pe(E),25),g.D(x)&&(tn(O,new Ai(x,!0)),tn(O,new Ai(x,!1)));Ikt(l.d),DD(O,l.c,new zl(it(nt(II,1),cn,160,0,[l.d]))),_At(l,g,b)}function P6e(l,g){var b,x,E,O,P;for(l.c[g.k]=!0,tn(l.a,g),P=new ge(g.f);P.a<P.c.c.length;)for(O=T(pe(P),7),x=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[O.b,O.e]))))));Br(x);)b=T(Ar(x),12),E=okt(O,b).f,l.c[E.k]||P6e(l,E)}function Ehe(l,g,b,x){var E,O,P;if("labels"in g.a){if(P=Ka(g,"labels"),!P.hc())throw new Hv("The 'labels' property of a node must be an array.",P,g);for(O=P.hc(),E=0;E<O.a.length;++E)Zt(qw(O,E),69)&&v3t(l,T(qw(O,E),69),b,x)}}function L6e(l,g,b){var x,E,O,P,I,B;O=T(_t(g.b,0),12).c,x=O.f,E=x.g,B=T(_t(b.e,0),12).d,P=B.f,I=P.g,E==(zn(),va)?dt(l,(ht(),_c),T(_e(x,_c),7)):dt(l,(ht(),_c),O),I==va?dt(l,(ht(),Yl),T(_e(P,Yl),7)):dt(l,(ht(),Yl),B)}function rb(){rb=r,Xc=new m0("H_LEFT",0),xh=new m0("H_CENTER",1),Qc=new m0("H_RIGHT",2),od=new m0("V_TOP",3),ad=new m0("V_CENTER",4),id=new m0("V_BOTTOM",5),ql=new m0("INSIDE",6),Jc=new m0("OUTSIDE",7),Zc=new m0("H_PRIORITY",8)}function Che(l){XY();var g,b,x;for(this.b=b7e,this.c=_7e,this.d=(vo(),hp),this.g=(d0(),y7e),this.a=l,rC(this,new C),kz(this),x=new ge(l.b);x.a<x.c.c.length;)b=T(pe(x),25),b.f||(g=new fz(it(nt(Qz,1),cn,25,0,[b])),tn(l.a,g))}function $he(l,g){var b,x,E,O;for(E=1,g.j=!0,x=new ge(qC(g));x.a<x.c.c.length;)b=T(pe(x),89),l.c[b.b]||(l.c[b.b]=!0,O=qK(b,g),b.e?E+=$he(l,O):!O.j&&b.a==b.d.e-b.c.e&&(b.e=!0,ma(l.p,b),E+=$he(l,O)));return E}function pX(l){var g,b,x,E,O,P,I,B;for(E=Gl,x=pu,b=new ge(l.e.c);b.a<b.c.c.length;)for(g=T(pe(b),16),P=new ge(g.a);P.a<P.c.c.length;)O=T(pe(P),9),B=Lt(l.n[O.k]),I=B+Lt(l.b[l.f[O.k].k]),E=E<B?E:B,x=x>I?x:I;return x-E}function D6e(l){var g;return g=new g0,Md(g,"type",new px((Vw(g7e),g7e.n))),Md(g,MX,new px(l.f)),l.b&&Md(g,"value",l.b),l.a&&Md(g,"context",l.a),Md(g,RNe,new px(Ky(new nC(`
`),new o0(new zl((l.g==null&&(l.g=go(l)),l.g)))))),g}function qOt(l,g){return l.c<g.c?-1:l.c>g.c?1:l.b<g.b?-1:l.b>g.b?1:l.a!=g.a?l.a.b-g.a.b:l.d==0&&g.d==1?-1:l.d==1&&g.d==0?1:0}function I6e(l,g){var b,x,E,O,P;if(g===l)return!0;if(!Zt(g,20)||(P=T(g,20),l.Y()!=P.Y()))return!1;for(O=P.mb(),x=l.mb();x.G();)if(b=x.H(),E=O.H(),!(he(b)===he(E)||b!=null&&cp(b,E)))return!1;return!0}function F6e(l){!ZX&&(ZX=_Tt());var g=l.replace(/[\x00-\x1f\xad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200b-\u200f\u2028-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb"\\]/g,function(b){return mEt(b)});return'"'+g+'"'}function N6e(l,g){var b,x,E,O,P,I,B;for(E=g==1?SZ:xZ,x=(P=new wi(E.a).a.bb().mb(),new _i(P));x.a.G();)for(b=(O=T(x.a.H(),21),T(O.yb(),59)),B=T(Ld(l.f.c,b),18).mb();B.G();)I=T(B.H(),27),Ks(l.b.b,I.b),Ks(l.b.a,T(I.b,25).f)}function z6e(l,g,b){var x,E,O,P;if(ai(b,"Recursive layout",2),g.b.c.length!=0){for(P=1/g.b.c.length,O=new ge(g.b);O.a<O.c.c.length;)E=T(pe(O),9),x=T(_e(E,(ht(),Xx)),55),x&&(z6e(l,x,VC(b,P)),LRt(E,x));ZFe(l.d,g),Khe(g,b)}RFe(g),jr(b)}function khe(l,g){ode.call(this),this.d=new Aa,this.b=T(_e(g,(ht(),xc)),15).a*T(_e(g,(Si(),N1)),15).a,this.e=this.b*T(_e(g,lM),15).a,this.a=new ns,this.c=new ns,this.j=new vh(l.j,l.k,0,l.n-l.k),this.o=l.g,this.g.a=l.i,zFe(this,l)}function vX(l,g){var b,x,E,O,P;for(O=g==null?0:l.b.Vc(g),x=(b=v0(l.a,O),b??[]),P=0;P<x.length;P++)if(E=x[P],l.b.Uc(g,E.yb()))return x.length==1?(x.length=0,l.a[HX](O)):x.splice(P,1),--l.c,CD(l.b),E.zb();return null}function YOt(l,g,b){var x;x=null,g&&(x=g.e),P4(l,new y0(g.i.a-x.b+b.a,g.i.b-x.d+b.b)),P4(l,new y0(g.i.a-x.b+b.a,g.i.b+g.j.b+x.a+b.b)),P4(l,new y0(g.i.a+g.j.a+x.c+b.a,g.i.b-x.d+b.b)),P4(l,new y0(g.i.a+g.j.a+x.c+b.a,g.i.b+g.j.b+x.a+b.b))}function Ez(l,g){switch(g.e){case 2:ni(l,(Ut(),yn)),l.a.a=l.j.a,l.a.b=l.j.b/2;break;case 4:ni(l,(Ut(),kn)),l.a.a=0,l.a.b=l.j.b/2;break;case 1:ni(l,(Ut(),Hn)),l.a.a=l.j.a/2,l.a.b=0;break;case 3:ni(l,(Ut(),ur)),l.a.a=l.j.a/2,l.a.b=l.j.b}}function KOt(l,g){Mo();var b,x,E;if(g===l)return!0;if(Zt(g,207)){if(E=T(g,207),l.Y()!=E.Y()||qO(l).Y()!=E.bb().Y())return!1;for(x=E.bb().mb();x.G();)if(b=T(x.H(),83),l.Cb(b.Zb())!=b.Yb())return!1;return!0}return!1}function KC(l,g){var b,x,E,O,P,I;return O=l.a*UX+l.b*1502,I=l.b*UX+11,b=Math.floor(I*jX),O+=b,I-=b*Pge,O%=Pge,l.a=O,l.b=I,g<=24?zt(l.a*fve[g]):(E=l.a*(1<<g-24),P=zt(l.b*dve[g]),x=E+P,x>=2147483648&&(x-=4294967296),x)}function Ohe(l,g,b){var x,E,O;if(g!=b){x=g;do ra(l,x.d),O=T(_e(x,(ht(),Zx)),9),O&&(E=x.a,Wc(l,E.b,E.d),ra(l,O.i),x=gc(O));while(O);x=b;do Fv(l,x.d),O=T(_e(x,(ht(),Zx)),9),O&&(E=x.a,sfe(l,E.b,E.d),Fv(l,O.i),x=gc(O));while(O)}}function XOt(l,g){var b,x,E,O,P,I;for(b=new Pe,I=new nx,E=(P=new wi(l.a).a.bb().mb(),new _i(P));E.a.G();)x=(O=T(E.a.H(),21),T(O.yb(),12)),_X(I,x.c,x,null),_X(I,x.d,x,null);for(;I.a;)tn(b,RRt(I,g,Ns(T(_e(g,(Xt(),hr)),28))));return b}function ZOt(l,g){var b,x,E,O,P;for(O=new ge(l.e.a);O.a<O.c.c.length;)if(E=T(pe(O),61),E.c.c.length==E.g.c.length){for(x=E.e,P=DOt(E),b=E.e-T(P.a,24).a+1;b<E.e+T(P.b,24).a;b++)g[b]<g[x]&&(x=b);g[x]<g[E.e]&&(--g[E.e],++g[x],E.e=x)}}function j6e(l,g){var b,x,E,O,P,I,B;for(E=g==1?SZ:xZ,x=(P=new wi(E.a).a.bb().mb(),new _i(P));x.a.G();)for(b=(O=T(x.a.H(),21),T(O.yb(),59)),B=T(Ld(l.f.c,b),18).mb();B.G();)I=T(B.H(),27),tn(l.b.b,T(I.b,25)),tn(l.b.a,T(I.b,25).f)}function B6e(l){OD();var g,b,x,E,O,P,I;for(b=(hi(),new O4),E=new ge(l.e.c);E.a<E.c.c.length;)for(x=T(pe(E),16),P=new ge(x.a);P.a<P.c.c.length;)O=T(pe(P),9),I=l.f[O.k],g=T(CK(b,I),20),g||(g=new Pe,YD(b,I,g)),g.ib(O);return b}function QOt(l,g){var b,x,E,O;for(x=new ge(l.a.a);x.a<x.c.c.length;)b=T(pe(x),78),b.i=!0;for(O=new ge(l.a.b);O.a<O.c.c.length;)E=T(pe(O),25),E.p=zr(Lt(Qr(l.f.B(new Po(E,g))))),E.f.i=E.f.i&zr(Lt(Qr(l.f.B(new Po(E,g)))));return l}function H6e(l,g){var b,x,E,O;for(E=Hl(Ca(g)),x=ta(E,0);x.b!=x.d.c;)return b=T(Fi(x),12),O=b.d.f,O.g==(zn(),wc)&&!(zr(Lt(Qr(_e(O,(ht(),m2)))))&&_e(O,lr)!=null)?(Ks(O.d.a,O),fa(b.c,null),fa(b.d,null),H6e(l,O)):g;return g}function JOt(l,g){var b,x,E,O,P,I,B;if(!g.e)throw new Oi("The input edge is not a tree edge.");for(O=null,E=Bs,x=new ge(l.d);x.a<x.c.c.length;)b=T(pe(x),89),I=b.c,B=b.d,dX(l,I,g)&&!dX(l,B,g)&&(P=B.e-I.e-b.a,P<E&&(E=P,O=b));return O}function U6e(l,g){var b,x,E,O,P;return O=g.a,O.c.f==g.b?P=O.d:P=O.c,O.c.f==g.b?x=O.c:x=O.d,E=skt(l.a,P,x),E>0&&E<k0?(b=cAt(l.a,x.f,E),tDe(l.a,x.f,-b),b>0):E<0&&-E<k0?(b=fAt(l.a,x.f,-E),tDe(l.a,x.f,b),b>0):!1}function eAt(l,g,b,x,E){var O,P;pDe(da(it(nt(Ci,1),Ei,10,0,[E.f.i,E.i,E.a])),b)||(g.c==E?AC(g.a,0,new se(b)):Vi(g.a,new se(b)),x&&!og(l.a,b)&&(P=T(_e(g,(Xt(),$o)),44),P||(P=new ns,dt(g,$o,P)),O=new se(b),zs(P,O,P.c.b,P.c),ma(l.a,O)))}function V6e(l){var g,b,x,E,O,P,I;for(g=0,x=new ge(l.a);x.a<x.c.c.length;)for(b=T(pe(x),9),O=Jr(Ca(b));Br(O);)E=T(Ar(O),12),l==E.d.f.d&&E.c.g==(Ut(),kn)&&(P=vc(E.c).b,I=vc(E.d).b,g=g>(I-P<=0?0-(I-P):I-P)?g:I-P<=0?0-(I-P):I-P);return g}function tAt(l,g){var b,x,E;if(he(g)===he(mr(l)))return!0;if(!Zt(g,20)||(x=T(g,20),E=l.Y(),E!=x.Y()))return!1;if(Zt(x,63)){for(b=0;b<E;b++)if(!zC(l.sb(b),x.sb(b)))return!1;return!0}else return Dkt(l.mb(),x.mb())}function W6e(l,g){var b,x,E,O,P,I,B,q;if(E=l.b[g.k],E>=0)return E;for(O=1,I=new ge(g.f);I.a<I.c.c.length;)for(P=T(pe(I),7),x=new ge(P.e);x.a<x.c.c.length;)b=T(pe(x),12),q=b.d.f,g!=q&&(B=W6e(l,q),O=O>B+1?O:B+1);return Z$t(l,g,O),O}function G6e(l,g,b){var x,E,O,P,I,B;if(x=0,l.b!=0&&g.b!=0){O=ta(l,0),P=ta(g,0),I=Lt(ci(Fi(O))),B=Lt(ci(Fi(P))),E=!0;do I>B-b&&I<B+b&&++x,I<=B&&O.b!=O.d.c?I=Lt(ci(Fi(O))):B<=I&&P.b!=P.d.c?B=Lt(ci(Fi(P))):E=!1;while(E)}return x}function nAt(l,g){switch(wde(l)){case 5:return hh(g);case 6:return cx(g);case 7:return fx(g);case 0:return tX(g,l.__elementTypeId$);case 2:return nK(g)&&g.ad!==n;case 1:return nK(g)&&g.ad!==n||tX(g,l.__elementTypeId$);default:return!0}}function rAt(l,g){var b,x,E,O,P;return g&=63,b=l.h,x=(b&524288)!=0,x&&(b|=-1048576),g<22?(P=b>>g,O=l.m>>g|b<<22-g,E=l.l>>g|l.m<<22-g):g<44?(P=x?r2:0,O=b>>g-22,E=l.m>>g-22|b<<44-g):(P=x?r2:0,O=x?wh:0,E=b>>g-44),x1(E&wh,O&wh,P&r2)}function q6e(l,g){switch(l.e){case 1:switch(g.e){case 1:return 1;case 4:return 2;case 3:return 3;case 2:return 4}break;case 2:switch(g.e){case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4}break;default:throw new Oi(Rge)}return 0}function iAt(l,g,b){var x,E,O,P,I,B;x=new Pe,x.c[x.c.length]=g,B=g,I=0;do B=oTt(l,B),B&&(x.c[x.c.length]=B),++I;while(B);for(P=(b-(x.c.length-1)*l.d.d)/x.c.length,O=new ge(x);O.a<O.c.c.length;)E=T(pe(O),9),E.j.a=P;return new Po(yr(I),P)}function aAt(l,g,b){var x,E,O,P,I,B;x=new Pe,x.c[x.c.length]=g,B=g,I=0;do B=G3t(l,B),B&&(x.c[x.c.length]=B),++I;while(B);for(P=(b-(x.c.length-1)*l.d.d)/x.c.length,O=new ge(x);O.a<O.c.c.length;)E=T(pe(O),9),E.j.a=P;return new Po(yr(I),P)}function oAt(l){var g,b,x,E,O,P;for(E=T(_t(l.f,0),7),P=0,x=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[new Ur(E),new Er(E)]))))));Br(x);)b=T(Ar(x),7),P+=b.f.i.a+b.i.a+b.a.a;g=T(_e(l,(Xt(),ob)),10),O=g?g.a:0,l.i.a=P/(E.b.c.length+E.e.c.length)-O}function sAt(l,g){var b,x,E,O;if(g<2*l.c)throw new Oi("The knot vector must have at least two time the dimension elements.");for(l.j=0,l.i=1,x=0;x<l.c;x++)l.g.ib(0);for(O=g+1-2*l.c,E=1;E<O;E++)l.g.ib(E/O);if(l.e)for(b=0;b<l.c;b++)l.g.ib(1)}function Ahe(l){var g,b;return b=l.c,l.c=0,Ay(l.f,l.i),l.e?l.g?l.e.d>=l.g.d?(g=l.f,g.e=dDe(l.e,g),g.g=l.g,g.a=l.a-1,g.j=Qw(l.j,b),nb(g)):(g=l.i,g.g=hDe(l.g,g),g.e=l.e,g.a=l.a-1,g.j=Qw(l.j,b),nb(g)):l.e:l.g}function uAt(l){var g,b,x,E,O,P;for(E=new ge(l.a);E.a<E.c.c.length;)x=T(pe(E),9),x.g==(zn(),Bo)&&(O=T(_e(x,(ht(),Kx)),9),b=x.f,g=(Ra(0,b.c.length),T(b.c[0],7)),P=T(_e(g,lr),7),P.g==(Ut(),Hn)&&x.k>O.k?ni(P,ur):P.g==ur&&O.k>x.k&&ni(P,Hn))}function lAt(l,g,b){var x,E,O,P,I,B,q;for(q=l.b,P=0,O=new ge(l.a.b);O.a<O.c.c.length;)E=T(pe(O),33),P=rn(P,E.j.a);return B=rTt(l.a.c,l.a.d,g,b,P),Pf(l.a.a,XK(B)),I=vhe(l.a.b,B.a,q),x=new ID((!B.k&&(B.k=new oX(RK(B))),B.k)),qfe(x),I?Bfe(x,I):x}function cAt(l,g,b){var x,E,O,P,I,B,q;x=b,E=g;do E=l.a[E.k],P=(q=l.f[E.k],Lt(l.n[q.k])+Lt(l.d[E.k])-E.e.d),I=pCt(E,E.d?mc(E.d.a,E,0):-1),I&&(O=(B=l.f[I.k],Lt(l.n[B.k])+Lt(l.d[I.k])+I.j.b+I.e.a),x=Ri(x,P-(O+hx(l.j,E,I))));while(g!=E);return x}function fAt(l,g,b){var x,E,O,P,I,B,q;x=b,E=g;do E=l.a[E.k],O=(q=l.f[E.k],Lt(l.n[q.k])+Lt(l.d[E.k])+E.j.b+E.e.a),I=WCt(E,E.d?mc(E.d.a,E,0):-1),I&&(P=(B=l.f[I.k],Lt(l.n[B.k])+Lt(l.d[I.k])-I.e.d),x=Ri(x,P-(O+hx(l.j,E,I))));while(g!=E);return x}function Rhe(l,g,b){var x,E,O;if(wl(b,bge),b==0)return yz(l,g);O=l.c.a,E=Pt(ko,Co,26,1,12,1);try{if(!HO(l.b,g)||!O)return 0;x=Vhe(O,l.d,g,b,E)}catch(P){if(P=Fu(P),Zt(P,119))return 0;if(Zt(P,76))return 0;throw Nu(P)}return M9(l.c,O,x),E[0]}function dAt(l,g){var b,x,E,O,P;return l.b?(x=T(Yo(l.e,(Xt(),xI)),65),E=x.b+x.c,b=x.d+x.a):(E=g*2,b=g*2),P=rn(l.o[1]>0?E+l.i[1]*g+l.n[1]:0,l.o[3]>0?E+l.i[3]*g+l.n[3]:0),O=rn(l.o[4]>0?b+l.i[4]*g+l.n[4]:0,l.o[2]>0?b+l.i[2]*g+l.n[2]:0),new Gn(P,O)}function Y6e(l){var g,b,x,E,O,P;for(P=T(Eo(l.a,Pt(Hs,bc,9,l.a.c.length,0,1)),51),n9(P,new Vt),b=null,E=0,O=P.length;E<O&&(x=P[E],x.g==(zn(),Ta));++E)g=T(_e(x,(ht(),vu)),32),!(g!=(Ut(),kn)&&g!=yn)&&(b&&T(_e(b,OA),20).ib(x),b=x)}function nI(l,g,b,x,E){var O,P,I,B;for(B=new Xy(g,x),I=Tx(B);I.G();)O=T(I.H(),7),ca(l.k,O,yr(T(Ki(l.k,O),24).a+T(Fe(bl(E.d,b)),24).a));for(B=new Xy(b,x),P=Tx(B);P.G();)O=T(P.H(),7),ca(l.k,O,yr(T(Ki(l.k,O),24).a-T(Fe(bl(E.d,g)),24).a))}function ye(l,g,b){var x=zz,E,O=x[l],P=O instanceof Array?O[0]:null;O&&!P?V=O:(V=(E=g&&g.prototype,!E&&(E=zz[g]),vEt(E)),V._c=b,V.constructor=V,!g&&(V.ad=n),x[l]=V);for(var I=3;I<arguments.length;++I)arguments[I].prototype=V;P&&(V.$c=P)}function hAt(l){if(l.Sc()){var g=l.c;g.Tc()?l.n="["+g.k:g.Sc()?l.n="["+g.Qc():l.n="[L"+g.Qc()+";",l.b=g.Pc()+"[]",l.j=g.Rc()+"[]";return}var b=l.i,x=l.d;x=x.split("/"),l.n=JK(".",[b,JK("$",x)]),l.b=JK(".",[b,JK(".",x)]),l.j=x[x.length-1]}function The(l,g,b){var x;if(!b)return 0;if(x=l.d.$b(l.b.g,b.b),x>0)return The(l,g,b.g);if(x==0)switch(l.b.f.e){case 0:return Zs(g._b(b),g.ac(b.g));case 1:return g.ac(b.g);default:throw new hn}else return Zs(Zs(g.ac(b.g),g._b(b)),The(l,g,b.e))}function Mhe(l,g,b){var x;if(!b)return 0;if(x=l.d.$b(l.b.e,b.b),x<0)return Mhe(l,g,b.e);if(x==0)switch(l.b.d.e){case 0:return Zs(g._b(b),g.ac(b.e));case 1:return g.ac(b.e);default:throw new hn}else return Zs(Zs(g.ac(b.e),g._b(b)),Mhe(l,g,b.g))}function K6e(l,g,b,x){var E,O,P,I;return P=new bh(l),Wr(P,(zn(),va)),dt(P,(ht(),lr),g),dt(P,(Xt(),hr),(lo(),Xu)),dt(P,_c,b),dt(P,Yl,x),O=new mo,ni(O,(Ut(),kn)),fa(O,P),I=new mo,ni(I,yn),fa(I,P),Ea(g,O),E=new Uv,eb(E,g),dt(E,$o,null),uo(E,I),Ea(E,x),P}function X6e(l,g){var b,x,E,O,P,I,B,q,K,J;for(b=0,P=l.j,I=0,B=P.length;I<B;++I)for(O=P[I],J=new Xy(O,g),K=Tx(J);K.G();)for(q=T(K.H(),7),E=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[q.b,q.e]))))));Br(E);)x=T(Ar(E),12),Sx(x)||(b+=nFe(l,x,q));return b}function gAt(l,g){return l.c<g.c?-1:l.c>g.c?1:l.b<g.b?-1:l.b>g.b?1:l.a!=g.a?Iv(l.a)-Iv(g.a):l.d==(G9(),HI)&&g.d==BI?-1:l.d==BI&&g.d==HI?1:0}function pAt(l){var g,b,x,E,O,P;for(E=new Ds,x=new ge(l.d.a);x.a<x.c.c.length;)b=T(pe(x),61),b.c.c.length==0&&zs(E,b,E.c.b,E.c);if(E.b>1)for(g=ux(Tw(new Ed,l.b++),l.d),P=ta(E,0);P.b!=P.d.c;)O=T(Fi(P),61),sA(l1(Of(p0(jl(new oc,1),0),g),O))}function vAt(l,g,b,x){var E,O,P,I,B,q;for(q=0,P=new ge(l.a.b);P.a<P.c.c.length;)O=T(pe(P),33),q=rn(q,O.j.a);return B=I3t(l.a.c,g,l.a.d,x,nhe(l.b),b),Pf(l.a.a,XK(B)),I=vhe(l.a.b,B.a,l.b),E=new ID((!B.k&&(B.k=new oX(RK(B))),B.k)),qfe(E),I?Bfe(E,I):E}function mX(l,g){var b,x,E,O,P;for(x=new ge(l.b);x.a<x.c.c.length;)b=T(pe(x),33),dt(b,(ht(),_g),g);for(P=new ge(l.c.c);P.a<P.c.c.length;)E=T(pe(P),33),dt(E,(ht(),_g),g);for(O=new ge(l.d.c);O.a<O.c.c.length;)E=T(pe(O),33),dt(E,(ht(),_g),g)}function Rx(){Rx=r,sj=new g1(V4,0),NI=new g1("NIKOLOV",1),zI=new g1("NIKOLOV_PIXEL",2),u0e=new g1("NIKOLOV_IMPROVED",3),l0e=new g1("NIKOLOV_IMPROVED_PIXEL",4),s0e=new g1("DUMMYNODE_PERCENTAGE",5),c0e=new g1("NODECOUNT_PERCENTAGE",6),uj=new g1("NO_BOUNDARY",7)}function Z6e(l,g){var b,x,E,O,P;if(O=0,P=T(Fe(bl(g.d,l)),24),!P)return 0;for(E=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[l.b,l.e]))))));Br(E);)x=T(Ar(E),12),x.c==l?b=T(Ki(g,x.d),24):b=T(Ki(g,x.c),24),b&&P.a>b.a&&(O=Is(O,P.a-b.a-1));return O}function mAt(l){var g,b;switch(g=T(_e(l,(Xt(),Z4)),15).a,b=T(_e(l,Q4),15).a,dt(l,Q4,new li(g)),dt(l,Z4,new li(b)),T(_e(l,wg),103).e){case 1:dt(l,wg,($0(),Kz));break;case 2:dt(l,wg,($0(),Wz));break;case 3:dt(l,wg,($0(),qz));break;case 4:dt(l,wg,($0(),Yz))}}function yAt(l){var g,b,x,E,O;for(E=(Ha(),new Xf(dg(op(l.a,new h))));Br(E);)for(x=T(Ar(E),9),x.g==(zn(),Sh)&&(O=AIe(x)?(Gc(),L1):(Gc(),P0),dt(x,(ht(),_g),O)),b=Jr(Ca(x));Br(b);)g=T(Ar(b),12),O=zr(Lt(Qr(_e(g,(ht(),F1)))))?(Gc(),P0):(Gc(),L1),mX(g,O)}function bAt(l){var g,b,x,E,O;for(E=(Ha(),new Xf(dg(op(l.a,new h))));Br(E);)for(x=T(Ar(E),9),x.g==(zn(),Sh)&&(O=AIe(x)?(Gc(),P0):(Gc(),L1),dt(x,(ht(),_g),O)),b=Jr(Ca(x));Br(b);)g=T(Ar(b),12),O=zr(Lt(Qr(_e(g,(ht(),F1)))))?(Gc(),L1):(Gc(),P0),mX(g,O)}function Phe(l,g,b){var x,E,O;for(O=new ge(l.e);O.a<O.c.c.length;)x=T(pe(O),118),x.b.d<0&&x.c>0&&(x.b.c-=x.c,x.b.c<=0&&x.b.f>0&&Vi(g,x.b));for(E=new ge(l.b);E.a<E.c.c.length;)x=T(pe(E),118),x.a.d<0&&x.c>0&&(x.a.f-=x.c,x.a.f<=0&&x.a.c>0&&Vi(b,x.a))}function Lhe(l,g,b){var x,E,O;for(O=new ge(l.j);O.a<O.c.c.length;)x=T(pe(O),117),x.b.i<0&&x.c>0&&(x.b.e-=x.c,x.b.e<=0&&x.b.k>0&&Vi(g,x.b));for(E=new ge(l.d);E.a<E.c.c.length;)x=T(pe(E),117),x.a.i<0&&x.c>0&&(x.a.k-=x.c,x.a.k<=0&&x.a.e>0&&Vi(b,x.a))}function wAt(l){var g,b,x,E,O;switch(O=l.d.c+l.e.c,O){case 0:return f0(),u8e;case 1:return x=T(b6e(new GC(new qf(l).a)),21),dfe(x.yb(),x.zb());default:for(E=(hi(),new O4),b=new GC(new qf(l).a);b.b;)g=T4(b),YD(E,mr(g.yb()),mr(g.zb()));return new la(E)}}function _At(l,g,b){var x,E,O;for(E=new ge(l.b.a.b);E.a<E.c.c.length;)x=T(pe(E),25),g.D(x)&&(O=Lt(ci(b.B(x))),O>0&&(!(sg(l.b.d)&&x.q.d)&&!(fC(l.b.d)&&x.q.b)&&(x.j.e+=0>O/2-.5?0:O/2-.5),!(sg(l.b.d)&&x.q.a)&&!(fC(l.b.d)&&x.q.c)&&(x.j.b-=O-1)))}function xAt(l,g){switch(l.e){case 1:switch(g.e){case 1:return Tge;case 4:return .5;case 3:return Mge;case 2:return VNe}break;case 2:switch(g.e){case 1:return Tge;case 2:return .5;case 3:return Mge;case 4:return VNe}break;default:throw new Oi(Rge)}return 0}function yX(l,g){var b,x,E,O;for(O=new pa(l,0),b=(Jn(O.b<O.d.Y()),T(O.d.sb(O.c=O.b++),48));O.b<O.d.Y();)x=(Jn(O.b<O.d.Y()),T(O.d.sb(O.c=O.b++),48)),E=new x9(x.c,b.d,g),Jn(O.b>0),O.a.sb(O.c=--O.b),Nv(O,E),Jn(O.b<O.d.Y()),O.d.sb(O.c=O.b++),E.a=!1,b=x}function Q6e(l){var g,b,x,E,O,P;for(E=T(_e(l,(ht(),mj)),7),P=new ge(l.f);P.a<P.c.c.length;){for(O=T(pe(P),7),x=new ge(O.e);x.a<x.c.c.length;)return g=T(pe(x),12),Ea(g,E),O;for(b=new ge(O.b);b.a<b.c.c.length;)return g=T(pe(b),12),uo(g,E),O}return null}function J6e(l,g,b,x,E){var O,P,I,B,q,K;for(P=g,O=0,I=!1,K=new Xy(b,x),q=Tx(K);q.G();)B=T(q.H(),7),I=!0,ca(l.k,B,yr(P)),(Ns(T(_e(b,(Xt(),hr)),28))||B.b.c.length+B.e.c.length>1)&&(++O,++P);return!Ns(T(_e(b,(Xt(),hr)),28))&&I&&(++O,++P),ca(E,b,yr(O)),P}function eFe(l){var g,b,x,E,O,P,I,B,q,K,J,ie;for(P=l.b.mb(),I=T(P.H(),92),K=I.a.a,q=K>Nx,B=K<Nz;P.G();){if(b=I,O=K,E=q,x=B,I=T(P.H(),92),K=I.a.a,q=K>Nx,B=K<Nz,!(q||B))return jD(I.b);if(E&&B||x&&q)return g=O/(O-K),J=jD(b.b),ie=jD(I.b),g*J+(1-g)*ie}return 0}function tFe(l){var g,b,x,E,O,P,I,B,q,K,J,ie;for(P=l.b.mb(),I=T(P.H(),92),K=I.a.b,q=K>Nx,B=K<Nz;P.G();){if(b=I,O=K,E=q,x=B,I=T(P.H(),92),K=I.a.b,q=K>Nx,B=K<Nz,!(q||B))return jD(I.b);if(E&&B||x&&q)return g=O/(O-K),J=jD(b.b),ie=jD(I.b),g*J+(1-g)*ie}return 0}function nFe(l,g,b){var x,E;return x=0,iK(g)?og(l.g,g)?(Rhe(l.i,yr(w1(l,g.c)),1)>0,Rhe(l.i,yr(w1(l,g.d)),1)>0,yD(l.g,g),x+=bkt(l,g,l.i)):(ma(l.g,g),Sz(l.i,yr(w1(l,g.c)),1),Sz(l.i,yr(w1(l,g.d)),1)):(E=yz(l.i,yr(T(Ki(l.k,b),24).a)),x+=l.g.a.Y()-E),x}function SAt(l){switch(l.e){case 0:return I9e;case 1:return P9e;case 2:return M9e;case 3:return z9e;case 4:return N9e;case 5:return V9e;case 6:return U9e;case 7:return F9e;case 8:return L9e;case 9:return D9e;case 11:return B9e;case 10:return j9e;default:return H9e}}function Cz(l){switch(l.e){case 0:return vp;case 1:return nm;case 2:return h2;case 3:return cb;case 4:return fb;case 5:return D0;case 6:return v2;case 7:return p2;case 8:return g2;case 9:return L0;case 10:return Yx;case 11:return db;default:return u$}}function rI(l){switch(l.e){case 0:return D0;case 1:return v2;case 2:return p2;case 3:return vp;case 4:return nm;case 5:return h2;case 6:return cb;case 7:return fb;case 8:return g2;case 9:return L0;case 10:return Yx;case 11:return db;default:return u$}}function Dhe(l){switch(l.e){case 0:return h2;case 1:return cb;case 2:return fb;case 3:return D0;case 4:return v2;case 5:return p2;case 6:return vp;case 7:return nm;case 8:return g2;case 9:return L0;case 10:return Yx;case 11:return db;default:return u$}}function EAt(l){var g,b,x,E,O,P,I,B;for(b=(hi(),new O4),I=new KY((fh(),new zl(l.f))),P=(E=new wi(I.a).a.bb().mb(),new _i(E));P.a.G();){if(O=(x=T(P.a.H(),21),T(x.yb(),9)),!O){Ww();break}B=l.i[O.k],g=T(CK(b,B),20),g||(g=new Pe,YD(b,B,g)),g.ib(O)}return b}function CAt(l,g,b){var x,E,O;for(E=new ge(l.b.a.b);E.a<E.c.c.length;)x=T(pe(E),25),g.D(x)&&(O=Lt(ci(b.B(x))),O>0&&(!(sg(l.b.d)&&x.q.d)&&!(fC(l.b.d)&&x.q.b)&&(x.j.e-=0>O/2-.5?0:O/2-.5),!(sg(l.b.d)&&x.q.a)&&!(fC(l.b.d)&&x.q.c)&&(x.j.b+=0>O-1?0:O-1)))}function Tx(l){var g,b,x;switch(x=l.a.f,l.b){case 0:return new ge(l.a.f);case 1:return IC((b=new ede(x),b),fhe(l));case 2:switch(l.c.e){case 2:case 1:return IC(new ge(x),fhe(l));case 3:case 4:return IC((g=new ede(x),g),fhe(l))}}throw new oh("PortOrder not implemented.")}function $At(l,g){var b;l.d&&(g.c!=l.e.c||jCt(l.e.b,g.b))&&(tn(l.f,l.d),l.a=l.d.d+l.d.c,l.d=null,l.e=null),K7(g.b)?l.c=g:l.b=g,(g.b==(BD(),f2)&&!g.a||g.b==Wx&&g.a||g.b==s$&&g.a||g.b==Gx&&!g.a)&&l.c&&l.b&&(b=new vh(l.a,l.c.d,g.c-l.a,l.b.d-l.c.d),l.d=b,l.e=g)}function Mx(l,g,b,x){this.e=l,this.j=T(_e(l,(ht(),Qx)),134),this.f=Pt(Hs,bc,9,g,0,1),this.b=Pt(KI,eu,184,g,6,1),this.a=Pt(Hs,bc,9,g,0,1),this.d=Pt(KI,eu,184,g,6,1),this.i=Pt(Hs,bc,9,g,0,1),this.g=Pt(KI,eu,184,g,6,1),this.n=Pt(KI,eu,184,g,6,1),this.k=b,this.c=x}function kAt(l,g,b){var x,E;if(g.g==(zn(),Bo)&&b.g==Bo){if(!Ns(T(_e(T(_e(g,(ht(),lr)),9),(Xt(),hr)),28))||T(_e(g,lr),9)!=T(_e(b,lr),9))return;if(NIe(g)||NIe(b)){l.d=1,l.b=1;return}E=T(_t(g.f,0),7).g,x=T(_t(b.f,0),7).g,_K(g).g==(Ut(),Hn)?rFe(l,g,b,E,x):rFe(l,b,g,x,E)}}function sA(l){if(!l.a.c||!l.a.d)throw new Vc((Vw(H7e),H7e.j+" must have a source and target "+(Vw(m0e),m0e.j)+" specified."));if(l.a.c==l.a.d)throw new Vc("Network simplex does not support self-loops: "+l.a+" "+l.a.c+" "+l.a.d);return Gw(l.a.c.g,l.a),Gw(l.a.d.c,l.a),l.a}function rFe(l,g,b,x,E){x==(Ut(),yn)&&E==yn?XO(l,g)>XO(l,b)?l.d=rA(l,b):l.b=rA(l,g):x==kn&&E==kn?XO(l,g)<XO(l,b)?l.d=rA(l,b):l.b=rA(l,g):x==kn&&E==yn?XO(l,g)>XO(l,b)&&(l.d=rA(l,b),l.b=rA(l,g)):XO(l,g)<XO(l,b)&&(l.d=rA(l,b),l.b=rA(l,g))}function OAt(l){var g,b,x,E,O,P,I,B;for(B=l.f.c.length,b=0,g=B,E=2*B,I=new ge(l.f);I.a<I.c.c.length;)switch(P=T(pe(I),7),P.g.e){case 2:case 4:P.k=-1;break;case 1:case 3:x=P.b.c.length,O=P.e.c.length,x>0&&O>0?P.k=g++:x>0?P.k=b++:O>0?P.k=E++:P.k=b++}mh(l.f,new Ji)}function AAt(l,g,b,x){var E,O,P,I,B;b.d.f!=g.f&&(E=new bh(l),Wr(E,(zn(),va)),dt(E,(ht(),lr),b),dt(E,(Xt(),hr),(lo(),Xu)),x.c[x.c.length]=E,P=new mo,fa(P,E),ni(P,(Ut(),kn)),I=new mo,fa(I,E),ni(I,yn),B=b.d,Ea(b,P),O=new Uv,eb(O,b),dt(O,$o,null),uo(O,I),Ea(O,B),L6e(E,P,I))}function RAt(l){var g,b,x,E,O,P,I,B,q;for(P=k0,B=k0,I=null,b=new oK(new eg(l.e));b.b!=b.c.a.b;)if(g=dde(b),T(g.d,60).c==1&&(x=T(g.e,116).a,q=T(g.e,116).b,E=P-x>a2,O=x-P<a2&&B-q>a2,(E||O)&&(B=T(g.e,116).b,P=T(g.e,116).a,I=T(g.d,60),B==0&&P==0)))return I;return I}function iFe(l,g){var b,x,E,O,P,I;return O=l.d,I=T(_e(l,(Xt(),R0)),15).a,I<0&&(I=0,dt(l,R0,new li(I))),g.j.b=I,P=Math.floor(I/2),x=new mo,ni(x,(Ut(),kn)),fa(x,g),x.i.b=P,E=new mo,ni(E,yn),fa(E,g),E.i.b=P,Ea(l,x),b=new Uv,eb(b,l),dt(b,$o,null),uo(b,E),Ea(b,O),Nkt(g,l,b),aOt(l,b),b}function TAt(l){var g,b;b=T(_e(l,(Si(),Us)),85),g=T(_e(l,(ht(),I1)),140),b==(qc(),y2)?(dt(l,Us,g$),dt(l,I1,(Gv(),d$))):b==gb?(dt(l,Us,g$),dt(l,I1,(Gv(),$A))):g==(Gv(),d$)?(dt(l,Us,y2),dt(l,I1,vj)):g==$A&&(dt(l,Us,gb),dt(l,I1,vj))}function MAt(l){var g,b,x,E,O;for(x=new ge(KD(l.e));x.a<x.c.c.length;)b=T(pe(x),129),O=new se(b.e.i),E=Zde()[b.e.k],g=T(KO(l.c,E),283),O.b=g.e+g.a,E.b==(bK(),l2)?O.a=g.d:E.b==EA?O.a=g.d+(g.c-b.e.j.a)/2:E.b==c2&&(O.a=g.d+g.c-b.e.j.a),b.e.i.a=O.a,b.e.i.b=O.b,g.a+=b.e.j.b+l.d}function PAt(l){var g,b,x;for(b=new ge(e2(l));b.a<b.c.c.length;){switch(g=T(pe(b),161),x=new se(g.e.i),T(g.e,7).g.e){case 4:x.a=0,x.b=l.e.j.b/2;break;case 2:x.a=l.e.j.a,x.b=l.e.j.b/2;break;case 1:x.a=l.e.j.a/2,x.b=0;break;case 3:x.a=l.e.j.a/2,x.b=l.e.j.b}g.e.i.a=x.a,g.e.i.b=x.b}}function aFe(){this.c=Pt(tf,Vl,26,(Ut(),it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn])).length,12,1),this.b=Pt(tf,Vl,26,it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn]).length,12,1),this.a=Pt(tf,Vl,26,it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn]).length,12,1),DO(this.c,Gl),DO(this.b,pu),DO(this.a,pu)}function oFe(l,g,b){var x,E,O,P,I,B,q,K;for(O=Lt(ci(l.b.mb().H())),q=Lt(ci(QLe(g.b))),x=dh(fs(l.a),q-b),E=dh(fs(g.a),b-O),K=ra(x,E),dh(K,1/(q-O)),this.a=K,this.b=new Pe,I=!0,P=l.b.mb(),P.H();P.G();)B=Lt(ci(P.H())),I&&B-b>Nx&&(this.b.ib(b),I=!1),this.b.ib(B);I&&this.b.ib(b)}function LAt(l){var g,b,x,E;if(uRt(l,l.n),l.d.c.length>0){for(Cw(l.c);$he(l,T(pe(new ge(l.e.a)),61))<l.e.a.c.length;){for(g=Vkt(l),E=g.d.e-g.c.e-g.a,g.d.j&&(E=-E),x=new ge(l.e.a);x.a<x.c.c.length;)b=T(pe(x),61),b.j&&(b.e+=E);Cw(l.c)}Cw(l.c),bhe(l,T(pe(new ge(l.e.a)),61)),qFe(l)}}function DAt(l,g){var b,x,E,O,P,I,B;for(b=pu,I=(zn(),co),E=new ge(g.a);E.a<E.c.c.length;)x=T(pe(E),9),O=x.g,O!=co&&(P=ci(_e(x,(ht(),Y0e))),P==null?(b=b>0?b:0,x.i.b=b+$D(l.a,O,I)):x.i.b=(hs(P),P)),B=$D(l.a,O,I),x.i.b<b+B+x.e.d&&(x.i.b=b+B+x.e.d),b=x.i.b+x.j.b+x.e.a,I=O}function sFe(l,g,b){var x,E,O;for(b.db(g,l),tn(l.g,g),O=l.o.d.Lc(g),KL(l.k)?l.k=O:l.k=Ri(l.k,O),KL(l.a)?l.a=O:l.a=rn(l.a,O),g.g==l.o.d.Mc()?cIe(l.j,O):cIe(l.n,O),E=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[new Ur(g),new Er(g)]))))));Br(E);)x=T(Ar(E),7),b.R(x)||sFe(l,x,b)}function IAt(l){var g,b,x,E,O;for(x=(Gi(),l.length),E=x>0&&(l.charCodeAt(0)==45||l.charCodeAt(0)==43)?1:0,g=E;g<x;g++)if(O$t(l.charCodeAt(g))==-1)throw new kw(OX+l+'"');if(O=parseInt(l,10),b=O<A1,isNaN(O))throw new kw(OX+l+'"');if(b||O>Bs)throw new kw(OX+l+'"');return O}function FAt(l,g,b,x){var E,O,P,I;for(E=T(jo(g,(Ut(),kn)).mb().H(),7),O=T(jo(g,yn).mb().H(),7),I=new ge(l.f);I.a<I.c.c.length;){for(P=T(pe(I),7);P.b.c.length!=0;)Ea(T(_t(P.b,0),12),E);for(;P.e.c.length!=0;)uo(T(_t(P.e,0),12),O)}b||dt(g,(ht(),_c),null),x||dt(g,(ht(),Yl),null)}function NAt(l){var g,b,x,E,O,P,I;for(I=new sLe,P=new ge(l.b);P.a<P.c.c.length;)if(O=T(pe(P),9),O.g!=(zn(),Ta)){for(YOt(I,O,new is),E=Jr(Ca(O));Br(E);)if(x=T(Ar(E),12),!(x.c.f.g==Ta||x.d.f.g==Ta))for(b=ta(x.a,0);b.b!=b.d.c;)g=T(Fi(b),10),P4(I,new y0(g.a,g.b))}return I}function iI(l,g,b,x){var E,O,P;if(this.e=new ns,this.a=l,this.b=g,l.b<g.b?(this.j=l.a,this.k=l.b,this.n=g.b):(this.j=g.a,this.k=g.b,this.n=l.b),E=T(_e(x,(Xt(),$o)),44),E)for(P=ta(E,0);P.b!=P.d.c;)O=T(Fi(P),10),gde(O.a,l.a)&&Vi(this.e,O);this.g=b,this.g&&(this.i=this.j-b.j.d),this.f=x}function Px(l){Tf();var g,b,x,E,O,P;for(P=new Bl,UD(P,l),b=(O=new wi(P.a).a.bb().mb(),new _i(O));b.a.G();)g=(x=T(b.a.H(),21),x.yb()),mr(g);switch(P.a.Y()){case 0:return YO(),K4;case 1:return new Cu((E=new wi(P.a).a.bb().mb(),x=T(new _i(E).a.H(),21),x.yb()));default:return new b0(P)}}function $z(l,g,b,x){var E,O,P;yh(l,b,"x",g.i.a+x.a),yh(l,b,"y",g.i.b+x.b),yh(l,b,DX,g.j.a),yh(l,b,IX,g.j.b),Zt(g,9)&&T(_e(g,(Xt(),AI)),86).kb((oA(),mZ))&&(E=T(g,9).b,P=Ka(b,FX),P||(P=new g0,Md(b,FX,P)),O=P.kc(),yh(l,O,"left",E.b),yh(l,O,"top",E.d),yh(l,O,"right",E.c),yh(l,O,Sge,E.a))}function uFe(l,g){var b,x,E,O,P,I,B,q,K,J;for(P=g==1?SZ:xZ,O=(B=new wi(P.a).a.bb().mb(),new _i(B));O.a.G();)for(E=(I=T(O.a.H(),21),T(I.yb(),59)),K=T(Ld(l.f.c,E),18).mb();K.G();)switch(q=T(K.H(),27),x=T(q.b,25),J=T(q.a,78),b=J.c,E.e){case 2:case 1:x.j.e+=b;break;case 4:case 3:x.j.d+=b}}function zAt(l,g){var b,x,E;g.a?(Ffe(l.b,g.b),l.a[g.b.k]=T(pY(l.b,g.b),25),b=T(gY(l.b,g.b),25),b&&(l.a[b.k]=g.b)):(x=T(pY(l.b,g.b),25),x&&x==l.a[g.b.k]&&x.f&&x.f!=g.b.f&&x.i.ib(g.b),E=T(gY(l.b,g.b),25),E&&l.a[E.k]==g.b&&E.f&&E.f!=g.b.f&&g.b.i.ib(E),wY(l.b,g.b))}function jAt(l,g){var b,x,E,O,P,I,B;for(E=new Pe,b=0;b<=l.i;b++)x=new yx(g),x.k=l.i-b,E.c[E.c.length]=x;for(I=new ge(l.o);I.a<I.c.c.length;)P=T(pe(I),9),fu(P,T(_t(E,l.i-l.f[P.k]),16));for(O=new ge(E);O.a<O.c.c.length;)B=T(pe(O),16),B.a.c.length==0&&E4(O);g.c.c=Pt(Ln,cn,1,0,4,1),Na(g.c,E)}function BAt(l){var g,b,x,E;for(l.a.a.c=Pt(Ln,cn,1,0,4,1),x=new ge(l.a.b);x.a<x.c.c.length;)g=T(pe(x),25),g.f=null;for(E=new ge(l.a.b);E.a<E.c.c.length;)g=T(pe(E),25),!g.o&&tn(l.a.a,new fz(it(nt(Qz,1),cn,25,0,[g])));for(b=new ge(l.a.b);b.a<b.c.c.length;)g=T(pe(b),25),g.o&&rz(g.o.f,g)}function aI(l,g){var b,x,E,O;for(l=(Gi(),l??O1),b=(l.length+16*g.length,new oC),O=0,x=0;x<g.length&&(E=l.indexOf("%s",O),E!=-1);)yLe(b,l,O,E),Kt(b,g[x++]),O=E+2;if(gfe(b,l,O,l.length),x<g.length){for(b.a+=" [",Kt(b,g[x++]);x<g.length;)b.a+=", ",Kt(b,g[x++]);b.a+="]"}return b.a}function lFe(l,g,b,x){var E,O;if(g){if(E=l.a.$b(b.d,g.d),E==0)return x.d=kD(g,b.e),x.b=!0,g;O=E<0?0:1,g.a[O]=lFe(l,g.a[O],b,x),ag(g.a[O])&&(ag(g.a[1-O])?(g.b=!0,g.a[0].b=!1,g.a[1].b=!1):ag(g.a[O].a[O])?g=tz(g,1-O):ag(g.a[O].a[1-O])&&(g=XPe(g,1-O)))}else return b;return g}function HAt(l,g){var b,x,E,O,P,I,B,q,K,J;for(B=Dv(g.a),I=No(SC(B/l.a)),J=g.a,P=0,q=I,O=0;O<l.a;++O)K=(Gi(),J.substr((0>P?0:P)<B?0>P?0:P:B,(0>(q<B?q:B)?0:q<B?q:B)-((0>P?0:P)<B?0>P?0:P:B))),P=q,q+=I,x=T(_t(l.c,O),9),b=new Z7(K),b.j.b=g.j.b,wr(l.b,g,b),tn(x.c,b);Ks(l.g.c,g),tn(l.i,(E=new aD(l,g),E))}function cFe(l,g,b){var x,E,O,P,I,B,q,K,J;for(g.k=1,O=g.d,J=Yv(g,(gs(),Zu)).mb();J.G();)for(K=T(J.H(),7),E=new ge(K.e);E.a<E.c.c.length;)x=T(pe(E),12),q=x.d.f,g!=q&&(P=q.d,P.k<=O.k&&(I=O.k+1,I==b.c.c.length?(B=new yx(b),B.k=I,tn(b.c,B),fu(q,B)):(B=T(_t(b.c,I),16),fu(q,B)),cFe(l,q,b)))}function UAt(l){var g,b,x,E,O;for(g=l.e.j,x=new ge(e2(l));x.a<x.c.c.length;){switch(b=T(pe(x),161),E=T(Yo(b,(Xt(),Bx)),15),!E&&(E=new li(0)),O=new se(b.e.i),T(b.e,7).g.e){case 4:O.a=-b.e.j.a-E.a;break;case 2:O.a=g.a+E.a;break;case 1:O.b=-b.e.j.b-E.a;break;case 3:O.b=g.b+E.a}b.e.i.a=O.a,b.e.i.b=O.b}}function VAt(l){var g,b,x;x=T(_e(l,(Xt(),Df)),18),!x.V()&&(b=(g=T(Eu(za),11),new $u(g,T(hc(g,g.length),11),0)),x.kb((rb(),ql))?_l(b,ql):_l(b,Jc),x.kb(Zc)||_l(b,Zc),x.kb(Xc)?_l(b,od):x.kb(xh)?_l(b,ad):x.kb(Qc)&&_l(b,id),x.kb(od)?_l(b,Xc):x.kb(ad)?_l(b,xh):x.kb(id)&&_l(b,Qc),dt(l,Df,b))}function fFe(l,g,b,x,E){var O,P,I,B,q,K,J,ie,ce,fe;for(ie=dIe(l,b),B=0;B<g;B++){for(E.J(b),ce=new Pe,fe=T(x.H(),92),K=ie+B;K<l.c;K++)I=fe,fe=T(x.H(),92),tn(ce,new oFe(I,fe,b));for(J=ie+B;J<l.c;J++)x.M(),J>ie+B&&x.I();for(P=new ge(ce);P.a<P.c.c.length;)O=T(pe(P),92),x.J(O);if(B<g-1)for(q=ie+B;q<l.c;q++)x.M()}}function WAt(l){var g,b,x,E;if(l.d&&T(l.e,7).f.g==(zn(),Bo))return ea(),ea(),b2;if(!l.a){for(l.a=new Pe,x=new ge(T(l.e,7).b);x.a<x.c.c.length;)g=T(pe(x),12),tn(l.a,new Hr(g));if(l.d&&(E=T(_e(T(l.e,7),(ht(),rm)),9),E))for(b=Jr(Qs(E));Br(b);)g=T(Ar(b),12),tn(l.a,new Hr(g))}return l.a}function GAt(l){var g,b,x,E;if(l.d&&T(l.e,7).f.g==(zn(),Bo))return ea(),ea(),b2;if(!l.c){for(l.c=new Pe,x=new ge(T(l.e,7).e);x.a<x.c.c.length;)g=T(pe(x),12),tn(l.c,new Hr(g));if(l.d&&(E=T(_e(T(l.e,7),(ht(),rm)),9),E))for(b=Jr(Ca(E));Br(b);)g=T(Ar(b),12),tn(l.c,new Hr(g))}return l.c}function qAt(l,g){var b,x,E,O,P,I,B,q;for(I=T(_e(l,(ht(),lr)),7),B=da(it(nt(Ci,1),Ei,10,0,[I.f.i,I.i,I.a])).a,q=l.f.i.b,b=T(Eo(l.b,Pt(ef,Yc,12,l.b.c.length,0,1)),47),E=0,O=b.length;E<O;++E)x=b[E],Ea(x,I),bO(x.a,new Gn(B,q)),g&&(P=T(_e(x,(Xt(),$o)),44),P||(P=new ns,dt(x,$o,P)),Vi(P,new Gn(B,q)))}function YAt(l,g){var b,x,E,O,P,I,B,q;for(E=T(_e(l,(ht(),lr)),7),B=da(it(nt(Ci,1),Ei,10,0,[E.f.i,E.i,E.a])).a,q=l.f.i.b,b=T(Eo(l.e,Pt(ef,Yc,12,l.e.c.length,0,1)),47),P=0,I=b.length;P<I;++P)O=b[P],uo(O,E),yO(O.a,new Gn(B,q)),g&&(x=T(_e(O,(Xt(),$o)),44),x||(x=new ns,dt(O,$o,x)),Vi(x,new Gn(B,q)))}function KAt(l){var g,b,x,E,O,P,I,B,q;for(P=k0,B=k0,I=null,b=new oK(new eg(l.e));b.b!=b.c.a.b;)if(g=dde(b),(he(g.d)===he((Ul(),L0))||he(g.d)===he(g2))&&(x=T(g.e,116).a,q=T(g.e,116).b,E=P-x>a2,O=x-P<a2&&B-q>a2,(E||O)&&(B=T(g.e,116).b,P=T(g.e,116).a,I=T(g.d,60),B==0&&P==0)))return I;return I}function XAt(l,g){var b,x,E,O,P;l.d=g,yg(l.b),l.c=!1;e:for(x=new ge(l.d.c);x.a<x.c.c.length;)for(b=T(pe(x),16),O=new ge(b.a);O.a<O.c.c.length;)if(E=T(pe(O),9),!PD(JD(E))){l.c=!0;break e}return P=Ii((vo(),hp),it(nt(wI,1),on,59,0,[Id,Kc])),l.c||(_l(P,P1),_l(P,Jv)),l.a=new Ife(P),zTt(l),l.a}function dFe(){var l,g,b,x,E;for(this.e=(hi(),new O4),this.b=(b=T(Eu(tM),11),new $u(b,T(hc(b,b.length),11),0)),this.c=(x=T(Eu(tM),11),new $u(x,T(hc(x,x.length),11),0)),this.a=(E=T(Eu(tM),11),new $u(E,T(hc(E,E.length),11),0)),g=(Ul(),Ul(),A9e).mb();g.G();)l=T(g.H(),60),YD(this.e,l,new aC)}function ZAt(l,g,b){var x,E,O,P,I,B;_s(l.k-l.a)<ab||_s(g.k-g.a)<ab||(x=G6e(l.n,g.j,b),E=G6e(g.n,l.j,b),O=HK(l.n,g.k,g.a)+HK(g.j,l.k,l.a),P=HK(g.n,l.k,l.a)+HK(l.j,g.k,g.a),I=16*x+O,B=16*E+P,I<B?new ez(l,g,B-I):I>B?new ez(g,l,I-B):I>0&&B>0&&(new ez(l,g,0),new ez(g,l,0)))}function Lx(l,g){var b,x,E,O,P,I,B,q,K;for(q=new Pe,K=null,x=T(KO(qx,l),20).mb();x.G();){for(b=T(x.H(),75),B=(O=new wi(b.c.a).a.bb().mb(),new _i(O));B.a.G();)P=(E=T(B.a.H(),21),T(E.yb(),7)),Nv(g,P),Ez(P,l.b);Na(q,b.b),K=l.a}for(_z(q),$K(q,K),I=new ge(q);I.a<I.c.c.length;)P=T(pe(I),7),Nv(g,P)}function QAt(){var l={layout:function(g){kj(B3t(g))}};typeof document!==hI&&(t.$klay=l),e.exports&&(e.exports=l),typeof document===hI&&typeof self!==hI&&self.addEventListener("message",function(g){l.layout(g.data)},!1)}function oI(l,g,b,x,E){var O,P,I;I=E?x.b:x.a,(I>b.k&&I<b.a||b.j.b!=0&&b.n.b!=0&&(_s(I-Lt(ci(_D(b.j))))<ab&&_s(I-Lt(ci(_D(b.n))))<ab||_s(I-Lt(ci(zO(b.j))))<ab&&_s(I-Lt(ci(zO(b.n))))<ab))&&(og(l.b,x)||(P=T(_e(g,(Xt(),$o)),44),P||(P=new ns,dt(g,$o,P)),O=new se(x),zs(P,O,P.c.b,P.c),ma(l.b,O)))}function JAt(l,g,b){var x,E,O,P,I,B,q,K,J;for(x=b.c,E=b.d,I=vc(g.c),B=vc(g.d),x==g.c?(I=She(l,I,E),B=u6e(g.d)):(I=u6e(g.c),B=She(l,B,E)),q=new Ad(g.a),zs(q,I,q.a,q.a.a),zs(q,B,q.c.b,q.c),P=g.c==x,J=new bw,O=0;O<q.b-1;++O)K=new Po(T(L4(q,O),10),T(L4(q,O+1),10)),P&&O==0||!P&&O==q.b-2?J.b=K:tn(J.a,K);return J}function eRt(l,g){var b,x,E,O;if(O=l.g.e-g.g.e,O!=0)return O;if(b=T(_e(l,(Xt(),sb)),24),x=T(_e(g,sb),24),b&&x&&(E=b.a-x.a,E!=0))return E;switch(l.g.e){case 1:return js(l.i.a,g.i.a);case 2:return js(l.i.b,g.i.b);case 3:return js(g.i.a,l.i.a);case 4:return js(g.i.b,l.i.b);default:throw new Vc(INe)}}function tRt(l,g){var b,x,E,O,P;for(P=new is,O=new ge(e2(l));O.a<O.c.c.length;)switch(E=T(pe(O),161),T(E.e,7).g.e){case 4:case 2:P.b=rn(P.b,E.e.i.b+E.e.j.b+(g?(x=T(E.e,7).d,new pg(x.d,x.b,x.a,x.c)).a:0));break;case 1:case 3:P.a=rn(P.a,E.e.i.a+E.e.j.a+(g?(b=T(E.e,7).d,new pg(b.d,b.b,b.a,b.c)).c:0))}return P}function bX(l,g){var b,x,E,O,P,I,B;for(E=new Pe,B=new Pe,b=T(KO(qx,l),20).mb();b.G();)x=T(b.H(),75),kIe(E,x.b),kIe(E,yIe(x)),b.G()&&(x=T(b.H(),75),Na(B,yIe(x)),Na(B,x.b));for($K(E,l.b),$K(B,l.a),I=new ge(E);I.a<I.c.c.length;)O=T(pe(I),7),Nv(g,O);for(P=new ge(B);P.a<P.c.c.length;)O=T(pe(P),7),Nv(g,O)}function Es(){Es=r,sQ=new w0("COMMENTS",0),I0=new w0("EXTERNAL_PORTS",1),gj=new w0("HYPEREDGES",2),uQ=new w0("HYPERNODES",3),c$=new w0("NON_FREE_PORTS",4),f$=new w0("NORTH_SOUTH_PORTS",5),pj=new w0("SELF_LOOPS",6),nM=new w0("CENTER_LABELS",7),rM=new w0("END_LABELS",8),T0e=new w0("PARTITIONS",9)}function nRt(l,g){var b,x,E,O;for(l=(Gi(),l??O1),b=(l.length+16*g.length,new oC),O=0,x=0;x<g.length&&(E=l.indexOf("%s",O),E!=-1);)pn(b,l.substr(O,E-O)),Kt(b,g[x++]),O=E+2;if(pn(b,PC(l,O,l.length-O)),x<g.length){for(b.a+=" [",Kt(b,g[x++]);x<g.length;)b.a+=", ",Kt(b,g[x++]);b.a+="]"}return b.a}function Ihe(l,g,b){var x,E;switch(E=null,g.e){case 1:E=(td(),Ope);break;case 2:E=(td(),Ape)}switch(x=null,b.e){case 1:x=(td(),$Z);break;case 2:x=(td(),CZ);break;case 3:x=(td(),kZ);break;case 4:x=(td(),OZ)}return E&&x?gh(l.f,(yC(),new rt(new zl(it(nt(VTt,1),cn,68,0,[T(mr(E),68),T(mr(x),68)]))))):(ea(),ea(),b2)}function Fhe(l,g,b){var x,E,O,P,I,B,q;for(B=Hl(Ca(g)),E=ta(B,0);E.b!=E.d.c;)x=T(Fi(E),12),q=x.d.f,!(zr(Lt(Qr(_e(q,(ht(),m2)))))&&_e(q,lr)!=null)&&q.g==(zn(),wc)&&!zr(Lt(Qr(_e(x,F1))))&&x.d.g==(Ut(),kn)&&(O=pl(q.d)-pl(g.d),O>1&&(b?P=pl(g.d)+1:P=pl(q.d)-1,I=T(_t(l.a.c,P),16),fu(q,I)),Fhe(l,q,b));return g}function hFe(l,g){var b,x,E,O;for(g.d?E=l.a.c==(lp(),d2)?Qs(g.b):Ca(g.b):E=l.a.c==(lp(),tm)?Qs(g.b):Ca(g.b),O=!1,x=(Ha(),new Xf(dg(op(E.a,new h))));Br(x);)if(b=T(Ar(x),12),l.c.a[b.c.f.d.k]!==l.c.a[b.d.f.d.k]&&(O=!0,og(l.b,l.a.f[Pkt(b,g.b).k])))return g.c=!0,g.a=b,g;return g.c=O,g.a=null,g}function rRt(l,g,b){var x,E,O,P;for(x=T(_e(l.d,(Xt(),rpe)),15).a,O=new ge(l.a.b);O.a<O.c.c.length;)if(E=T(pe(O),25),Zt(E,93)&&(P=T(E,93).b,P.g==(zn(),Ta)))switch(T(_e(P,(ht(),vu)),32).e){case 4:P.i.a=g.a-x;break;case 2:P.i.a=b.a+x-(P.j.a+P.e.c);break;case 1:P.i.b=g.b-x;break;case 3:P.i.b=b.b+x-(P.j.b+P.e.a)}}function iRt(){if(!Object.create||!Object.getOwnPropertyNames)return!1;var l="__proto__",g=Object.create(null);if(g[l]!==void 0)return!1;var b=Object.getOwnPropertyNames(g);return!(b.length!=0||(g[l]=42,g[l]!==42)||Object.getOwnPropertyNames(g).length==0)}function gFe(l){var g,b,x,E,O,P,I,B,q;for(P=new ge(l.a.a);P.a<P.c.c.length;)E=T(pe(P),78),E.f=0,E.e.a.Q();for(O=new ge(l.a.a);O.a<O.c.c.length;)for(E=T(pe(O),78),b=(q=new wi(E.a.a).a.bb().mb(),new _i(q));b.a.G();)for(g=(x=T(b.a.H(),21),T(x.yb(),25)),B=g.i.mb();B.G();)I=T(B.H(),25),I.f!=E&&(ma(E.e,I),++I.f.f)}function Nhe(l,g,b,x){var E,O,P,I;if(g.g==(zn(),wc)){for(O=Jr(Qs(g));Br(O);)if(E=T(Ar(O),12),P=E.c.f,(P.g==wc||zr(Lt(Qr(_e(P,(ht(),m2))))))&&l.d.a[E.c.f.d.k]==x&&l.d.a[g.d.k]==b)return!0}if(g.g==va){for(O=Jr(Qs(g));Br(O);)if(E=T(Ar(O),12),I=E.c.f.g,I==va&&l.d.a[E.c.f.d.k]==x&&l.d.a[g.d.k]==b)return!0}return!1}function aRt(l){var g,b,x,E,O,P;if(E=l.g.tb(),x=l.b.tb(),l.e)for(b=0;b<l.c;b++)E.H();else for(b=0;b<l.c-1;b++)E.H(),E.I();for(g=Lt(ci(E.H()));l.i-g>Nx;){for(O=g,P=0;(g-O<=0?0-(g-O):g-O)<Nx;)++P,g=Lt(ci(E.H())),x.H();P<l.c&&(E.M(),fFe(l,l.c-P,O,x,E),E.H()),x.M()}if(!l.e)for(b=0;b<l.c-1;b++)E.H(),E.I();l.e=!0,l.d=!0}function oRt(l){var g,b,x,E;switch(Lr(l.a).c){case 4:return Ul(),D0;case 3:return T(IEt(l.a).mb().H(),60);case 2:return x=Lr(l.a),b=new Kf(x),g=T(xx(b),60),E=T(xx(b),60),rI(g)==E?gg(x,(Ul(),D0))?cb:D0:Cz(Cz(g))==E?Cz(g):Dhe(g);case 1:return x=Lr(l.a),rI(T(xx(new Kf(x)),60));case 0:return Ul(),fb;default:return null}}function pFe(l,g){var b;ode.call(this),this.a=T(_e(g,(ht(),xc)),15).a,this.c=this.a*T(_e(g,(Si(),lM)),15).a,this.b=l,this.j=new vh(l.i.a-l.e.b,l.i.b-l.e.d,l.j.a+l.e.b+l.e.c,l.j.b+l.e.d+l.e.a),lg(this.g),b=NC(Qs(l))-NC(Ca(l)),b<0?VD(this.n,!0,(vo(),Id)):b>0&&VD(this.n,!0,(vo(),Kc)),l.g==(zn(),Ta)&&Mf(this.n,!1,!1,!1,!1)}function sI(l,g,b){var x,E,O,P,I,B,q,K,J,ie;for(O=new Gn(g,b),K=new ge(l.b);K.a<K.c.c.length;)for(q=T(pe(K),9),ra(q.i,O),ie=new ge(q.f);ie.a<ie.c.c.length;)for(J=T(pe(ie),7),E=new ge(J.e);E.a<E.c.c.length;)for(x=T(pe(E),12),Kw(x.a,O),P=T(_e(x,(Xt(),$o)),44),P&&Kw(P,O),B=new ge(x.b);B.a<B.c.c.length;)I=T(pe(B),33),ra(I.i,O)}function sRt(l,g,b){var x,E,O,P,I,B,q,K,J,ie;for(O=new Gn(g,b),K=new ge(l.b);K.a<K.c.c.length;)for(q=T(pe(K),9),ra(q.i,O),ie=new ge(q.f);ie.a<ie.c.c.length;)for(J=T(pe(ie),7),E=new ge(J.e);E.a<E.c.c.length;)for(x=T(pe(E),12),Kw(x.a,O),P=T(_e(x,(Xt(),$o)),44),P&&Kw(P,O),B=new ge(x.b);B.a<B.c.c.length;)I=T(pe(B),33),ra(I.i,O)}function vFe(l,g){var b,x,E,O,P;for(P=new ge(l.f);P.a<P.c.c.length;)if(O=T(pe(P),7),g){if(O.b.c.length!=0)throw new JE((E=Y9(l),kge+(E??sC(l.k))+jNe+BNe+Oge))}else for(x=new ge(O.b);x.a<x.c.c.length;)if(b=T(pe(x),12),he(_e(b.c.f,(Si(),Us)))!==he((qc(),y2)))throw new JE((E=Y9(l),kge+(E??sC(l.k))+jNe+BNe+Oge))}function mFe(l,g,b){var x,E,O,P,I,B,q;for(x=0,q=jo(g,b),B=q.mb();B.G();)I=T(B.H(),7),T(_e(I,(ht(),rm)),9)&&(P=T(_e(I,rm),9),jo(P,(Ut(),yn)).mb().G()&&(x+=(O=l.k?1:jv(T(_t(P.f,0),7)),O*ig(KDe(l,g,b).a-1-T(Ki(l.i,I),24).a,FDe(l,g,P)))),jo(P,kn).mb().G()&&(x+=(E=l.k?1:jv(T(_t(P.f,0),7)),E*ig(T(Ki(l.i,I),24).a,FDe(l,g,P)))));return x}function uRt(l,g){var b,x,E,O,P,I,B;for(E=Pt(ko,Co,26,l.e.a.c.length,12,1),P=new ge(l.e.a);P.a<P.c.c.length;)O=T(pe(P),61),E[O.b]+=O.c.c.length;for(I=Hl(g);I.b!=0;)for(O=T(I.b==0?null:(Jn(I.b!=0),E1(I,I.a.a)),61),x=new ge(O.g);x.a<x.c.c.length;)b=T(pe(x),89),B=b.d,B.e=Is(B.e,O.e+b.a),--E[B.b],E[B.b]==0&&zs(I,B,I.c.b,I.c)}function yFe(l,g,b,x,E,O,P){if(l.d=x.e.i.a,l.e=x.e.i.b,E&&(l.d+=E.e.i.a,l.e+=E.e.i.b),l.c=g.e.j.a,l.b=g.e.j.b,!E)b?l.d-=P+g.e.j.a:l.d+=x.e.j.a+P;else switch(T(E.e,7).g.e){case 0:case 2:l.d+=E.e.j.a+P+O.a+P;break;case 4:l.d-=P+O.a+P+g.e.j.a;break;case 1:l.d+=E.e.j.a+P,l.e-=P+O.b+P+g.e.j.b;break;case 3:l.d+=E.e.j.a+P,l.e+=E.e.j.b+P+O.b+P}}function lRt(l,g){var b,x,E,O,P,I,B,q,K;for(E=new Pe,B=new ge(g);B.a<B.c.c.length;)O=T(pe(B),9),tn(E,l.b[O.d.k][O.k]);for(QRt(l,E);K=V3t(E);)zRt(l,T(K.a,102),T(K.b,102),E);for(g.c=Pt(Ln,cn,1,0,4,1),x=new ge(E);x.a<x.c.c.length;)for(b=T(pe(x),102),P=b.d,I=0,q=P.length;I<q;++I)O=P[I],g.c[g.c.length]=O,l.a[O.d.k][O.k].a=Rf(b.g,b.d[0]).a}function wX(l){var g,b,x,E,O,P,I;for(I=(hi(),new Rt),x=new ge(l.a.b);x.a<x.c.c.length;)g=T(pe(x),25),ca(I,g,new Pe);for(E=new ge(l.a.b);E.a<E.c.c.length;)for(g=T(pe(E),25),g.r=pu,P=g.i.mb();P.G();)O=T(P.H(),25),T(Fe(bl(I.d,O)),20).ib(g);for(b=new ge(l.a.b);b.a<b.c.c.length;)g=T(pe(b),25),g.i.Q(),g.i=T(Fe(bl(I.d,g)),20);gFe(l)}function cRt(l){var g,b,x,E,O;switch(E=T(_t(l.b,0),9),g=new bh(l),tn(l.b,g),g.j.a=rn(1,E.j.a),g.j.b=rn(1,E.j.b),g.i.a=E.i.a,g.i.b=E.i.b,T(_e(E,(ht(),vu)),32).e){case 4:g.i.a+=2;break;case 1:g.i.b+=2;break;case 2:g.i.a-=2;break;case 3:g.i.b-=2}return x=new mo,fa(x,g),b=new Uv,O=T(_t(E.f,0),7),uo(b,O),Ea(b,x),ra(lg(x.i),O.i),ra(lg(x.a),O.a),g}function fRt(l){var g,b,x,E,O,P,I,B,q;for(q=(hi(),new Rt),g=0,b=new ng,I=l.mb();I.G();)O=T(I.H(),9),B=ux(Rw(Tw(new Ed,g++),O),b),Lf(q.d,O,B);for(P=l.mb();P.G();)for(O=T(P.H(),9),E=Jr(Ca(O));Br(E);)x=T(Ar(E),12),!Sx(x)&&sA(l1(Of(jl(p0(new oc,Is(1,T(_e(x,(ht(),Ch)),24).a)),1),T(Ki(q,x.c.f),61)),T(Ki(q,x.d.f),61)));return b}function dRt(l){var g,b;if(!l.V()){for(b=T(l.sb(0),75).f,new Hhe(l),g=new pa(b.f,0),Ox((Ul(),vp),g),Ax(Yx,g),GD((Ut(),Hn),g),bX(nm,g),Ax(db,g),Lx(h2,g),Ox(L0,g),GD(yn,g),bX(cb,g),Ox(g2,g),Lx(fb,g),Ox(db,g),GD(ur,g),bX(D0,g),Ox(Yx,g),Lx(v2,g),Ax(g2,g);g.b<g.d.Y();)Jn(g.b<g.d.Y()),g.d.sb(g.c=g.b++);bX(p2,g),Ax(L0,g),Ax(vp,g)}}function hRt(l){var g,b;if(!l.V()){for(b=T(l.sb(0),75).f,new Hhe(l),g=new pa(b.f,0),Ox((Ul(),vp),g),Ax(Yx,g),GD((Ut(),Hn),g),Lx(nm,g),Ax(db,g),Lx(h2,g),Ox(L0,g),GD(yn,g),Lx(cb,g),Ox(g2,g),Lx(fb,g),Ox(db,g),GD(ur,g),Lx(D0,g),Ox(Yx,g),Lx(v2,g),Ax(g2,g);g.b<g.d.Y();)Jn(g.b<g.d.Y()),g.d.sb(g.c=g.b++);Lx(p2,g),Ax(L0,g),Ax(vp,g)}}function bFe(l){var g,b,x,E,O,P,I,B,q;for(E=A1,P=Bs,q=new ge(l.e.a);q.a<q.c.c.length;)I=T(pe(q),61),P=ig(P,I.e),E=Is(E,I.e);for(O=0,x=Pt(ko,Co,26,E-P+1,12,1),B=new ge(l.e.a);B.a<B.c.c.length;)I=T(pe(B),61),I.e-=P,++x[I.e];if(l.k)for(b=new ge(l.k.c);b.a<b.c.c.length&&(g=T(pe(b),16),x[O++]+=g.a.c.length,x.length!=O););return x}function gRt(l){var g,b,x,E;for(GCt(l),tOt(l),E=new Gn(Gl,Gl),g=new Gn(pu,pu),x=new ge(l.a.b);x.a<x.c.c.length;)b=T(pe(x),25),E.a=Ri(E.a,b.j.d),E.b=Ri(E.b,b.j.e),g.a=rn(g.a,b.j.d+b.j.c),g.b=rn(g.b,b.j.e+b.j.b);ra(lg(l.d.d),wD(new Gn(E.a,E.b))),ra(lg(l.d.e),Fv(new Gn(g.a,g.b),E)),rRt(l,E,g),l.a.a.c=Pt(Ln,cn,1,0,4,1),l.a.b.c=Pt(Ln,cn,1,0,4,1)}function pRt(l,g){var b,x,E,O,P,I,B,q,K,J;if(P=l.e,K=T(_e(l,(ht(),sM)),20),J=0,K){for(B=0,O=K.mb();O.G();)E=T(O.H(),9),B=rn(B,E.j.b),J+=E.j.a;J+=g/2*(K.Y()-1),P.d+=B+g}if(b=T(_e(l,iM),20),x=0,b){for(B=0,O=b.mb();O.G();)E=T(O.H(),9),B=rn(B,E.j.b),x+=E.j.a;x+=g/2*(b.Y()-1),P.a+=B+g}I=J>x?J:x,I>l.j.a&&(q=(I-l.j.a)/2,P.b=rn(P.b,q),P.c=rn(P.c,q))}function wFe(l,g,b,x){var E,O,P,I,B,q,K,J,ie,ce;for(P=Wc(g.d,b,x),J=new ge(g.b);J.a<J.c.c.length;){for(K=T(pe(J),9),ra(K.i,P),ce=new ge(K.f);ce.a<ce.c.c.length;)for(ie=T(pe(ce),7),O=new ge(ie.e);O.a<O.c.c.length;)for(E=T(pe(O),12),Kw(E.a,P),I=T(_e(E,(Xt(),$o)),44),I&&Kw(I,P),q=new ge(E.b);q.a<q.c.c.length;)B=T(pe(q),33),ra(B.i,P);tn(l.b,K),K.a=l}}function vRt(l,g){var b,x,E,O,P;for(l.c==null||l.c.length<g.c.length?l.c=Pt(XI,vI,26,g.c.length,13,1):Cw(l.c),l.a=new Pe,x=0,P=new ge(g);P.a<P.c.c.length;)E=T(pe(P),9),E.k=x++;for(b=new Ds,O=new ge(g);O.a<O.c.c.length;)E=T(pe(O),9),l.c[E.k]||(P6e(l,E),b.b==0||(Jn(b.b!=0),T(b.a.a.c,20)).Y()<l.a.c.length?yO(b,l.a):bO(b,l.a),l.a=new Pe);return b}function mRt(l,g,b){var x,E,O,P,I,B,q,K,J;return x=D4(l.g),q=ra(fs(l.i),l.a),K=ra(fs(g.i),g.a),E=ra(new se(q),dh(new mx(x),b)),J=ra(new se(K),dh(new mx(x),b)),P=dh(Fv(new se(E),J),.5),B=ra(ra(new se(J),P),dh(new mx(x),PO(P.a*P.a+P.b*P.b))),I=new sK(it(nt(Ci,1),Ei,10,0,[q,E,B,J,K])),O=YC(I,.5,!1),I.a=O,hl(I,new uX(it(nt(Ci,1),Ei,10,0,[O,q,K]))),I}function zhe(l,g){var b,x,E,O,P;if(ai(g,"Network simplex",1),l.e.a.c.length<1){jr(g);return}for(O=new ge(l.e.a);O.a<O.c.c.length;)E=T(pe(O),61),E.e=0;for(P=l.e.a.c.length>=40,P&&MRt(l),u3t(l),LAt(l),b=KIe(l),x=0;b&&x<l.f;)yRt(l,b,JOt(l,b)),b=KIe(l),++x;P&&hOt(l),l.a?ZOt(l,bFe(l)):bFe(l),l.b=null,l.d=null,l.p=null,l.c=null,l.g=null,l.i=null,l.n=null,l.o=null,jr(g)}function uA(l){var g,b,x,E,O,P,I,B,q,K;for(q=new Aa,E=(hi(),new Rt),I=0,B=l.length;I<B;++I)P=l[I],g=P.mc(),q.a.db(g,q),g==null?Lf(E.d,null,P):WK(E.e,g,P),K=F(g,(Gi(),g.lastIndexOf(".")+1),g.length),og(Epe,K)||(q.a.db(K,q),K==null?Lf(E.d,null,P):WK(E.e,K,P),ma(Epe,K));return x=(Tf(),qIe((O=new wi(q.a).a.bb().mb(),new _i(O)))),b=wAt(E),new Po(x,b)}function yRt(l,g,b){var x,E,O;if(!g.e)throw new Oi("Given leave edge is no tree edge.");if(b.e)throw new Oi("Given enter edge is a tree edge already.");for(g.e=!1,yD(l.p,g),b.e=!0,ma(l.p,b),x=b.d.e-b.c.e-b.a,dX(l,b.d,g)||(x=-x),O=new ge(l.e.a);O.a<O.c.c.length;)E=T(pe(O),61),dX(l,E,g)||(E.e+=x);l.j=1,Cw(l.c),bhe(l,T(pe(new ge(l.e.a)),61)),qFe(l)}function bRt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce;if(l.V())return new is;for(q=0,J=0,E=l.mb();E.G();)x=T(E.H(),55),O=x.e,q=rn(q,O.a),J+=O.a*O.b;for(q=rn(q,Math.sqrt(J)*T(_e(T(l.mb().H(),55),(ht(),kA)),15).a),ie=0,ce=0,B=0,b=g,I=l.mb();I.G();)P=T(I.H(),55),K=P.e,ie+K.a>q&&(ie=0,ce+=B+g,B=0),sI(P,ie,ce),b=rn(b,ie+K.a),B=rn(B,K.b),ie+=K.a+g;return new Gn(b+g,ce+B+g)}function _X(l,g,b,x){var E,O,P;return P=new XT(g,b),l.a?x?(E=T(Ki(l.b,g),126),++E.a,P.d=x.d,P.e=x.e,P.b=x,P.c=x,x.e?x.e.c=P:T(Ki(l.b,g),126).b=P,x.d?x.d.b=P:l.a=P,x.d=P,x.e=P):(l.e.b=P,P.d=l.e,l.e=P,E=T(Ki(l.b,g),126),E?(++E.a,O=E.c,O.c=P,P.e=O,E.c=P):(ca(l.b,g,new Yfe(P)),++l.c)):(l.a=l.e=P,ca(l.b,g,new Yfe(P)),++l.c),++l.d,P}function $1(l){var g,b,x,E,O,P,I,B;if(l.e)throw new Vc((Vw(EZ),"The "+EZ.j+LNe));for(l.d==(vo(),hp)&&Xv(l,Id),b=new ge(l.a.a);b.a<b.c.c.length;)g=T(pe(b),78),g.f=0;for(P=new ge(l.a.b);P.a<P.c.c.length;)for(O=T(pe(P),25),O.r=pu,E=O.i.mb();E.G();)x=T(E.H(),25),++x.f.f;for(l.b.Cc(l),B=new ge(l.a.b);B.a<B.c.c.length;)I=T(pe(B),25),I.p=!0;return l}function wRt(l,g,b,x,E){var O,P,I,B;O=new bh(l),Wr(O,(zn(),Bo)),dt(O,(Xt(),hr),(lo(),Xu)),dt(O,(ht(),lr),g.c.f),P=new mo,dt(P,lr,g.c),ni(P,E),fa(P,O),dt(g.c,rm,O),I=new bh(l),Wr(I,Bo),dt(I,hr,Xu),dt(I,lr,g.d.f),B=new mo,dt(B,lr,g.d),ni(B,E),fa(B,I),dt(g.d,rm,I),uo(g,P),Ea(g,B),Ex(0,b.c.length),jw(b.c,0,O),x.c[x.c.length]=I,dt(O,aM,yr(1)),dt(I,aM,yr(1))}function _Rt(l,g){var b,x,E,O,P;if(P=T(_e(l.f,(Xt(),hr)),28),O=l.g.e-g.g.e,O!=0||P==(lo(),RI))return O;if(P==(lo(),bA)&&(b=T(_e(l,sb),24),x=T(_e(g,sb),24),b&&x&&(E=b.a-x.a,E!=0)))return E;switch(l.g.e){case 1:return js(l.i.a,g.i.a);case 2:return js(l.i.b,g.i.b);case 3:return js(g.i.a,l.i.a);case 4:return js(g.i.b,l.i.b);default:throw new Vc(INe)}}function _Fe(l){var g,b,x,E,O,P,I,B,q,K,J;for(I=new Pe,O=Lt(ci(l.g.sb(l.g.Y()-1))),J=l.g.mb();J.G();)K=ci(J.H()),gx(I,0,O-(hs(K),K));for(P=IK(RK(l)),q=new Pe,E=new ge(I),B=new Pe,g=0;g<l.c-1;g++)tn(q,ci(pe(E)));for(x=ta(P,0);x.b!=x.d.c;)b=T(Fi(x),10),tn(q,ci(pe(E))),tn(B,new fK(b,q)),Ra(0,q.c.length),q.c.splice(0,1);return new ehe(l.e,l.f,l.d,l.c,I,B)}function jhe(l,g,b,x,E){var O,P,I,B,q;return O=g.$b(b,l.b),O<0?(I=l.e,I?(P=I.d,l.e=jhe(I,g,b,x,E),E[0]==0&&++l.a,l.j=Zs(l.j,x),l.e.d==P?l:nb(l)):(E[0]=0,Ode(l,b,x))):O>0?(B=l.g,B?(P=B.d,l.g=jhe(B,g,b,x,E),E[0]==0&&++l.a,l.j=Zs(l.j,x),l.g.d==P?l:nb(l)):(E[0]=0,kde(l,b,x))):(E[0]=l.c,q=Zs(l.c,x),m1(zK(q,Bs)<=0),l.c+=x,l.j=Zs(l.j,x),l)}function xRt(l,g){var b,x,E,O,P,I;E=Oz(g,`,|;|\\(|\\)|\\[|\\]|\\{|\\}| |	|
`),S1(l);try{for(x=0,P=0,O=0,I=0;x<E.length;)E[x]!=null&&Dv($x(E[x]))>0&&(P%2==0?O=bz(E[x]):I=bz(E[x]),P>0&&P%2!=0&&Vi(l,new Gn(O,I)),++P),++x}catch(B){throw B=Fu(B),Zt(B,130)?(b=B,new Oi("The given string does not match the expected format for vectors."+b)):Nu(B)}}function xFe(l,g,b){var x,E,O,P,I,B,q,K;for(E=!0,P=new ge(g.c);P.a<P.c.c.length;){for(O=T(pe(P),16),q=pu,B=new ge(O.a);B.a<B.c.c.length;)if(I=T(pe(B),9),K=Lt(b.n[I.k])+Lt(b.d[I.k])-I.e.d,x=Lt(b.n[I.k])+Lt(b.d[I.k])+I.j.b+I.e.a,K>q&&x>q)q=Lt(b.n[I.k])+Lt(b.d[I.k])+I.j.b+I.e.a;else{E=!1,l.a&&Ww();break}if(!E)break}return l.a&&Ww(),E}function SRt(l){var g,b,x,E,O,P,I,B;return isNaN(l)?(Q9(),Gge):l<-9223372036854776e3?(Q9(),g8e):l>=9223372036854776e3?(Q9(),h8e):(E=!1,l<0&&(E=!0,l=-l),x=0,l>=i2&&(x=No(l/i2),l-=x*i2),b=0,l>=ZC&&(b=No(l/ZC),l-=b*ZC),g=No(l),O=x1(g,b,x),E&&(P=~O.l+1&wh,I=~O.m+(P==0?1:0)&wh,B=~O.h+(P==0&&I==0?1:0)&r2,O.l=P,O.m=I,O.h=B),O)}function ERt(l){var g,b,x,E,O,P,I;if(E=XD(l),Yy(new ge(E))){for(I=new vh(0,0,l.e.j.a,l.e.j.b),b=new ge(E);b.a<b.c.c.length;)g=T(pe(b),129),x=new vh(g.e.i.a,g.e.i.b,g.e.j.a,g.e.j.b),ZD(I,x);P=new y9((O=T(l.e,7).d,new pg(O.d,O.b,O.a,O.c))),P.d=-I.e,P.a=I.e+I.b-l.e.j.b,P.b=-I.d,P.c=I.d+I.c-l.e.j.a,T(l.e,7).d.b=P.b,T(l.e,7).d.d=P.d,T(l.e,7).d.c=P.c,T(l.e,7).d.a=P.a}}function SFe(l){var g,b,x,E,O;for(O=new ge(l.f);O.a<O.c.c.length;)for(E=T(pe(O),7),x=new ge(E.e);x.a<x.c.c.length;)if(b=T(pe(x),12),he(_e(b.d.f,(Si(),Us)))!==he((qc(),gb)))throw new JE((g=Y9(l),kge+(g??sC(l.k))+"' has its layer constraint set to LAST or LAST_SEPARATE, but has at least one outgoing edge. Connections between nodes with these "+Oge))}function CRt(l,g,b,x){var E,O,P,I,B,q;for(O=new ge(l);O.a<O.c.c.length;){if(E=T(pe(O),12),P=E.c,g.a.R(P))I=(bx(),D1);else if(b.a.R(P))I=(bx(),l$);else throw new Oi("Source port must be in one of the port sets.");if(B=E.d,g.a.R(B))q=(bx(),D1);else if(b.a.R(B))q=(bx(),l$);else throw new Oi("Target port must be in one of the port sets.");tn(x,new E6e(E,I,q))}}function EFe(l,g){var b,x,E,O,P,I;if("edges"in g.a){if(I=Ka(g,"edges"),!I.hc())throw new Hv("The 'edges' property of a node has to be an array.",I,g);for(O=I.hc(),P=0;P<O.a.length;++P){if(E=qw(O,P),!E.kc())throw new Hv("All elements of the 'edges' property must be objects.",E,g);jTt(l,E.kc())}}if(G4 in g.a)for(x=Ka(g,G4).hc(),P=0;P<x.a.length;++P)b=qw(x,P).kc(),EFe(l,b)}function kz(l){var g,b,x,E,O,P,I,B;for(x=new ge(l.a.a);x.a<x.c.c.length;){for(b=T(pe(x),78),b.g=null,P=(B=new wi(b.a.a).a.bb().mb(),new _i(B));P.a.G();)E=(g=T(P.a.H(),21),T(g.yb(),25)),lg(E.g),(!b.g||E.j.d<b.g.j.d)&&(b.g=E);for(O=(I=new wi(b.a.a).a.bb().mb(),new _i(I));O.a.G();)E=(g=T(O.a.H(),21),T(g.yb(),25)),E.g.a=E.j.d-b.g.j.d,E.g.b=E.j.e-b.g.j.e}return l}function $Rt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe;for(b=!1,ce=dI*l.b.f*l.b.d,E=new ge(g.c);E.a<E.c.c.length;)for(x=T(pe(E),16),q=new ge(x.a),O=T(pe(q),9),K=Lfe(l.a[O.k]);q.a<q.c.c.length;)I=T(pe(q),9),J=Lfe(l.a[I.k]),K!=J&&(ie=hx(l.b,O,I),P=O.i.b+O.j.b+O.e.a+K.a+ie,B=I.i.b-I.e.d+J.a,P>B+ce&&(fe=K.i+J.i,J.a=(J.i*J.a+K.i*K.a)/fe,J.i=fe,K.g=J,b=!0)),O=I,K=J;return b}function kRt(l){var g,b,x,E,O,P;if(he(_e(l,(Xt(),hr)))===he((lo(),T0))||he(_e(l,hr))===he(Xu)){for(P=new ge(l.f);P.a<P.c.c.length;)if(O=T(pe(P),7),O.g==(Ut(),Hn)||O.g==ur)return!1}if(uh(T(_e(l,hr),28))){for(E=jo(l,(Ut(),yn)).mb();E.G();)if(x=T(E.H(),7),x.b.c.length!=0)return!1}for(b=Jr(Ca(l));Br(b);)if(g=T(Ar(b),12),g.c.f==g.d.f)return!1;return!0}function CFe(l,g){var b,x,E,O,P,I,B,q,K;if(E=l.f,P=E.j.a,O=E.j.b,P<=0&&O<=0)return Ut(),vs;switch(q=l.i.a,K=l.i.b,I=l.j.a,b=l.j.b,g.e){case 2:case 1:if(q<0)return Ut(),kn;if(q+I>P)return Ut(),yn;break;case 4:case 3:if(K<0)return Ut(),Hn;if(K+b>O)return Ut(),ur}return B=(q+I/2)/P,x=(K+b/2)/O,B+x<=1&&B-x<=0?(Ut(),kn):B+x>=1&&B-x>=0?(Ut(),yn):x<.5?(Ut(),Hn):(Ut(),ur)}function $Fe(l,g,b,x,E,O,P){var I,B,q,K,J,ie;for(ie=new kO,q=g.mb();q.G();)for(I=T(q.H(),627),J=new ge(FIe(I));J.a<J.c.c.length;)K=T(pe(J),129),he(Yo(K,(Xt(),rd)))===he((qv(),vA))&&(yFe(ie,K,!1,x,E,O,P),ZD(l,ie));for(B=b.mb();B.G();)for(I=T(B.H(),627),J=new ge(FIe(I));J.a<J.c.c.length;)K=T(pe(J),129),he(Yo(K,(Xt(),rd)))===he((qv(),jx))&&(yFe(ie,K,!0,x,E,O,P),ZD(l,ie))}function Bhe(l,g){var b,x,E,O,P,I,B,q;for(B=new ge(g.f);B.a<B.c.c.length;)for(I=T(pe(B),7),E=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[I.b,I.e]))))));Br(E);)x=T(Ar(E),12),b=x.c==I?x.d:x.c,O=b.f,g!=O&&(q=T(_e(x,(ht(),Ch)),24).a,q<0&&(q=0),P=O.k,l.b[P]==0&&(x.d==b?(l.a[P]-=q+1,l.a[P]<=0&&l.c[P]>0&&Vi(l.e,O)):(l.c[P]-=q+1,l.c[P]<=0&&l.a[P]>0&&Vi(l.d,O))))}function ORt(l,g){var b,x,E,O,P,I,B,q,K;for(P=new ge(g.c);P.a<P.c.c.length;)for(O=T(pe(P),16),q=new ge(O.a);q.a<q.c.c.length;){for(B=T(pe(q),9),K=new Pe,I=0,E=Jr(Qs(B));Br(E);)b=T(Ar(E),12),T(_e(b,(ht(),Ch)),24).a>I&&(I=T(_e(b,Ch),24).a);for(x=Jr(Qs(B));Br(x);)b=T(Ar(x),12),B.d!=b.c.f.d&&T(_e(b,(ht(),Ch)),24).a==I&&tn(K,new Po(b.c.f,b));mh(K,l.c),gx(l.b,B.k,K)}}function ARt(l,g){var b,x,E,O,P,I,B,q,K;for(P=new ge(g.c);P.a<P.c.c.length;)for(O=T(pe(P),16),q=new ge(O.a);q.a<q.c.c.length;){for(B=T(pe(q),9),K=new Pe,I=0,E=Jr(Ca(B));Br(E);)b=T(Ar(E),12),T(_e(b,(ht(),Ch)),24).a>I&&(I=T(_e(b,Ch),24).a);for(x=Jr(Ca(B));Br(x);)b=T(Ar(x),12),B.d!=b.d.f.d&&T(_e(b,(ht(),Ch)),24).a==I&&tn(K,new Po(b.d.f,b));mh(K,l.c),gx(l.f,B.k,K)}}function Hhe(l){NDe();var g,b,x,E,O,P,I,B,q,K;for(this.b=new Fl,this.c=new Pe,this.a=new Pe,B=Nde(),q=0,K=B.length;q<K;++q)I=B[q],_9(qx,I,new Pe);for(b=l.mb();b.G();)g=T(b.H(),75),Na(this.a,dK(g)),g.g.a.Y()==0?T(KO(qx,g.e),20).ib(g):tn(this.c,g);for(O=(P=new Jh(qx).a.bb().mb(),new xy(P));O.a.G();)E=(x=T(O.a.H(),21),T(x.zb(),20)),mh(E,this.b);_z(T(KO(qx,(Ul(),vp)),20))}function kFe(l,g){var b,x,E,O,P,I,B;if(B=T(_e(g,(Xt(),hr)),28),B==(lo(),T0)||B==Xu)for(O=(b=T(_e(g,(ht(),F0)),15).a,new Gn(g.e.a+g.a.b+g.a.c+2*b,g.e.b+g.a.d+g.a.a+2*b)).b,I=new ge(l.a);I.a<I.c.c.length;)P=T(pe(I),9),P.g==(zn(),Ta)&&(x=T(_e(P,vu),32),!(x!=(Ut(),yn)&&x!=kn)&&(E=Lt(ci(_e(P,hb))),B==T0&&(E*=O),P.i.b=E-T(_e(P,ob),10).b,cz(P,!1,!0)))}function OFe(l,g){var b,x,E,O,P,I,B,q;for(b=new bh(l.d.c),Wr(b,(zn(),wc)),dt(b,(Xt(),hr),T(_e(g,hr),28)),dt(b,Df,T(_e(g,Df),86)),b.k=l.d.b++,tn(l.b,b),b.j.b=g.j.b,b.j.a=0,q=(Ut(),yn),O=wx(jo(g,q)),B=new ge(O);B.a<B.c.c.length;)I=T(pe(B),7),fa(I,b);return P=new mo,ni(P,q),fa(P,g),P.i.a=b.j.a,P.i.b=b.j.b/2,E=new mo,ni(E,BK(q)),fa(E,b),E.i.b=b.j.b/2,E.i.a=-E.j.a,x=new Uv,uo(x,P),Ea(x,E),b}function RRt(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe;for(B=new w4,ikt(l,B),E=new iIe(g),ce=new Pe,tn(ce,(fe=l.j,T(CO(lPe(fe||(l.j=new Ve(l)))),7))),ie=new Pe;ce.c.length!=0;){for(I=T(pe(new ge(ce)),7),ie.c[ie.c.length]=I,x=ade(l,I),P=new re(x.b.mb());P.b.G();)if(O=T(P.b.H(),12),lOt(E,O,b))for(J=T(hX(B,O),20),K=J.mb();K.G();)q=T(K.H(),7),mc(ie,q,0)!=-1||(ce.c[ce.c.length]=q);Ks(ce,I)}return E}function Oz(l,g){var b,x,E,O,P,I,B;for(b=RegExp(g,"g"),I=Pt(qX,eu,2,0,5,1),x=0,B=l,O=null;;)if(P=b.exec(B),P==null||B==""){I[x]=B;break}else I[x]=F(B,0,P.index),B=F(B,P.index+P[0].length,(Gi(),B.length)),b.lastIndex=0,O==B&&(I[x]=B.substr(0,1),B=PC(B,1,B.length-1)),O=B,++x;if(Gi(),l.length>0){for(E=I.length;E>0&&I[E-1]=="";)--E;E<I.length&&(I.length=E)}return I}function TRt(l){var g,b,x,E,O,P;for(P=new ge(e2(l.e));P.a<P.c.c.length;)switch(O=T(pe(P),161),T(O.e,7).g.e){case 4:l.q.b=rn(l.q.b,(b=T(O.e,7).d,new pg(b.d,b.b,b.a,b.c)).c);break;case 2:l.q.c=rn(l.q.c,(x=T(O.e,7).d,new pg(x.d,x.b,x.a,x.c)).b);break;case 1:l.q.d=rn(l.q.d,(E=T(O.e,7).d,new pg(E.d,E.b,E.a,E.c)).a);break;case 3:l.q.a=rn(l.q.a,(g=T(O.e,7).d,new pg(g.d,g.b,g.a,g.c)).d)}}function Uhe(l,g,b,x,E){var O,P,I;return O=g.$b(b,l.b),O<0?(P=l.e,P?(l.e=Uhe(P,g,b,x,E),x==0&&E[0]!=0?--l.a:x>0&&E[0]==0&&++l.a,l.j=Zs(l.j,x-E[0]),nb(l)):(E[0]=0,x>0?Ode(l,b,x):l)):O>0?(I=l.g,I?(l.g=Uhe(I,g,b,x,E),x==0&&E[0]!=0?--l.a:x>0&&E[0]==0&&++l.a,l.j=Zs(l.j,x-E[0]),nb(l)):(E[0]=0,x>0?kde(l,b,x):l)):(E[0]=l.c,x==0?Ahe(l):(l.j=Zs(l.j,x-l.c),l.c=x,l))}function MRt(l){var g,b,x,E,O,P,I;for(l.o=new Qm,x=new Ds,P=new ge(l.e.a);P.a<P.c.c.length;)O=T(pe(P),61),qC(O).c.length==1&&zs(x,O,x.c.b,x.c);for(;x.b!=0;)O=T(x.b==0?null:(Jn(x.b!=0),E1(x,x.a.a)),61),qC(O).c.length!=0&&(g=T(_t(qC(O),0),89),b=O.g.c.length>0,I=qK(g,O),J7(b?I.c:I.g,g),qC(I).c.length==1&&zs(x,I,x.c.b,x.c),E=new Po(O,g),Rr(l.o,E),Ks(l.e.a,O))}function Vhe(l,g,b,x,E){var O,P,I;return O=g.$b(b,l.b),O<0?(P=l.e,P?(l.e=Vhe(P,g,b,x,E),E[0]>0&&(x>=E[0]?(--l.a,l.j=Qw(l.j,E[0])):l.j=Qw(l.j,x)),E[0]==0?l:nb(l)):(E[0]=0,l)):O>0?(I=l.g,I?(l.g=Vhe(I,g,b,x,E),E[0]>0&&(x>=E[0]?(--l.a,l.j=Qw(l.j,E[0])):l.j=Qw(l.j,x)),nb(l)):(E[0]=0,l)):(E[0]=l.c,x>=l.c?Ahe(l):(l.c-=x,l.j=Qw(l.j,x),l))}function AFe(l,g,b){var x,E,O,P,I,B,q,K;for(B=new ge(b.b);B.a<B.c.c.length;)I=T(pe(B),9),P=T(_e(I,(ht(),Xx)),55),P&&(K=AFe(l,g,P),I.j.a=(O=T(_e(K,F0),15).a,new Gn(K.e.a+K.a.b+K.a.c+2*O,K.e.b+K.a.d+K.a.a+2*O)).a,I.j.b=(E=T(_e(K,F0),15).a,new Gn(K.e.a+K.a.b+K.a.c+2*E,K.e.b+K.a.d+K.a.a+2*E)).b);return q=new b4,x=dx(_e(b,(Xt(),npe))),x!=null&&Ya(x,"de.cau.cs.kieler.fixed")?FTt(b,q):$Ot(g,b,q),b}function RFe(l){var g,b,x,E,O,P,I,B;I=T(_e(l,(Xt(),s2)),18),B=T(_e(l,AI),18),x=T(_e(l,(ht(),F0)),15).a,l.d.a+=x,l.d.b+=x,l.e.a+=2*x,l.e.b+=2*x,dt(l,F0,new li(0)),E=(b=T(_e(l,F0),15).a,new Gn(l.e.a+l.a.b+l.a.c+2*b,l.e.b+l.a.d+l.a.a+2*b)),g=new se(E),I.kb((tb(),MI))&&(P=T(_e(l,Q4),15).a,O=T(_e(l,Z4),15).a,B.kb((oA(),LI))&&(P<=0&&(P=20),O<=0&&(O=20)),g.a=rn(E.a,P),g.b=rn(E.b,O)),ZRt(l,E,g)}function TFe(l,g,b){var x,E,O,P,I,B,q,K;if(g.k==0){for(g.k=1,P=b,b||(E=new Pe,O=(x=T(Eu(nu),11),new $u(x,T(hc(x,x.length),11),0)),P=new Po(E,O)),T(P.a,20).ib(g),g.g==(zn(),Ta)&&T(P.b,18).ib(T(_e(g,(ht(),vu)),32)),B=new ge(g.f);B.a<B.c.c.length;)for(I=T(pe(B),7),K=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[new Ur(I),new Er(I)]))))));Br(K);)q=T(Ar(K),7),TFe(l,q.f,P);return P}return null}function PRt(l,g,b,x){var E,O,P,I,B;switch(B=new se(g.i),B.a+=g.j.a/2,B.b+=g.j.b/2,I=T(_e(g,(ht(),oM)),15).a,O=l.e,P=l.a,E=l.d,T(_e(g,vu),32).e){case 1:B.a+=P.b+E.a-b/2,B.b=-x-I,g.i.b=-(P.d+I+E.b);break;case 2:B.a=O.a+P.b+P.c+I,B.b+=P.d+E.b-x/2,g.i.a=O.a+P.c+I-E.a;break;case 3:B.a+=P.b+E.a-b/2,B.b=O.b+P.d+P.a+I,g.i.b=O.b+P.a+I-E.b;break;case 4:B.a=-b-I,B.b+=P.d+E.b-x/2,g.i.a=-(P.b+I+E.a)}return B}function LRt(l,g){var b,x,E,O,P,I,B;for(O=new ge(g.b);O.a<O.c.c.length;)E=T(pe(O),9),P=_e(E,(ht(),lr)),Zt(P,7)&&(I=T(P,7),B=PRt(g,E,I.j.a,I.j.b),I.i.a=B.a,I.i.b=B.b,ni(I,T(_e(E,vu),32)));b=(x=T(_e(g,(ht(),F0)),15).a,new Gn(g.e.a+g.a.b+g.a.c+2*x,g.e.b+g.a.d+g.a.a+2*x)),T(_e(g,Ou),18).kb((Es(),I0))?(dt(l,(Xt(),hr),(lo(),Xu)),T(_e(gc(l),Ou),18).ib(c$),nge(l,b,!1)):nge(l,b,!0)}function Whe(l,g,b){var x,E,O,P,I;switch(I=null,g.e){case 1:for(E=new ge(l.f);E.a<E.c.c.length;)if(x=T(pe(E),7),zr(Lt(Qr(_e(x,(ht(),gQ))))))return x;I=new mo,dt(I,(ht(),gQ),(Sa(),Sa(),Qu));break;case 2:for(P=new ge(l.f);P.a<P.c.c.length;)if(O=T(pe(P),7),zr(Lt(Qr(_e(O,(ht(),pQ))))))return O;I=new mo,dt(I,(ht(),pQ),(Sa(),Sa(),Qu))}return I&&(fa(I,l),ni(I,b),$kt(I.i,l.j,b)),I}function MFe(l,g){var b,x,E,O,P,I,B;return mr(g),m1(l.a.t(g.a)),x=l.b,O=l.e,P=l.d,l.b?g.b&&(b=l.a.$b(l.e,g.e),(b<0||b==0&&g.d==(Od(),_h))&&(O=g.e,P=g.d)):(x=g.b,O=g.e,P=g.d),E=l.c,I=l.g,B=l.f,l.c?g.c&&(b=l.a.$b(l.g,g.g),(b>0||b==0&&g.f==(Od(),_h))&&(I=g.g,B=g.f)):(E=g.c,I=g.g,B=g.f),x&&E&&(b=l.a.$b(O,I),(b>0||b==0&&P==(Od(),_h)&&B==(Od(),_h))&&(O=I,P=(Od(),_h),B=Hz)),new xz(l.a,x,O,P,E,I,B)}function DRt(l,g,b,x){var E,O,P,I,B,q,K;if(b.c.f!=g.f)for(E=new bh(l),Wr(E,(zn(),va)),dt(E,(ht(),lr),b),dt(E,(Xt(),hr),(lo(),Xu)),x.c[x.c.length]=E,P=new mo,fa(P,E),ni(P,(Ut(),kn)),I=new mo,fa(I,E),ni(I,yn),Ea(b,P),O=new Uv,eb(O,b),dt(O,$o,null),uo(O,I),Ea(O,g),L6e(E,P,I),q=new pa(b.b,0);q.b<q.d.Y();)B=(Jn(q.b<q.d.Y()),T(q.d.sb(q.c=q.b++),33)),K=T(_e(B,rd),107),K==(qv(),jx)&&(up(q),tn(O.b,B))}function IRt(l,g,b,x){var E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe;for(O=b+(g.n+1)*l.a,P=g.b,E=new Gn(O,P),B=(K=new wi(g.c.a).a.bb().mb(),new _i(K));B.a.G();)I=(q=T(B.a.H(),21),T(q.yb(),12)),fe=vc(I.d),J=vc(I.c),ce=new Gn(O,J.b),Oe=new Gn(O,fe.b),ie=new Gn(b-10,J.b),be=new Gn(x,fe.b),fe.a>=x&&J.a>=x&&(ie.a=x),fe.a<=b&&J.a<=b&&(be.a=b-10),g.c.a.Y()==1?vde(I.a,it(nt(Ci,1),Ei,10,0,[ie,ce,Oe,be])):vde(I.a,it(nt(Ci,1),Ei,10,0,[ie,ce,E,Oe,be]))}function ib(l,g){var b,x,E,O,P,I;for(O=l.c,P=l.d,uo(l,null),Ea(l,null),g&&zr(Lt(Qr(_e(P,(ht(),gQ)))))?uo(l,Whe(P.f,(gs(),Zu),(Ut(),yn))):uo(l,P),g&&zr(Lt(Qr(_e(O,(ht(),pQ)))))?Ea(l,Whe(O.f,(gs(),Sc),(Ut(),kn))):Ea(l,O),x=new ge(l.b);x.a<x.c.c.length;)b=T(pe(x),33),E=T(_e(b,(Xt(),rd)),107),E==(qv(),vA)?dt(b,rd,jx):E==jx&&dt(b,rd,vA);I=zr(Lt(Qr(_e(l,(ht(),F1))))),dt(l,F1,(Sa(),I?ro:Qu)),l.a=IK(l.a)}function Ghe(l){var g,b,x,E,O,P;for(mD(this),b=l.Y()-1;b<3;b++)l.rb(0,T(l.sb(0),10));if(l.Y()<4)throw new Oi("At (least dimension + 1) control points are necessary!");for(this.c=3,this.e=!0,this.f=!0,this.d=!1,sAt(this,l.Y()+this.c-1),P=new Pe,O=this.g.mb(),g=0;g<this.c-1;g++)tn(P,ci(O.H()));for(E=l.mb();E.G();)x=T(E.H(),10),tn(P,ci(O.H())),this.b.ib(new fK(x,P)),Ra(0,P.c.length),P.c.splice(0,1)}function FRt(l){var g,b,x,E,O,P,I,B,q,K,J;for(J=new xu,J.d=0,P=new ge(l.c);P.a<P.c.c.length;)O=T(pe(P),16),J.d+=O.a.c.length;for(x=0,E=0,J.a=Pt(ko,Co,26,l.c.c.length,12,1),q=0,J.e=Pt(ko,Co,26,J.d,12,1),b=new ge(l.c);b.a<b.c.c.length;)for(g=T(pe(b),16),g.k=x++,J.a[g.k]=E++,K=0,B=new ge(g.a);B.a<B.c.c.length;)I=T(pe(B),9),I.k=q++,J.e[I.k]=K++;return J.c=new GE(J),J.b=Zf(J.d),ORt(J,l),J.f=Zf(J.d),ARt(J,l),J}function NRt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be;for(I=Pt(ko,Co,26,g.c.c.length,12,1),q=Pt(kpe,on,132,g.c.c.length,0,1),J=l.a,ie=0,ce=J.length;ie<ce;++ie){for(K=J[ie],be=0,P=new ge(K.f);P.a<P.c.c.length;)E=T(pe(P),9),B=E.g,x=pl(E.d),++I[x],fe=l.b.a*l.b.d,I[x]>0&&q[x]&&(fe=$D(l.b,q[x],B)),be=rn(be,E.d.c.b+fe);for(O=new ge(K.f);O.a<O.c.c.length;)E=T(pe(O),9),E.i.b=be+E.e.d,b=E.d,b.c.b=be+E.e.d+E.j.b+E.e.a,q[mc(b.b.c,b,0)]=E.g}}function PFe(l){var g,b,x,E,O,P,I,B,q,K;for(B=new ge(l.a);B.a<B.c.c.length;)if(I=T(pe(B),9),I.g==(zn(),Ta)&&(E=T(_e(I,(ht(),vu)),32),E==(Ut(),yn)||E==kn))for(x=Jr(JD(I));Br(x);)b=T(Ar(x),12),g=b.a,g.b!=0&&(q=b.c,q.f==I&&(O=(Jn(g.b!=0),T(g.a.a.c,10)),O.b=da(it(nt(Ci,1),Ei,10,0,[q.f.i,q.i,q.a])).b),K=b.d,K.f==I&&(P=(Jn(g.b!=0),T(g.c.b.c,10)),P.b=da(it(nt(Ci,1),Ei,10,0,[K.f.i,K.i,K.a])).b))}function zRt(l,g,b,x){var E,O,P,I,B,q;for(P=new VFe(l,g,b),B=new pa(x,0),E=!1;B.b<B.d.Y();)I=(Jn(B.b<B.d.Y()),T(B.d.sb(B.c=B.b++),102)),I==g||I==b?up(B):!E&&Lt(Rf(I.g,I.d[0]).a)>Lt(Rf(P.g,P.d[0]).a)?(Jn(B.b>0),B.a.sb(B.c=--B.b),Nv(B,P),E=!0):I.e&&I.e.Y()>0&&(O=(!I.e&&(I.e=new Pe),I.e).nb(g),q=(!I.e&&(I.e=new Pe),I.e).nb(b),(O||q)&&((!I.e&&(I.e=new Pe),I.e).ib(P),++P.c));E||(x.c[x.c.length]=P)}function jRt(l,g,b,x){var E,O,P,I,B,q,K,J,ie,ce,fe;b.d.f!=g.f&&(E=new bh(l),Wr(E,(zn(),va)),dt(E,(ht(),lr),b),dt(E,(Xt(),hr),(lo(),Xu)),x.c[x.c.length]=E,P=new mo,fa(P,E),ni(P,(Ut(),kn)),I=new mo,fa(I,E),ni(I,yn),B=b.d,Ea(b,P),O=new Uv,eb(O,b),dt(O,$o,null),uo(O,I),Ea(O,B),q=T(_t(P.b,0),12).c,K=q.f,J=K.g,ie=T(_t(I.e,0),12).d,ce=ie.f,fe=ce.g,J==va?dt(E,_c,T(_e(K,_c),7)):dt(E,_c,q),fe==va?dt(E,Yl,T(_e(ce,Yl),7)):dt(E,Yl,ie))}function BRt(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re;return I=l.b[g],B=l.b[b],q=T(_e(I,(ht(),OA)),20),!!q&&q.Y()!=0&&q.kb(B)||(K=I.g!=(zn(),va)&&B.g!=va,J=T(_e(I,Kx),9),ie=T(_e(B,Kx),9),ce=!!J&&J!=I||!!ie&&ie!=B,fe=J!=ie,be=f6e(I,(Ut(),Hn)),Oe=f6e(B,ur),Re=ce&&fe||be||Oe,K&&Re)||I.g==(zn(),Bo)&&B.g==co||B.g==(zn(),Bo)&&I.g==co?!1:(P=l.b[g],x=l.b[b],Gkt(l.c,P,x),Zkt(l.d,P,x),O=XDe(l.a,P,x)+l.c.d+l.d.d,E=XDe(l.a,x,P)+l.c.b+l.d.b,O>E)}function HRt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be;for(P=g,ie=g.d,K=g.c.f,ce=g.d.f,J=pl(K.d),fe=pl(ce.d),I=J;I<fe;I++)E=new bh(l),Wr(E,(zn(),va)),dt(E,(ht(),lr),P),dt(E,(Xt(),hr),(lo(),Xu)),B=T(_t(l.c,I+1),16),fu(E,B),be=T(_e(P,R0),15).a,be<0&&(be=0,dt(P,R0,new li(be))),E.j.b=be,q=Math.floor(be/2),x=new mo,ni(x,(Ut(),kn)),fa(x,E),x.i.b=q,O=new mo,ni(O,yn),fa(O,E),O.i.b=q,Ea(P,x),b=new Uv,eb(b,P),dt(b,$o,null),uo(b,O),Ea(b,ie),zkt(E,P,b),P=b}function URt(l,g){if(Ul(),l==g)return KK(l);switch(l.e){case 1:switch(g.e){case 4:return vp;case 1:return nm;case 2:return h2;case 3:return db}case 2:switch(g.e){case 1:return h2;case 2:return cb;case 3:return fb;case 4:return L0}case 3:switch(g.e){case 2:return fb;case 3:return D0;case 4:return v2;case 1:return db}case 4:switch(g.e){case 3:return v2;case 4:return p2;case 1:return vp;case 2:return L0}}return u$}function VRt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be;for(J=new Bl,E=null,P=new ge(l.c);P.a<P.c.c.length;){for(O=T(pe(P),16),B=new ge(O.a);B.a<B.c.c.length;)I=T(pe(B),9),I.g==(zn(),Ta)&&(K=T(_e(I,(ht(),yj)),9),K&&(Okt(K,J),ie=new mo,fa(ie,I),ce=T(_e(I,vu),32),ni(ie,ce),fe=T(_t(K.f,0),7),be=new Uv,uo(be,ie),Ea(be,fe)));E=O}for(b=(q=new wi(J.a).a.bb().mb(),new _i(q));b.a.G();)g=(x=T(b.a.H(),21),T(x.yb(),9)),fu(g,E);return J}function LFe(l,g,b){var x,E,O,P,I,B,q,K,J;for(E=new Pe,q=new ge(g.b);q.a<q.c.c.length;)if(B=T(pe(q),9),I=T(_e(B,(ht(),Xx)),55),I&&(x=LFe(l,I,B),Na(E,x),D3t(l,I,B),T(_e(I,Ou),18).kb((Es(),I0))))for(J=new ge(B.f);J.a<J.c.c.length;)K=T(pe(J),7),Ki(l.b,K)==null&&(O=Az(K,(lo(),pp),K.g,-(K.b.c.length-K.e.c.length),K.j,T(_e(I,(Xt(),gp)),59),I),dt(O,lr,K),ca(l.b,K,O),tn(I.b,O));return P=new Pe,N3t(l,g,b,E,P),b&&T3t(l,g,b,P),P}function WRt(l){var g,b,x,E,O,P,I,B,q,K,J,ie;for(g=B6e(l),K=(I=new wi(g).a.bb().mb(),new _i(I));K.a.G();){for(q=(E=T(K.a.H(),21),T(E.yb(),9)),J=q.e.d,ie=q.j.b+q.e.a,l.d[q.k]=0,b=q;(O=l.a[b.k])!=q;)x=I$t(b,O),l.c==(lp(),tm)?B=x.d.i.b+x.d.a.b-x.c.i.b-x.c.a.b:B=x.c.i.b+x.c.a.b-x.d.i.b-x.d.a.b,P=Lt(l.d[b.k])+B,l.d[O.k]=P,J=rn(J,O.e.d-P),ie=rn(ie,P+O.j.b+O.e.a),b=O;b=q;do l.d[b.k]=Lt(l.d[b.k])+J,b=l.a[b.k];while(b!=q);l.b[q.k]=J+ie}}function xX(l,g,b){var x,E,O,P,I,B,q,K;return x=l.a.k==(mg(),Eh)?Gl:pu,I=hFe(l,new cD(g,b)),!I.a&&I.c?(Vi(l.d,I),x):I.a?(E=I.a.c,B=I.a.d,b?(q=l.a.c==(lp(),d2)?B:E,O=l.a.c==d2?E:B,P=l.a.f[O.f.k],K=Lt(l.a.n[P.k])+Lt(l.a.d[O.f.k])+O.i.b+O.a.b-Lt(l.a.d[q.f.k])-q.i.b-q.a.b):(q=l.a.c==(lp(),tm)?B:E,O=l.a.c==tm?E:B,K=Lt(l.a.n[l.a.f[O.f.k].k])+Lt(l.a.d[O.f.k])+O.i.b+O.a.b-Lt(l.a.d[q.f.k])-q.i.b-q.a.b),K):x}function GRt(l){var g,b,x,E,O;for(dt(l.g,(ht(),B0e),Hl(l.g.c)),g=1;g<l.c.c.length-1;++g)dt(T(_t(l.c,g),9),(Xt(),Df),(rb(),Ii(ql,it(nt(za,1),on,41,0,[ad,xh]))));for(x=ta(Hl(l.g.c),0);x.b!=x.d.c;)b=T(Fi(x),33),E=T(_e(l.g,(Xt(),Df)),86),Xw(E,Ii((rb(),Jc),it(nt(za,1),on,41,0,[Xc,ad])))||(Xw(E,Ii(Jc,it(nt(za,1),on,41,0,[Qc,ad])))?(tn(l.e.c,b),Ks(l.g.c,b),O=new lc(l,b),dt(l.g,dQ,O)):(HAt(l,b),tn(l.i,l.d),dt(l.g,dQ,_kt(l.i))))}function DFe(l,g,b,x){var E,O,P,I,B,q,K;if(O=VK(x),I=zr(Lt(Qr(_e(x,(Si(),tve))))),(I||zr(Lt(Qr(_e(l,(Xt(),EI))))))&&!uh(T(_e(l,(Xt(),hr)),28)))E=sz(O),B=Whe(l,b,b==(gs(),Zu)?E:BK(E));else switch(B=new mo,fa(B,l),K=B.i,K.a=g.a-l.i.a,K.b=g.b-l.i.b,kOt(K,l.j.a,l.j.b),ni(B,CFe(B,O)),P=T(_e(x,(ht(),Ou)),18),q=B.g,O.e){case 2:case 1:(q==(Ut(),Hn)||q==ur)&&P.ib((Es(),f$));break;case 4:case 3:(q==(Ut(),yn)||q==kn)&&P.ib((Es(),f$))}return B}function qRt(l){var g,b,x,E,O,P,I,B;for(x=l9(wx(l.a)),E=(g=T(Eu(tM),11),new $u(g,T(hc(g,g.length),11),0));x.a.G()||x.b.mb().G();)b=T(_de(x),12),I=b.c.g,B=b.d.g,I==(Ut(),vs)?B!=vs&&(P=KK(B),dt(b,(ht(),WI),P),ni(b.c,B),_l(E,P),x.a.I()):B==vs?(P=KK(I),dt(b,(ht(),WI),P),ni(b.d,I),_l(E,P),x.a.I()):(P=URt(I,B),dt(b,(ht(),WI),P),_l(E,P),x.a.I());return E.c==1?O=T(xx(new Kf(E)),60):O=(Ul(),u$),F4(l,O,!1),O}function YRt(l,g){var b,x,E,O;for(E=0;E<(Gi(),g.length)&&LDe(g.charCodeAt(E),yNe);)++E;for(b=g.length;b>0&&LDe(g.charCodeAt(b-1),bNe);)--b;if(E>=b)throw new Oi("The given string does not contain any numbers.");if(O=Oz(g.substr(E,b-E),`,|;|\r|
`),O.length!=2)throw new Oi("Exactly two numbers are expected, "+O.length+" were found.");try{l.a=bz($x(O[0])),l.b=bz($x(O[1]))}catch(P){throw P=Fu(P),Zt(P,130)?(x=P,new Oi(wNe+x)):Nu(P)}}function KRt(l,g,b){var x,E,O,P,I,B,q,K,J;for(B=b+g.d.c.a,J=new ge(g.f);J.a<J.c.c.length;){if(K=T(pe(J),7),x=da(it(nt(Ci,1),Ei,10,0,[K.f.i,K.i,K.a])),O=new Gn(0,x.b),K.g==(Ut(),yn))O.a=B;else if(K.g==kn)O.a=b;else continue;if(x.a!=O.a)for(E=K.e.c.length+K.b.c.length>1,I=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[K.b,K.e]))))));Br(I);)P=T(Ar(I),12),q=P.c==K?P.d:P.c,_s(da(it(nt(Ci,1),Ei,10,0,[q.f.i,q.i,q.a])).b-O.b)>1&&eAt(l,P,O,E,K)}}function IFe(l,g){var b,x,E,O,P,I;for(P=new GC(new qf(l.f.b).a);P.b;){if(O=T4(P),E=T(O.yb(),251),g==1){if(E.yc()!=(vo(),P1)&&E.yc()!=Jv)continue}else if(E.yc()!=(vo(),Id)&&E.yc()!=Kc)continue;switch(x=T(T(O.zb(),27).b,25),I=T(T(O.zb(),27).a,78),b=I.c,E.yc().e){case 2:x.j.d=l.e.a,x.j.c=rn(1,x.j.c+b);break;case 1:x.j.d=x.j.d+b,x.j.c=rn(1,x.j.c-b);break;case 4:x.j.e=l.e.b,x.j.b=rn(1,x.j.b+b);break;case 3:x.j.e=x.j.e+b,x.j.b=rn(1,x.j.b-b)}}}function qhe(l,g,b,x,E){var O,P,I,B,q,K,J,ie,ce;for(ie=(hi(),new Rt),I=new Pe,x6e(l,b,l.d.Mc(),I,ie),x6e(l,x,l.d.Nc(),I,ie),B=new pa(I,0);B.b<B.d.Y();)for(O=(Jn(B.b<B.d.Y()),T(B.d.sb(B.c=B.b++),80)),q=new pa(I,B.b);q.b<q.d.Y();)P=(Jn(q.b<q.d.Y()),T(q.d.sb(q.c=q.b++),80)),ZAt(O,P,l.a);for(MTt(I,T(_e(g,(ht(),AA)),154)),L3t(I),ce=-1,J=new ge(I);J.a<J.c.c.length;)K=T(pe(J),80),!(_s(K.k-K.a)<ab)&&(ce=Is(ce,K.i),l.d.Kc(K,E));return l.b.a.Q(),ce+1}function FFe(l,g,b){var x,E;switch(E=new se(g),x=new se(l.j),b.e){case 1:case 8:case 7:Wc(E,-x.a/2,-x.b),Wc(g,0,-(.5+x.b));break;case 3:case 4:case 5:Wc(E,-x.a/2,0),Wc(g,0,.5+x.b);break;case 0:Wc(E,-x.a/2,-x.b),Wc(g,0,-(.5+-x.b));break;case 10:case 2:Wc(E,0,-x.b/2),Wc(g,0,-(.5+x.b));break;case 6:Wc(E,-x.a,x.b/2),Wc(g,0,-(.5+x.b));break;case 9:Wc(E,-x.a/2,0),Wc(g,0,-(.5+x.b));break;case 11:Wc(E,-x.a,-x.b/2),Wc(g,0,-(.5+x.b))}return ra(lg(l.i),E),new UIe(l)}function XRt(l,g,b,x,E){Ww();var O,P,I,B,q,K,J;if(vPe(l,"src"),vPe(b,"dest"),K=A4(l),I=A4(b),Rfe((K.g&4)!=0,"srcType is not an array"),Rfe((I.g&4)!=0,"destType is not an array"),q=K.c,O=I.c,Rfe(q.g&1?q==O:(O.g&1)==0,"Array types don't match"),J=l.length,B=b.length,g<0||x<0||E<0||g+E>J||x+E>B)throw new Xm;if((!(q.g&1)||q.g&4)&&K!=I)if(l===b&&g<x)for(g+=E,P=x+E;P-- >x;)b[P]=l[--g];else for(P=x+E;x<P;)b[x++]=l[g++];else E>0&&iX(l,g,b,x,E,!0)}function ZRt(l,g,b){var x,E,O,P,I;if(x=T(_e(l,(Si(),SQ)),18),b.a>g.a&&(x.kb((I4(),YZ))?l.d.a+=(b.a-g.a)/2:x.kb(XZ)&&(l.d.a+=b.a-g.a)),b.b>g.b&&(x.kb((I4(),QZ))?l.d.b+=(b.b-g.b)/2:x.kb(ZZ)&&(l.d.b+=b.b-g.b)),T(_e(l,(ht(),Ou)),18).kb((Es(),I0))&&(b.a>g.a||b.b>g.b))for(I=new ge(l.b);I.a<I.c.c.length;)P=T(pe(I),9),P.g==(zn(),Ta)&&(E=T(_e(P,vu),32),E==(Ut(),yn)?P.i.a+=b.a-g.a:E==ur&&(P.i.b+=b.b-g.b));O=l.a,l.e.a=b.a-O.b-O.c,l.e.b=b.b-O.d-O.a}function Yhe(l,g,b,x,E,O){var P,I,B;if(P=g.$b(b,l.b),P<0)return I=l.e,I?(l.e=Yhe(I,g,b,x,E,O),O[0]==x&&(E==0&&O[0]!=0?--l.a:E>0&&O[0]==0&&++l.a,l.j=Zs(l.j,E-O[0])),nb(l)):(O[0]=0,x==0&&E>0?Ode(l,b,E):l);if(P>0)return B=l.g,B?(l.g=Yhe(B,g,b,x,E,O),O[0]==x&&(E==0&&O[0]!=0?--l.a:E>0&&O[0]==0&&++l.a,l.j=Zs(l.j,E-O[0])),nb(l)):(O[0]=0,x==0&&E>0?kde(l,b,E):l);if(O[0]=l.c,x==l.c){if(E==0)return Ahe(l);l.j=Zs(l.j,E-l.c),l.c=E}return l}function SX(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe;for(B=l.e,ce=l.f,P=l.d,fe=l.c,K=fe-1,be=l.g,J=Hl(l.g.xb(1,l.g.Y()-1)),q=new Pe,b=0;b<l.b.Y()-1;b++)I=dh(Fv(fs(T(l.b.sb(b+1),92).a),T(l.b.sb(b),92).a),fe/(Lt(ci(be.sb(b+fe)))-Lt(ci(be.sb(b))))),q.c[q.c.length]=I;for(Oe=new Pe,O=ta(J,0),ie=new Pe,g=0;g<K-1;g++)tn(Oe,ci(Fi(O)));for(E=new ge(q);E.a<E.c.c.length;)x=T(pe(E),10),tn(Oe,ci(Fi(O))),tn(ie,new fK(x,Oe)),Ra(0,Oe.c.length),Oe.c.splice(0,1);return new ehe(B,ce,P,K,J,ie)}function NFe(l){this.q=new Cy,this.p=new Cy,this.o=Pt(ko,Co,26,(Ut(),it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn])).length,12,1),this.i=Pt(ko,Co,26,it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn]).length,12,1),this.j=Pt(tf,Vl,26,it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn]).length,12,1),this.n=Pt(tf,Vl,26,it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn]).length,12,1),this.g=Pt(ppe,on,100,it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn]).length,0,1),this.c=new Xde(f7e),this.e=l,IT(this.o),IT(this.i),DO(this.n,0)}function Khe(l,g){var b,x,E,O,P,I,B,q,K;if(P=g.i!=null&&!g.b,P||ai(g,"Component Layout",1),b=T(_e(l,(ht(),X0e)),20),O=1/b.Y(),zr(Lt(Qr(_e(l,(Xt(),SI))))))for(K=b.mb();K.G();)q=T(K.H(),31),eD(A4(q)),q.sc(l,VC(g,O));else for(K=b.mb();K.G();)q=T(K.H(),31),q.sc(l,VC(g,O));for(E=new ge(l.c);E.a<E.c.c.length;)x=T(pe(E),16),Na(l.b,x.a),x.a.c=Pt(Ln,cn,1,0,4,1);for(B=new ge(l.b);B.a<B.c.c.length;)I=T(pe(B),9),fu(I,null);l.c.c=Pt(Ln,cn,1,0,4,1),P||jr(g)}function QRt(l,g){var b,x,E,O,P,I,B,q,K,J,ie;for(P=new ge(g);P.a<P.c.c.length;)E=T(pe(P),102),E.e=null,E.c=0;for(I=null,O=new ge(g);O.a<O.c.c.length;){for(E=T(pe(O),102),K=E.d[0],ie=T(_e(K,(ht(),OA)),20).mb();ie.G();)J=T(ie.H(),9),(!E.e&&(E.e=new Pe),E.e).ib(l.b[J.d.k][J.k]),++l.b[J.d.k][J.k].c;if(K.g==(zn(),co)){if(I)for(q=f4(new dO(l.c,I),0);q.c;)for(B=T(gK(q),9),x=f4(new dO(l.c,K),0);x.c;)b=T(gK(x),9),mfe(l.b[B.d.k][B.k]).ib(l.b[b.d.k][b.k]),++l.b[b.d.k][b.k].c;I=K}}}function JRt(l,g,b,x){var E,O,P,I,B,q;if(whe(g),O=T(_e(x,(ht(),Ou)),18),I=(Xt(),$I).b,!(I in g.a&&Ka(g,I).ic().a))switch(B=new mo,dt(B,lr,g),fa(B,b),P=T(Ka(g,"id"),97),H9(l.k,P.a,B),ca(l.n,B,g),fX(g,B),mz(g,B),Ehe(l,g,B,x),ni(B,T(_e(B,OI),32)),q=T(_e(b,hr),28),q==(lo(),u2)&&(q=pp),E=T(_e(x,gp),59),E==(vo(),hp)&&(E=Kc),h3t(B,q,E,T(_e(B,ob),10)),E.e){case 2:case 1:(B.g==(Ut(),Hn)||B.g==ur)&&O.ib((Es(),f$));break;case 4:case 3:(B.g==(Ut(),yn)||B.g==kn)&&O.ib((Es(),f$))}}function e3t(l,g){var b,x,E,O,P,I,B,q;for(l.f=g,E=g.c.c.length,l.a=Pt(Hs,eu,51,E,0,2),l.d=Pt(Hs,eu,51,E,0,2),l.g=Pt(Hs,eu,51,E,0,2),P=new pa(g.c,0);P.b<P.d.Y();)for(x=(Jn(P.b<P.d.Y()),T(P.d.sb(P.c=P.b++),16)),I=x.a.c.length,O=P.b-1,l.a[O]=Pt(Hs,bc,9,I,0,1),l.d[O]=Pt(Hs,bc,9,I,0,1),l.g[O]=Pt(Hs,bc,9,I,0,1),q=new pa(x.a,0),b=0;q.b<q.d.Y();)B=(Jn(q.b<q.d.Y()),T(q.d.sb(q.c=q.b++),9)),B.k=b++,l.d[O][q.b-1]=B,l.a[O][q.b-1]=B,l.g[O][q.b-1]=B;l.b=new as(l.d),l.e.c&&(l.b.e=!0)}function t3t(l){var g,b,x,E,O,P;for(E=new Pe,P=new ge(l.c.f);P.a<P.c.c.length;)O=T(pe(P),7),O.g==(Ut(),yn)&&(E.c[E.c.length]=O);if(l.d.a==(vo(),Kc)&&!uh(T(_e(l.c,(Xt(),hr)),28)))for(x=Jr(Ca(l.c));Br(x);)b=T(Ar(x),12),tn(E,b.c);dt(l.c,(ht(),VI),new li(l.c.j.a)),dt(l.c,m2,(Sa(),Sa(),Qu)),tn(l.b,l.c),g=null,l.e==1?g=y3t(l,l.c,pl(l.c.d),l.c.j.a):l.e==0?g=b3t(l,l.c,pl(l.c.d),l.c.j.a):l.e==3?g=aAt(l,l.c,l.c.j.a):l.e==2&&(g=iAt(l,l.c,l.c.j.a)),g&&new lhe(l.c,l.b,Lt(ci(g.b)))}function Xhe(l,g,b){var x,E,O,P,I,B,q,K;if(E=g.g,zr(Lt(Qr(_e(g,(ht(),m2)))))&&(E=(zn(),wc)),g.k>=0)return!1;if(b.e&&E==(zn(),wc)&&E!=b.e)return!1;if(g.k=b.b,tn(b.f,g),b.e=E,E==(zn(),va)||E==Bo||E==wc){for(P=new ge(g.f);P.a<P.c.c.length;)for(O=T(pe(P),7),K=(x=new ge(new Er(O).a.e),new pr(x));Yy(K.a);)if(q=T(pe(K.a),12).d,I=q.f,B=I.g,g.d!=I.d){if(E==wc){if(B==wc&&Xhe(l,I,b))return!0}else if((B==va||B==Bo)&&Xhe(l,I,b))return!0}}return!0}function zFe(l,g){var b,x,E,O,P,I,B,q,K;for(vde(l.a,it(nt(Ci,1),Ei,10,0,[g.a,g.b])),Pf(l.c,g.e),l.q.d=l.q.d|g.d,l.q.a=l.q.a|g.c,I=Ri(l.j.e,g.k),B=rn(l.j.e+l.j.b,g.n),IY(l.j,g.j,I,0,B-I),ma(l.d,g.f),g.f.c.f==g.f.d.f&&Mf(l.n,!0,!0,!0,!0),P=new Aa,q=new Aa,E=(K=new wi(l.d.a).a.bb().mb(),new _i(K));E.a.G();)x=(O=T(E.a.H(),21),T(O.yb(),12)),ma(P,x.c),ma(q,x.d);b=P.a.Y()-q.a.Y(),b<0?(VD(l.n,!0,(vo(),Id)),VD(l.n,!1,Kc)):b>0&&(VD(l.n,!1,(vo(),Id)),VD(l.n,!0,Kc))}function n3t(l,g){var b,x,E,O,P,I,B,q,K,J;for(P=0;P<(Gi(),g.length)&&DDe(g.charCodeAt(P),yNe);)++P;for(b=g.length;b>0&&DDe(g.charCodeAt(b-1),bNe);)--b;if(P<b){K=Oz(g.substr(P,b-P),",|;");try{for(B=0,q=K.length;B<q;++B){if(I=K[B],O=Oz(I,"="),O.length!=2)throw new Oi("Expecting a list of key-value pairs.");E=$x(O[0]),J=bz($x(O[1])),Ya(E,"top")?l.d=J:Ya(E,"left")?l.b=J:Ya(E,Sge)?l.a=J:Ya(E,"right")&&(l.c=J)}}catch(ie){throw ie=Fu(ie),Zt(ie,130)?(x=ie,new Oi(wNe+x)):Nu(ie)}}}function r3t(l,g){var b,x,E,O,P,I,B,q,K;for(K=new Ds,I=(q=new Jh(l.c).a.bb().mb(),new xy(q));I.a.G();)O=(E=T(I.a.H(),21),T(E.zb(),200)),O.b==0&&zs(K,O,K.c.b,K.c);for(;K.b!=0;)for(O=T(K.b==0?null:(Jn(K.b!=0),E1(K,K.a.a)),200),x=new ge(O.d);x.a<x.c.c.length;)b=T(pe(x),279),g.k==(mg(),lb)?b.b.a=Ri(b.b.a,O.a+b.a):b.b.a=rn(b.b.a,O.a+b.a),--b.b.b,b.b.b==0&&Vi(K,b.b);for(P=(B=new Jh(l.c).a.bb().mb(),new xy(B));P.a.G();)O=(E=T(P.a.H(),21),T(E.zb(),200)),g.g[O.c.k]=O.a}function i3t(l,g,b){var x,E,O,P;switch(O=l.i,E=da(it(nt(Ci,1),Ei,10,0,[g.i,g.f.i])),x=da(it(nt(Ci,1),Ei,10,0,[g.f.i,g.i,g.a])),P=g.d,g.g.e){case 4:O.a=Ri(E.a,x.a)-P.b-l.j.a-b,O.b=da(it(nt(Ci,1),Ei,10,0,[g.f.i,g.i,g.a])).b+b;break;case 2:O.a=rn(E.a+g.j.a,x.a)+P.c+b,O.b=da(it(nt(Ci,1),Ei,10,0,[g.f.i,g.i,g.a])).b+b;break;case 1:O.a=da(it(nt(Ci,1),Ei,10,0,[g.f.i,g.i,g.a])).a+b,O.b=Ri(E.b,x.b)-P.d-l.j.b-b;break;case 3:O.a=da(it(nt(Ci,1),Ei,10,0,[g.f.i,g.i,g.a])).a+b,O.b=rn(E.b+g.j.b,x.b)+P.a+b}}function a3t(l,g,b){var x,E,O,P;switch(O=l.i,E=da(it(nt(Ci,1),Ei,10,0,[g.i,g.f.i])),x=da(it(nt(Ci,1),Ei,10,0,[g.f.i,g.i,g.a])),P=g.d,g.g.e){case 4:O.a=Ri(E.a,x.a)-P.b-l.j.a-b,O.b=da(it(nt(Ci,1),Ei,10,0,[g.f.i,g.i,g.a])).b-l.j.b-b;break;case 2:O.a=rn(E.a+g.j.a,x.a)+P.c+b,O.b=da(it(nt(Ci,1),Ei,10,0,[g.f.i,g.i,g.a])).b-l.j.b-b;break;case 1:O.a=da(it(nt(Ci,1),Ei,10,0,[g.f.i,g.i,g.a])).a+b,O.b=Ri(E.b,x.b)-P.d-l.j.b-b;break;case 3:O.a=da(it(nt(Ci,1),Ei,10,0,[g.f.i,g.i,g.a])).a+b,O.b=rn(E.b+g.j.b,x.b)+P.a+b}}function o3t(l){var g,b;switch(b=T(_e(l,(ht(),Ou)),18),g=x4(p7e),zr(Lt(Qr(_e(l,(Si(),qI)))))?fr(g,(Js(),NZ)):Dr(g,(Js(),NZ)),_e(l,(fde(),qge))!=null&&Xs(g,v7e),T(_e(l,(Xt(),gp)),59).e){case 2:mn(fr(g,(Js(),Ype)),qpe);break;case 3:mn(fr(g,(Js(),Ipe)),Dpe);break;case 4:mn(fr(g,(Js(),o0e)),a0e)}return b.kb((Es(),sQ))&&mn(fr(g,(Js(),Lpe)),Ppe),he(_e(l,xj))!==he((Rx(),sj))&&Dr(g,(Js(),Xpe)),he(_e(l,Sj))!==he((N4(),jI))&&he(_e(l,W0e))===he((Jy(),n$))&&mn(g,(Js(),Bpe)),b.kb(T0e)&&(fr(g,(Js(),Qpe)),Dr(g,Zpe)),g}function uI(){uI=r,P0e=new BC("ONE_SIDED",0,!0,!1,!1),cQ=new BC("TWO_SIDED",1,!1,!1,!1),L0e=new BC("ONE_SIDED_BEST_OF_UP_OR_DOWN",2,!0,!0,!1),F0e=new BC("TWO_SIDED_BEST_OF_UP_OR_DOWN",3,!1,!0,!1),D0e=new BC("ONE_SIDED_BEST_OF_UP_OR_DOWN_ORTHOGONAL_HYPEREDGES",4,!0,!0,!0),N0e=new BC("TWO_SIDED_BEST_OF_UP_OR_DOWN_ORTHOGONAL_HYPEREDGES",5,!1,!0,!0),I0e=new BC("ONE_SIDED_ORTHOGONAL_HYPEREDGES",6,!0,!1,!0),lQ=new BC("OFF",7,!1,!1,!1)}function EX(l,g,b,x,E,O,P){var I,B,q,K,J,ie,ce;return J=zr(Lt(Qr(_e(g,(Si(),nve))))),ie=null,O==(gs(),Sc)&&x.c.f==b?ie=x.c:O==Zu&&x.d.f==b&&(ie=x.d),q=P,!P||!J||ie?(K=(Ut(),vs),ie?K=ie.g:uh(T(_e(b,(Xt(),hr)),28))&&(K=O==Sc?kn:yn),B=f3t(l,g,b,O,K,x),I=mK((gc(b),x)),O==Sc?(uo(I,T(_t(B.f,0),7)),Ea(I,E)):(uo(I,E),Ea(I,T(_t(B.f,0),7))),q=new aIe(x,I,B,T(_e(B,(ht(),lr)),7),O,!ie)):(tn(P.e,x),ce=oO(T(_e(P.d,(Xt(),R0)),15).a,T(_e(x,R0),15).a),dt(P.d,R0,new li(ce))),wr(l.a,x,new MC(q.d,g,O)),q}function Zhe(l,g,b,x){var E,O,P,I,B,q,K,J;if(O=new bh(l),Wr(O,(zn(),Bo)),dt(O,(Xt(),hr),(lo(),Xu)),E=0,g){for(P=new mo,dt(P,(ht(),lr),g),dt(O,lr,g.f),ni(P,(Ut(),kn)),fa(P,O),J=T(Eo(g.b,Pt(ef,Yc,12,g.b.c.length,0,1)),47),q=0,K=J.length;q<K;++q)B=J[q],Ea(B,P);dt(g,rm,O),++E}if(b){for(I=new mo,dt(O,(ht(),lr),b.f),dt(I,lr,b),ni(I,(Ut(),yn)),fa(I,O),J=T(Eo(b.e,Pt(ef,Yc,12,b.e.c.length,0,1)),47),q=0,K=J.length;q<K;++q)B=J[q],uo(B,I);dt(b,rm,O),++E}return dt(O,(ht(),aM),yr(E)),x.c[x.c.length]=O,O}function s3t(l,g){var b,x,E,O,P,I,B;for(P=QY(l.a).mb();P.G();){if(O=T(P.H(),12),O.b.c.length>0)for(x=new _1(T(Ld(l.a,O),18)),mh(x,new un(g)),E=new pa(O.b,0);E.b<E.d.Y();){switch(b=(Jn(E.b<E.d.Y()),T(E.d.sb(E.c=E.b++),33)),I=-1,T(_e(b,(Xt(),rd)),107).e){case 2:I=x.c.length-1;break;case 1:I=x.c.length/2|0;break;case 3:I=0}I!=-1&&(B=(Ra(I,x.c.length),T(x.c[I],114)),tn(B.b.b,b),T(_e(gc(B.b.c.f),(ht(),Ou)),18).ib((Es(),rM)),T(_e(gc(B.b.c.f),Ou),18).ib(nM),up(E),dt(b,K0e,O))}uo(O,null),Ea(O,null)}}function u3t(l){var g,b,x,E,O,P,I,B,q,K,J;for(K=l.e.a.c.length,P=new ge(l.e.a);P.a<P.c.c.length;)O=T(pe(P),61),O.j=!1;for(l.i=Pt(ko,Co,26,K,12,1),l.g=Pt(ko,Co,26,K,12,1),l.n=new Pe,E=0,J=new Pe,B=new ge(l.e.a);B.a<B.c.c.length;)I=T(pe(B),61),I.b=E++,I.c.c.length==0&&tn(l.n,I),Na(J,I.g);for(g=0,x=new ge(J);x.a<x.c.c.length;)b=T(pe(x),89),b.b=g++,b.e=!1;q=J.c.length,l.b==null||l.b.length<q?(l.b=Pt(tf,Vl,26,q,12,1),l.c=Pt(XI,vI,26,q,13,1)):Cw(l.c),l.d=J,l.p=new Fa(PK(l.d.c.length)),l.j=1}function l3t(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je;for(be=l.d,Oe=g.d,ce=T(Yv(l,(gs(),Sc)).mb().H(),7),Be=T(Yv(l,Zu).mb().H(),7),fe=T(Yv(g,Sc).mb().H(),7),Je=T(Yv(g,Zu).mb().H(),7),J=T(Eo(ce.b,Pt(ef,Yc,12,1,0,1)),47),Re=T(Eo(Be.e,Pt(ef,Yc,12,1,0,1)),47),ie=T(Eo(fe.b,Pt(ef,Yc,12,1,0,1)),47),je=T(Eo(Je.e,Pt(ef,Yc,12,1,0,1)),47),fu(l,Oe),E=0,B=ie.length;E<B;++E)b=ie[E],Ea(b,ce);for(O=0,q=je.length;O<q;++O)b=je[O],uo(b,Be);for(fu(g,be),P=0,K=J.length;P<K;++P)b=J[P],Ea(b,fe);for(x=0,I=Re.length;x<I;++x)b=Re[x],uo(b,Je)}function c3t(l){var g,b,x,E,O,P,I,B;for(O=new ge(l.a.b);O.a<O.c.c.length;)E=T(pe(O),25),E.vc();for(B=new Gn(Gl,Gl),g=new Gn(pu,pu),x=new ge(l.a.b);x.a<x.c.c.length;)b=T(pe(x),25),B.a=Ri(B.a,b.j.d),B.b=Ri(B.b,b.j.e),g.a=rn(g.a,b.j.d+b.j.c),g.b=rn(g.b,b.j.e+b.j.b);for(I=jfe(l.c).mb();I.G();)P=T(I.H(),27),b=T(P.b,25),B.a=Ri(B.a,b.j.d),B.b=Ri(B.b,b.j.e),g.a=rn(g.a,b.j.d+b.j.c),g.b=rn(g.b,b.j.e+b.j.b);l.d=wD(new Gn(B.a,B.b)),l.e=Fv(new Gn(g.a,g.b),B),l.a.a.c=Pt(Ln,cn,1,0,4,1),l.a.b.c=Pt(Ln,cn,1,0,4,1)}function jFe(l){var g,b,x,E,O,P,I;if(I=T(_t(l.f,0),7),I.e.c.length!=0&&I.b.c.length!=0)throw new Vc("Interactive layout does not support NORTH/SOUTH ports with incoming _and_ outgoing edges.");if(I.e.c.length!=0){for(O=Gl,b=new ge(I.e);b.a<b.c.c.length;)g=T(pe(b),12),P=g.d.f,x=T(_e(P,(Xt(),CI)),65),O=Ri(O,P.i.a-x.b);return new Dt(mr(O))}if(I.b.c.length!=0){for(E=pu,b=new ge(I.b);b.a<b.c.c.length;)g=T(pe(b),12),P=g.c.f,x=T(_e(P,(Xt(),CI)),65),E=rn(E,P.i.a+P.j.a+x.c);return new Dt(mr(E))}return gl(),gl(),YX}function f3t(l,g,b,x,E,O){var P,I,B,q,K,J,ie;return q=x==(gs(),Sc)?O.c:O.d,B=VK(g),q.f==b?(P=T(Ki(l.b,q),9),P||(P=Az(q,T(_e(b,(Xt(),hr)),28),E,x==Sc?-1:1,q.j,B,g),dt(P,(ht(),lr),q),ca(l.b,q,P))):(K=T(_e(O,(Xt(),R0)),15).a,P=Az((J=new y,ie=T(_e(g,(ht(),xc)),15).a*T(_e(g,(Si(),N1)),15).a/2,dt(J,oM,new li(ie)),J),T(_e(b,hr),28),E,x==Sc?-1:1,new Gn(K,K),B,g),I=TOt(l,P,b,x),dt(P,lr,I),ca(l.b,I,P)),T(_e(g,(ht(),Ou)),18).ib((Es(),I0)),uh(T(_e(g,(Xt(),hr)),28))?dt(g,hr,(lo(),RI)):dt(g,hr,(lo(),pp)),P}function d3t(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt;x=T(_e(g,(Si(),eve)),15).a,ct=T(_e(g,cM),24).a,ie=4,E=3,Yt=20/ct,ce=!1,B=0,P=Bs;do{for(O=B!=1,J=B!=0,Qt=0,Oe=l.a,je=0,Je=Oe.length;je<Je;++je)fe=Oe[je],fe.g=null,Q3t(l,fe,O,J,x),Qt+=_s(fe.a);do I=$Rt(l,g);while(I);for(be=l.a,Re=0,Be=be.length;Re<Be;++Re)if(fe=be[Re],b=Lfe(fe).a,b!=0)for(K=new ge(fe.f);K.a<K.c.c.length;)q=T(pe(K),9),q.i.b+=b;B==0||B==1?(--ie,ie<=0&&(Qt<P||-ie>ct)?(B=2,P=Bs):B==0?(B=1,P=Qt):(B=0,P=Qt)):(ce=Qt>=P||P-Qt<Yt,P=Qt,ce&&--E)}while(!(ce&&E<=0))}function Qhe(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce;for(J=T(Eo(l.f,Pt(O7e,zNe,7,l.f.c.length,0,1)),346),q=0,K=J.length;q<K;++q){if(B=J[q],b!=(gs(),Sc))for(I=T(Eo(B.e,Pt(ef,Yc,12,B.e.c.length,0,1)),47),E=0,O=I.length;E<O;++E)x=I[E],ce=T(_e(x.d.f,(Si(),Us)),85),!zr(Lt(Qr(_e(x,(ht(),F1)))))&&!(g==(qc(),uM)&&ce==gb)&&ib(x,!0);if(b!=Zu)for(P=T(Eo(B.b,Pt(ef,Yc,12,B.b.c.length,0,1)),47),E=0,O=P.length;E<O;++E)x=P[E],ie=T(_e(x.c.f,(Si(),Us)),85),!zr(Lt(Qr(_e(x,(ht(),F1)))))&&!(g==(qc(),GI)&&ie==y2)&&ib(x,!0)}}function h3t(l,g,b,x){var E,O,P,I,B;if(P=l.g,P==(Ut(),vs)&&g!=(lo(),pp)&&g!=(lo(),u2)&&(P=CFe(l,b),ni(l,P),_e(l,(Xt(),Bx))==null&&P!=vs&&(l.i.a!=0||l.i.b!=0)&&dt(l,Bx,new li(Ykt(l,P)))),g==(lo(),T0)){switch(B=0,P.e){case 1:case 3:O=l.f.j.a,O>0&&(B=l.i.a/O);break;case 2:case 4:E=l.f.j.b,E>0&&(B=l.i.b/E)}dt(l,(ht(),hb),B)}if(I=l.j,x)l.a.a=x.a,l.a.b=x.b;else if(g!=pp&&g!=u2&&P!=vs)switch(P.e){case 1:l.a.a=I.a/2;break;case 2:l.a.a=I.a,l.a.b=I.b/2;break;case 3:l.a.a=I.a/2,l.a.b=I.b;break;case 4:l.a.b=I.b/2}else l.a.a=I.a/2,l.a.b=I.b/2}function g3t(l){var g,b,x,E;if(Zt(l.a,10))return fs(T(l.a,10));if(Zt(l.a,66))return CCt(T(l.a,86));if(Zt(l.a,50))return T(l.a,50).Wc();if(Zt(l.a,191)){for(g=new tC,E=(x=new UO(new RC(new fl(T(l.a,191).a).a).b),new Vm(x));Nw(E.a.a);)Ffe(g,(b=SD(E.a),b.yb()));return g}else{if(Zt(l.a,13))return new _1(T(l.a,13));if(Zt(l.a,44)){for(g=new ns,E=ta(T(l.a,44),0);E.b!=E.d.c;)Vi(g,T(Fi(E),10));return g}else if(Zt(l.a,58)){for(g=new Ds,E=ta(T(l.a,58),0);E.b!=E.d.c;)Vi(g,Fi(E));return g}else return l.a}}function lA(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe;I=0,fe=0,B=Dde(l.f,l.f.length),O=l.d,P=l.i,x=l.a,E=l.b;do{for(ce=0,K=new ge(l.p);K.a<K.c.c.length;)q=T(pe(K),9),ie=GFe(l,q),b=!0,(l.q==(Rx(),NI)||l.q==zI)&&(b=zr(Lt(Qr(ie.b)))),T(ie.a,24).a<0&&b?(++ce,B=Dde(l.f,l.f.length),l.d=l.d+T(ie.a,24).a,fe+=O-l.d,O=l.d+T(ie.a,24).a,P=l.i,x=wx(l.a),E=wx(l.b)):(l.f=Dde(B,B.length),l.d=O,l.a=(mr(x),x?new _1((fh(),x)):LC(new ge(null))),l.b=(mr(E),E?new _1((fh(),E)):LC(new ge(null))),l.i=P);++I,J=ce!=0&&zr(Lt(Qr(g.B(new Po(yr(fe),yr(I))))))}while(J)}function p3t(l,g,b,x){var E,O,P,I,B,q,K;if(!Yy(new ge(KD(l))))return x;for(K=WDe(T(Yo(l,(Xt(),Df)),86)),B=new ge(KD(l));B.a<B.c.c.length;)I=T(pe(B),129),q=WDe(T(Yo(I,Df),86)),q==($X(),wZ)&&(q=K),Sd(I,q.e),E=Q$t(b,q),E.c=rn(E.c,I.e.j.a),E.b+=I.e.j.b+g;for(P=new P9(new s0(b).a);l4(P.a);)switch(O=(P.b=xx(P.a),new Hw(P.c,P.b)),E=T(O.b.b[O.a.e],62),E.b-=g,T(O.a,67).e){case 12:case 13:case 14:x.d=rn(x.d,E.b+g);break;case 15:x.b=rn(x.b,E.c+g);break;case 17:x.c=rn(x.c,E.c+g);break;case 18:case 19:case 20:x.a=rn(x.a,E.b+g)}return x}function Jhe(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be;for(OLe(this),b==(bx(),D1)?ma(this.g,l):ma(this.o,l),ce=k0,ie=5e-324,q=(P=new wi(g.a).a.bb().mb(),new _i(P));q.a.G();)I=(E=T(q.a.H(),21),T(E.yb(),27)),K=T(I.a,223),x=T(I.b,12),J=x.c,J==l&&(J=x.d),K==D1?ma(this.g,J):ma(this.o,J),be=da(it(nt(Ci,1),Ei,10,0,[J.f.i,J.i,J.a])).b,ce=ce<be?ce:be,ie=ie>be?ie:be;for(fe=da(it(nt(Ci,1),Ei,10,0,[l.f.i,l.i,l.a])).b,TIe(this,fe,ce,ie),B=(O=new wi(g.a).a.bb().mb(),new _i(O));B.a.G();)I=(E=T(B.a.H(),21),T(E.yb(),27)),ma(this.c,T(I.b,12));this.f=!1}function v3t(l,g,b,x){var E,O,P,I,B,q;if(I=(Xt(),$I).b,!(I in g.a&&Ka(g,I).ic().a)){if(q=Ka(g,MX),q){if(!q.lc())throw new Hv("A label's 'text' property must be a string.",q,g)}else throw new Hv("Labels must have a property 'text'.",null,g);if(B=q.lc().a,O=new Z7(B),dt(O,(ht(),lr),g),ca(l.f,O,g),fX(g,O),mz(g,O),Zt(b,9)?tn(T(b,9).c,O):Zt(b,12)?tn(T(b,12).b,O):Zt(b,7)&&tn(T(b,7).c,O),Zt(b,12))switch(P=T(_e(O,rd),107),fX(g,O),dt(O,rd,P),E=T(_e(x,Ou),18),P.e){case 2:case 3:E.ib((Es(),rM));case 1:case 0:E.ib((Es(),nM)),dt(O,rd,(qv(),_I))}}}function ege(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re;for(O=0,P=0,q=new ge(l.a);q.a<q.c.c.length;)I=T(pe(q),9),O=rn(O,I.e.b),P=rn(P,I.e.c);for(B=new ge(l.a);B.a<B.c.c.length;){switch(I=T(pe(B),9),b=T(_e(I,(Xt(),wg)),103),b.e){case 1:fe=0;break;case 2:fe=1;break;case 5:fe=.5;break;default:for(x=0,J=0,ce=new ge(I.f);ce.a<ce.c.c.length;)ie=T(pe(ce),7),ie.b.c.length==0||++x,ie.e.c.length==0||++J;x+J==0?fe=.5:fe=J/(x+J)}Oe=l.c,K=I.j.a,Re=(Oe.a-K)*fe,fe>.5?Re-=P*2*(fe-.5):fe<.5&&(Re+=O*2*(.5-fe)),E=I.e.b,Re<E&&(Re=E),be=I.e.c,Re>Oe.a-be-K&&(Re=Oe.a-be-K),I.i.a=g+Re}}function m3t(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn;return b=l.l&8191,x=l.l>>13|(l.m&15)<<9,E=l.m>>4&8191,O=l.m>>17|(l.h&255)<<5,P=(l.h&1048320)>>8,I=g.l&8191,B=g.l>>13|(g.m&15)<<9,q=g.m>>4&8191,K=g.m>>17|(g.h&255)<<5,J=(g.h&1048320)>>8,Nt=b*I,ln=x*I,Rn=E*I,Dn=O*I,Wn=P*I,B!=0&&(ln+=b*B,Rn+=x*B,Dn+=E*B,Wn+=O*B),q!=0&&(Rn+=b*q,Dn+=x*q,Wn+=E*q),K!=0&&(Dn+=b*K,Wn+=x*K),J!=0&&(Wn+=b*J),ce=Nt&wh,fe=(ln&511)<<13,ie=ce+fe,Oe=Nt>>22,Re=ln>>9,je=(Rn&262143)<<4,Be=(Dn&31)<<17,be=Oe+Re+je+Be,ct=Rn>>18,Yt=Dn>>5,Qt=(Wn&4095)<<8,Je=ct+Yt+Qt,be+=ie>>22,ie&=wh,Je+=be>>22,be&=wh,Je&=r2,x1(ie,be,Je)}function y3t(l,g,b,x){var E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt;if(Oe=l.d.c.c.c.length,b>=Oe-1)return null;for(E=new Pe,E.c[E.c.length]=g,Je=g,P=b,fe=-1,I=T(_t(l.d.c.c,b),16),ce=0;ce<I.a.c.length;++ce)if(Re=T(_t(I.a,ce),9),Re==g){fe=ce;break}if(be=ige(l,1,fe,b,Oe,l.a),!be)return null;for(ct=l.a,ie=0,O=0;Je&&ct>1&&P<Oe-1;)K=OFe(l,Je),J=T(_t(l.d.c.c,P+1),16),Yt=T(be.sb(ie++),24).a,je=ig(Yt,J.a.c.length),aA(K,je,J),Je&&(E.c[E.c.length]=Je),Je=K,--ct,++O,++P;for(Be=(x-(E.c.length-1)*l.d.d)/E.c.length,q=new ge(E);q.a<q.c.c.length;)B=T(pe(q),9),B.j.a=Be;return new Po(yr(O),Be)}function b3t(l,g,b,x){var E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt;if(b<=0)return null;for(E=new Pe,E.c[E.c.length]=g,Je=g,P=b,fe=-1,I=T(_t(l.d.c.c,b),16),ce=0;ce<I.a.c.length;++ce)if(Oe=T(_t(I.a,ce),9),Oe==g){fe=ce;break}if(be=ige(l,0,fe,b,l.d.c.c.c.length,l.a),!be)return null;for(ct=l.a,ie=0,O=0,Be=fe;Je&&ct>1&&P>1;)K=OFe(l,Je),I=T(_t(l.d.c.c,P),16),J=T(_t(l.d.c.c,P-1),16),Yt=T(be.sb(ie++),24).a,Re=ig(Yt,J.a.c.length),aA(Je,Re,J),aA(K,Be,I),Be=Re,Je&&(E.c[E.c.length]=Je),Je=K,--ct,++O,--P;for(je=(x-(E.c.length-1)*l.d.d)/E.c.length,q=new ge(E);q.a<q.c.c.length;)B=T(pe(q),9),B.j.a=je;return new Po(yr(O),je)}function w3t(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe;if(l.b=l.c,fe=Qr(_e(g,(Xt(),cpe))),ce=fe==null||zr((hs(fe),fe)),O=T(_e(g,(ht(),Ou)),18).kb((Es(),I0)),E=T(_e(g,hr),28),b=!(E==(lo(),bA)||E==T0||E==Xu),ce&&(b||!O)){for(J=new ge(g.b);J.a<J.c.c.length;)q=T(pe(J),9),q.k=0;for(ie=new Pe,K=new ge(g.b);K.a<K.c.c.length;)if(q=T(pe(K),9),x=TFe(l,q,null),x){for(B=new Sde,eb(B,g),dt(B,h$,T(x.b,18)),sp(B.a,g.a),I=T(x.a,20).mb();I.G();)P=T(I.H(),9),tn(B.b,P),P.a=B;ie.ib(B)}O&&(l.b=l.a)}else ie=new zl(it(nt(ZTt,1),{38:1,39:1,42:1,3:1,8:1,5:1,6:1},55,0,[g]));return ie}function _3t(l){var g,b,x,E,O,P,I,B,q;for(b=new ge(l.a.a.b);b.a<b.c.c.length;)for(g=T(pe(b),25),P=g.i.mb();P.G();)O=T(P.H(),25),g.f!=O.f&&(sg(l.a.d)?B=l.a.g.tc(g,O):B=l.a.g.uc(g,O),x=g.g.a+g.j.c+B-O.g.a,x=Math.ceil(x),x=0>x?0:x,g.o&&O.o&&Zt(g,82)&&Zt(O,82)&&!OK(Cde(T(g,82).d,T(O,82).d))?(E=ux(new Ed,l.d),I=No(SC(O.g.a-g.g.a)),sA(l1(Of(p0(jl(new oc,0>I?0:I),1),E),l.c[g.f.d])),sA(l1(Of(p0(jl(new oc,0>-I?0:-I),1),E),l.c[O.f.d]))):(q=1,(Zt(g,82)&&Zt(O,93)||Zt(O,82)&&Zt(g,93))&&(q=2),sA(l1(Of(p0(jl(new oc,No(x)),q),l.c[g.f.d]),l.c[O.f.d]))))}function BFe(){BFe=r,Epe=new Aa,Spe=uA(it(nt(t$,1),cn,79,0,[(Xt(),npe),T8e])),xpe=uA(it(nt(t$,1),cn,79,0,[spe,sb,(Si(),ive),M8e,(ht(),Ch),cM,rve])),ype=uA(it(nt(t$,1),cn,79,0,[O8e,X4,$I,R8e,P8e,ope,L8e,fZ,cpe,EI,wQ,J0e,CQ,tve,qI,nve,ave,RQ,xQ])),_pe=uA(it(nt(t$,1),cn,79,0,[Q4,Z4,mA,R0,Bx,vQ,F0,kA,xc,lM,N1,eve])),wpe=uA(it(nt(t$,1),cn,79,0,[OI,wg,gp,r$,rd,ipe,ape,oZ,sZ,uZ,lZ,cZ,hr,kI,_Q,EQ,OQ,RA,wj,AQ,xj,_j,$Q,Us,Sj,TQ,MQ,fM,kQ])),bpe=uA(it(nt(t$,1),cn,79,0,[Df,s2,AI,SQ])),Zz=uA(it(nt(t$,1),cn,79,0,[xI,aZ,$o,CI,ob,yA])),h7e=uA(it(nt(t$,1),cn,79,0,[(Fde(),vpe)]))}function HFe(l){var g,b,x,E,O,P,I;for(g=0,O=new ge(l.b.a);O.a<O.c.c.length;)x=T(pe(O),78),x.b=0,x.c=0;for(j6e(l,0),YK(l,l.g),kz(l.c),Oy(l.c),b=(vo(),Id),$1(Aw(Xv($1(Aw(Xv($1(Xv(l.c,b)),eIe(b)))),b))),Xv(l.c,Id),UK(l,l.g),N6e(l,0),IFe(l,0),uFe(l,1),j6e(l,1),YK(l,l.d),kz(l.c),P=new ge(l.b.a);P.a<P.c.c.length;)x=T(pe(P),78),g+=_s(x.c);for(I=new ge(l.b.a);I.a<I.c.c.length;)x=T(pe(I),78),x.b=0,x.c=0;for(b=P1,$1(Aw(Xv($1(Aw(Xv($1(Oy(Xv(l.c,b))),eIe(b)))),b))),Xv(l.c,Id),UK(l,l.d),N6e(l,1),IFe(l,1),uFe(l,0),Oy(l.c),E=new ge(l.b.a);E.a<E.c.c.length;)x=T(pe(E),78),g+=_s(x.c);return g}function x3t(l){var g,b,x,E,O,P,I;for(g=new Pe,l.g=new Pe,l.d=new Pe,P=new GC(new qf(l.f.b).a);P.b;)O=T4(P),tn(g,T(T(O.zb(),27).b,25)),sg(T(O.yb(),251).yc())?tn(l.d,T(O.zb(),27)):tn(l.g,T(O.zb(),27));for(YK(l,l.d),YK(l,l.g),l.c=new Che(l.b),tO(l.c,(t1(),m7e)),UK(l,l.d),UK(l,l.g),Na(g,l.c.a.b),l.e=new Gn(Gl,Gl),l.a=new Gn(pu,pu),x=new ge(g);x.a<x.c.c.length;)b=T(pe(x),25),l.e.a=Ri(l.e.a,b.j.d),l.e.b=Ri(l.e.b,b.j.e),l.a.a=rn(l.a.a,b.j.d+b.j.c),l.a.b=rn(l.a.b,b.j.e+b.j.b);rC(l.c,new D),I=0;do E=HFe(l),++I;while((I<2||E>dI)&&I<10);rC(l.c,new j),HFe(l),ho(l.c),c3t(l.f)}function S3t(l){k4();var g,b,x,E,O,P,I;for(I=new Ym,b=new ge(l);b.a<b.c.c.length;)g=T(pe(b),48),(!I.b||g.c>=I.b.c)&&(I.b=g),(!I.c||g.c<=I.c.c)&&(I.d=I.c,I.c=g),(!I.e||g.d>=I.e.d)&&(I.e=g),(!I.f||g.d<=I.f.d)&&(I.f=g);return x=new dz((BD(),f2)),DD(l,C7e,new zl(it(nt(II,1),cn,160,0,[x]))),P=new dz(Gx),DD(l,E7e,new zl(it(nt(II,1),cn,160,0,[P]))),E=new dz(Wx),DD(l,S7e,new zl(it(nt(II,1),cn,160,0,[E]))),O=new dz(s$),DD(l,x7e,new zl(it(nt(II,1),cn,160,0,[O]))),yX(x.c,f2),yX(E.c,Wx),yX(O.c,s$),yX(P.c,Gx),I.a.c=Pt(Ln,cn,1,0,4,1),Na(I.a,x.c),Na(I.a,TK(E.c)),Na(I.a,O.c),Na(I.a,TK(P.c)),I}function E3t(l){var g,b,x,E,O,P,I,B,q,K;for(E=T(HT(l,(Xt(),mA)),15).a,I=new ge(d6e(l));I.a<I.c.c.length;){for(P=T(pe(I),626),b=new NFe(P),b.d=E,b.k=T(Yo(P,upe),15).a,x=T(Yo(P,kI),149),g=zr(Lt(Qr(_e(T(P.e,9),(ht(),H0e))))),K=new ge(e2(P));K.a<K.c.c.length;)q=T(pe(K),161),x==(eA(),hZ)?C3t(q,g,E):x==TI&&tTt(q,E),ERt(q);fTt(b,T(Yo(P,s2),86).kb((tb(),PI))),TRt(b),p3t(b.e,b.d,b.c,b.p),q3t(b),yOt(b),nEt(b),B=new m9((O=T(P.e,9).b,new ED(O.d,O.b,O.a,O.c))),B.b=b.p.b+b.q.b,B.c=b.p.c+b.q.c,B.d=b.p.d+b.q.d,B.a=b.p.a+b.q.a,T(P.e,9).b.b=B.b,T(P.e,9).b.d=B.d,T(P.e,9).b.c=B.c,T(P.e,9).b.a=B.a}}function UFe(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;for(B=T(jo(l,(Ut(),kn)).mb().H(),7).b,ce=T(jo(l,yn).mb().H(),7).e,I=B.c.length,Be=vc(T(_t(l.f,0),7));I-- >0;){for(be=(Ra(0,B.c.length),T(B.c[0],12)),E=(Ra(0,ce.c.length),T(ce.c[0],12)),je=E.d.b,O=mc(je,E,0),LEt(be,E.d,O),uo(E,null),Ea(E,null),fe=be.a,g&&Vi(fe,new se(Be)),x=ta(E.a,0);x.b!=x.d.c;)b=T(Fi(x),10),Vi(fe,new se(b));for(Re=be.b,ie=new ge(E.b);ie.a<ie.c.c.length;)J=T(pe(ie),33),Re.c[Re.c.length]=J;if(Oe=T(_e(be,(Xt(),$o)),44),P=T(_e(E,$o),44),P)for(Oe||(Oe=new ns,dt(be,$o,Oe)),K=ta(P,0);K.b!=K.d.c;)q=T(Fi(K),10),Vi(Oe,new se(q))}}function C3t(l,g,b){var x,E,O,P,I;if(O=jPe(XD(l)),!O.Nb().V()){switch(I=0,T(l.e,7).g.e){case 4:case 2:I=g&&zr(Lt(Qr(_e(T(l.e,7),(ht(),oze)))))?l.e.j.b:(l.e.j.b-T(O.Nb().sb(0),129).pc().b)/2-b;break;case 1:I=l.e.j.b;break;case 3:I=0}for(T(l.e,7).g==(Ut(),ur)&&$4(O),E=new ge(XD(l));E.a<E.c.c.length;){switch(x=T(pe(E),129),P=new se(l.e.i),T(l.e,7).g.e){case 4:P.a=l.e.j.a+b,P.b=I+b,I+=b+x.e.j.b;break;case 2:P.a=-x.e.j.a-b,P.b=I+b,I+=b+x.e.j.b;break;case 1:P.a=(l.e.j.a-x.e.j.a)/2,P.b=I+b,I+=b+x.e.j.b;break;case 3:P.a=(l.e.j.a-x.e.j.a)/2,P.b=I-b-x.e.j.b,I-=b+x.e.j.b}x.e.i.a=P.a,x.e.i.b=P.b}}}function $3t(l,g){var b,x,E,O,P,I,B,q,K,J;for(l.a=new Ife(l$t(wI)),x=new ge(g.a);x.a<x.c.c.length;){for(b=T(pe(x),347),I=new fz(it(nt(Qz,1),cn,25,0,[])),tn(l.a.a,I),q=new ge(b.d);q.a<q.c.c.length;)B=T(pe(q),62),K=new t9(l,B),tge(K,T(_e(b.c,(ht(),h$)),18)),ZO(l.g,b)||(ca(l.g,b,new Gn(B.d,B.e)),ca(l.f,b,K)),tn(l.a.b,K),rz(I,K);for(P=new ge(b.b);P.a<P.c.c.length;)O=T(pe(P),251),K=new t9(l,O.Bc()),ca(l.b,O,new Po(I,K)),tge(K,T(_e(b.c,(ht(),h$)),18)),O.zc()&&(J=new $de(l,O.zc(),1),tge(J,T(_e(b.c,h$),18)),E=new fz(it(nt(Qz,1),cn,25,0,[])),rz(E,J),wr(l.c,O.yc(),new Po(I,J)))}return l.a}function k3t(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;if(be=g.c.c.length,!(be<3)){for(ce=Pt(ko,Co,26,be,12,1),J=0,K=new ge(g.c);K.a<K.c.c.length;)q=T(pe(K),16),ce[J++]=q.a.c.length;for(ie=new pa(g.c,2),x=1;x<be-1;x++)for(b=(Jn(ie.b<ie.d.Y()),T(ie.d.sb(ie.c=ie.b++),16)),fe=new ge(b.a),O=0,I=0,B=0;B<ce[x+1];B++)if(Be=T(pe(fe),9),B==ce[x+1]-1||Nhe(l,Be,x+1,x)){for(P=ce[x]-1,Nhe(l,Be,x+1,x)&&(P=l.d.e[T(T(T(_t(l.d.b,Be.k),20).sb(0),27).a,9).k]);I<=B;){if(je=T(_t(b.a,I),9),!Nhe(l,je,x+1,x))for(Re=T(_t(l.d.b,je.k),20).mb();Re.G();)Oe=T(Re.H(),27),E=l.d.e[T(Oe.a,9).k],(E<O||E>P)&&ma(l.c,T(Oe.b,12));++I}O=P}}}function VFe(l,g,b){var x,E,O,P,I,B;for(this.g=l,I=g.d.length,B=b.d.length,this.d=Pt(Hs,bc,9,I+B,0,1),P=0;P<I;P++)this.d[P]=g.d[P];for(O=0;O<B;O++)this.d[I+O]=b.d[O];if(g.e){if(this.e=Hl(g.e),this.e.nb(b),b.e)for(E=b.e.mb();E.G();)x=T(E.H(),102),x!=g&&(this.e.kb(x)?--x.c:this.e.ib(x))}else b.e&&(this.e=Hl(b.e),this.e.nb(g));this.f=g.f+b.f,this.a=g.a+b.a,this.a>0?kK(this,this.f/this.a):Rf(g.g,g.d[0]).a!=null&&Rf(b.g,b.d[0]).a!=null?kK(this,(Lt(Rf(g.g,g.d[0]).a)+Lt(Rf(b.g,b.d[0]).a))/2):Rf(g.g,g.d[0]).a!=null?kK(this,Rf(g.g,g.d[0]).a):Rf(b.g,b.d[0]).a!=null&&kK(this,Rf(b.g,b.d[0]).a)}function O3t(l,g){var b,x,E,O,P,I,B,q,K,J,ie;switch(l.g.e){case 1:if(x=T(_e(l,(ht(),lr)),12),b=T(_e(x,q0e),44),b?zr(Lt(Qr(_e(x,F1))))&&(b=IK(b)):b=new ns,q=T(_e(l,_c),7),K=da(it(nt(Ci,1),Ei,10,0,[q.f.i,q.i,q.a])),g<=K.a)return K.b;if(zs(b,K,b.a,b.a.a),J=T(_e(l,Yl),7),ie=da(it(nt(Ci,1),Ei,10,0,[J.f.i,J.i,J.a])),ie.a<=g)return ie.b;for(zs(b,ie,b.c.b,b.c),B=ta(b,0),P=T(Fi(B),10),I=T(Fi(B),10);I.a<g&&B.b!=B.d.c;)P=I,I=T(Fi(B),10);return P.b+(g-P.a)/(I.a-P.a)*(I.b-P.b);case 3:switch(O=T(_e(T(_t(l.f,0),7),(ht(),lr)),7),E=O.f,O.g.e){case 1:return E.i.b;case 3:return E.i.b+E.j.b}}return che(l).b}function WFe(l){var g,b,x,E,O,P,I,B,q,K,J,ie;if(K=he(_e(l.c.f,(ht(),Xx)))===he(_e(l.d.f,Xx)),P=new is,b=T(_e(l,(Xt(),aZ)),44),b&&b.b>=2)for(S1(l.a),x=0,ie=ta(b,0);ie.b!=ie.d.c;)J=T(Fi(ie),10),x==0?(g=Fv(Fv(new Gn(J.a,J.b),l.c.i),l.c.f.i),l.c.a.a=g.a,l.c.a.b=g.b):x==b.b-1?(g=Fv(Fv(new Gn(J.a,J.b),l.d.i),l.d.f.i),l.d.a.a=g.a,l.d.a.b=g.b):Vi(l.a,J),++x;if(K)for(B=ta(l.a,0);B.b!=B.d.c;)I=T(Fi(B),10),P.a=rn(P.a,I.a),P.b=rn(P.b,I.b);for(O=new ge(l.b);O.a<O.c.c.length;)E=T(pe(O),33),q=T(_e(E,yA),10),q&&(E.i.a=q.a,E.i.b=q.b),K&&(P.a=rn(P.a,E.i.a+E.j.a),P.b=rn(P.b,E.i.b+E.j.b));return P}function A3t(l,g,b){var x,E,O,P,I,B,q;if(whe(g),x=T(_e(b,(ht(),Ou)),18),P=new bh(b),dt(P,lr,g),tn(b.b,P),O=T(Ka(g,"id"),97),H9(l.i,O.a,P),ca(l.j,P,g),fX(g,P),mz(g,P),"ports"in g.a){if(q=Ka(g,"ports"),!q.hc())throw new Hv("The 'ports' property of the node must be an array.",q,g);for(B=q.hc(),E=0;E<B.a.length;++E)Zt(qw(B,E),69)&&JRt(l,T(qw(B,E),69),P,b)}return Ehe(l,g,P,b),G4 in g.a&&Ka(g,G4).hc().a.length>0&&dt(P,H0e,(Sa(),Sa(),Qu)),I=T(_e(P,(Xt(),hr)),28),I==(lo(),u2)||I!=pp&&x.ib((Es(),c$)),zr(Lt(Qr(_e(P,X4))))&&x.ib((Es(),sQ)),zr(Lt(Qr(_e(P,EI))))&&(x.ib((Es(),uQ)),x.ib(gj),dt(P,hr,pp)),P}function tge(l,g){g.V()&&Mf(l.n,!0,!0,!0,!0),g.t((Ut(),_A))&&Mf(l.n,!0,!0,!0,!1),g.t(wA)&&Mf(l.n,!1,!0,!0,!0),g.t(xA)&&Mf(l.n,!0,!0,!1,!0),g.t(SA)&&Mf(l.n,!0,!1,!0,!0),g.t(Ux)&&Mf(l.n,!1,!0,!0,!1),g.t(Hx)&&Mf(l.n,!1,!0,!1,!0),g.t(Vx)&&Mf(l.n,!0,!1,!1,!0),g.t(a$)&&Mf(l.n,!0,!1,!0,!1),g.t(M0)&&Mf(l.n,!0,!0,!0,!0),g.t(ub)&&Mf(l.n,!0,!0,!0,!0),g.t(M0)&&Mf(l.n,!0,!0,!0,!0),g.t(sd)&&Mf(l.n,!0,!0,!0,!0),g.t(zd)&&Mf(l.n,!0,!0,!0,!0),g.t(Nd)&&Mf(l.n,!0,!0,!0,!0),g.t(ku)&&Mf(l.n,!0,!0,!0,!0)}function GFe(l,g){var b,x,E,O,P,I,B,q,K,J;for(B=!0,E=0,q=l.f[g.k],K=g.j.b+l.n,b=l.c[g.k][2],_x(l.a,q,yr(T(_t(l.a,q),24).a-1+b)),_x(l.b,q,Lt(ci(_t(l.b,q)))-K+b*l.e),++q,q>=l.i?(++l.i,tn(l.a,yr(1)),tn(l.b,K)):(x=l.c[g.k][1],_x(l.a,q,yr(T(_t(l.a,q),24).a+1-x)),_x(l.b,q,Lt(ci(_t(l.b,q)))+K-x*l.e)),(l.q==(Rx(),NI)&&(T(_t(l.a,q),24).a>l.j||T(_t(l.a,q-1),24).a>l.j)||l.q==zI&&(Lt(ci(_t(l.b,q)))>l.k||Lt(ci(_t(l.b,q-1)))>l.k))&&(B=!1),P=Jr(Qs(g));Br(P);)O=T(Ar(P),12),I=O.c.f,l.f[I.k]==q&&(J=GFe(l,I),E=E+T(J.a,24).a,B=B&&zr(Lt(Qr(J.b))));return l.f[g.k]=q,E=E+l.c[g.k][0],new Po(yr(E),(Sa(),B?Qu:ro))}function nge(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re;if(ie=new se(l.j),Re=g.a/ie.a,I=g.b/ie.b,be=g.a-ie.a,O=g.b-ie.b,b)for(E=he(_e(l,(Xt(),hr)))===he((lo(),Xu)),fe=new ge(l.f);fe.a<fe.c.c.length;)switch(ce=T(pe(fe),7),ce.g.e){case 1:E||(ce.i.a*=Re);break;case 2:ce.i.a+=be,E||(ce.i.b*=I);break;case 3:E||(ce.i.a*=Re),ce.i.b+=O;break;case 4:E||(ce.i.b*=I)}for(q=new ge(l.c);q.a<q.c.c.length;)B=T(pe(q),33),K=B.i.a+B.j.a/2,J=B.i.b+B.j.b/2,Oe=K/ie.a,P=J/ie.b,Oe+P>=1&&(Oe-P>0&&J>=0?(B.i.a+=be,B.i.b+=O*P):Oe-P<0&&K>=0&&(B.i.a+=be*Oe,B.i.b+=O));l.j.a=g.a,l.j.b=g.b,dt(l,(Xt(),s2),(tb(),x=T(Eu(J4),11),new $u(x,T(hc(x,x.length),11),0)))}function qFe(l){var g,b,x,E,O,P,I,B,q,K;for(x=new Pe,P=new ge(l.e.a);P.a<P.c.c.length;){for(E=T(pe(P),61),K=0,E.k.c=Pt(Ln,cn,1,0,4,1),b=new ge(qC(E));b.a<b.c.c.length;)g=T(pe(b),89),g.e&&(tn(E.k,g),++K);K==1&&(x.c[x.c.length]=E)}for(O=new ge(x);O.a<O.c.c.length;)for(E=T(pe(O),61);E.k.c.length==1;){for(q=T(pe(new ge(E.k)),89),l.b[q.b]=q.f,I=q.c,B=q.d,b=new ge(qC(E));b.a<b.c.c.length;)g=T(pe(b),89),g==q||(g.e?I==g.c||B==g.d?l.b[q.b]-=l.b[g.b]-g.f:l.b[q.b]+=l.b[g.b]-g.f:E==I?g.c==E?l.b[q.b]+=g.f:l.b[q.b]-=g.f:g.c==E?l.b[q.b]-=g.f:l.b[q.b]+=g.f);Ks(I.k,q),Ks(B.k,q),I==E?E=q.d:E=q.c}}function R3t(l){var g,b,x,E,O,P,I,B,q,K;for(q=new Ds,I=new Ds,O=new ge(l);O.a<O.c.c.length;)x=T(pe(O),77),x.e=x.d.c.length,x.k=x.j.c.length,x.e==0&&zs(q,x,q.c.b,q.c),x.k==0&&x.g.a.Y()==0&&zs(I,x,I.c.b,I.c);for(P=-1;q.b!=0;)for(x=T(ahe(q,0),77),b=new ge(x.j);b.a<b.c.c.length;)g=T(pe(b),117),K=g.b,K.n=Is(K.n,x.n+1),P=Is(P,K.n),--K.e,K.e==0&&zs(q,K,q.c.b,q.c);if(P>-1){for(E=ta(I,0);E.b!=E.d.c;)x=T(Fi(E),77),x.n=P;for(;I.b!=0;)for(x=T(ahe(I,0),77),b=new ge(x.d);b.a<b.c.c.length;)g=T(pe(b),117),B=g.a,B.g.a.Y()==0&&(B.n=ig(B.n,x.n-1),--B.k,B.k==0&&zs(I,B,I.c.b,I.c))}}function T3t(l,g,b,x){var E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct;for(B=new Pe,O=new ge(g.b);O.a<O.c.c.length;)for(E=T(pe(O),9),I=new ge(E.f);I.a<I.c.c.length;){for(P=T(pe(I),7),K=null,Be=T(Eo(P.e,Pt(ef,Yc,12,0,0,1)),47),Je=0,ct=Be.length;Je<ct;++Je)je=Be[Je],nA(je.d.f,b)||(Re=EX(l,g,b,je,je.c,(gs(),Zu),K),Re!=K&&(B.c[B.c.length]=Re),Re.c&&(K=Re));for(q=null,fe=T(Eo(P.b,Pt(ef,Yc,12,0,0,1)),47),be=0,Oe=fe.length;be<Oe;++be)ce=fe[be],nA(ce.c.f,b)||(Re=EX(l,g,b,ce,ce.d,(gs(),Sc),q),Re!=q&&(B.c[B.c.length]=Re),Re.c&&(q=Re))}for(ie=new ge(B);ie.a<ie.c.c.length;)J=T(pe(ie),187),mc(g.b,J.a,0)!=-1||tn(g.b,J.a),J.c&&(x.c[x.c.length]=J)}function M3t(l){var g,b,x,E,O,P,I,B,q;for(x=l.e.e.j,g=T(Yo(l.e,(Xt(),s2)),86).kb((tb(),PI)),LTt(l),O=new ge(e2(l.e));O.a<O.c.c.length;){switch(E=T(pe(O),161),I=T(Yo(E,Bx),15),!I&&(I=new li(0)),B=E.e.j,P=(b=T(E.e,7).d,new pg(b.d,b.b,b.a,b.c)),q=new se(E.e.i),T(E.e,7).g.e){case 4:q.a=-B.a-I.a,q.b=l.s-B.b-(g?P.a:0),l.s-=iO(l,(Ut(),kn))+B.b+(g?P.d+P.a:0);break;case 2:q.a=x.a+I.a,q.b=l.a+(g?P.d:0),l.a+=iO(l,(Ut(),yn))+B.b+(g?P.d+P.a:0);break;case 1:q.a=l.f+(g?P.b:0),q.b=-E.e.j.b-I.a,l.f+=iO(l,(Ut(),Hn))+B.a+(g?P.b+P.c:0);break;case 3:q.a=l.r-B.a-(g?P.c:0),q.b=x.b+I.a,l.r-=iO(l,(Ut(),ur))+B.a+(g?P.b+P.c:0)}E.e.i.a=q.a,E.e.i.b=q.b}}function P3t(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re;for(K=new Bl,J=new Bl,Oe=new Bl,Re=new Bl,q=T(_e(g,(ht(),xc)),15).a,O=q*T(_e(g,(Si(),N1)),15).a,zr(Lt(Qr(_e(g,(Xt(),SI))))),B=(ie=new wi(b.a).a.bb().mb(),new _i(ie));B.a.G();)if(I=(P=T(B.a.H(),21),T(P.yb(),9)),ce=T(_e(I,vu),32),ce==(Ut(),Hn))for(J.a.db(I,J),E=Jr(Qs(I));Br(E);)x=T(Ar(E),12),ma(K,x.c.f);else if(ce==ur)for(Re.a.db(I,Re),E=Jr(Qs(I));Br(E);)x=T(Ar(E),12),ma(Oe,x.c.f);K.a.Y()!=0&&(fe=new sX(2,O),be=qhe(fe,g,K,J,-q-g.d.b),be>0&&(l.a=q+(be-1)*O,g.d.b+=l.a,g.e.b+=l.a)),Oe.a.Y()!=0&&(fe=new sX(1,O),be=qhe(fe,g,Oe,Re,g.e.b+q-g.d.b),be>0&&(g.e.b+=q+(be-1)*O))}function YFe(l,g){var b,x,E,O,P,I,B,q,K;return Gi(),g.length==0?l.fc(oge,kX,-1,-1):(K=$x(g),Ya(K.substr(0,3),"at ")&&(K=PC(K,3,K.length-3)),K=K.replace(/\[.*?\]/g,""),P=K.indexOf("("),P==-1?(P=K.indexOf("@"),P==-1?(q=K,K=""):(q=$x(PC(K,P+1,K.length-(P+1))),K=$x(K.substr(0,P)))):(b=K.indexOf(")",P),q=K.substr(P+1,b-(P+1)),K=$x(K.substr(0,P))),P=pfe(K,yhe(46)),P!=-1&&(K=PC(K,P+1,K.length-(P+1))),(K.length==0||Ya(K,"Anonymous function"))&&(K=kX),I=Cfe(q,yhe(58)),E=ySt(q,yhe(58),I-1),B=-1,x=-1,O=oge,I!=-1&&E!=-1&&(O=q.substr(0,E),B=bY(q.substr(E+1,I-(E+1))),x=bY(PC(q,I+1,q.length-(I+1)))),l.fc(O,K,B,x))}function L3t(l){var g,b,x,E,O,P,I,B,q,K;for(q=new Pe,I=new Pe,P=new ge(l);P.a<P.c.c.length;)E=T(pe(P),80),E.c=E.b.c.length,E.f=E.e.c.length,E.c==0&&(q.c[q.c.length]=E),E.f==0&&E.j.b==0&&(I.c[I.c.length]=E);for(x=-1;q.c.length!=0;)for(E=T(HC(q,0),80),b=new ge(E.e);b.a<b.c.c.length;)g=T(pe(b),118),K=g.b,K.i=Is(K.i,E.i+1),x=Is(x,K.i),--K.c,K.c==0&&(q.c[q.c.length]=K);if(x>-1){for(O=new ge(I);O.a<O.c.c.length;)E=T(pe(O),80),E.i=x;for(;I.c.length!=0;)for(E=T(HC(I,0),80),b=new ge(E.b);b.a<b.c.c.length;)g=T(pe(b),118),B=g.a,!(B.j.b>0)&&(B.i=ig(B.i,E.i-1),--B.f,B.f==0&&(I.c[I.c.length]=B))}}function D3t(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be;if(zr(Lt(Qr(_e(b,(Xt(),fZ))))))for(I=new ge(b.f);I.a<I.c.c.length;)for(P=T(pe(I),7),J=T(Eo(P.e,Pt(ef,Yc,12,P.e.c.length,0,1)),47),q=0,K=J.length;q<K;++q)B=J[q],O=B.d.f==b,E=O&&zr(Lt(Qr(_e(B,fZ)))),E&&(ce=B.c,ie=T(Ki(l.b,ce),9),ie||(ie=Az(ce,(lo(),pp),ce.g,-1,ce.j,T(_e(g,gp),59),g),dt(ie,(ht(),lr),ce),ca(l.b,ce,ie),tn(g.b,ie)),be=B.d,fe=T(Ki(l.b,be),9),fe||(fe=Az(be,(lo(),pp),be.g,1,be.j,T(_e(g,gp),59),g),dt(fe,(ht(),lr),be),ca(l.b,be,fe),tn(g.b,fe)),x=mK(B),uo(x,T(_t(ie.f,0),7)),Ea(x,T(_t(fe.f,0),7)),wr(l.a,B,new MC(x,g,(gs(),Zu))),T(_e(g,(ht(),Ou)),18).ib((Es(),I0)))}function I3t(l,g,b,x,E,O){var P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;switch(ce=D4(l.g),be=D4(b.g),fe=ra(fs(l.i),l.a),Oe=ra(fs(b.i),b.a),P=ra(new se(fe),dh(new mx(ce),g)),I=ra(new se(Oe),dh(new mx(be),x)),q=rOt(l,E),E==(Ut(),ur)||E==yn?q+=O:q-=O,ie=new is,Re=new is,E.e){case 1:case 3:ie.a=P.a,ie.b=fe.b+q,Re.a=I.a,Re.b=ie.b;break;case 2:case 4:ie.a=fe.a+q,ie.b=P.b,Re.a=ie.a,Re.b=I.b;break;default:return null}switch(K=dh(ra(new Gn(ie.a,ie.b),Re),.5),J=new sK(it(nt(Ci,1),Ei,10,0,[fe,P,ie,K,Re,I,Oe])),B=SIe(J),Be=EIe(J),E.e){case 1:case 3:J.a=B,je=mOt(J);break;case 2:case 4:J.a=Be,je=vOt(J);break;default:return null}return hl(J,new uX(it(nt(Ci,1),Ei,10,0,[B,Be,je,fe,Oe]))),J}function F3t(l,g,b,x){var E,O,P,I,B,q,K,J,ie,ce;for(O=new R6e(g),J=JAt(l,g,O),ce=rn(T(_e(g,(Xt(),R0)),15).a,1),K=new ge(J.a);K.a<K.c.c.length;)q=T(pe(K),27),B=RDe(T(q.a,10),T(q.b,10),ce),o=!0,o=o&zv(b,new Gn(B.d,B.e)),o=o&zv(b,Wc(new Gn(B.d,B.e),B.c,0)),o=o&zv(b,Wc(new Gn(B.d,B.e),0,B.b)),o&zv(b,Wc(new Gn(B.d,B.e),B.c,B.b));switch(ie=O.d,I=RDe(T(J.b.a,10),T(J.b.b,10),ce),ie==(Ut(),kn)||ie==yn?(x.c[ie.e]=Ri(x.c[ie.e],I.e),x.b[ie.e]=rn(x.b[ie.e],I.e+I.b)):(x.c[ie.e]=Ri(x.c[ie.e],I.d),x.b[ie.e]=rn(x.b[ie.e],I.d+I.c)),E=pu,P=O.c.f.e,ie.e){case 4:E=P.c;break;case 2:E=P.b;break;case 1:E=P.a;break;case 3:E=P.d}return x.a[ie.e]=rn(x.a[ie.e],E),O}function N3t(l,g,b,x,E){var O,P,I,B,q,K,J,ie,ce,fe,be,Oe;for(O=new Pe,q=new ge(x);q.a<q.c.c.length;)if(I=T(pe(q),187),P=null,I.f==(gs(),Zu))for(fe=new ge(I.e);fe.a<fe.c.c.length;)ce=T(pe(fe),12),Oe=ce.d.f,gc(Oe)==g?BLe(l,g,I,ce,I.b,ce.d):!b||nA(Oe,b)?xOt(l,g,I,x,ce):(ie=EX(l,g,b,ce,I.b,Zu,P),ie!=P&&(O.c[O.c.length]=ie),ie.c&&(P=ie));else for(J=new ge(I.e);J.a<J.c.c.length;)if(K=T(pe(J),12),be=K.c.f,gc(be)==g)BLe(l,g,I,K,K.c,I.b);else{if(!b||nA(be,b))continue;ie=EX(l,g,b,K,I.b,Sc,P),ie!=P&&(O.c[O.c.length]=ie),ie.c&&(P=ie)}for(B=new ge(O);B.a<B.c.c.length;)I=T(pe(B),187),mc(g.b,I.a,0)!=-1||tn(g.b,I.a),I.c&&(E.c[E.c.length]=I)}function z3t(l){var g,b,x,E;for(g=l.e.j,x=new ge(e2(l));x.a<x.c.c.length;){switch(b=T(pe(x),161),E=T(Yo(b,(Xt(),Bx)),15),!E&&(E=new li(0)),T(b.e,7).g.e){case 4:b.e.i.b=g.b*Lt(ci(Yo(b,o$))),b.e.i.a=-b.e.j.a-E.a;break;case 2:b.e.i.b=g.b*Lt(ci(Yo(b,o$))),b.e.i.a=g.a+E.a;break;case 1:b.e.i.a=g.a*Lt(ci(Yo(b,o$))),b.e.i.b=-b.e.j.b-E.a;break;case 3:b.e.i.a=g.a*Lt(ci(Yo(b,o$))),b.e.i.b=g.b+E.a}switch(T(b.e,7).g.e){case 4:b.e.i.b=g.b*Lt(ci(Yo(b,o$))),b.e.i.a=-b.e.j.a-E.a;break;case 2:b.e.i.b=g.b*Lt(ci(Yo(b,o$))),b.e.i.a=g.a+E.a;break;case 1:b.e.i.a=g.a*Lt(ci(Yo(b,o$))),b.e.i.b=-b.e.j.b-E.a;break;case 3:b.e.i.a=g.a*Lt(ci(Yo(b,o$))),b.e.i.b=g.b+E.a}}}function j3t(l){var g,b,x,E,O,P,I,B,q;for(O=l.f,E=Hfe(dK(l)),q=ta(Hl(l.g),0);q.b!=q.d.c;)if(B=T(Fi(q),7),B.e.c.length==0){for(b=new ge(B.b);b.a<b.c.c.length;)if(g=T(pe(b),12),x=g.c,E.a.R(x)){for(P=new pa(O.f,0),I=(Jn(P.b<P.d.Y()),T(P.d.sb(P.c=P.b++),7));I!=B;)I=(Jn(P.b<P.d.Y()),T(P.d.sb(P.c=P.b++),7));Nv(P,x),RD(q,x),Ez(x,B.g),MD(q),MD(q),E.a.eb(x)!=null}}else for(b=new ge(B.e);b.a<b.c.c.length;)if(g=T(pe(b),12),x=g.d,E.a.R(x)){for(P=new pa(O.f,0),I=(Jn(P.b<P.d.Y()),T(P.d.sb(P.c=P.b++),7));I!=B;)I=(Jn(P.b<P.d.Y()),T(P.d.sb(P.c=P.b++),7));Jn(P.b>0),P.a.sb(P.c=--P.b),Nv(P,x),RD(q,x),Ez(x,B.g),MD(q),MD(q),E.a.eb(x)!=null}}function B3t(l){var g,b,x,E,O,P,I,B,q;O=new pi(l),E=Ka(O,"graph"),B=Ka(O,"success"),x=Ka(O,"error"),P=Ka(O,"options");try{if(!E||!E.kc())throw new JE("Mandatory parameter missing, 'graph' must be specified");W$t(new Ef,E.kc(),P?P.kc():null),I=E.kc().a,B&&B.kc()?eI(B.kc().a,I):eI(null,I)}catch(K){if(K=Fu(K),Zt(K,73))q=K,x&&x.kc()?eI(x.kc().a,D6e(q).a):eI(null,D6e(q).a);else if(Zt(K,54))g=K,b=new g0,Md(b,"type",new px(Ow(g.$c))),g.bc()!=null?Md(b,MX,new px(g.bc())):Md(b,MX,new px("null (sic)")),Md(b,RNe,new px(Ky(new nC(`
`),new o0(new zl((g.g==null&&(g.g=go(g)),g.g)))))),x&&x.kc()?eI(x.kc().a,b.a):eI(null,b.a),uhe(g,(Ww(),mze));else throw Nu(K)}}function H3t(l,g,b){var x,E,O,P,I,B,q,K,J,ie;if(b)for(x=-1,K=new pa(g,0);K.b<K.d.Y();){if(I=(Jn(K.b<K.d.Y()),T(K.d.sb(K.c=K.b++),9)),J=l.a[I.d.k][I.k].a,J==null){for(P=x+1,O=new pa(g,K.b);O.b<O.d.Y();)if(ie=Jce(l,(Jn(O.b<O.d.Y()),T(O.d.sb(O.c=O.b++),9))).a,ie!=null){P=(hs(ie),ie);break}J=(x+P)/2,l.a[I.d.k][I.k].a=J,l.a[I.d.k][I.k].d=(hs(J),J),l.a[I.d.k][I.k].b=1}x=(hs(J),J)}else{for(E=0,q=new ge(g);q.a<q.c.c.length;)I=T(pe(q),9),l.a[I.d.k][I.k].a!=null&&(E=rn(E,Lt(l.a[I.d.k][I.k].a)));for(E+=2,B=new ge(g);B.a<B.c.c.length;)I=T(pe(B),9),l.a[I.d.k][I.k].a==null&&(J=KC(l.e,24)*jX*E-1,l.a[I.d.k][I.k].a=J,l.a[I.d.k][I.k].d=J,l.a[I.d.k][I.k].b=1)}}function U3t(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe;for(B=0,q=0,fe=0,ce=0,P=0,ie=0,J=0,K=0,O=new P9(new s0(l.c).a);l4(O.a);)switch(E=(O.b=xx(O.a),new Hw(O.c,O.b)),x=T(E.b.b[E.a.e],62),T(E.a,67).e){case 12:case 13:case 14:ie+=x.c+g;break;case 15:case 16:case 17:J+=x.c+g,P=rn(P,x.b+g);break;case 18:case 19:case 20:K+=x.c+g;break;case 0:case 1:case 2:fe+=x.c+g;break;case 3:case 4:case 5:ce+=x.c+g;break;case 6:case 7:case 8:B+=x.b+g;break;case 9:case 10:case 11:q+=x.b+g}B-=g,q-=g,fe-=g,ce-=g,ie+=ie!=0?g:0,J+=J!=0?g:0,K+=K!=0?g:0,I=l.p.d+P+l.p.a,I+=I!=0?g:0,b.a=rn(b.a,fe),b.a=rn(b.a,ie),b.a=rn(b.a,J),b.a=rn(b.a,K),b.a=rn(b.a,ce),b.b=rn(b.b,B),b.b=rn(b.b,I),b.b=rn(b.b,q)}function V3t(l){var g,b,x,E,O,P,I,B;for(g=null,x=new ge(l);x.a<x.c.c.length;)b=T(pe(x),102),Lt(Rf(b.g,b.d[0]).a),b.b=null,b.e&&b.e.Y()>0&&b.c==0&&(!g&&(g=new Pe),g.c[g.c.length]=b);if(g)for(;g.c.length!=0;){if(b=T(HC(g,0),102),b.b&&b.b.c.length>0){for(O=(!b.b&&(b.b=new Pe),new ge(b.b));O.a<O.c.c.length;)if(E=T(pe(O),102),Lt(Rf(E.g,E.d[0]).a)==Lt(Rf(b.g,b.d[0]).a)){if(mc(l,E,0)>mc(l,b,0))return new Po(E,b)}else if(Lt(Rf(E.g,E.d[0]).a)>Lt(Rf(b.g,b.d[0]).a))return new Po(E,b)}for(I=(!b.e&&(b.e=new Pe),b.e).mb();I.G();)P=T(I.H(),102),B=(!P.b&&(P.b=new Pe),P.b),Ex(0,B.c.length),jw(B.c,0,b),P.c==B.c.length&&(g.c[g.c.length]=P)}return null}function W3t(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be;for(J=(hi(),new Rt),K=(Ha(),new Xf(dg(op(l.a,new h))));Br(K);)for(q=T(Ar(K),9),E=V$t(q,(Ut(),yn)),x=new ge(E);x.a<x.c.c.length;)for(b=T(pe(x),7),P=new ge(b.e);P.a<P.c.c.length;){for(O=T(pe(P),12),Gc(),be=O.d.f,(be.g==(zn(),va)||be.g==Sh)&&(be=T(_e(be,(ht(),Yl)),7).f),bl(J.d,be)?g=T(Fe(bl(J.d,be)),171):(E.c.length==2?he(b)===he((Ra(0,E.c.length),E.c[0]))?g=P0:g=L1:g=P0,Lf(J.d,be,g)),B=new ge(O.b);B.a<B.c.c.length;)I=T(pe(B),33),dt(I,(ht(),_g),g);for(fe=new ge(O.c.c);fe.a<fe.c.c.length;)ie=T(pe(fe),33),dt(ie,(ht(),_g),g);for(ce=new ge(O.d.c);ce.a<ce.c.c.length;)ie=T(pe(ce),33),dt(ie,(ht(),_g),g)}}function G3t(l,g){var b,x,E,O,P,I,B,q,K;if(NC(Ca(g))!=1||T(U9(Ca(g)),12).d.f.g!=(zn(),va))return null;for(O=T(U9(Ca(g)),12),b=O.d.f,Wr(b,(zn(),wc)),dt(b,(ht(),_c),null),dt(b,Yl,null),dt(b,(Xt(),hr),T(_e(g,hr),28)),dt(b,Df,T(_e(g,Df),86)),E=_e(O.c,lr),P=null,q=jo(b,(Ut(),yn)).mb();q.G();)if(I=T(q.H(),7),I.e.c.length!=0){dt(I,lr,E),K=O.c,I.j.a=K.j.a,I.j.b=K.j.b,I.a.a=K.a.a,I.a.b=K.a.b,Na(I.c,K.c),K.c.c=Pt(Ln,cn,1,0,4,1),P=I;break}if(dt(O.c,lr,null),!PD(jo(g,yn)))for(B=new ge(wx(jo(g,yn)));B.a<B.c.c.length;)I=T(pe(B),7),I.e.c.length==0?(x=new mo,ni(x,yn),x.j.a=I.j.a,x.j.b=I.j.b,fa(x,b),dt(x,lr,_e(I,lr)),fa(I,null)):fa(P,b);return b.j.b=g.j.b,tn(l.b,b),b}function q3t(l){var g,b,x,E,O,P,I,B,q;if(O=l.e.e.j,P=new se(O),B=T(Yo(l.e,(Xt(),s2)),86),q=T(Yo(l.e,AI),86),I=T(Yo(l.e,hr),28),g=gg(B,(tb(),PI)),B.c!=0){switch(O.a=0,O.b=0,x=null,I.e){case 1:case 2:case 3:x=dAt(l,l.k);break;case 4:x=new se(P);break;case 5:x=tRt(l.e,g)}gg(B,pZ)&&(x&&(O.a=rn(O.a,x.a),O.b=rn(O.b,x.b)),g&&(O.a=rn(O.a,l.q.b+l.q.c+l.k),O.b=rn(O.b,l.q.d+l.q.a+l.k))),gg(B,gZ)&&Yy(new ge(KD(l.e)))&&U3t(l,l.d,O),gg(B,MI)&&(E=T(Yo(l.e,Q4),15).a,b=T(Yo(l.e,Z4),15).a,gg(q,(oA(),LI))&&(E<=0&&(E=20),b<=0&&(b=20)),gg(q,yZ)?(E>0&&(O.a=rn(O.a,E+l.q.b+l.q.c)),b>0&&(O.b=rn(O.b,b+l.q.d+l.q.a))):(E>0&&(O.a=rn(O.a,E)),b>0&&(O.b=rn(O.b,b)))),afe(l.e,O)}}function KFe(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce;if(!l.b)return!1;for(P=null,ie=null,B=new xK(null,null),E=1,B.a[1]=l.b,J=B;J.a[E];)q=E,I=ie,ie=J,J=J.a[E],x=l.a.$b(g,J.d),E=x<0?0:1,x==0&&(!b.c||ed(J.e,b.d))&&(P=J),!(J&&J.b)&&!ag(J.a[E])&&(ag(J.a[1-E])?ie=ie.a[q]=tz(J,E):ag(J.a[1-E])||(ce=ie.a[1-q],ce&&(!ag(ce.a[1-q])&&!ag(ce.a[q])?(ie.b=!1,ce.b=!0,J.b=!0):(O=I.a[1]==ie?1:0,ag(ce.a[q])?I.a[O]=XPe(ie,q):ag(ce.a[1-q])&&(I.a[O]=tz(ie,q)),J.b=I.a[O].b=!0,I.a[O].a[0].b=!1,I.a[O].a[1].b=!1))));return P&&(b.b=!0,b.d=P.e,J!=P&&(K=new xK(J.d,J.e),COt(l,B,P,K),ie==P&&(ie=K)),ie.a[ie.a[1]==J?1:0]=J.a[J.a[0]?0:1],--l.c),l.b=B.a[1],l.b&&(l.b.b=!1),b.b}function Y3t(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je;for(x=T(_e(l,(Xt(),hr)),28),B=l.e,I=l.a,b=T(_e(l,(ht(),F0)),15).a,q=B.a+I.b+I.c+2*b,K=0-I.d-b-l.d.b,ce=B.b+I.d+I.a+2*b-l.d.b,J=new Pe,fe=new Pe,O=(ie=new wi(g.a).a.bb().mb(),new _i(ie));O.a.G();){switch(E=(P=T(O.a.H(),21),T(P.yb(),9)),x.e){case 1:case 2:case 3:oAt(E);break;case 4:be=T(_e(E,ob),10),Oe=be?be.a:0,E.i.a=q*Lt(ci(_e(E,hb)))-Oe,cz(E,!0,!1);break;case 5:Re=T(_e(E,ob),10),je=Re?Re.a:0,E.i.a=Lt(ci(_e(E,hb)))-je,cz(E,!0,!1),B.a=rn(B.a,E.i.a+E.j.a/2)}switch(T(_e(E,vu),32).e){case 1:E.i.b=K,J.c[J.c.length]=E;break;case 3:E.i.b=ce,fe.c[fe.c.length]=E}}switch(x.e){case 1:case 2:ZDe(J,l),ZDe(fe,l);break;case 3:QDe(J,l),QDe(fe,l)}}function K3t(l){var g,b,x,E,O,P;return x=T(_e(l.a.g,(Xt(),Df)),86),vIe(x,(rb(),g=T(Eu(za),11),new $u(g,T(hc(g,g.length),11),0)))||(Xw(x,uz(Xc))?(b=T(T(Ld(l.a.b,l.b),20).sb(0),33),l.b.i.a=b.i.a,l.b.i.b=b.i.b):Xw(x,uz(Qc))?(E=T(_t(l.a.c,l.a.c.c.length-1),9),O=T(T(Ld(l.a.b,l.b),20).sb(T(Ld(l.a.b,l.b),20).Y()-1),33),P=E.j.a-(O.i.a+O.j.a),l.b.i.a=l.a.g.j.a-P-l.b.j.a,l.b.i.b=O.i.b):Xw(x,Ii(ad,it(nt(za,1),on,41,0,[xh])))?(b=T(T(Ld(l.a.b,l.b),20).sb(0),33),l.b.i.a=(l.a.g.j.a-l.b.j.a)/2,l.b.i.b=b.i.b):Xw(x,uz(ad))?(b=T(T(Ld(l.a.b,l.b),20).sb(0),33),l.b.i.b=b.i.b):Xw(x,uz(xh))&&(b=T(T(Ld(l.a.b,l.b),20).sb(0),33),l.b.i.a=(l.a.g.j.a-l.b.j.a)/2,l.b.i.b=b.i.b)),null}function XFe(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe;for(fe=new ge(l);fe.a<fe.c.c.length;){for(ce=T(pe(fe),9),Qf(ce.i),Qf(ce.j),VAt(ce),mAt(ce),Oe=new ge(ce.f);Oe.a<Oe.c.c.length;){for(be=T(pe(Oe),7),Qf(be.i),Qf(be.a),Qf(be.j),ni(be,DIe(be.g)),O=T(_e(be,(Xt(),sb)),24),O&&dt(be,sb,yr(-O.a)),E=new ge(be.e);E.a<E.c.c.length;){for(x=T(pe(E),12),b=ta(x.a,0);b.b!=b.d.c;)g=T(Fi(b),10),Qf(g);if(B=T(_e(x,$o),44),B)for(I=ta(B,0);I.b!=I.d.c;)P=T(Fi(I),10),Qf(P);for(J=new ge(x.b);J.a<J.c.c.length;)q=T(pe(J),33),Qf(q.i),Qf(q.j)}for(ie=new ge(be.c);ie.a<ie.c.c.length;)q=T(pe(ie),33),Qf(q.i),Qf(q.j)}for(ce.g==(zn(),Ta)&&(dt(ce,(ht(),vu),DIe(T(_e(ce,vu),32))),TAt(ce)),K=new ge(ce.c);K.a<K.c.c.length;)q=T(pe(K),33),Qf(q.j),Qf(q.i)}}function X3t(l,g,b,x){var E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je;for(gOt(b),nA(g.d.f,g.c.f)?(K=g.c,J=da(it(nt(Ci,1),Ei,10,0,[K.i,K.a])),q=K.f.b,Wc(J,-q.b,-q.d),J.a-=x.a,J.b-=x.b):J=vc(g.c),J.a+=x.a,J.b+=x.b,ie=new g0,yh(l,ie,"x",J.a),yh(l,ie,"y",J.b),Md(b,"sourcePoint",ie),ce=vc(g.d),_e(g,(ht(),yQ))!=null&&ra(ce,T(_e(g,yQ),10)),ra(ce,x),fe=new g0,yh(l,fe,"x",ce.a),yh(l,fe,"y",ce.b),Md(b,"targetPoint",fe),E=new pt,je=Kw(g.a,x),O=0,Re=ta(je,0);Re.b!=Re.d.c;)be=T(Fi(Re),10),B=new g0,yh(l,B,"x",be.a),yh(l,B,"y",be.b),fPe(E,O++,B);if(je.b==0?Md(b,LX,null):Md(b,LX,E),P=T(_e(g,(Xt(),$o)),44),O=0,P){for(Kw(P,x),I=new pt,Oe=ta(P,0);Oe.b!=Oe.d.c;)be=T(Fi(Oe),10),B=new g0,yh(l,B,"x",be.a),yh(l,B,"y",be.b),fPe(I,O++,B);Md(b,TNe,I)}else Md(b,TNe,null)}function Z3t(l,g,b,x){var E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re;if(be=l.i,Oe=l.j,ie=l.e,g){for(J=x/2*(g.Y()-1),ce=0,q=g.mb();q.G();)I=T(q.H(),9),J+=I.j.a,ce=rn(ce,I.j.b);for(Re=be.a-(J-Oe.a)/2,P=be.b-ie.d+ce,E=Oe.a/(g.Y()+1),O=E,B=g.mb();B.G();)I=T(B.H(),9),I.i.a=Re,I.i.b=P-I.j.b,Re+=I.j.a+x/2,K=Q6e(I),K.i.a=I.j.a/2-K.a.a,K.i.b=I.j.b,fe=T(_e(I,(ht(),mj)),7),fe.b.c.length+fe.e.c.length==1&&(fe.i.a=O-fe.a.a,fe.i.b=0,fa(fe,l)),O+=E}if(b){for(J=x/2*(b.Y()-1),ce=0,q=b.mb();q.G();)I=T(q.H(),9),J+=I.j.a,ce=rn(ce,I.j.b);for(Re=be.a-(J-Oe.a)/2,P=be.b+Oe.b+ie.a-ce,E=Oe.a/(b.Y()+1),O=E,B=b.mb();B.G();)I=T(B.H(),9),I.i.a=Re,I.i.b=P,Re+=I.j.a+x/2,K=Q6e(I),K.i.a=I.j.a/2-K.a.a,K.i.b=0,fe=T(_e(I,(ht(),mj)),7),fe.b.c.length+fe.e.c.length==1&&(fe.i.a=O-fe.a.a,fe.i.b=Oe.b,fa(fe,l)),O+=E}}function Q3t(l,g,b,x,E){var O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt;for(Yt=0,ce=0,J=new ge(g.f);J.a<J.c.c.length;){for(K=T(pe(J),9),ie=0,I=0,B=b?T(_e(K,lj),24).a:A1,Re=x?T(_e(K,cj),24).a:A1,q=B>Re?B:Re,Be=new ge(K.f);Be.a<Be.c.c.length;){if(je=T(pe(Be),7),Je=K.i.b+je.i.b+je.a.b,x)for(P=new ge(je.e);P.a<P.c.c.length;)O=T(pe(P),12),be=O.d,fe=be.f,g!=l.a[fe.k]&&(Oe=Is(T(_e(fe,lj),24).a,T(_e(fe,cj),24).a),ct=T(_e(O,(ht(),Ch)),24).a,ct>=q&&ct>=Oe&&(ie+=fe.i.b+be.i.b+be.a.b-Je,++I));if(b)for(P=new ge(je.b);P.a<P.c.c.length;)O=T(pe(P),12),be=O.c,fe=be.f,g!=l.a[fe.k]&&(Oe=Is(T(_e(fe,lj),24).a,T(_e(fe,cj),24).a),ct=T(_e(O,(ht(),Ch)),24).a,ct>=q&&ct>=Oe&&(ie+=fe.i.b+be.i.b+be.a.b-Je,++I))}I>0&&(Yt+=ie/I,++ce)}ce>0?(g.a=E*Yt/ce,g.i=ce):(g.a=0,g.i=0)}function J3t(l,g,b,x){var E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je;for(ce=g.c.length,ie=0,J=new ge(l.c);J.a<J.c.c.length;)if(K=T(pe(J),16),Re=K.a,Re.c.length!=0){for(Oe=new ge(Re),q=0,je=null,E=T(pe(Oe),9);E;){if(O=T(_t(g,E.k),111),O.c>=0){for(B=null,I=new pa(K.a,q+1);I.b<I.d.Y()&&(P=(Jn(I.b<I.d.Y()),T(I.d.sb(I.c=I.b++),9)),B=T(_t(g,P.k),111),!(B.d==O.d&&B.c<O.c));)B=null;B&&(je&&(_x(x,E.k,yr(T(_t(x,E.k),24).a-1)),T(_t(b,je.k),20).nb(O)),O=oOt(O,E,ce++),g.c[g.c.length]=O,tn(b,new Pe),je?(T(_t(b,je.k),20).ib(O),tn(x,yr(1))):tn(x,yr(0)))}fe=null,Oe.a<Oe.c.c.length&&(fe=T(pe(Oe),9),be=T(_t(g,fe.k),111),T(_t(b,E.k),20).ib(be),_x(x,fe.k,yr(T(_t(x,fe.k),24).a+1))),O.d=ie,O.c=q++,je=E,E=fe}++ie}zr(Lt(Qr(_e(l,(Xt(),SI)))))}function Xv(l,g){var b;if(l.e)throw new Vc((Vw(EZ),"The "+EZ.j+LNe));if(!kd(l.a,g))throw new te("The direction "+g+" is not supported by the CGraph instance.");if(g==l.d)return l;switch(b=l.d,l.d=g,b.e){case 0:switch(g.e){case 2:C1(l);break;case 1:Kv(l),C1(l);break;case 4:kx(l),C1(l);break;case 3:kx(l),Kv(l),C1(l)}break;case 2:switch(g.e){case 1:Kv(l),wX(l);break;case 4:kx(l),C1(l);break;case 3:kx(l),Kv(l),C1(l)}break;case 1:switch(g.e){case 2:Kv(l),wX(l);break;case 4:Kv(l),kx(l),C1(l);break;case 3:Kv(l),kx(l),Kv(l),C1(l)}break;case 4:switch(g.e){case 2:kx(l),C1(l);break;case 1:kx(l),Kv(l),C1(l);break;case 3:Kv(l),wX(l)}break;case 3:switch(g.e){case 2:Kv(l),kx(l),C1(l);break;case 1:Kv(l),kx(l),Kv(l),C1(l);break;case 4:Kv(l),wX(l)}}return l}function rge(l,g,b){var x,E,O,P,I,B,q,K,J;if(!l.a[g.d.k][g.k].e){for(l.a[g.d.k][g.k].e=!0,l.a[g.d.k][g.k].b=0,l.a[g.d.k][g.k].d=0,l.a[g.d.k][g.k].a=null,K=new ge(g.f);K.a<K.c.c.length;)for(q=T(pe(K),7),J=b?new Ur(q):new Er(q),B=J.mb();B.G();)I=T(B.H(),7),P=I.f,P.d==g.d?P!=g&&(rge(l,P,b),l.a[g.d.k][g.k].b+=l.a[P.d.k][P.k].b,l.a[g.d.k][g.k].d+=l.a[P.d.k][P.k].d):(l.a[g.d.k][g.k].d+=l.d[I.k],++l.a[g.d.k][g.k].b);if(O=T(_e(g,(ht(),j0e)),20),O)for(E=O.mb();E.G();)x=T(E.H(),9),g.d==x.d&&(rge(l,x,b),l.a[g.d.k][g.k].b+=l.a[x.d.k][x.k].b,l.a[g.d.k][g.k].d+=l.a[x.d.k][x.k].d);l.a[g.d.k][g.k].b>0&&(l.a[g.d.k][g.k].d+=KC(l.e,24)*jX*.07000000029802322-.03500000014901161,l.a[g.d.k][g.k].a=l.a[g.d.k][g.k].d/l.a[g.d.k][g.k].b)}}function eTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie;for(E=new ge(l.a.c);E.a<E.c.c.length;)for(b=T(pe(E),16),B=new ge(b.a);B.a<B.c.c.length;)I=T(pe(B),9),g.i[I.k]=I,g.g[I.k]=g.k==(mg(),Eh)?pu:Gl;for(P=l.a.c,g.c==(lp(),tm)&&(P=Zt(P,87)?$4(T(P,87)):Zt(P,88)?T(P,88).a:Zt(P,63)?new Pn(P):new Ny(P)),OCt(l.e,g,l.b),FT(g.n),O=P.mb();O.G();)for(b=T(O.H(),16),q=b.a,g.k==(mg(),Eh)&&(q=Zt(q,87)?$4(T(q,87)):Zt(q,88)?T(q,88).a:Zt(q,63)?new Pn(q):new Ny(q)),ie=q.mb();ie.G();)J=T(ie.H(),9),g.f[J.k]==J&&iNe(l,J,g);for(r3t(l,g),x=P.mb();x.G();)for(b=T(x.H(),16),ie=new ge(b.a);ie.a<ie.c.c.length;)J=T(pe(ie),9),g.n[J.k]=g.n[g.f[J.k].k],J==g.f[J.k]&&(K=Lt(g.g[g.i[J.k].k]),(g.k==(mg(),Eh)&&K>pu||g.k==lb&&K<Gl)&&(g.n[J.k]=Lt(g.n[J.k])+K));l.e.Jc()}function ZFe(l,g){var b,x,E,O,P,I,B,q,K,J,ie;q$t(g,it(nt(t$,1),cn,79,0,[(ht(),xc),F0,(Si(),cM),kA])),q=T(_e(g,xc),15).a,T(_e(g,N1),15).a*q<2&&dt(g,N1,new li(2/q)),K=T(_e(g,(Xt(),gp)),59),K==(vo(),hp)&&dt(g,gp,VK(g)),J=T(_e(g,ive),24),J.a==0?dt(g,AA,new sIe):dt(g,AA,new qLe(J.a)),ie=new JFe(g),dt(g,Qx,ie),E=J9(l,T(_e(g,EQ),180)),I=J9(l,T(_e(g,OQ),180)),x=J9(l,T(_e(g,wj),180)),B=J9(l,T(_e(g,AQ),180)),O=J9(l,Efe(T(_e(g,W0e),122))),P=new no,dt(g,aze,P),Xs(Xs(Xs(Xs(Xs(Xs(P,E.qc(g)),I.qc(g)),x.qc(g)),B.qc(g)),O.qc(g)),o3t(g)),b=(wl(30,Dx),new yc(30)),dt(g,X0e,b),Na(b,tI(l,P,0)),b.c[b.c.length]=E,Na(b,tI(l,P,1)),b.c[b.c.length]=I,Na(b,tI(l,P,2)),b.c[b.c.length]=x,Na(b,tI(l,P,3)),b.c[b.c.length]=B,Na(b,tI(l,P,4)),b.c[b.c.length]=O,Na(b,tI(l,P,5))}function tTt(l,g){var b,x,E,O,P,I;if(O=jPe(XD(l)),!O.Nb().V()){switch(E=T(_e(T(T(T(O.Nb().sb(0),129),224).e,33),(Gc(),d7e)),171),E=E==DI?L1:E,I=0,T(l.e,7).g.e){case 4:case 2:E==L1&&(I=l.e.j.b);break;case 3:I=l.e.j.b}for((T(l.e,7).g==(Ut(),Hn)||E==P0)&&(O=$4(O)),x=R4(O.Nb().mb());x.G();){if(b=T(x.H(),129),P=new se(b.e.i),E==P0)switch(T(l.e,7).g.e){case 1:case 4:P.a=-b.e.j.a-g,P.b=I-g-b.e.j.b,I-=g+b.e.j.b;break;case 2:P.a=l.e.j.a+g,P.b=I-g-b.e.j.b,I-=g+b.e.j.b;break;case 3:P.a=-b.e.j.a-g,P.b=I+g,I+=g+b.e.j.b}else switch(T(l.e,7).g.e){case 4:P.a=-b.e.j.a-g,P.b=I+g,I+=g+b.e.j.b;break;case 2:P.a=l.e.j.a+g,P.b=I+g,I+=g+b.e.j.b;break;case 1:P.a=l.e.j.a+g,P.b=I-g-b.e.j.b,I-=g+b.e.j.b;break;case 3:P.a=l.e.j.a+g,P.b=I+g,I+=g+b.e.j.b}b.e.i.a=P.a,b.e.i.b=P.b}}}function nTt(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce;for(x=0,E=0,K=0;K<l.length;K++)if(B=l[K],Ns(T(_e(B,(Xt(),hr)),28)))for(P=jo(B,(Ut(),yn)).mb();P.G();)O=T(P.H(),7),O.b.c.length+O.e.c.length>0&&(x+=O.b.c.length+O.e.c.length,ca(g,O,yr(x)));else{for(I=jo(B,(Ut(),yn)).mb();I.G();)O=T(I.H(),7),x+=O.b.c.length+O.e.c.length;for(P=jo(B,yn).mb();P.G();)O=T(P.H(),7),O.b.c.length+O.e.c.length>0&&ca(g,O,yr(x))}for(q=l.length-1;q>=0;q--)if(B=l[q],Ns(T(_e(B,(Xt(),hr)),28)))for(ie=jo(B,(Ut(),kn)).mb();ie.G();)J=T(ie.H(),7),J.b.c.length+J.e.c.length>0&&(E+=J.b.c.length+J.e.c.length,ca(b,J,yr(E)));else{for(ce=jo(B,(Ut(),kn)).mb();ce.G();)J=T(ce.H(),7),E+=J.b.c.length+J.e.c.length;for(ie=jo(B,kn).mb();ie.G();)J=T(ie.H(),7),J.b.c.length+J.e.c.length>0&&ca(b,J,yr(E))}}function rTt(l,g,b,x,E){var O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re;switch(ie=D4(l.g),fe=D4(g.g),ce=ra(fs(l.i),l.a),be=ra(fs(g.i),g.a),B=ra(new Gn(ce.a,ce.b),dh(new mx(ie),1.3*b)),Oe=ra(new Gn(be.a,be.b),dh(new mx(fe),1.3*x)),I=_s(B.a-Oe.a),I<E&&(l.g==(Ut(),kn)||l.g==yn?B.a<Oe.a?B.a=Oe.a-E:B.a=Oe.a+E:B.a<Oe.a?Oe.a=B.a+E:Oe.a=B.a-E),O=0,P=0,l.g.e){case 4:O=2*(ce.a-b)-.5*(B.a+Oe.a);break;case 2:O=2*(ce.a+b)-.5*(B.a+Oe.a);break;case 1:P=2*(ce.b-b)-.5*(B.b+Oe.b);break;case 3:P=2*(ce.b+b)-.5*(B.b+Oe.b)}switch(g.g.e){case 4:O=2*(be.a-x)-.5*(Oe.a+B.a);break;case 2:O=2*(be.a+x)-.5*(Oe.a+B.a);break;case 1:P=2*(be.b-x)-.5*(Oe.b+B.b);break;case 3:P=2*(be.b+x)-.5*(Oe.b+B.b)}return J=new Gn(O,P),K=new sK(it(nt(Ci,1),Ei,10,0,[ce,B,J,Oe,be])),q=SIe(K),Re=EIe(K),K.a=q,hl(K,new uX(it(nt(Ci,1),Ei,10,0,[q,Re,ce,be]))),K}function QFe(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe;for(B=b.a,E=T(_e(b,(ht(),F0)),15).a,fe=b.d,I=(x=T(_e(b,F0),15).a,new Gn(b.e.a+b.a.b+b.a.c+2*x,b.e.b+b.a.d+b.a.a+2*x)),q=I.b,ie=new ge(l.a);ie.a<ie.c.c.length;)if(K=T(pe(ie),9),K.g==(zn(),Ta)){switch(O=T(_e(K,vu),32),P=T(_e(K,G0e),10),ce=K.i,O.e){case 2:ce.a=b.e.a+E+B.c-fe.a;break;case 4:ce.a=-fe.a-E-B.b}switch(Oe=0,O.e){case 2:case 4:g==(lo(),T0)?(be=Lt(ci(_e(K,hb))),ce.b=I.b*be-T(_e(K,(Xt(),ob)),10).b,Oe=ce.b+P.b,cz(K,!1,!0)):g==Xu&&(ce.b=Lt(ci(_e(K,hb)))-T(_e(K,(Xt(),ob)),10).b,Oe=ce.b+P.b,cz(K,!1,!0))}q=q>Oe?q:Oe}for(b.e.b+=q-I.b,J=new ge(l.a);J.a<J.c.c.length;)if(K=T(pe(J),9),K.g==(zn(),Ta))switch(O=T(_e(K,vu),32),ce=K.i,O.e){case 1:ce.b=-fe.b-E-B.d;break;case 3:ce.b=b.e.b+E+B.a-fe.b}}function iTt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe;for(E=new Pe,B=new ge(l.d.f);B.a<B.c.c.length;)P=T(pe(B),7),P.g==(Ut(),yn)&&(E.c[E.c.length]=P);if(l.e.a==(vo(),Kc)&&!uh(T(_e(l.d,(Xt(),hr)),28)))for(x=Jr(Ca(l.d));Br(x);)b=T(Ar(x),12),tn(E,b.c);for(O=l.d.j.a,dt(l.d,(ht(),VI),new li(l.d.j.a)),l.d.j.a=l.c,dt(l.d,m2,(Sa(),Sa(),Qu)),tn(l.b,l.d),q=l.d,O-=l.c,K=l.a;K>1;)g=Ri(O,l.c),q=(J=new bh(l.e.c),Wr(J,(zn(),wc)),dt(J,(Xt(),hr),T(_e(q,hr),28)),dt(J,Df,T(_e(q,Df),86)),J.k=l.e.b++,tn(l.b,J),J.j.b=q.j.b,J.j.a=g,ie=new mo,ni(ie,(Ut(),yn)),fa(ie,q),ie.i.a=J.j.a,ie.i.b=J.j.b/2,ce=new mo,ni(ce,kn),fa(ce,J),ce.i.b=J.j.b/2,ce.i.a=-ce.j.a,fe=new Uv,uo(fe,ie),Ea(fe,ce),J),tn(l.e.c.b,q),--K,O-=l.c+l.e.d;for(new lhe(l.d,l.b,l.c),I=new ge(E);I.a<I.c.c.length;)P=T(pe(I),7),Ks(l.d.f,P),fa(P,q)}function aTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce;if(!(l.p>g.a||g.p>l.a)){for(b=0,x=0,J=(P=new wi(l.o.a).a.bb().mb(),new _i(P));J.a.G();)q=(E=T(J.a.H(),21),T(E.yb(),7)),GK(da(it(nt(Ci,1),Ei,10,0,[q.f.i,q.i,q.a])).b,g.p,g.a)&&++b;for(ie=(I=new wi(l.g.a).a.bb().mb(),new _i(I));ie.a.G();)q=(E=T(ie.a.H(),21),T(E.yb(),7)),GK(da(it(nt(Ci,1),Ei,10,0,[q.f.i,q.i,q.a])).b,g.p,g.a)&&--b;for(ce=(B=new wi(g.o.a).a.bb().mb(),new _i(B));ce.a.G();)q=(E=T(ce.a.H(),21),T(E.yb(),7)),GK(da(it(nt(Ci,1),Ei,10,0,[q.f.i,q.i,q.a])).b,l.p,l.a)&&++x;for(K=(O=new wi(g.g.a).a.bb().mb(),new _i(O));K.a.G();)q=(E=T(K.a.H(),21),T(E.yb(),7)),GK(da(it(nt(Ci,1),Ei,10,0,[q.f.i,q.i,q.a])).b,l.p,l.a)&&--x;b<x?new K9(l,g,x-b):x<b?new K9(g,l,b-x):(new K9(g,l,0),new K9(l,g,0))}}function JFe(l){var g;this.f=T(_e(l,(ht(),xc)),15).a,this.d=T(_e(l,(Si(),lM)),15).a,this.a=this.f*T(_e(l,N1),15).a,this.b=this.f*T(_e(l,cze),15).a,T(_e(l,vQ),15),this.c=T(_e(l,vQ),15).a,this.e=T(_e(l,(Xt(),mA)),15).a,g=(zn(),it(nt(kpe,1),on,132,0,[co,va,Ta,Bo,Sh,wc])).length,this.g=YY($j,[eu,Iz],[250,26],12,[g,g],2),ax(this,co,this.f),S0(this,co,va,this.b),S0(this,co,Bo,this.b),S0(this,co,Ta,this.c),S0(this,co,Sh,this.b),S0(this,co,wc,this.b),ax(this,va,this.a),S0(this,va,Bo,this.a),S0(this,va,Ta,this.c),S0(this,va,Sh,this.e),S0(this,va,wc,this.b),ax(this,Bo,this.a),S0(this,Bo,Ta,this.c),S0(this,Bo,Sh,this.e),S0(this,Bo,wc,this.b),ax(this,Ta,this.c),S0(this,Ta,Sh,this.c),S0(this,Ta,wc,this.c),ax(this,Sh,this.e),S0(this,Sh,wc,this.e),ax(this,wc,this.f)}function oTt(l,g){var b,x,E,O,P,I,B,q,K;if(NC(Qs(g))!=1||T(U9(Qs(g)),12).c.f.g!=(zn(),va))return null;for(b=T(U9(Qs(g)),12),x=b.c.f,Wr(x,(zn(),co)),dt(x,(ht(),_c),null),dt(x,Yl,null),dt(x,VI,T(_e(g,VI),15)),dt(x,m2,(Sa(),Sa(),Qu)),dt(x,lr,_e(g,lr)),x.j.b=g.j.b,O=_e(b.d,lr),P=null,q=jo(x,(Ut(),kn)).mb();q.G();)if(I=T(q.H(),7),I.b.c.length!=0){dt(I,lr,O),K=b.d,I.j.a=K.j.a,I.j.b=K.j.b,I.a.a=K.a.a,I.a.b=K.a.b,Na(I.c,K.c),K.c.c=Pt(Ln,cn,1,0,4,1),P=I;break}if(dt(b.d,lr,null),NC(jo(g,kn))>1)for(B=ta(Hl(jo(g,kn)),0);B.b!=B.d.c;)I=T(Fi(B),7),I.b.c.length==0?(E=new mo,ni(E,kn),E.j.a=I.j.a,E.j.b=I.j.b,fa(E,x),dt(E,lr,_e(I,lr)),fa(I,null)):fa(P,x);return dt(g,lr,null),dt(g,m2,ro),Wr(g,wc),dt(x,(Xt(),hr),T(_e(g,hr),28)),dt(x,Df,T(_e(g,Df),86)),gx(l.b,0,x),x}function Az(l,g,b,x,E,O,P){var I,B,q,K,J,ie;switch(J=b,q=new bh(P),Wr(q,(zn(),Ta)),dt(q,(ht(),G0e),E),dt(q,(Xt(),hr),(lo(),Xu)),dt(q,oM,T(_e(l,Bx),15)),B=T(_e(l,ob),10),!B&&(B=new Gn(E.a/2,E.b/2)),dt(q,ob,B),K=new mo,fa(K,q),g!=pp&&g!=u2||(I=O!=(vo(),hp)?O:Kc,x>0?J=sz(I):J=BK(sz(I)),dt(l,OI,J)),J.e){case 4:dt(q,(Si(),Us),(qc(),y2)),dt(q,hQ,(tA(),UI)),q.j.b=E.b,ni(K,(Ut(),yn)),K.i.b=B.b;break;case 2:dt(q,(Si(),Us),(qc(),gb)),dt(q,hQ,(tA(),dj)),q.j.b=E.b,ni(K,(Ut(),kn)),K.i.b=B.b;break;case 1:dt(q,I1,(Gv(),d$)),q.j.a=E.a,ni(K,(Ut(),ur)),K.i.a=B.a;break;case 3:dt(q,I1,(Gv(),$A)),q.j.a=E.a,ni(K,(Ut(),Hn)),K.i.a=B.a}if(g==bA||g==T0||g==Xu){switch(ie=0,J.e){case 4:case 2:ie=null.cd,g==T0&&(ie/=null.cd);break;case 1:case 3:ie=null.cd,g==T0&&(ie/=null.cd)}dt(q,hb,ie)}return dt(q,vu,J),q}function sTt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;for(q=new ns,Re=(hi(),new Rt),ca(Re,l,e6e(l)),x=(wl(2,Dx),new yc(2)),l.c&&tn(x,l.c),l.d&&tn(x,l.d),ce=new ge(x);ce.a<ce.c.c.length;)if(ie=T(pe(ce),7),g=new Ds,Pf(g,wx(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[ie.b,ie.e]))))))),WD(g,l,!0),g.b!=0)for(Be=T(Fe(bl(Re.d,l)),34),ie==l.d?(fe=Be[Be.length-1],je=!0):(fe=Be[0],je=!1),B=1;B<Be.length;B++){for(je?be=Be[Be.length-1-B]:be=Be[B],b=ta(g,0);b.b!=b.d.c;)K=T(Fi(b),12),J=T(Fe(bl(Re.d,K)),34),J==null&&(J=e6e(K),Lf(Re.d,K,J)),J.length<=B?xde(b):(je?Oe=J[J.length-1-B]:Oe=J[B],(be.a!=Oe.a||be.b!=Oe.b)&&(E=be.a-fe.a,P=be.b-fe.b,O=Oe.a-fe.a,I=Oe.b-fe.b,O*P==I*E&&cK(E)==cK(O)&&cK(P)==cK(I)?((E<=0?0-E:E)<(O<=0?0-O:O)||(P<=0?0-P:P)<(I<=0?0-I:I))&&zs(q,be,q.c.b,q.c):B>1&&zs(q,fe,q.c.b,q.c),xde(b)));fe=be}return q}function uTt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be;for(l.n=T(_e(l.g,(ht(),xc)),15).a*T(_e(l.g,(Si(),lM)),15).a,l.e=l.n*T(_e(l.g,N1),15).a,l.i=l.g.c.c.length,I=l.i-1,ie=0,l.j=0,l.k=0,l.a=X9(Pt(GX,eu,24,l.i,0,1)),l.b=X9(Pt(KI,eu,184,l.i,6,1)),P=new ge(l.g.c);P.a<P.c.c.length;){for(E=T(pe(P),16),E.k=I,J=new ge(E.a);J.a<J.c.c.length;)K=T(pe(J),9),K.k=ie,++ie;--I}for(l.f=Pt(ko,Co,26,ie,12,1),l.c=YY(ko,[eu,Co],[52,26],12,[ie,3],2),l.o=new Pe,l.p=new Pe,g=0,l.d=0,O=new ge(l.g.c);O.a<O.c.c.length;){for(E=T(pe(O),16),I=E.k,x=0,be=0,B=E.a.c.length,q=0,J=new ge(E.a);J.a<J.c.c.length;)K=T(pe(J),9),ie=K.k,l.f[ie]=K.d.k,q+=K.j.b+l.n,b=NC(Qs(K)),fe=NC(Ca(K)),l.c[ie][0]=fe-b,l.c[ie][1]=b,l.c[ie][2]=fe,x+=b,be+=fe,b>0&&tn(l.p,K),tn(l.o,K);g-=x,ce=B+g,q+=g*l.e,_x(l.a,I,yr(ce)),_x(l.b,I,q),l.j=Is(l.j,ce),l.k=rn(l.k,q),l.d+=g,g+=be}}function Ut(){Ut=r;var l;vs=new c1(QC,0),Hn=new c1("NORTH",1),yn=new c1("EAST",2),ur=new c1("SOUTH",3),kn=new c1("WEST",4),Xz=(ea(),new u1((l=T(Eu(nu),11),new $u(l,T(hc(l,l.length),11),0)))),_A=E0(Ii(Hn,it(nt(nu,1),on,32,0,[]))),wA=E0(Ii(yn,it(nt(nu,1),on,32,0,[]))),xA=E0(Ii(ur,it(nt(nu,1),on,32,0,[]))),SA=E0(Ii(kn,it(nt(nu,1),on,32,0,[]))),M0=E0(Ii(Hn,it(nt(nu,1),on,32,0,[ur]))),ub=E0(Ii(yn,it(nt(nu,1),on,32,0,[kn]))),a$=E0(Ii(Hn,it(nt(nu,1),on,32,0,[kn]))),Ux=E0(Ii(Hn,it(nt(nu,1),on,32,0,[yn]))),Vx=E0(Ii(ur,it(nt(nu,1),on,32,0,[kn]))),Hx=E0(Ii(yn,it(nt(nu,1),on,32,0,[ur]))),Nd=E0(Ii(Hn,it(nt(nu,1),on,32,0,[yn,kn]))),sd=E0(Ii(yn,it(nt(nu,1),on,32,0,[ur,kn]))),zd=E0(Ii(Hn,it(nt(nu,1),on,32,0,[ur,kn]))),Fd=E0(Ii(Hn,it(nt(nu,1),on,32,0,[yn,ur]))),ku=E0(Ii(Hn,it(nt(nu,1),on,32,0,[yn,ur,kn])))}function lTt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln;for(Je=new Pe,ie=new ge(l.c);ie.a<ie.c.c.length;)for(J=T(pe(ie),16),be=new ge(J.a);be.a<be.c.c.length;)if(ce=T(pe(be),9),ce.g==(zn(),Ta)&&_e(ce,(ht(),yj))!=null){for(Oe=null,je=null,Re=null,Qt=new ge(ce.f);Qt.a<Qt.c.c.length;)switch(Yt=T(pe(Qt),7),Yt.g.e){case 4:Oe=Yt;break;case 2:je=Yt;break;default:Re=Yt}for(Be=T(_t(Re.e,0),12),B=new Ad(Be.a),I=new se(Re.i),ra(I,ce.i),q=ta(B,0),RD(q,I),ct=IK(Be.a),K=new se(Re.i),ra(K,ce.i),zs(ct,K,ct.c.b,ct.c),Nt=T(_e(ce,yj),9),ln=T(_t(Nt.f,0),7),P=T(Eo(Oe.b,Pt(ef,Yc,12,0,0,1)),47),x=0,O=P.length;x<O;++x)g=P[x],Ea(g,ln),FK(g.a,g.a.b,B);for(P=T(Eo(je.e,Pt(ef,Yc,12,je.e.c.length,0,1)),47),b=0,E=P.length;b<E;++b)g=P[b],uo(g,ln),FK(g.a,0,ct);uo(Be,null),Ea(Be,null),Je.c[Je.c.length]=ce}for(fe=new ge(Je);fe.a<fe.c.c.length;)ce=T(pe(fe),9),fu(ce,null)}function cTt(){function l(){this.obj=this.createObject()}return l.prototype.createObject=function(g){return Object.create(null)},l.prototype.get=function(g){return this.obj[g]},l.prototype.set=function(g,b){this.obj[g]=b},l.prototype[HX]=function(g){delete this.obj[g]},l.prototype.keys=function(){return Object.getOwnPropertyNames(this.obj)},l.prototype.entries=function(){var g=this.keys(),b=this,x=0;return{next:function(){if(x>=g.length)return{done:!0};var E=g[x++];return{value:[E,b.get(E)],done:!1}}}},iRt()||(l.prototype.createObject=function(){return{}},l.prototype.get=function(g){return this.obj[":"+g]},l.prototype.set=function(g,b){this.obj[":"+g]=b},l.prototype[HX]=function(g){delete this.obj[":"+g]},l.prototype.keys=function(){var g=[];for(var b in this.obj)b.charCodeAt(0)==58&&g.push(b.substring(1));return g}),l}function eNe(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je;if(K=new Sde,dt(K,mpe,g),ca(l.e,g,K),dt(K,(ht(),Zx),b),l.d&&l6e(l.d,K,!1),mz(g,K),FX in g.a&&(Oe=K.a,Re=T(Ka(g,FX),69),be=T(Ka(Re,"left"),104),be&&(Oe.b=be.a),Be=T(Ka(Re,"top"),104),Be&&(Oe.d=Be.a),je=T(Ka(Re,"right"),104),je&&(Oe.c=je.a),E=T(Ka(Re,Sge),104),E&&(Oe.a=E.a)),J=(x=T(Eu(M0e),11),new $u(x,T(hc(x,x.length),11),0)),dt(K,Ou,J),l.g==null&&(l.g=Qr(_e(K,(Gfe(),Cpe)))),G4 in g.a){if(Je=Ka(g,G4),!Je.hc())throw new Hv("The 'children' property of nodes must be an array.",Je,g);if(q=Je.hc(),q.a.length>0){for(b&&dt(b,Xx,K),I=Pt(Hs,bc,9,q.a.length,0,1),ce=0;ce<q.a.length;++ce){if(B=qw(q,ce),!B.kc())throw new Hv("A 'children' array contains a non-object node element.",B,g);O=A3t(l,B.kc(),K),I[ce]=O}for(ie=0;ie<q.a.length;++ie)fe=qw(q,ie).kc(),P=I[ie],G4 in fe.a&&!zr(Lt(Qr(_e(P,(Xt(),$I)))))&&eNe(l,fe,P)}}return K}function fTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be;if(Yy(new ge(e2(l.e)))){for(I=new ge(e2(l.e));I.a<I.c.c.length;)switch(P=T(pe(I),161),q=T(P.e,7).g.e,++l.o[q],T(P.e,7).g.e){case 4:case 2:l.n[q]+=P.e.j.b+(g?(x=T(P.e,7).d,new pg(x.d,x.b,x.a,x.c)).a+(E=T(P.e,7).d,new pg(E.d,E.b,E.a,E.c)).d:0);break;case 1:case 3:l.n[q]+=P.e.j.a+(g?(O=T(P.e,7).d,new pg(O.d,O.b,O.a,O.c)).b+(b=T(P.e,7).d,new pg(b.d,b.b,b.a,b.c)).c:0)}for(B=T(Yo(l.e,(Xt(),oZ)),100),B=B==(Jw(),i$)?em:B,l.g[1]=T(Yo(l.e,uZ),100),l.g[3]=T(Yo(l.e,lZ),100),l.g[4]=T(Yo(l.e,cZ),100),l.g[2]=T(Yo(l.e,sZ),100),J=(Ut(),it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn])),ce=0,be=J.length;ce<be;++ce)q=J[ce],l.g[q.e]=l.g[q.e]==i$?B:l.g[q.e];for(l.b=Yo(l.e,xI)!=null,K=it(nt(nu,1),on,32,0,[vs,Hn,yn,ur,kn]),ie=0,fe=K.length;ie<fe;++ie)q=K[ie],l.o[q.e]==1?l.i[q.e]=2:!l.b&&l.g[q.e]==em?l.i[q.e]=l.o[q.e]+1:l.i[q.e]=l.o[q.e]-1}}function dTt(l,g,b,x,E,O){var P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct;if(B=T(l.a,16),be=T(l.b,16),q=T(g.a,18),Oe=T(g.b,18),B)for(J=new ge(B.a);J.a<J.c.c.length;)for(K=T(pe(J),9),Be=jo(K,(Ut(),yn)).mb();Be.G();)for(je=T(Be.H(),7),q.ib(je),I=new ge(je.e);I.a<I.c.c.length;)P=T(pe(I),12),!Sx(P)&&(b.c[b.c.length]=P,TDe(P,x),Re=P.c.f.g,(Re==(zn(),co)||Re==Bo)&&(E.c[E.c.length]=P),ct=P.d,Je=ct.f.d,Je==be?Oe.ib(ct):Je==B?q.ib(ct):Ks(b,P));if(be)for(J=new ge(be.a);J.a<J.c.c.length;){for(K=T(pe(J),9),fe=new ge(K.f);fe.a<fe.c.c.length;)for(ce=T(pe(fe),7),I=new ge(ce.e);I.a<I.c.c.length;)P=T(pe(I),12),Sx(P)&&(ie=O.a.db(P,O),ie==null);for(Be=jo(K,(Ut(),kn)).mb();Be.G();)for(je=T(Be.H(),7),Oe.ib(je),I=new ge(je.e);I.a<I.c.c.length;)P=T(pe(I),12),!Sx(P)&&(b.c[b.c.length]=P,TDe(P,x),Re=P.c.f.g,(Re==(zn(),co)||Re==Bo)&&(E.c[E.c.length]=P),ct=P.d,Je=ct.f.d,Je==be?Oe.ib(ct):Je==B?q.ib(ct):Ks(b,P))}}function hTt(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt;for(Be=g.c.length,E=new Mx(l.b,b,null,null),Nt=Pt(tf,Vl,26,Be,12,1),be=Pt(tf,Vl,26,Be,12,1),fe=Pt(tf,Vl,26,Be,12,1),Oe=0,I=0;I<Be;I++)be[I]=Bs,fe[I]=A1;for(B=0;B<Be;B++)for(x=(Ra(B,g.c.length),T(g.c[B],81)),Nt[B]=pX(x),Nt[Oe]>Nt[B]&&(Oe=B),J=new ge(l.b.c);J.a<J.c.c.length;)for(K=T(pe(J),16),je=new ge(K.a);je.a<je.c.c.length;)Re=T(pe(je),9),Yt=Lt(x.n[Re.k])+Lt(x.d[Re.k]),be[B]=be[B]<Yt?be[B]:Yt,fe[B]=rn(fe[B],Yt+Re.j.b);for(Qt=Pt(tf,Vl,26,Be,12,1),q=0;q<Be;q++)(Ra(q,g.c.length),T(g.c[q],81)).k==(mg(),lb)?Qt[q]=be[Oe]-be[q]:Qt[q]=fe[Oe]-fe[q];for(O=Pt(tf,Vl,26,Be,12,1),ce=new ge(l.b.c);ce.a<ce.c.c.length;)for(ie=T(pe(ce),16),ct=new ge(ie.a);ct.a<ct.c.c.length;){for(Je=T(pe(ct),9),P=0;P<Be;P++)O[P]=Lt((Ra(P,g.c.length),T(g.c[P],81)).n[Je.k])+Lt((Ra(P,g.c.length),T(g.c[P],81)).d[Je.k])+Qt[P];gSt(O),E.n[Je.k]=(O[1]+O[2])/2,E.d[Je.k]=0}return E}function CX(l,g,b,x,E,O){var P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct;for(be=null,b==(bx(),D1)?be=l:b==l$&&(be=g),Re=(ie=new wi(be.a).a.bb().mb(),new _i(ie));Re.a.G();){for(Oe=(K=T(Re.a.H(),21),T(K.yb(),7)),je=da(it(nt(Ci,1),Ei,10,0,[Oe.f.i,Oe.i,Oe.a])).b,ct=new Aa,P=new Aa,B=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[Oe.b,Oe.e]))))));Br(B);)if(I=T(Ar(B),12),zr(Lt(Qr(_e(I,(ht(),F1)))))==x&&mc(E,I,0)!=-1){if(I.d==Oe?Be=I.c:Be=I.d,Je=da(it(nt(Ci,1),Ei,10,0,[Be.f.i,Be.i,Be.a])).b,(Je-je<=0?0-(Je-je):Je-je)<.2)continue;Je<je?l.a.R(Be)?ma(ct,new Po(D1,I)):ma(ct,new Po(l$,I)):l.a.R(Be)?ma(P,new Po(D1,I)):ma(P,new Po(l$,I))}if(ct.a.Y()>1)for(tn(O,new Jhe(Oe,ct,b)),fe=(J=new wi(ct.a).a.bb().mb(),new _i(J));fe.a.G();)ce=(q=T(fe.a.H(),21),T(q.yb(),27)),Ks(E,ce.b);if(P.a.Y()>1)for(tn(O,new Jhe(Oe,P,b)),fe=(J=new wi(P.a).a.bb().mb(),new _i(J));fe.a.G();)ce=(q=T(fe.a.H(),21),T(q.yb(),27)),Ks(E,ce.b)}}function gTt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt;for(E=0,je=0,Re=(hi(),new Rt),x=new Rt,O=new Rt,Qt=new Rt,nTt(l,O,Qt),g=null,Oe=0,Yt=0,Be=!0,B=!0,ie=0,fe=l.length;ie<fe;++ie){for(K=l[ie],ct=new ge(K.f);ct.a<ct.c.c.length;)switch(Je=T(pe(ct),7),Je.g.e){case 2:E+=Z6e(Je,O);break;case 4:E+=Z6e(Je,Qt)}if(be=K.g,B&&(be==(zn(),co)||be==Bo)){if(q=T(_e(K,(ht(),Kx)),9),!q){B=!1;continue}g!=q&&(g&&ca(Re,g,new Po(yr(Oe),yr(Yt))),g=q,Oe=0,Yt=0,Be=!0),K==g&&(Be=!1),Be?(Oe+=T(_e(K,aM),24).a,ca(x,K,yr(Oe))):(Yt+=T(_e(K,aM),24).a,ca(x,K,yr(Yt)))}}if(g&&ca(Re,g,new Po(yr(Oe),yr(Yt))),B)for(I=null,P=0,b=0,Be=!0,J=0,ce=l.length;J<ce;++J)switch(K=l[J],be=K.g,be.e){case 0:P=T(Fe(bl(x.d,K)),24).a,b=T(T(Fe(bl(Re.d,K)),27).b,24).a,I=K,Be=!1;break;case 3:P=T(Fe(bl(x.d,K)),24).a,q=T(_e(K,(ht(),Kx)),9),q!=I&&(b=T(T(Fe(bl(Re.d,q)),27).a,24).a,I=q,Be=!0);break;default:je+=Be?P:b-P}return E+je}function pTt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;for(J=(hi(),new Rt),q=new p1,x=new ge(l.a.a.b);x.a<x.c.c.length;)if(g=T(pe(x),25),Zt(g,93))K=T(g,93).b,Lf(J.d,K,g);else if(Zt(g,82))for(O=(fe=new wi(T(g,82).d.a).a.bb().mb(),new _i(fe));O.a.G();)E=(P=T(O.a.H(),21),T(P.yb(),12)),wr(q,E,g);for(b=new ge(l.a.a.b);b.a<b.c.c.length;)if(g=T(pe(b),25),Zt(g,93)){for(K=T(g,93).b,B=Jr(Ca(K));Br(B);)if(I=T(Ar(B),12),!Sx(I)&&(Oe=I.c,Be=I.d,!((Ut(),M0).kb(I.c.g)&&M0.kb(I.d.g)))){if(Re=T(Ki(J,I.d.f),25),sA(l1(Of(p0(jl(new oc,0),100),l.c[g.f.d]),l.c[Re.f.d])),Oe.g==kn&&g9((td(),Oe))){for(ce=T(Ld(q,I),18).mb();ce.G();)if(ie=T(ce.H(),25),ie.j.d<g.j.d){if(be=l.c[ie.f.d],je=l.c[g.f.d],be==je)continue;sA(l1(Of(p0(jl(new oc,1),100),be),je))}}if(Be.g==yn&&CY((td(),Be))){for(ce=T(Ld(q,I),18).mb();ce.G();)if(ie=T(ce.H(),25),ie.j.d>g.j.d){if(be=l.c[g.f.d],je=l.c[ie.f.d],be==je)continue;sA(l1(Of(p0(jl(new oc,1),100),be),je))}}}}}function tNe(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe;switch(P=new VY(l),I=wx(gh(g,P)),mh(I,new Uf),E=l.b,E.c){case 2:B=new oo(E.a),b=OC(gh(I,B)),Yw(b)?q=T(UC(b),91).b:q=15,B=new oo(nhe(E)),b=OC(gh(I,B)),Yw(b)?O=T(UC(b),91).b:O=15,B=new oo(E.b),b=OC(gh(I,B)),Yw(b)?K=T(UC(b),91).b:K=15,x=vAt(l,q,O,K),ma(g,new z4(x,l.c,l.e,l.a.c.f,E.a)),ma(g,new z4(x,l.c,l.e,l.a.c.f,nhe(E))),ma(g,new z4(x,l.c,l.e,l.a.c.f,E.b));break;case 1:B=new oo(E.a),b=OC(gh(I,B)),Yw(b)?q=T(UC(b),91).b:q=15,B=new oo(E.b),b=OC(gh(I,B)),Yw(b)?K=T(UC(b),91).b:K=15,x=lAt(l,q,K),ma(g,new z4(x,l.c,l.e,l.a.c.f,E.a)),ma(g,new z4(x,l.c,l.e,l.a.c.f,E.b));break;case 0:B=new oo(E.a),b=OC(gh(I,B)),Yw(b)?q=T(UC(b),91).b:q=15,x=(J=l.b,ie=mRt(l.a.c,l.a.d,q),Pf(l.a.a,XK(ie)),ce=vhe(l.a.b,ie.a,J),fe=new ID((!ie.k&&(ie.k=new oX(RK(ie))),ie.k)),qfe(fe),ce?Bfe(fe,ce):fe),ma(g,new z4(x,l.c,l.e,l.a.c.f,E.a));break;default:throw new Oi("The loopside must be defined.")}return x}function vTt(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct;for(I=new ge(l.a.c);I.a<I.c.c.length;)for(O=T(pe(I),16),Be=new ge(O.a);Be.a<Be.c.c.length;)je=T(pe(Be),9),g.f[je.k]=je,g.a[je.k]=je,g.d[je.k]=0;for(B=l.a.c,g.c==(lp(),tm)&&(B=Zt(B,87)?$4(T(B,87)):Zt(B,88)?T(B,88).a:Zt(B,63)?new Pn(B):new Ny(B)),P=B.mb();P.G();)for(O=T(P.H(),16),ce=-1,ie=O.a,g.k==(mg(),Eh)&&(ce=Bs,ie=Zt(ie,87)?$4(T(ie,87)):Zt(ie,88)?T(ie,88).a:Zt(ie,63)?new Pn(ie):new Ny(ie)),ct=ie.mb();ct.G();)if(Je=T(ct.H(),9),g.c==tm?J=T(_t(l.b.f,Je.k),20):J=T(_t(l.b.b,Je.k),20),J.Y()>0)if(x=J.Y(),q=No(Math.floor((x+1)/2))-1,E=No(Math.ceil((x+1)/2))-1,g.k==Eh)for(K=E;K>=q;K--)g.a[Je.k]==Je&&(be=T(J.sb(K),27),fe=T(be.a,9),!og(b,be.b)&&ce>l.b.e[fe.k]&&(g.a[fe.k]=Je,g.f[Je.k]=g.f[fe.k],g.a[Je.k]=g.f[Je.k],ce=l.b.e[fe.k]));else for(K=q;K<=E;K++)g.a[Je.k]==Je&&(Re=T(J.sb(K),27),Oe=T(Re.a,9),!og(b,Re.b)&&ce<l.b.e[Oe.k]&&(g.a[Oe.k]=Je,g.f[Je.k]=g.f[Oe.k],g.a[Je.k]=g.f[Je.k],ce=l.b.e[Oe.k]))}function Ul(){Ul=r,nm=new Vv("N",0,(Ut(),Hn),Hn,0),h2=new Vv("EN",1,yn,Hn,1),cb=new Vv("E",2,yn,yn,0),fb=new Vv("SE",3,ur,yn,1),D0=new Vv("S",4,ur,ur,0),v2=new Vv("WS",5,kn,ur,1),p2=new Vv("W",6,kn,kn,0),vp=new Vv("NW",7,Hn,kn,1),L0=new Vv("ENW",8,yn,kn,2),g2=new Vv("ESW",9,yn,kn,2),db=new Vv("SEN",10,ur,Hn,2),Yx=new Vv("SWN",11,ur,Hn,2),u$=new Vv(QC,12,vs,vs,3),A9e=pkt(nm,h2,cb,fb,D0,v2,it(nt(tM,1),on,60,0,[p2,vp,L0,g2,db,Yx])),T9e=(Tf(),Px(it(nt(Ln,1),cn,1,4,[nm,cb,D0,p2]))),R9e=Px(it(nt(Ln,1),cn,1,4,[h2,fb,v2,vp])),I9e=new Cu(Hn),P9e=Px(it(nt(Ln,1),cn,1,4,[yn,Hn])),M9e=new Cu(yn),z9e=Px(it(nt(Ln,1),cn,1,4,[ur,yn])),N9e=new Cu(ur),V9e=Px(it(nt(Ln,1),cn,1,4,[kn,ur])),U9e=new Cu(kn),F9e=Px(it(nt(Ln,1),cn,1,4,[Hn,kn])),L9e=Px(it(nt(Ln,1),cn,1,4,[yn,Hn,kn])),D9e=Px(it(nt(Ln,1),cn,1,4,[yn,ur,kn])),B9e=Px(it(nt(Ln,1),cn,1,4,[ur,kn,Hn])),j9e=Px(it(nt(Ln,1),cn,1,4,[ur,yn,Hn])),H9e=(YO(),K4)}function nNe(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je;if(je=0,g.e.a==0)for(Oe=new ge(l);Oe.a<Oe.c.c.length;)fe=T(pe(Oe),9),je=rn(je,fe.i.a+fe.j.a+fe.e.c);else je=g.e.a-g.d.a;for(je-=g.d.a,be=new ge(l);be.a<be.c.c.length;){switch(fe=T(pe(be),9),Ls(fe.i,je-fe.j.a),vkt(fe),T(_e(fe,(Xt(),wg)),103).e){case 1:dt(fe,wg,($0(),Yz));break;case 2:dt(fe,wg,($0(),qz))}for(Re=fe.j,Je=new ge(fe.f);Je.a<Je.c.c.length;){for(Be=T(pe(Je),7),Ls(Be.i,Re.a-Be.j.a),Ls(Be.a,Be.j.a),ni(Be,lDe(Be.g)),P=T(_e(Be,sb),24),P&&dt(Be,sb,yr(-P.a)),O=new ge(Be.e);O.a<O.c.c.length;){for(E=T(pe(O),12),x=ta(E.a,0);x.b!=x.d.c;)b=T(Fi(x),10),b.a=je-b.a;if(q=T(_e(E,$o),44),q)for(B=ta(q,0);B.b!=B.d.c;)I=T(Fi(B),10),I.a=je-I.a;for(ie=new ge(E.b);ie.a<ie.c.c.length;)K=T(pe(ie),33),Ls(K.i,je-K.j.a)}for(ce=new ge(Be.c);ce.a<ce.c.c.length;)K=T(pe(ce),33),Ls(K.i,-K.j.a)}for(fe.g==(zn(),Ta)&&(dt(fe,(ht(),vu),lDe(T(_e(fe,vu),32))),SOt(fe)),J=new ge(fe.c);J.a<J.c.c.length;)K=T(pe(J),33),Ls(K.i,Re.a-K.j.a)}}function mTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je;if(je=0,g.e.b==0)for(Oe=new ge(l);Oe.a<Oe.c.c.length;)fe=T(pe(Oe),9),je=rn(je,fe.i.b+fe.j.b+fe.e.a);else je=g.e.b-g.d.b;for(je-=g.d.b,be=new ge(l);be.a<be.c.c.length;){switch(fe=T(pe(be),9),so(fe.i,je-fe.j.b),mkt(fe),T(_e(fe,(Xt(),wg)),103).e){case 3:dt(fe,wg,($0(),Wz));break;case 4:dt(fe,wg,($0(),Kz))}for(Re=fe.j,Je=new ge(fe.f);Je.a<Je.c.c.length;){for(Be=T(pe(Je),7),so(Be.i,Re.b-Be.j.b),so(Be.a,Be.j.b),ni(Be,cDe(Be.g)),P=T(_e(Be,sb),24),P&&dt(Be,sb,yr(-P.a)),O=new ge(Be.e);O.a<O.c.c.length;){for(E=T(pe(O),12),x=ta(E.a,0);x.b!=x.d.c;)b=T(Fi(x),10),b.b=je-b.b;if(q=T(_e(E,$o),44),q)for(B=ta(q,0);B.b!=B.d.c;)I=T(Fi(B),10),I.b=je-I.b;for(ie=new ge(E.b);ie.a<ie.c.c.length;)K=T(pe(ie),33),so(K.i,je-K.j.b)}for(ce=new ge(Be.c);ce.a<ce.c.c.length;)K=T(pe(ce),33),so(K.i,-K.j.b)}for(fe.g==(zn(),Ta)&&(dt(fe,(ht(),vu),cDe(T(_e(fe,vu),32))),j$t(fe)),J=new ge(fe.c);J.a<J.c.c.length;)K=T(pe(J),33),so(K.i,Re.b-K.j.b)}}function yTt(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce;if(x=new vh(g.e.i.a,g.e.i.b,g.e.j.a,g.e.j.b),E=new kO,l.c)for(P=new ge(KD(g));P.a<P.c.c.length;)O=T(pe(P),129),E.d=O.e.i.a+g.e.i.a,E.e=O.e.i.b+g.e.i.b,E.c=O.e.j.a,E.b=O.e.j.b,ZD(x,E);for(K=new ge(e2(g));K.a<K.c.c.length;){if(q=T(pe(K),161),J=q.e.i.a+g.e.i.a,ie=q.e.i.b+g.e.i.b,l.e&&(E.d=J,E.e=ie,E.c=q.e.j.a,E.b=q.e.j.b,ZD(x,E)),l.d)for(P=new ge(XD(q));P.a<P.c.c.length;)O=T(pe(P),129),E.d=O.e.i.a+J,E.e=O.e.i.b+ie,E.c=O.e.j.a,E.b=O.e.j.b,ZD(x,E);if(l.b){if(ce=new Gn(-b,-b),he(Yo(g,(Xt(),kI)))===he((eA(),TI)))for(P=new ge(XD(q));P.a<P.c.c.length;)O=T(pe(P),129),ce.a+=O.e.j.a+b,ce.b+=O.e.j.b+b;ce.a=rn(ce.a,0),ce.b=rn(ce.b,0),$Fe(x,GAt(q),WAt(q),g,q,ce,b)}}l.b&&$Fe(x,(ea(),ea(),b2),b2,g,null,null,b),B=new y9((I=T(g.e,9).e,new pg(I.d,I.b,I.a,I.c))),B.d=g.e.i.b-x.e,B.a=x.e+x.b-(g.e.i.b+g.e.j.b),B.b=g.e.i.a-x.d,B.c=x.d+x.c-(g.e.i.a+g.e.j.a),T(g.e,9).e.b=B.b,T(g.e,9).e.d=B.d,T(g.e,9).e.c=B.c,T(g.e,9).e.a=B.a}function rNe(){rNe=r,Ir=new p1,wr(Ir,(Ut(),Xz),ku),wr(Ir,SA,zd),wr(Ir,SA,ku),wr(Ir,wA,Fd),wr(Ir,wA,ku),wr(Ir,_A,Nd),wr(Ir,_A,ku),wr(Ir,xA,sd),wr(Ir,xA,ku),wr(Ir,M0,ub),wr(Ir,M0,Nd),wr(Ir,M0,sd),wr(Ir,M0,ku),wr(Ir,ub,M0),wr(Ir,ub,zd),wr(Ir,ub,Fd),wr(Ir,ub,ku),wr(Ir,a$,a$),wr(Ir,a$,Nd),wr(Ir,a$,zd),wr(Ir,Ux,Ux),wr(Ir,Ux,Nd),wr(Ir,Ux,Fd),wr(Ir,Vx,Vx),wr(Ir,Vx,sd),wr(Ir,Vx,zd),wr(Ir,Hx,Hx),wr(Ir,Hx,sd),wr(Ir,Hx,Fd),wr(Ir,Nd,_A),wr(Ir,Nd,M0),wr(Ir,Nd,a$),wr(Ir,Nd,Ux),wr(Ir,Nd,Nd),wr(Ir,Nd,zd),wr(Ir,Nd,Fd),wr(Ir,Nd,ku),wr(Ir,sd,xA),wr(Ir,sd,M0),wr(Ir,sd,Vx),wr(Ir,sd,Hx),wr(Ir,sd,sd),wr(Ir,sd,zd),wr(Ir,sd,Fd),wr(Ir,sd,ku),wr(Ir,zd,SA),wr(Ir,zd,ub),wr(Ir,zd,a$),wr(Ir,zd,Vx),wr(Ir,zd,Nd),wr(Ir,zd,sd),wr(Ir,zd,zd),wr(Ir,zd,ku),wr(Ir,Fd,wA),wr(Ir,Fd,ub),wr(Ir,Fd,Ux),wr(Ir,Fd,Hx),wr(Ir,Fd,Nd),wr(Ir,Fd,sd),wr(Ir,Fd,Fd),wr(Ir,Fd,ku),wr(Ir,ku,Xz),wr(Ir,ku,SA),wr(Ir,ku,wA),wr(Ir,ku,_A),wr(Ir,ku,xA),wr(Ir,ku,M0),wr(Ir,ku,ub),wr(Ir,ku,Nd),wr(Ir,ku,sd),wr(Ir,ku,zd),wr(Ir,ku,Fd),wr(Ir,ku,ku)}function iNe(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re;if(b.n[g.k]==null){B=!0,b.n[g.k]=0,P=g,Re=b.k==(mg(),lb)?pu:Gl;do E=l.b.e[P.k],O=P.d.a.c.length,I=P.g,b.k==lb&&E>0||b.k==Eh&&E<O-1?(b.k==Eh?q=T(_t(P.d.a,E+1),9):q=T(_t(P.d.a,E-1),9),J=b.f[q.k],K=q.g,iNe(l,J,b),Re=l.e.Ic(Re,g,P),b.i[g.k]==g&&(b.i[g.k]=b.i[J.k]),b.i[g.k]==b.i[J.k]?(Oe=$D(l.d,I,K),b.k==Eh?(x=Lt(b.n[g.k]),ce=Lt(b.n[J.k])+Lt(b.d[q.k])-q.e.d-Oe-P.e.a-P.j.b-Lt(b.d[P.k]),B?(B=!1,b.n[g.k]=ce<Re?ce:Re):b.n[g.k]=x<(ce<Re?ce:Re)?x:ce<Re?ce:Re):(x=Lt(b.n[g.k]),ce=Lt(b.n[J.k])+Lt(b.d[q.k])+q.j.b+q.e.a+Oe+P.e.d-Lt(b.d[P.k]),B?(B=!1,b.n[g.k]=ce>Re?ce:Re):b.n[g.k]=x>(ce>Re?ce:Re)?x:ce>Re?ce:Re)):(Oe=l.d.f,be=gDe(l,b.i[g.k]),ie=gDe(l,b.i[J.k]),b.k==Eh?(fe=Lt(b.n[g.k])+Lt(b.d[P.k])+P.j.b+P.e.a+Oe-(Lt(b.n[J.k])+Lt(b.d[q.k])-q.e.d),YPe(be,ie,fe)):(fe=Lt(b.n[g.k])+Lt(b.d[P.k])-P.e.d-Lt(b.n[J.k])-Lt(b.d[q.k])-q.j.b-q.e.a-Oe,YPe(be,ie,fe)))):Re=l.e.Ic(Re,g,P),P=b.a[P.k];while(P!=g);h0(l.e,g)}}function bTt(l,g,b,x){var E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je;if(ie=!1,J=!1,uh(T(_e(x,(Xt(),hr)),28))){P=!1,I=!1;e:for(fe=new ge(x.f);fe.a<fe.c.c.length;)for(ce=T(pe(fe),7),Oe=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[new Ur(ce),new Er(ce)]))))));Br(Oe);)if(be=T(Ar(Oe),7),!zr(Lt(Qr(_e(be.f,X4))))){if(ce.g==(Ut(),Hn)){P=!0;break e}if(ce.g==ur){I=!0;break e}}ie=I&&!P,J=P&&!I}if(!ie&&!J&&x.c.c.length!=0){for(K=0,q=new ge(x.c);q.a<q.c.c.length;)B=T(pe(q),33),K+=B.i.b+B.j.b/2;K/=x.c.c.length,je=K>=x.j.b/2}else je=!J;je?(Re=T(_e(x,(ht(),sM)),20),Re?ie?O=Re:(E=T(_e(x,iM),20),E?Re.Y()<=E.Y()?O=Re:O=E:(O=new Pe,dt(x,iM,O))):(O=new Pe,dt(x,sM,O))):(E=T(_e(x,(ht(),iM)),20),E?J?O=E:(Re=T(_e(x,sM),20),Re?E.Y()<=Re.Y()?O=E:O=Re:(O=new Pe,dt(x,sM,O))):(O=new Pe,dt(x,iM,O))),O.ib(l),dt(l,(ht(),mj),b),g.d==b?(Ea(g,null),b.b.c.length+b.e.c.length==0&&fa(b,null)):(uo(g,null),b.b.c.length+b.e.c.length==0&&fa(b,null)),S1(g.a)}function wTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;for(b=new zIe(g),b.a||cRt(g),q=NAt(g),B=new p1,Oe=new aFe,be=new ge(g.b);be.a<be.c.c.length;)for(fe=T(pe(be),9),E=Jr(Ca(fe));Br(E);)x=T(Ar(E),12),(x.c.f.g==(zn(),Ta)||x.d.f.g==Ta)&&(K=F3t(l,x,q,Oe),wr(B,QK(K.d),K.a));for(P=new Pe,Be=T(_e(b.c,(ht(),h$)),18).mb();Be.G();){switch(je=T(Be.H(),32),ce=Oe.c[je.e],ie=Oe.b[je.e],I=Oe.a[je.e],O=null,Re=null,je.e){case 4:O=new vh(l.d.a,ce,q.b.a-l.d.a,ie-ce),Re=new vh(l.d.a,ce,I,ie-ce),zv(q,new Gn(O.d+O.c,O.e)),zv(q,new Gn(O.d+O.c,O.e+O.b));break;case 2:O=new vh(q.a.a,ce,l.c.a-q.a.a,ie-ce),Re=new vh(l.c.a-I,ce,I,ie-ce),zv(q,new Gn(O.d,O.e)),zv(q,new Gn(O.d,O.e+O.b));break;case 1:O=new vh(ce,l.d.b,ie-ce,q.b.b-l.d.b),Re=new vh(ce,l.d.b,ie-ce,I),zv(q,new Gn(O.d,O.e+O.b)),zv(q,new Gn(O.d+O.c,O.e+O.b));break;case 3:O=new vh(ce,q.a.b,ie-ce,l.c.b-q.a.b),Re=new vh(ce,l.c.b-I,ie-ce,I),zv(q,new Gn(O.d,O.e)),zv(q,new Gn(O.d+O.c,O.e))}O&&(J=new ZE,J.d=je,J.b=O,J.c=Re,J.a=Hfe(T(Ld(B,QK(je)),18)),P.c[P.c.length]=J)}return Na(b.b,P),b.d=S$t(S3t(q)),b}function _Tt(){var l=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F"];return l[34]='\\"',l[92]="\\\\",l[173]="\\u00ad",l[1536]="\\u0600",l[1537]="\\u0601",l[1538]="\\u0602",l[1539]="\\u0603",l[1757]="\\u06dd",l[1807]="\\u070f",l[6068]="\\u17b4",l[6069]="\\u17b5",l[8203]="\\u200b",l[8204]="\\u200c",l[8205]="\\u200d",l[8206]="\\u200e",l[8207]="\\u200f",l[8232]="\\u2028",l[8233]="\\u2029",l[8234]="\\u202a",l[8235]="\\u202b",l[8236]="\\u202c",l[8237]="\\u202d",l[8238]="\\u202e",l[8288]="\\u2060",l[8289]="\\u2061",l[8290]="\\u2062",l[8291]="\\u2063",l[8292]="\\u2064",l[8298]="\\u206a",l[8299]="\\u206b",l[8300]="\\u206c",l[8301]="\\u206d",l[8302]="\\u206e",l[8303]="\\u206f",l[65279]="\\ufeff",l[65529]="\\ufff9",l[65530]="\\ufffa",l[65531]="\\ufffb",l}function xTt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt;for(g=0,Re=!0,Yt=null,x=0;x<l.length;x++)if(O=l[x],Oe=O.g,Oe==(zn(),co))Yt=O,Re=!1;else if(Oe==Bo){if(Zt(_e(O,(ht(),lr)),12)||(b=T(_e(O,lr),9),Yt!=b&&(Yt=b,Re=!0),!Ns(T(_e(b,(Xt(),hr)),28))))continue;for(ie=null,fe=null,Be=new ge(O.f);Be.a<Be.c.c.length;)je=T(pe(Be),7),je.b.c.length==0?je.e.c.length==0||(fe=T(_e(je,lr),7)):ie=T(_e(je,lr),7);for(E=x+1;E<l.length&&(P=l[E],J=P.g,J!=co);E++)if(J==Bo){if(he(_e(P,lr))!==he(b))break;for(I=null,q=null,ct=new ge(P.f);ct.a<ct.c.c.length;)Je=T(pe(ct),7),Je.b.c.length==0?Je.e.c.length==0||(q=T(_e(Je,lr),7)):I=T(_e(Je,lr),7);Re?(ce=!1,be=!1,fe&&I&&fe.k<I.k&&(++g,be=!0),ie&&q&&ie.k>q.k&&(++g,ce=!0),fe&&q&&fe.k>q.k&&(++g,be=!0),ie&&I&&ie.k<I.k&&(++g,ce=!0),ce&&be&&ie==fe&&--g):(B=!1,K=!1,ie&&q&&ie.k<q.k&&(++g,K=!0),fe&&I&&fe.k>I.k&&(++g,B=!0),ie&&I&&ie.k<I.k&&(++g,B=!0),fe&&q&&fe.k>q.k&&(++g,K=!0),B&&K&&I==q&&--g)}}return g}function STt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn;for(Be=l.a,Je=0,ct=Be.length;Je<ct;++Je){for(je=Be[Je],q=Bs,K=Bs,fe=new ge(je.f);fe.a<fe.c.c.length;)ie=T(pe(fe),9),P=ie.d?mc(ie.d.a,ie,0):-1,P>0?(J=T(_t(ie.d.a,P-1),9),Nt=hx(l.b,ie,J),Oe=ie.i.b-ie.e.d-(J.i.b+J.j.b+J.e.a+Nt)):Oe=ie.i.b-ie.e.d,q=Oe<q?Oe:q,P<ie.d.a.c.length-1?(J=T(_t(ie.d.a,P+1),9),Nt=hx(l.b,ie,J),Re=J.i.b-J.e.d-(ie.i.b+ie.j.b+ie.e.a+Nt)):Re=2*ie.i.b,K=Re<K?Re:K;for(B=Bs,O=!1,E=T(_t(je.f,0),9),Rn=new ge(E.f);Rn.a<Rn.c.c.length;)for(ln=T(pe(Rn),7),be=E.i.b+ln.i.b+ln.a.b,x=new ge(ln.b);x.a<x.c.c.length;)b=T(pe(x),12),Yt=b.c,g=Yt.f.i.b+Yt.i.b+Yt.a.b-be,(g<=0?0-g:g)<(B<=0?0-B:B)&&(g<=0?0-g:g)<(g<0?q:K)&&(B=g,O=!0);for(I=T(_t(je.f,je.f.c.length-1),9),Qt=new ge(I.f);Qt.a<Qt.c.c.length;)for(Yt=T(pe(Qt),7),be=I.i.b+Yt.i.b+Yt.a.b,x=new ge(Yt.e);x.a<x.c.c.length;)b=T(pe(x),12),ln=b.d,g=ln.f.i.b+ln.i.b+ln.a.b-be,(g<=0?0-g:g)<(B<=0?0-B:B)&&(g<=0?0-g:g)<(g<0?q:K)&&(B=g,O=!0);if(O&&B!=0)for(ce=new ge(je.f);ce.a<ce.c.c.length;)ie=T(pe(ce),9),ie.i.b+=B}}function ETt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn;return J=bRt(Fs(l,(Ut(),Xz)),g),fe=Cx(Fs(l,_A),g),Je=Cx(Fs(l,xA),g),Nt=hz(Fs(l,SA),g),ie=hz(Fs(l,wA),g),je=Cx(Fs(l,a$),g),be=Cx(Fs(l,Ux),g),Yt=Cx(Fs(l,Vx),g),ct=Cx(Fs(l,Hx),g),ln=hz(Fs(l,ub),g),Re=Cx(Fs(l,M0),g),Be=Cx(Fs(l,Nd),g),Qt=Cx(Fs(l,sd),g),Rn=hz(Fs(l,zd),g),ce=hz(Fs(l,Fd),g),Oe=Cx(Fs(l,ku),g),b=JO(it(nt(tf,1),Vl,26,12,[je.a,Nt.a,Yt.a,Rn.a])),x=JO(it(nt(tf,1),Vl,26,12,[fe.a,J.a,Je.a,Oe.a])),E=Re.a,O=JO(it(nt(tf,1),Vl,26,12,[be.a,ie.a,ct.a,ce.a])),q=JO(it(nt(tf,1),Vl,26,12,[je.b,fe.b,be.b,Be.b])),B=JO(it(nt(tf,1),Vl,26,12,[Nt.b,J.b,ie.b,Oe.b])),K=ln.b,I=JO(it(nt(tf,1),Vl,26,12,[Yt.b,Je.b,ct.b,Qt.b])),Wv(Fs(l,Xz),b+E,q+K),Wv(Fs(l,ku),b+E,q+K),Wv(Fs(l,_A),b+E,0),Wv(Fs(l,xA),b+E,q+K+B),Wv(Fs(l,SA),0,q+K),Wv(Fs(l,wA),b+E+x,q+K),Wv(Fs(l,Ux),b+E+x,0),Wv(Fs(l,Vx),0,q+K+B),Wv(Fs(l,Hx),b+E+x,q+K+B),Wv(Fs(l,ub),0,q),Wv(Fs(l,M0),b,0),Wv(Fs(l,sd),0,q+K+B),Wv(Fs(l,Fd),b+E+x,0),P=new is,P.a=JO(it(nt(tf,1),Vl,26,12,[b+x+E+O,ln.a,Be.a,Qt.a])),P.b=JO(it(nt(tf,1),Vl,26,12,[q+B+K+I,Re.b,Rn.b,ce.b])),P}function CTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be;if(x=new ns,q=null,fe=l.c,ce=fe.f.g,ce!=(zn(),co)&&ce!=Bo)throw new Oi("The target node of the edge must be a normal node or a northSouthPort.");for(ce==Bo&&(ie=T(_e(fe,(ht(),lr)),7),q=new Gn(da(it(nt(Ci,1),Ei,10,0,[ie.f.i,ie.i,ie.a])).a,da(it(nt(Ci,1),Ei,10,0,[fe.f.i,fe.i,fe.a])).b),fe=ie),bO(x,da(it(nt(Ci,1),Ei,10,0,[fe.f.i,fe.i,fe.a]))),P=rn(5,mIe(fe.f,fe.g)),J=new mx(D4(fe.g)),J.a*=P,J.b*=P,Vi(x,ra(J,da(it(nt(Ci,1),Ei,10,0,[fe.f.i,fe.i,fe.a])))),q&&zs(x,q,x.c.b,x.c),O=l,B=l,I=null,b=!1;O;)E=O.a,E.b!=0&&(b?(Vi(x,dh(ra(I,(Jn(E.b!=0),T(E.a.a.c,10))),.5)),b=!1):b=!0,I=fs((Jn(E.b!=0),T(E.c.b.c,10))),Pf(x,E),S1(E)),B=O,O=T(Fe(bl(g.d,O)),12);be=B.d,be.f.g==Bo&&(ie=T(_e(be,(ht(),lr)),7),Vi(x,new Gn(da(it(nt(Ci,1),Ei,10,0,[ie.f.i,ie.i,ie.a])).a,da(it(nt(Ci,1),Ei,10,0,[be.f.i,be.i,be.a])).b)),be=ie),P=rn(5,mIe(be.f,be.g)),J=new mx(D4(be.g)),dh(J,P),Vi(x,ra(J,da(it(nt(Ci,1),Ei,10,0,[be.f.i,be.i,be.a])))),bO(x,da(it(nt(Ci,1),Ei,10,0,[be.f.i,be.i,be.a]))),K=new Ghe(x),Pf(l.a,XK(K))}function $Tt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe;if(he(_e(l.c,(Xt(),hr)))===he((lo(),T0))||he(_e(l.c,hr))===he(Xu)){for(K=new ge(l.c.f);K.a<K.c.c.length;)if(q=T(pe(K),7),q.g==(Ut(),Hn)||q.g==ur)return!1}for(x=Jr(Ca(l.c));Br(x);)if(b=T(Ar(x),12),b.c.f==b.d.f)return!1;if(uh(T(_e(l.c,hr),28))){for(ce=new Pe,B=jo(l.c,(Ut(),kn)).mb();B.G();)P=T(B.H(),7),tn(ce,os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[P.b,P.e]))))));for(fe=(mr(ce),new sx(ce)),ce=new Pe,I=jo(l.c,yn).mb();I.G();)P=T(I.H(),7),tn(ce,os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[P.b,P.e]))))));g=(mr(ce),new sx(ce))}else fe=Qs(l.c),g=Ca(l.c);return O=!PD(Ca(l.c)),E=!PD(Qs(l.c)),!O&&!E?!1:O?E?wK((Ha(),new Xf(dg(op(fe.a,new h)))))==1&&(J=(mr(fe),T(ihe(new Xf(dg(op(fe.a,new h)))),12)).c.f,J.g==(zn(),va)&&T(_e(J,(ht(),_c)),7).f!=l.c)?(l.e=2,!0):wK(new Xf(dg(op(g.a,new h))))==1&&(ie=(mr(g),T(ihe(new Xf(dg(op(g.a,new h)))),12)).d.f,ie.g==(zn(),va)&&T(_e(ie,(ht(),Yl)),7).f!=l.c)?(l.e=3,!0):!1:(l.e=0,!0):(l.e=1,!0)}function kTt(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re;if(x=new Pe,E=Bs,O=Bs,P=Bs,b)for(E=l.e.a,be=new ge(g.f);be.a<be.c.c.length;)for(fe=T(pe(be),7),B=new ge(fe.e);B.a<B.c.c.length;)I=T(pe(B),12),I.a.b!=0&&(K=T(_D(I.a),10),K.a<E&&(O=E-K.a,P=Bs,x.c=Pt(Ln,cn,1,0,4,1),E=K.a),K.a<=E&&(x.c[x.c.length]=I,I.a.b>1&&(P=Ri(P,_s(T(L4(I.a,1),10).b-K.b)))));else for(be=new ge(g.f);be.a<be.c.c.length;)for(fe=T(pe(be),7),B=new ge(fe.b);B.a<B.c.c.length;)I=T(pe(B),12),I.a.b!=0&&(ie=T(zO(I.a),10),ie.a>E&&(O=ie.a-E,P=Bs,x.c=Pt(Ln,cn,1,0,4,1),E=ie.a),ie.a>=E&&(x.c[x.c.length]=I,I.a.b>1&&(P=Ri(P,_s(T(L4(I.a,I.a.b-2),10).b-ie.b)))));if(x.c.length!=0&&O>g.j.a/2&&P>g.j.b/2){for(ce=new mo,fa(ce,g),ni(ce,(Ut(),Hn)),ce.i.a=g.j.a/2,Re=new mo,fa(Re,g),ni(Re,ur),Re.i.a=g.j.a/2,Re.i.b=g.j.b,B=new ge(x);B.a<B.c.c.length;)I=T(pe(B),12),b?(q=T(E9(I.a),10),Oe=I.a.b==0?vc(I.d):T(_D(I.a),10),Oe.b>=q.b?uo(I,Re):uo(I,ce)):(q=T(xfe(I.a),10),Oe=I.a.b==0?vc(I.c):T(zO(I.a),10),Oe.b>=q.b?Ea(I,Re):Ea(I,ce)),J=T(_e(I,(Xt(),$o)),44),J&&WD(J,q,!0);g.i.a=E-g.j.a/2}}function OTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;for(Re=new Pe,je=new Pe,Be=new Pe,O=new ge(g);O.a<O.c.c.length;)E=T(pe(O),75),E.k>50?Re.c[Re.c.length]=E:E.k>0?je.c[je.c.length]=E:Be.c[Be.c.length]=E;if(je.c.length==1&&Re.c.length==0&&(Na(Re,je),je.c=Pt(Ln,cn,1,0,4,1)),Re.c.length!=0&&gg(Cr(l.a),(Ul(),nm))&&gg(Cr(l.a),(Ul(),D0))?Y$t(l,Re):Na(je,Re),je.c.length==0||K$t(l,je),Be.c.length!=0){if(b=Lr(l.a),b.c!=0)for(K=new ge(Be),B=(mr(b),l9(new iY(b).a));K.a<K.c.c.length;){for(E=T(pe(K),75);K.a<K.c.c.length&&E.a.a.Y()<2;)E=T(pe(K),75);E.a.a.Y()>1&&(be=T(_de(B),60),F4(E,be,!0),E4(K),PPe(l.a,be))}for(ie=Be.c.length,x=oRt(l),ce=new Pe,P=ie/Nr(l.a).c|0,I=0;I<P;I++)Na(ce,Nr(l.a));switch(fe=ie%Nr(l.a).c,fe>3&&(Na(ce,(Ul(),Ul(),R9e)),fe-=4),fe){case 3:tn(ce,rI(x));case 2:Oe=Cz(rI(x));do Oe=Cz(Oe);while(!gg(Cr(l.a),Oe));ce.c[ce.c.length]=Oe,Oe=Dhe(rI(x));do Oe=Dhe(Oe);while(!gg(Cr(l.a),Oe));ce.c[ce.c.length]=Oe;break;case 1:tn(ce,rI(x))}for(J=new ge(ce),q=new ge(Be);J.a<J.c.c.length&&q.a<q.c.c.length;)F4(T(pe(q),75),T(pe(J),60),!0)}}function ATt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt;for(K=g.c.c.length,l.a=Pt(Hs,eu,51,K,0,2),l.b=Pt(Hs,eu,51,K,0,2),l.k=Pt(Hs,eu,51,K,0,2),B=Pt(ko,Co,26,K,12,1),P=Pt(XI,vI,26,K,13,1),l.c=Pt(XI,vI,26,K,13,1),l.d=Pt(XI,vI,26,K,13,1),Re=0,ct=0,ie=new pa(g.c,0);ie.b<ie.d.Y();)for(q=(Jn(ie.b<ie.d.Y()),T(ie.d.sb(ie.c=ie.b++),16)),J=ie.b-1,ce=q.a.c.length,l.a[J]=Pt(Hs,bc,9,ce,0,1),l.k[J]=Pt(Hs,bc,9,ce,0,1),l.b[J]=Pt(Hs,bc,9,ce,0,1),B[J]=0,P[J]=!1,je=new pa(q.a,0);je.b<je.d.Y();){for(Oe=(Jn(je.b<je.d.Y()),T(je.d.sb(je.c=je.b++),9)),l.b[J][je.b-1]=Oe,Oe.k=Re++,fe=T(_e(Oe,(ht(),Kx)),9),fe&&_X(l.g,fe,Oe,null),Je=new ge(Oe.f);Je.a<Je.c.c.length;){for(Be=T(pe(Je),7),Be.k=ct++,O=new ge(Be.e);O.a<O.c.c.length;)E=T(pe(O),12),E.d.f.d==q&&++B[J];Be.g==(Ut(),yn)?Be.e.c.length+Be.b.c.length>1&&(l.c[J]=!0):Be.g==kn&&Be.e.c.length+Be.b.c.length>1&&(l.d[J]=!0)}Oe.g==(zn(),Bo)&&(++B[J],P[J]=!0)}for(b=!0,be=!0,I=0;I<l.d.length-1;I++)x=l.c[I]||l.d[I+1],b=b&x,be=be&!x;l.j=Pt($j,Iz,26,ct,12,1),Yt=Pt(ko,Co,26,ct,12,1),b||(l.i=new Ht(B,P,Yt),l.f=l.i),be||(l.e=new $n(B,P,Yt),l.f=l.e)}function aNe(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt;for(l.d=new Gn(Gl,Gl),l.c=new Gn(pu,pu),ie=g.mb();ie.G();)for(K=T(ie.H(),55),Be=new ge(K.b);Be.a<Be.c.c.length;)je=T(pe(Be),9),l.d.a=Ri(l.d.a,je.i.a-je.e.b),l.d.b=Ri(l.d.b,je.i.b-je.e.d),l.c.a=rn(l.c.a,je.i.a+je.j.a+je.e.c),l.c.b=rn(l.c.b,je.i.b+je.j.b+je.e.a);for(I=new U_,J=g.mb();J.G();)K=T(J.H(),55),x=wTt(l,K),tn(I.a,x),x.a=x.a|!T(_e(x.c,(ht(),h$)),18).V();for(l.b=(DK(),Nt=new R,Nt.f=new EDe(b),Nt.b=$3t(Nt.f,I),Nt),x3t((fe=l.b,new b4,fe)),l.e=new is,l.a=l.b.f.e,P=new ge(I.a);P.a<P.c.c.length;)for(E=T(pe(P),347),Je=VSt(l.b,E),sRt(E.c,Je.a,Je.b),Oe=new ge(E.c.b);Oe.a<Oe.c.c.length;)be=T(pe(Oe),9),be.g==(zn(),Ta)&&(Re=She(l,be.i,T(_e(be,(ht(),vu)),32)),ra(lg(be.i),Re));for(O=new ge(I.a);O.a<O.c.c.length;)for(E=T(pe(O),347),q=new ge(U$t(E));q.a<q.c.c.length;)for(B=T(pe(q),12),Qt=new Ad(B.a),AC(Qt,0,vc(B.c)),Vi(Qt,vc(B.d)),ce=null,Yt=ta(Qt,0);Yt.b!=Yt.d.c;){if(ct=T(Fi(Yt),10),!ce){ce=ct;continue}jLe(ce.a,ct.a)?(l.e.a=Ri(l.e.a,ce.a),l.a.a=rn(l.a.a,ce.a)):jLe(ce.b,ct.b)&&(l.e.b=Ri(l.e.b,ce.b),l.a.b=rn(l.a.b,ce.b)),ce=ct}wD(l.e),ra(l.a,l.e)}function oNe(l,g,b,x,E){var O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn;for(be=new yc(g.b),Je=new yc(g.b),ie=new yc(g.b),Nt=new yc(g.b),Oe=new yc(g.b),Qt=ta(g,0);Qt.b!=Qt.d.c;)for(ct=T(Fi(Qt),7),I=new ge(ct.e);I.a<I.c.c.length;)if(O=T(pe(I),12),O.c.f==O.d.f){if(ct.g==O.d.g){Nt.c[Nt.c.length]=O;continue}else if(ct.g==(Ut(),Hn)&&O.d.g==ur){Oe.c[Oe.c.length]=O;continue}}for(B=new ge(Oe);B.a<B.c.c.length;)O=T(pe(B),12),wRt(l,O,b,x,(Ut(),yn));for(P=new ge(Nt);P.a<P.c.c.length;)O=T(pe(P),12),ln=new bh(l),Wr(ln,(zn(),Bo)),dt(ln,(Xt(),hr),(lo(),Xu)),dt(ln,(ht(),lr),O),Rn=new mo,dt(Rn,lr,O.d),ni(Rn,(Ut(),kn)),fa(Rn,ln),Dn=new mo,dt(Dn,lr,O.c),ni(Dn,yn),fa(Dn,ln),dt(O.c,rm,ln),dt(O.d,rm,ln),uo(O,null),Ea(O,null),b.c[b.c.length]=ln,dt(ln,aM,yr(2));for(Yt=ta(g,0);Yt.b!=Yt.d.c;)ct=T(Fi(Yt),7),q=ct.b.c.length>0,Re=ct.e.c.length>0,q&&Re?ie.c[ie.c.length]=ct:q?be.c[be.c.length]=ct:Re&&(Je.c[Je.c.length]=ct);for(fe=new ge(be);fe.a<fe.c.c.length;)ce=T(pe(fe),7),tn(E,Zhe(l,ce,null,b));for(Be=new ge(Je);Be.a<Be.c.c.length;)je=T(pe(Be),7),tn(E,Zhe(l,null,je,b));for(J=new ge(ie);J.a<J.c.c.length;)K=T(pe(J),7),tn(E,Zhe(l,K,K,b))}function sNe(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt;for(Je=new se(g.d),B=new Pe,Be=new ge(g.b);Be.a<Be.c.c.length;)if(Re=T(pe(Be),9),ce=T(Ki(l.j,Re),69),ce){for($z(l,Re,ce,Je),Yt=new ge(Re.f);Yt.a<Yt.c.c.length;)if(ct=T(pe(Yt),7),fe=T(Ki(l.n,ct),69),fe&&($z(l,ct,fe,_Z),GL(fe,(Xt(),OI),new px(lfe(ct.g)))),he(_e(Re,(Xt(),kI)))!==he((eA(),dZ)))for(Oe=new ge(ct.c);Oe.a<Oe.c.c.length;)be=T(pe(Oe),33),ie=T(Ki(l.f,be),69),$z(l,be,ie,_Z);if(T(_e(Re,(Xt(),Df)),86).Y()!=0)for(Oe=new ge(Re.c);Oe.a<Oe.c.c.length;)be=T(pe(Oe),33),ie=T(Ki(l.f,be),69),$z(l,be,ie,_Z);for(I=Jr(Ca(Re));Br(I);)O=T(Ar(I),12),nA(O.d.f,Re)||(B.c[B.c.length]=O)}if(Qt=T(_e(g,(ht(),Zx)),9),Qt)for(I=Jr(Ca(Qt));Br(I);)O=T(Ar(I),12),nA(O.d.f,Qt)&&(B.c[B.c.length]=O);for(P=new ge(B);P.a<P.c.c.length;)for(O=T(pe(P),12),J=T(Ki(l.b,O),69),X3t(l,O,J,Je),Oe=new ge(O.b);Oe.a<Oe.c.c.length;)be=T(pe(Oe),33),ie=T(Ki(l.f,be),69),$z(l,be,ie,Je);for(b=(x=T(_e(g,F0),15).a,new Gn(g.e.a+g.a.b+g.a.c+2*x,g.e.b+g.a.d+g.a.a+2*x)),K=T(_e(g,Zx),9),K&&(K.j.a=b.a,K.j.b=b.b),q=T(_e(g,mpe),69),yh(l,q,DX,b.a),yh(l,q,IX,b.b),je=new ge(g.b);je.a<je.c.c.length;)Re=T(pe(je),9),E=T(_e(Re,Xx),55),E&&sNe(l,E)}function RTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr;for(Dn=new Ds,Nt=new Ds,Re=-1,B=new ge(l);B.a<B.c.c.length;){for(P=T(pe(B),77),P.i=Re--,J=0,ct=0,O=new ge(P.j);O.a<O.c.c.length;)x=T(pe(O),117),ct+=x.c;for(E=new ge(P.d);E.a<E.c.c.length;)x=T(pe(E),117),J+=x.c;P.e=J,P.k=ct,ct==0?zs(Nt,P,Nt.c.b,Nt.c):J==0&&zs(Dn,P,Dn.c.b,Dn.c)}for(rr=new KY((fh(),l)),ie=l.c.length,Oe=ie+1,je=ie-1,fe=new Pe;rr.a.Y()!=0;){for(;Nt.b!=0;)Qt=(Jn(Nt.b!=0),T(E1(Nt,Nt.a.a),77)),rr.a.eb(Qt)!=null,Qt.i=je--,Lhe(Qt,Dn,Nt);for(;Dn.b!=0;)ln=(Jn(Dn.b!=0),T(E1(Dn,Dn.a.a),77)),rr.a.eb(ln)!=null,ln.i=Oe++,Lhe(ln,Dn,Nt);for(be=A1,q=(Be=new wi(rr.a).a.bb().mb(),new _i(Be));q.a.G();)P=(K=T(q.a.H(),21),T(K.yb(),77)),Je=P.k-P.e,Je>=be&&(Je>be&&(fe.c=Pt(Ln,cn,1,0,4,1),be=Je),fe.c[fe.c.length]=P);fe.c.length!=0&&(ce=T(_t(fe,rhe(g,fe.c.length)),77),rr.a.eb(ce)!=null,ce.i=Oe++,Lhe(ce,Dn,Nt),fe.c=Pt(Ln,cn,1,0,4,1))}for(Yt=l.c.length+1,I=new ge(l);I.a<I.c.c.length;)P=T(pe(I),77),P.i<ie&&(P.i+=Yt);for(Rn=new ge(l);Rn.a<Rn.c.c.length;)for(ln=T(pe(Rn),77),b=new pa(ln.j,0);b.b<b.d.Y();)x=(Jn(b.b<b.d.Y()),T(b.d.sb(b.c=b.b++),117)),Wn=x.b,ln.i>Wn.i&&(up(b),Ks(Wn.d,x),x.c>0&&(x.a=Wn,tn(Wn.j,x),x.b=ln,tn(ln.d,x)))}function TTt(l){var g,b,x;for(x=new P9(new s0(l.c).a);l4(x.a);)switch(b=(x.b=xx(x.a),new Hw(x.c,x.b)),g=T(b.b.b[b.a.e],62),T(b.a,67).e){case 0:g.d=0,g.e=-(g.b+l.d);break;case 1:g.d=(l.e.e.j.a-g.c)/2,g.e=-(g.b+l.d);break;case 2:g.d=l.e.e.j.a-g.c,g.e=-(g.b+l.d);break;case 3:g.d=0,g.e=l.e.e.j.b+l.d;break;case 4:g.d=(l.e.e.j.a-g.c)/2,g.e=l.e.e.j.b+l.d;break;case 5:g.d=l.e.e.j.a-g.c,g.e=l.e.e.j.b+l.d;break;case 6:g.d=-(g.c+l.d),g.e=0;break;case 7:g.d=-(g.c+l.d),g.e=(l.e.e.j.b-g.b)/2;break;case 8:g.d=-(g.c+l.d),g.e=l.e.e.j.b-g.b;break;case 9:g.d=l.e.e.j.a+l.d,g.e=0;break;case 10:g.d=l.e.e.j.a+l.d,g.e=(l.e.e.j.b-g.b)/2;break;case 11:g.d=l.e.e.j.a+l.d,g.e=l.e.e.j.b-g.b;break;case 12:g.d=l.q.b+l.d,g.e=l.q.d+l.d;break;case 13:g.d=(l.e.e.j.a-g.c)/2,g.e=l.q.d+l.d;break;case 14:g.d=l.e.e.j.a-l.q.c-g.c-l.d,g.e=l.q.d+l.d;break;case 15:g.d=l.q.b+l.d,g.e=(l.e.e.j.b-g.b)/2;break;case 16:g.d=(l.e.e.j.a-g.c)/2,g.e=(l.e.e.j.b-g.b)/2;break;case 17:g.d=l.e.e.j.a-l.q.c-g.c-l.d,g.e=(l.e.e.j.b-g.b)/2;break;case 18:g.d=l.q.b+l.d,g.e=l.e.e.j.b-l.q.a-g.b-l.d;break;case 19:g.d=(l.e.e.j.a-g.c)/2,g.e=l.e.e.j.b-l.q.a-g.b-l.d;break;case 20:g.d=l.e.e.j.a-l.q.c-g.c-l.d,g.e=l.e.e.j.b-l.q.a-g.b-l.d}}function MTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr;for(Dn=new Ds,Nt=new Ds,fe=-1,je=new ge(l);je.a<je.c.c.length;){for(Oe=T(pe(je),80),Oe.d=fe--,B=0,ct=0,O=new ge(Oe.e);O.a<O.c.c.length;)x=T(pe(O),118),ct+=x.c;for(E=new ge(Oe.b);E.a<E.c.c.length;)x=T(pe(E),118),B+=x.c;Oe.c=B,Oe.f=ct,ct==0?zs(Nt,Oe,Nt.c.b,Nt.c):B==0&&zs(Dn,Oe,Dn.c.b,Dn.c)}for(rr=(qr=new tC,Lde(qr,l),qr),q=l.c.length,be=q-1,ce=q+1,J=new Pe;rr.a.c!=0;){for(;Nt.b!=0;)Qt=(Jn(Nt.b!=0),T(E1(Nt,Nt.a.a),80)),TD(rr.a,Qt)!=null,Qt.d=be--,Phe(Qt,Dn,Nt);for(;Dn.b!=0;)ln=(Jn(Dn.b!=0),T(E1(Dn,Dn.a.a),80)),TD(rr.a,ln)!=null,ln.d=ce++,Phe(ln,Dn,Nt);for(ie=A1,Be=(I=new UO(new RC(new fl(rr.a).a).b),new Vm(I));Nw(Be.a.a);)Oe=(P=SD(Be.a),T(P.yb(),80)),Je=Oe.f-Oe.c,Je>=ie&&(Je>ie&&(J.c=Pt(Ln,cn,1,0,4,1),ie=Je),J.c[J.c.length]=Oe);J.c.length!=0&&(K=T(_t(J,rhe(g,J.c.length)),80),TD(rr.a,K)!=null,K.d=ce++,Phe(K,Dn,Nt),J.c=Pt(Ln,cn,1,0,4,1))}for(Yt=l.c.length+1,Re=new ge(l);Re.a<Re.c.c.length;)Oe=T(pe(Re),80),Oe.d<q&&(Oe.d+=Yt);for(Rn=new ge(l);Rn.a<Rn.c.c.length;)for(ln=T(pe(Rn),80),b=new pa(ln.e,0);b.b<b.d.Y();)x=(Jn(b.b<b.d.Y()),T(b.d.sb(b.c=b.b++),118)),Wn=x.b,ln.d>Wn.d&&(up(b),Ks(Wn.b,x),x.c>0&&(x.a=Wn,tn(Wn.e,x),x.b=ln,tn(ln.b,x)))}function PTt(l){switch(l.e){case 14:return new Me;case 37:return new gt;case 8:return new MT;case 30:return new YL;case 38:return new ot;case 3:return new Ue;case 47:case 1:return new ua((az(),Mpe));case 4:return new st;case 49:return new at;case 23:return new ja;case 13:return new St;case 34:return new tt;case 40:return new wt;case 35:return new ft;case 44:return new cY;case 28:return new Mt;case 39:return new yt;case 27:return new Ct;case 6:return new jt;case 31:return new qt;case 9:return new Zh;case 43:return new jn;case 17:return new Mn;case 18:return new Wi;case 29:return new cs;case 11:return new On;case 12:return new ga;case 36:return new $i;case 46:case 0:return new ua((az(),Tpe));case 41:return new xo;case 15:return new en;case 33:return new sn;case 42:return new kr;case 22:return new ti;case 19:return new kt;case 10:return new Do;case 7:return new Yi;case 24:return new ka;case 21:return new fo;case 16:return new Oa;case 45:return new rc;case 26:return new Bf;case 20:return new Hf;case 25:return new th;case 5:return new Du;case 32:return new Gu;case 48:case 2:return new ua((az(),Rpe));default:throw new Oi("No implementation is available for the layout processor "+(l.d!=null?l.d:""+l.e))}}function LTt(l){var g,b,x,E,O,P,I;if(b=l.e.e.j,l.b?g=T(Yo(l.e,(Xt(),xI)),65):g=new pg(l.k,l.k,l.k,l.k),E=b.a,(l.b||l.g[1]!=(Jw(),em))&&(E-=g.b+g.c),O=b.a,(l.b||l.g[3]!=(Jw(),em))&&(O-=g.b+g.c),P=b.b,(l.b||l.g[4]!=(Jw(),em))&&(P-=g.d+g.a),x=b.b,(l.b||l.g[2]!=(Jw(),em))&&(x-=g.d+g.a),kf(l,(Ut(),Hn))==(Jw(),em))l.j[1]=(E-Py(l,Hn))/X_(l,Hn),l.f=l.b?g.b+(tp(l,Hn)==1?l.j[1]:0):l.j[1];else switch(l.j[1]=l.k,I=Py(l,Hn)+l.j[1]*(tp(l,Hn)-1),kf(l,Hn).e){case 2:l.f=g.b;break;case 3:l.f=g.b+(E-I)/2;break;case 4:l.f=b.a-I-g.c}if(kf(l,ur)==em)l.j[3]=(O-Py(l,ur))/X_(l,ur),l.r=b.a-(l.b?g.c+(tp(l,ur)==1?l.j[3]:0):l.j[3]);else switch(l.j[3]=l.k,I=Py(l,ur)+l.j[3]*(tp(l,ur)-1),kf(l,ur).e){case 2:l.r=I+g.b;break;case 3:l.r=b.a-(O-I)/2-g.c;break;case 4:l.r=b.a-g.c}if(kf(l,kn)==em)l.j[4]=(P-Py(l,kn))/X_(l,kn),l.s=b.b-(l.b?g.a+(tp(l,kn)==1?l.j[4]:0):l.j[4]);else switch(l.j[4]=l.k,I=Py(l,kn)+l.j[4]*(tp(l,kn)-1),kf(l,kn).e){case 2:l.s=I+g.d;break;case 3:l.s=b.b-(P-I)/2-g.a;break;case 4:l.s=b.b-g.a}if(kf(l,yn)==em)l.j[2]=(x-Py(l,yn))/X_(l,yn),l.a=l.b?g.d+(tp(l,yn)==1?l.j[2]:0):l.j[2];else switch(l.j[2]=l.k,I=Py(l,yn)+l.j[2]*(tp(l,yn)-1),kf(l,yn).e){case 2:l.a=g.d;break;case 3:l.a=g.d+(x-I)/2;break;case 4:l.a=b.b-I-g.a}}function uNe(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr;for(Wn=0,P=0,J=g[0].d,Nt=b[0].d,fe=0,Oe=b.length;fe<Oe;++fe)if(ie=b[fe],Ns(T(_e(ie,(Xt(),hr)),28))){for(je=0,ct=new ge(ie.f);ct.a<ct.c.c.length&&(Je=T(pe(ct),7),Je.g==(Ut(),Hn));)for(O=new ge(Je.b);O.a<O.c.c.length;)if(E=T(pe(O),12),E.c.f.d==J){++je;break}for(Be=0,Qt=new pa(ie.f,ie.f.c.length);Qt.b>0;){for(Je=(Jn(Qt.b>0),T(Qt.a.sb(Qt.c=--Qt.b),7)),Yt=0,O=new ge(Je.b);O.a<O.c.c.length;)E=T(pe(O),12),E.c.f.d==J&&++Yt;Yt>0&&(Je.g==(Ut(),Hn)?(l.a[Je.k]=Wn,++Wn):(l.a[Je.k]=Wn+je+Be,++Be),P+=Yt)}Wn+=Be}else{for(Re=0,ct=new ge(ie.f);ct.a<ct.c.c.length;){for(Je=T(pe(ct),7),O=new ge(Je.b);O.a<O.c.c.length;)E=T(pe(O),12),E.c.f.d==J&&++Re;l.a[Je.k]=Wn}Re>0&&(++Wn,P+=Re)}for(ln=Pt(ko,Co,26,P,12,1),B=0,ce=0,be=g.length;ce<be;++ce)if(ie=g[ce],Ns(T(_e(ie,(Xt(),hr)),28)))for(ct=new ge(ie.f);ct.a<ct.c.c.length;)for(Je=T(pe(ct),7),Rn=B,O=new ge(Je.e);O.a<O.c.c.length;)E=T(pe(O),12),Dn=E.d,Dn.f.d==Nt&&kDe(ln,Rn,B++,l.a[Dn.k]);else for(Rn=B,ct=new ge(ie.f);ct.a<ct.c.c.length;)for(Je=T(pe(ct),7),O=new ge(Je.e);O.a<O.c.c.length;)E=T(pe(O),12),Dn=E.d,Dn.f.d==Nt&&kDe(ln,Rn,B++,l.a[Dn.k]);for(I=1;I<Wn;)I*=2;for(qr=2*I-1,I-=1,rr=Pt(ko,Co,26,qr,12,1),x=0,K=0;K<P;K++)for(q=ln[K]+I,++rr[q];q>0;)q%2>0&&(x+=rr[q+1]),q=(q-1)/2|0,++rr[q];return x}function lNe(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr,Ma;for(ai(g,"Compound graph postprocessor",1),b=zr(Lt(Qr(_e(l,(Si(),wQ))))),I=T(_e(l,(ht(),U0e)),144),J=new Aa,Yt=I.W().mb();Yt.G();){for(ct=T(Yt.H(),12),P=new _1(I.U(ct)),mh(P,new un(l)),Dn=ZCt((Ra(0,P.c.length),T(P.c[0],114))),rr=uDe(T(_t(P,P.c.length-1),114)),S1(ct.a),ln=Dn.f,nA(rr.f,ln)?Nt=T(_e(ln,Xx),55):Nt=gc(ln),fe=T(_e(ct,(Xt(),$o)),44),A9(P,k7e)?fe?S1(fe):(fe=new ns,dt(ct,$o,fe)):fe&&dt(ct,$o,null),Oe=null,O=new ge(P);O.a<O.c.c.length;){for(E=T(pe(O),114),Je=new is,Ohe(Je,E.a,Nt),Re=E.b,x=new ns,FK(x,0,Re.a),Kw(x,Je),Rn=new se(vc(Re.c)),Wn=new se(vc(Re.d)),Rn.a+=Je.a,Rn.b+=Je.b,Wn.a+=Je.a,Wn.b+=Je.b,Oe&&(x.b==0?Be=Wn:Be=(Jn(x.b!=0),T(x.a.a.c,10)),qr=_s(Oe.a-Be.a)>ab,Ma=_s(Oe.b-Be.b)>ab,(!b&&qr&&Ma||b&&(qr||Ma))&&Vi(ct.a,Rn)),Pf(ct.a,x),x.b==0?Oe=Rn:Oe=(Jn(x.b!=0),T(x.c.b.c,10)),je=T(_e(Re,$o),44),je&&(ce=new ns,FK(ce,0,je),Kw(ce,Je),Pf(fe,ce)),uDe(E)==rr&&(gc(rr.f)!=E.a&&(Je=new is,Ohe(Je,gc(rr.f),Nt)),dt(ct,yQ,Je)),be=new pa(Re.b,0);be.b<be.d.Y();)B=(Jn(be.b<be.d.Y()),T(be.d.sb(be.c=be.b++),33)),he(_e(B,K0e))===he(ct)&&(Ohe(B.i,gc(Re.c.f),Nt),up(be),tn(ct.b,B));J.a.db(Re,J)}uo(ct,Dn),Ea(ct,rr)}for(K=(Qt=new wi(J.a).a.bb().mb(),new _i(Qt));K.a.G();)q=(ie=T(K.a.H(),21),T(ie.yb(),12)),uo(q,null),Ea(q,null);jr(g)}function DTt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr;if(ln=T(_e(l,(Xt(),hr)),28),ln!=(lo(),pp)&&ln!=u2){for(be=l.c,fe=be.c.length,J=new yc((wl(fe+2,mge),QO(Zs(Zs(5,fe+2),(fe+2)/10|0)))),Oe=new yc((wl(fe+2,mge),QO(Zs(Zs(5,fe+2),(fe+2)/10|0)))),tn(J,new Rt),tn(J,new Rt),tn(Oe,new Pe),tn(Oe,new Pe),Qt=new Aa,g=0;g<fe;g++)for(b=(Ra(g,be.c.length),T(be.c[g],16)),Rn=(Ra(g,J.c.length),T(J.c[g],57)),Re=(hi(),new Rt),J.c[J.c.length]=Re,Wn=(Ra(g,Oe.c.length),T(Oe.c[g],20)),Be=new Pe,Oe.c[Oe.c.length]=Be,E=new ge(b.a);E.a<E.c.c.length;){for(x=T(pe(E),9),q=Jr(Qs(x));Br(q);)I=T(Ar(q),12),rr=I.c.f,JDe(rr)&&(Qt.a.db(rr,Qt),Dn=T(Rn.cb(_e(rr,(ht(),lr))),9),Dn||(Dn=g6e(l,rr),Rn.db(_e(rr,lr),Dn),Wn.ib(Dn)),uo(I,T(_t(Dn.f,1),7)));for(B=Jr(Ca(x));Br(B);)I=T(Ar(B),12),qr=I.d.f,JDe(qr)&&(Qt.a.db(qr,Qt),je=T(Ki(Re,_e(qr,(ht(),lr))),9),je||(je=g6e(l,qr),ca(Re,_e(qr,lr),je),Be.c[Be.c.length]=je),Ea(I,T(_t(je.f,0),7)))}for(ie=0;ie<Oe.c.length;ie++)if(Je=(Ra(ie,Oe.c.length),T(Oe.c[ie],20)),!Je.V())for(ie==0?(ce=new yx(l),Ex(0,be.c.length),jw(be.c,0,ce)):ie==J.c.length-1?(ce=new yx(l),be.c[be.c.length]=ce):ce=(Ra(ie-1,be.c.length),T(be.c[ie-1],16)),P=Je.mb();P.G();)O=T(P.H(),9),fu(O,ce);for(Yt=(Nt=new wi(Qt.a).a.bb().mb(),new _i(Nt));Yt.a.G();)ct=(K=T(Yt.a.H(),21),T(K.yb(),9)),fu(ct,null)}}function ITt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr,Ma,Ua;for(qr=new Pe,fe=new ge(g.c);fe.a<fe.c.c.length;)for(ie=T(pe(fe),16),ct=new ge(ie.a);ct.a<ct.c.c.length;){for(Je=T(pe(ct),9),Je.k=-1,J=A1,Nt=A1,Rn=new ge(Je.f);Rn.a<Rn.c.c.length;){for(ln=T(pe(Rn),7),E=new ge(ln.b);E.a<E.c.c.length;)b=T(pe(E),12),Dn=T(_e(b,(ht(),Ch)),24).a,J=J>Dn?J:Dn;for(x=new ge(ln.e);x.a<x.c.c.length;)b=T(pe(x),12),Dn=T(_e(b,(ht(),Ch)),24).a,Nt=Nt>Dn?Nt:Dn}dt(Je,lj,yr(J)),dt(Je,cj,yr(Nt))}for(Re=0,ce=new ge(g.c);ce.a<ce.c.c.length;)for(ie=T(pe(ce),16),ct=new ge(ie.a);ct.a<ct.c.c.length;)Je=T(pe(ct),9),Je.k<0&&(rr=new ky,rr.b=Re++,Xhe(l,Je,rr),qr.c[qr.c.length]=rr);for(Qt=Zf(qr.c.length),K=Zf(qr.c.length),P=0;P<qr.c.length;P++)tn(Qt,new Pe),tn(K,yr(0));for(J3t(g,qr,Qt,K),Ma=T(Eo(qr,Pt(c9e,GNe,111,qr.c.length,0,1)),625),Yt=T(Eo(Qt,Pt(WTt,{3:1,5:1,6:1,672:1},20,Qt.c.length,0,1)),672),q=Pt(ko,Co,26,K.c.length,12,1),I=0;I<q.length;I++)q[I]=(Ra(I,K.c.length),T(K.c[I],24)).a;for(je=0,Be=new Pe,B=0;B<Ma.length;B++)q[B]==0&&tn(Be,Ma[B]);for(Oe=Pt(ko,Co,26,Ma.length,12,1);Be.c.length!=0;)for(rr=T(HC(Be,0),111),Oe[rr.b]=je++;!Yt[rr.b].V();)Ua=T(Yt[rr.b].vb(0),111),--q[Ua.b],q[Ua.b]==0&&(Be.c[Be.c.length]=Ua);for(l.a=Pt(c9e,GNe,111,Ma.length,0,1),O=0;O<Ma.length;O++)for(be=Ma[O],Wn=Oe[O],l.a[Wn]=be,be.b=Wn,ct=new ge(be.f);ct.a<ct.c.c.length;)Je=T(pe(ct),9),Je.k=Wn;return l.a}function FTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln;for(ai(g,"Fixed Layout",1),B=T(_e(l,(Xt(),r$)),122),be=0,Oe=0,Be=new ge(l.b);Be.a<Be.c.c.length;){for(Re=T(pe(Be),9),Nt=T(_e(Re,yA),10),Nt&&(Re.i.a=Nt.a,Re.i.b=Nt.b,T(_e(Re,s2),86).kb((tb(),MI))&&(ln=T(_e(Re,Q4),15).a,q=T(_e(Re,Z4),15).a,ln>0&&q>0&&nge(Re,new Gn(ln,q),!0))),be=rn(be,Re.i.a+Re.j.a),Oe=rn(Oe,Re.i.b+Re.j.b),ce=new ge(Re.c);ce.a<ce.c.c.length;)J=T(pe(ce),33),Nt=T(_e(J,yA),10),Nt&&(J.i.a=Nt.a,J.i.b=Nt.b),be=rn(be,Re.i.a+J.i.a+J.j.a),Oe=rn(Oe,Re.i.b+J.i.b+J.j.b);for(ct=new ge(Re.f);ct.a<ct.c.c.length;)for(Je=T(pe(ct),7),Nt=T(_e(Je,yA),10),Nt&&(Je.i.a=Nt.a,Je.i.b=Nt.b),Yt=Re.i.a+Je.i.a,Qt=Re.i.b+Je.i.b,be=rn(be,Yt+Je.j.a),Oe=rn(Oe,Qt+Je.j.b),ie=new ge(Je.c);ie.a<ie.c.c.length;)J=T(pe(ie),33),Nt=T(_e(J,yA),10),Nt&&(J.i.a=Nt.a,J.i.b=Nt.b),be=rn(be,Yt+J.i.a+J.j.a),Oe=rn(Oe,Qt+J.i.b+J.j.b);for(I=Jr(Ca(Re));Br(I);)O=T(Ar(I),12),fe=WFe(O),be=rn(be,fe.a),Oe=rn(Oe,fe.b);for(P=Jr(Qs(Re));Br(P);)O=T(Ar(P),12),he(_e(O.c.f,(ht(),Xx)))!==he(l)&&(fe=WFe(O),be=rn(be,fe.a),Oe=rn(Oe,fe.b))}if(B==(Jy(),n$))for(je=new ge(l.b);je.a<je.c.c.length;)for(Re=T(pe(je),9),P=Jr(Ca(Re));Br(P);)O=T(Ar(P),12),K=sTt(O),K.b==0?dt(O,$o,null):dt(O,$o,K);l.e.a=be,l.e.b=Oe,dt(l,s2,(tb(),x=T(Eu(J4),11),new $u(x,T(hc(x,x.length),11),0))),E=T(_e(l,(ht(),Zx)),9),E&&dt(E,s2,(b=T(Eu(J4),11),new $u(b,T(hc(b,b.length),11),0))),jr(g)}function NTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn;if(!Ns(T(_e(g,(Xt(),hr)),28))){if(g.f.c.length>1){Qt=Pt(c4t,eu,15,l.a.length,0,1),q=Zf(l.a.length),be=0,fe=0,b=2*g.d.a.c.length+1;e:for(Yt=new ge(g.f);Yt.a<Yt.c.c.length;){if(ct=T(pe(Yt),7),Re=ct.g==(Ut(),Hn)||ct.g==ur,Wn=0,Re){if(Nt=T(_e(ct,(ht(),rm)),9),!Nt)continue;for(ie=!1,Je=!1,Rn=new ge(Nt.f);Rn.a<Rn.c.c.length;)ln=T(pe(Rn),7),he(_e(ln,lr))===he(ct)&&(ln.e.c.length==0?ln.b.c.length==0||(ie=!0):Je=!0);ie&&!Je?Wn=ct.g==Hn?-(Nt.d?mc(Nt.d.a,Nt,0):-1):b-(Nt.d?mc(Nt.d.a,Nt,0):-1):Je&&!ie?Wn=(Nt.d?mc(Nt.d.a,Nt,0):-1)+1:ie&&Je&&(Wn=ct.g==Hn?0:b/2)}else{for(Be=new ge(ct.e);Be.a<Be.c.c.length;)if(je=T(pe(Be),12),E=je.d,E.f.d==g.d){q.c[q.c.length]=ct;continue e}else Wn+=l.a[E.k];for(J=new ge(ct.b);J.a<J.c.c.length;)if(K=T(pe(J),12),E=K.c,E.f.d==g.d){q.c[q.c.length]=ct;continue e}else Wn-=l.a[E.k]}ct.b.c.length+ct.e.c.length>0?(Qt[ct.k]=new li(Wn/(ct.b.c.length+ct.e.c.length)),be=DT(be,Qt[ct.k].a),fe=oO(fe,Qt[ct.k].a)):Re&&(Qt[ct.k]=new li(Wn))}for(Oe=(g.d?mc(g.d.a,g,0):-1)+1,ce=g.d.a.c.length+1,B=new ge(q);B.a<B.c.c.length;){for(I=T(pe(B),7),Wn=0,P=0,O=Jr(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[new Ur(I),new Er(I)]))))));Br(O);)E=T(Ar(O),7),E.f.d==g.d&&(Wn+=p9(E.f)+1,++P);x=Wn/P,Dn=I.g,Dn==(Ut(),yn)?x<Oe?Qt[I.k]=new li(be-x):Qt[I.k]=new li(fe+(ce-x)):Dn==kn&&(x<Oe?Qt[I.k]=new li(fe+x):Qt[I.k]=new li(be-(ce-x)))}mh(g.f,new Qh(Qt))}dt(g,hr,(lo(),bA))}}function zTt(l){var g,b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln;for(Nt=new Pe,l.a.b.c=Pt(Ln,cn,1,0,4,1),Je=(hi(),new Rt),Re=new ge(l.d.c);Re.a<Re.c.c.length;)for(be=T(pe(Re),16),Be=new ge(be.a);Be.a<Be.c.c.length;){if(je=T(pe(Be),9),zr(Lt(Qr(_e(je,(Xt(),X4)))))&&!PD(JD(je))){I=T(U9(JD(je)),12),ct=I.c.f,ct==je&&(ct=I.d.f),Yt=new Po(ct,Fv(fs(je.i),ct.i)),ca(l.b,je,Yt);continue}O=new pFe(je,l.d),tn(l.a.b,O),Lf(Je.d,je,O)}for(Oe=new ge(l.d.c);Oe.a<Oe.c.c.length;)for(be=T(pe(Oe),16),Be=new ge(be.a);Be.a<Be.c.c.length;){for(je=T(pe(Be),9),O=T(Fe(bl(Je.d,je)),25),K=Jr(Ca(je));Br(K);)if(B=T(Ar(K),12),x=ta(B.a,0),J=!0,fe=null,x.b!=x.d.c){for(g=T(Fi(x),10),B.c.g==(Ut(),Hn)&&(ln=new iI(g,new Gn(g.a,O.j.e),O,B),ln.c=!0,Nt.c[Nt.c.length]=ln),B.c.g==ur&&(ln=new iI(g,new Gn(g.a,O.j.e+O.j.b),O,B),ln.d=!0,Nt.c[Nt.c.length]=ln);x.b!=x.d.c;)b=T(Fi(x),10),gde(g.b,b.b)||(fe=new iI(g,b,null,B),Nt.c[Nt.c.length]=fe,J&&(J=!1,b.b<O.j.e?fe.c=!0:b.b>O.j.e+O.j.b?fe.d=!0:(fe.d=!0,fe.c=!0))),x.b!=x.d.c&&(g=b);fe&&(P=T(Ki(Je,B.d.f),25),g.b<P.j.e?fe.c=!0:g.b>P.j.e+P.j.b?fe.d=!0:(fe.d=!0,fe.c=!0))}for(q=Jr(Qs(je));Br(q);)B=T(Ar(q),12),B.a.b!=0&&(g=T(zO(B.a),10),B.d.g==(Ut(),Hn)&&(ln=new iI(g,new Gn(g.a,O.j.e),O,B),ln.c=!0,Nt.c[Nt.c.length]=ln),B.d.g==ur&&(ln=new iI(g,new Gn(g.a,O.j.e+O.j.b),O,B),ln.d=!0,Nt.c[Nt.c.length]=ln))}if(Nt.c.length!=0){for(ea(),mh(Nt,null),ce=(Ra(0,Nt.c.length),T(Nt.c[0],142)),E=new khe(ce,l.d),ie=1;ie<Nt.c.length;ie++)Qt=(Ra(ie,Nt.c.length),T(Nt.c[ie],142)),gde(E.j.d,Qt.j)&&!(Qde(E.j.e+E.j.b,Qt.k)||Qde(Qt.n,E.j.e))?zFe(E,Qt):(tn(l.a.b,E),E=new khe(Qt,l.d));tn(l.a.b,E)}Nt.c=Pt(Ln,cn,1,0,4,1),BAt(l)}function ige(l,g,b,x,E,O){var P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr,Ma,Ua,Ec,nf;for(I=T(_t(l.d.c.c,x),16),Ua=new Aa,fe=new Aa,ce=0;ce<I.a.c.length;++ce)je=T(_t(I.a,ce),9),ce<b?(Rn=Ua.a.db(je,Ua),Rn==null):ce>b&&(ln=fe.a.db(je,fe),ln==null);for(Ec=new Aa,be=new Aa,Je=(Wn=new wi(Ua.a).a.bb().mb(),new _i(Wn));Je.a.G();)for(je=(J=T(Je.a.H(),21),T(J.yb(),9)),P=g==1?Ca(je):Qs(je),q=(Ha(),new Xf(dg(op(P.a,new h))));Br(q);)B=T(Ar(q),12),pl(je.d)!=pl(B.d.f.d)&&ma(Ec,B.d.f);for(ct=(rr=new wi(fe.a).a.bb().mb(),new _i(rr));ct.a.G();)for(je=(J=T(ct.a.H(),21),T(J.yb(),9)),P=g==1?Ca(je):Qs(je),q=(Ha(),new Xf(dg(op(P.a,new h))));Br(q);)B=T(Ar(q),12),pl(je.d)!=pl(B.d.f.d)&&ma(be,B.d.f);for(A7e&&Ww(),Nt=T(_t(l.d.c.c,x+(g==1?1:-1)),16),Oe=A1,Re=Bs,ie=0;ie<Nt.a.c.length;ie++)je=T(_t(Nt.a,ie),9),Ec.a.R(je)?Oe=Oe>ie?Oe:ie:be.a.R(je)&&(Re=Re<ie?Re:ie);if(Oe<Re){for(Yt=(qr=new wi(Ec.a).a.bb().mb(),new _i(qr));Yt.a.G();){for(je=(J=T(Yt.a.H(),21),T(J.yb(),9)),K=Jr(Ca(je));Br(K);)if(B=T(Ar(K),12),pl(je.d)==pl(B.d.f.d))return null;for(q=Jr(Qs(je));Br(q);)if(B=T(Ar(q),12),pl(je.d)==pl(B.c.f.d))return null}for(Qt=(Dn=new wi(be.a).a.bb().mb(),new _i(Dn));Qt.a.G();){for(je=(J=T(Qt.a.H(),21),T(J.yb(),9)),K=Jr(Ca(je));Br(K);)if(B=T(Ar(K),12),pl(je.d)==pl(B.d.f.d))return null;for(q=Jr(Qs(je));Br(q);)if(B=T(Ar(q),12),pl(je.d)==pl(B.c.f.d))return null}for(Ua.a.Y()==0?nf=0:fe.a.Y()==0?nf=Nt.a.c.length:nf=Oe+1,Be=new ge(I.a);Be.a<Be.c.c.length;)if(je=T(pe(Be),9),je.g==(zn(),Bo))return null;return O==1?X9(it(nt(GX,1),eu,24,0,[yr(nf)])):g==1&&x==E-2||g==0&&x==1?X9(it(nt(GX,1),eu,24,0,[yr(nf)])):(Ma=ige(l,g,nf,x+(g==1?1:-1),E,O-1),Ma&&g==1&&Ma.rb(0,yr(nf)),Ma)}return null}function jTt(l,g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;if(whe(g),ce=(Xt(),$I).b,!(ce in g.a&&Ka(g,ce).ic().a)){if(B=Ka(g,"source"),q=Ka(g,"sourcePort"),K=Ka(g,"target"),J=Ka(g,"targetPort"),B){if(!B.lc())throw new Hv("Invalid format of an edge's 'source' property. It must be a string.",B,g)}else throw new Hv("Edges must contain a 'source' property.",null,g);if(K){if(!K.lc())throw new Hv("Invalid format of an edge's 'target' property. It must be a string.",K,g)}else throw new Hv("Edges must contain a 'target' property.",null,g);Oe=null,je=null;try{be=T(B9(l.i,B.lc().a),9),q&&q.lc()&&(Oe=T(B9(l.k,q.lc().a),7)),Re=T(B9(l.i,K.lc().a),9),J&&J.lc()&&(je=T(B9(l.k,J.lc().a),7))}catch(Je){throw Je=Fu(Je),Zt(Je,76)?new BO("An edge's 'source', 'target', 'sourcePort', and 'targetPort' properties have to be strings.",g):Nu(Je)}if(!zr(Lt(l.g))){if(!be||!Re)return;if(gc(be)!=gc(Re))return}if(!be||!Re)throw new BO("An edge's source or target node could not be resolved.",g);if(fe=gc(be),x=new Uv,dt(x,(ht(),lr),g),P=T(Ka(g,"id"),97),H9(l.a,P.a,x),ca(l.b,x,g),mz(g,x),Ehe(l,g,x,fe),E=T(_e(fe,Ou),18),be==Re&&E.ib((Es(),pj)),!Oe)Oe=DFe(be,new is,(gs(),Zu),fe);else if(Oe.f!=be)throw new Zk("Inconsistent source port reference found.");if(!je)je=DFe(Re,new is,(gs(),Sc),fe);else if(je.f!=Re)throw new Zk("Inconsistent target port reference found.");if(uo(x,Oe),Ea(x,je),(NC(os((Ss(),new zo(ps(it(nt(Ln,1),cn,1,4,[Oe.b,Oe.e]))))))>1||NC(os(new zo(ps(it(nt(Ln,1),cn,1,4,[je.b,je.e])))))>1)&&E.ib((Es(),gj)),he(_e(fe,(Si(),wj)))===he((LD(),UZ))&&!(LX in g.a)){b=new ns;try{for(I=Ka(g,LX).hc(),O=0;O<I.a.length;++O)ie=qw(I,O).kc(),Be=new Gn(Ka(ie,"x").jc().a,Ka(ie,"y").jc().a),zs(b,Be,b.c.b,b.c);dt(x,q0e,b)}catch(Je){throw Je=Fu(Je),Zt(Je,54)?new BO("Invalid format of an edges 'bendPoints' property.",g):Nu(Je)}}dt(x,$o,null)}}function Js(){Js=r,Ype=new Di("LEFT_DIR_PREPROCESSOR",0),Ipe=new Di("DOWN_DIR_PREPROCESSOR",1),o0e=new Di("UP_DIR_PREPROCESSOR",2),Lpe=new Di("COMMENT_PREPROCESSOR",3),MZ=new Di("EDGE_AND_LAYER_CONSTRAINT_EDGE_REVERSER",4),r0e=new Di("SPLINE_SELF_LOOP_PREPROCESSOR",5),PZ=new Di("INTERACTIVE_EXTERNAL_PORT_POSITIONER",6),Qpe=new Di("PARTITION_PREPROCESSOR",7),RZ=new Di("BIG_NODES_PREPROCESSOR",8),tj=new Di("LABEL_DUMMY_INSERTER",9),Zpe=new Di("PARTITION_POSTPROCESSOR",10),Xpe=new Di("NODE_PROMOTION",11),ij=new Di("LAYER_CONSTRAINT_PROCESSOR",12),Npe=new Di("HIERARCHICAL_PORT_CONSTRAINT_PROCESSOR",13),AZ=new Di("BIG_NODES_INTERMEDIATEPROCESSOR",14),IZ=new Di("LONG_EDGE_SPLITTER",15),NZ=new Di("PORT_SIDE_PROCESSOR",16),rj=new Di("LABEL_DUMMY_SWITCHER",17),Wpe=new Di("LABEL_MANAGEMENT_PROCESSOR",18),ej=new Di("INVERTED_PORT_PROCESSOR",19),t0e=new Di("SELF_LOOP_PROCESSOR",20),FZ=new Di("PORT_LIST_SORTER",21),oj=new Di("NORTH_SOUTH_PORT_PREPROCESSOR",22),Fpe=new Di("GREEDY_SWITCH",23),Jpe=new Di("PORT_DISTRIBUTER",24),n0e=new Di("SPLINE_SELF_LOOP_POSITIONER",25),e0e=new Di("SAUSAGE_COMPACTION",26),LZ=new Di("IN_LAYER_CONSTRAINT_PROCESSOR",27),Hpe=new Di("HYPEREDGE_DUMMY_MERGER",28),CA=new Di("LABEL_SIDE_SELECTOR",29),TZ=new Di("BIG_NODES_SPLITTER",30),Vpe=new Di("LABEL_AND_NODE_SIZE_PROCESSOR",31),i0e=new Di("SPLINE_SELF_LOOP_ROUTER",32),Kpe=new Di("NODE_MARGIN_CALCULATOR",33),zpe=new Di("HIERARCHICAL_PORT_DUMMY_SIZE_PROCESSOR",34),eM=new Di("HIERARCHICAL_PORT_POSITION_PROCESSOR",35),Gpe=new Di("LAYER_SIZE_AND_GRAPH_HEIGHT_CALCULATOR",36),FI=new Di("BIG_NODES_POSTPROCESSOR",37),Ppe=new Di("COMMENT_POSTPROCESSOR",38),Upe=new Di("HYPERNODE_PROCESSOR",39),jpe=new Di("HIERARCHICAL_PORT_ORTHOGONAL_EDGE_ROUTER",40),DZ=new Di("LONG_EDGE_JOINER",41),aj=new Di("NORTH_SOUTH_PORT_POSTPROCESSOR",42),nj=new Di("LABEL_DUMMY_REMOVER",43),Bpe=new Di("HORIZONTAL_COMPACTOR",44),zZ=new Di("REVERSED_EDGE_RESTORER",45),qpe=new Di("LEFT_DIR_POSTPROCESSOR",46),Dpe=new Di("DOWN_DIR_POSTPROCESSOR",47),a0e=new Di("UP_DIR_POSTPROCESSOR",48),Jz=new Di("END_LABEL_PROCESSOR",49)}function ht(){ht=r;var l,g;lr=new bt("origin"),aze=new bt("processingConfiguration"),X0e=new bt("processors"),H0e=new Nn("compoundNode",(Sa(),Sa(),ro)),oze=new Nn("insideConnections",ro),Xx=new bt("nestedLGraph"),Zx=new bt("parentLNode"),q0e=new bt("originalBendpoints"),Y0e=new bt("originalDummyNodePosition"),K0e=new bt("originalLabelEdge"),Z0e=new bt("representedLabels"),_g=new Nn("labelSide",(Gc(),DI)),F1=new Nn("reversed",ro),AA=new bt("random"),_c=new Nn("longEdgeSource",null),Yl=new Nn("longEdgeTarget",null),hQ=new Nn("edgeConstraint",(tA(),$0e)),Kx=new bt("inLayerLayoutUnit"),I1=new Nn("inLayerConstraint",(Gv(),vj)),OA=new Nn("inLayerSuccessorConstraint",new Pe),rm=new bt("portDummy"),aM=new Nn("crossingHint",yr(0)),Ou=new Nn("graphProperties",(g=T(Eu(M0e),11),new $u(g,T(hc(g,g.length),11),0))),vu=new Nn("externalPortSide",(Ut(),vs)),G0e=new Nn("externalPortSize",new is),yj=new bt("externalPortReplacedDummy"),h$=new Nn("externalPortConnections",(l=T(Eu(nu),11),new $u(l,T(hc(l,l.length),11),0))),hb=new Nn(kNe,0),j0e=new bt("barycenterAssociates"),sM=new bt("TopSideComments"),iM=new bt("BottomSideComments"),mj=new bt("CommentConnectionPort"),gQ=new Nn("inputCollect",ro),pQ=new Nn("outputCollect",ro),V0e=new Nn("cyclic",ro),VI=new Nn("bigNodeOriginalSize",new li(0)),m2=new Nn("bigNodeInitial",ro),B0e=new Nn("de.cau.cs.kieler.klay.layered.bigNodeLabels",new Pe),dQ=new Nn("de.cau.cs.kieler.klay.layered.postProcess",null),U0e=new bt("crossHierarchyMap"),yQ=new bt("targetOffset"),sze=new Nn("splineLabelSize",new is),WI=new Nn("splineLoopSide",(Ul(),u$)),mQ=new Nn("splineSelfLoopComponents",new Pe),Q0e=new Nn("splineSelfLoopMargins",new l0),Qx=new bt("spacings"),bj=new Nn("partitionConstraint",ro),oM=new T9((Xt(),Bx),new li(0)),xc=new R9(fpe,new li(20),new li(1)),vQ=new R9(upe,new li(10),new li(1)),F0=new R9(rpe,new li(12),new li(0)),Ch=new T9(lpe,yr(0)),kA=new R9(A8e,new li(DNe),new li(0)),W0e=new T9(r$,(Jy(),n$))}function Si(){Si=r,xj=new Nn("de.cau.cs.kieler.klay.layered.nodePromotion",(Rx(),sj)),rve=new V9("de.cau.cs.kieler.klay.layered.nodePromotionBoundary",yr(0),yr(0),yr(100)),ive=new Nn($Ne,yr(1)),lM=new jC("de.cau.cs.kieler.klay.layered.inLayerSpacingFactor",new li(1),new li(0)),N1=new Nn("de.cau.cs.kieler.klay.layered.edgeSpacingFactor",new li(.5)),cze=new Nn("de.cau.cs.kieler.klay.layered.edgeNodeSpacingFactor",new li(Mge)),CQ=new Nn("de.cau.cs.kieler.klay.layered.distributeNodes",(Sa(),Sa(),ro)),fM=new Nn("de.cau.cs.kieler.klay.layered.wideNodesOnMultipleLayers",(Qy(),Ej)),EQ=new Nn("de.cau.cs.kieler.klay.layered.cycleBreaking",(j9(),BZ)),OQ=new Nn("de.cau.cs.kieler.klay.layered.nodeLayering",(Z9(),HZ)),wj=new Nn("de.cau.cs.kieler.klay.layered.crossMin",(LD(),VZ)),$Q=new Nn("de.cau.cs.kieler.klay.layered.greedySwitch",(uI(),cQ)),AQ=new Nn("de.cau.cs.kieler.klay.layered.nodePlace",(gz(),WZ)),eve=new V9("de.cau.cs.kieler.klay.layered.linearSegmentsDeflectionDampening",new li(Tge),new li(0),new li(1)),_j=new Nn("de.cau.cs.kieler.klay.layered.fixedAlignment",(QD(),oQ)),RA=new Nn("de.cau.cs.kieler.klay.layered.edgeLabelSideSelection",(vz(),hj)),J0e=new Nn(CNe,ro),cM=new jC("de.cau.cs.kieler.klay.layered.thoroughness",yr(10),yr(1)),Us=new Nn("de.cau.cs.kieler.klay.layered.layerConstraint",(qc(),g$)),tve=new Nn("de.cau.cs.kieler.klay.layered.mergeEdges",ro),nve=new Nn("de.cau.cs.kieler.klay.layered.mergeHierarchyEdges",Qu),kQ=new Nn("de.cau.cs.kieler.klay.layered.interactiveReferencePoint",(W9(),fQ)),qI=new Nn("de.cau.cs.kieler.klay.layered.feedBackEdges",ro),wQ=new Nn("de.cau.cs.kieler.klay.layered.unnecessaryBendpoints",ro),SQ=new Nn("de.cau.cs.kieler.klay.layered.contentAlignment",(I4(),Ii(JZ,it(nt(eQ,1),on,123,0,[KZ])))),ave=new Nn("de.cau.cs.kieler.klay.layered.sausageFolding",ro),MQ=new Nn("de.cau.cs.kieler.klay.layered.splines.selfLoopPlacement",(lz(),PQ)),_Q=new Nn("de.cau.cs.kieler.klay.layered.nodeplace.compactionStrategy",(zD(),GZ)),RQ=new Nn("de.cau.cs.kieler.klay.layered.northOrSouthPort",ro),Sj=new Nn("de.cau.cs.kieler.klay.layered.postCompaction",(N4(),jI)),TQ=new Nn("de.cau.cs.kieler.klay.layered.postCompaction.constraints",(q9(),jZ)),xQ=new Nn("de.cau.cs.kieler.klay.layered.components.compact",ro)}function $X(){$X=r,l7e=new pc("OUT_T_L",0,(Ss(),new Zy(Ii((rb(),Jc),it(nt(za,1),on,41,0,[od,Xc])))),(bK(),l2)),u7e=new pc("OUT_T_C",1,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(Jc,it(nt(za,1),on,41,0,[od,xh])),Ii(Jc,it(nt(za,1),on,41,0,[od,xh,Zc]))]))),EA),c7e=new pc("OUT_T_R",2,new Zy(Ii(Jc,it(nt(za,1),on,41,0,[od,Qc]))),c2),e7e=new pc("OUT_B_L",3,new Zy(Ii(Jc,it(nt(za,1),on,41,0,[id,Xc]))),l2),J8e=new pc("OUT_B_C",4,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(Jc,it(nt(za,1),on,41,0,[id,xh])),Ii(Jc,it(nt(za,1),on,41,0,[id,xh,Zc]))]))),EA),t7e=new pc("OUT_B_R",5,new Zy(Ii(Jc,it(nt(za,1),on,41,0,[id,Qc]))),c2),i7e=new pc("OUT_L_T",6,new Zy(Ii(Jc,it(nt(za,1),on,41,0,[Xc,od,Zc]))),c2),r7e=new pc("OUT_L_C",7,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(Jc,it(nt(za,1),on,41,0,[Xc,ad])),Ii(Jc,it(nt(za,1),on,41,0,[Xc,ad,Zc]))]))),c2),n7e=new pc("OUT_L_B",8,new Zy(Ii(Jc,it(nt(za,1),on,41,0,[Xc,id,Zc]))),c2),s7e=new pc("OUT_R_T",9,new Zy(Ii(Jc,it(nt(za,1),on,41,0,[Qc,od,Zc]))),l2),o7e=new pc("OUT_R_C",10,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(Jc,it(nt(za,1),on,41,0,[Qc,ad])),Ii(Jc,it(nt(za,1),on,41,0,[Qc,ad,Zc]))]))),l2),a7e=new pc("OUT_R_B",11,new Zy(Ii(Jc,it(nt(za,1),on,41,0,[Qc,id,Zc]))),l2),Z8e=new pc("IN_T_L",12,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(ql,it(nt(za,1),on,41,0,[od,Xc])),Ii(ql,it(nt(za,1),on,41,0,[od,Xc,Zc]))]))),l2),X8e=new pc("IN_T_C",13,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(ql,it(nt(za,1),on,41,0,[od,xh])),Ii(ql,it(nt(za,1),on,41,0,[od,xh,Zc]))]))),EA),Q8e=new pc("IN_T_R",14,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(ql,it(nt(za,1),on,41,0,[od,Qc])),Ii(ql,it(nt(za,1),on,41,0,[od,Qc,Zc]))]))),c2),Y8e=new pc("IN_C_L",15,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(ql,it(nt(za,1),on,41,0,[ad,Xc])),Ii(ql,it(nt(za,1),on,41,0,[ad,Xc,Zc]))]))),l2),q8e=new pc("IN_C_C",16,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(ql,it(nt(za,1),on,41,0,[ad,xh])),Ii(ql,it(nt(za,1),on,41,0,[ad,xh,Zc]))]))),EA),K8e=new pc("IN_C_R",17,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(ql,it(nt(za,1),on,41,0,[ad,Qc])),Ii(ql,it(nt(za,1),on,41,0,[ad,Qc,Zc]))]))),c2),W8e=new pc("IN_B_L",18,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(ql,it(nt(za,1),on,41,0,[id,Xc])),Ii(ql,it(nt(za,1),on,41,0,[id,Xc,Zc]))]))),l2),V8e=new pc("IN_B_C",19,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(ql,it(nt(za,1),on,41,0,[id,xh])),Ii(ql,it(nt(za,1),on,41,0,[id,xh,Zc]))]))),EA),G8e=new pc("IN_B_R",20,new zo(ps(it(nt(Ln,1),cn,1,4,[Ii(ql,it(nt(za,1),on,41,0,[id,Qc])),Ii(ql,it(nt(za,1),on,41,0,[id,Qc,Zc]))]))),c2),wZ=new pc(QC,21,bI,null)}function cNe(l,g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr,Ma,Ua,Ec,nf,w2,_2,ZI,z1,Ju,Cc,j1,mu,ju,$h,x2,im,pb,Jx,N0,vb,hM,xg,mb,Sg,ud,yb,gM;for(Jx=0,Wn=0,Ma=g.length;Wn<Ma;++Wn)if(Rn=g[Wn],Ns(T(_e(Rn,(Xt(),hr)),28)))for(Cc=new ge(Rn.f);Cc.a<Cc.c.c.length;){for(Ju=T(pe(Cc),7),mu=0,I=new ge(Ju.e);I.a<I.c.c.length;)P=T(pe(I),12),Rn.d!=P.d.f.d&&++mu;mu>0&&(l.a[Ju.k]=Jx++)}else{for(Ec=0,Cc=new ge(Rn.f);Cc.a<Cc.c.c.length;){for(Ju=T(pe(Cc),7),I=new ge(Ju.e);I.a<I.c.c.length;)P=T(pe(I),12),Rn.d!=P.d.f.d&&++Ec;l.a[Ju.k]=Jx}Ec>0&&++Jx}for(mb=0,rr=0,Ua=b.length;rr<Ua;++rr)if(Rn=b[rr],Ns(T(_e(Rn,(Xt(),hr)),28))){for(nf=0,Cc=new ge(Rn.f);Cc.a<Cc.c.c.length&&(Ju=T(pe(Cc),7),Ju.g==(Ut(),Hn));)for(I=new ge(Ju.b);I.a<I.c.c.length;)if(P=T(pe(I),12),Rn.d!=P.c.f.d){++nf;break}for(_2=0,ju=new pa(Rn.f,Rn.f.c.length);ju.b>0;){for(Ju=(Jn(ju.b>0),T(ju.a.sb(ju.c=--ju.b),7)),mu=0,I=new ge(Ju.b);I.a<I.c.c.length;)P=T(pe(I),12),Rn.d!=P.c.f.d&&++mu;mu>0&&(Ju.g==(Ut(),Hn)?(l.a[Ju.k]=mb,++mb):(l.a[Ju.k]=mb+nf+_2,++_2))}mb+=_2}else{for(Ec=0,Cc=new ge(Rn.f);Cc.a<Cc.c.c.length;){for(Ju=T(pe(Cc),7),I=new ge(Ju.b);I.a<I.c.c.length;)P=T(pe(I),12),Rn.d!=P.c.f.d&&++Ec;l.a[Ju.k]=mb}Ec>0&&++mb}for(j1=(hi(),new Rt),ce=new Bl,Dn=0,qr=g.length;Dn<qr;++Dn)for(Rn=g[Dn],hM=new ge(Rn.f);hM.a<hM.c.c.length;)for(vb=T(pe(hM),7),I=new ge(vb.e);I.a<I.c.c.length;)if(P=T(pe(I),12),ud=P.d,Rn.d!=ud.f.d)if(N0=T(Fe(bl(j1.d,vb)),197),Sg=T(Fe(bl(j1.d,ud)),197),!N0&&!Sg)ie=new xY,ce.a.db(ie,ce),tn(ie.a,P),tn(ie.d,vb),Lf(j1.d,vb,ie),tn(ie.d,ud),Lf(j1.d,ud,ie);else if(!N0)tn(Sg.a,P),tn(Sg.d,vb),Lf(j1.d,vb,Sg);else if(!Sg)tn(N0.a,P),tn(N0.d,ud),Lf(j1.d,ud,N0);else if(N0==Sg)tn(N0.a,P);else{for(tn(N0.a,P),z1=new ge(Sg.d);z1.a<z1.c.c.length;)ZI=T(pe(z1),7),Lf(j1.d,ZI,N0);Na(N0.a,Sg.a),Na(N0.d,Sg.d),ce.a.eb(Sg)!=null}for(fe=T(nX(ce,Pt(t4t,{674:1,3:1,5:1,6:1},197,ce.a.Y(),0,1)),674),ln=g[0].d,pb=b[0].d,K=0,J=fe.length;K<J;++K)for(q=fe[K],q.e=Jx,q.f=mb,Cc=new ge(q.d);Cc.a<Cc.c.c.length;)Ju=T(pe(Cc),7),$h=l.a[Ju.k],Ju.f.d==ln?($h<q.e&&(q.e=$h),$h>q.b&&(q.b=$h)):Ju.f.d==pb&&($h<q.f&&(q.f=$h),$h>q.c&&(q.c=$h));for(iA(fe,0,fe.length,(Lv(),Lv(),p$)),xg=Pt(ko,Co,26,fe.length,12,1),x=Pt(ko,Co,26,mb+1,12,1),Oe=0;Oe<fe.length;Oe++)xg[Oe]=fe[Oe].f,x[xg[Oe]]=1;for(O=0,Re=0;Re<x.length;Re++)x[Re]==1?x[Re]=O:--O;for(x2=0,je=0;je<xg.length;je++)xg[je]+=x[xg[je]],x2=Is(x2,xg[je]+1);for(B=1;B<x2;)B*=2;for(gM=2*B-1,B-=1,yb=Pt(ko,Co,26,gM,12,1),E=0,Qt=0;Qt<xg.length;Qt++)for(Yt=xg[Qt]+B,++yb[Yt];Yt>0;)Yt%2>0&&(E+=yb[Yt+1]),Yt=(Yt-1)/2|0,++yb[Yt];for(Nt=Pt(s9e,cn,156,fe.length*2,0,1),Be=0;Be<fe.length;Be++)Nt[2*Be]=new z9(fe[Be],fe[Be].e,fe[Be].b,(G9(),HI)),Nt[2*Be+1]=new z9(fe[Be],fe[Be].b,fe[Be].e,BI);for(iA(Nt,0,Nt.length,p$),w2=0,Je=0;Je<Nt.length;Je++)switch(Nt[Je].d.e){case 0:++w2;break;case 1:--w2,E+=w2}for(im=Pt(s9e,cn,156,fe.length*2,0,1),ct=0;ct<fe.length;ct++)im[2*ct]=new z9(fe[ct],fe[ct].f,fe[ct].c,(G9(),HI)),im[2*ct+1]=new z9(fe[ct],fe[ct].c,fe[ct].f,BI);for(iA(im,0,im.length,p$),w2=0,be=0;be<im.length;be++)switch(im[be].d.e){case 0:++w2;break;case 1:--w2,E+=w2}return E}function Xt(){Xt=r;var l,g;O8e=new Nn("de.cau.cs.kieler.animate",(Sa(),Sa(),Qu)),new Nn("de.cau.cs.kieler.minAnimTime",yr(400)),new Nn("de.cau.cs.kieler.maxAnimTime",yr(4e3)),new Nn("de.cau.cs.kieler.animTimeFactor",yr(100)),xI=new Nn("de.cau.cs.kieler.additionalPortSpace",null),X4=new Nn("de.cau.cs.kieler.commentBox",ro),new bt("de.cau.cs.kieler.diagramType"),rd=new Nn("de.cau.cs.kieler.edgeLabelPlacement",(qv(),eZ)),ipe=new Nn("de.cau.cs.kieler.edgeType",(wz(),rZ)),T8e=new bt("de.cau.cs.kieler.fontName"),M8e=new Nn("de.cau.cs.kieler.fontSize",yr(0)),EI=new Nn("de.cau.cs.kieler.hypernode",ro),$o=new Nn("de.cau.cs.kieler.junctionPoints",new ns),new Nn("de.cau.cs.kieler.layoutAncestors",ro),CI=new Nn("de.cau.cs.kieler.margins",new l0),Z4=new jC("de.cau.cs.kieler.minHeight",new li(0),new li(0)),Q4=new jC("de.cau.cs.kieler.minWidth",new li(0),new li(0)),$I=new Nn("de.cau.cs.kieler.noLayout",ro),Bx=new bt("de.cau.cs.kieler.offset"),ob=new bt("de.cau.cs.kieler.klay.layered.portAnchor"),sb=new bt("de.cau.cs.kieler.portIndex"),OI=new Nn("de.cau.cs.kieler.portSide",(Ut(),vs)),new Nn("de.cau.cs.kieler.progressBar",ro),new Nn("de.cau.cs.kieler.resetConfig",Qu),new Nn("de.cau.cs.kieler.scaleFactor",new li(1)),R0=new Nn("de.cau.cs.kieler.thickness",new li(1)),new Nn("de.cau.cs.kieler.zoomToFit",ro),npe=new bt("de.cau.cs.kieler.algorithm"),wg=new Nn("de.cau.cs.kieler.alignment",($0(),JX)),A8e=new Nn("de.cau.cs.kieler.aspectRatio",new li(0)),aZ=new bt("de.cau.cs.kieler.bendPoints"),rpe=new Nn("de.cau.cs.kieler.borderSpacing",new li(-1)),SI=new Nn(CNe,ro),gp=new Nn("de.cau.cs.kieler.direction",(vo(),hp)),r$=new Nn("de.cau.cs.kieler.edgeRouting",(Jy(),nZ)),R8e=new Nn("de.cau.cs.kieler.expandNodes",ro),ape=new Nn("de.cau.cs.kieler.hierarchyHandling",(oz(),iZ)),P8e=new Nn("de.cau.cs.kieler.interactive",ro),mA=new jC("de.cau.cs.kieler.labelSpacing",new li(3),new li(0)),ope=new Nn("de.cau.cs.kieler.layoutHierarchy",ro),Df=new Nn("de.cau.cs.kieler.nodeLabelPlacement",(rb(),g=T(Eu(za),11),new $u(g,T(hc(g,g.length),11),0))),hr=new Nn("de.cau.cs.kieler.portConstraints",(lo(),u2)),kI=new Nn("de.cau.cs.kieler.portLabelPlacement",(eA(),TI)),upe=new jC("de.cau.cs.kieler.portSpacing",new li(-1),new li(0)),oZ=new Nn("de.cau.cs.kieler.portAlignment",(Jw(),em)),uZ=new Nn("de.cau.cs.kieler.portAlignment.north",i$),lZ=new Nn("de.cau.cs.kieler.portAlignment.south",i$),cZ=new Nn("de.cau.cs.kieler.portAlignment.west",i$),sZ=new Nn("de.cau.cs.kieler.portAlignment.east",i$),yA=new bt("de.cau.cs.kieler.position"),lpe=new bt("de.cau.cs.kieler.priority"),new bt($Ne),fZ=new Nn("de.cau.cs.kieler.selfLoopInside",ro),cpe=new bt("de.cau.cs.kieler.separateConnComp"),s2=new Nn("de.cau.cs.kieler.sizeConstraint",(tb(),l=T(Eu(J4),11),new $u(l,T(hc(l,l.length),11),0))),AI=new Nn("de.cau.cs.kieler.sizeOptions",Ii((oA(),LI),it(nt(bZ,1),on,139,0,[vZ]))),fpe=new jC("de.cau.cs.kieler.spacing",new li(-1),new li(0)),L8e=new Nn("de.cau.cs.kieler.layoutPartitions",ro),spe=new bt("de.cau.cs.kieler.partition")}function BTt(l,g,b,x){BFe();var E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je;if(!(!x&&(l.n?l.n:(ea(),ea(),cve)).R(new sD(g)))){if(T(Spe.a,18).kb(g)){if(!b.lc())throw new rs(MNe+g+JC+b+").");ce=T(T(Spe.b,57).cb(g),79),fe=b.lc().a,dt(l,ce,fe);return}else if(T(xpe.a,18).kb(g))try{if(!b.jc())throw new Yf;ce=T(T(xpe.b,57).cb(g),79),Re=yr(IAt((Gi(),""+b.jc().a))),dt(l,ce,Re);return}catch(Be){throw Be=Fu(Be),Zt(Be,130)?new rs("Invalid integer format for property '"+g+JC+b+")."):Nu(Be)}else if(T(ype.a,18).kb(g)){if(!b.ic())throw new rs(MNe+g+JC+b+").");ce=T(T(ype.b,57).cb(g),79),Re=(Sa(),b.ic().a?Qu:ro),dt(l,ce,Re);return}else if(T(_pe.a,18).kb(g)){if(!b.jc())throw new rs("Invalid float format for property '"+g+JC+b+").");ce=T(T(_pe.b,57).cb(g),79),Re=new N_(b.jc().a),dt(l,ce,Re);return}else if(T(wpe.a,18).kb(g)){if(!b.lc())throw new rs(Ege+g+JC+b+").");K=b.lc().a,J=null;try{po((Xt(),OI),g)?J=(Ut(),T(hu((ELe(),B8e),K),32)):po(wg,g)?J=($0(),T(hu((MLe(),y8e),K),103)):po(gp,g)?J=(vo(),T(hu((SLe(),b8e),K),59)):po(r$,g)?J=(Jy(),T(hu((hLe(),S8e),K),122)):po(ape,g)?J=(oz(),T(hu((rLe(),k8e),K),166)):po(oZ,g)||po(sZ,g)||po(uZ,g)||po(lZ,g)||po(cZ,g)?J=(Jw(),T(hu((CLe(),I8e),K),100)):po(hr,g)?J=(lo(),T(hu((LLe(),N8e),K),28)):po(kI,g)?J=(eA(),T(hu((nLe(),j8e),K),149)):po(ipe,g)?J=(wz(),T(hu((PLe(),C8e),K),133)):po(rd,g)?J=(qv(),T(hu((dLe(),_8e),K),107)):po((Si(),EQ),g)?J=(j9(),T(hu((VPe(),V7e),K),193)):po(OQ,g)?J=(Z9(),T(hu((iLe(),Y7e),K),173)):po(RA,g)?J=(vz(),T(hu((WLe(),Q9e),K),115)):po(_Q,g)?J=(zD(),T(hu((vLe(),m9e),K),194)):po(wj,g)?J=(LD(),T(hu((GPe(),r9e),K),192)):po(xj,g)?J=(Rx(),T(hu((ULe(),L7e),K),109)):po(AQ,g)?J=(gz(),T(hu((VLe(),h9e),K),141)):po(Sj,g)?J=(N4(),T(hu((DLe(),N7e),K),125)):po(TQ,g)?J=(q9(),T(hu((WPe(),I7e),K),175)):po(_j,g)?J=(QD(),T(hu((rDe(),eze),K),124)):po($Q,g)?J=(uI(),T(hu((_De(),nze),K),110)):po(Us,g)?J=(qc(),T(hu((GLe(),lze),K),85)):po(MQ,g)?J=(lz(),T(hu((RLe(),dze),K),153)):po(fM,g)?J=(Qy(),T(hu((TLe(),gze),K),172)):po(kQ,g)&&(J=(W9(),T(hu((mLe(),ize),K),174)))}catch(Be){throw Be=Fu(Be),Zt(Be,54)?new rs(Ege+g+JC+b+")."):Nu(Be)}ce=T(T(wpe.b,57).cb(g),79),dt(l,ce,J);return}else if(T(bpe.a,18).kb(g)){if(!b.lc())throw new rs(Ege+g+JC+b+").");for(q=b.lc().a,be=null,B=Oz(q,"[\\[\\]\\s,]+"),P=0,I=B.length;P<I;++P)O=B[P],Dv($x(O))!=0&&(po((Xt(),Df),g)?(!be&&(be=(E=T(Eu(za),11),new $u(E,T(hc(E,E.length),11),0))),_l(be,(rb(),T(hu((ZLe(),D8e),O),41)))):po(s2,g)?(!be&&(be=(E=T(Eu(J4),11),new $u(E,T(hc(E,E.length),11),0))),_l(be,(tb(),T(hu((pLe(),H8e),O),150)))):po(AI,g)?(!be&&(be=(E=T(Eu(bZ),11),new $u(E,T(hc(E,E.length),11),0))),_l(be,(oA(),T(hu((gLe(),U8e),O),139)))):po((Si(),SQ),g)&&(!be&&(be=(E=T(Eu(eQ),11),new $u(E,T(hc(E,E.length),11),0))),_l(be,(I4(),T(hu((nDe(),X9e),O),123)))));ce=T(T(bpe.b,57).cb(g),79),dt(l,ce,be);return}else if(T(Zz.a,18).kb(g)){if(!b.lc())throw new rs("Invalid _other_ format for property '"+g+JC+b+").");if(po((Xt(),yA),g)||po(ob,g))try{Oe=new is,YRt(Oe,b.lc().a),ce=T(T(Zz.b,57).cb(g),79),dt(l,ce,Oe);return}catch(Be){throw Be=Fu(Be),Zt(Be,29)?new rs("Invalid KVector format for property '"+g+"' "+b+"."):Nu(Be)}else if(po(aZ,g)||po($o,g))try{je=new ns,xRt(je,b.lc().a),ce=T(T(Zz.b,57).cb(g),79),dt(l,ce,je);return}catch(Be){throw Be=Fu(Be),Zt(Be,29)?new rs("Invalid KVectorChain format for property '"+g+"' "+b+"."):Nu(Be)}else if(po(CI,g)||po(xI,g))try{ie=new l0,n3t(ie,b.lc().a),ce=T(T(Zz.b,57).cb(g),79),dt(l,ce,ie);return}catch(Be){throw Be=Fu(Be),Zt(Be,29)?new rs("Invalid Margins format for property '"+g+"' "+b+"."):Nu(Be)}}else if(T(h7e.a,18).kb(g))return;throw new rs("Unsupported layout option '"+g+JC+b+").")}}var Rz="object",eu={3:1,8:1,5:1,6:1},age={3:1,46:1},k1={3:1,54:1,46:1},O1="null",kX="anonymous",oge="Unknown",fNe="function",Bs=2147483647,dNe={181:1,3:1,54:1,46:1},lI=65536,Zv=65535,hNe={3:1,54:1,29:1,46:1},OX='For input string: "',A1=-2147483648,tu={56:1},sge={23:1,145:1,185:1},Vl={3:1,5:1},uge="Invalid UTF8 sequence",gNe="fromIndex: ",gu="java.lang",lge="com.google.gwt.core.client",Tz="com.google.gwt.core.client.impl",Mz="java.io",cge="java.nio.charset",fge="javaemul.internal",fp="com.google.common.base",pNe="%s (%s) must not be negative",cn={3:1,5:1,6:1},vNe="negative size: ",on={3:1,8:1,5:1,11:1,6:1},Pz={68:1,136:1,3:1,23:1,17:1},j4={108:1,35:1},vn="com.google.common.collect",AX={108:1,35:1,96:1},cI={144:1,3:1},ss={35:1},cA={57:1},_r="java.util",B4={22:1,19:1},xl={22:1,19:1,18:1},fA={22:1,19:1,20:1},RX={22:1,19:1,20:1,63:1},dA={35:1,96:1},dge={22:1,19:1,18:1,137:1},fI={21:1},mNe="AbstractMapEntry",hge={207:1,22:1,19:1},gge={159:1,3:1,23:1,17:1},pge=1073741824,n2={22:1},vge={3:1,22:1,19:1},hA={87:1,3:1,22:1,19:1,20:1,63:1},gA={3:1,57:1},pA={3:1,22:1,19:1,18:1},Wl={64:1},mge="arraySize",Dx="initialArraySize",yge={64:1,188:1,3:1,23:1,17:1},bge="occurrences",Co={52:1,3:1,5:1},wge={205:1,3:1,23:1,17:1},dI=1e-4,XC="com.google.gwt.json.client",wh=4194303,r2=1048575,ZC=4194304,i2=17592186044416,TX=-17592186044416,yNe=`([{"' 	\r
`,bNe=`)]}"' 	\r
`,wNe="The given string contains parts that cannot be parsed as numbers.",_Ne="de.cau.cs.kieler.core.math",_ge=-17976931348623157e292,Lz="de.cau.cs.kieler.core.properties",xNe={79:1,23:1},SNe="de.cau.cs.kieler.core.util",ENe="de.cau.cs.kieler.kiml",H4="LEFT",U4="RIGHT",Dz="CENTER",R1="de.cau.cs.kieler.kiml.options",QC="UNDEFINED",V4="NONE",CNe="de.cau.cs.kieler.debugMode",$Ne="de.cau.cs.kieler.randomSeed",W4="de.cau.cs.kieler.kiml.util.nodespacing",xge="de.cau.cs.kieler.kiml.util.labelspacing",kNe="portRatioOrPosition",ONe="NodeMarginCalculator",Sge="bottom",ANe={286:1,121:1,3:1,5:1},hI="undefined",MX="text",RNe="stacktrace",Ei={34:1,3:1,8:1,5:1,6:1},PX="properties",LX="bendPoints",TNe="junctionPoints",DX="width",IX="height",FX="padding",G4="children",bc={38:1,39:1,42:1,51:1,71:1,3:1,8:1,5:1,6:1},NX="de.cau.cs.kieler.klay.gwt.client.layout",MNe="Invalid boolean format for property '",JC="' (",Ege="Invalid enum format for property '",Cge="de.cau.cs.kieler.klay.layered",PNe="Layered layout",Gl=1/0,pu=-1/0,gI="de.cau.cs.kieler.klay.layered.compaction.components",q4="de.cau.cs.kieler.klay.layered.compaction.oned",LNe=" instance has been finished already.",e$="de.cau.cs.kieler.klay.layered.compaction.oned.algs",T1="de.cau.cs.kieler.klay.layered.compaction.recthull",bg={68:1},Qv="de.cau.cs.kieler.klay.layered.components",$ge={3:1,5:1,22:1,13:1,19:1,20:1,63:1},DNe=1.600000023841858,ab=.001,wa={31:1},pI="de.cau.cs.kieler.klay.layered.compound",Yc={38:1,39:1,47:1,42:1,3:1,8:1,5:1,6:1},zu="de.cau.cs.kieler.klay.layered.graph",INe="Port side is undefined",br="de.cau.cs.kieler.klay.layered.intermediate",FNe="Big nodes pre-processing",NNe=34028234663852886e22,zNe={38:1,39:1,42:1,346:1,71:1,3:1,8:1,5:1,6:1},kge="Node '",jNe="' has its layer constraint set to FIRST or FIRST_SEPARATE, but has ",BNe="at least one incoming edge. Connections between nodes with these ",Oge="layer constraints are not supported.",k0=17976931348623157e292,HNe="Odd port side processing",Iz={250:1,3:1,5:1},a2=1e-8,dp="de.cau.cs.kieler.klay.layered.intermediate.compaction",Dd="de.cau.cs.kieler.klay.layered.intermediate.greedyswitch",vI={227:1,3:1,5:1},Y4="de.cau.cs.kieler.klay.layered.networksimplex",zX="INTERACTIVE",Age="de.cau.cs.kieler.klay.layered.p1cycles",O0={106:1,31:1},Fz="de.cau.cs.kieler.klay.layered.p2layers",UNe="NETWORK_SIMPLEX",o2="de.cau.cs.kieler.klay.layered.p3order",jX=5960464477539063e-23,Rge="Port type is undefined",Tge=.30000001192092896,Mge=.699999988079071,VNe=.8999999761581421,WNe="de.cau.cs.kieler.klay.layered.p3order.constraints",mI="de.cau.cs.kieler.klay.layered.p3order.counting",yI="de.cau.cs.kieler.klay.layered.p4nodes",GNe={625:1,3:1,5:1,6:1},A0="de.cau.cs.kieler.klay.layered.p4nodes.bk",Ix="de.cau.cs.kieler.klay.layered.p5edges",Fx="de.cau.cs.kieler.klay.layered.p5edges.splines",Nx=1e-6,Nz=-1e-6,qNe="The list of vectors may not be empty.",BX=.09999999999999998,M1="de.cau.cs.kieler.klay.layered.properties",zx="_gwt_modCount",YNe={3:1,22:1,19:1,20:1,63:1},KNe={3:1,5:1,57:1},XNe={3:1,5:1,22:1,19:1,50:1,18:1},HX="delete",UX=15525485,Pge=16777216,Lge=16777215,ZNe={3:1,5:1,22:1,19:1,20:1,63:1},VX={3:1,23:1,17:1,138:1},V,zz,WX;nkt(),ye(1,null,{},i),V.t=function(g){return this===g},V.u=function(){return this.$c},V.v=function(){return Iv(this)},V.w=function(){return DPe(this)},V.toString=function(){return this.w()},ye(46,1,age),V.bc=function(){return this.f},V.w=function(){var g,b;return g=Ow(this.$c),b=this.bc(),b!=null?g+": "+b:g},ye(54,46,k1),ye(72,54,k1,te),ye(164,72,{164:1,3:1,54:1,46:1},_Le),V.bc=function(){return fOt(this),this.c},V.cc=function(){return he(this.b)===he(jz)?null:this.b};var jz,Dge;ye(642,1,{}),ye(356,642,{},s),V.dc=function(g,b){var x={},E=[];g.__gwt$backingJsError={fnStack:E};for(var O=arguments.callee.caller;O;){var P=(M4(),O.name||(O.name=KCt(O.toString())));E.push(P);var I=":"+P,B=x[I];if(B){var q,K;for(q=0,K=B.length;q<K;q++)if(B[q]===O)return}(B||(x[I]=[])).push(O),O=O.caller}},V.ec=function(g){var b,x,E,O,P;for(E=(M4(),P=g.__gwt$backingJsError,P&&P.fnStack?P.fnStack:[]),x=E.length,O=Pt(vze,eu,146,x,0,1),b=0;b<x;b++)O[b]=new lK(E[b],null,-1);return O},ye(643,642,{}),V.dc=function(g,b){function x(O){if(!("stack"in O))try{throw O}catch{}return O}var E;typeof b=="string"?E=x(new Error(b.replace(`
`," "))):b&&typeof b==Rz&&"stack"in b?E=b:E=x(new Error),g.__gwt$backingJsError=E},V.fc=function(g,b,x,E){return new lK(b,g+"@"+E,x<0?-1:x)},V.ec=function(g){var b,x,E,O,P,I,B;if(O=(M4(),B=g.__gwt$backingJsError,B&&B.stack?B.stack.split(`
`):[]),P=Pt(vze,eu,146,0,0,1),b=0,E=O.length,E==0)return P;for(I=YFe(this,O[0]),Ya(I.d,kX)||(P[b++]=I),x=1;x<E;x++)P[b++]=YFe(this,O[x]);return P},ye(357,643,{},Kh),V.fc=function(g,b,x,E){return new lK(b,g,-1)};var QNe,JNe,e8e;ye(181,54,dNe),ye(351,181,dNe,Sw),ye(288,1,{},Bde),V.Oc=function(g){var b;return b=new Bde,b.g=4,g>1?b.c=BPe(this,g-1):b.c=this,b},V.Pc=function(){return Vw(this),this.b},V.Qc=function(){return Ow(this)},V.Rc=function(){return eD(this)},V.Sc=function(){return(this.g&4)!=0},V.Tc=function(){return(this.g&1)!=0},V.w=function(){return(this.g&2?"interface ":this.g&1?"":"class ")+(Vw(this),this.n)},V.g=0,ye(119,72,{3:1,119:1,54:1,46:1},Km),ye(29,72,hNe,Cd,Oi),ye(95,72,k1,Xm,sc),ye(231,1,{3:1,231:1});var Ige;ye(24,231,{3:1,23:1,24:1,231:1},WE),V.F=function(g){return kC(this,T(g,24))},V.t=function(g){return Zt(g,24)&&T(g,24).a==this.a},V.v=function(){return this.a},V.w=function(){return sC(this.a)},V.a=0,e8e={3:1,345:1,23:1,2:1},ye(350,1,tu,_u),V.$b=function(g,b){return eCt(dx(g),dx(b))},ye(257,95,k1,$w),ye(145,1,{23:1,145:1}),V.F=function(g){return a4(this,T(g,145))},V.t=function(g){var b;return g===this?!0:Zt(g,145)?(b=T(g,145),Ya(this.a,b.a)):!1},V.v=function(){return eX(this.a)},V.w=function(){return this.a},ye(358,29,hNe,TSt),ye(256,29,{3:1,54:1,29:1,46:1,256:1},RSt),ye(185,145,sge),ye(289,185,sge,NT),V.Zc=function(g,b,x){var E,O;for(E=Pt(Sze,Vl,26,x,12,1),O=0;O<x;++O)E[O]=g[b+O]&255&Zv;return E},ye(355,185,sge,cg),V.Zc=function(g,b,x){var E,O,P,I,B,q,K,J;for(P=0,K=0;K<x;){if(++P,O=g[b+K],(O&192)==128)throw new Oi(uge);if(!(O&128))++K;else if((O&224)==192)K+=2;else if((O&240)==224)K+=3;else if((O&248)==240)K+=4;else throw new Oi(uge);if(K>x)throw new sc(uge)}for(I=Pt(Sze,Vl,26,P,12,1),J=0,B=0,q=0;q<x;){for(O=g[b+q++],O&128?(O&224)==192?(B=2,O&=31):(O&240)==224?(B=3,O&=15):(O&248)==240?(B=4,O&=7):(O&252)==248&&(B=5,O&=3):(B=1,O&=127);--B>0;){if(E=g[b+q++],(E&192)!=128)throw new Oi("Invalid UTF8 sequence at "+(b+q-1)+", byte="+(E>>>0).toString(16));O=O<<6|E&63}J+=Lkt(O,I,J)}return I};var Ln=Ce(gu,"Object",1),HTt=Ce(gu,"Throwable",46);Ce(gu,"Exception",54),Ce(gu,"RuntimeException",72),Ce(lge,"JavaScriptException",164),Ce(Tz,"StackTraceCreator/Collector",642),Ce(Tz,"StackTraceCreator/CollectorLegacy",356),Ce(Tz,"StackTraceCreator/CollectorModern",643),Ce(Tz,"StackTraceCreator/CollectorModernNoSourceMap",357),Ce(Mz,"IOException",181),Ce(Mz,"UnsupportedEncodingException",351),Ce(gu,"Class",288),Ce(gu,"ClassCastException",119),Ce(gu,"IllegalArgumentException",29),Ce(gu,"IndexOutOfBoundsException",95),Ce(gu,"Number",231);var GX=Ce(gu,"Integer",24),qX=Ce(gu,"String",2);Ce(gu,"String/1",350),Ce(gu,"StringIndexOutOfBoundsException",257),Ce(cge,"Charset",145),Ce(cge,"IllegalCharsetNameException",358),Ce(cge,"UnsupportedCharsetException",256),Ce(fge,"EmulatedCharset",185),Ce(fge,"EmulatedCharset/LatinCharset",289),Ce(fge,"EmulatedCharset/UtfCharset",355),ye(669,1,{3:1}),Ce(fp,"Optional",669),ye(601,669,{3:1},a),V.t=function(g){return g===this},V.v=function(){return 2040732332},V.w=function(){return"Optional.absent()"},V.A=function(g){return mr(g),gl(),YX};var YX;Ce(fp,"Absent",601);var UTt=Rd(fp,"Function");ye(208,1,{},nC),V.C=function(g){return cPe(g)},Ce(fp,"Joiner",208),ye(363,208,{},UY),V.C=function(g){return c4(this,g)},Ce(fp,"Joiner/1",363),ye(362,1,{},o9),Ce(fp,"Joiner/MapJoiner",362);var VTt=Rd(fp,"Predicate"),t8e;ye(244,1,{68:1,244:1,3:1},rt),V.D=function(g){var b;for(b=0;b<this.a.a.length;b++)if(!T(Z5e(this.a,b),68).D(g))return!1;return!0},V.t=function(g){var b;return Zt(g,244)?(b=T(g,244),I6e(this.a,b.a)):!1},V.v=function(){return zDe(this.a)+306654252},V.w=function(){return"Predicates.and("+Ky((yC(),t8e),new o0(this.a))+")"},Ce(fp,"Predicates/AndPredicate",244),ye(246,1,{68:1,246:1,3:1},nD),V.D=function(g){try{return this.a.kb(g)}catch(b){if(b=Fu(b),Zt(b,76))return!1;if(Zt(b,119))return!1;throw Nu(b)}},V.t=function(g){var b;return Zt(g,246)?(b=T(g,246),this.a.t(b.a)):!1},V.v=function(){return this.a.v()},V.w=function(){return"Predicates.in("+this.a+")"},Ce(fp,"Predicates/InPredicate",246),ye(245,1,{68:1,245:1,3:1},Ot),V.D=function(g){return cp(this.a,g)},V.t=function(g){var b;return Zt(g,245)?(b=T(g,245),cp(this.a,b.a)):!1},V.v=function(){return C0(this.a)},V.w=function(){return"Predicates.equalTo("+this.a+")"},Ce(fp,"Predicates/IsEqualToPredicate",245),ye(17,1,{3:1,23:1,17:1}),V.F=function(g){return qu(this,T(g,17))},V.t=function(g){return this===g},V.v=function(){return Iv(this)},V.w=function(){return v4(this)},V.e=0;var ia=Ce(gu,"Enum",17);ye(136,17,Pz);var n8e,r8e,Fge,i8e,Bz=gi(fp,"Predicates/ObjectPredicate",136,ia,xEt);ye(591,136,Pz,kY),V.D=function(g){return!0},V.w=function(){return"Predicates.alwaysTrue()"},gi(fp,"Predicates/ObjectPredicate/1",591,Bz,null),ye(592,136,Pz,OY),V.D=function(g){return!1},V.w=function(){return"Predicates.alwaysFalse()"},gi(fp,"Predicates/ObjectPredicate/2",592,Bz,null),ye(593,136,Pz,dY),V.D=function(g){return g==null},V.w=function(){return"Predicates.isNull()"},gi(fp,"Predicates/ObjectPredicate/3",593,Bz,null),ye(594,136,Pz,hg),V.D=function(g){return g!=null},V.w=function(){return"Predicates.notNull()"},gi(fp,"Predicates/ObjectPredicate/4",594,Bz,null),ye(177,669,{177:1,3:1},Dt),V.t=function(g){var b;return Zt(g,177)?(b=T(g,177),cp(this.a,b.a)):!1},V.v=function(){return 1502476572+C0(this.a)},V.w=function(){return"Optional.of("+this.a+")"},V.A=function(g){return new Dt(hK(g.B(this.a),"the Function passed to Optional.transform() must not return null."))},Ce(fp,"Present",177),ye(108,1,j4),V.I=function(){qm()},Ce(vn,"UnmodifiableIterator",108),ye(651,108,AX),V.J=function(g){throw new ya},V.O=function(g){throw new ya},Ce(vn,"UnmodifiableListIterator",651),ye(378,651,AX),V.G=function(){return this.b<this.c},V.K=function(){return this.b>0},V.H=function(){if(this.b>=this.c)throw new Su;return ba(this,this.b++)},V.L=function(){return this.b},V.M=function(){if(this.b<=0)throw new Su;return ba(this,--this.b)},V.N=function(){return this.b-1},V.b=0,V.c=0,Ce(vn,"AbstractIndexedListIterator",378),ye(428,108,j4),V.G=function(){return Yw(this)},V.H=function(){return UC(this)},V.d=1,Ce(vn,"AbstractIterator",428),ye(653,1,{144:1}),V.P=function(){var g;return g=this.f,g||(this.f=this.S())},V.T=function(){return new Q_(this.P())},V.t=function(g){return jde(this,g)},V.v=function(){return this.P().v()},V.V=function(){return this.Y()==0},V.W=function(){return QY(this)},V.w=function(){return this.P().w()},Ce(vn,"AbstractMultimap",653),ye(294,653,cI),V.Q=function(){the(this)},V.R=function(g){return ZO(this.b,g)},V.S=function(){return new J_(this,this.b)},V.T=function(){return new Ku(this,this.b)},V.$=function(){return hkt(this.Z())},V.U=function(g){return Ld(this,g)},V.X=function(g){return hX(this,g)},V.Y=function(){return this.c},V.c=0,Ce(vn,"AbstractMapBasedMultimap",294),ye(600,294,cI),V.Z=function(){return new yc(this.a)},V.$=function(){return Ss(),Ss(),bI},V.U=function(g){return T(Ld(this,g),20)},V.X=function(g){return T(hX(this,g),20)},V.P=function(){var g;return g=this.f,g||(this.f=new J_(this,this.b))},V.t=function(g){return jde(this,g)},Ce(vn,"AbstractListMultimap",600),ye(388,1,ss),V.G=function(){return this.b.b||this.d.G()},V.H=function(){var g;return this.d.G()||(g=T4(this.b),g.yb(),this.a=T(g.zb(),19),this.d=this.a.mb()),this.d.H()},V.I=function(){this.d.I(),this.a.V()&&hde(this.b),--this.c.c},Ce(vn,"AbstractMapBasedMultimap/Itr",388),ye(389,388,ss,aDe),Ce(vn,"AbstractMapBasedMultimap/1",389),ye(638,1,cA),V.Q=function(){this.bb().Q()},V._=function(g){return rX(this,g)},V.R=function(g){return!!ghe(this,g,!1)},V.ab=function(g){var b,x,E;for(x=this.bb().mb();x.G();)if(b=T(x.H(),21),E=b.zb(),he(g)===he(E)||g!=null&&cp(g,E))return!0;return!1},V.t=function(g){return h6e(this,g)},V.cb=function(g){return Fe(ghe(this,g,!1))},V.v=function(){return Ide(this.bb())},V.V=function(){return this.Y()==0},V.W=function(){return new wi(this)},V.db=function(g,b){throw new oh("Put not supported on this map")},V.eb=function(g){return Fe(ghe(this,g,!0))},V.Y=function(){return this.bb().Y()},V.w=function(){return a6e(this)},V.fb=function(){return new Jh(this)},Ce(_r,"AbstractMap",638),ye(654,638,cA),V.bb=function(){return Pfe(this)},V.W=function(){var g;return g=this.d,g||(this.d=new Q_(this))},V.fb=function(){return hPe(this)},Ce(vn,"Maps/ViewCachingAbstractMap",654),ye(262,654,cA,J_),V.cb=function(g){return RCt(this,g)},V.eb=function(g){return _$t(this,g)},V.Q=function(){this.a==this.b.b?the(this.b):L9(new Qfe(this))},V.R=function(g){return PIe(this.a,g)},V.hb=function(){return new Tt(this)},V.gb=function(){return this.hb()},V.t=function(g){return this===g||h6e(this.a,g)},V.v=function(){return Ide(new qf(this.a))},V.W=function(){return QY(this.b)},V.Y=function(){return pC(this.a)},V.w=function(){return a6e(this.a)},Ce(vn,"AbstractMapBasedMultimap/AsMap",262),ye(640,1,B4),V.ib=function(g){return XEt()},V.jb=function(g){return Pf(this,g)},V.Q=function(){F9(this)},V.kb=function(g){return WD(this,g,!1)},V.lb=function(g){return Xw(this,g)},V.V=function(){return this.Y()==0},V.nb=function(g){return WD(this,g,!0)},V.ob=function(){return this.pb(Pt(Ln,cn,1,this.Y(),4,1))},V.pb=function(g){return nX(this,g)},V.w=function(){return t2(this)},Ce(_r,"AbstractCollection",640),ye(641,640,xl),V.t=function(g){return vIe(this,g)},V.v=function(){return Ide(this)},Ce(_r,"AbstractSet",641),ye(649,641,xl),Ce(vn,"Sets/ImprovedAbstractSet",649),ye(655,649,xl),V.Q=function(){this.qb().Q()},V.kb=function(g){return bIe(this,g)},V.V=function(){return this.qb().V()},V.nb=function(g){var b;return this.kb(g)?(b=T(g,21),this.qb().W().nb(b.yb())):!1},V.Y=function(){return this.qb().Y()},Ce(vn,"Maps/EntrySet",655),ye(387,655,xl,Tt),V.kb=function(g){return LIe(new qf(this.a.a),g)},V.mb=function(){return new Qfe(this.a)},V.qb=function(){return this.a},V.nb=function(g){var b;return LIe(new qf(this.a.a),g)?(b=T(g,21),sCt(this.a.b,b.yb()),!0):!1},Ce(vn,"AbstractMapBasedMultimap/AsMap/AsMapEntries",387),ye(299,1,ss,Qfe),V.H=function(){var g;return g=T4(this.b),this.a=T(g.zb(),19),kCt(this.c,g)},V.G=function(){return this.b.b},V.I=function(){hde(this.b),this.c.b.c-=this.a.Y(),this.a.Q()},Ce(vn,"AbstractMapBasedMultimap/AsMap/AsMapIterator",299),ye(260,649,xl,Q_),V.Q=function(){this.b.Q()},V.kb=function(g){return this.b.R(g)},V.V=function(){return this.b.V()},V.mb=function(){return hi(),VO(this.b.bb().mb(),(FO(),KX))},V.nb=function(g){return this.b.R(g)?(this.b.eb(g),!0):!1},V.Y=function(){return this.b.Y()},Ce(vn,"Maps/KeySet",260),ye(386,260,xl,Ku),V.Q=function(){var g;L9((g=this.b.bb().mb(),new Af(this,g)))},V.lb=function(g){return this.b.W().lb(g)},V.t=function(g){return this===g||this.b.W().t(g)},V.v=function(){return this.b.W().v()},V.mb=function(){var g;return g=this.b.bb().mb(),new Af(this,g)},V.nb=function(g){var b,x;return x=0,b=T(this.b.eb(g),19),b&&(x=b.Y(),b.Q(),this.a.c-=x),x>0},Ce(vn,"AbstractMapBasedMultimap/KeySet",386),ye(300,1,ss,Af),V.G=function(){return this.c.G()},V.H=function(){return this.a=T(this.c.H(),21),this.a.yb()},V.I=function(){var g;WC(!!this.a),g=T(this.a.zb(),19),this.c.I(),this.b.a.c-=g.Y(),g.Q()},Ce(vn,"AbstractMapBasedMultimap/KeySet/1",300),ye(216,640,B4,FD),V.ib=function(g){return ICt(this,g)},V.jb=function(g){return N$t(this,g)},V.Q=function(){zEt(this)},V.kb=function(g){return Pd(this),this.d.kb(g)},V.lb=function(g){return Pd(this),this.d.lb(g)},V.t=function(g){return eEt(this,g)},V.v=function(){return Pd(this),this.d.v()},V.mb=function(){return Pd(this),new k9(this)},V.nb=function(g){return QEt(this,g)},V.Y=function(){return Pd(this),this.d.Y()},V.w=function(){return Pd(this),nd(this.d)},Ce(vn,"AbstractMapBasedMultimap/WrappedCollection",216);var WTt=Rd(_r,"List");ye(297,216,fA,Dfe),V.rb=function(g,b){var x;Pd(this),x=this.d.V(),T(this.d,20).rb(g,b),++this.a.c,x&&_4(this)},V.sb=function(g){return Pd(this),T(this.d,20).sb(g)},V.tb=function(){return Pd(this),new o4(this)},V.ub=function(g){return Pd(this),new $Pe(this,g)},V.vb=function(g){var b;return Pd(this),b=T(this.d,20).vb(g),--this.a.c,D9(this),b},V.wb=function(g,b){return Pd(this),T(this.d,20).wb(g,b)},V.xb=function(g,b){return Pd(this),ide(this.a,this.e,T(this.d,20).xb(g,b),this.b?this.b:this)},Ce(vn,"AbstractMapBasedMultimap/WrappedList",297),ye(385,297,RX,EY),Ce(vn,"AbstractMapBasedMultimap/RandomAccessWrappedList",385),ye(189,1,ss,k9),V.G=function(){return GO(this),this.b.G()},V.H=function(){return GO(this),this.b.H()},V.I=function(){this.b.I(),--this.d.f.c,D9(this.d)},Ce(vn,"AbstractMapBasedMultimap/WrappedCollection/WrappedIterator",189),ye(298,189,dA,o4,$Pe),V.J=function(g){var b;b=X7(this.a)==0,(GO(this),T(this.b,96)).J(g),++this.a.a.c,b&&_4(this.a)},V.K=function(){return(GO(this),T(this.b,96)).K()},V.L=function(){return(GO(this),T(this.b,96)).L()},V.M=function(){return(GO(this),T(this.b,96)).M()},V.N=function(){return(GO(this),T(this.b,96)).N()},V.O=function(g){(GO(this),T(this.b,96)).O(g)},Ce(vn,"AbstractMapBasedMultimap/WrappedList/WrappedListIterator",298),ye(295,216,xl,m4),Ce(vn,"AbstractMapBasedMultimap/WrappedSet",295),ye(296,216,dge,c9),Ce(vn,"AbstractMapBasedMultimap/WrappedSortedSet",296),ye(668,1,fI),V.t=function(g){var b;return Zt(g,21)?(b=T(g,21),zC(this.yb(),b.yb())&&zC(this.zb(),b.zb())):!1},V.v=function(){var g,b;return g=this.yb(),b=this.zb(),(g==null?0:C0(g))^(b==null?0:C0(b))},V.Ab=function(g){throw new ya},V.w=function(){return this.yb()+"="+this.zb()},Ce(vn,mNe,668),ye(390,640,B4,nn),V.Q=function(){the(this.a)},V.kb=function(g){return A$t(this.a,g)},V.mb=function(){return new aDe(this.a)},V.Y=function(){return this.a.c},Ce(vn,"AbstractMultimap/Values",390),ye(656,640,hge),V.ib=function(g){return this.Bb(g,1),!0},V.Bb=function(g,b){throw new ya},V.jb=function(g){return sOt(this,g)},V.Q=function(){L9(this.Eb())},V.kb=function(g){return this.Cb(g)>0},V.Cb=function(g){var b,x;for(x=qO(this).mb();x.G();)if(b=T(x.H(),83),zC(b.Zb(),g))return b.Yb();return 0},V.gb=function(){return new Sn(this)},V.bb=function(){return qO(this)},V.t=function(g){return KOt(this,g)},V.v=function(){return qO(this).v()},V.V=function(){return qO(this).V()},V.mb=function(){return Mo(),new rD(this,qO(this).mb())},V.nb=function(g){return this.Fb(g,1)>0},V.Fb=function(g,b){throw new ya},V.Gb=function(g,b){var x,E;return Mo(),wl(b,"count"),x=this.Cb(g),E=b-x,E>0?this.Bb(g,E):E<0&&this.Fb(g,-E),x},V.Hb=function(g,b,x){return M$t(this,g,b,x)},V.Y=function(){return g$t(this)},V.w=function(){return nd(qO(this))},Ce(vn,"AbstractMultiset",656),ye(657,649,xl),V.Q=function(){this.Ib().Q()},V.kb=function(g){var b,x;return Zt(g,83)?(x=T(g,83),x.Yb()<=0?!1:(b=this.Ib().Cb(x.Zb()),b==x.Yb())):!1},V.nb=function(g){var b,x,E,O;return Zt(g,83)&&(x=T(g,83),b=x.Zb(),E=x.Yb(),E!=0)?(O=this.Ib(),O.Hb(b,E,0)):!1},Ce(vn,"Multisets/EntrySet",657),ye(396,657,xl,Sn),V.mb=function(){return this.a.Eb()},V.Ib=function(){return this.a},V.Y=function(){return this.a.Db()},Ce(vn,"AbstractMultiset/EntrySet",396),ye(384,294,cI),V.Z=function(){return new cC(PK(this.a))},V.$=function(){return Tf(),YO(),K4},V.U=function(g){return T(Ld(this,g),18)},V.X=function(g){return T(hX(this,g),18)},V.P=function(){var g;return g=this.f,g||(this.f=new J_(this,this.b))},V.t=function(g){return jde(this,g)},Ce(vn,"AbstractSetMultimap",384),ye(342,656,hge),Ce(vn,"AbstractSortedMultiset",342),ye(280,600,cI,w4),V.a=0,Ce(vn,"ArrayListMultimap",280),ye(159,17,gge);var Hz,_h,Nge=gi(vn,"BoundType",159,ia,ISt);ye(623,159,gge,xs),gi(vn,"BoundType/1",623,Nge,null),ye(624,159,gge,oY),gi(vn,"BoundType/2",624,Nge,null);var zge;ye(234,1,n2),V.w=function(){return KEt(this.c.mb())},Ce(vn,"FluentIterable",234),ye(170,234,n2,sx),V.mb=function(){return Jr(this)},Ce(vn,"FluentIterable/2",170),ye(664,1,{}),V.w=function(){return nd(Td(this.a.d).b)},Ce(vn,"ForwardingObject",664),ye(665,664,B4),V.ib=function(g){return Td(this.a.d),QE()},V.jb=function(g){return Td(this.a.d),Qg()},V.Q=function(){Td(this.a.d),q_()},V.kb=function(g){return vC(Td(this.a.d),g)},V.lb=function(g){return e4(Td(this.a.d),g)},V.V=function(){return Td(this.a.d).b.V()},V.mb=function(){var g;return g=Td(this.a.d).b.mb(),new $v(g)},V.nb=function(g){return Td(this.a.d),Ys()},V.Y=function(){return Td(this.a.d).b.Y()},V.ob=function(){return RPe(Td(this.a.d))},V.pb=function(g){return Kfe(Td(this.a.d),g)},Ce(vn,"ForwardingCollection",665),ye(660,640,vge),V.mb=function(){return this.Kb()},V.ib=function(g){return u0()},V.jb=function(g){return B_()},V.Q=function(){tg()},V.kb=function(g){return g!=null&&WD(this,g,!1)},V.Jb=function(){switch(this.Y()){case 0:return Ss(),Ss(),bI;case 1:return Ss(),new Zy(this.Kb().H());default:return new sPe(this,this.ob())}},V.nb=function(g){return Ey()},Ce(vn,"ImmutableCollection",660),ye(316,660,vge,_w),V.mb=function(){return R4(this.a.mb())},V.kb=function(g){return g!=null&&this.a.kb(g)},V.lb=function(g){return this.a.lb(g)},V.V=function(){return this.a.V()},V.Kb=function(){return R4(this.a.mb())},V.Y=function(){return this.a.Y()},V.ob=function(){return this.a.ob()},V.pb=function(g){return this.a.pb(g)},V.w=function(){return nd(this.a)},Ce(vn,"ForwardingImmutableCollection",316),ye(87,660,hA),V.mb=function(){return this.Kb()},V.tb=function(){return this.Lb(0)},V.ub=function(g){return this.Lb(g)},V.xb=function(g,b){return this.Mb(g,b)},V.rb=function(g,b){throw new ya},V.t=function(g){return tAt(this,g)},V.v=function(){return u$t(this)},V.Kb=function(){return this.Lb(0)},V.Lb=function(g){return r9(this,g)},V.vb=function(g){throw new ya},V.wb=function(g,b){throw new ya},V.Mb=function(g,b){var x;return iz((x=new pO(this),new pK(x,g,b)))};var bI;Ce(vn,"ImmutableList",87),ye(667,87,hA),V.mb=function(){return R4(this.Nb().mb())},V.xb=function(g,b){return iz(this.Nb().xb(g,b))},V.kb=function(g){return RY(this,g)},V.lb=function(g){return this.Nb().lb(g)},V.t=function(g){return this.Nb().t(g)},V.sb=function(g){return Te(this,g)},V.v=function(){return this.Nb().v()},V.V=function(){return this.Nb().V()},V.Kb=function(){return R4(this.Nb().mb())},V.Y=function(){return this.Nb().Y()},V.Mb=function(g,b){return iz(this.Nb().xb(g,b))},V.ob=function(){return this.Nb().pb(Pt(Ln,cn,1,this.Nb().Y(),4,1))},V.pb=function(g){return this.Nb().pb(g)},V.w=function(){return nd(this.Nb())},Ce(vn,"ForwardingImmutableList",667),ye(524,1,gA),V.bb=function(){return vx(this)},V.W=function(){return iPe(this)},V.fb=function(){return this.Rb()},V.Q=function(){throw new ya},V.R=function(g){return this.cb(g)!=null},V.ab=function(g){return this.Rb().kb(g)},V.Pb=function(){return new qa(this)},V.Qb=function(){return new sr(this)},V.t=function(g){return T$t(this,g)},V.v=function(){return vx(this).v()},V.V=function(){return this.Y()==0},V.db=function(g,b){return Fo()},V.eb=function(g){throw new ya},V.w=function(){var g;return hi(),g=C4(MCt(this.Y()),123),z$t(o8e,g,vx(this).mb()),g.a+="}",g.a},V.Rb=function(){return this.g?this.g:this.g=this.Qb()},V.e=null,V.f=null,V.g=null,Ce(vn,"ImmutableMap",524),ye(320,524,gA),V.R=function(g){return PIe(this.d,g)},V.ab=function(g){return xO(this.d,g)},V.Ob=function(){return Wde(new Fn(this))},V.Pb=function(){return Wde(wPe(this.d))},V.Qb=function(){return Tf(),new _w(xPe(this.d))},V.t=function(g){return lO(this.d,g)},V.cb=function(g){return g==null?null:qD(this.d,g)},V.v=function(){return this.d.c.v()},V.V=function(){return this.d.c.V()},V.Y=function(){return this.d.c.Y()},V.w=function(){return nd(this.d.c)},Ce(vn,"ForwardingImmutableMap",320),ye(666,665,xl),V.t=function(g){return g===this||qT(Td(this.a.d),g)},V.v=function(){return Td(this.a.d).b.v()},Ce(vn,"ForwardingSet",666),ye(523,666,xl,Fn),V.kb=function(g){if(Zt(g,21)&&T(g,21).yb()==null)return!1;try{return vC(Td(this.a.d),g)}catch(b){if(b=Fu(b),Zt(b,119))return!1;throw Nu(b)}},V.pb=function(g){var b;return b=Kfe(Td(this.a.d),g),Td(this.a.d).b.Y()<b.length&&ph(b,Td(this.a.d).b.Y(),null),b},Ce(vn,"ForwardingImmutableMap/1",523),ye(663,660,pA),V.mb=function(){return this.Kb()},V.t=function(g){return w6e(this,g)},V.v=function(){return JCt(this)},Ce(vn,"ImmutableSet",663),ye(315,663,pA),V.mb=function(){return R4(new re(this.a.b.mb()))},V.kb=function(g){return g!=null&&G7(this.a,g)},V.lb=function(g){return q7(this.a,g)},V.v=function(){return this.a.b.v()},V.V=function(){return this.a.b.V()},V.Kb=function(){return R4(new re(this.a.b.mb()))},V.Y=function(){return this.a.b.Y()},V.ob=function(){return this.a.b.ob()},V.pb=function(g){return zw(this.a,g)},V.w=function(){return nd(this.a.b)},Ce(vn,"ForwardingImmutableSet",315),ye(178,1,{178:1,3:1},xz),V.t=function(g){var b;return Zt(g,178)?(b=T(g,178),this.a.t(b.a)&&this.b==b.b&&this.c==b.c&&this.d==b.d&&this.f==b.f&&zC(this.e,b.e)&&zC(this.g,b.g)):!1},V.v=function(){return NK(it(nt(Ln,1),cn,1,4,[this.a,this.e,this.d,this.g,this.f]))},V.w=function(){return C4(Kt(C4(Kt(C4(pn(Kt(new Tv,this.a),":"),this.d==(Od(),Hz)?91:40),this.b?this.e:"-"),44),this.c?this.g:""),this.f==Hz?93:41).a},V.b=!1,V.c=!1,Ce(vn,"GeneralRange",178),ye(215,384,cI,p1),V.a=2,Ce(vn,"HashMultimap",215),ye(661,87,hA),V.kb=function(g){return this.Sb().kb(g)},V.V=function(){return this.Sb().V()},V.Y=function(){return this.Sb().Y()},Ce(vn,"ImmutableAsList",661),ye(275,320,gA),V.Rb=function(){return this.Ub()},V.fb=function(){return this.Ub()},V.Ub=function(){return iPe(this.Tb())},Ce(vn,"ImmutableBiMap",275),ye(341,668,{3:1,21:1},np),V.yb=function(){return this.a},V.zb=function(){return this.b},V.Ab=function(g){throw new ya},Ce(vn,"ImmutableEntry",341),ye(436,315,pA,Ge),Ce(vn,"ImmutableEnumSet",436),ye(379,378,AX,dPe),Ce(vn,"ImmutableList/1",379),ye(266,108,j4,gn),V.G=function(){return this.a.G()},V.H=function(){return T(this.a.H(),21).yb()},Ce(vn,"ImmutableMap/1",266),ye(670,663,pA),V.mb=function(){var g;return g=vx(this.a).Kb(),new gn(g)},V.Jb=function(){return new Jg(this)},V.Kb=function(){var g;return(g=this.c,g||(this.c=new Jg(this))).Kb()},Ce(vn,"ImmutableSet/Indexed",670),ye(606,670,pA,qa),V.mb=function(){var g;return g=vx(this.a).Kb(),new gn(g)},V.kb=function(g){return this.a.R(g)},V.Kb=function(){var g;return g=vx(this.a).Kb(),new gn(g)},V.Y=function(){return this.a.Y()},Ce(vn,"ImmutableMapKeySet",606),ye(604,660,vge,sr),V.mb=function(){return new mt(this)},V.kb=function(g){return g!=null&&(Ha(),Ha(),jDe(new mt(this),(yC(),g==null?(Wfe(),Fge):new Ot(g)))!=-1)},V.Jb=function(){var g;return g=rPe(vx(this.a)),new hY(this,g)},V.Kb=function(){return new mt(this)},V.Y=function(){return this.a.Y()},Ce(vn,"ImmutableMapValues",604),ye(282,108,j4,mt),V.G=function(){return this.a.G()},V.H=function(){return T(this.a.H(),21).zb()},Ce(vn,"ImmutableMapValues/1",282),ye(605,661,hA,hY),V.Sb=function(){return this.a},V.sb=function(g){return T(this.b.sb(g),21).zb()},Ce(vn,"ImmutableMapValues/2",605),ye(311,661,hA,Jg),V.Sb=function(){return this.a},V.sb=function(g){return kSt(this.a,g)},Ce(vn,"ImmutableSet/Indexed/1",311),ye(414,234,n2,iY),V.mb=function(){return l9(this.a)},V.w=function(){return t2(this.a)+" (cycled)"},Ce(vn,"Iterables/1",414),ye(105,1,Wl,h),V.B=function(g){return T(g,22).mb()},Ce(vn,"Iterables/12",105),ye(415,234,n2,we),V.mb=function(){return OC(this)},Ce(vn,"Iterables/4",415),ye(416,234,n2,ze),V.mb=function(){return dg(this)},Ce(vn,"Iterables/5",416);var a8e,jge;ye(424,651,AX,p),V.G=function(){return!1},V.K=function(){return!1},V.H=function(){throw new Su},V.L=function(){return 0},V.M=function(){throw new Su},V.N=function(){return-1},Ce(vn,"Iterators/1",424),ye(264,108,j4,or),V.G=function(){return!this.a},V.H=function(){if(this.a)throw new Su;return this.a=!0,this.b},V.a=!1,Ce(vn,"Iterators/11",264),ye(425,1,ss,v),V.G=function(){return!1},V.H=function(){throw new Su},V.I=function(){WC(!1)},Ce(vn,"Iterators/2",425),ye(426,108,j4,Xn),V.G=function(){return this.a.G()},V.H=function(){return this.a.H()},Ce(vn,"Iterators/3",426),ye(427,1,ss,TY),V.G=function(){return this.a.G()||this.b.mb().G()},V.H=function(){return _de(this)},V.I=function(){this.a.I()},Ce(vn,"Iterators/4",427),ye(429,428,j4,KT),Ce(vn,"Iterators/6",429),ye(261,1,ss),V.G=function(){return this.b.G()},V.H=function(){return CO(this)},V.I=function(){this.b.I()},Ce(vn,"TransformedIterator",261),ye(430,261,ss,i9),V.Vb=function(g){return QL(this,g)},Ce(vn,"Iterators/7",430),ye(313,1,ss),V.G=function(){return Br(this)},V.H=function(){return Ar(this)},V.I=function(){WC(!!this.c),this.c.I(),this.c=null},Ce(vn,"MultitransformedIterator",313),ye(90,313,{90:1,35:1},Xf),V.Wb=function(g){return T(g,35)},Ce(vn,"Iterators/ConcatenatedIterator",90),ye(314,313,ss,Et),V.Wb=function(g){return QCt(T(g,35))},Ce(vn,"Iterators/ConcatenatedIterator/1",314),ye(329,653,cI,nx),V.U=function(g){return new dO(this,g)},V.X=function(g){return ade(this,g)},V.Q=function(){zfe(this)},V.R=function(g){return mO(this,g)},V.S=function(){return new $O(this)},V.T=function(){return new cr(this)},V.V=function(){return!this.a},V.Y=function(){return this.d},V.c=0,V.d=0,Ce(vn,"LinkedListMultimap",329),ye(647,640,fA),V.rb=function(g,b){throw new oh("Add not supported on this list")},V.ib=function(g){return this.rb(this.Y(),g),!0},V.Q=function(){this.Xb(0,this.Y())},V.t=function(g){return I6e(this,g)},V.v=function(){return zDe(this)},V.mb=function(){return new o0(this)},V.tb=function(){return this.ub(0)},V.ub=function(g){return new pa(this,g)},V.vb=function(g){throw new oh("Remove not supported on this list")},V.Xb=function(g,b){var x,E;for(E=this.ub(g),x=g;x<b;++x)E.H(),E.I()},V.wb=function(g,b){throw new oh("Set not supported on this list")},V.xb=function(g,b){return new pK(this,g,b)},V.d=0,Ce(_r,"AbstractList",647),ye(648,647,fA),V.rb=function(g,b){AC(this,g,b)},V.sb=function(g){return L4(this,g)},V.mb=function(){return this.ub(0)},V.vb=function(g){return ahe(this,g)},V.wb=function(g,b){var x,E;x=this.ub(g);try{return E=x.H(),x.O(b),E}catch(O){throw O=Fu(O),Zt(O,74)?new sc("Can't set element "+g):Nu(O)}},Ce(_r,"AbstractSequentialList",648),ye(276,648,fA,dO),V.ub=function(g){return f4(this,g)},V.Y=function(){var g;return g=T(Ki(this.a.b,this.b),126),g?g.a:0},Ce(vn,"LinkedListMultimap/1",276),ye(330,648,fA,An),V.ub=function(g){return new JIe(this.a,g)},V.Y=function(){return this.a.d},Ce(vn,"LinkedListMultimap/1EntriesImpl",330),ye(563,649,xl,cr),V.kb=function(g){return mO(this.a,g)},V.mb=function(){return new oDe(this.a)},V.nb=function(g){return!ade(this.a,g).a.V()},V.Y=function(){return pC(this.a.b)},Ce(vn,"LinkedListMultimap/1KeySetImpl",563),ye(562,1,ss,oDe),V.G=function(){return v9(this),!!this.c},V.H=function(){v9(this),G(this.c),this.a=this.c,ma(this.d,this.a.a);do this.c=this.c.b;while(this.c&&!ma(this.d,this.c.a));return this.a.a},V.I=function(){v9(this),WC(!!this.a),L9(new SK(this.e,this.a.a)),this.a=null,this.b=this.e.c},V.b=0,Ce(vn,"LinkedListMultimap/DistinctKeyIterator",562),ye(126,1,{126:1},Yfe),V.a=0,Ce(vn,"LinkedListMultimap/KeyList",126),ye(560,668,fI,XT),V.yb=function(){return this.a},V.zb=function(){return this.f},V.Ab=function(g){var b;return b=this.f,this.f=g,b},Ce(vn,"LinkedListMultimap/Node",560),ye(561,1,dA,JIe),V.J=function(g){T(g,21),H_()},V.H=function(){return ZPe(this)},V.M=function(){return QPe(this)},V.O=function(g){T(g,21),Xk()},V.G=function(){return y4(this),!!this.c},V.K=function(){return y4(this),!!this.e},V.L=function(){return this.d},V.N=function(){return this.d-1},V.I=function(){y4(this),WC(!!this.a),this.a!=this.c?(this.e=this.a.d,--this.d):this.c=this.a.b,O6e(this.f,this.a),this.a=null,this.b=this.f.c},V.b=0,V.d=0,Ce(vn,"LinkedListMultimap/NodeIterator",561),ye(241,1,dA,SK,S6e),V.J=function(g){this.e=_X(this.f,this.b,g,this.c),++this.d,this.a=null},V.G=function(){return!!this.c},V.K=function(){return!!this.e},V.H=function(){return gK(this)},V.L=function(){return this.d},V.M=function(){return UPe(this)},V.N=function(){return this.d-1},V.I=function(){WC(!!this.a),this.a!=this.c?(this.e=this.a.e,--this.d):this.c=this.a.c,O6e(this.f,this.a),this.a=null},V.O=function(g){$C(!!this.a),this.a.f=g},V.d=0,Ce(vn,"LinkedListMultimap/ValueForKeyIterator",241),ye(419,647,fA),V.rb=function(g,b){this.a.rb(g,b)},V.kb=function(g){return this.a.kb(g)},V.sb=function(g){return this.a.sb(g)},V.vb=function(g){return this.a.vb(g)},V.wb=function(g,b){return this.a.wb(g,b)},V.Y=function(){return this.a.Y()},Ce(vn,"Lists/AbstractListWrapper",419),ye(420,419,RX),Ce(vn,"Lists/RandomAccessListWrapper",420),ye(422,420,RX,pO),V.ub=function(g){return this.a.ub(g)},Ce(vn,"Lists/1",422),ye(88,647,{88:1,22:1,19:1,20:1},Ny),V.rb=function(g,b){this.a.rb(WO(this,g),b)},V.Q=function(){this.a.Q()},V.sb=function(g){return this.a.sb(Nfe(this,g))},V.mb=function(){return qPe(this,0)},V.ub=function(g){return qPe(this,g)},V.vb=function(g){return this.a.vb(Nfe(this,g))},V.Xb=function(g,b){(FPe(g,b,this.a.Y()),TK(this.a.xb(WO(this,b),WO(this,g)))).Q()},V.wb=function(g,b){return this.a.wb(Nfe(this,g),b)},V.Y=function(){return this.a.Y()},V.xb=function(g,b){return FPe(g,b,this.a.Y()),TK(this.a.xb(WO(this,b),WO(this,g)))},Ce(vn,"Lists/ReverseList",88),ye(220,88,{88:1,22:1,19:1,20:1,63:1},Pn),Ce(vn,"Lists/RandomAccessReverseList",220),ye(421,1,dA,gO),V.J=function(g){this.c.J(g),this.c.M(),this.a=!1},V.G=function(){return this.c.K()},V.K=function(){return this.c.G()},V.H=function(){if(!this.c.K())throw new Su;return this.a=!0,this.c.M()},V.L=function(){return WO(this.b,this.c.L())},V.M=function(){if(!this.c.G())throw new Su;return this.a=!0,this.c.H()},V.N=function(){return WO(this.b,this.c.L())-1},V.I=function(){WC(this.a),this.c.I(),this.a=!1},V.O=function(g){$C(this.a),this.c.O(g)},V.a=!1,Ce(vn,"Lists/ReverseList/1",421);var o8e;ye(376,261,ss,d4),V.Vb=function(g){return hi(),new np(g,Ke(this.a,g))},Ce(vn,"Maps/1",376),ye(188,17,yge);var KX,Bge,Hge=gi(vn,"Maps/EntryFunction",188,ia,DSt);ye(374,188,yge,SO),V.B=function(g){return T(g,21).yb()},gi(vn,"Maps/EntryFunction/1",374,Hge,null),ye(375,188,yge,gD),V.B=function(g){return T(g,21).zb()},gi(vn,"Maps/EntryFunction/2",375,Hge,null),ye(373,640,B4,ex),V.Q=function(){this.a.Q()},V.kb=function(g){return this.a.ab(g)},V.V=function(){return this.a.V()},V.mb=function(){return pPe(this)},V.nb=function(g){var b,x;try{return WD(this,g,!0)}catch(E){if(E=Fu(E),Zt(E,45)){for(x=this.a.bb().mb();x.G();)if(b=T(x.H(),21),zC(g,b.zb()))return this.a.eb(b.yb()),!0;return!1}else throw Nu(E)}},V.Y=function(){return this.a.Y()},Ce(vn,"Maps/Values",373),ye(301,654,cA,$O),V.cb=function(g){return this.a.R(g)?this.a.U(g):null},V.eb=function(g){return this.a.R(g)?this.a.X(g):null},V.Q=function(){this.a.Q()},V.R=function(g){return this.a.R(g)},V.hb=function(){return new bn(this)},V.gb=function(){return this.hb()},V.V=function(){return this.a.V()},V.W=function(){return this.a.W()},V.Y=function(){return this.a.W().Y()},Ce(vn,"Multimaps/AsMap",301),ye(393,655,xl,bn),V.mb=function(){return Sfe(this.a.a.W(),new Zn(this))},V.qb=function(){return this.a},V.nb=function(g){var b;return bIe(this,g)?(b=T(g,21),Ia(this.a,b.yb()),!0):!1},Ce(vn,"Multimaps/AsMap/EntrySet",393),ye(395,1,Wl,Zn),V.B=function(g){return Ke(this,g)},Ce(vn,"Multimaps/AsMap/EntrySet/1",395),ye(391,656,hge,Ve),V.Q=function(){zfe(this.a)},V.kb=function(g){return mO(this.a,g)},V.Cb=function(g){var b;return b=T(qD(FC(this.a),g),19),b?b.Y():0},V.gb=function(){return new an(this)},V.Db=function(){return FC(this.a).Y()},V.Eb=function(){return new Gt(Pfe(FC(this.a)).mb())},V.mb=function(){return lPe(this)},V.Fb=function(g,b){var x,E,O,P,I;if(wl(b,bge),b==0)return I=T(qD(FC(this.a),g),19),I?I.Y():0;if(P=T(qD(FC(this.a),g),19),!P)return 0;if(O=P.Y(),b>=O)P.Q();else for(E=P.mb(),x=0;x<b;x++)E.H(),E.I();return O},Ce(vn,"Multimaps/Keys",391),ye(302,261,ss,Gt),V.Vb=function(g){return new $t(T(g,21))},Ce(vn,"Multimaps/Keys/1",302),ye(658,1,{83:1}),V.t=function(g){var b;return Zt(g,83)?(b=T(g,83),this.Yb()==b.Yb()&&zC(this.Zb(),b.Zb())):!1},V.v=function(){var g;return g=this.Zb(),(g==null?0:C0(g))^this.Yb()},V.w=function(){return uLe(this)},Ce(vn,"Multisets/AbstractEntry",658),ye(394,658,{83:1},$t),V.Yb=function(){return T(this.a.zb(),19).Y()},V.Zb=function(){return this.a.yb()},Ce(vn,"Multimaps/Keys/1/1",394),ye(392,657,xl,an),V.kb=function(g){var b,x;return Zt(g,83)?(x=T(g,83),b=T(FC(this.a.a).cb(x.Zb()),19),!!b&&b.Y()==x.Yb()):!1},V.V=function(){return!this.a.a.a},V.mb=function(){return new Gt(Pfe(FC(this.a.a)).mb())},V.Ib=function(){return this.a},V.nb=function(g){var b,x;return Zt(g,83)&&(x=T(g,83),b=T(FC(this.a.a).cb(x.Zb()),19),b&&b.Y()==x.Yb())?(b.Q(),!0):!1},V.Y=function(){return FC(this.a.a).Y()},Ce(vn,"Multimaps/Keys/KeysEntrySet",392),ye(659,1,tu),Ce(vn,"Ordering",659),ye(398,659,tu,f),V.$b=function(g,b){return ufe(T(g,83),T(b,83))},Ce(vn,"Multisets/1",398),ye(397,658,{83:1,3:1},Ze),V.Yb=function(){return this.a},V.Zb=function(){return this.b},V.a=0,Ce(vn,"Multisets/ImmutableEntry",397),ye(303,1,ss,rD),V.G=function(){return this.d>0||this.c.G()},V.H=function(){if(!(this.d>0||this.c.G()))throw new Su;return this.d==0&&(this.b=T(this.c.H(),83),this.f=this.d=this.b.Yb()),--this.d,this.a=!0,this.b.Zb()},V.I=function(){WC(this.a),this.f==1?this.c.I():this.e.Fb(this.b.Zb(),1)>0,--this.f,this.a=!1},V.a=!1,V.d=0,V.f=0,Ce(vn,"Multisets/MultisetIteratorImpl",303),ye(622,659,{3:1,56:1},d),V.$b=function(g,b){return vfe(T(g,23),T(b,23))},V.w=function(){return"Ordering.natural()"};var s8e;Ce(vn,"NaturalOrdering",622),ye(343,661,hA,sPe),V.ub=function(g){return r9(this.b,g)},V.Sb=function(){return this.a},V.sb=function(g){return Te(this.b,g)},V.Lb=function(g){return r9(this.b,g)},Ce(vn,"RegularImmutableAsList",343),ye(559,275,gA,mPe),V.Tb=function(){return this.a};var u8e;Ce(vn,"RegularImmutableBiMap",559),ye(53,667,hA,zo),V.Nb=function(){return this.a},Ce(vn,"RegularImmutableList",53),ye(321,320,gA,la),Ce(vn,"RegularImmutableMap",321),ye(265,315,pA,b0);var K4;Ce(vn,"RegularImmutableSet",265),ye(650,641,xl),Ce(vn,"Sets/SetView",650),ye(377,650,xl,LY),V.kb=function(g){return og(this.b,g)&&og(this.c,g)},V.lb=function(g){return Xw(this.b,g)&&Xw(this.c,g)},V.V=function(){return OK(this)},V.mb=function(){var g;return IC((g=new wi(this.b.a).a.bb().mb(),new _i(g)),this.a)},V.Y=function(){var g;return wK(IC((g=new wi(this.b.a).a.bb().mb(),new _i(g)),this.a))},Ce(vn,"Sets/2",377),ye(328,275,gA,KPe,FLe),V.fb=function(){return Tf(),new Cu(this.c)},V.Tb=function(){var g;return g=this.a,g||(this.a=new FLe(this.c,this.b,this))},V.Ub=function(){return Tf(),new Cu(this.c)},Ce(vn,"SingletonImmutableBiMap",328),ye(127,667,hA,Zy),V.Nb=function(){return this.a},Ce(vn,"SingletonImmutableList",127),ye(135,663,pA,Cu),V.mb=function(){return Ha(),new or(this.a)},V.kb=function(g){return cp(this.a,g)},V.Kb=function(){return Ha(),new or(this.a)},V.Y=function(){return 1},Ce(vn,"SingletonImmutableSet",135),ye(285,342,{207:1,3:1,22:1,19:1},tde,MIe),V.Bb=function(g,b){return Sz(this,g,b)},V.Cb=function(g){return yz(this,g)},V.Db=function(){return QO(zde(this,(NO(),Uge)))},V.Eb=function(){return new ml(this)},V.Fb=function(g,b){return Rhe(this,g,b)},V.Gb=function(g,b){return n6e(this,g,b)},V.Hb=function(g,b,x){var E,O,P;return wl(x,"newCount"),wl(b,"oldCount"),m1(HO(this.b,g)),P=this.c.a,P?(O=Pt(ko,Co,26,1,12,1),E=Yhe(P,this.d,g,b,x,O),M9(this.c,P,E),O[0]==b):b==0?(x>0&&Sz(this,g,x),!0):!1},V.Y=function(){return QO(zde(this,(NO(),XX)))},Ce(vn,"TreeMultiset",285),ye(619,658,{83:1},Mw),V.Yb=function(){var g;return g=this.b.c,g==0?yz(this.a,this.b.b):g},V.Zb=function(){return this.b.b},Ce(vn,"TreeMultiset/1",619),ye(620,1,ss,ml),V.H=function(){return R$t(this)},V.G=function(){return MDe(this)},V.I=function(){WC(!!this.b),n6e(this.c,this.b.b.b,0),this.b=null},Ce(vn,"TreeMultiset/2",620),ye(205,17,wge);var Uge,XX,Vge=gi(vn,"TreeMultiset/Aggregate",205,ia,FSt);ye(617,205,wge,cc),V._b=function(g){return g.c},V.ac=function(g){return g?g.j:0},gi(vn,"TreeMultiset/Aggregate/1",617,Vge,null),ye(618,205,wge,vY),V._b=function(g){return 1},V.ac=function(g){return g?g.a:0},gi(vn,"TreeMultiset/Aggregate/2",618,Vge,null),ye(206,658,{83:1,206:1},nz),V.Yb=function(){return this.c},V.Zb=function(){return this.b},V.w=function(){return Mo(),uLe(new Ze(this.b,this.c))},V.a=0,V.c=0,V.d=0,V.j=0,Ce(vn,"TreeMultiset/AvlNode",206),ye(616,1,{},c),Ce(vn,"TreeMultiset/Reference",616);var GTt=Ce(lge,"JavaScriptObject$",0),ZX;ye(628,1,{}),Ce(lge,"Scheduler",628);var Uz=0,l8e=0,Vz=-1;ye(360,628,{},u);var Wge;Ce(Tz,"SchedulerImpl",360),ye(646,1,{}),V.hc=function(){return null},V.ic=function(){return null},V.jc=function(){return null},V.kc=function(){return null},V.lc=function(){return null},Ce(XC,"JSONValue",646),ye(214,646,{214:1},pt,_n),V.t=function(g){return Zt(g,214)?this.a==T(g,214).a:!1},V.gc=function(){return yw},V.v=function(){return Iv(this.a)},V.hc=function(){return this},V.w=function(){var g,b,x;for(x=new Ly("["),b=0,g=this.a.length;b<g;b++)b>0&&(x.a+=","),Kt(x,qw(this,b));return x.a+="]",x.a},Ce(XC,"JSONArray",214),ye(292,646,{},In),V.gc=function(){return Wt},V.ic=function(){return this},V.w=function(){return lx(this.a)},V.a=!1;var c8e,f8e;Ce(XC,"JSONBoolean",292),ye(371,72,k1,WL),Ce(XC,"JSONException",371),ye(435,646,{},m),V.gc=function(){return Zg},V.w=function(){return O1};var d8e;Ce(XC,"JSONNull",435),ye(104,646,{104:1},Yn),V.t=function(g){return Zt(g,104)?this.a==T(g,104).a:!1},V.gc=function(){return Yk},V.v=function(){return No(Lt(this.a))},V.jc=function(){return this},V.w=function(){return this.a+""},V.a=0,Ce(XC,"JSONNumber",104),ye(69,646,{69:1},g0,pi),V.t=function(g){return Zt(g,69)?this.a==T(g,69).a:!1},V.gc=function(){return Kk},V.v=function(){return Iv(this.a)},V.kc=function(){return this},V.w=function(){var g,b,x,E,O,P;for(P=new Ly("{"),g=!0,O=vDe(this,Pt(qX,eu,2,0,5,1)),x=0,E=O.length;x<E;++x)b=O[x],g?g=!1:P.a+=", ",pn(P,F6e(b)),P.a+=":",Kt(P,Ka(this,b));return P.a+="}",P.a},Ce(XC,"JSONObject",69),ye(361,641,xl,QT),V.kb=function(g){return hh(g)&&aO(this.a,dx(g))},V.mb=function(){return new o0(new zl(this.b))},V.Y=function(){return this.b.length},Ce(XC,"JSONObject/1",361);var QX;ye(97,646,{97:1},px),V.t=function(g){return Zt(g,97)?Ya(this.a,T(g,97).a):!1},V.gc=function(){return KE},V.v=function(){return eX(this.a)},V.lc=function(){return this},V.w=function(){return F6e(this.a)},Ce(XC,"JSONString",97);var h8e,g8e,Gge;ye(186,1,{},b4,d9),V.b=!1,V.c=0,V.d=-1,V.e=0,V.f=!1,V.j=0,Ce("de.cau.cs.kieler.core.alg","BasicProgressMonitor",186),ye(10,1,{10:1,286:1,3:1,5:1},is,mx,Gn,se),V.t=function(g){return pDe(this,g)},V.v=function(){return No(Lt(this.a))+Hkt(No(Lt(this.b)))},V.w=function(){return"("+this.a+","+this.b+")"},V.a=0,V.b=0;var Ci=Ce(_Ne,"KVector",10);ye(58,648,{3:1,5:1,22:1,19:1,58:1,20:1},Ds),V.ib=function(g){return Vi(this,g)},V.Q=function(){S1(this)},V.ub=function(g){return ta(this,g)},V.Y=function(){return this.b},V.b=0,Ce(_r,"LinkedList",58),ye(44,58,{44:1,286:1,3:1,5:1,22:1,19:1,58:1,20:1},ns,Ad),V.w=function(){var g,b,x;for(g=new Ly("("),b=ta(this,0);b.b!=b.d.c;)x=T(Fi(b),10),pn(g,x.a+","+x.b),b.b!=b.d.c&&(g.a+="; ");return g.a+=")",g.a},Ce(_Ne,"KVectorChain",44);var t$=Rd(Lz,"IProperty");ye(131,1,{179:1,131:1,3:1},y),Ce(Lz,"MapPropertyHolder",131),ye(14,1,xNe,T9,R9,bt,Nn,jC,V9),V.F=function(g){return efe(this,T(g,79))},V.t=function(g){return Ufe(this,g)},V.mc=function(){return this.b},V.nc=function(){return this.c},V.oc=function(){return this.d},V.v=function(){return eX(this.b)},V.w=function(){return this.b};var p8e,v8e;Ce(Lz,"Property",14),ye(366,1,{23:1},w),V.F=function(g){return-1},Ce(Lz,"Property/1",366),ye(367,1,{23:1},_),V.F=function(g){return 1},Ce(Lz,"Property/2",367),ye(27,1,{27:1,22:1},Po),V.t=function(g){var b,x,E;return Zt(g,27)?(x=T(g,27),b=this.a==null?x.a==null:cp(this.a,x.a),E=this.b==null?x.b==null:cp(this.b,x.b),b&&E):!1},V.v=function(){var g,b,x,E,O,P;return x=this.a==null?0:C0(this.a),g=x&Zv,b=x&-65536,P=this.b==null?0:C0(this.b),E=P&Zv,O=P&-65536,g^O>>16&Zv|b^E<<16},V.mb=function(){return new ir(this)},V.w=function(){return this.a==null&&this.b==null?"pair(null,null)":this.a==null?"pair(null,"+nd(this.b)+")":this.b==null?"pair("+nd(this.a)+",null)":"pair("+nd(this.a)+","+nd(this.b)+")"},Ce(SNe,"Pair",27),ye(431,1,ss,ir),V.G=function(){return!this.c&&(!this.b&&this.a.a!=null||this.a.b!=null)},V.H=function(){if(!this.c&&!this.b&&this.a.a!=null)return this.b=!0,this.a.a;if(!this.c&&this.a.b!=null)return this.c=!0,this.a.b;throw new Su},V.I=function(){throw this.c&&this.a.b!=null?this.a.b=null:this.b&&this.a.a!=null&&(this.a.a=null),new kv},V.b=!1,V.c=!1,Ce(SNe,"Pair/1",431),ye(228,72,k1,JE),Ce(ENe,"UnsupportedConfigurationException",228),ye(99,72,k1,rs),Ce(ENe,"UnsupportedGraphException",99);var qge;ye(103,17,{103:1,3:1,23:1,17:1},Mv);var JX,Wz,Gz,qz,Yz,Kz,m8e=gi(R1,"Alignment",103,ia,WEt),y8e;ye(59,17,{59:1,3:1,23:1,17:1},Lw);var Jv,Id,Kc,hp,P1,wI=gi(R1,"Direction",59,ia,CEt),b8e;ye(107,17,{107:1,3:1,23:1,17:1},sh);var _I,jx,vA,eZ,w8e=gi(R1,"EdgeLabelPlacement",107,ia,yEt),_8e;ye(122,17,{122:1,3:1,23:1,17:1},Dw);var n$,Yge,tZ,nZ,x8e=gi(R1,"EdgeRouting",122,ia,bEt),S8e;ye(133,17,{133:1,3:1,23:1,17:1},zy);var Kge,Xge,Zge,Qge,rZ,Jge,E8e=gi(R1,"EdgeType",133,ia,GEt),C8e;ye(166,17,{166:1,3:1,23:1,17:1},wO);var epe,iZ,tpe,$8e=gi(R1,"HierarchyHandling",166,ia,YSt),k8e,xI,npe,wg,O8e,A8e,aZ,rpe,X4,SI,gp,rd,r$,ipe,R8e,T8e,M8e,ape,EI,P8e,$o,mA,ope,L8e,CI,Z4,Q4,Df,$I,Bx,spe,oZ,sZ,uZ,lZ,cZ,ob,hr,sb,kI,OI,upe,yA,lpe,fZ,cpe,s2,AI,fpe,R0;ye(41,17,{41:1,3:1,23:1,17:1},m0);var xh,Xc,Zc,Qc,ql,Jc,id,ad,od,za=gi(R1,"NodeLabelPlacement",41,ia,_Ct),D8e;ye(100,17,{100:1,3:1,23:1,17:1},tx);var dpe,hpe,gpe,em,i$,ppe=gi(R1,"PortAlignment",100,ia,UEt),I8e;ye(28,17,{28:1,3:1,23:1,17:1},jy);var bA,Xu,T0,RI,pp,u2,F8e=gi(R1,"PortConstraints",28,ia,VEt),N8e;ye(149,17,{149:1,3:1,23:1,17:1},rp);var dZ,hZ,TI,z8e=gi(R1,"PortLabelPlacement",149,ia,KSt),j8e;ye(32,17,{32:1,3:1,23:1,17:1},c1);var yn,Hn,wA,Hx,sd,ub,Xz,_A,Ux,Fd,ku,Nd,M0,zd,a$,xA,Vx,SA,ur,vs,kn,nu=gi(R1,"PortSide",32,ia,EEt),B8e;ye(150,17,{150:1,3:1,23:1,17:1},Iw);var MI,gZ,pZ,PI,J4=gi(R1,"SizeConstraint",150,ia,_Et),H8e;ye(139,17,{139:1,3:1,23:1,17:1},ug);var vZ,mZ,LI,yZ,bZ=gi(R1,"SizeOptions",139,ia,wEt),U8e;ye(62,1,{62:1},kO,vh),V.t=function(g){var b;return g==null||!Zt(g,62)?!1:(b=T(g,62),ed(this.d,b.d)&&ed(this.e,b.e)&&ed(this.c,b.c)&&ed(this.b,b.b))},V.v=function(){return NK(it(nt(Ln,1),cn,1,4,[this.d,this.e,this.c,this.b]))},V.w=function(){return"Rect[x="+this.d+",y="+this.e+",w="+this.c+",h="+this.b+"]"},V.b=0,V.c=0,V.d=0,V.e=0,Ce(W4,"Rectangle",62),ye(283,62,{283:1,62:1},W_),V.a=0,Ce(xge,"LabelGroup",283),ye(67,17,{67:1,3:1,23:1,17:1},pc);var V8e,W8e,G8e,q8e,Y8e,K8e,X8e,Z8e,Q8e,J8e,e7e,t7e,n7e,r7e,i7e,a7e,o7e,s7e,u7e,l7e,c7e,wZ,f7e=gi(xge,"LabelLocation",67,ia,Zde);ye(225,17,{225:1,3:1,23:1,17:1},f1);var EA,l2,c2,qTt=gi(xge,"TextAlignment",225,ia,XSt),o$;ye(589,1,{},NFe),V.a=0,V.b=!1,V.d=0,V.f=0,V.k=0,V.r=0,V.s=0,Ce(W4,"LabelAndNodeSizeProcessor/NodeData",589),ye(171,17,{171:1,3:1,23:1,17:1},Pv);var P0,L1,d7e,DI,YTt=gi(W4,"LabelSide",171,ia,qSt);ye(590,1,{},Cn),V.b=!0,V.c=!0,V.d=!0,V.e=!0,Ce(W4,ONe,590),ye(121,1,ANe),V.t=function(g){var b;return Zt(g,121)?(b=T(g,121),this.d==b.d&&this.a==b.a&&this.b==b.b&&this.c==b.c):!1},V.v=function(){var g,b;return g=No(Lt(this.b))<<16,g|=No(Lt(this.a))&Zv,b=No(Lt(this.c))<<16,b|=No(Lt(this.d))&Zv,g^b},V.w=function(){return"[top="+this.d+",left="+this.b+",bottom="+this.a+",right="+this.c+"]"},V.a=0,V.b=0,V.c=0,V.d=0,Ce(W4,"Spacing",121),ye(232,121,ANe,Cy,ED,m9),Ce(W4,"Spacing/Insets",232),ye(65,121,{286:1,121:1,65:1,3:1,5:1},l0,pg,y9),Ce(W4,"Spacing/Margins",65),ye(364,1,{},BIe),V.c=!1,V.d=null,V.g=null;var vpe,mpe,_Z;Ce(NX,"JsonGraphImporter",364);var ype,bpe,wpe,_pe,xpe,h7e,Zz,Spe,Epe;ye(417,14,xNe,sD),Ce(NX,"LayoutOptionResolver/DummyProperty",417),ye(348,1,{},Ef);var Cpe;Ce(NX,"RecursiveLGraphLayout",348),ye(73,99,{73:1,3:1,54:1,46:1},Zk,BO,Hv);var g7e=Ce(NX,"UnsupportedJsonGraphException",73);ye(380,1,{},yPe);var p7e,v7e;Ce(Cge,"GraphConfigurator",380),ye(49,1,{},no),Ce(Cge,"IntermediateProcessingConfiguration",49),ye(365,1,{},cLe),Ce(Cge,"KlayLayered",365),ye(577,1,{},EDe),V.i=0;var m7e;Ce(gI,"ComponentsToCGraphTransformer",577);var y7e;ye(578,1,{},N),V.tc=function(g,b){return Ri(g.wc(),b.wc())},V.uc=function(g,b){return Ri(g.xc(),b.xc())},Ce(gI,"ComponentsToCGraphTransformer/1",578),ye(25,1,{25:1}),V.k=0,V.o=null,V.p=!0,V.r=pu;var Qz=Ce(q4,"CNode",25);ye(198,25,{198:1,25:1},t9,$de),V.vc=function(){this.b.d=this.j.d,this.b.e=this.j.e},V.wc=function(){return this.a!=null?Lt(this.a):this.c.i},V.xc=function(){return this.a!=null?Lt(this.a):this.c.i},V.w=function(){return""},Ce(gI,"ComponentsToCGraphTransformer/CRectNode",198),ye(549,1,{},R);var xZ,SZ;Ce(gI,"OneDimensionalComponentsCompaction",549),ye(550,1,Wl,D),V.B=function(g){return DK(),Sa(),T(T(g,27).a,25).f.f!=0?Qu:ro},Ce(gI,"OneDimensionalComponentsCompaction/lambda$0$Type",550),ye(551,1,Wl,j),V.B=function(g){return DK(),Sa(),Yde(T(T(g,27).a,25).n,T(T(g,27).b,59))||T(T(g,27).a,25).f.f!=0&&Yde(T(T(g,27).a,25).n,T(T(g,27).b,59))?Qu:ro},Ce(gI,"OneDimensionalComponentsCompaction/lambda$1$Type",551),ye(324,1,{},Ife),Ce(q4,"CGraph",324),ye(78,1,{78:1},fz),V.b=0,V.c=0,V.d=0,V.f=0,V.i=!0,V.j=pu,Ce(q4,"CGroup",78),ye(470,1,{},U),V.tc=function(g,b){return rn(g.wc(),b.wc())},V.uc=function(g,b){return rn(g.xc(),b.xc())},Ce(q4,"ISpacingsHandler/1",470),ye(323,1,{},Che),V.e=!1;var b7e,w7e,_7e,EZ=Ce(q4,"OneDimensionalCompactor",323);ye(554,1,Wl,C),V.B=function(g){return XY(),Sa(),T(T(g,27).a,25).f.f!=0?Qu:ro},Ce(q4,"OneDimensionalCompactor/lambda$0$Type",554),ye(335,1,{},$9),V.a=!1,V.b=!1,V.c=!1,V.d=!1,Ce(q4,"Quadruplet",335),ye(587,1,{},$),V.Cc=function(g){var b,x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;for(J=Gl,E=new ge(g.a.b);E.a<E.c.c.length;)b=T(pe(E),25),J=Ri(J,b.f.g.j.d+b.g.a);for(Re=new Ds,B=new ge(g.a.a);B.a<B.c.c.length;)I=T(pe(B),78),I.j=J,I.f==0&&zs(Re,I,Re.c.b,Re.c);for(;Re.b!=0;){for(I=T(Re.b==0?null:(Jn(Re.b!=0),E1(Re,Re.a.a)),78),O=I.g.j.d,fe=(Oe=new wi(I.a.a).a.bb().mb(),new _i(Oe));fe.a.G();)ie=(P=T(fe.a.H(),21),T(P.yb(),25)),Be=I.j+ie.g.a,ie.f.i||ie.j.d<Be?ie.r=Be:ie.r=ie.j.d;for(O-=I.g.r,I.b+=O,g.d==(vo(),Kc)||g.d==Jv?I.c+=O:I.c-=O,ce=(be=new wi(I.a.a).a.bb().mb(),new _i(be));ce.a.G();)for(ie=(P=T(ce.a.H(),21),T(P.yb(),25)),K=ie.i.mb();K.G();)q=T(K.H(),25),sg(g.d)?je=g.g.tc(ie,q):je=g.g.uc(ie,q),q.f.j=rn(q.f.j,ie.r+ie.j.c+je-q.g.a),q.p||(q.f.j=rn(q.f.j,q.j.d-q.g.a)),--q.f.f,q.f.f==0&&Vi(Re,q.f)}for(x=new ge(g.a.b);x.a<x.c.c.length;)b=T(pe(x),25),b.j.d=b.r},Ce(e$,"LongestPathCompaction",587),ye(588,1,{},k),V.Dc=function(g){var b,x,E,O,P,I,B;for(x=new ge(g.a.b);x.a<x.c.c.length;)b=T(pe(x),25),b.i.Q();for(O=new ge(g.a.b);O.a<O.c.c.length;)for(E=T(pe(O),25),I=new ge(g.a.b);I.a<I.c.c.length;)P=T(pe(I),25),E!=P&&(E.f&&E.f==P.f||(sg(g.d)?B=g.g.uc(E,P):B=g.g.tc(E,P),E!=P.o&&(P.j.d>E.j.d||E.j.d==P.j.d&&E.j.c<P.j.c)&&rkt(P.j.e+P.j.b+B,E.j.e)&&Qde(P.j.e,E.j.e+E.j.b+B)&&E.i.ib(P)))},Ce(e$,"QuadraticConstraintCalculation",588),ye(317,1,{},O9),V.Dc=function(g){this.b=g,gX(this,new A,new L)},Ce(e$,"ScanlineConstraintCalculator",317);var II=Rd(T1,"Scanline/EventHandler");ye(464,1,{160:1},CPe),V.Ec=function(g){zAt(this,T(g,235))},Ce(e$,"ScanlineConstraintCalculator/ConstraintsScanlineHandler",464),ye(465,1,tu,M),V.$b=function(g,b){return js((T(g,25).j.d+T(g,25).j.c)/2,(T(b,25).j.d+T(b,25).j.c)/2)},Ce(e$,"ScanlineConstraintCalculator/ConstraintsScanlineHandler/lambda$0$Type",465),ye(235,1,{235:1},Ai),V.a=!1,Ce(e$,"ScanlineConstraintCalculator/Timestamp",235),ye(466,1,tu,S),V.$b=function(g,b){return Xkt(g,b)},Ce(e$,"ScanlineConstraintCalculator/lambda$0$Type",466),ye(467,1,bg,A),V.D=function(g){return!0},Ce(e$,"ScanlineConstraintCalculator/lambda$1$Type",467),ye(468,1,Wl,L),V.B=function(g){return 0},Ce(e$,"ScanlineConstraintCalculator/lambda$2$Type",468),ye(48,1,{48:1},y0,x9),V.t=function(g){var b;return g==null||KTt!=A4(g)?!1:(b=T(g,48),ed(this.c,b.c)&&ed(this.d,b.d))},V.v=function(){return NK(it(nt(Ln,1),cn,1,4,[this.c,this.d]))},V.w=function(){return"("+this.c+", "+this.d+(this.a?"cx":"")+this.b+")"},V.a=!0,V.c=0,V.d=0;var KTt=Ce(T1,"Point",48);ye(201,17,{201:1,3:1,23:1,17:1},Fw);var f2,Wx,s$,Gx,XTt=gi(T1,"Point/Quadrant",201,ia,SEt);ye(569,1,{},Ym),V.b=null,V.c=null,V.d=null,V.e=null,V.f=null;var x7e,S7e,E7e,C7e,$7e;Ce(T1,"RectilinearConvexHull",569),ye(243,1,{160:1},dz),V.Ec=function(g){mCt(this,T(g,48))},V.b=0;var $pe;Ce(T1,"RectilinearConvexHull/MaximalElementsEventHandler",243),ye(571,1,tu,H),V.$b=function(g,b){return gPe(g,b)},Ce(T1,"RectilinearConvexHull/MaximalElementsEventHandler/lambda$0$Type",571),ye(570,1,{160:1},wLe),V.Ec=function(g){$At(this,T(g,48))},V.a=0,V.b=null,V.c=null,V.d=null,V.e=null,Ce(T1,"RectilinearConvexHull/RectangleEventHandler",570),ye(572,1,tu,Y),V.$b=function(g,b){return k4(),T(g,48).c==T(b,48).c?js(T(b,48).d,T(g,48).d):js(T(g,48).c,T(b,48).c)},Ce(T1,"RectilinearConvexHull/lambda$0$Type",572),ye(573,1,tu,Z),V.$b=function(g,b){return k4(),T(g,48).c==T(b,48).c?js(T(g,48).d,T(b,48).d):js(T(g,48).c,T(b,48).c)},Ce(T1,"RectilinearConvexHull/lambda$1$Type",573),ye(574,1,tu,Q),V.$b=function(g,b){return k4(),T(g,48).c==T(b,48).c?js(T(b,48).d,T(g,48).d):js(T(b,48).c,T(g,48).c)},Ce(T1,"RectilinearConvexHull/lambda$2$Type",574),ye(575,1,tu,ee),V.$b=function(g,b){return k4(),T(g,48).c==T(b,48).c?js(T(g,48).d,T(b,48).d):js(T(b,48).c,T(g,48).c)},Ce(T1,"RectilinearConvexHull/lambda$3$Type",575),ye(576,1,tu,oe),V.$b=function(g,b){return wOt(g,b)},Ce(T1,"RectilinearConvexHull/lambda$4$Type",576),ye(469,1,{},oLe),Ce(T1,"Scanline",469),ye(662,1,{}),Ce(Qv,"AbstractGraphPlacer",662),ye(222,1,{222:1},AY);var Ir;Ce(Qv,"ComponentGroup",222),ye(434,662,{},XE),V.Fc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be;if(this.a.c=Pt(Ln,cn,1,0,4,1),b.b.c=Pt(Ln,cn,1,0,4,1),g.V()){b.e.a=0,b.e.b=0;return}for(P=T(g.sb(0),55),eb(b,P),O=g.mb();O.G();)E=T(O.H(),55),H$t(this,E);for(fe=new is,be=2*T(_e(P,(ht(),xc)),15).a,q=new ge(this.a);q.a<q.c.c.length;)I=T(pe(q),222),K=ETt(I,be),Wv(jfe(I.a),fe.a,fe.b),fe.a+=K.a,fe.b+=K.b;if(b.e.a=fe.a-be,b.e.b=fe.b-be,zr(Lt(Qr(_e(P,(Si(),xQ)))))&&he(_e(P,(Xt(),r$)))===he((Jy(),n$))){for(ce=g.mb();ce.G();)J=T(ce.H(),55),sI(J,J.d.a,J.d.b);for(x=new ue,aNe(x,g,be),ie=g.mb();ie.G();)J=T(ie.H(),55),ra(lg(J.d),x.e);ra(lg(b.e),x.a)}for(B=new ge(this.a);B.a<B.c.c.length;)I=T(pe(B),222),kLe(b,jfe(I.a))},Ce(Qv,"ComponentGroupGraphPlacer",434),ye(322,1,{},ue),Ce(Qv,"ComponentsCompactor",322),ye(13,647,$ge,Pe,yc,_1),V.rb=function(g,b){gx(this,g,b)},V.ib=function(g){return tn(this,g)},V.jb=function(g){return Na(this,g)},V.Q=function(){this.c=Pt(Ln,cn,1,0,4,1)},V.kb=function(g){return mc(this,g,0)!=-1},V.sb=function(g){return _t(this,g)},V.V=function(){return this.c.length==0},V.mb=function(){return new ge(this)},V.vb=function(g){return HC(this,g)},V.nb=function(g){return Ks(this,g)},V.Xb=function(g,b){HPe(this,g,b)},V.wb=function(g,b){return _x(this,g,b)},V.Y=function(){return this.c.length},V.ob=function(){return g4(this)},V.pb=function(g){return Eo(this,g)},Ce(_r,"ArrayList",13),ye(532,13,$ge,sLe),V.ib=function(g){return P4(this,T(g,48))},Ce(Qv,"ComponentsCompactor/Hullpoints",532),ye(529,1,{347:1},zIe),V.a=!1,Ce(Qv,"ComponentsCompactor/InternalComponent",529),ye(528,1,n2,U_),V.mb=function(){return new ge(this.a)},Ce(Qv,"ComponentsCompactor/InternalConnectedComponents",528),ye(531,1,{251:1},R6e),V.zc=function(){return null},V.Ac=function(){return this.a},V.yc=function(){return QK(this.d)},V.Bc=function(){return this.b},Ce(Qv,"ComponentsCompactor/InternalExternalExtension",531),ye(530,1,{251:1},ZE),V.Ac=function(){return this.a},V.yc=function(){return QK(this.d)},V.zc=function(){return this.c},V.Bc=function(){return this.b},Ce(Qv,"ComponentsCompactor/InternalUnionExternalExtension",530),ye(534,1,{},aFe),Ce(Qv,"ComponentsCompactor/OuterSegments",534),ye(533,1,{},bw),Ce(Qv,"ComponentsCompactor/Segments",533),ye(381,1,{},ds),Ce(Qv,"ComponentsProcessor",381),ye(432,662,{},ve),V.Fc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt;if(g.Y()==1){Je=T(g.sb(0),55),Je!=b&&(b.b.c=Pt(Ln,cn,1,0,4,1),wFe(b,Je,0,0),eb(b,Je),sp(b.a,Je.a),b.e.a=Je.e.a,b.e.b=Je.e.b);return}else if(g.V()){b.b.c=Pt(Ln,cn,1,0,4,1),b.e.a=0,b.e.b=0;return}for(B=g.mb();B.G();){for(P=T(B.H(),55),Re=0,be=new ge(P.b);be.a<be.c.c.length;)fe=T(pe(be),9),Re+=T(_e(fe,(ht(),Ch)),24).a;P.k=Re}for(mh(g,new le),O=T(g.sb(0),55),b.b.c=Pt(Ln,cn,1,0,4,1),eb(b,O),ce=0,Yt=0,q=g.mb();q.G();)P=T(q.H(),55),Be=P.e,ce=rn(ce,Be.a),Yt+=Be.a*Be.b;for(ce=rn(ce,Math.sqrt(Yt)*T(_e(b,(ht(),kA)),15).a),ct=DNe*T(_e(b,xc),15).a,Qt=0,Nt=0,ie=0,x=ct,I=g.mb();I.G();)P=T(I.H(),55),Be=P.e,Qt+Be.a>ce&&(Qt=0,Nt+=ie+ct,ie=0),Oe=P.d,sI(P,Qt+Oe.a,Nt+Oe.b),Oe.a=0,Oe.b=0,x=rn(x,Qt+Be.a),ie=rn(ie,Be.b),Qt+=Be.a+ct;if(b.e.a=x,b.e.b=Nt+ie,je=T(_e(b,xc),15).a,zr(Lt(Qr(_e(O,(Si(),xQ)))))){for(E=new ue,aNe(E,g,je),J=g.mb();J.G();)K=T(J.H(),55),ra(lg(K.d),E.e);ra(lg(b.e),E.a)}kLe(b,g)},Ce(Qv,"SimpleRowGraphPlacer",432),ye(433,1,tu,le),V.$b=function(g,b){return d$t(T(g,55),T(b,55))},Ce(Qv,"SimpleRowGraphPlacer/1",433),ye(369,1,wa,Xh),V.sc=function(g,b){lNe(g,b)};var k7e;Ce(pI,"CompoundGraphPostprocessor",369),ye(370,1,bg,de),V.D=function(g){var b;return b=T(_e(T(g,114).b,(Xt(),$o)),44),!!b&&b.b!=0},Ce(pI,"CompoundGraphPostprocessor/1",370),ye(368,1,wa,X),V.sc=function(g,b){OIe(this,g,b)},Ce(pI,"CompoundGraphPreprocessor",368),ye(187,1,{187:1},aIe),V.c=!1,Ce(pI,"CompoundGraphPreprocessor/ExternalPort",187),ye(114,1,{114:1},MC),V.w=function(){return v4(this.c)+":"+XLe(this.b)},Ce(pI,"CrossHierarchyEdge",114),ye(310,1,tu,un),V.$b=function(g,b){return Ukt(this,T(g,114),T(b,114))},Ce(pI,"CrossHierarchyEdgeComparator",310),ye(147,131,{179:1,131:1,147:1,3:1}),V.k=0,Ce(zu,"LGraphElement",147),ye(12,147,{179:1,131:1,12:1,147:1,3:1},Uv),V.w=function(){return XLe(this)};var ef=Ce(zu,"LEdge",12);ye(55,147,{179:1,131:1,55:1,147:1,3:1,22:1},Sde),V.mb=function(){return new ge(this.c)},V.w=function(){return this.c.c.length==0?"G-unlayered"+t2(this.b):this.b.c.length==0?"G-layered"+t2(this.c):"G[layerless"+t2(this.b)+", layers"+t2(this.c)+"]"};var ZTt=Ce(zu,"LGraph",55);ye(273,1,{}),V.pc=function(){return this.e.j},Ce(zu,"LGraphAdapters/AbstractLShapeAdapter",273),ye(240,1,{627:1},Hr),V.b=null,Ce(zu,"LGraphAdapters/LEdgeAdapter",240),ye(325,1,{},dC),V.pc=function(){return this.a.e},V.b=null,V.c=!1,Ce(zu,"LGraphAdapters/LGraphAdapter",325),ye(224,273,{129:1,224:1},Xr),Ce(zu,"LGraphAdapters/LLabelAdapter",224),ye(555,273,{626:1},d1),V.a=null,V.b=null,V.c=!1,Ce(zu,"LGraphAdapters/LNodeAdapter",555),ye(556,273,{161:1},hC),V.a=null,V.b=null,V.c=null,V.d=!1,Ce(zu,"LGraphAdapters/LPortAdapter",556),ye(557,1,tu,me),V.$b=function(g,b){return eRt(T(g,7),T(b,7))},Ce(zu,"LGraphAdapters/PortComparator",557),ye(168,1,{168:1},ut,kPe),V.t=function(g){var b;return Zt(g,168)?(b=T(g,168),this.d==b.d&&this.a==b.a&&this.b==b.b&&this.c==b.c):!1},V.v=function(){var g,b;return g=No(Lt(this.b))<<16,g|=No(Lt(this.a))&Zv,b=No(Lt(this.c))<<16,b|=No(Lt(this.d))&Zv,g^b},V.w=function(){return"Insets[top="+this.d+",left="+this.b+",bottom="+this.a+",right="+this.c+"]"},V.a=0,V.b=0,V.c=0,V.d=0,Ce(zu,"LInsets",168),ye(165,147,{179:1,131:1,147:1,165:1,3:1}),Ce(zu,"LShape",165),ye(33,165,{179:1,131:1,147:1,33:1,165:1,3:1},Z7),V.w=function(){return this.a==null?"l_"+this.k:"l_"+this.a},Ce(zu,"LLabel",33),ye(9,165,{179:1,131:1,147:1,9:1,165:1,3:1},bh),V.w=function(){return LPe(this)};var Hs=Ce(zu,"LNode",9);ye(132,17,{132:1,3:1,23:1,17:1},By);var wc,Ta,Sh,va,co,Bo,kpe=gi(zu,"LNode/NodeType",132,ia,qEt);ye(7,165,{179:1,131:1,147:1,7:1,165:1,3:1},mo),V.w=function(){var g;return g=xLe(this),g==null?"p_"+this.k:"p_"+g};var CZ,Ope,$Z,Ape,kZ,OZ,O7e=Ce(zu,"LPort",7);ye(399,1,bg,Se),V.D=function(g){return g9(g)},Ce(zu,"LPort/1",399),ye(400,1,bg,Ee),V.D=function(g){return CY(g)},Ce(zu,"LPort/2",400),ye(401,1,bg,xe),V.D=function(g){return T(g,7).g==(Ut(),Hn)},Ce(zu,"LPort/3",401),ye(402,1,bg,Ie),V.D=function(g){return T(g,7).g==(Ut(),yn)},Ce(zu,"LPort/4",402),ye(403,1,bg,Ne),V.D=function(g){return T(g,7).g==(Ut(),ur)},Ce(zu,"LPort/5",403),ye(404,1,bg,We),V.D=function(g){return T(g,7).g==(Ut(),kn)},Ce(zu,"LPort/6",404),ye(190,1,n2,Ur),V.mb=function(){var g;return g=new ge(this.a.b),new gr(g)},Ce(zu,"LPort/7",190),ye(405,1,ss,gr),V.H=function(){return T(pe(this.a),12).c},V.G=function(){return Yy(this.a)},V.I=function(){E4(this.a)},Ce(zu,"LPort/7/1",405),ye(169,1,n2,Er),V.mb=function(){var g;return g=new ge(this.a.e),new pr(g)},Ce(zu,"LPort/8",169),ye(304,1,ss,pr),V.H=function(){return T(pe(this.a),12).d},V.G=function(){return Yy(this.a)},V.I=function(){E4(this.a)},Ce(zu,"LPort/8/1",304),ye(16,147,{179:1,131:1,147:1,16:1,3:1,22:1},yx),V.mb=function(){return new ge(this.a)},V.w=function(){return"L_"+mc(this.b.c,this,0)+t2(this.a)},Ce(zu,"Layer",16),ye(437,1,wa,Me),V.sc=function(g,b){var x,E,O,P,I,B,q;for(ai(b,"Big nodes intermediate-processing",1),this.a=g,P=new ge(this.a.c);P.a<P.c.c.length;)for(O=T(pe(P),16),q=Hl(O.a),x=gh(q,new He),B=IC(x.b.mb(),x.a);Yw(B);)I=T(UC(B),9),he(_e(I,(Si(),Us)))===he((qc(),uM))||he(_e(I,Us))===he(gb)?(E=Fhe(this,I,!1),dt(E,Us,T(_e(I,Us),85)),dt(I,Us,g$)):Fhe(this,I,!0);jr(b)},Ce(br,"BigNodesIntermediateProcessor",437),ye(438,1,bg,He),V.D=function(g){return aCt(T(g,9))},Ce(br,"BigNodesIntermediateProcessor/1",438),ye(582,1,Wl,vr),V.B=function(g){var b;return e$t((b=this,Bn(g),b))},Ce(br,"BigNodesLabelHandler/CompoundFunction",582),ye(332,1,{},lhe),V.a=0,V.e=null,V.f=0,Ce(br,"BigNodesLabelHandler/Handler",332),ye(583,1,Wl,ri),V.B=function(g){var b;return dOt((b=this,Bn(g),b))},Ce(br,"BigNodesLabelHandler/Handler/1",583),ye(584,1,Wl,lc),V.B=function(g){var b;return xSt((b=this,Bn(g),b))},Ce(br,"BigNodesLabelHandler/Handler/2",584),ye(585,1,Wl,aD),V.B=function(g){var b;return K3t((b=this,Bn(g),b))},Ce(br,"BigNodesLabelHandler/Handler/3",585),ye(439,1,wa,gt),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe;for(ai(b,"Big nodes post-processing",1),this.a=g,B=new ge(this.a.c);B.a<B.c.c.length;)for(I=T(pe(B),16),x=gh(I.a,new Ye),K=IC(x.b.mb(),x.a);Yw(K);){for(q=T(UC(K),9),ie=T(_e(q,(ht(),VI)),15),P=H6e(this,q),Oe=new Pe,be=jo(P,(Ut(),yn)).mb();be.G();)ce=T(be.H(),7),Oe.c[Oe.c.length]=ce,J=ce.i.a-P.j.a,ce.i.a=ie.a+J;for(q.j.a=ie.a,fe=new ge(Oe);fe.a<fe.c.c.length;)ce=T(pe(fe),7),fa(ce,q);this.a.e.a<q.i.a+q.j.a&&(this.a.e.a=q.i.a+q.j.a),O=T(_e(q,B0e),20),Na(q.c,O),E=T(_e(q,dQ),64),E&&E.B(null)}jr(b)},Ce(br,"BigNodesPostProcessor",439),ye(440,1,bg,Ye),V.D=function(g){return oCt(T(g,9))},Ce(br,"BigNodesPostProcessor/1",440),ye(441,1,wa,MT),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe;for(ai(b,FNe,1),this.c=g,ie=this.c.b,O=0,q=new ge(ie);q.a<q.c.c.length;)I=T(pe(q),9),I.k=O++;for(this.d=T(_e(this.c,(ht(),xc)),15).a,this.a=T(_e(this.c,(Xt(),gp)),59),this.b=ie.c.length,P=NNe,K=new ge(ie);K.a<K.c.c.length;)I=T(pe(K),9),I.g==(zn(),co)&&I.j.a<P&&(P=I.j.a);for(P=50>P?50:P,x=new Pe,fe=P+this.d,J=new ge(ie);J.a<J.c.c.length;)if(I=T(pe(J),9),I.g==(zn(),co)&&I.j.a>fe){for(ce=1,E=I.j.a;E>P;)++ce,E=(I.j.a-(ce-1)*this.d)/ce;tn(x,new fLe(this,I,ce,E))}for(B=new ge(x);B.a<B.c.c.length;)I=T(pe(B),267),kRt(I.d)&&iTt(I);jr(b)},V.b=0,V.d=0,Ce(br,"BigNodesPreProcessor",441),ye(267,1,{267:1},fLe),V.a=0,V.c=0,Ce(br,"BigNodesPreProcessor/BigNode",267),ye(442,1,wa,YL),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe;for(ai(b,FNe,1),A7e=zr(Lt(Qr(_e(g,(Xt(),SI))))),this.c=g,fe=new Pe,I=new ge(g.c);I.a<I.c.c.length;)P=T(pe(I),16),Na(fe,P.a);for(O=0,J=new ge(fe);J.a<J.c.c.length;)q=T(pe(J),9),q.k=O++;for(this.d=T(_e(this.c,(ht(),xc)),15).a,this.a=T(_e(this.c,gp),59),this.b=fe.c.length,B=NNe,ie=new ge(fe);ie.a<ie.c.c.length;)q=T(pe(ie),9),q.g==(zn(),co)&&q.j.a<B&&(B=q.j.a);for(B=50>B?50:B,x=new Pe,Oe=B+this.d,ce=new ge(fe);ce.a<ce.c.c.length;)if(q=T(pe(ce),9),q.g==(zn(),co)&&q.j.a>Oe){for(be=1,E=q.j.a;E>B;)++be,E=(q.j.a-(be-1)*this.d)/be;tn(x,new MPe(this,q,be))}for(K=new ge(x);K.a<K.c.c.length;)q=T(pe(K),268),$Tt(q)&&t3t(q);jr(b)},V.b=0,V.d=0;var A7e=!1;Ce(br,"BigNodesSplitter",442),ye(268,1,{268:1},MPe),V.a=0,V.e=4,Ce(br,"BigNodesSplitter/BigNode",268),ye(443,1,wa,ot),V.sc=function(g,b){var x,E,O,P,I,B,q,K;for(ai(b,"Comment post-processing",1),q=T(_e(g,(ht(),xc)),15).a,P=new ge(g.c);P.a<P.c.c.length;){for(O=T(pe(P),16),E=new Pe,B=new ge(O.a);B.a<B.c.c.length;)I=T(pe(B),9),K=T(_e(I,sM),20),x=T(_e(I,iM),20),(K||x)&&(Z3t(I,K,x,q),K&&Na(E,K),x&&Na(E,x));Na(O.a,E)}jr(b)},Ce(br,"CommentPostprocessor",443),ye(444,1,wa,Ue),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re;for(ai(b,"Comment pre-processing",1),B=new ge(g.b);B.a<B.c.c.length;)if(I=T(pe(B),9),zr(Lt(Qr(_e(I,(Xt(),X4)))))){for(E=0,x=null,q=null,fe=new ge(I.f);fe.a<fe.c.c.length;)ie=T(pe(fe),7),E+=ie.b.c.length+ie.e.c.length,ie.b.c.length==1&&(x=T(_t(ie.b,0),12),q=x.c),ie.e.c.length==1&&(x=T(_t(ie.e,0),12),q=x.d);if(E==1&&q.b.c.length+q.e.c.length==1&&!zr(Lt(Qr(_e(q.f,X4)))))bTt(I,x,q,q.f),E4(B);else{for(Re=new Pe,ce=new ge(I.f);ce.a<ce.c.c.length;){for(ie=T(pe(ce),7),J=new ge(ie.e);J.a<J.c.c.length;)K=T(pe(J),12),K.d.e.c.length==0||(Re.c[Re.c.length]=K);for(P=new ge(ie.b);P.a<P.c.c.length;)O=T(pe(P),12),O.c.b.c.length==0||(Re.c[Re.c.length]=O)}for(Oe=new ge(Re);Oe.a<Oe.c.c.length;)be=T(pe(Oe),12),ib(be,!0)}}jr(b)},Ce(br,"CommentPreprocessor",444),ye(445,1,wa,st),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;for(ai(b,"Edge and layer constraint edge reversal",1),K=new ge(g.b);K.a<K.c.c.length;){switch(q=T(pe(K),9),I=T(_e(q,(Si(),Us)),85),P=null,I.e){case 1:case 2:P=(tA(),UI);break;case 3:case 4:P=(tA(),dj)}if(P)dt(q,(ht(),hQ),(tA(),UI)),P==dj?Qhe(q,I,(gs(),Zu)):P==UI&&Qhe(q,I,(gs(),Sc));else if(uh(T(_e(q,(Xt(),hr)),28))&&q.f.c.length!=0){for(x=!0,ie=new ge(q.f);ie.a<ie.c.c.length;){if(J=T(pe(ie),7),!(J.g==(Ut(),yn)&&J.b.c.length-J.e.c.length>0||J.g==kn&&J.b.c.length-J.e.c.length<0)){x=!1;break}if(J.g==kn){for(O=new ge(J.e);O.a<O.c.c.length;)if(E=T(pe(O),12),B=T(_e(E.d.f,Us),85),B==(qc(),uM)||B==gb){x=!1;break}}if(J.g==yn){for(O=new ge(J.b);O.a<O.c.c.length;)if(E=T(pe(O),12),B=T(_e(E.c.f,Us),85),B==(qc(),GI)||B==y2){x=!1;break}}}x&&Qhe(q,I,(gs(),bQ))}}jr(b)},Ce(br,"EdgeAndLayerConstraintEdgeReverser",445),ye(446,1,wa,at),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;for(ai(b,"End label placement",1),I=T(_e(g,(Xt(),mA)),15).a,this.a=(hi(),new Rt),this.c=new Rt,this.b=new Rt,q=new ge(g.c);q.a<q.c.c.length;)for(B=T(pe(q),16),J=new ge(B.a);J.a<J.c.c.length;)for(K=T(pe(J),9),E=Jr(Ca(K));Br(E);)for(x=T(Ar(E),12),P=new ge(x.b);P.a<P.c.c.length;)O=T(pe(P),33),(he(_e(O,rd))===he((qv(),vA))||he(_e(O,rd))===he(jx))&&(ie=null,he(_e(O,rd))===he(vA)?ie=x.c:he(_e(O,rd))===he(jx)&&(ie=x.d),ZO(this.a,ie.f)||ca(this.a,ie.f,0),ZO(this.c,ie.f)||ca(this.c,ie.f,0),ZO(this.b,ie)||ca(this.b,ie,0),he(_e(O,(ht(),_g)))===he((Gc(),P0))?a3t(O,ie,I):i3t(O,ie,I));jr(b)},Ce(br,"EndLabelProcessor",446),ye(269,1,wa,ua),V.sc=function(g,b){var x,E,O,P,I;for(ai(b,"Graph transformation ("+this.a+")",1),O=wx(g.b),E=new ge(g.c);E.a<E.c.c.length;)x=T(pe(E),16),Na(O,x.a);switch(this.a.e){case 0:nNe(O,g);break;case 1:XFe(O),I=T(_e(g,(Si(),RA)),115),I&&dt(g,RA,fIe(I)),Qf(g.d),Qf(g.e);break;case 2:nNe(O,g),mTt(O,g),XFe(O),P=T(_e(g,(Si(),RA)),115),P&&dt(g,RA,fIe(P)),Qf(g.d),Qf(g.e)}jr(b)},Ce(br,"GraphTransformer",269),ye(221,17,{221:1,3:1,23:1,17:1},h1);var Rpe,Tpe,Mpe,QTt=gi(br,"GraphTransformer/Mode",221,ia,ZSt);ye(448,1,wa,St),V.sc=function(g,b){ai(b,"Hierarchical port constraint processing",1),lkt(g),DTt(g),jr(b)},Ce(br,"HierarchicalPortConstraintProcessor",448),ye(449,1,tu,Vt),V.$b=function(g,b){return ykt(T(g,9),T(b,9))},Ce(br,"HierarchicalPortConstraintProcessor/NodeComparator",449),ye(450,1,wa,tt),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;for(ai(b,"Hierarchical port dummy size processing",1),q=new Pe,ie=new Pe,B=T(_e(g,(ht(),xc)),15).a,J=B*T(_e(g,(Si(),N1)),15).a,x=J*2,O=new ge(g.c);O.a<O.c.c.length;){for(E=T(pe(O),16),q.c=Pt(Ln,cn,1,0,4,1),ie.c=Pt(Ln,cn,1,0,4,1),I=new ge(E.a);I.a<I.c.c.length;)P=T(pe(I),9),P.g==(zn(),Ta)&&(K=T(_e(P,vu),32),K==(Ut(),Hn)?q.c[q.c.length]=P:K==ur&&(ie.c[ie.c.length]=P));M6e(q,!0,x),M6e(ie,!1,x)}jr(b)},Ce(br,"HierarchicalPortDummySizeProcessor",450),ye(451,1,wa,wt),V.sc=function(g,b){var x,E,O,P;ai(b,"Orthogonally routing hierarchical port edges",1),this.a=0,x=VRt(g),Y3t(g,x),P3t(this,g,x),lTt(g),E=T(_e(g,(Xt(),hr)),28),O=g.c,QFe((Ra(0,O.c.length),T(O.c[0],16)),E,g),QFe(T(_t(O,O.c.length-1),16),E,g),P=g.c,PFe((Ra(0,P.c.length),T(P.c[0],16))),PFe(T(_t(P,P.c.length-1),16)),jr(b)},V.a=0,Ce(br,"HierarchicalPortOrthogonalEdgeRouter",451),ye(452,1,tu,vt),V.$b=function(g,b){return tfe(T(g,9),T(b,9))},Ce(br,"HierarchicalPortOrthogonalEdgeRouter/1",452),ye(453,1,tu,Le),V.$b=function(g,b){return bCt(T(g,9),T(b,9))},Ce(br,"HierarchicalPortOrthogonalEdgeRouter/2",453),ye(454,1,wa,ft),V.sc=function(g,b){var x;ai(b,"Hierarchical port position processing",1),x=g.c,x.c.length>0&&kFe((Ra(0,x.c.length),T(x.c[0],16)),g),x.c.length>1&&kFe(T(_t(x,x.c.length-1),16),g),jr(b)},Ce(br,"HierarchicalPortPositionProcessor",454),ye(471,1,wa,Mt),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe;for(ai(b,"Hyperedge merging",1),fe=new pa(g.c,0);fe.b<fe.d.Y();)if(ce=(Jn(fe.b<fe.d.Y()),T(fe.d.sb(fe.c=fe.b++),16)),Oe=ce.a,Oe.c.length!=0)for(B=null,ie=null,be=0;be<Oe.c.length;be++)x=(Ra(be,Oe.c.length),T(Oe.c[be],9)),I=x.g,I==(zn(),va)&&ie==va&&(O=T(_e(x,(ht(),_c)),7),K=T(_e(B,_c),7),P=T(_e(x,Yl),7),J=T(_e(B,Yl),7),E=!!O||!!P,q=!!K||!!J,E&&q&&(O==K||P==J)&&(FAt(x,B,O==K,P==J),Ra(be,Oe.c.length),uO(Oe.c,be,1),--be,x=B,I=ie)),B=x,ie=I;jr(b)},Ce(br,"HyperedgeDummyMerger",471),ye(472,1,wa,yt),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;for(ai(b,"Hypernodes processing",1),O=new ge(g.c);O.a<O.c.c.length;)for(E=T(pe(O),16),B=new ge(E.a);B.a<B.c.c.length;)if(I=T(pe(B),9),zr(Lt(Qr(_e(I,(Xt(),EI)))))&&I.f.c.length<=2){for(ie=0,J=0,x=0,P=0,K=new ge(I.f);K.a<K.c.c.length;)switch(q=T(pe(K),7),q.g.e){case 1:++ie;break;case 2:++J;break;case 3:++x;break;case 4:++P}ie==0&&x==0&&kTt(g,I,P<=J)}jr(b)},Ce(br,"HypernodesProcessor",472),ye(473,1,wa,Ct),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J;for(ai(b,"Layer constraint edge reversal",1),I=new ge(g.c);I.a<I.c.c.length;){for(P=T(pe(I),16),J=-1,x=new Pe,K=T(Eo(P.a,Pt(Hs,bc,9,P.a.c.length,0,1)),51),O=0;O<K.length;O++)E=T(_e(K[O],(ht(),I1)),140),J==-1?E!=(Gv(),d$)&&(J=O):E==(Gv(),d$)&&(fu(K[O],null),aA(K[O],J++,P)),E==(Gv(),$A)&&tn(x,K[O]);for(q=new ge(x);q.a<q.c.c.length;)B=T(pe(q),9),fu(B,null),fu(B,P)}jr(b)},Ce(br,"InLayerConstraintProcessor",473),ye(474,1,wa,jt),V.sc=function(g,b){var x,E,O,P,I,B;if(T(_e(g,(ht(),Ou)),18).kb((Es(),I0))){for(B=new ge(g.b);B.a<B.c.c.length;)P=T(pe(B),9),P.g==(zn(),co)&&(O=T(_e(P,(Xt(),CI)),65),this.c=Ri(this.c,P.i.a-O.b),this.a=rn(this.a,P.i.a+P.j.a+O.c),this.d=Ri(this.d,P.i.b-O.d),this.b=rn(this.b,P.i.b+P.j.b+O.a));for(I=new ge(g.b);I.a<I.c.c.length;)if(P=T(pe(I),9),P.g!=(zn(),co))switch(P.g.e){case 2:if(E=T(_e(P,(Si(),Us)),85),E==(qc(),y2)){P.i.a=this.c-10,xIe(P,new At).A(new Ga(P));break}if(E==gb){P.i.a=this.a+10,xIe(P,new Bt).A(new Fr(P));break}if(x=T(_e(P,I1),140),x==(Gv(),d$)){jFe(P).A(new to(P)),P.i.b=this.d-10;break}if(x==$A){jFe(P).A(new Li(P)),P.i.b=this.b+10;break}break;default:throw new Oi("The node type "+P.g+" is not supported by the "+JTt)}}},V.a=pu,V.b=pu,V.c=Gl,V.d=Gl;var JTt=Ce(br,"InteractiveExternalPortPositioner",474);ye(475,1,Wl,At),V.B=function(g){return T(g,12).d.f},Ce(br,"InteractiveExternalPortPositioner/lambda$0$Type",475),ye(476,1,Wl,Ga),V.B=function(g){return nfe(this.a,g)},Ce(br,"InteractiveExternalPortPositioner/lambda$1$Type",476),ye(477,1,Wl,Bt),V.B=function(g){return T(g,12).c.f},Ce(br,"InteractiveExternalPortPositioner/lambda$2$Type",477),ye(478,1,Wl,Fr),V.B=function(g){return y1(this.a,g)},Ce(br,"InteractiveExternalPortPositioner/lambda$3$Type",478),ye(479,1,Wl,to),V.B=function(g){return cfe(this.a,g)},Ce(br,"InteractiveExternalPortPositioner/lambda$4$Type",479),ye(480,1,Wl,Li),V.B=function(g){return ffe(this.a,g)},Ce(br,"InteractiveExternalPortPositioner/lambda$5$Type",480),ye(37,17,{37:1,3:1,23:1,17:1},Di);var AZ,FI,RZ,TZ,Ppe,Lpe,Dpe,Ipe,MZ,Jz,Fpe,Npe,zpe,jpe,eM,Bpe,Hpe,Upe,PZ,ej,LZ,Vpe,tj,nj,rj,Wpe,CA,ij,Gpe,qpe,Ype,DZ,IZ,Kpe,Xpe,aj,oj,Zpe,Qpe,Jpe,FZ,NZ,zZ,e0e,t0e,n0e,r0e,i0e,a0e,o0e,R7e=gi(br,"IntermediateProcessorStrategy",37,ia,IOt);ye(503,1,wa,kt),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;for(ai(b,"Inverted port preprocessing",1),K=g.c,q=new pa(K,0),x=null,Be=new Pe;q.b<q.d.Y();){for(je=x,x=(Jn(q.b<q.d.Y()),T(q.d.sb(q.c=q.b++),16)),ce=new ge(Be);ce.a<ce.c.c.length;)J=T(pe(ce),9),fu(J,je);for(Be.c=Pt(Ln,cn,1,0,4,1),fe=new ge(x.a);fe.a<fe.c.c.length;)if(J=T(pe(fe),9),J.g==(zn(),co)&&uh(T(_e(J,(Xt(),hr)),28))){for(Re=Ihe(J,(gs(),Sc),(Ut(),yn)).mb();Re.G();)for(be=T(Re.H(),7),B=be.b,I=T(Eo(B,Pt(ef,Yc,12,B.c.length,0,1)),47),O=0,P=I.length;O<P;++O)E=I[O],DRt(g,be,E,Be);for(Oe=Ihe(J,Zu,kn).mb();Oe.G();)for(be=T(Oe.H(),7),B=be.e,I=T(Eo(B,Pt(ef,Yc,12,B.c.length,0,1)),47),O=0,P=I.length;O<P;++O)E=I[O],AAt(g,be,E,Be)}}for(ie=new ge(Be);ie.a<ie.c.c.length;)J=T(pe(ie),9),fu(J,x);jr(b)},Ce(br,"InvertedPortProcessor",503),ye(481,1,wa,qt),V.sc=function(g,b){ai(b,"Node and Port Label Placement and Node Sizing",1),na((Gm(),Gm(),new dC(g,!1))),jr(b)},Ce(br,"LabelAndNodeSizeProcessor",481),ye(482,1,wa,Zh),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je;for(ai(b,"Label dummy insertions",1),ce=new Pe,J=T(_e(g,(Xt(),mA)),15).a,ie=T(_e(g,gp),59),be=new ge(g.b);be.a<be.c.c.length;)for(fe=T(pe(be),9),Re=new ge(fe.f);Re.a<Re.c.c.length;)for(Oe=T(pe(Re),7),B=new ge(Oe.e);B.a<B.c.c.length;)if(I=T(pe(B),12),I.c.f!=I.d.f&&A9(I.b,T7e)){for(Be=Zf(I.b.c.length),x=new bh(g),Wr(x,(zn(),Sh)),dt(x,(ht(),lr),I),dt(x,Z0e,Be),dt(x,hr,(lo(),Xu)),dt(x,_c,I.c),dt(x,Yl,I.d),ce.c[ce.c.length]=x,iFe(I,x),Je=T(_e(I,R0),15).a,Je<0&&(Je=0,dt(I,R0,new li(Je))),je=Math.floor(Je/2),O=new ge(x.f);O.a<O.c.c.length;)E=T(pe(O),7),E.i.b=je;for(P=x.j,q=new pa(I.b,0);q.b<q.d.Y();)K=(Jn(q.b<q.d.Y()),T(q.d.sb(q.c=q.b++),33)),he(_e(K,rd))===he((qv(),_I))&&(ie==(vo(),P1)||ie==Jv?(P.a+=K.j.a+J,P.b=rn(P.b,K.j.b)):(P.a=rn(P.a,K.j.a),P.b+=K.j.b+J),Be.c[Be.c.length]=K,up(q));(ie==(vo(),P1)||ie==Jv)&&(P.a-=J),P.b+=J+Je}Na(g.b,ce),jr(b)};var T7e;Ce(br,"LabelDummyInserter",482),ye(483,1,bg,fn),V.D=function(g){return he(_e(T(g,33),(Xt(),rd)))===he((qv(),_I))},Ce(br,"LabelDummyInserter/1",483),ye(484,1,wa,jn),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce;for(ai(b,"Label dummy removal",1),O=T(_e(g,(Xt(),mA)),15).a,B=T(_e(g,gp),59),I=new ge(g.c);I.a<I.c.c.length;)for(P=T(pe(I),16),K=new pa(P.a,0);K.b<K.d.Y();)q=(Jn(K.b<K.d.Y()),T(K.d.sb(K.c=K.b++),9)),q.g==(zn(),Sh)&&(J=T(_e(q,(ht(),lr)),12),ce=T(_e(J,R0),15).a,x=new se(q.i),he(_e(q,_g))===he((Gc(),L1))&&(x.b+=ce+O),E=new Gn(q.j.a,q.j.b-ce-O),ie=T(_e(q,Z0e),20),B==(vo(),P1)||B==Jv?D$t(ie,x,O,E,he(_e(q,_g))!==he(P0)):$$t(ie,x,O,E),Na(J.b,ie),UFe(q,!1),up(K));jr(b)},Ce(br,"LabelDummyRemover",484),ye(485,1,wa,Mn),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;for(ai(b,"Label dummy switching",1),x=new Pe,ie=new Pe,B=new Pe,fe=new Pe,I=new ge(g.c);I.a<I.c.c.length;)for(P=T(pe(I),16),J=new ge(P.a);J.a<J.c.c.length;)if(K=T(pe(J),9),K.g==(zn(),Sh)){x.c[x.c.length]=K,B.c=Pt(Ln,cn,1,0,4,1),fe.c=Pt(Ln,cn,1,0,4,1),Oe=K;do Oe=T(Ar(Jr(Qs(Oe))),12).c.f,Oe.g==va&&(B.c[B.c.length]=Oe);while(Oe.g==va);Be=K;do Be=T(Ar(Jr(Ca(Be))),12).d.f,Be.g==va&&(fe.c[fe.c.length]=Be);while(Be.g==va);q=B.c.length,be=fe.c.length,q>be+1?(ce=(q+be)/2|0,tn(ie,new Po(K,(Ra(ce,B.c.length),T(B.c[ce],9))))):be>q+1&&(ce=((be-q)/2|0)-1,tn(ie,new Po(K,(Ra(ce,fe.c.length),T(fe.c[ce],9)))))}for(je=new ge(ie);je.a<je.c.c.length;)Re=T(pe(je),27),l3t(T(Re.a,9),T(Re.b,9));for(O=new ge(x);O.a<O.c.c.length;)E=T(pe(O),9),YDe(E,new Un,(ht(),Yl)),YDe(E,new Kr,_c);jr(b)},Ce(br,"LabelDummySwitcher",485),ye(486,1,Wl,Un),V.B=function(g){return T(Ar(Jr(Qs(T(g,9)))),12).c.f},Ce(br,"LabelDummySwitcher/lambda$0$Type",486),ye(487,1,Wl,Kr),V.B=function(g){return T(Ar(Jr(Ca(T(g,9)))),12).d.f},Ce(br,"LabelDummySwitcher/lambda$1$Type",487),ye(488,1,wa,Wi),V.sc=function(g,b){ai(b,"Label management",1),Bn(_e(g,(fde(),qge))),jr(b)},Ce(br,"LabelManagementProcessor",488),ye(489,1,wa,cs),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe;switch(q=T(_e(g,(Si(),RA)),115),ai(b,"Label side selection ("+q+")",1),K=(mr(g),new sx(g)),q.e){case 0:AOt(K);break;case 1:OOt(K);break;case 2:bAt(K);break;case 3:yAt(K);break;case 4:W3t(K)}for(B=new ge(g.c);B.a<B.c.c.length;)for(I=T(pe(B),16),E=new ge(I.a);E.a<E.c.c.length;){for(x=T(pe(E),9),fe=new ge(x.f);fe.a<fe.c.c.length;)for(ie=T(pe(fe),7),P=new ge(ie.c);P.a<P.c.c.length;)O=T(pe(P),33),he(_e(O,(ht(),_g)))===he((Gc(),DI))&&dt(O,_g,M7e);if(x.g==(zn(),Sh)&&he(_e(x,(ht(),_g)))===he((Gc(),P0)))for(J=T(_e(x,lr),12),Oe=T(_e(J,(Xt(),R0)),15).a,be=x.j.b-Math.ceil(Oe/2),ce=new ge(x.f);ce.a<ce.c.c.length;)ie=T(pe(ce),7),ie.i.b=be}jr(b)};var M7e;Ce(br,"LabelSideSelector",489),ye(490,1,tu,sa),V.$b=function(g,b){return LSt(T(g,7),T(b,7))},Ce(br,"LabelSideSelector/1",490),ye(495,1,wa,ga),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je;if(ai(b,"Layer constraint application",1),K=g.c,K.c.length==0){jr(b);return}for(P=(Ra(0,K.c.length),T(K.c[0],16)),I=T(_t(K,K.c.length-1),16),Be=new yx(g),Je=new yx(g),q=new ge(K);q.a<q.c.c.length;)for(B=T(pe(q),16),Oe=T(Eo(B.a,Pt(Hs,bc,9,B.a.c.length,0,1)),51),ce=0,be=Oe.length;ce<be;++ce)switch(ie=Oe[ce],x=T(_e(ie,(Si(),Us)),85),x.e){case 1:fu(ie,P),vFe(ie,!1);break;case 2:fu(ie,Be),vFe(ie,!0);break;case 3:fu(ie,I),SFe(ie);break;case 4:fu(ie,Je),SFe(ie)}if(K.c.length>=2){for(J=!0,Re=(Ra(1,K.c.length),T(K.c[1],16)),fe=new ge(P.a);fe.a<fe.c.c.length;){if(ie=T(pe(fe),9),he(_e(ie,(Si(),Us)))===he((qc(),g$))){J=!1;break}for(O=Jr(Ca(ie));Br(O);)if(E=T(Ar(O),12),E.d.f.d==Re){J=!1;break}if(!J)break}if(J){for(Oe=T(Eo(P.a,Pt(Hs,bc,9,P.a.c.length,0,1)),51),ce=0,be=Oe.length;ce<be;++ce)ie=Oe[ce],fu(ie,Re);Ks(K,P)}}if(K.c.length>=2){for(J=!0,je=T(_t(K,K.c.length-2),16),fe=new ge(I.a);fe.a<fe.c.c.length;){if(ie=T(pe(fe),9),he(_e(ie,(Si(),Us)))===he((qc(),g$))){J=!1;break}for(O=Jr(Qs(ie));Br(O);)if(E=T(Ar(O),12),E.c.f.d==je){J=!1;break}if(!J)break}if(J){for(Oe=T(Eo(I.a,Pt(Hs,bc,9,I.a.c.length,0,1)),51),ce=0,be=Oe.length;ce<be;++ce)ie=Oe[ce],fu(ie,je);Ks(K,I)}}K.c.length==1&&(Ra(0,K.c.length),T(K.c[0],16)).a.c.length==0&&HC(K,0),Be.a.c.length==0||(Ex(0,K.c.length),jw(K.c,0,Be)),Je.a.c.length==0||(K.c[K.c.length]=Je),jr(b)},Ce(br,"LayerConstraintProcessor",495),ye(496,1,wa,$i),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be;for(ai(b,"Layer size calculation",1),K=k0,q=5e-324,I=new ge(g.c);I.a<I.c.c.length;)if(P=T(pe(I),16),B=P.c,B.a=0,B.b=0,P.a.c.length!=0){for(ie=new ge(P.a);ie.a<ie.c.c.length;)J=T(pe(ie),9),fe=J.j,ce=J.e,B.a=rn(B.a,fe.a+ce.b+ce.c);E=T(_t(P.a,0),9),be=E.i.b-E.e.d,O=T(_t(P.a,P.a.c.length-1),9),x=O.i.b+O.j.b+O.e.a,B.b=x-be,K=K<be?K:be,q=q>x?q:x}g.e.b=q-K,g.d.b-=K,jr(b)},Ce(br,"LayerSizeAndGraphHeightCalculator",496),ye(497,1,wa,xo),V.sc=function(g,b){var x,E,O,P,I;for(ai(b,"Edge joining",1),x=zr(Lt(Qr(_e(g,(Si(),wQ))))),O=new ge(g.c);O.a<O.c.c.length;)for(E=T(pe(O),16),I=new pa(E.a,0);I.b<I.d.Y();)P=(Jn(I.b<I.d.Y()),T(I.d.sb(I.c=I.b++),9)),P.g==(zn(),va)&&(UFe(P,x),up(I));jr(b)},Ce(br,"LongEdgeJoiner",497),ye(498,1,wa,en),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe;if(ai(b,"Edge splitting",1),g.c.c.length<=2){jr(b);return}for(P=new pa(g.c,0),I=(Jn(P.b<P.d.Y()),T(P.d.sb(P.c=P.b++),16));P.b<P.d.Y();)for(O=I,I=(Jn(P.b<P.d.Y()),T(P.d.sb(P.c=P.b++),16)),q=new ge(O.a);q.a<q.c.c.length;)for(B=T(pe(q),9),J=new ge(B.f);J.a<J.c.c.length;)for(K=T(pe(J),7),E=new ge(K.e);E.a<E.c.c.length;)x=T(pe(E),12),ce=x.d,ie=ce.f.d,ie!=O&&ie!=I&&iFe(x,(fe=new bh(g),Wr(fe,(zn(),va)),dt(fe,(ht(),lr),x),dt(fe,(Xt(),hr),(lo(),Xu)),fu(fe,I),fe));jr(b)},Ce(br,"LongEdgeSplitter",498),ye(499,1,wa,sn),V.sc=function(g,b){var x,E,O,P,I,B,q,K;for(ai(b,"Node margin calculation",1),x=new Cn((Gm(),new dC(g,!0))),X$t(x),B=T(_e(g,(ht(),xc)),15).a,O=new ge(g.c);O.a<O.c.c.length;)for(E=T(pe(O),16),I=new ge(E.a);I.a<I.c.c.length;)P=T(pe(I),9),pRt(P,B),q=P.e,K=T(_e(P,Q0e),65),q.b=rn(q.b,K.b),q.c=rn(q.c,K.c),q.a=rn(q.a,K.a),q.d=rn(q.d,K.d);jr(b)},Ce(br,ONe,499),ye(491,1,wa,On),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;switch(ai(b,"Node promotion heuristic",1),this.g=g,uTt(this),this.q=T(_e(g,(Si(),xj)),109),K=T(_e(this.g,rve),24).a,O=new Kn,this.q.e){case 2:case 1:lA(this,O);break;case 3:for(this.q=(Rx(),uj),lA(this,O),B=0,I=new ge(this.a);I.a<I.c.c.length;)P=T(pe(I),24),B=Is(B,P.a);B>this.j&&(this.q=NI,lA(this,O));break;case 4:for(this.q=(Rx(),uj),lA(this,O),q=0,E=new ge(this.b);E.a<E.c.c.length;)x=ci(pe(E)),q=rn(q,(hs(x),x));q>this.k&&(this.q=zI,lA(this,O));break;case 6:ie=No(SC(this.f.length*K/100)),lA(this,new ll(ie));break;case 5:J=No(SC(this.d*K/100)),lA(this,new Vr(J));break;default:lA(this,O)}jAt(this,g),jr(b)},V.d=0,V.e=0,V.i=0,V.j=0,V.k=0,V.n=0,Ce(br,"NodePromotion",491),ye(492,1,Wl,Kn),V.B=function(g){return Sa(),Sa(),Qu},Ce(br,"NodePromotion/lambda$0$Type",492),ye(493,1,Wl,ll),V.B=function(g){return CSt(this.a,g)},V.a=0,Ce(br,"NodePromotion/lambda$1$Type",493),ye(494,1,Wl,Vr),V.B=function(g){return $St(this.a,g)},V.a=0,Ce(br,"NodePromotion/lambda$2$Type",494),ye(109,17,{109:1,3:1,23:1,17:1},g1);var s0e,NI,u0e,l0e,zI,c0e,sj,uj,P7e=gi(br,"NodePromotionStrategy",109,ia,wCt),L7e;ye(500,1,wa,kr),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct;for(ai(b,HNe,1),fe=T(_e(g,(Xt(),r$)),122),O=new ge(g.c);O.a<O.c.c.length;)for(E=T(pe(O),16),q=T(Eo(E.a,Pt(Hs,bc,9,E.a.c.length,0,1)),51),I=0,B=q.length;I<B;++I)if(P=q[I],P.g==(zn(),Bo)){if(fe==(Jy(),tZ))for(J=new ge(P.f);J.a<J.c.c.length;)K=T(pe(J),7),K.b.c.length==0||Akt(K),K.e.c.length==0||Rkt(K);else if(Zt(_e(P,(ht(),lr)),12))Oe=T(_e(P,lr),12),Re=T(jo(P,(Ut(),kn)).mb().H(),7),je=T(jo(P,yn).mb().H(),7),Be=T(_e(Re,lr),7),Je=T(_e(je,lr),7),uo(Oe,Je),Ea(Oe,Be),ct=new se(je.f.i),ct.a=da(it(nt(Ci,1),Ei,10,0,[Je.f.i,Je.i,Je.a])).a,Vi(Oe.a,ct),ct=new se(Re.f.i),ct.a=da(it(nt(Ci,1),Ei,10,0,[Be.f.i,Be.i,Be.a])).a,Vi(Oe.a,ct);else{if(P.f.c.length>=2){for(be=!0,ie=new ge(P.f),x=T(pe(ie),7);ie.a<ie.c.c.length;)if(ce=x,x=T(pe(ie),7),!cp(_e(ce,lr),_e(x,lr))){be=!1;break}}else be=!1;for(J=new ge(P.f);J.a<J.c.c.length;)K=T(pe(J),7),K.b.c.length==0||qAt(K,be),K.e.c.length==0||YAt(K,be)}fu(P,null)}jr(b)},Ce(br,"NorthSouthPortPostprocessor",500),ye(501,1,wa,ti),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct;for(ai(b,HNe,1),be=new Pe,ct=new Pe,K=new ge(g.c);K.a<K.c.c.length;)for(q=T(pe(K),16),Re=-1,fe=T(Eo(q.a,Pt(Hs,bc,9,q.a.c.length,0,1)),51),ie=0,ce=fe.length;ie<ce;++ie)if(J=fe[ie],++Re,!!(J.g==(zn(),co)&&uh(T(_e(J,(Xt(),hr)),28)))){for(Ns(T(_e(J,(Xt(),hr)),28))||OAt(J),dt(J,(ht(),Kx),J),be.c=Pt(Ln,cn,1,0,4,1),ct.c=Pt(Ln,cn,1,0,4,1),x=new Pe,Je=new Ds,Lde(Je,jo(J,(Ut(),Hn))),oNe(g,Je,be,ct,x),B=Re,P=new ge(be);P.a<P.c.c.length;)E=T(pe(P),9),aA(E,B,q),++Re,dt(E,Kx,J),I=T(_t(E.f,0),7),Oe=T(_e(I,lr),7),zr(Lt(Qr(_e(Oe,(Si(),RQ)))))||T(_e(E,OA),20).ib(J);for(S1(Je),Be=jo(J,ur).mb();Be.G();)je=T(Be.H(),7),zs(Je,je,Je.a,Je.a.a);for(oNe(g,Je,ct,null,x),O=new ge(ct);O.a<O.c.c.length;)E=T(pe(O),9),aA(E,++Re,q),dt(E,Kx,J),I=T(_t(E.f,0),7),Oe=T(_e(I,lr),7),zr(Lt(Qr(_e(Oe,(Si(),RQ)))))||T(_e(J,OA),20).ib(E);x.c.length==0||dt(J,j0e,x)}jr(b)},Ce(br,"NorthSouthPortPreprocessor",501),ye(502,1,tu,Ji),V.$b=function(g,b){var x,E;return x=g.g,E=b.g,x!=E?x.e-E.e:g.k==b.k?0:x==(Ut(),Hn)?g.k-b.k:b.k-g.k},Ce(br,"NorthSouthPortPreprocessor/lambda$0$Type",502),ye(504,1,wa,Do),V.sc=function(g,b){var x,E,O,P,I,B;for(ai(b,"Removing partition constraint edges",1),E=new ge(g.c);E.a<E.c.c.length;)for(x=T(pe(E),16),P=new ge(x.a);P.a<P.c.c.length;)for(O=T(pe(P),9),B=new ge(O.f);B.a<B.c.c.length;)I=T(pe(B),7),zr(Lt(Qr(_e(I,(ht(),bj)))))&&E4(B);jr(b)},Ce(br,"PartitionPostprocessor",504),ye(505,1,wa,Yi),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;for(ai(b,"Adding partition constraint edges",1),this.a=new Pe,B=new ge(g.b);B.a<B.c.c.length;)P=T(pe(B),9),O=T(_e(P,(Xt(),spe)),24),ACt(this,O.a).ib(P);for(E=0;E<this.a.c.length-1;E++)for(I=T(_t(this.a,E),20).mb();I.G();)for(P=T(I.H(),9),J=new mo,fa(J,P),ni(J,(Ut(),yn)),dt(J,(ht(),bj),(Sa(),Sa(),Qu)),K=T(_t(this.a,E+1),20).mb();K.G();)q=T(K.H(),9),ie=new mo,fa(ie,q),ni(ie,kn),dt(ie,bj,Qu),x=new Uv,dt(x,bj,Qu),dt(x,(Xt(),lpe),yr(20)),uo(x,J),Ea(x,ie);this.a=null,jr(b)},Ce(br,"PartitionPreprocessor",505),ye(506,1,wa,ka),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe;for(ai(b,"Port distribution",1),x=_6e(g),fe=0,J=0,O=0,I=x.length;O<I;++O)for(E=x[O],q=0,K=E.length;q<K;++q)for(B=E[q],B.k=J++,ce=new ge(B.f);ce.a<ce.c.c.length;)ie=T(pe(ce),7),ie.k=fe++;for(P=new ge(g.c);P.a<P.c.c.length;)E=T(pe(P),16),uAt(E);Oe=T(_e(g,(ht(),AA)),154),be=KC(Oe,1)!=0?new ah(Pt($j,Iz,26,fe,12,1)):new eC(Pt($j,Iz,26,fe,12,1)),ZIe(be,x),jr(b)},Ce(br,"PortDistributionProcessor",506),ye(507,1,wa,fo),V.sc=function(g,b){var x,E,O,P,I;for(ai(b,"Port order processing",1),I=new Il,E=new ge(g.c);E.a<E.c.c.length;)for(x=T(pe(E),16),P=new ge(x.a);P.a<P.c.c.length;)O=T(pe(P),9),uh(T(_e(O,(Xt(),hr)),28))&&mh(O.f,I);jr(b)},Ce(br,"PortListSorter",507),ye(508,1,tu,Il),V.$b=function(g,b){return _Rt(T(g,7),T(b,7))},Ce(br,"PortListSorter/PortComparator",508),ye(509,1,wa,Oa),V.sc=function(g,b){var x,E,O,P,I;for(ai(b,"Port side processing",1),I=new ge(g.b);I.a<I.c.c.length;)O=T(pe(I),9),C6e(O);for(E=new ge(g.c);E.a<E.c.c.length;)for(x=T(pe(E),16),P=new ge(x.a);P.a<P.c.c.length;)O=T(pe(P),9),C6e(O);jr(b)},Ce(br,"PortSideProcessor",509),ye(510,1,wa,rc),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;for(ai(b,"Restoring reversed edges",1),B=new ge(g.c);B.a<B.c.c.length;)for(I=T(pe(B),16),K=new ge(I.a);K.a<K.c.c.length;)for(q=T(pe(K),9),ie=new ge(q.f);ie.a<ie.c.c.length;)for(J=T(pe(ie),7),P=T(Eo(J.e,Pt(ef,Yc,12,J.e.c.length,0,1)),47),E=0,O=P.length;E<O;++E)x=P[E],zr(Lt(Qr(_e(x,(ht(),F1)))))&&ib(x,!1);jr(b)},Ce(br,"ReversedEdgeRestorer",510),ye(511,1,wa,Bf),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr,Ma,Ua;if(ai(b,"Sausage Folding",1),this.b=T(_e(g,(ht(),xc)),15).a,this.a=this.b*T(_e(g,(Si(),lM)),15).a,be=LOt(this,g),fe=g.c.c.length,Oe=bOt(this,g),rr=fe*Oe,O=T(_e(g,(Xt(),gp)),59),O==(vo(),Id)||O==Kc||O==hp?E=T(_e(g,kA),15).a:E=1/T(_e(g,kA),15).a,x=rr/be,E>x){jr(b);return}Dn=0,P=k0;do++Dn,x=rr/Dn/(be*Dn),ce=P,P=x-E<=0?0-(x-E):x-E;while(x>E);for(ce<P&&--Dn,ln=fe/(1>Dn?1:Dn)|0,K=ln,ct=ln,Ua=!0;K<fe;){ie=T(_t(g.c,K),16),Rn=!0,Be=null,Je=null;e:for(Ma=new ge(ie.a);Ma.a<Ma.c.c.length;)for(qr=T(pe(Ma),9),B=Jr(Qs(qr));Br(B);){if(I=T(Ar(B),12),Be&&Be!=qr){Rn=!1;break e}if(Be=qr,Wn=I.c.f,Je&&Je!=Wn){Rn=!1;break e}Je=Wn}if(Ua&&Rn&&(ct=0,Ua=!1),K!=ct){for(Yt=T(_t(g.c,ct),16),je=new ge(wx(ie.a));je.a<je.c.c.length;)if(Re=T(pe(je),9),aA(Re,Yt.a.c.length,Yt),ct==0)for(B=new ge(wx(Qs(Re)));B.a<B.c.c.length;)for(I=T(pe(B),12),ib(I,!0),dt(g,V0e,(Sa(),Sa(),Qu)),HRt(g,I),q=new Pe,jRt(g,I.c,I,q),Nt=new ge(q);Nt.a<Nt.c.c.length;)Qt=T(pe(Nt),9),aA(Qt,Yt.a.c.length-1,Yt)}ct>=ln&&(Ua=!0),++ct,++K}for(J=new pa(g.c,0);J.b<J.d.Y();)ie=(Jn(J.b<J.d.Y()),T(J.d.sb(J.c=J.b++),16)),ie.a.c.length==0&&up(J);jr(b)},V.a=0,V.b=0,Ce(br,"SausageFolding",511),ye(512,1,wa,Hf),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;for(ai(b,"Self-loop processing",1),x=new Pe,J=new ge(g.c);J.a<J.c.c.length;){for(K=T(pe(J),16),x.c=Pt(Ln,cn,1,0,4,1),ce=new ge(K.a);ce.a<ce.c.c.length;)for(ie=T(pe(ce),9),be=new ge(ie.f);be.a<be.c.c.length;)for(fe=T(pe(be),7),q=T(Eo(fe.e,Pt(ef,Yc,12,fe.e.c.length,0,1)),47),I=0,B=q.length;I<B;++I)P=q[I],P.c.f==P.d.f&&(Oe=P.c,je=P.d,Re=Oe.g,Be=je.g,((Re==(Ut(),Hn)||Re==ur)&&Be==kn||Re==ur&&Be==Hn||Re==yn&&Be!=yn)&&ib(P,!1),Re==yn&&Be==kn?tn(x,K6e(g,P,je,Oe)):Re==kn&&Be==yn&&tn(x,K6e(g,P,Oe,je)));for(O=new ge(x);O.a<O.c.c.length;)E=T(pe(O),9),fu(E,K)}jr(b)},Ce(br,"SelfLoopProcessor",512),ye(513,1,wa,th),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be;for(ai(b,"Spline SelfLoop positioning",1),J=T(_e(g,(Si(),MQ)),153),K=new ge(g.c);K.a<K.c.c.length;)for(q=T(pe(K),16),ce=new ge(q.a);ce.a<ce.c.c.length;){for(ie=T(pe(ce),9),I=T(_e(ie,(ht(),mQ)),20),B=new Pe,O=I.mb();O.G();)x=T(O.H(),75),Mkt(x),(fe=Hfe(x.g),Pf(fe,x.i),fe).a.Y()==0?B.c[B.c.length]=x:(qRt(x),x.g.a.Y()==0||j3t(x));switch(J.e){case 0:be=new rY(ie),a$t(be),OTt(be,B);break;case 2:for(P=new ge(B);P.a<P.c.c.length;)x=T(pe(P),75),F4(x,(Ul(),nm),!0);break;case 1:for(E=new ge(B);E.a<E.c.c.length;)x=T(pe(E),75),F4(x,(Ul(),nm),!0)}switch(J.e){case 0:case 1:hRt(I);break;case 2:dRt(I)}}jr(b)},Ce(br,"SplineSelfLoopPositioner",513),ye(515,1,{},rY),Ce(br,"SplineSelfLoopPositioner/DistributedLoopSidesCalculator",515),ye(516,1,{},dFe),V.d=!0,Ce(br,"SplineSelfLoopPositioner/DistributedLoopSidesCalculator/SortedLoopSides",516),ye(116,1,{116:1},aC),V.a=0,V.b=0,Ce(br,"SplineSelfLoopPositioner/DistributedLoopSidesCalculator/SortedLoopSides/SizeOfSide",116),ye(318,1,{},Hhe);var qx;Ce(br,"SplineSelfLoopPositioner/PortReadder",318),ye(514,1,tu,Fl),V.$b=function(g,b){return lt(T(g,75),T(b,75))},Ce(br,"SplineSelfLoopPositioner/TextWidthComparator",514),ye(517,1,wa,Du),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be;for(ai(b,"Spline SelfLoop pre-processing.",1),J=new Bl,ce=new ge(g.b);ce.a<ce.c.c.length;){for(ie=T(pe(ce),9),ekt(ie),J.a.Q(),B=Jr(Ca(ie));Br(B);)P=T(Ar(B),12),Sx(P)&&(fe=J.a.db(P,J),fe==null);for(I=(be=new wi(J.a).a.bb().mb(),new _i(be));I.a.G();)P=(q=T(I.a.H(),21),T(q.yb(),12)),je=P.c.g,Be=P.d.g,(je==(Ut(),Hn)&&(Be==yn||Be==ur)||je==yn&&Be==ur||je==ur&&Be==kn||je==kn&&(Be==Hn||Be==yn))&&ib(P,!1);if(x=XOt(J,ie),dt(ie,(ht(),mQ),x),!Ns(T(_e(ie,(Xt(),hr)),28))){for(Re=new Aa,O=new ge(x);O.a<O.c.c.length;)E=T(pe(O),75),Pf(Re,dK(E)),Pf(Re,E.i);for(K=new pa(ie.f,0);K.b<K.d.Y();)Oe=(Jn(K.b<K.d.Y()),T(K.d.sb(K.c=K.b++),7)),Re.a.R(Oe)&&up(K)}}jr(b)},Ce(br,"SplineSelfLoopPreProcessor",517),ye(518,1,wa,Gu),V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr,Ma;for(ai(b,"Spline SelfLoop routing",1),Dn=new Nl,ce=new ge(g.c);ce.a<ce.c.c.length;)for(ie=T(pe(ce),16),Be=new ge(ie.a);Be.a<Be.c.c.length;){for(je=T(pe(Be),9),ct=je.f,fe=new Bl,E=T(_e(je,(ht(),mQ)),20).mb();E.G();)x=T(E.H(),75),Pf(fe,x.a);for(Yt=new Pe,I=(Je=new wi(fe.a).a.bb().mb(),new _i(Je));I.a.G();){for(P=(B=T(I.a.H(),21),T(B.yb(),12)),ln=P.c,rr=P.d,J=new ge(P.c.f.f),Nt=0,Wn=0,q=0,K=0;q<2;)O=T(pe(J),7),ln==O&&(Nt=K,++q),rr==O&&(Wn=K,++q),++K;Qt=T(_e(P,WI),60),Rn=Qt==(Ul(),vp)||Qt==L0?ct.c.length-(Wn-Nt<0?-(Wn-Nt):Wn-Nt)+1:Wn-Nt<0?-(Wn-Nt):Wn-Nt,tn(Yt,new aLe(Nt,Wn,Rn,Qt,P))}if(mh(Yt,Dn),Oe=new Aa,be=new ge(Yt),be.a<be.c.c.length){for(Re=tNe(T(pe(be),195),Oe);be.a<be.c.c.length;)Ede(Re,tNe(T(pe(be),195),Oe));dt(je,Q0e,(qr=new l0,Ma=new y6e(je.j.a,je.j.b),qr.d=rn(0,Ma.d-Re.d),qr.b=rn(0,Ma.b-Re.b),qr.a=rn(0,Re.a-Ma.a),qr.c=rn(0,Re.c-Ma.c),qr))}}jr(b)},Ce(br,"SplineSelfLoopRouter",518),ye(91,1,{91:1},z4),V.w=function(){return this.b+": "+this.d+" -> "+this.a+" "+v4(this.c)},V.a=0,V.b=0,V.d=0,Ce(br,"SplineSelfLoopRouter/LoopPadding",91),ye(521,1,bg,VY),V.D=function(g){return Skt(this,T(g,91))},V.a=0,V.c=0,Ce(br,"SplineSelfLoopRouter/LoopPadding/EnclosingPredicate",521),ye(520,1,tu,Uf),V.$b=function(g,b){return et(T(g,91),T(b,91))},Ce(br,"SplineSelfLoopRouter/LoopPadding/MarginComparator",520),ye(196,1,bg,oo),V.D=function(g){return T(g,91).c==this.a},Ce(br,"SplineSelfLoopRouter/LoopPadding/PortSidePredicate",196),ye(195,1,{195:1},aLe),V.c=0,V.d=0,V.e=0,Ce(br,"SplineSelfLoopRouter/SelfLoopEdge",195),ye(519,1,tu,Nl),V.$b=function(g,b){return Rv(T(g,195),T(b,195))},Ce(br,"SplineSelfLoopRouter/SelfLoopEdge/StepSizeComparator",519),ye(82,25,{25:1,82:1},khe),V.vc=function(){var g,b,x,E;for(b=ta(this.a,0);b.b!=b.d.c;)g=T(Fi(b),10),g.a=this.j.d;for(E=ta(this.c,0);E.b!=E.d.c;)x=T(Fi(E),10),x.a=this.j.d},V.wc=function(){return this.b},V.xc=function(){return this.e},V.w=function(){return t2(new wi(this.d.a))},V.b=0,V.e=0,Ce(dp,"CLEdge",82),ye(93,25,{25:1,93:1},pFe),V.vc=function(){this.b.i.a=this.j.d+this.b.e.b},V.wc=function(){return this.b.g==(zn(),Ta)?0:this.a},V.xc=function(){return this.b.g==(zn(),Ta)?0:this.c},V.w=function(){return nd(_e(this.b,(ht(),lr)))},V.a=0,V.c=0,Ce(dp,"CLNode",93),ye(175,17,{175:1,3:1,23:1,17:1},_O);var f0e,jZ,D7e=gi(dp,"ConstraintCalculationStrategy",175,ia,NSt),I7e;ye(125,17,{125:1,3:1,23:1,17:1},Hy);var d0e,h0e,g0e,p0e,jI,v0e,F7e=gi(dp,"GraphCompactionStrategy",125,ia,YEt),N7e;ye(455,1,wa,cY),V.sc=function(g,b){var x,E,O;if(E=T(_e(g,(Si(),Sj)),125),E!=(N4(),jI)){switch(ai(b,"Horizontal Compaction",1),this.a=g,O=new ae,x=new Che(XAt(O,g)),tO(x,this.b),T(_e(g,TQ),175).e){case 1:rg(x,z7e);break;default:rg(x,(XY(),w7e))}switch(E.e){case 1:$1(x);break;case 2:$1(Xv(x,(vo(),Kc)));break;case 3:$1(Aw(Xv($1(x),(vo(),Kc))));break;case 4:$1(Aw(rC(Xv($1(x),(vo(),Kc)),new Gh)));break;case 5:$1(i1(x,j7e))}Xv(x,(vo(),Id)),x.e=!0,gRt(O),jr(b)}};var z7e,j7e;Ce(dp,"HorizontalGraphCompactor",455),ye(462,1,{},Io),V.tc=function(g,b){var x,E,O;return Zt(g,82)&&Zt(b,82)&&!OK(Cde(T(g,82).d,T(b,82).d))||(x=null,Zt(g,93)&&(x=T(g,93).b),E=null,Zt(b,93)&&(E=T(b,93).b),x&&x.g==(zn(),Ta)||E&&E.g==(zn(),Ta))?0:(O=T(_e(this.a.a,(ht(),Qx)),134),bD(O,x?x.g:(zn(),va),E?E.g:(zn(),va)))},V.uc=function(g,b){return Zt(g,82)&&Zt(b,82)&&!OK(Cde(T(g,82).d,T(b,82).d))?1:Ri(g.xc(),b.xc())},Ce(dp,"HorizontalGraphCompactor/1",462),ye(456,317,{},WY),V.Dc=function(g){var b,x,E;for(this.b=g,gX(this,new wu,this.a),gX(this,new qs,this.a),b=Gl,E=new ge(this.b.a.b);E.a<E.c.c.length;)x=T(pe(E),25),!(Zt(x,93)&&T(x,93).b.g==(zn(),Ta))&&(b=Ri(b,Lt(Z_(this.a,x))));b==Gl&&(b=0),gX(this,new ic,new Zr(b))},Ce(dp,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation",456),ye(457,1,Wl,qo),V.B=function(g){return Z_(this,g)},Ce(dp,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$0$Type",457),ye(458,1,bg,wu),V.D=function(g){return Zt(T(g,25),82)},Ce(dp,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$1$Type",458),ye(459,1,bg,qs),V.D=function(g){return Zt(T(g,25),93)},Ce(dp,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$2$Type",459),ye(460,1,bg,ic),V.D=function(g){return!0},Ce(dp,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$3$Type",460),ye(461,1,Wl,Zr),V.B=function(g){return this.a},V.a=0,Ce(dp,"HorizontalGraphCompactor/EdgeAwareScanlineConstraintCalculation/lambda$4$Type",461),ye(463,1,Wl,Gh),V.B=function(g){return e9(),Sa(),Yde(T(T(g,27).a,25).n,T(T(g,27).b,59))?ro:Qu},Ce(dp,"HorizontalGraphCompactor/lambda$0$Type",463),ye(553,1,{},ae),V.c=!1,Ce(dp,"LGraphToCGraphTransformer",553),ye(552,1,{},wf),V.Cc=function(g){var b,x,E,O,P;for(this.a=g,this.d=new ng,this.c=Pt(m0e,cn,61,this.a.a.a.c.length,0,1),this.b=0,x=new ge(this.a.a.a);x.a<x.c.c.length;)b=T(pe(x),78),b.d=this.b,P=ux(Rw(Tw(new Ed,this.b),b),this.d),this.c[this.b]=P,++this.b;for(_3t(this),pTt(this),pAt(this),zhe(b9(this.d),new b4),O=new ge(this.a.a.b);O.a<O.c.c.length;)E=T(pe(O),25),E.r=this.c[E.f.d].e+E.g.a,E.j.d=E.r},V.b=0,Ce(dp,"NetworkSimplexCompaction",552),ye(142,1,{142:1,23:1},iI),V.F=function(g){return yCt(this,T(g,142))},V.c=!1,V.d=!0,V.i=0,V.j=0,V.k=0,V.n=0,Ce(dp,"VerticalSegment",142),ye(586,1,{},as),V.e=!1,Ce(Dd,"AllCrossingsCounter",586),ye(339,1,{}),Ce(Dd,"BetweenLayerEdgeAllCrossingsCounter",339),ye(613,1,{},t6e),V.c=0,V.e=0,V.i=0,Ce(Dd,"BetweenLayerEdgeTwoNodeCrossingsCounter",613),ye(284,1,{284:1},yDe),V.w=function(){return"AdjacencyList [node="+this.d+", adjacencies= "+this.a+"]"},V.b=0,V.c=0,V.f=0,Ce(Dd,"BetweenLayerEdgeTwoNodeCrossingsCounter/AdjacencyList",284),ye(128,1,{128:1,23:1},x0),V.F=function(g){return kfe(this,T(g,128))},V.w=function(){return"Adjacency [position="+this.c+", cardinality="+this.a+", currentCardinality="+this.b+"]"},V.a=0,V.b=0,V.c=0,Ce(Dd,"BetweenLayerEdgeTwoNodeCrossingsCounter/AdjacencyList/Adjacency",128),ye(610,339,{},Qk),V.Gc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr,Ma,Ua,Ec,nf,w2,_2,ZI,z1,Ju,Cc,j1,mu,ju,$h,x2,im,pb,Jx,N0,vb,hM,xg,mb,Sg,ud,yb,gM,v$,m$,S2,pM,FQ,Cze;for(Sg=0,Ma=0,nf=g.length;Ma<nf;++Ma)if(rr=g[Ma],Ns(T(_e(rr,(Xt(),hr)),28)))for(ju=new ge(rr.f);ju.a<ju.c.c.length;){for(mu=T(pe(ju),7),x2=0,I=new ge(mu.e);I.a<I.c.c.length;)P=T(pe(I),12),rr.d!=P.d.f.d&&++x2;x2>0&&(this.a[mu.k]=Sg++)}else{for(_2=0,ju=new ge(rr.f);ju.a<ju.c.c.length;){for(mu=T(pe(ju),7),I=new ge(mu.e);I.a<I.c.c.length;)P=T(pe(I),12),rr.d!=P.d.f.d&&++_2;this.a[mu.k]=Sg}_2>0&&++Sg}for(m$=0,Ua=0,w2=b.length;Ua<w2;++Ua)if(rr=b[Ua],Ns(T(_e(rr,(Xt(),hr)),28))){for(ZI=0,ju=new ge(rr.f);ju.a<ju.c.c.length&&(mu=T(pe(ju),7),mu.g==(Ut(),Hn));)for(I=new ge(mu.b);I.a<I.c.c.length;)if(P=T(pe(I),12),rr.d!=P.c.f.d){++ZI;break}for(Ju=0,im=new pa(rr.f,rr.f.c.length);im.b>0;){for(mu=(Jn(im.b>0),T(im.a.sb(im.c=--im.b),7)),x2=0,I=new ge(mu.b);I.a<I.c.c.length;)P=T(pe(I),12),rr.d!=P.c.f.d&&++x2;x2>0&&(mu.g==(Ut(),Hn)?(this.a[mu.k]=m$,++m$):(this.a[mu.k]=m$+ZI+Ju,++Ju))}m$+=Ju}else{for(_2=0,ju=new ge(rr.f);ju.a<ju.c.c.length;){for(mu=T(pe(ju),7),I=new ge(mu.b);I.a<I.c.c.length;)P=T(pe(I),12),rr.d!=P.c.f.d&&++_2;this.a[mu.k]=m$}_2>0&&++m$}for($h=new Rt,Oe=new Aa,qr=0,Ec=g.length;qr<Ec;++qr)for(rr=g[qr],gM=new ge(rr.f);gM.a<gM.c.c.length;)for(yb=T(pe(gM),7),I=new ge(yb.e);I.a<I.c.c.length;)if(P=T(pe(I),12),pM=P.d,rr.d!=pM.f.d)if(ud=T(Fe(bl($h.d,yb)),204),S2=T(Fe(bl($h.d,pM)),204),!ud&&!S2)be=new yY,Oe.a.db(be,Oe),Vi(be.a,P),Vi(be.e,yb),Lf($h.d,yb,be),Vi(be.e,pM),Lf($h.d,pM,be);else if(!ud)Vi(S2.a,P),Vi(S2.e,yb),Lf($h.d,yb,S2);else if(!S2)Vi(ud.a,P),Vi(ud.e,pM),Lf($h.d,pM,ud);else if(ud==S2)Vi(ud.a,P);else{for(Vi(ud.a,P),j1=ta(S2.e,0);j1.b!=j1.d.c;)Cc=T(Fi(j1),7),Lf($h.d,Cc,ud);Pf(ud.a,S2.a),Pf(ud.e,S2.e),Oe.a.eb(S2)!=null}for(Re=T(nX(Oe,Pt(e4t,{675:1,3:1,5:1,6:1},204,Oe.a.Y(),0,1)),675),Wn=g[0].d,mb=b[0].d,ce=0,fe=Re.length;ce<fe;++ce)for(ie=Re[ce],ie.f=Sg,ie.g=m$,ju=ta(ie.e,0);ju.b!=ju.d.c;)mu=T(Fi(ju),7),pb=this.a[mu.k],mu.f.d==Wn?(pb<ie.f&&(ie.f=pb,ie.b=Iv(mu)),pb>ie.c&&(ie.c=pb)):mu.f.d==mb&&(pb<ie.g&&(ie.g=pb),pb>ie.d&&(ie.d=pb));for(iA(Re,0,Re.length,(Lv(),Lv(),p$)),v$=Pt(ko,Co,26,Re.length,12,1),x=Pt(ko,Co,26,m$+1,12,1),Be=0;Be<Re.length;Be++)v$[Be]=Re[Be].g,x[v$[Be]]=1;for(O=0,Je=0;Je<x.length;Je++)x[Je]==1?x[Je]=O:--O;for(Jx=0,ct=0;ct<v$.length;ct++)v$[ct]+=x[v$[ct]],Jx=Is(Jx,v$[ct]+1);for(J=1;J<Jx;)J*=2;for(Cze=2*J-1,J-=1,FQ=Pt(ko,Co,26,Cze,12,1),E=0,q=0,K=v$.length;q<K;++q)for(B=v$[q],Qt=B+J,++FQ[Qt];Qt>0;)Qt%2>0&&(E+=FQ[Qt+1]),Qt=(Qt-1)/2|0,++FQ[Qt];for(Dn=Pt(B7e,cn,158,Re.length*2,0,1),Yt=0;Yt<Re.length;Yt++)Dn[2*Yt]=new N9(Re[Yt],Re[Yt].f,Re[Yt].c,0),Dn[2*Yt+1]=new N9(Re[Yt],Re[Yt].c,Re[Yt].f,1);for(iA(Dn,0,Dn.length,p$),z1=0,ln=0,Rn=Dn.length;ln<Rn;++ln)switch(Nt=Dn[ln],Nt.d){case 0:++z1;break;case 1:--z1,E+=z1}for(xg=Pt(B7e,cn,158,Re.length*2,0,1),je=0;je<Re.length;je++)xg[2*je]=new N9(Re[je],Re[je].g,Re[je].d,0),xg[2*je+1]=new N9(Re[je],Re[je].d,Re[je].g,1);for(iA(xg,0,xg.length,p$),z1=0,vb=0,hM=xg.length;vb<hM;++vb)switch(N0=xg[vb],N0.d){case 0:++z1;break;case 1:--z1,E+=z1}return E},Ce(Dd,"BetweenLayerHyperedgeAllCrossingsCounter",610),ye(204,1,{204:1,23:1},yY),V.F=function(g){return akt(this,T(g,204))},V.b=0,V.c=0,V.d=0,V.f=0,V.g=0;var e4t=Ce(Dd,"BetweenLayerHyperedgeAllCrossingsCounter/Hyperedge",204);ye(158,1,{158:1,23:1},N9),V.F=function(g){return qOt(this,T(g,158))},V.b=0,V.c=0,V.d=0;var B7e=Ce(Dd,"BetweenLayerHyperedgeAllCrossingsCounter/HyperedgeCorner",158);ye(611,339,{},TT),V.Gc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln;for(ln=0,P=0,B=g[0].d,ct=b[0].d,J=0,ce=b.length;J<ce;++J)if(q=b[J],Ns(T(_e(q,(Xt(),hr)),28))){for(be=0,je=new ge(q.f);je.a<je.c.c.length&&(Re=T(pe(je),7),Re.g==(Ut(),Hn));)for(O=new ge(Re.b);O.a<O.c.c.length;)if(E=T(pe(O),12),E.c.f.d==B){++be;break}for(Oe=0,Je=new pa(q.f,q.f.c.length);Je.b>0;){for(Re=(Jn(Je.b>0),T(Je.a.sb(Je.c=--Je.b),7)),Be=0,O=new ge(Re.b);O.a<O.c.c.length;)E=T(pe(O),12),E.c.f.d==B&&++Be;Be>0&&(Re.g==(Ut(),Hn)?(this.a[Re.k]=ln,++ln):(this.a[Re.k]=ln+be+Oe,++Oe),P+=Be)}ln+=Oe}else{for(fe=0,je=new ge(q.f);je.a<je.c.c.length;){for(Re=T(pe(je),7),O=new ge(Re.b);O.a<O.c.c.length;)E=T(pe(O),12),E.c.f.d==B&&++fe;this.a[Re.k]=ln}fe>0&&(++ln,P+=fe)}for(Yt=Pt(ko,Co,26,P,12,1),I=0,K=0,ie=g.length;K<ie;++K)if(q=g[K],Ns(T(_e(q,(Xt(),hr)),28)))for(je=new ge(q.f);je.a<je.c.c.length;)for(Re=T(pe(je),7),Qt=I,O=new ge(Re.e);O.a<O.c.c.length;)E=T(pe(O),12),Nt=E.d,Nt.f.d==ct&&$De(Yt,Qt,I++,this.a[Nt.k]);else for(Qt=I,je=new ge(q.f);je.a<je.c.c.length;)for(Re=T(pe(je),7),O=new ge(Re.e);O.a<O.c.c.length;)E=T(pe(O),12),Nt=E.d,Nt.f.d==ct&&$De(Yt,Qt,I++,this.a[Nt.k]);return x=EOt(ln,P,Yt),x},Ce(Dd,"BetweenLayerStraightEdgeAllCrossingsCounter",611),ye(338,1,{},mhe),V.b=0,V.e=!1,Ce(Dd,"CrossingMatrixFiller",338),ye(447,1,wa,ja),V.sc=function(g,b){var x,E,O,P;if(ai(b,"Greedy switch crossing reduction",1),this.e=T(_e(g,(Si(),$Q)),110),x=g.c.c.length,x<2||this.e==(uI(),lQ)){jr(b);return}e3t(this,g),this.e.b?(this.e.a?Gde(this):pde(this),E=jkt(this),O=this.e.a?this.c:aX(this.b,this.d),this.i=!this.i,this.d=this.g,this.e.a?Gde(this):pde(this),P=this.e.a?this.c:aX(this.b,this.d),O<=P&&Pde(this,E)):this.e.a?Gde(this):pde(this),VOt(this,this.a),jr(b)},V.c=0,V.i=!0,Ce(Dd,"GreedySwitchProcessor",447),ye(340,1,{},Kde),Ce(Dd,"InLayerEdgeAllCrossingsCounter",340),ye(614,340,{},$Y),V.b=0,V.d=0,Ce(Dd,"InLayerEdgeTwoNodeCrossingCounter",614),ye(226,1,{226:1,23:1},Vfe),V.F=function(g){return Ekt(this,T(g,226))},V.w=function(){return"ComparableEdgeAndPort [port="+this.b+", edge="+this.a+", portPosition="+this.c+"]"},V.c=0,Ce(Dd,"InLayerEdgeTwoNodeCrossingCounter/ComparableEdgeAndPort",226),ye(612,1,{},WIe),V.e=!0,V.f=0,V.g=0,V.k=!1,Ce(Dd,"NorthSouthEdgeAllCrossingsCounter",612),ye(615,1,{},SDe),V.b=0,V.d=0,V.e=!1,Ce(Dd,"NorthSouthEdgeNeighbouringNodeCrossingsCounter",615),ye(143,1,n2,Xy),V.mb=function(){return Tx(this)},V.b=0,Ce(Dd,"PortIterable",143),ye(344,1,ss,ede),V.H=function(){return T(oPe(this.a),7)},V.G=function(){return this.a.b>0},V.I=function(){throw new ya},Ce(Dd,"PortIterable/1",344),ye(336,1,{},hhe),Ce(Dd,"SwitchDecider",336),ye(89,1,{89:1},lu),V.w=function(){return"NEdge[id="+this.b+" w="+this.f+" d="+this.a+"]"},V.a=1,V.b=0,V.e=!1,V.f=0;var H7e=Ce(Y4,"NEdge",89);ye(157,1,{},oc),Ce(Y4,"NEdge/NEdgeBuilder",157),ye(278,1,{},ng),Ce(Y4,"NGraph",278),ye(61,1,{61:1},lLe),V.b=0,V.d=-1,V.e=0,V.i=-1,V.j=!1;var m0e=Ce(Y4,"NNode",61);ye(333,13,$ge,$y),V.rb=function(g,b){++this.d,Ex(g,this.c.length),jw(this.c,g,b)},V.ib=function(g){return Gw(this,g)},V.jb=function(g){return++this.d,Na(this,g)},V.Q=function(){++this.d,this.c=Pt(Ln,cn,1,0,4,1)},V.vb=function(g){return++this.d,HC(this,g)},V.nb=function(g){return J7(this,g)},Ce(Y4,"NNode/ChangeAwareArrayList",333),ye(199,1,{},Ed),Ce(Y4,"NNode/NNodeBuilder",199),ye(595,1,{},_f),V.a=!1,V.f=Bs,V.j=0,Ce(Y4,"NetworkSimplex",595),ye(193,17,{180:1,193:1,3:1,23:1,17:1},JT),V.rc=function(){switch(this.e){case 0:return new FY;case 1:return new rh;default:throw new Oi("No implementation is available for the cycle breaker "+(this.d!=null?this.d:""+this.e))}};var BZ,y0e,U7e=gi(Age,"CycleBreakingStrategy",193,ia,zSt),V7e;ye(539,1,O0,FY),V.qc=function(g){return W7e},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr,Ma,Ua;for(ai(b,"Greedy cycle removal",1),je=g.b,Ua=je.c.length,this.a=Pt(ko,Co,26,Ua,12,1),this.c=Pt(ko,Co,26,Ua,12,1),this.b=Pt(ko,Co,26,Ua,12,1),B=0,Oe=new ge(je);Oe.a<Oe.c.c.length;){for(fe=T(pe(Oe),9),fe.k=B,Qt=new ge(fe.f);Qt.a<Qt.c.c.length;){for(ct=T(pe(Qt),7),P=new ge(ct.b);P.a<P.c.c.length;)x=T(pe(P),12),x.c.f!=fe&&(Rn=T(_e(x,(ht(),Ch)),24).a,this.a[B]+=Rn>0?Rn+1:1);for(O=new ge(ct.e);O.a<O.c.c.length;)x=T(pe(O),12),x.d.f!=fe&&(Rn=T(_e(x,(ht(),Ch)),24).a,this.c[B]+=Rn>0?Rn+1:1)}this.c[B]==0?Vi(this.d,fe):this.a[B]==0&&Vi(this.e,fe),++B}for(ce=-1,ie=1,K=new Pe,Dn=T(_e(g,(ht(),AA)),154);Ua>0;){for(;this.d.b!=0;)rr=T(E9(this.d),9),this.b[rr.k]=ce--,Bhe(this,rr),--Ua;for(;this.e.b!=0;)qr=T(E9(this.e),9),this.b[qr.k]=ie++,Bhe(this,qr),--Ua;if(Ua>0){for(J=A1,Re=new ge(je);Re.a<Re.c.c.length;)fe=T(pe(Re),9),this.b[fe.k]==0&&(Be=this.c[fe.k]-this.a[fe.k],Be>=J&&(Be>J&&(K.c=Pt(Ln,cn,1,0,4,1),J=Be),K.c[K.c.length]=fe));q=T(_t(K,rhe(Dn,K.c.length)),9),this.b[q.k]=ie++,Bhe(this,q),--Ua}}for(Wn=je.c.length+1,B=0;B<je.c.length;B++)this.b[B]<0&&(this.b[B]+=Wn);for(be=new ge(je);be.a<be.c.c.length;)for(fe=T(pe(be),9),ln=T(Eo(fe.f,Pt(O7e,zNe,7,fe.f.c.length,0,1)),346),Yt=0,Nt=ln.length;Yt<Nt;++Yt)for(ct=ln[Yt],Je=T(Eo(ct.e,Pt(ef,Yc,12,ct.e.c.length,0,1)),47),E=0,I=Je.length;E<I;++E)x=Je[E],Ma=x.d.f.k,this.b[fe.k]>this.b[Ma]&&(ib(x,!0),dt(g,V0e,(Sa(),Sa(),Qu)));this.a=null,this.c=null,this.b=null,S1(this.e),S1(this.d),jr(b)};var W7e;Ce(Age,"GreedyCycleBreaker",539),ye(540,1,O0,rh),V.qc=function(g){return G7e},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe;for(ai(b,"Interactive cycle breaking",1),J=new Pe,ce=new ge(g.b);ce.a<ce.c.c.length;)for(ie=T(pe(ce),9),ie.k=1,fe=che(ie).a,K=Yv(ie,(gs(),Zu)).mb();K.G();)for(q=T(K.H(),7),O=new ge(q.e);O.a<O.c.c.length;)x=T(pe(O),12),be=x.d.f,be!=ie&&(Oe=che(be).a,Oe<fe&&(J.c[J.c.length]=x));for(P=new ge(J);P.a<P.c.c.length;)x=T(pe(P),12),ib(x,!0);for(J.c=Pt(Ln,cn,1,0,4,1),B=new ge(g.b);B.a<B.c.c.length;)I=T(pe(B),9),I.k>0&&m6e(this,I,J);for(E=new ge(J);E.a<E.c.c.length;)x=T(pe(E),12),ib(x,!0);J.c=Pt(Ln,cn,1,0,4,1),jr(b)};var G7e;Ce(Age,"InteractiveCycleBreaker",540),ye(543,1,O0,Iu),V.qc=function(g){return Dr(fr(new no,(Js(),PZ)),ij)},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe;for(ai(b,"Interactive node layering",1),x=new Pe,ie=new ge(g.b);ie.a<ie.c.c.length;){for(K=T(pe(ie),9),B=K.i.a,I=B+K.j.a,I=B+1>I?B+1:I,Oe=new pa(x,0),E=null;Oe.b<Oe.d.Y();)if(fe=(Jn(Oe.b<Oe.d.Y()),T(Oe.d.sb(Oe.c=Oe.b++),239)),fe.c>=I){Jn(Oe.b>0),Oe.a.sb(Oe.c=--Oe.b);break}else fe.a>B&&(E?(Na(E.b,fe.b),E.a=rn(E.a,fe.a),up(Oe)):(tn(fe.b,K),fe.c=Ri(fe.c,B),fe.a=rn(fe.a,I),E=fe));E||(E=new V_,E.c=B,E.a=I,Nv(Oe,E),tn(E.b,K))}for(P=g.c,q=0,be=new ge(x);be.a<be.c.c.length;)for(fe=T(pe(be),239),O=new yx(g),O.k=q++,P.c[P.c.length]=O,ce=new ge(fe.b);ce.a<ce.c.c.length;)K=T(pe(ce),9),fu(K,O),K.k=0;for(J=new ge(g.b);J.a<J.c.c.length;)K=T(pe(J),9),K.k==0&&cFe(this,K,g);for(;(Ra(0,P.c.length),T(P.c[0],16)).a.c.length==0;)Ra(0,P.c.length),P.c.splice(0,1);g.b.c=Pt(Ln,cn,1,0,4,1),jr(b)},Ce(Fz,"InteractiveLayerer",543),ye(239,1,{239:1},V_),V.a=0,V.c=0,Ce(Fz,"InteractiveLayerer/LayerSpan",239),ye(173,17,{180:1,173:1,3:1,23:1,17:1},gC),V.rc=function(){switch(this.e){case 0:return new aY;case 1:return new Wf;case 2:return new Iu;default:throw new Oi("No implementation is available for the layerer "+(this.d!=null?this.d:""+this.e))}};var b0e,w0e,HZ,q7e=gi(Fz,"LayeringStrategy",173,ia,QSt),Y7e;ye(542,1,O0,Wf),V.qc=function(g){var b;return b=x4(K7e),zr(Lt(Qr(_e(g,(Si(),CQ)))))||he(_e(g,fM))===he((Qy(),dM))?Xs(b,X7e):he(_e(g,fM))===he((Qy(),YI))&&Xs(b,Z7e),zr(Lt(Qr(_e(g,ave))))&&xi(b,(Js(),e0e)),b},V.sc=function(g,b){var x,E,O,P,I;for(ai(b,"Longest path layering",1),this.a=g,I=this.a.b,this.b=Pt(ko,Co,26,I.c.length,12,1),x=0,P=new ge(I);P.a<P.c.c.length;)E=T(pe(P),9),E.k=x,this.b[x]=-1,++x;for(O=new ge(I);O.a<O.c.c.length;)E=T(pe(O),9),W6e(this,E);I.c=Pt(Ln,cn,1,0,4,1),this.a=null,this.b=null,jr(b)};var K7e,X7e,Z7e;Ce(Fz,"LongestPathLayerer",542),ye(541,1,O0,aY),V.qc=function(g){var b;return b=x4(Q7e),zr(Lt(Qr(_e(g,(Si(),CQ)))))||he(_e(g,fM))===he((Qy(),dM))?(Xs(b,J7e),this.d=(Qy(),dM)):he(_e(g,fM))===he((Qy(),YI))&&(Xs(b,e9e),this.d=YI),b},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;if(ai(b,"Network simplex layering",1),this.b=g,ie=T(_e(g,(Si(),cM)),24).a*4,J=this.b.b,J.c.length<1){jr(b);return}for(E=ta(vRt(this,J),0);E.b!=E.d.c;)for(x=T(Fi(E),20),P=ie*No(PO(x.Y())),O=fRt(x),zhe(nO(a1(Av(b9(O),P),this.b),this.d==(Qy(),dM)),VC(b,1)),B=this.b.c,K=new ge(O.a);K.a<K.c.c.length;){for(q=T(pe(K),61);B.c.length<=q.e;)gx(B,B.c.length,new yx(this.b));I=T(q.f,9),fu(I,T(_t(B,q.e),16))}J.c=Pt(Ln,cn,1,0,4,1),this.a=null,this.b=null,this.c=null,jr(b)};var Q7e,J7e,e9e;Ce(Fz,"NetworkSimplexLayerer",541),ye(326,1,{}),Ce(o2,"AbstractPortDistributor",326),ye(558,1,tu,Qh),V.$b=function(g,b){return fkt(this,T(g,7),T(b,7))},Ce(o2,"AbstractPortDistributor/1",558),ye(564,1,{},NLe),Ce(o2,"BarycenterHeuristic",564),ye(272,1,{272:1},qk),V.b=0,V.d=0,V.e=!1;var t9e=Ce(o2,"BarycenterHeuristic/BarycenterState",272);ye(565,1,tu,xd),V.$b=function(g,b){return uOt(this.a,g,b)},Ce(o2,"BarycenterHeuristic/lambda$0$Type",565),ye(192,17,{180:1,192:1,3:1,23:1,17:1},ip),V.rc=function(){switch(this.e){case 0:return new WT;case 1:return new Gf;default:throw new Oi("No implementation is available for the crossing minimizer "+(this.d!=null?this.d:""+this.e))}};var UZ,VZ,n9e=gi(o2,"CrossingMinimizationStrategy",192,ia,jSt),r9e;ye(526,1,O0,Gf),V.qc=function(g){var b;return b=x4(i9e),T(_e(g,(ht(),Ou)),18).kb((Es(),c$))&&Dr(b,(Js(),FZ)),b},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be;for(ai(b,"Interactive crossing minimization",1),ce=0,O=new ge(g.c);O.a<O.c.c.length;){for(E=T(pe(O),16),x=0,K=0,q=new ge(E.a);q.a<q.c.c.length;)for(I=T(pe(q),9),I.i.a>0&&(x+=I.i.a+I.j.a/2,++K),ie=new ge(I.f);ie.a<ie.c.c.length;)J=T(pe(ie),7),J.k=ce++;for(x/=K,be=Pt(tf,Vl,26,E.a.c.length,12,1),P=0,B=new ge(E.a);B.a<B.c.c.length;)I=T(pe(B),9),I.k=P++,be[I.k]=O3t(I,x),I.g==(zn(),va)&&dt(I,(ht(),Y0e),be[I.k]);mh(E.a,new vw(be))}fe=new ah(Pt($j,Iz,26,ce,12,1)),ZIe(fe,_6e(g)),jr(b)};var i9e;Ce(o2,"InteractiveCrossingMinimizer",526),ye(527,1,tu,vw),V.$b=function(g,b){return nOt(this,T(g,9),T(b,9))},Ce(o2,"InteractiveCrossingMinimizer/1",527),ye(525,1,O0,WT),V.qc=function(g){var b;return b=x4(a9e),T(_e(g,(ht(),Ou)),18).kb((Es(),c$))&&Dr(b,(Js(),FZ)),b},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr;if(ai(b,"Layer sweep crossing minimization",1),Wn=T(_e(g,(ht(),AA)),154),Re=g.c.c.length,Re<2){jr(b);return}for(ATt(this,g),E=Bs,qr=T(_e(g,(Si(),cM)),24).a,x=Pt(t9e,eu,671,g.c.c.length,0,2),ce=0,Oe=new ge(g.c);Oe.a<Oe.c.c.length;){for(be=T(pe(Oe),16),be.k=ce,x[ce]=Pt(t9e,{671:1,3:1,5:1,6:1},272,be.a.c.length,0,1),fe=0,Yt=new ge(be.a);Yt.a<Yt.c.c.length;)ct=T(pe(Yt),9),ct.k=fe,x[ce][fe]=new qk(ct),++fe;++ce}for(O=new A6e(x,this.g),P=new NLe(x,O,Wn,this.j),Nt=new ah(this.j),Je=new eC(this.j),rr=0;rr<qr&&E>0;rr++){J=KC(Wn,1)!=0,K=J?0:Re-1,q=this.b[K],Rn=KC(Wn,1)!=0?Nt:Je,qde(q,P,J,!1,!0),I=Bs,B=!0;do{if(Ade(this.b,this.k),Dn=I,I=0,I+=mde(this.f,q,K),J){for(je=1;je<Re;je++)ie=this.b[je],lde(Rn,q,(gs(),Zu)),qde(ie,P,!0,!B,!1),I+=mde(this.f,ie,je),this.d[je]||this.c[je-1]?I+=cNe(this.e,q,ie):I+=uNe(this.i,q,ie),q=ie;K=Re-1}else{for(je=Re-2;je>=0;je--)ie=this.b[je],lde(Rn,q,(gs(),Sc)),qde(ie,P,!1,!B,!1),I+=mde(this.f,ie,je),this.c[je]||this.d[je+1]?I+=cNe(this.e,ie,q):I+=uNe(this.i,ie,q),q=ie;K=0}B=!1,J=!J}while(I<Dn&&I>0);(I<E||Dn<E)&&(I<=Dn?(Ade(this.b,this.a),E=I):(Ade(this.k,this.a),E=Dn))}for(Be=new pa(g.c,0);Be.b<Be.d.Y();)for(be=(Jn(Be.b<Be.d.Y()),T(Be.d.sb(Be.c=Be.b++),16)),ln=this.a[Be.b-1],Qt=new pa(be.a,0);Qt.b<Qt.d.Y();)Jn(Qt.b<Qt.d.Y()),Qt.d.sb(Qt.c=Qt.b++),w9(Qt,ln[Qt.b-1]);this.j=null,this.a=null,this.b=null,this.k=null,this.i=null,this.e=null,this.c=null,this.d=null,zfe(this.g),jr(b)};var a9e;Ce(o2,"LayerSweepCrossingMinimizer",525),ye(327,326,{},eC),V.Hc=function(g,b,x){var E,O,P,I,B,q,K,J,ie,ce,fe,be;if(ce=this.a,Ns(T(_e(g,(Xt(),hr)),28)))switch(x.e){case 1:{for(O=0,B=0,ie=new ge(g.f);ie.a<ie.c.c.length;)K=T(pe(ie),7),K.b.c.length!=0&&(++O,K.g==(Ut(),Hn)&&++B);for(q=b+B,be=b+O,J=Yv(g,(gs(),Sc)).mb();J.G();)K=T(J.H(),7),K.g==(Ut(),Hn)?(ce[K.k]=q,--q):(ce[K.k]=be,--be);return O}case 2:{for(fe=0,J=Yv(g,(gs(),Zu)).mb();J.G();)K=T(J.H(),7),++fe,ce[K.k]=b+fe;return fe}default:throw new Cd}else{for(I=4,P=0,ie=Yv(g,x).mb();ie.G();)K=T(ie.H(),7),E=q6e(x,K.g),I=I<E-1?I:E-1,P=P>E?P:E;if(P>I){for(J=Yv(g,x).mb();J.G();)K=T(J.H(),7),ce[K.k]=b+q6e(x,K.g)-I;return P-I}return 0}},Ce(o2,"LayerTotalPortDistributor",327),ye(274,326,{},ah),V.Hc=function(g,b,x){var E,O,P,I,B,q,K,J,ie,ce,fe;if(ie=this.a,Ns(T(_e(g,(Xt(),hr)),28)))switch(x.e){case 1:{for(O=0,P=0,J=new ge(g.f);J.a<J.c.c.length;)q=T(pe(J),7),q.b.c.length!=0&&(++O,q.g==(Ut(),Hn)&&++P);for(E=1/(O+1),I=b+P*E,fe=b+1-E,K=Yv(g,(gs(),Sc)).mb();K.G();)q=T(K.H(),7),q.g==(Ut(),Hn)?(ie[q.k]=I,I-=E):(ie[q.k]=fe,fe-=E);break}case 2:{for(B=0,J=new ge(g.f);J.a<J.c.c.length;)q=T(pe(J),7),q.e.c.length==0||++B;for(E=1/(B+1),ce=b+E,K=Yv(g,(gs(),Zu)).mb();K.G();)q=T(K.H(),7),ie[q.k]=ce,ce+=E;break}default:throw new Oi(Rge)}else for(K=Yv(g,x).mb();K.G();)q=T(K.H(),7),ie[q.k]=b+xAt(x,q.g);return 1},Ce(o2,"NodeRelativePortDistributor",274),ye(566,1,{},A6e),Ce(WNe,"ForsterConstraintResolver",566),ye(102,1,{102:1},EPe,VFe),V.w=function(){var g,b;for(b=new Tv,b.a+="[",g=0;g<this.d.length;g++)pn(b,LPe(this.d[g])),Rf(this.g,this.d[0]).a!=null&&pn(pn((b.a+="<",b),cO(Lt(Rf(this.g,this.d[0]).a))),">"),g<this.d.length-1&&(b.a+=", ");return b.a+="]",b.a},V.a=0,V.c=0,V.f=0;var o9e=Ce(WNe,"ForsterConstraintResolver/ConstraintGroup",102);ye(331,1,{}),Ce(mI,"AbstractCrossingsCounter",331),ye(568,331,{},Ht),Ce(mI,"BarthJuengerMutzelCrossingsCounter",568),ye(567,331,{},$n),Ce(mI,"HyperedgeCrossingsCounter",567),ye(197,1,{197:1,23:1},xY),V.F=function(g){return wkt(this,T(g,197))},V.b=0,V.c=0,V.e=0,V.f=0;var t4t=Ce(mI,"HyperedgeCrossingsCounter/Hyperedge",197);ye(156,1,{156:1,23:1},z9),V.F=function(g){return gAt(this,T(g,156))},V.b=0,V.c=0;var s9e=Ce(mI,"HyperedgeCrossingsCounter/HyperedgeCorner",156);ye(242,17,{242:1,3:1,23:1,17:1},OO);var BI,HI,n4t=gi(mI,"HyperedgeCrossingsCounter/HyperedgeCorner/Type",242,ia,sEt);ye(545,1,O0,ac),V.qc=function(g){return T(_e(g,(ht(),Ou)),18).kb((Es(),I0))?u9e:null},V.sc=function(g,b){var x,E;for(ai(b,"Interactive node placement",1),this.a=T(_e(g,(ht(),Qx)),134),E=new ge(g.c);E.a<E.c.c.length;)x=T(pe(E),16),DAt(this,x);jr(b)};var u9e;Ce(yI,"InteractiveNodePlacer",545),ye(546,1,O0,Kg),V.qc=function(g){return T(_e(g,(ht(),Ou)),18).kb((Es(),I0))?l9e:null},V.sc=function(g,b){ai(b,"Linear segments node placement",1),this.b=T(_e(g,(ht(),Qx)),134),ITt(this,g),NRt(this,g),d3t(this,g),STt(this),this.a=null,this.b=null,jr(b)};var l9e,lj,cj;Ce(yI,"LinearSegmentsNodePlacer",546),ye(111,1,{111:1,23:1},ky),V.F=function(g){return W7(this,T(g,111))},V.t=function(g){var b;return Zt(g,111)?(b=T(g,111),this.b==b.b):!1},V.v=function(){return this.b},V.w=function(){return"ls"+t2(this.f)},V.a=0,V.b=0,V.c=-1,V.d=-1,V.i=0;var c9e=Ce(yI,"LinearSegmentsNodePlacer/LinearSegment",111);ye(548,1,O0,Cv),V.qc=function(g){return T(_e(g,(ht(),Ou)),18).kb((Es(),I0))?f9e:null},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr,Ma,Ua;for(qr=T(_e(g,(ht(),Qx)),134),ct=(hi(),new Rt),Je=0,O=new ng,q=new ge(g.c);q.a<q.c.c.length;)for(I=T(pe(q),16),Dn=null,Rn=null,fe=new ge(I.a);fe.a<fe.c.c.length;)ce=T(pe(fe),9),++Je,Be=ux(new Ed,O),Be.f=ce,Lf(ct.d,ce,Be),ce.e.d=SC(ce.e.d),Rn&&(je=new lu,je.f=0,je.a=No(zt(Dn.e.d+Dn.j.b+Dn.e.a+hx(qr,T(Rn.f,9),ce))),je.c=Rn,je.d=Be,Gw(Rn.g,je),Gw(Be.c,je)),Dn=ce,Rn=Be;for(K=new ge(g.c);K.a<K.c.c.length;)for(I=T(pe(K),16),fe=new ge(I.a);fe.a<fe.c.c.length;)for(ce=T(pe(fe),9),Nt=new ge(ce.f);Nt.a<Nt.c.c.length;)Qt=T(pe(Nt),7),Ua=Qt.i.b+Qt.a.b,Ua!=Math.floor(Ua)&&(Yt=Ua-FEt(VCt(Math.round(Ua))),Qt.i.b-=Yt);for(B=new ge(g.c);B.a<B.c.c.length;)for(I=T(pe(B),16),fe=new ge(I.a);fe.a<fe.c.c.length;)for(ce=T(pe(fe),9),ie=Jr(Ca(ce));Br(ie);)J=T(Ar(ie),12),!Sx(J)&&J.d.f.d!=I&&(rr=J.c.f.e.d+J.c.i.b+J.c.a.b,Ma=J.d.f.e.d+J.d.i.b+J.d.a.b,x=Ma-rr,ln=No(x),E=ux(new Ed,O),be=new lu,be.f=HIe(J),be.a=ln>0?ln:0,be.c=E,be.d=T(Ki(ct,J.c.f),61),Gw(be.c.g,be),Gw(be.d.c,be),Wn=new lu,Wn.f=HIe(J),Wn.a=ln<0?-ln:0,Wn.c=E,Wn.d=T(Ki(ct,J.d.f),61),Gw(Wn.c.g,Wn),Gw(Wn.d.c,Wn));for(P=T(_e(g,(Si(),cM)),24).a*No(Math.sqrt(Je)),zhe(nO(Av(b9(O),P),!1),VC(b,1)),Re=new ge(O.a);Re.a<Re.c.c.length;)Oe=T(pe(Re),61),Oe.f!=null&&(ce=T(Oe.f,9),ce.i.b=Oe.e+ce.e.d)};var f9e;Ce(yI,"NetworkSimplexPlacer",548),ye(141,17,{180:1,141:1,3:1,23:1,17:1},rx),V.rc=function(){switch(this.e){case 0:return new _d;case 1:return new ac;case 2:return new Kg;case 3:return new fD;case 4:return new Cv;default:throw new Oi("No implementation is available for the node placer "+(this.d!=null?this.d:""+this.e))}};var WZ,_0e,x0e,S0e,E0e,d9e=gi(yI,"NodePlacementStrategy",141,ia,fCt),h9e;ye(544,1,O0,_d),V.qc=function(g){return T(_e(g,(ht(),Ou)),18).kb((Es(),I0))?g9e:null},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;for(ai(b,"Simple node placement",1),ie=T(_e(g,(ht(),Qx)),134),B=0,P=new ge(g.c);P.a<P.c.c.length;){for(E=T(pe(P),16),I=E.c,I.b=0,x=null,K=new ge(E.a);K.a<K.c.c.length;)q=T(pe(K),9),x&&(I.b+=bD(ie,q.g,x.g)*ie.d),I.b+=q.e.d+q.j.b+q.e.a,x=q;B=rn(B,I.b)}for(O=new ge(g.c);O.a<O.c.c.length;)for(E=T(pe(O),16),I=E.c,J=(B-I.b)/2,x=null,K=new ge(E.a);K.a<K.c.c.length;)q=T(pe(K),9),x&&(J+=bD(ie,q.g,x.g)*ie.d),J+=q.e.d,q.i.b=J,J+=q.j.b+q.e.a,x=q;jr(b)};var g9e;Ce(yI,"SimpleNodePlacer",544),ye(81,1,{81:1},Mx),V.w=function(){var g;return g="",this.c==(lp(),d2)?g+=U4:this.c==tm&&(g+=H4),this.k==(mg(),lb)?g+="DOWN":this.k==Eh?g+="UP":g+="BALANCED",g},Ce(A0,"BKAlignedLayout",81),ye(248,17,{248:1,3:1,23:1,17:1},bC);var tm,d2,r4t=gi(A0,"BKAlignedLayout/HDirection",248,ia,uEt);ye(247,17,{247:1,3:1,23:1,17:1},n4);var lb,Eh,i4t=gi(A0,"BKAlignedLayout/VDirection",247,ia,lEt);ye(596,1,{},lD),Ce(A0,"BKAligner",596),ye(599,1,{},XIe),Ce(A0,"BKCompactor",599),ye(279,1,{279:1},xf),V.a=0,Ce(A0,"BKCompactor/ClassEdge",279),ye(200,1,{200:1},Zm),V.a=0,V.b=0,Ce(A0,"BKCompactor/ClassNode",200),ye(547,1,O0,fD),V.qc=function(g){return T(_e(g,(ht(),Ou)),18).kb((Es(),I0))?p9e:null},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je;switch(ai(b,"Brandes & Koepf node placement",1),this.b=g,this.d=FRt(g),this.a=zr(Lt(Qr(_e(g,(Si(),J0e))))),this.e=he(_e(g,_j))===he((QD(),aQ)),k3t(this,g),fe=(wl(4,Dx),new yc(4)),T(_e(g,_j),124).e){case 3:be=new Mx(g,this.d.d,(mg(),lb),(lp(),tm)),fe.c[fe.c.length]=be;break;case 1:Oe=new Mx(g,this.d.d,(mg(),Eh),(lp(),tm)),fe.c[fe.c.length]=Oe;break;case 4:Be=new Mx(g,this.d.d,(mg(),lb),(lp(),d2)),fe.c[fe.c.length]=Be;break;case 2:Je=new Mx(g,this.d.d,(mg(),Eh),(lp(),d2)),fe.c[fe.c.length]=Je;break;default:be=new Mx(g,this.d.d,(mg(),lb),(lp(),tm)),Oe=new Mx(g,this.d.d,Eh,tm),Be=new Mx(g,this.d.d,lb,d2),Je=new Mx(g,this.d.d,Eh,d2),fe.c[fe.c.length]=Be,fe.c[fe.c.length]=Je,fe.c[fe.c.length]=be,fe.c[fe.c.length]=Oe}for(x=new lD(g,this.d),P=new ge(fe);P.a<P.c.c.length;)E=T(pe(P),81),vTt(x,E,this.c),WRt(E);for(J=new XIe(g,this.d),I=new ge(fe);I.a<I.c.c.length;)E=T(pe(I),81),eTt(J,E);if(this.a)for(B=new ge(fe);B.a<B.c.c.length;)E=T(pe(B),81),Ww(),E+""+pX(E);if(K=null,this.e&&(q=hTt(this,fe,this.d.d),xFe(this,g,q)&&(K=q)),!K)for(B=new ge(fe);B.a<B.c.c.length;)E=T(pe(B),81),xFe(this,g,E)&&(!K||pX(K)>pX(E))&&(K=E);for(!K&&(K=(Ra(0,fe.c.length),T(fe.c[0],81))),ce=new ge(g.c);ce.a<ce.c.c.length;)for(ie=T(pe(ce),16),je=new ge(ie.a);je.a<je.c.c.length;)Re=T(pe(je),9),Re.i.b=Lt(K.n[Re.k])+Lt(K.d[Re.k]);for(this.a&&(Ww(),""+B6e(K),""+EAt(K)),O=new ge(fe);O.a<O.c.c.length;)E=T(pe(O),81),E.f=null,E.b=null,E.a=null,E.d=null,E.i=null,E.g=null,E.n=null;n$t(this.d),this.c.a.Q(),jr(b)},V.a=!1,V.e=!1;var p9e;Ce(A0,"BKNodePlacer",547),ye(194,17,{194:1,3:1,23:1,17:1},AO);var GZ,qZ,v9e=gi(A0,"CompactionStrategy",194,ia,cEt),m9e;ye(597,1,{},xu),V.d=0,Ce(A0,"NeighborhoodInformation",597),ye(598,1,tu,GE),V.$b=function(g,b){return t$t(this,T(g,27),T(b,27))},Ce(A0,"NeighborhoodInformation/NeighborComparator",598),ye(334,1,{}),Ce(A0,"ThresholdStrategy",334),ye(602,334,{},qe),V.Ic=function(g,b,x){return this.a.k==(mg(),Eh)?Gl:pu},V.Jc=function(){},Ce(A0,"ThresholdStrategy/NullThresholdStrategy",602),ye(249,1,{249:1},cD),V.c=!1,V.d=!1,Ce(A0,"ThresholdStrategy/Postprocessable",249),ye(603,334,{},n1),V.Ic=function(g,b,x){var E,O,P;return O=b==x,E=this.a.a[x.k]==b,O||E?(P=g,this.a.c==(lp(),d2)?(O&&(P=xX(this,b,!0)),(P==1/0||P==-1/0)&&E&&(P=xX(this,x,!1))):(O&&(P=xX(this,b,!0)),(P==1/0||P==-1/0)&&E&&(P=xX(this,x,!1))),P):g},V.Jc=function(){for(var g,b,x,E;this.d.b!=0;)E=T(JSt(this.d),249),x=hFe(this,E),x.a&&(g=x.a,this.c.a[g.c.f.d.k]!==this.c.a[g.d.f.d.k]&&(b=U6e(this,E),b||Rr(this.e,E)));for(;this.e.a.c.length!=0;)U6e(this,T(HDe(this.e),249))},Ce(A0,"ThresholdStrategy/SimpleThresholdStrategy",603),ye(423,1,{180:1},Ev),V.rc=function(){switch(this.a.e){case 1:return new dD;case 3:return new Cf;default:return new Xg}},Ce(Ix,"EdgeRouterFactory",423),ye(538,1,O0,Xg),V.qc=function(g){var b,x;return x=T(_e(g,(ht(),Ou)),18),b=new no,x.kb((Es(),gj))&&(Xs(b,_9e),Xs(b,C0e)),(x.kb(c$)||zr(Lt(Qr(_e(g,(Si(),qI))))))&&(Xs(b,C0e),x.kb(f$)&&Xs(b,S9e)),x.kb(I0)&&Xs(b,w9e),x.kb(pj)&&Xs(b,E9e),x.kb(uQ)&&Xs(b,x9e),x.kb(nM)&&Xs(b,y9e),x.kb(rM)&&Xs(b,b9e),b},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be;ai(b,"Orthogonal edge routing",1),ce=T(_e(g,(ht(),Qx)),134),zr(Lt(Qr(_e(g,(Xt(),SI))))),J=new sX(0,ce.a),be=0,P=new pa(g.c,0),I=null,B=null;do q=P.b<P.d.Y()?(Jn(P.b<P.d.Y()),T(P.d.sb(P.c=P.b++),16)):null,K=q?q.a:null,I&&(ege(I,be),be+=I.c.a),fe=I?be+ce.b:be,ie=qhe(J,g,B,K,fe),E=!I||Qe(B,(pz(),fj)),O=!q||Qe(K,(pz(),fj)),ie>0?(x=ce.b+(ie-1)*ce.a,q&&(x+=ce.b),x<ce.f&&!E&&!O&&(x=ce.f),be+=x):!E&&!O&&(be+=ce.f),I=q,B=K;while(q);g.e.a=be,jr(b)};var y9e,b9e,w9e,_9e,x9e,C0e,S9e,E9e;Ce(Ix,"OrthogonalEdgeRouter",538),ye(277,1,{},sX),V.a=0,V.c=0,Ce(Ix,"OrthogonalRoutingGenerator",277),ye(118,1,{118:1},ez),V.w=function(){return this.a+"->"+this.b},V.c=0,Ce(Ix,"OrthogonalRoutingGenerator/Dependency",118),ye(80,1,{80:1,23:1},CDe),V.F=function(g){return LT(this,T(g,80))},V.t=function(g){var b;return Zt(g,80)?(b=T(g,80),this.d==b.d):!1},V.v=function(){return this.d},V.w=function(){var g,b,x,E;for(g=new Ly("{"),E=new ge(this.g);E.a<E.c.c.length;)x=T(pe(E),7),b=Y9(x.f),b==null&&(b="n"+p9(x.f)),g.a+=""+b,E.a<E.c.c.length&&(g.a+=",");return g.a+="}",g.a},V.a=NaN,V.c=0,V.d=0,V.f=0,V.i=0,V.k=NaN,Ce(Ix,"OrthogonalRoutingGenerator/HyperNode",80),ye(580,1,{},Um),V.Kc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;for(ie=b+g.i*this.a.c,B=new ge(g.g);B.a<B.c.c.length;)for(I=T(pe(B),7),q=da(it(nt(Ci,1),Ei,10,0,[I.f.i,I.i,I.a])).a,E=new ge(I.e);E.a<E.c.c.length;)x=T(pe(E),12),K=x.d,J=da(it(nt(Ci,1),Ei,10,0,[K.f.i,K.i,K.a])).a,(q-J<=0?0-(q-J):q-J)>ab&&(O=new Gn(q,ie),Vi(x.a,O),oI(this.a,x,g,O,!1),P=new Gn(J,ie),Vi(x.a,P),oI(this.a,x,g,P,!1))},V.Lc=function(g){return g.f.i.a+g.i.a+g.a.a},V.Mc=function(){return Ut(),ur},V.Nc=function(){return Ut(),Hn},Ce(Ix,"OrthogonalRoutingGenerator/NorthToSouthRoutingStrategy",580),ye(581,1,{},a0),V.Kc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;for(ie=b-g.i*this.a.c,B=new ge(g.g);B.a<B.c.c.length;)for(I=T(pe(B),7),q=da(it(nt(Ci,1),Ei,10,0,[I.f.i,I.i,I.a])).a,E=new ge(I.e);E.a<E.c.c.length;)x=T(pe(E),12),K=x.d,J=da(it(nt(Ci,1),Ei,10,0,[K.f.i,K.i,K.a])).a,(q-J<=0?0-(q-J):q-J)>ab&&(O=new Gn(q,ie),Vi(x.a,O),oI(this.a,x,g,O,!1),P=new Gn(J,ie),Vi(x.a,P),oI(this.a,x,g,P,!1))},V.Lc=function(g){return g.f.i.a+g.i.a+g.a.a},V.Mc=function(){return Ut(),Hn},V.Nc=function(){return Ut(),ur},Ce(Ix,"OrthogonalRoutingGenerator/SouthToNorthRoutingStrategy",581),ye(579,1,{},qE),V.Kc=function(g,b){var x,E,O,P,I,B,q,K,J,ie;for(ie=b+g.i*this.a.c,B=new ge(g.g);B.a<B.c.c.length;)for(I=T(pe(B),7),q=da(it(nt(Ci,1),Ei,10,0,[I.f.i,I.i,I.a])).b,E=new ge(I.e);E.a<E.c.c.length;)x=T(pe(E),12),K=x.d,J=da(it(nt(Ci,1),Ei,10,0,[K.f.i,K.i,K.a])).b,(q-J<=0?0-(q-J):q-J)>ab&&(O=new Gn(ie,q),Vi(x.a,O),oI(this.a,x,g,O,!0),P=new Gn(ie,J),Vi(x.a,P),oI(this.a,x,g,P,!0))},V.Lc=function(g){return g.f.i.b+g.i.b+g.a.b},V.Mc=function(){return Ut(),yn},V.Nc=function(){return Ut(),kn},Ce(Ix,"OrthogonalRoutingGenerator/WestToEastRoutingStrategy",579),ye(535,1,O0,dD),V.qc=function(g){var b,x;return x=T(_e(g,(ht(),Ou)),18),b=new no,(x.kb((Es(),c$))||zr(Lt(Qr(_e(g,(Si(),qI))))))&&(Xs(b,k9e),x.kb(f$)&&Xs(b,O9e)),x.kb(nM)&&Xs(b,C9e),x.kb(rM)&&Xs(b,$9e),b},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt;for(ai(b,"Polyline edge routing",1),ie=T(_e(g,(ht(),xc)),15).a,x=T(_e(g,(Si(),N1)),15).a,Re=0,g.c.c.length!=0&&(je=V6e(T(_t(g.c,0),16)),Re=.4*x*je),P=new pa(g.c,0);P.b<P.d.Y();){for(O=(Jn(P.b<P.d.Y()),T(P.d.sb(P.c=P.b++),16)),E=Qe(O,fj),E&&Re>0&&(Re-=ie),ege(O,Re),q=0,J=new ge(O.a);J.a<J.c.c.length;){for(K=T(pe(J),9),B=0,fe=Jr(Ca(K));Br(fe);)ce=T(Ar(fe),12),be=vc(ce.c).b,Oe=vc(ce.d).b,O==ce.d.f.d&&(Be=ce.c,Je=ce.d,ct=(da(it(nt(Ci,1),Ei,10,0,[Be.f.i,Be.i,Be.a])).b+da(it(nt(Ci,1),Ei,10,0,[Je.f.i,Je.i,Je.a])).b)/2,Be.g==(Ut(),yn)?Yt=new Gn(Re+Be.f.d.c.a+.4*x*(be-Oe<=0?0-(be-Oe):be-Oe),ct):Yt=new Gn(Re-.4*x*(be-Oe<=0?0-(be-Oe):be-Oe),ct),AC(ce.a,0,Yt),ce.c.g==kn&&(be=0,Oe=0)),B=B>(Oe-be<=0?0-(Oe-be):Oe-be)?B:Oe-be<=0?0-(Oe-be):Oe-be;switch(K.g.e){case 0:case 4:case 1:case 3:KRt(this,K,Re)}q=q>B?q:B}P.b<P.d.Y()&&(je=V6e((Jn(P.b<P.d.Y()),T(P.d.sb(P.c=P.b++),16))),q=q>je?q:je,Jn(P.b>0),P.a.sb(P.c=--P.b)),I=.4*x*q,!E&&P.b<P.d.Y()&&(I+=ie),Re+=O.c.a+I}this.a.a.Q(),g.e.a=Re,jr(b)};var C9e,$9e,k9e,O9e,fj;Ce(Ix,"PolylineEdgeRouter",535),ye(536,1,bg,wd),V.D=function(g){return bDe(T(g,9))},Ce(Ix,"PolylineEdgeRouter/1",536),ye(75,1,{75:1},iIe),V.w=function(){var g,b,x,E;for(x=new Tv,this.e&&pn(pn(x,v4(this.e)),": "),b=ta(dK(this),0);b.b!=b.d.c;)g=T(Fi(b),7),pn(pn(C4(pn(x,(E=xLe(g),E==null?"p_"+g.k:"p_"+E)),32),v4(g.g))," / ");return Xce(x,Dv(x.a)-2-1)},V.j=0,V.k=0,Ce(Fx,"ConnectedSelfLoopComponent",75),ye(60,17,{60:1,3:1,23:1,17:1},Vv),V.c=0;var A9e,R9e,T9e,cb,h2,L0,g2,nm,vp,D0,fb,db,M9e,P9e,L9e,D9e,I9e,F9e,N9e,z9e,j9e,B9e,H9e,U9e,V9e,Yx,u$,p2,v2,tM=gi(Fx,"LoopSide",60,ia,Nde);ye(203,1,{},CIe,Ghe,ehe),V.w=function(){return this.b.w()},V.c=0,V.d=!1,V.e=!1,V.f=!1,V.i=0,V.j=0,Ce(Fx,"NubSpline",203),ye(92,1,{92:1},fK,oFe),Ce(Fx,"NubSpline/PolarCP",92),ye(281,203,{},sK),Ce(Fx,"NubsSelfLoop",281),ye(112,1,{},y6e,UIe,ID,oX,uX),V.a=_ge,V.b=k0,V.c=_ge,V.d=k0,Ce(Fx,"Rectangle",112),ye(537,1,O0,Cf),V.qc=function(g){var b,x;return b=new no,x=T(_e(g,(ht(),Ou)),18),x.kb((Es(),pj))&&Xs(b,K9e),x.kb(nM)&&Xs(b,W9e),(x.kb(c$)||zr(Lt(Qr(_e(g,(Si(),qI))))))&&(Xs(b,q9e),x.kb(f$)&&Xs(b,Y9e)),x.kb(rM)&&Xs(b,G9e),b},V.sc=function(g,b){var x,E,O,P,I,B,q,K,J,ie,ce,fe,be,Oe,Re,je,Be,Je,ct,Yt,Qt,Nt,ln,Rn,Dn,Wn,rr,qr,Ma,Ua,Ec,nf;ai(b,"Spline edge routing",1),ct=T(_e(g,(ht(),xc)),15).a,this.a=ct*T(_e(g,(Si(),N1)),15).a,nf=0,Re=new ge(g.c),je=null,Ua=(hi(),new Rt),Ma=new Pe,q=!0,K=!0;do{for(Nt=Re.a<Re.c.c.length?T(pe(Re),16):null,ce=new Pe,I=new Pe,Be=new Bl,Rn=new Bl,rr=new Bl,dTt(new Po(je,Nt),new Po(Be,Rn),I,Ua,Ma,rr),CX(Be,Rn,(bx(),D1),!0,I,ce),CX(Be,Rn,D1,!1,I,ce),CX(Be,Rn,l$,!0,I,ce),CX(Be,Rn,l$,!1,I,ce),CRt(I,Be,Rn,ce),qr=new pa(ce,0);qr.b<qr.d.Y();)for(J=(Jn(qr.b<qr.d.Y()),T(qr.d.sb(qr.c=qr.b++),77)),Ec=new pa(ce,qr.b);Ec.b<Ec.d.Y();)ie=(Jn(Ec.b<Ec.d.Y()),T(Ec.d.sb(Ec.c=Ec.b++),77)),aTt(J,ie);if(RTt(ce,T(_e(g,AA),154)),R3t(ce),ln=nf+10,Nt){for(K=!Nt||Qe(Nt.a,(pz(),fj)),Je=-1,O=new ge(ce);O.a<O.c.c.length;)x=T(pe(O),77),Je=Is(Je,x.n);++Je,Je>0?(fe=(Je+1)*this.a,fe<ct&&!q&&!K&&(fe=ct),ln+=fe):q||K||wIe(je)||wIe(Nt)||(ln+=ct),ege(Nt,ln)}for(Wn=(Qt=new wi(rr.a).a.bb().mb(),new _i(Qt));Wn.a.G();)for(Dn=(B=T(Wn.a.H(),21),T(B.yb(),12)),Yt=Dn.c.f.i,Kw(Dn.a,Yt),Oe=new ge(Dn.b);Oe.a<Oe.c.c.length;)be=T(pe(Oe),33),ra(be.i,Yt);for(P=new ge(ce);P.a<P.c.c.length;)x=T(pe(P),77),x.f?HOt(x,nf):IRt(this,x,nf,ln);if(Nt)nf=ln+Nt.c.a+10;else{for(Je=-1,O=new ge(ce);O.a<O.c.c.length;)x=T(pe(O),77),Je=Is(Je,x.n);Je>=0&&(nf+=(Je+2)*this.a)}je=Nt,q=K}while(Nt);for(E=new ge(Ma);E.a<E.c.c.length;)x=T(pe(E),12),CTt(x,Ua);g.e.a=nf,jr(b)},V.a=3;var W9e,G9e,q9e,Y9e,K9e;Ce(Fx,"SplineEdgeRouter",537),ye(117,1,{117:1},K9),V.w=function(){return this.a+" ->("+this.c+") "+this.b},V.c=0,Ce(Fx,"SplineEdgeRouter/Dependency",117),ye(223,17,{223:1,3:1,23:1,17:1},r4);var D1,l$,a4t=gi(Fx,"SplineEdgeRouter/SideToProcess",223,ia,oEt);ye(77,1,{77:1,23:1},E6e,Jhe),V.F=function(g){return JL(this,T(g,77))},V.a=0,V.b=0,V.e=0,V.f=!1,V.i=0,V.k=0,V.n=0,V.p=0,Ce(Fx,"SplineEdgeRouter/SplineHyperEdge",77),ye(123,17,{123:1,3:1,23:1,17:1},v1);var YZ,KZ,XZ,ZZ,QZ,JZ,eQ=gi(M1,"ContentAlignment",123,ia,xCt),X9e;ye(218,17,{218:1,3:1,23:1,17:1},wC);var dj,$0e,UI,o4t=gi(M1,"EdgeConstraint",218,ia,kEt);ye(115,17,{115:1,3:1,23:1,17:1},Vy);var tQ,hj,nQ,rQ,iQ,Z9e=gi(M1,"EdgeLabelSideSelection",115,ia,dCt),Q9e;ye(124,17,{124:1,3:1,23:1,17:1},Wy);var aQ,k0e,O0e,oQ,A0e,R0e,J9e=gi(M1,"FixedAlignment",124,ia,SCt),eze;ye(113,17,{113:1,3:1,23:1,17:1},w0);var nM,sQ,rM,I0,gj,uQ,c$,f$,T0e,pj,M0e=gi(M1,"GraphProperties",113,ia,r$t);ye(110,17,{110:1,3:1,23:1,17:1},BC),V.a=!1,V.b=!1,V.c=!1;var lQ,P0e,L0e,D0e,I0e,cQ,F0e,N0e,tze=gi(M1,"GreedySwitchType",110,ia,BCt),nze;ye(140,17,{140:1,3:1,23:1,17:1},_C);var $A,vj,d$,s4t=gi(M1,"InLayerConstraint",140,ia,$Et);ye(174,17,{174:1,3:1,23:1,17:1},RO);var fQ,z0e,rze=gi(M1,"InteractiveReferencePoint",174,ia,fEt),ize,kA,j0e,B0e,dQ,m2,VI,F0,iM,mj,H0e,aze,aM,U0e,V0e,hQ,W0e,h$,yj,vu,G0e,Ou,gQ,oze,I1,Kx,OA,_g,_c,Yl,Xx,oM,lr,q0e,Y0e,K0e,pQ,Zx,bj,rm,hb,vQ,Ch,X0e,AA,Z0e,F1,xc,Qx,sze,WI,mQ,Q0e,yQ,sM;ye(85,17,{85:1,3:1,23:1,17:1},ix);var GI,y2,uM,gb,g$,uze=gi(M1,"LayerConstraint",85,ia,hCt),lze;ye(219,17,{219:1,3:1,23:1,17:1},xC);var Sc,Zu,bQ,u4t=gi(M1,"PortType",219,ia,OEt),wQ,_Q,xQ,SQ,wj,EQ,J0e,CQ,RA,cze,N1,qI,_j,$Q,kQ,Us,eve,tve,nve,OQ,AQ,xj,rve,RQ,lM,Sj,TQ,ive,ave,MQ,cM,fM;ye(153,17,{153:1,3:1,23:1,17:1},TO);var ove,sve,PQ,fze=gi(M1,"SelfLoopPlacement",153,ia,AEt),dze;ye(134,1,{134:1},JFe),V.a=0,V.b=0,V.c=0,V.d=0,V.e=0,V.f=0,Ce(M1,"Spacings",134),ye(172,17,{172:1,3:1,23:1,17:1},MO);var dM,YI,Ej,hze=gi(M1,"WideNodesStrategy",172,ia,REt),gze;ye(644,1,{}),Ce(Mz,"OutputStream",644),ye(645,644,{}),Ce(Mz,"FilterOutputStream",645),ye(291,645,{},qh),Ce(Mz,"PrintStream",291),ye(255,1,{}),V.w=function(){return this.a},Ce(gu,"AbstractStringBuilder",255),ye(621,95,k1,Ry),Ce(gu,"ArrayIndexOutOfBoundsException",621),ye(290,72,k1,G_,K_),Ce(gu,"ArrayStoreException",290),ye(252,46,age),Ce(gu,"Error",252),ye(84,252,age,hn,EK),Ce(gu,"AssertionError",84),QNe={3:1,349:1,23:1};var ro,Qu,l4t=Ce(gu,"Boolean",349);JNe={3:1,23:1,184:1,231:1};var KI=Ce(gu,"Double",184);ye(15,231,{3:1,23:1,15:1,231:1},N_,li),V.F=function(g){return Zce(this,T(g,15))},V.t=function(g){return Zt(g,15)&&T(g,15).a==this.a},V.v=function(){return No(this.a)},V.w=function(){return YT(this.a)},V.a=0;var c4t=Ce(gu,"Float",15);ye(101,72,k1,kv,Vc),Ce(gu,"IllegalStateException",101);var uve,pze;ye(608,72,k1,ep),Ce(gu,"NegativeArraySizeException",608),ye(76,72,{3:1,54:1,76:1,46:1},c0,o1),Ce(gu,"NullPointerException",76),ye(130,29,{3:1,54:1,29:1,130:1,46:1},Yf,kw),Ce(gu,"NumberFormatException",130),ye(146,1,{3:1,146:1},lK),V.t=function(g){var b;return Zt(g,146)?(b=T(g,146),this.c==b.c&&ed(this.d,b.d)&&ed(this.a,b.a)&&ed(this.b,b.b)):!1},V.v=function(){return NK(it(nt(Ln,1),cn,1,4,[yr(this.c),this.a,this.d,this.b]))},V.w=function(){return this.a+"."+this.d+"("+(this.b!=null?this.b:"Unknown Source")+(this.c>=0?":"+this.c:"")+")"},V.c=0;var vze=Ce(gu,"StackTraceElement",146);ye(98,255,{345:1},Tv,oC,Ly),Ce(gu,"StringBuilder",98);var mze,lve;ye(45,72,{3:1,54:1,46:1,45:1},ya,oh),Ce(gu,"UnsupportedOperationException",45),ye(213,638,cA),V.Q=function(){yg(this)},V.R=function(g){return ZO(this,g)},V.ab=function(g){return qDe(this,g,this.e)||qDe(this,g,this.d)},V.bb=function(){return new qf(this)},V.cb=function(g){return Ki(this,g)},V.db=function(g,b){return ca(this,g,b)},V.eb=function(g){return DC(this,g)},V.Y=function(){return pC(this)},Ce(_r,"AbstractHashMap",213),ye(120,641,xl,qf),V.Q=function(){this.a.Q()},V.kb=function(g){return rde(this,g)},V.mb=function(){return new GC(this.a)},V.nb=function(g){var b;return rde(this,g)?(b=T(g,21).yb(),this.a.eb(b),!0):!1},V.Y=function(){return this.a.Y()},Ce(_r,"AbstractHashMap/EntrySet",120),ye(148,1,ss,GC),V.H=function(){return T4(this)},V.G=function(){return this.b},V.I=function(){hde(this)},V.b=!1,Ce(_r,"AbstractHashMap/EntrySetIterator",148),ye(162,1,ss,o0),V.G=function(){return this.b<this.d.Y()},V.H=function(){return Jn(this.G()),this.d.sb(this.c=this.b++)},V.I=function(){up(this)},V.b=0,V.c=-1,Ce(_r,"AbstractList/IteratorImpl",162),ye(43,162,dA,pa),V.J=function(g){Nv(this,g)},V.K=function(){return this.b>0},V.L=function(){return this.b},V.M=function(){return oPe(this)},V.N=function(){return this.b-1},V.O=function(g){w9(this,g)},Ce(_r,"AbstractList/ListIteratorImpl",43),ye(258,647,fA,pK),V.rb=function(g,b){Ex(g,this.b),this.c.rb(this.a+g,b),++this.b},V.sb=function(g){return Ra(g,this.b),this.c.sb(this.a+g)},V.vb=function(g){var b;return Ra(g,this.b),b=this.c.vb(this.a+g),--this.b,b},V.wb=function(g,b){return Ra(g,this.b),this.c.wb(this.a+g,b)},V.Y=function(){return this.b},V.a=0,V.b=0,Ce(_r,"AbstractList/SubList",258),ye(36,641,xl,wi),V.Q=function(){this.a.Q()},V.kb=function(g){return this.a.R(g)},V.mb=function(){var g;return g=this.a.bb().mb(),new _i(g)},V.nb=function(g){return this.a.R(g)?(this.a.eb(g),!0):!1},V.Y=function(){return this.a.Y()},Ce(_r,"AbstractMap/1",36),ye(40,1,ss,_i),V.G=function(){return this.a.G()},V.H=function(){var g;return g=T(this.a.H(),21),g.yb()},V.I=function(){this.a.I()},Ce(_r,"AbstractMap/1/1",40),ye(211,640,B4,Jh),V.Q=function(){this.a.Q()},V.kb=function(g){return this.a.ab(g)},V.mb=function(){var g;return g=this.a.bb().mb(),new xy(g)},V.Y=function(){return this.a.Y()},Ce(_r,"AbstractMap/2",211),ye(212,1,ss,xy),V.G=function(){return this.a.G()},V.H=function(){var g;return g=T(this.a.H(),21),g.zb()},V.I=function(){this.a.I()},Ce(_r,"AbstractMap/2/1",212),ye(210,1,{210:1,21:1}),V.t=function(g){var b;return Zt(g,21)?(b=T(g,21),ed(this.d,b.yb())&&ed(this.e,b.zb())):!1},V.yb=function(){return this.d},V.zb=function(){return this.e},V.v=function(){return vD(this.d)^vD(this.e)},V.Ab=function(g){return kD(this,g)},V.w=function(){return this.d+"="+this.e},Ce(_r,"AbstractMap/AbstractEntry",210),ye(163,210,{210:1,163:1,21:1},CC),Ce(_r,"AbstractMap/SimpleEntry",163),ye(652,1,fI),V.t=function(g){var b;return Zt(g,21)?(b=T(g,21),ed(this.yb(),b.yb())&&ed(this.zb(),b.zb())):!1},V.v=function(){return vD(this.yb())^vD(this.zb())},V.w=function(){return this.yb()+"="+this.zb()},Ce(_r,mNe,652),ye(639,638,cA),V._=function(g){return ALe(this,g)},V.R=function(g){return LO(this,g)},V.bb=function(){return new Sy(this)},V.cb=function(g){return Fe(Hde(this,g))},V.W=function(){return new fl(this)},Ce(_r,"AbstractNavigableMap",639),ye(287,641,xl,Sy),V.kb=function(g){return Zt(g,21)&&ALe(this.b,T(g,21))},V.mb=function(){return new UO(this.b)},V.nb=function(g){var b;return Zt(g,21)?(b=T(g,21),ILe(this.b,b)):!1},V.Y=function(){return this.b.c},Ce(_r,"AbstractNavigableMap/EntrySet",287),ye(229,641,dge,fl),V.Q=function(){Ew(this.a)},V.kb=function(g){return LO(this.a,g)},V.mb=function(){var g;return g=new UO(new RC(this.a).b),new Vm(g)},V.nb=function(g){return LO(this.a,g)?(TD(this.a,g),!0):!1},V.Y=function(){return this.a.c},Ce(_r,"AbstractNavigableMap/NavigableKeySet",229),ye(230,1,ss,Vm),V.G=function(){return Nw(this.a.a)},V.H=function(){var g;return g=SD(this.a),g.yb()},V.I=function(){GY(this.a)},Ce(_r,"AbstractNavigableMap/NavigableKeySet/1",230),ye(4,1,ss,ge),V.G=function(){return Yy(this)},V.H=function(){return pe(this)},V.I=function(){E4(this)},V.a=0,V.b=-1,Ce(_r,"ArrayList/1",4),ye(94,647,YNe,zl),V.kb=function(g){return YCt(this,g)!=-1},V.sb=function(g){return Z5e(this,g)},V.wb=function(g,b){var x;return x=(Ra(g,this.a.length),this.a[g]),ph(this.a,g,b),x},V.Y=function(){return this.a.length},V.ob=function(){return VIe(this,Pt(Ln,cn,1,this.a.length,4,1))},V.pb=function(g){return VIe(this,g)},Ce(_r,"Arrays/ArrayList",94);var b2,cve,LQ;ye(413,1,tu,z_),V.$b=function(g,b){return gPe(b,g)},Ce(_r,"Collections/2",413),ye(406,647,YNe,t0),V.kb=function(g){return!1},V.sb=function(g){return Ra(g,0),null},V.mb=function(){return ea(),lh(),DQ},V.tb=function(){return ea(),lh(),DQ},V.Y=function(){return 0},Ce(_r,"Collections/EmptyList",406),ye(407,1,dA,n0),V.J=function(g){throw new ya},V.G=function(){return!1},V.K=function(){return!1},V.H=function(){throw new Su},V.L=function(){return 0},V.M=function(){throw new Su},V.N=function(){return-1},V.I=function(){throw new kv},V.O=function(g){throw new kv};var DQ;Ce(_r,"Collections/EmptyListIterator",407),ye(409,638,gA,r0),V.R=function(g){return!1},V.ab=function(g){return!1},V.bb=function(){return ea(),LQ},V.cb=function(g){return null},V.W=function(){return ea(),LQ},V.Y=function(){return 0},V.fb=function(){return ea(),b2},Ce(_r,"Collections/EmptyMap",409),ye(408,641,pA,Sf),V.kb=function(g){return!1},V.mb=function(){return ea(),lh(),DQ},V.Y=function(){return 0},Ce(_r,"Collections/EmptySet",408),ye(410,1,tu,Yh),V.$b=function(g,b){return GT(T(g,23),T(b,23))};var yze;Ce(_r,"Collections/ReverseComparator",410),ye(411,647,{3:1,22:1,19:1,20:1},mw),V.kb=function(g){return ed(this.a,g)},V.sb=function(g){return Ra(g,1),this.a},V.Y=function(){return 1},Ce(_r,"Collections/SingletonList",411),ye(217,1,B4,Wm),V.ib=function(g){return QE()},V.jb=function(g){return Qg()},V.Q=function(){q_()},V.kb=function(g){return this.b.kb(g)},V.lb=function(g){return this.b.lb(g)},V.V=function(){return this.b.V()},V.mb=function(){return new re(this.b.mb())},V.nb=function(g){return Ys()},V.Y=function(){return this.b.Y()},V.ob=function(){return this.b.ob()},V.pb=function(g){return this.b.pb(g)},V.w=function(){return nd(this.b)},Ce(_r,"Collections/UnmodifiableCollection",217),ye(152,1,ss,re),V.G=function(){return this.b.G()},V.H=function(){return this.b.H()},V.I=function(){Hc()},Ce(_r,"Collections/UnmodifiableCollectionIterator",152),ye(233,217,fA,p4),V.rb=function(g,b){throw new ya},V.t=function(g){return this.a.t(g)},V.sb=function(g){return this.a.sb(g)},V.v=function(){return this.a.v()},V.V=function(){return this.a.V()},V.tb=function(){return new xD(this.a.ub(0))},V.ub=function(g){return new xD(this.a.ub(g))},V.vb=function(g){throw new ya},V.wb=function(g,b){throw new ya},V.xb=function(g,b){return new p4(this.a.xb(g,b))},Ce(_r,"Collections/UnmodifiableList",233),ye(309,152,dA,xD),V.J=function(g){throw new ya},V.K=function(){return this.a.K()},V.L=function(){return this.a.L()},V.M=function(){return this.a.M()},V.N=function(){return this.a.N()},V.O=function(g){throw new ya},Ce(_r,"Collections/UnmodifiableListIterator",309),ye(305,1,cA,nr),V.Q=function(){throw new ya},V.R=function(g){return this.c.R(g)},V.ab=function(g){return xO(this,g)},V.bb=function(){return Td(this)},V.t=function(g){return lO(this,g)},V.cb=function(g){return this.c.cb(g)},V.v=function(){return this.c.v()},V.V=function(){return this.c.V()},V.W=function(){return wPe(this)},V.db=function(g,b){throw new ya},V.eb=function(g){throw new ya},V.Y=function(){return this.c.Y()},V.w=function(){return nd(this.c)},V.fb=function(){return xPe(this)},Ce(_r,"Collections/UnmodifiableMap",305),ye(151,217,xl,u1),V.t=function(g){return qT(this,g)},V.v=function(){return this.b.v()},Ce(_r,"Collections/UnmodifiableSet",151),ye(412,151,xl,zT),V.kb=function(g){return vC(this,g)},V.lb=function(g){return e4(this,g)},V.mb=function(){var g;return g=this.b.mb(),new $v(g)},V.ob=function(){return RPe(this)},V.pb=function(g){return Kfe(this,g)},Ce(_r,"Collections/UnmodifiableMap/UnmodifiableEntrySet",412),ye(263,1,ss,$v),V.H=function(){return new dl(T(this.a.H(),21))},V.G=function(){return this.a.G()},V.I=function(){throw new ya},Ce(_r,"Collections/UnmodifiableMap/UnmodifiableEntrySet/1",263),ye(306,1,fI,dl),V.t=function(g){return this.a.t(g)},V.yb=function(){return this.a.yb()},V.zb=function(){return this.a.zb()},V.v=function(){return this.a.v()},V.Ab=function(g){throw new ya},V.w=function(){return nd(this.a)},Ce(_r,"Collections/UnmodifiableMap/UnmodifiableEntrySet/UnmodifiableEntry",306),ye(307,233,RX,jT),Ce(_r,"Collections/UnmodifiableRandomAccessList",307),ye(308,151,dge,b1),V.t=function(g){return this.a.t(g)},V.v=function(){return this.a.v()},Ce(_r,"Collections/UnmodifiableSortedSet",308);var p$;ye(522,1,tu,nh),V.$b=function(g,b){return hs(g),hs(b),Rde(T(g,23),b)},Ce(_r,"Comparators/1",522),ye(202,72,k1,$d),Ce(_r,"ConcurrentModificationException",202),ye(609,72,k1,ih),Ce(_r,"EmptyStackException",609),ye(319,638,cA,Xde),V.db=function(g,b){return _9(this,g,b)},V.Q=function(){bPe(this)},V.R=function(g){return Mfe(this.a,g)},V.ab=function(g){var b,x;for(x=new Kf(this.a);x.a<x.c.a.length;)if(b=xx(x),ed(g,this.b[b.e]))return!0;return!1},V.bb=function(){return new s0(this)},V.cb=function(g){return KO(this,g)},V.eb=function(g){return nde(this,g)},V.Y=function(){return this.a.c},Ce(_r,"EnumMap",319),ye(236,641,xl,s0),V.Q=function(){bPe(this.a)},V.kb=function(g){return JPe(this,g)},V.mb=function(){return new P9(this.a)},V.nb=function(g){var b;return JPe(this,g)?(b=T(g,21).yb(),nde(this.a,b),!0):!1},V.Y=function(){return this.a.a.c},Ce(_r,"EnumMap/EntrySet",236),ye(237,1,ss,P9),V.H=function(){return this.b=xx(this.a),new Hw(this.c,this.b)},V.G=function(){return l4(this.a)},V.I=function(){qy(!!this.b),nde(this.c,this.b),this.b=null},Ce(_r,"EnumMap/EntrySetIterator",237),ye(238,652,fI,Hw),V.yb=function(){return this.a},V.zb=function(){return this.b.b[this.a.e]},V.Ab=function(g){return tK(this.b,this.a.e,g)},Ce(_r,"EnumMap/MapEntry",238),ye(86,641,{22:1,19:1,86:1,18:1}),Ce(_r,"EnumSet",86),ye(66,86,{22:1,19:1,86:1,66:1,18:1},$u),V.ib=function(g){return _l(this,T(g,17))},V.kb=function(g){return Mfe(this,g)},V.mb=function(){return new Kf(this)},V.nb=function(g){return tPe(this,g)},V.Y=function(){return this.c},V.c=0,Ce(_r,"EnumSet/EnumSetImpl",66),ye(167,1,ss,Kf),V.H=function(){return xx(this)},V.G=function(){return l4(this)},V.I=function(){qy(this.b!=-1),ph(this.c.b,this.b,null),--this.c.c,this.b=-1},V.a=-1,V.b=-1,Ce(_r,"EnumSet/EnumSetImpl/IteratorImpl",167),ye(30,213,KNe,Rt,mC,Sr),V.Uc=function(g,b){return he(g)===he(b)||g!=null&&cp(g,b)},V.Vc=function(g){var b;return b=C0(g),b|0},Ce(_r,"HashMap",30),ye(50,641,XNe,Aa,cC,Tfe),V.ib=function(g){return ma(this,g)},V.Q=function(){this.a.Q()},V.Wc=function(){return new Tfe(this)},V.kb=function(g){return og(this,g)},V.V=function(){return this.a.Y()==0},V.mb=function(){var g;return g=new wi(this.a).a.bb().mb(),new _i(g)},V.nb=function(g){return yD(this,g)},V.Y=function(){return this.a.Y()},V.w=function(){return t2(new wi(this.a))},Ce(_r,"HashSet",50),ye(418,1,n2,uY),V.mb=function(){return new Zfe(this)},V.c=0,Ce(_r,"InternalHashCodeMap",418),ye(312,1,ss,Zfe),V.H=function(){return this.d=this.a[this.c++],this.d},V.G=function(){var g;return this.c<this.a.length?!0:(g=this.b.next(),g.done?!1:(this.a=g.value[1],this.c=0,!0))},V.I=function(){vX(this.e,this.d.yb()),this.c!=0&&--this.c},V.c=0,V.d=null,Ce(_r,"InternalHashCodeMap/1",312);var bze;ye(382,1,n2,lY),V.mb=function(){return new sde(this)},V.c=0,V.d=0,Ce(_r,"InternalStringMap",382),ye(293,1,ss,sde),V.H=function(){return this.c=this.a,this.a=this.b.next(),new HY(this.d,this.c,this.d.d)},V.G=function(){return!this.a.done},V.I=function(){PDe(this.d,this.c.value[0])},Ce(_r,"InternalStringMap/1",293),ye(383,652,fI,HY),V.yb=function(){return this.b.value[0]},V.zb=function(){return this.a.d!=this.c?EC(this.a,this.b.value[0]):this.b.value[1]},V.Ab=function(g){return WK(this.a,this.b.value[0],g)},V.c=0,Ce(_r,"InternalStringMap/2",383),ye(155,30,KNe,O4,zLe),V.Q=function(){S9(this)},V.R=function(g){return ZO(this.c,g)},V.ab=function(g){var b;for(b=this.b.a;b!=this.b;){if(ed(b.e,g))return!0;b=b.a}return!1},V.bb=function(){return new eg(this)},V.cb=function(g){return CK(this,g)},V.db=function(g,b){return YD(this,g,b)},V.eb=function(g){return yde(this,g)},V.Y=function(){return pC(this.c)},V.a=!1,Ce(_r,"LinkedHashMap",155),ye(176,163,{210:1,163:1,176:1,21:1},SY,ne),Ce(_r,"LinkedHashMap/ChainEntry",176),ye(270,641,xl,eg),V.Q=function(){S9(this.a)},V.kb=function(g){return eLe(this,g)},V.mb=function(){return new oK(this)},V.nb=function(g){var b;return eLe(this,g)?(b=T(g,21).yb(),yde(this.a,b),!0):!1},V.Y=function(){return pC(this.a.c)},Ce(_r,"LinkedHashMap/EntrySet",270),ye(271,1,ss,oK),V.H=function(){return dde(this)},V.G=function(){return this.b!=this.c.a.b},V.I=function(){qy(!!this.a),JY(this.c.a.c,this),yl(this.a),DC(this.c.a.c,this.a.d),a9(this.c.a.c,this),this.a=null},Ce(_r,"LinkedHashMap/EntrySet/EntryIterator",271),ye(70,50,XNe,Bl,Fa,KY),V.Wc=function(){return new KY(this)},Ce(_r,"LinkedHashSet",70),ye(372,1,dA,BY),V.J=function(g){RD(this,g)},V.G=function(){return this.b!=this.d.c},V.K=function(){return this.b.b!=this.d.a},V.H=function(){return Fi(this)},V.L=function(){return this.a},V.M=function(){return MD(this)},V.N=function(){return this.a-1},V.I=function(){xde(this)},V.O=function(g){qy(!!this.c),this.c.c=g},V.a=0,V.c=null,Ce(_r,"LinkedList/ListIteratorImpl",372),ye(259,1,{},Yg),Ce(_r,"LinkedList/Node",259),ye(74,72,{3:1,54:1,46:1,74:1},Su),Ce(_r,"NoSuchElementException",74),ye(154,1,{154:1},sIe,qLe),V.a=0,V.b=0;var fve,dve,f4t=0;Ce(_r,"Random",154),ye(607,647,ZNe),V.rb=function(g,b){S4(g,this.a.c.length+1),gx(this.a,g,b)},V.ib=function(g){return tn(this.a,g)},V.jb=function(g){return Na(this.a,g)},V.Q=function(){this.a.c=Pt(Ln,cn,1,0,4,1)},V.kb=function(g){return mc(this.a,g,0)!=-1},V.lb=function(g){return Xw(this.a,g)},V.sb=function(g){return S4(g,this.a.c.length),_t(this.a,g)},V.V=function(){return this.a.c.length==0},V.mb=function(){return new ge(this.a)},V.vb=function(g){return S4(g,this.a.c.length),HC(this.a,g)},V.Xb=function(g,b){HPe(this.a,g,b)},V.wb=function(g,b){return S4(g,this.a.c.length),_x(this.a,g,b)},V.Y=function(){return this.a.c.length},V.xb=function(g,b){return new pK(this.a,g,b)},V.ob=function(){return g4(this.a)},V.pb=function(g){return Eo(this.a,g)},V.w=function(){return t2(this.a)},Ce(_r,"Vector",607),ye(337,607,ZNe,Qm),Ce(_r,"Stack",337),ye(253,639,gA,oD,Jfe),V.Q=function(){Ew(this)},V.bb=function(){return new RC(this)},V.db=function(g,b){return BDe(this,g,b)},V.eb=function(g){return TD(this,g)},V.Y=function(){return this.c},V.c=0,Ce(_r,"TreeMap",253),ye(182,1,ss,UO),V.H=function(){return SD(this)},V.G=function(){return Nw(this.a)},V.I=function(){GY(this)},Ce(_r,"TreeMap/EntryIterator",182),ye(209,287,xl,RC),V.Q=function(){Ew(this.a)},Ce(_r,"TreeMap/EntrySet",209),ye(183,163,{210:1,163:1,21:1,183:1},xK),V.b=!1;var d4t=Ce(_r,"TreeMap/Node",183);ye(254,1,{},Vf),V.w=function(){return"State: mv="+this.c+" value="+this.d+" done="+this.a+" found="+this.b},V.a=!1,V.b=!1,V.c=!1,Ce(_r,"TreeMap/State",254),ye(138,17,VX,Bw),V.Xc=function(){return!1},V.Yc=function(){return!1};var hve,wze,_ze,xze,IQ=gi(_r,"TreeMap/SubMapType",138,ia,tCt);ye(352,138,VX,s4),V.Yc=function(){return!0},gi(_r,"TreeMap/SubMapType/1",352,IQ,null),ye(353,138,VX,xa),V.Xc=function(){return!0},V.Yc=function(){return!0},gi(_r,"TreeMap/SubMapType/2",353,IQ,null),ye(354,138,VX,u4),V.Xc=function(){return!0},gi(_r,"TreeMap/SubMapType/3",354,IQ,null),ye(191,641,{3:1,22:1,19:1,18:1,137:1,191:1},tC,tD),V.ib=function(g){return Ffe(this,g)},V.Q=function(){Ew(this.a)},V.kb=function(g){return LO(this.a,g)},V.mb=function(){var g;return g=new UO(new RC(new fl(this.a).a).b),new Vm(g)},V.nb=function(g){return wY(this,g)},V.Y=function(){return this.a.c},Ce(_r,"TreeSet",191);var h4t=0,gve,pve=0,Cj,ko=I9("int","I"),XI=I9("boolean","Z"),Sze=I9("char","C"),tf=I9("double","D"),$j=I9("float","F"),kj=BEt,Eze=Eze=iOt;qCt(Hm),c$t("permProps",[[["locale","default"],["user.agent","gecko1_8"]]]),Eze(null,"klay",null)})()}(vKt)),dre}(function(e,t){(function(r,i){e.exports=i(mKt())})($e,function(n){return function(r){var i={};function a(s){if(i[s])return i[s].exports;var u=i[s]={i:s,l:!1,exports:{}};return r[s].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=r,a.c=i,a.i=function(s){return s},a.d=function(s,u,f){a.o(s,u)||Object.defineProperty(s,u,{configurable:!1,enumerable:!0,get:f})},a.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(u,"a",u),u},a.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},a.p="",a(a.s=3)}([function(r,i,a){var s=a(4),u=a(1),f=a(2),d={addUnnecessaryBendpoints:"de.cau.cs.kieler.klay.layered.unnecessaryBendpoints",alignment:"de.cau.cs.kieler.alignment",aspectRatio:"de.cau.cs.kieler.aspectRatio",borderSpacing:"borderSpacing",compactComponents:"de.cau.cs.kieler.klay.layered.components.compact",compactionStrategy:"de.cau.cs.kieler.klay.layered.nodeplace.compactionStrategy",contentAlignment:"de.cau.cs.kieler.klay.layered.contentAlignment",crossingMinimization:"de.cau.cs.kieler.klay.layered.crossMin",cycleBreaking:"de.cau.cs.kieler.klay.layered.cycleBreaking",debugMode:"de.cau.cs.kieler.debugMode",direction:"de.cau.cs.kieler.direction",edgeLabelSideSelection:"de.cau.cs.kieler.klay.layered.edgeLabelSideSelection",edgeRouting:"de.cau.cs.kieler.edgeRouting",edgeSpacingFactor:"de.cau.cs.kieler.klay.layered.edgeSpacingFactor",feedbackEdges:"de.cau.cs.kieler.klay.layered.feedBackEdges",fixedAlignment:"de.cau.cs.kieler.klay.layered.fixedAlignment",greedySwitchCrossingMinimization:"de.cau.cs.kieler.klay.layered.greedySwitch",hierarchyHandling:"de.cau.cs.kieler.hierarchyHandling",inLayerSpacingFactor:"de.cau.cs.kieler.klay.layered.inLayerSpacingFactor",interactiveReferencePoint:"de.cau.cs.kieler.klay.layered.interactiveReferencePoint",layerConstraint:"de.cau.cs.kieler.klay.layered.layerConstraint",layoutHierarchy:"de.cau.cs.kieler.layoutHierarchy",linearSegmentsDeflectionDampening:"de.cau.cs.kieler.klay.layered.linearSegmentsDeflectionDampening",mergeEdges:"de.cau.cs.kieler.klay.layered.mergeEdges",mergeHierarchyCrossingEdges:"de.cau.cs.kieler.klay.layered.mergeHierarchyEdges",noLayout:"de.cau.cs.kieler.noLayout",nodeLabelPlacement:"de.cau.cs.kieler.nodeLabelPlacement",nodeLayering:"de.cau.cs.kieler.klay.layered.nodeLayering",nodePlacement:"de.cau.cs.kieler.klay.layered.nodePlace",portAlignment:"de.cau.cs.kieler.portAlignment",portAlignmentEastern:"de.cau.cs.kieler.portAlignment.east",portAlignmentNorth:"de.cau.cs.kieler.portAlignment.north",portAlignmentSouth:"de.cau.cs.kieler.portAlignment.south",portAlignmentWest:"de.cau.cs.kieler.portAlignment.west",portConstraints:"de.cau.cs.kieler.portConstraints",portLabelPlacement:"de.cau.cs.kieler.portLabelPlacement",portOffset:"de.cau.cs.kieler.offset",portSide:"de.cau.cs.kieler.portSide",portSpacing:"de.cau.cs.kieler.portSpacing",postCompaction:"de.cau.cs.kieler.klay.layered.postCompaction",priority:"de.cau.cs.kieler.priority",randomizationSeed:"de.cau.cs.kieler.randomSeed",routeSelfLoopInside:"de.cau.cs.kieler.selfLoopInside",separateConnectedComponents:"de.cau.cs.kieler.separateConnComp",sizeConstraint:"de.cau.cs.kieler.sizeConstraint",sizeOptions:"de.cau.cs.kieler.sizeOptions",spacing:"de.cau.cs.kieler.spacing",splineSelfLoopPlacement:"de.cau.cs.kieler.klay.layered.splines.selfLoopPlacement",thoroughness:"de.cau.cs.kieler.klay.layered.thoroughness",wideNodesOnMultipleLayers:"de.cau.cs.kieler.klay.layered.wideNodesOnMultipleLayers"},c=function(S){for(var C=Object.keys(S),$={},k=0;k<C.length;k++){var M=C[k],A=d[M],L=S[M];$[A]=L}return $},h={interactiveReferencePoint:"CENTER"},p=function(S){for(var C=S.parent(),$=S.scratch("klay"),k={x:$.x,y:$.y};C.nonempty();){var M=C.scratch("klay");k.x+=M.x,k.y+=M.y,C=C.parent()}return k},v=function(S,C){var $=S.layoutDimensions(C),k=S.numericStyle("padding"),M={_cyEle:S,id:S.id(),padding:{top:k,left:k,bottom:k,right:k}};return S.isParent()||(M.width=$.w,M.height=$.h),S.scratch("klay",M),M},m=function(S,C){var $={_cyEle:S,id:S.id(),source:S.data("source"),target:S.data("target"),properties:{}},k=C.priority(S);return k!=null&&($.properties.priority=k),S.scratch("klay",$),$},y=function(S,C,$){for(var k=[],M=[],A={},L={id:"root",children:[],edges:[]},N=0;N<S.length;N++){var R=S[N],D=v(R,$);k.push(D),A[R.id()]=D}for(var j=0;j<C.length;j++){var U=C[j],H=m(U,$);M.push(H),A[U.id()]=H}for(var Y=0;Y<k.length;Y++){var Z=k[Y],Q=Z._cyEle;if(!Q.isChild())L.children.push(Z);else{var ee=Q.parent(),oe=A[ee.id()],ue=oe.children=oe.children||[];ue.push(Z)}}for(var ve=0;ve<M.length;ve++){var le=M[ve],de=le._cyEle;de.source().parent(),de.target().parent(),L.edges.push(le)}return L};function w(_){var S=_.klay;this.options=u({},f,_),this.options.klay=u({},f.klay,S,h)}w.prototype.run=function(){var _=this,S=this.options,C=S.eles,$=C.nodes(),k=C.edges(),M=y($,k,S);return s.layout({graph:M,options:c(S.klay),success:function(){},error:function(L){throw L}}),$.filter(function(A){return!A.isParent()}).layoutPositions(_,S,p),this},w.prototype.stop=function(){return this},w.prototype.destroy=function(){return this},r.exports=w},function(r,i,a){r.exports=Object.assign!=null?Object.assign.bind(Object):function(s){for(var u=arguments.length,f=Array(u>1?u-1:0),d=1;d<u;d++)f[d-1]=arguments[d];return f.filter(function(c){return c!=null}).forEach(function(c){Object.keys(c).forEach(function(h){return s[h]=c[h]})}),s}},function(r,i,a){var s={nodeDimensionsIncludeLabels:!1,fit:!0,padding:20,animate:!1,animateFilter:function(f,d){return!0},animationDuration:500,animationEasing:void 0,transform:function(f,d){return d},ready:void 0,stop:void 0,klay:{addUnnecessaryBendpoints:!1,aspectRatio:1.6,borderSpacing:20,compactComponents:!1,crossingMinimization:"LAYER_SWEEP",cycleBreaking:"GREEDY",direction:"UNDEFINED",edgeRouting:"ORTHOGONAL",edgeSpacingFactor:.5,feedbackEdges:!1,fixedAlignment:"NONE",inLayerSpacingFactor:1,layoutHierarchy:!1,linearSegmentsDeflectionDampening:.3,mergeEdges:!1,mergeHierarchyCrossingEdges:!0,nodeLayering:"NETWORK_SIMPLEX",nodePlacement:"BRANDES_KOEPF",randomizationSeed:1,routeSelfLoopInside:!1,separateConnectedComponents:!0,spacing:20,thoroughness:7},priority:function(f){return null}};r.exports=s},function(r,i,a){var s=a(0),u=function(d){d&&d("layout","klay",s)};typeof cytoscape<"u"&&u(cytoscape),r.exports=u},function(r,i){r.exports=n}])})})(pKt);const yKt=DW(d_e);var h_e={},bKt={get exports(){return h_e},set exports(e){h_e=e}},hre={},wKt={get exports(){return hre},set exports(e){hre=e}},gre={},_Kt={get exports(){return gre},set exports(e){gre=e}},DVe;function xKt(){return DVe||(DVe=1,function(e,t){(function(r,i){e.exports=i()})($e,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var s=r[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.i=function(a){return a},i.d=function(a,s,u){i.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:u})},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=26)}([function(n,r,i){function a(){}a.QUALITY=1,a.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,a.DEFAULT_INCREMENTAL=!1,a.DEFAULT_ANIMATION_ON_LAYOUT=!0,a.DEFAULT_ANIMATION_DURING_LAYOUT=!1,a.DEFAULT_ANIMATION_PERIOD=50,a.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,a.DEFAULT_GRAPH_MARGIN=15,a.NODE_DIMENSIONS_INCLUDE_LABELS=!1,a.SIMPLE_NODE_SIZE=40,a.SIMPLE_NODE_HALF_SIZE=a.SIMPLE_NODE_SIZE/2,a.EMPTY_COMPOUND_NODE_SIZE=40,a.MIN_EDGE_LENGTH=1,a.WORLD_BOUNDARY=1e6,a.INITIAL_WORLD_BOUNDARY=a.WORLD_BOUNDARY/1e3,a.WORLD_CENTER_X=1200,a.WORLD_CENTER_Y=900,n.exports=a},function(n,r,i){var a=i(2),s=i(8),u=i(9);function f(c,h,p){a.call(this,p),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=p,this.bendpoints=[],this.source=c,this.target=h}f.prototype=Object.create(a.prototype);for(var d in a)f[d]=a[d];f.prototype.getSource=function(){return this.source},f.prototype.getTarget=function(){return this.target},f.prototype.isInterGraph=function(){return this.isInterGraph},f.prototype.getLength=function(){return this.length},f.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},f.prototype.getBendpoints=function(){return this.bendpoints},f.prototype.getLca=function(){return this.lca},f.prototype.getSourceInLca=function(){return this.sourceInLca},f.prototype.getTargetInLca=function(){return this.targetInLca},f.prototype.getOtherEnd=function(c){if(this.source===c)return this.target;if(this.target===c)return this.source;throw"Node is not incident with this edge"},f.prototype.getOtherEndInGraph=function(c,h){for(var p=this.getOtherEnd(c),v=h.getGraphManager().getRoot();;){if(p.getOwner()==h)return p;if(p.getOwner()==v)break;p=p.getOwner().getParent()}return null},f.prototype.updateLength=function(){var c=new Array(4);this.isOverlapingSourceAndTarget=s.getIntersection(this.target.getRect(),this.source.getRect(),c),this.isOverlapingSourceAndTarget||(this.lengthX=c[0]-c[2],this.lengthY=c[1]-c[3],Math.abs(this.lengthX)<1&&(this.lengthX=u.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=u.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},f.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=u.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=u.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},n.exports=f},function(n,r,i){function a(s){this.vGraphObject=s}n.exports=a},function(n,r,i){var a=i(2),s=i(10),u=i(13),f=i(0),d=i(16),c=i(4);function h(v,m,y,w){y==null&&w==null&&(w=m),a.call(this,w),v.graphManager!=null&&(v=v.graphManager),this.estimatedSize=s.MIN_VALUE,this.inclusionTreeDepth=s.MAX_VALUE,this.vGraphObject=w,this.edges=[],this.graphManager=v,y!=null&&m!=null?this.rect=new u(m.x,m.y,y.width,y.height):this.rect=new u}h.prototype=Object.create(a.prototype);for(var p in a)h[p]=a[p];h.prototype.getEdges=function(){return this.edges},h.prototype.getChild=function(){return this.child},h.prototype.getOwner=function(){return this.owner},h.prototype.getWidth=function(){return this.rect.width},h.prototype.setWidth=function(v){this.rect.width=v},h.prototype.getHeight=function(){return this.rect.height},h.prototype.setHeight=function(v){this.rect.height=v},h.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},h.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},h.prototype.getCenter=function(){return new c(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},h.prototype.getLocation=function(){return new c(this.rect.x,this.rect.y)},h.prototype.getRect=function(){return this.rect},h.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},h.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},h.prototype.setRect=function(v,m){this.rect.x=v.x,this.rect.y=v.y,this.rect.width=m.width,this.rect.height=m.height},h.prototype.setCenter=function(v,m){this.rect.x=v-this.rect.width/2,this.rect.y=m-this.rect.height/2},h.prototype.setLocation=function(v,m){this.rect.x=v,this.rect.y=m},h.prototype.moveBy=function(v,m){this.rect.x+=v,this.rect.y+=m},h.prototype.getEdgeListToNode=function(v){var m=[],y=this;return y.edges.forEach(function(w){if(w.target==v){if(w.source!=y)throw"Incorrect edge source!";m.push(w)}}),m},h.prototype.getEdgesBetween=function(v){var m=[],y=this;return y.edges.forEach(function(w){if(!(w.source==y||w.target==y))throw"Incorrect edge source and/or target";(w.target==v||w.source==v)&&m.push(w)}),m},h.prototype.getNeighborsList=function(){var v=new Set,m=this;return m.edges.forEach(function(y){if(y.source==m)v.add(y.target);else{if(y.target!=m)throw"Incorrect incidency!";v.add(y.source)}}),v},h.prototype.withChildren=function(){var v=new Set,m,y;if(v.add(this),this.child!=null)for(var w=this.child.getNodes(),_=0;_<w.length;_++)m=w[_],y=m.withChildren(),y.forEach(function(S){v.add(S)});return v},h.prototype.getNoOfChildren=function(){var v=0,m;if(this.child==null)v=1;else for(var y=this.child.getNodes(),w=0;w<y.length;w++)m=y[w],v+=m.getNoOfChildren();return v==0&&(v=1),v},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},h.prototype.scatter=function(){var v,m,y=-f.INITIAL_WORLD_BOUNDARY,w=f.INITIAL_WORLD_BOUNDARY;v=f.WORLD_CENTER_X+d.nextDouble()*(w-y)+y;var _=-f.INITIAL_WORLD_BOUNDARY,S=f.INITIAL_WORLD_BOUNDARY;m=f.WORLD_CENTER_Y+d.nextDouble()*(S-_)+_,this.rect.x=v,this.rect.y=m},h.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var v=this.getChild();if(v.updateBounds(!0),this.rect.x=v.getLeft(),this.rect.y=v.getTop(),this.setWidth(v.getRight()-v.getLeft()),this.setHeight(v.getBottom()-v.getTop()),f.NODE_DIMENSIONS_INCLUDE_LABELS){var m=v.getRight()-v.getLeft(),y=v.getBottom()-v.getTop();this.labelWidth>m&&(this.rect.x-=(this.labelWidth-m)/2,this.setWidth(this.labelWidth)),this.labelHeight>y&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-y)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-y),this.setHeight(this.labelHeight))}}},h.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==s.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},h.prototype.transform=function(v){var m=this.rect.x;m>f.WORLD_BOUNDARY?m=f.WORLD_BOUNDARY:m<-f.WORLD_BOUNDARY&&(m=-f.WORLD_BOUNDARY);var y=this.rect.y;y>f.WORLD_BOUNDARY?y=f.WORLD_BOUNDARY:y<-f.WORLD_BOUNDARY&&(y=-f.WORLD_BOUNDARY);var w=new c(m,y),_=v.inverseTransformPoint(w);this.setLocation(_.x,_.y)},h.prototype.getLeft=function(){return this.rect.x},h.prototype.getRight=function(){return this.rect.x+this.rect.width},h.prototype.getTop=function(){return this.rect.y},h.prototype.getBottom=function(){return this.rect.y+this.rect.height},h.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},n.exports=h},function(n,r,i){function a(s,u){s==null&&u==null?(this.x=0,this.y=0):(this.x=s,this.y=u)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.setX=function(s){this.x=s},a.prototype.setY=function(s){this.y=s},a.prototype.getDifference=function(s){return new DimensionD(this.x-s.x,this.y-s.y)},a.prototype.getCopy=function(){return new a(this.x,this.y)},a.prototype.translate=function(s){return this.x+=s.width,this.y+=s.height,this},n.exports=a},function(n,r,i){var a=i(2),s=i(10),u=i(0),f=i(6),d=i(3),c=i(1),h=i(13),p=i(12),v=i(11);function m(w,_,S){a.call(this,S),this.estimatedSize=s.MIN_VALUE,this.margin=u.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=w,_!=null&&_ instanceof f?this.graphManager=_:_!=null&&_ instanceof Layout&&(this.graphManager=_.graphManager)}m.prototype=Object.create(a.prototype);for(var y in a)m[y]=a[y];m.prototype.getNodes=function(){return this.nodes},m.prototype.getEdges=function(){return this.edges},m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getParent=function(){return this.parent},m.prototype.getLeft=function(){return this.left},m.prototype.getRight=function(){return this.right},m.prototype.getTop=function(){return this.top},m.prototype.getBottom=function(){return this.bottom},m.prototype.isConnected=function(){return this.isConnected},m.prototype.add=function(w,_,S){if(_==null&&S==null){var C=w;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(C)>-1)throw"Node already in graph!";return C.owner=this,this.getNodes().push(C),C}else{var $=w;if(!(this.getNodes().indexOf(_)>-1&&this.getNodes().indexOf(S)>-1))throw"Source or target not in graph!";if(!(_.owner==S.owner&&_.owner==this))throw"Both owners must be this graph!";return _.owner!=S.owner?null:($.source=_,$.target=S,$.isInterGraph=!1,this.getEdges().push($),_.edges.push($),S!=_&&S.edges.push($),$)}},m.prototype.remove=function(w){var _=w;if(w instanceof d){if(_==null)throw"Node is null!";if(!(_.owner!=null&&_.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var S=_.edges.slice(),C,$=S.length,k=0;k<$;k++)C=S[k],C.isInterGraph?this.graphManager.remove(C):C.source.owner.remove(C);var M=this.nodes.indexOf(_);if(M==-1)throw"Node not in owner node list!";this.nodes.splice(M,1)}else if(w instanceof c){var C=w;if(C==null)throw"Edge is null!";if(!(C.source!=null&&C.target!=null))throw"Source and/or target is null!";if(!(C.source.owner!=null&&C.target.owner!=null&&C.source.owner==this&&C.target.owner==this))throw"Source and/or target owner is invalid!";var A=C.source.edges.indexOf(C),L=C.target.edges.indexOf(C);if(!(A>-1&&L>-1))throw"Source and/or target doesn't know this edge!";C.source.edges.splice(A,1),C.target!=C.source&&C.target.edges.splice(L,1);var M=C.source.owner.getEdges().indexOf(C);if(M==-1)throw"Not in owner's edge list!";C.source.owner.getEdges().splice(M,1)}},m.prototype.updateLeftTop=function(){for(var w=s.MAX_VALUE,_=s.MAX_VALUE,S,C,$,k=this.getNodes(),M=k.length,A=0;A<M;A++){var L=k[A];S=L.getTop(),C=L.getLeft(),w>S&&(w=S),_>C&&(_=C)}return w==s.MAX_VALUE?null:(k[0].getParent().paddingLeft!=null?$=k[0].getParent().paddingLeft:$=this.margin,this.left=_-$,this.top=w-$,new p(this.left,this.top))},m.prototype.updateBounds=function(w){for(var _=s.MAX_VALUE,S=-s.MAX_VALUE,C=s.MAX_VALUE,$=-s.MAX_VALUE,k,M,A,L,N,R=this.nodes,D=R.length,j=0;j<D;j++){var U=R[j];w&&U.child!=null&&U.updateBounds(),k=U.getLeft(),M=U.getRight(),A=U.getTop(),L=U.getBottom(),_>k&&(_=k),S<M&&(S=M),C>A&&(C=A),$<L&&($=L)}var H=new h(_,C,S-_,$-C);_==s.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),R[0].getParent().paddingLeft!=null?N=R[0].getParent().paddingLeft:N=this.margin,this.left=H.x-N,this.right=H.x+H.width+N,this.top=H.y-N,this.bottom=H.y+H.height+N},m.calculateBounds=function(w){for(var _=s.MAX_VALUE,S=-s.MAX_VALUE,C=s.MAX_VALUE,$=-s.MAX_VALUE,k,M,A,L,N=w.length,R=0;R<N;R++){var D=w[R];k=D.getLeft(),M=D.getRight(),A=D.getTop(),L=D.getBottom(),_>k&&(_=k),S<M&&(S=M),C>A&&(C=A),$<L&&($=L)}var j=new h(_,C,S-_,$-C);return j},m.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},m.prototype.getEstimatedSize=function(){if(this.estimatedSize==s.MIN_VALUE)throw"assert failed";return this.estimatedSize},m.prototype.calcEstimatedSize=function(){for(var w=0,_=this.nodes,S=_.length,C=0;C<S;C++){var $=_[C];w+=$.calcEstimatedSize()}return w==0?this.estimatedSize=u.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=w/Math.sqrt(this.nodes.length),this.estimatedSize},m.prototype.updateConnected=function(){var w=this;if(this.nodes.length==0){this.isConnected=!0;return}var _=new v,S=new Set,C=this.nodes[0],$,k,M=C.withChildren();for(M.forEach(function(j){_.push(j),S.add(j)});_.length!==0;){C=_.shift(),$=C.getEdges();for(var A=$.length,L=0;L<A;L++){var N=$[L];if(k=N.getOtherEndInGraph(C,this),k!=null&&!S.has(k)){var R=k.withChildren();R.forEach(function(j){_.push(j),S.add(j)})}}}if(this.isConnected=!1,S.size>=this.nodes.length){var D=0;S.forEach(function(j){j.owner==w&&D++}),D==this.nodes.length&&(this.isConnected=!0)}},n.exports=m},function(n,r,i){var a,s=i(1);function u(f){a=i(5),this.layout=f,this.graphs=[],this.edges=[]}u.prototype.addRoot=function(){var f=this.layout.newGraph(),d=this.layout.newNode(null),c=this.add(f,d);return this.setRootGraph(c),this.rootGraph},u.prototype.add=function(f,d,c,h,p){if(c==null&&h==null&&p==null){if(f==null)throw"Graph is null!";if(d==null)throw"Parent node is null!";if(this.graphs.indexOf(f)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(f),f.parent!=null)throw"Already has a parent!";if(d.child!=null)throw"Already has a child!";return f.parent=d,d.child=f,f}else{p=c,h=d,c=f;var v=h.getOwner(),m=p.getOwner();if(!(v!=null&&v.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(m!=null&&m.getGraphManager()==this))throw"Target not in this graph mgr!";if(v==m)return c.isInterGraph=!1,v.add(c,h,p);if(c.isInterGraph=!0,c.source=h,c.target=p,this.edges.indexOf(c)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(c),!(c.source!=null&&c.target!=null))throw"Edge source and/or target is null!";if(!(c.source.edges.indexOf(c)==-1&&c.target.edges.indexOf(c)==-1))throw"Edge already in source and/or target incidency list!";return c.source.edges.push(c),c.target.edges.push(c),c}},u.prototype.remove=function(f){if(f instanceof a){var d=f;if(d.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(d==this.rootGraph||d.parent!=null&&d.parent.graphManager==this))throw"Invalid parent node!";var c=[];c=c.concat(d.getEdges());for(var h,p=c.length,v=0;v<p;v++)h=c[v],d.remove(h);var m=[];m=m.concat(d.getNodes());var y;p=m.length;for(var v=0;v<p;v++)y=m[v],d.remove(y);d==this.rootGraph&&this.setRootGraph(null);var w=this.graphs.indexOf(d);this.graphs.splice(w,1),d.parent=null}else if(f instanceof s){if(h=f,h==null)throw"Edge is null!";if(!h.isInterGraph)throw"Not an inter-graph edge!";if(!(h.source!=null&&h.target!=null))throw"Source and/or target is null!";if(!(h.source.edges.indexOf(h)!=-1&&h.target.edges.indexOf(h)!=-1))throw"Source and/or target doesn't know this edge!";var w=h.source.edges.indexOf(h);if(h.source.edges.splice(w,1),w=h.target.edges.indexOf(h),h.target.edges.splice(w,1),!(h.source.owner!=null&&h.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(h.source.owner.getGraphManager().edges.indexOf(h)==-1)throw"Not in owner graph manager's edge list!";var w=h.source.owner.getGraphManager().edges.indexOf(h);h.source.owner.getGraphManager().edges.splice(w,1)}},u.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},u.prototype.getGraphs=function(){return this.graphs},u.prototype.getAllNodes=function(){if(this.allNodes==null){for(var f=[],d=this.getGraphs(),c=d.length,h=0;h<c;h++)f=f.concat(d[h].getNodes());this.allNodes=f}return this.allNodes},u.prototype.resetAllNodes=function(){this.allNodes=null},u.prototype.resetAllEdges=function(){this.allEdges=null},u.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},u.prototype.getAllEdges=function(){if(this.allEdges==null){var f=[],d=this.getGraphs();d.length;for(var c=0;c<d.length;c++)f=f.concat(d[c].getEdges());f=f.concat(this.edges),this.allEdges=f}return this.allEdges},u.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},u.prototype.setAllNodesToApplyGravitation=function(f){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=f},u.prototype.getRoot=function(){return this.rootGraph},u.prototype.setRootGraph=function(f){if(f.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=f,f.parent==null&&(f.parent=this.layout.newNode("Root node"))},u.prototype.getLayout=function(){return this.layout},u.prototype.isOneAncestorOfOther=function(f,d){if(!(f!=null&&d!=null))throw"assert failed";if(f==d)return!0;var c=f.getOwner(),h;do{if(h=c.getParent(),h==null)break;if(h==d)return!0;if(c=h.getOwner(),c==null)break}while(!0);c=d.getOwner();do{if(h=c.getParent(),h==null)break;if(h==f)return!0;if(c=h.getOwner(),c==null)break}while(!0);return!1},u.prototype.calcLowestCommonAncestors=function(){for(var f,d,c,h,p,v=this.getAllEdges(),m=v.length,y=0;y<m;y++){if(f=v[y],d=f.source,c=f.target,f.lca=null,f.sourceInLca=d,f.targetInLca=c,d==c){f.lca=d.getOwner();continue}for(h=d.getOwner();f.lca==null;){for(f.targetInLca=c,p=c.getOwner();f.lca==null;){if(p==h){f.lca=p;break}if(p==this.rootGraph)break;if(f.lca!=null)throw"assert failed";f.targetInLca=p.getParent(),p=f.targetInLca.getOwner()}if(h==this.rootGraph)break;f.lca==null&&(f.sourceInLca=h.getParent(),h=f.sourceInLca.getOwner())}if(f.lca==null)throw"assert failed"}},u.prototype.calcLowestCommonAncestor=function(f,d){if(f==d)return f.getOwner();var c=f.getOwner();do{if(c==null)break;var h=d.getOwner();do{if(h==null)break;if(h==c)return h;h=h.getParent().getOwner()}while(!0);c=c.getParent().getOwner()}while(!0);return c},u.prototype.calcInclusionTreeDepths=function(f,d){f==null&&d==null&&(f=this.rootGraph,d=1);for(var c,h=f.getNodes(),p=h.length,v=0;v<p;v++)c=h[v],c.inclusionTreeDepth=d,c.child!=null&&this.calcInclusionTreeDepths(c.child,d+1)},u.prototype.includesInvalidEdge=function(){for(var f,d=this.edges.length,c=0;c<d;c++)if(f=this.edges[c],this.isOneAncestorOfOther(f.source,f.target))return!0;return!1},n.exports=u},function(n,r,i){var a=i(0);function s(){}for(var u in a)s[u]=a[u];s.MAX_ITERATIONS=2500,s.DEFAULT_EDGE_LENGTH=50,s.DEFAULT_SPRING_STRENGTH=.45,s.DEFAULT_REPULSION_STRENGTH=4500,s.DEFAULT_GRAVITY_STRENGTH=.4,s.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,s.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,s.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,s.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,s.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,s.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,s.COOLING_ADAPTATION_FACTOR=.33,s.ADAPTATION_LOWER_NODE_LIMIT=1e3,s.ADAPTATION_UPPER_NODE_LIMIT=5e3,s.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,s.MAX_NODE_DISPLACEMENT=s.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,s.MIN_REPULSION_DIST=s.DEFAULT_EDGE_LENGTH/10,s.CONVERGENCE_CHECK_PERIOD=100,s.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,s.MIN_EDGE_LENGTH=1,s.GRID_CALCULATION_CHECK_PERIOD=10,n.exports=s},function(n,r,i){var a=i(12);function s(){}s.calcSeparationAmount=function(u,f,d,c){if(!u.intersects(f))throw"assert failed";var h=new Array(2);this.decideDirectionsForOverlappingNodes(u,f,h),d[0]=Math.min(u.getRight(),f.getRight())-Math.max(u.x,f.x),d[1]=Math.min(u.getBottom(),f.getBottom())-Math.max(u.y,f.y),u.getX()<=f.getX()&&u.getRight()>=f.getRight()?d[0]+=Math.min(f.getX()-u.getX(),u.getRight()-f.getRight()):f.getX()<=u.getX()&&f.getRight()>=u.getRight()&&(d[0]+=Math.min(u.getX()-f.getX(),f.getRight()-u.getRight())),u.getY()<=f.getY()&&u.getBottom()>=f.getBottom()?d[1]+=Math.min(f.getY()-u.getY(),u.getBottom()-f.getBottom()):f.getY()<=u.getY()&&f.getBottom()>=u.getBottom()&&(d[1]+=Math.min(u.getY()-f.getY(),f.getBottom()-u.getBottom()));var p=Math.abs((f.getCenterY()-u.getCenterY())/(f.getCenterX()-u.getCenterX()));f.getCenterY()===u.getCenterY()&&f.getCenterX()===u.getCenterX()&&(p=1);var v=p*d[0],m=d[1]/p;d[0]<m?m=d[0]:v=d[1],d[0]=-1*h[0]*(m/2+c),d[1]=-1*h[1]*(v/2+c)},s.decideDirectionsForOverlappingNodes=function(u,f,d){u.getCenterX()<f.getCenterX()?d[0]=-1:d[0]=1,u.getCenterY()<f.getCenterY()?d[1]=-1:d[1]=1},s.getIntersection2=function(u,f,d){var c=u.getCenterX(),h=u.getCenterY(),p=f.getCenterX(),v=f.getCenterY();if(u.intersects(f))return d[0]=c,d[1]=h,d[2]=p,d[3]=v,!0;var m=u.getX(),y=u.getY(),w=u.getRight(),_=u.getX(),S=u.getBottom(),C=u.getRight(),$=u.getWidthHalf(),k=u.getHeightHalf(),M=f.getX(),A=f.getY(),L=f.getRight(),N=f.getX(),R=f.getBottom(),D=f.getRight(),j=f.getWidthHalf(),U=f.getHeightHalf(),H=!1,Y=!1;if(c===p){if(h>v)return d[0]=c,d[1]=y,d[2]=p,d[3]=R,!1;if(h<v)return d[0]=c,d[1]=S,d[2]=p,d[3]=A,!1}else if(h===v){if(c>p)return d[0]=m,d[1]=h,d[2]=L,d[3]=v,!1;if(c<p)return d[0]=w,d[1]=h,d[2]=M,d[3]=v,!1}else{var Z=u.height/u.width,Q=f.height/f.width,ee=(v-h)/(p-c),oe=void 0,ue=void 0,ve=void 0,le=void 0,de=void 0,me=void 0;if(-Z===ee?c>p?(d[0]=_,d[1]=S,H=!0):(d[0]=w,d[1]=y,H=!0):Z===ee&&(c>p?(d[0]=m,d[1]=y,H=!0):(d[0]=C,d[1]=S,H=!0)),-Q===ee?p>c?(d[2]=N,d[3]=R,Y=!0):(d[2]=L,d[3]=A,Y=!0):Q===ee&&(p>c?(d[2]=M,d[3]=A,Y=!0):(d[2]=D,d[3]=R,Y=!0)),H&&Y)return!1;if(c>p?h>v?(oe=this.getCardinalDirection(Z,ee,4),ue=this.getCardinalDirection(Q,ee,2)):(oe=this.getCardinalDirection(-Z,ee,3),ue=this.getCardinalDirection(-Q,ee,1)):h>v?(oe=this.getCardinalDirection(-Z,ee,1),ue=this.getCardinalDirection(-Q,ee,3)):(oe=this.getCardinalDirection(Z,ee,2),ue=this.getCardinalDirection(Q,ee,4)),!H)switch(oe){case 1:le=y,ve=c+-k/ee,d[0]=ve,d[1]=le;break;case 2:ve=C,le=h+$*ee,d[0]=ve,d[1]=le;break;case 3:le=S,ve=c+k/ee,d[0]=ve,d[1]=le;break;case 4:ve=_,le=h+-$*ee,d[0]=ve,d[1]=le;break}if(!Y)switch(ue){case 1:me=A,de=p+-U/ee,d[2]=de,d[3]=me;break;case 2:de=D,me=v+j*ee,d[2]=de,d[3]=me;break;case 3:me=R,de=p+U/ee,d[2]=de,d[3]=me;break;case 4:de=N,me=v+-j*ee,d[2]=de,d[3]=me;break}}return!1},s.getCardinalDirection=function(u,f,d){return u>f?d:1+d%4},s.getIntersection=function(u,f,d,c){if(c==null)return this.getIntersection2(u,f,d);var h=u.x,p=u.y,v=f.x,m=f.y,y=d.x,w=d.y,_=c.x,S=c.y,C=void 0,$=void 0,k=void 0,M=void 0,A=void 0,L=void 0,N=void 0,R=void 0,D=void 0;return k=m-p,A=h-v,N=v*p-h*m,M=S-w,L=y-_,R=_*w-y*S,D=k*L-M*A,D===0?null:(C=(A*R-L*N)/D,$=(M*N-k*R)/D,new a(C,$))},s.angleOfVector=function(u,f,d,c){var h=void 0;return u!==d?(h=Math.atan((c-f)/(d-u)),d<u?h+=Math.PI:c<f&&(h+=this.TWO_PI)):c<f?h=this.ONE_AND_HALF_PI:h=this.HALF_PI,h},s.doIntersect=function(u,f,d,c){var h=u.x,p=u.y,v=f.x,m=f.y,y=d.x,w=d.y,_=c.x,S=c.y,C=(v-h)*(S-w)-(_-y)*(m-p);if(C===0)return!1;var $=((S-w)*(_-h)+(y-_)*(S-p))/C,k=((p-m)*(_-h)+(v-h)*(S-p))/C;return 0<$&&$<1&&0<k&&k<1},s.HALF_PI=.5*Math.PI,s.ONE_AND_HALF_PI=1.5*Math.PI,s.TWO_PI=2*Math.PI,s.THREE_PI=3*Math.PI,n.exports=s},function(n,r,i){function a(){}a.sign=function(s){return s>0?1:s<0?-1:0},a.floor=function(s){return s<0?Math.ceil(s):Math.floor(s)},a.ceil=function(s){return s<0?Math.floor(s):Math.ceil(s)},n.exports=a},function(n,r,i){function a(){}a.MAX_VALUE=2147483647,a.MIN_VALUE=-2147483648,n.exports=a},function(n,r,i){var a=function(){function h(p,v){for(var m=0;m<v.length;m++){var y=v[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}return function(p,v,m){return v&&h(p.prototype,v),m&&h(p,m),p}}();function s(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var u=function(p){return{value:p,next:null,prev:null}},f=function(p,v,m,y){return p!==null?p.next=v:y.head=v,m!==null?m.prev=v:y.tail=v,v.prev=p,v.next=m,y.length++,v},d=function(p,v){var m=p.prev,y=p.next;return m!==null?m.next=y:v.head=y,y!==null?y.prev=m:v.tail=m,p.prev=p.next=null,v.length--,p},c=function(){function h(p){var v=this;s(this,h),this.length=0,this.head=null,this.tail=null,p!=null&&p.forEach(function(m){return v.push(m)})}return a(h,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(v,m){return f(m.prev,u(v),m,this)}},{key:"insertAfter",value:function(v,m){return f(m,u(v),m.next,this)}},{key:"insertNodeBefore",value:function(v,m){return f(m.prev,v,m,this)}},{key:"insertNodeAfter",value:function(v,m){return f(m,v,m.next,this)}},{key:"push",value:function(v){return f(this.tail,u(v),null,this)}},{key:"unshift",value:function(v){return f(null,u(v),this.head,this)}},{key:"remove",value:function(v){return d(v,this)}},{key:"pop",value:function(){return d(this.tail,this).value}},{key:"popNode",value:function(){return d(this.tail,this)}},{key:"shift",value:function(){return d(this.head,this).value}},{key:"shiftNode",value:function(){return d(this.head,this)}},{key:"get_object_at",value:function(v){if(v<=this.length()){for(var m=1,y=this.head;m<v;)y=y.next,m++;return y.value}}},{key:"set_object_at",value:function(v,m){if(v<=this.length()){for(var y=1,w=this.head;y<v;)w=w.next,y++;w.value=m}}}]),h}();n.exports=c},function(n,r,i){function a(s,u,f){this.x=null,this.y=null,s==null&&u==null&&f==null?(this.x=0,this.y=0):typeof s=="number"&&typeof u=="number"&&f==null?(this.x=s,this.y=u):s.constructor.name=="Point"&&u==null&&f==null&&(f=s,this.x=f.x,this.y=f.y)}a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.getLocation=function(){return new a(this.x,this.y)},a.prototype.setLocation=function(s,u,f){s.constructor.name=="Point"&&u==null&&f==null?(f=s,this.setLocation(f.x,f.y)):typeof s=="number"&&typeof u=="number"&&f==null&&(parseInt(s)==s&&parseInt(u)==u?this.move(s,u):(this.x=Math.floor(s+.5),this.y=Math.floor(u+.5)))},a.prototype.move=function(s,u){this.x=s,this.y=u},a.prototype.translate=function(s,u){this.x+=s,this.y+=u},a.prototype.equals=function(s){if(s.constructor.name=="Point"){var u=s;return this.x==u.x&&this.y==u.y}return this==s},a.prototype.toString=function(){return new a().constructor.name+"[x="+this.x+",y="+this.y+"]"},n.exports=a},function(n,r,i){function a(s,u,f,d){this.x=0,this.y=0,this.width=0,this.height=0,s!=null&&u!=null&&f!=null&&d!=null&&(this.x=s,this.y=u,this.width=f,this.height=d)}a.prototype.getX=function(){return this.x},a.prototype.setX=function(s){this.x=s},a.prototype.getY=function(){return this.y},a.prototype.setY=function(s){this.y=s},a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},a.prototype.getRight=function(){return this.x+this.width},a.prototype.getBottom=function(){return this.y+this.height},a.prototype.intersects=function(s){return!(this.getRight()<s.x||this.getBottom()<s.y||s.getRight()<this.x||s.getBottom()<this.y)},a.prototype.getCenterX=function(){return this.x+this.width/2},a.prototype.getMinX=function(){return this.getX()},a.prototype.getMaxX=function(){return this.getX()+this.width},a.prototype.getCenterY=function(){return this.y+this.height/2},a.prototype.getMinY=function(){return this.getY()},a.prototype.getMaxY=function(){return this.getY()+this.height},a.prototype.getWidthHalf=function(){return this.width/2},a.prototype.getHeightHalf=function(){return this.height/2},n.exports=a},function(n,r,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u};function s(){}s.lastID=0,s.createID=function(u){return s.isPrimitive(u)?u:(u.uniqueID!=null||(u.uniqueID=s.getString(),s.lastID++),u.uniqueID)},s.getString=function(u){return u==null&&(u=s.lastID),"Object#"+u},s.isPrimitive=function(u){var f=typeof u>"u"?"undefined":a(u);return u==null||f!="object"&&f!="function"},n.exports=s},function(n,r,i){function a(y){if(Array.isArray(y)){for(var w=0,_=Array(y.length);w<y.length;w++)_[w]=y[w];return _}else return Array.from(y)}var s=i(0),u=i(6),f=i(3),d=i(1),c=i(5),h=i(4),p=i(17),v=i(27);function m(y){v.call(this),this.layoutQuality=s.QUALITY,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=s.DEFAULT_INCREMENTAL,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new u(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,y!=null&&(this.isRemoteUse=y)}m.RANDOM_SEED=1,m.prototype=Object.create(v.prototype),m.prototype.getGraphManager=function(){return this.graphManager},m.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},m.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},m.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},m.prototype.newGraphManager=function(){var y=new u(this);return this.graphManager=y,y},m.prototype.newGraph=function(y){return new c(null,this.graphManager,y)},m.prototype.newNode=function(y){return new f(this.graphManager,y)},m.prototype.newEdge=function(y){return new d(null,null,y)},m.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},m.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var y;return this.checkLayoutSuccess()?y=!1:y=this.layout(),s.ANIMATE==="during"?!1:(y&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,y)},m.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},m.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var y=this.graphManager.getAllEdges(),w=0;w<y.length;w++)y[w];for(var _=this.graphManager.getRoot().getNodes(),w=0;w<_.length;w++)_[w];this.update(this.graphManager.getRoot())}},m.prototype.update=function(y){if(y==null)this.update2();else if(y instanceof f){var w=y;if(w.getChild()!=null)for(var _=w.getChild().getNodes(),S=0;S<_.length;S++)update(_[S]);if(w.vGraphObject!=null){var C=w.vGraphObject;C.update(w)}}else if(y instanceof d){var $=y;if($.vGraphObject!=null){var k=$.vGraphObject;k.update($)}}else if(y instanceof c){var M=y;if(M.vGraphObject!=null){var A=M.vGraphObject;A.update(M)}}},m.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=s.QUALITY,this.animationDuringLayout=s.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=s.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=s.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=s.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=s.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=s.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},m.prototype.transform=function(y){if(y==null)this.transform(new h(0,0));else{var w=new p,_=this.graphManager.getRoot().updateLeftTop();if(_!=null){w.setWorldOrgX(y.x),w.setWorldOrgY(y.y),w.setDeviceOrgX(_.x),w.setDeviceOrgY(_.y);for(var S=this.getAllNodes(),C,$=0;$<S.length;$++)C=S[$],C.transform(w)}}},m.prototype.positionNodesRandomly=function(y){if(y==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var w,_,S=y.getNodes(),C=0;C<S.length;C++)w=S[C],_=w.getChild(),_==null||_.getNodes().length==0?w.scatter():(this.positionNodesRandomly(_),w.updateBounds())},m.prototype.getFlatForest=function(){for(var y=[],w=!0,_=this.graphManager.getRoot().getNodes(),S=!0,C=0;C<_.length;C++)_[C].getChild()!=null&&(S=!1);if(!S)return y;var $=new Set,k=[],M=new Map,A=[];for(A=A.concat(_);A.length>0&&w;){for(k.push(A[0]);k.length>0&&w;){var L=k[0];k.splice(0,1),$.add(L);for(var N=L.getEdges(),C=0;C<N.length;C++){var R=N[C].getOtherEnd(L);if(M.get(L)!=R)if(!$.has(R))k.push(R),M.set(R,L);else{w=!1;break}}}if(!w)y=[];else{var D=[].concat(a($));y.push(D);for(var C=0;C<D.length;C++){var j=D[C],U=A.indexOf(j);U>-1&&A.splice(U,1)}$=new Set,M=new Map}}return y},m.prototype.createDummyNodesForBendpoints=function(y){for(var w=[],_=y.source,S=this.graphManager.calcLowestCommonAncestor(y.source,y.target),C=0;C<y.bendpoints.length;C++){var $=this.newNode(null);$.setRect(new Point(0,0),new Dimension(1,1)),S.add($);var k=this.newEdge(null);this.graphManager.add(k,_,$),w.add($),_=$}var k=this.newEdge(null);return this.graphManager.add(k,_,y.target),this.edgeToDummyNodes.set(y,w),y.isInterGraph()?this.graphManager.remove(y):S.remove(y),w},m.prototype.createBendpointsFromDummyNodes=function(){var y=[];y=y.concat(this.graphManager.getAllEdges()),y=[].concat(a(this.edgeToDummyNodes.keys())).concat(y);for(var w=0;w<y.length;w++){var _=y[w];if(_.bendpoints.length>0){for(var S=this.edgeToDummyNodes.get(_),C=0;C<S.length;C++){var $=S[C],k=new h($.getCenterX(),$.getCenterY()),M=_.bendpoints.get(C);M.x=k.x,M.y=k.y,$.getOwner().remove($)}this.graphManager.add(_,_.source,_.target)}}},m.transform=function(y,w,_,S){if(_!=null&&S!=null){var C=w;if(y<=50){var $=w/_;C-=(w-$)/50*(50-y)}else{var k=w*S;C+=(k-w)/50*(y-50)}return C}else{var M,A;return y<=50?(M=9*w/500,A=w/10):(M=9*w/50,A=-8*w),M*y+A}},m.findCenterOfTree=function(y){var w=[];w=w.concat(y);var _=[],S=new Map,C=!1,$=null;(w.length==1||w.length==2)&&(C=!0,$=w[0]);for(var k=0;k<w.length;k++){var M=w[k],A=M.getNeighborsList().size;S.set(M,M.getNeighborsList().size),A==1&&_.push(M)}var L=[];for(L=L.concat(_);!C;){var N=[];N=N.concat(L),L=[];for(var k=0;k<w.length;k++){var M=w[k],R=w.indexOf(M);R>=0&&w.splice(R,1);var D=M.getNeighborsList();D.forEach(function(H){if(_.indexOf(H)<0){var Y=S.get(H),Z=Y-1;Z==1&&L.push(H),S.set(H,Z)}})}_=_.concat(L),(w.length==1||w.length==2)&&(C=!0,$=w[0])}return $},m.prototype.setGraphManager=function(y){this.graphManager=y},n.exports=m},function(n,r,i){function a(){}a.seed=1,a.x=0,a.nextDouble=function(){return a.x=Math.sin(a.seed++)*1e4,a.x-Math.floor(a.x)},n.exports=a},function(n,r,i){var a=i(4);function s(u,f){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}s.prototype.getWorldOrgX=function(){return this.lworldOrgX},s.prototype.setWorldOrgX=function(u){this.lworldOrgX=u},s.prototype.getWorldOrgY=function(){return this.lworldOrgY},s.prototype.setWorldOrgY=function(u){this.lworldOrgY=u},s.prototype.getWorldExtX=function(){return this.lworldExtX},s.prototype.setWorldExtX=function(u){this.lworldExtX=u},s.prototype.getWorldExtY=function(){return this.lworldExtY},s.prototype.setWorldExtY=function(u){this.lworldExtY=u},s.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},s.prototype.setDeviceOrgX=function(u){this.ldeviceOrgX=u},s.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},s.prototype.setDeviceOrgY=function(u){this.ldeviceOrgY=u},s.prototype.getDeviceExtX=function(){return this.ldeviceExtX},s.prototype.setDeviceExtX=function(u){this.ldeviceExtX=u},s.prototype.getDeviceExtY=function(){return this.ldeviceExtY},s.prototype.setDeviceExtY=function(u){this.ldeviceExtY=u},s.prototype.transformX=function(u){var f=0,d=this.lworldExtX;return d!=0&&(f=this.ldeviceOrgX+(u-this.lworldOrgX)*this.ldeviceExtX/d),f},s.prototype.transformY=function(u){var f=0,d=this.lworldExtY;return d!=0&&(f=this.ldeviceOrgY+(u-this.lworldOrgY)*this.ldeviceExtY/d),f},s.prototype.inverseTransformX=function(u){var f=0,d=this.ldeviceExtX;return d!=0&&(f=this.lworldOrgX+(u-this.ldeviceOrgX)*this.lworldExtX/d),f},s.prototype.inverseTransformY=function(u){var f=0,d=this.ldeviceExtY;return d!=0&&(f=this.lworldOrgY+(u-this.ldeviceOrgY)*this.lworldExtY/d),f},s.prototype.inverseTransformPoint=function(u){var f=new a(this.inverseTransformX(u.x),this.inverseTransformY(u.y));return f},n.exports=s},function(n,r,i){function a(v){if(Array.isArray(v)){for(var m=0,y=Array(v.length);m<v.length;m++)y[m]=v[m];return y}else return Array.from(v)}var s=i(15),u=i(7),f=i(0),d=i(8),c=i(9);function h(){s.call(this),this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH,this.springConstant=u.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=u.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=u.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=u.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*u.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=u.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=u.MAX_ITERATIONS}h.prototype=Object.create(s.prototype);for(var p in s)h[p]=s[p];h.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=u.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},h.prototype.calcIdealEdgeLengths=function(){for(var v,m,y,w,_,S,C=this.getGraphManager().getAllEdges(),$=0;$<C.length;$++)v=C[$],v.idealLength=this.idealEdgeLength,v.isInterGraph&&(y=v.getSource(),w=v.getTarget(),_=v.getSourceInLca().getEstimatedSize(),S=v.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(v.idealLength+=_+S-2*f.SIMPLE_NODE_SIZE),m=v.getLca().getInclusionTreeDepth(),v.idealLength+=u.DEFAULT_EDGE_LENGTH*u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(y.getInclusionTreeDepth()+w.getInclusionTreeDepth()-2*m))},h.prototype.initSpringEmbedder=function(){var v=this.getAllNodes().length;this.incremental?(v>u.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*u.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(v-u.ADAPTATION_LOWER_NODE_LIMIT)/(u.ADAPTATION_UPPER_NODE_LIMIT-u.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-u.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=u.MAX_NODE_DISPLACEMENT_INCREMENTAL):(v>u.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(u.COOLING_ADAPTATION_FACTOR,1-(v-u.ADAPTATION_LOWER_NODE_LIMIT)/(u.ADAPTATION_UPPER_NODE_LIMIT-u.ADAPTATION_LOWER_NODE_LIMIT)*(1-u.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=u.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},h.prototype.calcSpringForces=function(){for(var v=this.getAllEdges(),m,y=0;y<v.length;y++)m=v[y],this.calcSpringForce(m,m.idealLength)},h.prototype.calcRepulsionForces=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y,w,_,S,C=this.getAllNodes(),$;if(this.useFRGridVariant)for(this.totalIterations%u.GRID_CALCULATION_CHECK_PERIOD==1&&v&&this.updateGrid(),$=new Set,y=0;y<C.length;y++)_=C[y],this.calculateRepulsionForceOfANode(_,$,v,m),$.add(_);else for(y=0;y<C.length;y++)for(_=C[y],w=y+1;w<C.length;w++)S=C[w],_.getOwner()==S.getOwner()&&this.calcRepulsionForce(_,S)},h.prototype.calcGravitationalForces=function(){for(var v,m=this.getAllNodesToApplyGravitation(),y=0;y<m.length;y++)v=m[y],this.calcGravitationalForce(v)},h.prototype.moveNodes=function(){for(var v=this.getAllNodes(),m,y=0;y<v.length;y++)m=v[y],m.move()},h.prototype.calcSpringForce=function(v,m){var y=v.getSource(),w=v.getTarget(),_,S,C,$;if(this.uniformLeafNodeSizes&&y.getChild()==null&&w.getChild()==null)v.updateLengthSimple();else if(v.updateLength(),v.isOverlapingSourceAndTarget)return;_=v.getLength(),_!=0&&(S=this.springConstant*(_-m),C=S*(v.lengthX/_),$=S*(v.lengthY/_),y.springForceX+=C,y.springForceY+=$,w.springForceX-=C,w.springForceY-=$)},h.prototype.calcRepulsionForce=function(v,m){var y=v.getRect(),w=m.getRect(),_=new Array(2),S=new Array(4),C,$,k,M,A,L,N;if(y.intersects(w)){d.calcSeparationAmount(y,w,_,u.DEFAULT_EDGE_LENGTH/2),L=2*_[0],N=2*_[1];var R=v.noOfChildren*m.noOfChildren/(v.noOfChildren+m.noOfChildren);v.repulsionForceX-=R*L,v.repulsionForceY-=R*N,m.repulsionForceX+=R*L,m.repulsionForceY+=R*N}else this.uniformLeafNodeSizes&&v.getChild()==null&&m.getChild()==null?(C=w.getCenterX()-y.getCenterX(),$=w.getCenterY()-y.getCenterY()):(d.getIntersection(y,w,S),C=S[2]-S[0],$=S[3]-S[1]),Math.abs(C)<u.MIN_REPULSION_DIST&&(C=c.sign(C)*u.MIN_REPULSION_DIST),Math.abs($)<u.MIN_REPULSION_DIST&&($=c.sign($)*u.MIN_REPULSION_DIST),k=C*C+$*$,M=Math.sqrt(k),A=this.repulsionConstant*v.noOfChildren*m.noOfChildren/k,L=A*C/M,N=A*$/M,v.repulsionForceX-=L,v.repulsionForceY-=N,m.repulsionForceX+=L,m.repulsionForceY+=N},h.prototype.calcGravitationalForce=function(v){var m,y,w,_,S,C,$,k;m=v.getOwner(),y=(m.getRight()+m.getLeft())/2,w=(m.getTop()+m.getBottom())/2,_=v.getCenterX()-y,S=v.getCenterY()-w,C=Math.abs(_)+v.getWidth()/2,$=Math.abs(S)+v.getHeight()/2,v.getOwner()==this.graphManager.getRoot()?(k=m.getEstimatedSize()*this.gravityRangeFactor,(C>k||$>k)&&(v.gravitationForceX=-this.gravityConstant*_,v.gravitationForceY=-this.gravityConstant*S)):(k=m.getEstimatedSize()*this.compoundGravityRangeFactor,(C>k||$>k)&&(v.gravitationForceX=-this.gravityConstant*_*this.compoundGravityConstant,v.gravitationForceY=-this.gravityConstant*S*this.compoundGravityConstant))},h.prototype.isConverged=function(){var v,m=!1;return this.totalIterations>this.maxIterations/3&&(m=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),v=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,v||m},h.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},h.prototype.calcNoOfChildrenForAllNodes=function(){for(var v,m=this.graphManager.getAllNodes(),y=0;y<m.length;y++)v=m[y],v.noOfChildren=v.getNoOfChildren()},h.prototype.calcGrid=function(v){var m=0,y=0;m=parseInt(Math.ceil((v.getRight()-v.getLeft())/this.repulsionRange)),y=parseInt(Math.ceil((v.getBottom()-v.getTop())/this.repulsionRange));for(var w=new Array(m),_=0;_<m;_++)w[_]=new Array(y);for(var _=0;_<m;_++)for(var S=0;S<y;S++)w[_][S]=new Array;return w},h.prototype.addNodeToGrid=function(v,m,y){var w=0,_=0,S=0,C=0;w=parseInt(Math.floor((v.getRect().x-m)/this.repulsionRange)),_=parseInt(Math.floor((v.getRect().width+v.getRect().x-m)/this.repulsionRange)),S=parseInt(Math.floor((v.getRect().y-y)/this.repulsionRange)),C=parseInt(Math.floor((v.getRect().height+v.getRect().y-y)/this.repulsionRange));for(var $=w;$<=_;$++)for(var k=S;k<=C;k++)this.grid[$][k].push(v),v.setGridCoordinates(w,_,S,C)},h.prototype.updateGrid=function(){var v,m,y=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),v=0;v<y.length;v++)m=y[v],this.addNodeToGrid(m,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},h.prototype.calculateRepulsionForceOfANode=function(v,m,y,w){if(this.totalIterations%u.GRID_CALCULATION_CHECK_PERIOD==1&&y||w){var _=new Set;v.surrounding=new Array;for(var S,C=this.grid,$=v.startX-1;$<v.finishX+2;$++)for(var k=v.startY-1;k<v.finishY+2;k++)if(!($<0||k<0||$>=C.length||k>=C[0].length)){for(var M=0;M<C[$][k].length;M++)if(S=C[$][k][M],!(v.getOwner()!=S.getOwner()||v==S)&&!m.has(S)&&!_.has(S)){var A=Math.abs(v.getCenterX()-S.getCenterX())-(v.getWidth()/2+S.getWidth()/2),L=Math.abs(v.getCenterY()-S.getCenterY())-(v.getHeight()/2+S.getHeight()/2);A<=this.repulsionRange&&L<=this.repulsionRange&&_.add(S)}}v.surrounding=[].concat(a(_))}for($=0;$<v.surrounding.length;$++)this.calcRepulsionForce(v,v.surrounding[$])},h.prototype.calcRepulsionRange=function(){return 0},n.exports=h},function(n,r,i){var a=i(1),s=i(7);function u(d,c,h){a.call(this,d,c,h),this.idealLength=s.DEFAULT_EDGE_LENGTH}u.prototype=Object.create(a.prototype);for(var f in a)u[f]=a[f];n.exports=u},function(n,r,i){var a=i(3);function s(f,d,c,h){a.call(this,f,d,c,h),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}s.prototype=Object.create(a.prototype);for(var u in a)s[u]=a[u];s.prototype.setGridCoordinates=function(f,d,c,h){this.startX=f,this.finishX=d,this.startY=c,this.finishY=h},n.exports=s},function(n,r,i){function a(s,u){this.width=0,this.height=0,s!==null&&u!==null&&(this.height=u,this.width=s)}a.prototype.getWidth=function(){return this.width},a.prototype.setWidth=function(s){this.width=s},a.prototype.getHeight=function(){return this.height},a.prototype.setHeight=function(s){this.height=s},n.exports=a},function(n,r,i){var a=i(14);function s(){this.map={},this.keys=[]}s.prototype.put=function(u,f){var d=a.createID(u);this.contains(d)||(this.map[d]=f,this.keys.push(u))},s.prototype.contains=function(u){return a.createID(u),this.map[u]!=null},s.prototype.get=function(u){var f=a.createID(u);return this.map[f]},s.prototype.keySet=function(){return this.keys},n.exports=s},function(n,r,i){var a=i(14);function s(){this.set={}}s.prototype.add=function(u){var f=a.createID(u);this.contains(f)||(this.set[f]=u)},s.prototype.remove=function(u){delete this.set[a.createID(u)]},s.prototype.clear=function(){this.set={}},s.prototype.contains=function(u){return this.set[a.createID(u)]==u},s.prototype.isEmpty=function(){return this.size()===0},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAllTo=function(u){for(var f=Object.keys(this.set),d=f.length,c=0;c<d;c++)u.push(this.set[f[c]])},s.prototype.size=function(){return Object.keys(this.set).length},s.prototype.addAll=function(u){for(var f=u.length,d=0;d<f;d++){var c=u[d];this.add(c)}},n.exports=s},function(n,r,i){var a=function(){function d(c,h){for(var p=0;p<h.length;p++){var v=h[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,h,p){return h&&d(c.prototype,h),p&&d(c,p),c}}();function s(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")}var u=i(11),f=function(){function d(c,h){s(this,d),(h!==null||h!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var p=void 0;c instanceof u?p=c.size():p=c.length,this._quicksort(c,0,p-1)}return a(d,[{key:"_quicksort",value:function(h,p,v){if(p<v){var m=this._partition(h,p,v);this._quicksort(h,p,m),this._quicksort(h,m+1,v)}}},{key:"_partition",value:function(h,p,v){for(var m=this._get(h,p),y=p,w=v;;){for(;this.compareFunction(m,this._get(h,w));)w--;for(;this.compareFunction(this._get(h,y),m);)y++;if(y<w)this._swap(h,y,w),y++,w--;else return w}}},{key:"_get",value:function(h,p){return h instanceof u?h.get_object_at(p):h[p]}},{key:"_set",value:function(h,p,v){h instanceof u?h.set_object_at(p,v):h[p]=v}},{key:"_swap",value:function(h,p,v){var m=this._get(h,p);this._set(h,p,this._get(h,v)),this._set(h,v,m)}},{key:"_defaultCompareFunction",value:function(h,p){return p>h}}]),d}();n.exports=f},function(n,r,i){var a=function(){function f(d,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,c,h){return c&&f(d.prototype,c),h&&f(d,h),d}}();function s(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}var u=function(){function f(d,c){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;s(this,f),this.sequence1=d,this.sequence2=c,this.match_score=h,this.mismatch_penalty=p,this.gap_penalty=v,this.iMax=d.length+1,this.jMax=c.length+1,this.grid=new Array(this.iMax);for(var m=0;m<this.iMax;m++){this.grid[m]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.grid[m][y]=0}this.tracebackGrid=new Array(this.iMax);for(var w=0;w<this.iMax;w++){this.tracebackGrid[w]=new Array(this.jMax);for(var _=0;_<this.jMax;_++)this.tracebackGrid[w][_]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return a(f,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var c=1;c<this.jMax;c++)this.grid[0][c]=this.grid[0][c-1]+this.gap_penalty,this.tracebackGrid[0][c]=[!1,!1,!0];for(var h=1;h<this.iMax;h++)this.grid[h][0]=this.grid[h-1][0]+this.gap_penalty,this.tracebackGrid[h][0]=[!1,!0,!1];for(var p=1;p<this.iMax;p++)for(var v=1;v<this.jMax;v++){var m=void 0;this.sequence1[p-1]===this.sequence2[v-1]?m=this.grid[p-1][v-1]+this.match_score:m=this.grid[p-1][v-1]+this.mismatch_penalty;var y=this.grid[p-1][v]+this.gap_penalty,w=this.grid[p][v-1]+this.gap_penalty,_=[m,y,w],S=this.arrayAllMaxIndexes(_);this.grid[p][v]=_[S[0]],this.tracebackGrid[p][v]=[S.includes(0),S.includes(1),S.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var c=[];for(c.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});c[0];){var h=c[0],p=this.tracebackGrid[h.pos[0]][h.pos[1]];p[0]&&c.push({pos:[h.pos[0]-1,h.pos[1]-1],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),p[1]&&c.push({pos:[h.pos[0]-1,h.pos[1]],seq1:this.sequence1[h.pos[0]-1]+h.seq1,seq2:"-"+h.seq2}),p[2]&&c.push({pos:[h.pos[0],h.pos[1]-1],seq1:"-"+h.seq1,seq2:this.sequence2[h.pos[1]-1]+h.seq2}),h.pos[0]===0&&h.pos[1]===0&&this.alignments.push({sequence1:h.seq1,sequence2:h.seq2}),c.shift()}return this.alignments}},{key:"getAllIndexes",value:function(c,h){for(var p=[],v=-1;(v=c.indexOf(h,v+1))!==-1;)p.push(v);return p}},{key:"arrayAllMaxIndexes",value:function(c){return this.getAllIndexes(c,Math.max.apply(null,c))}}]),f}();n.exports=u},function(n,r,i){var a=function(){};a.FDLayout=i(18),a.FDLayoutConstants=i(7),a.FDLayoutEdge=i(19),a.FDLayoutNode=i(20),a.DimensionD=i(21),a.HashMap=i(22),a.HashSet=i(23),a.IGeometry=i(8),a.IMath=i(9),a.Integer=i(10),a.Point=i(12),a.PointD=i(4),a.RandomSeed=i(16),a.RectangleD=i(13),a.Transform=i(17),a.UniqueIDGeneretor=i(14),a.Quicksort=i(24),a.LinkedList=i(11),a.LGraphObject=i(2),a.LGraph=i(5),a.LEdge=i(1),a.LGraphManager=i(6),a.LNode=i(3),a.Layout=i(15),a.LayoutConstants=i(0),a.NeedlemanWunsch=i(25),n.exports=a},function(n,r,i){function a(){this.listeners=[]}var s=a.prototype;s.addListener=function(u,f){this.listeners.push({event:u,callback:f})},s.removeListener=function(u,f){for(var d=this.listeners.length;d>=0;d--){var c=this.listeners[d];c.event===u&&c.callback===f&&this.listeners.splice(d,1)}},s.emit=function(u,f){for(var d=0;d<this.listeners.length;d++){var c=this.listeners[d];u===c.event&&c.callback(f)}},n.exports=a}])})}(_Kt)),gre}var IVe;function SKt(){return IVe||(IVe=1,function(e,t){(function(r,i){e.exports=i(xKt())})($e,function(n){return function(r){var i={};function a(s){if(i[s])return i[s].exports;var u=i[s]={i:s,l:!1,exports:{}};return r[s].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=r,a.c=i,a.i=function(s){return s},a.d=function(s,u,f){a.o(s,u)||Object.defineProperty(s,u,{configurable:!1,enumerable:!0,get:f})},a.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(u,"a",u),u},a.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},a.p="",a(a.s=7)}([function(r,i){r.exports=n},function(r,i,a){var s=a(0).FDLayoutConstants;function u(){}for(var f in s)u[f]=s[f];u.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,u.DEFAULT_RADIAL_SEPARATION=s.DEFAULT_EDGE_LENGTH,u.DEFAULT_COMPONENT_SEPERATION=60,u.TILE=!0,u.TILING_PADDING_VERTICAL=10,u.TILING_PADDING_HORIZONTAL=10,u.TREE_REDUCTION_ON_INCREMENTAL=!1,r.exports=u},function(r,i,a){var s=a(0).FDLayoutEdge;function u(d,c,h){s.call(this,d,c,h)}u.prototype=Object.create(s.prototype);for(var f in s)u[f]=s[f];r.exports=u},function(r,i,a){var s=a(0).LGraph;function u(d,c,h){s.call(this,d,c,h)}u.prototype=Object.create(s.prototype);for(var f in s)u[f]=s[f];r.exports=u},function(r,i,a){var s=a(0).LGraphManager;function u(d){s.call(this,d)}u.prototype=Object.create(s.prototype);for(var f in s)u[f]=s[f];r.exports=u},function(r,i,a){var s=a(0).FDLayoutNode,u=a(0).IMath;function f(c,h,p,v){s.call(this,c,h,p,v)}f.prototype=Object.create(s.prototype);for(var d in s)f[d]=s[d];f.prototype.move=function(){var c=this.graphManager.getLayout();this.displacementX=c.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=c.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementX=c.coolingFactor*c.maxNodeDisplacement*u.sign(this.displacementX)),Math.abs(this.displacementY)>c.coolingFactor*c.maxNodeDisplacement&&(this.displacementY=c.coolingFactor*c.maxNodeDisplacement*u.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),c.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},f.prototype.propogateDisplacementToChildren=function(c,h){for(var p=this.getChild().getNodes(),v,m=0;m<p.length;m++)v=p[m],v.getChild()==null?(v.moveBy(c,h),v.displacementX+=c,v.displacementY+=h):v.propogateDisplacementToChildren(c,h)},f.prototype.setPred1=function(c){this.pred1=c},f.prototype.getPred1=function(){return pred1},f.prototype.getPred2=function(){return pred2},f.prototype.setNext=function(c){this.next=c},f.prototype.getNext=function(){return next},f.prototype.setProcessed=function(c){this.processed=c},f.prototype.isProcessed=function(){return processed},r.exports=f},function(r,i,a){var s=a(0).FDLayout,u=a(4),f=a(3),d=a(5),c=a(2),h=a(1),p=a(0).FDLayoutConstants,v=a(0).LayoutConstants,m=a(0).Point,y=a(0).PointD,w=a(0).Layout,_=a(0).Integer,S=a(0).IGeometry,C=a(0).LGraph,$=a(0).Transform;function k(){s.call(this),this.toBeTiled={}}k.prototype=Object.create(s.prototype);for(var M in s)k[M]=s[M];k.prototype.newGraphManager=function(){var A=new u(this);return this.graphManager=A,A},k.prototype.newGraph=function(A){return new f(null,this.graphManager,A)},k.prototype.newNode=function(A){return new d(this.graphManager,A)},k.prototype.newEdge=function(A){return new c(null,null,A)},k.prototype.initParameters=function(){s.prototype.initParameters.call(this,arguments),this.isSubLayout||(h.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=h.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=h.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=p.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=p.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=p.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=p.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=p.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=p.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/p.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=p.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},k.prototype.layout=function(){var A=v.DEFAULT_CREATE_BENDS_AS_NEEDED;return A&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},k.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(h.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(j){return L.has(j)});this.graphManager.setAllNodesToApplyGravitation(N)}}else{var A=this.getFlatForest();if(A.length>0)this.positionNodesRadially(A);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var L=new Set(this.getAllNodes()),N=this.nodesWithGravity.filter(function(R){return L.has(R)});this.graphManager.setAllNodesToApplyGravitation(N),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},k.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%p.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var A=new Set(this.getAllNodes()),L=this.nodesWithGravity.filter(function(D){return A.has(D)});this.graphManager.setAllNodesToApplyGravitation(L),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=p.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var N=!this.isTreeGrowing&&!this.isGrowthFinished,R=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(N,R),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},k.prototype.getPositionsData=function(){for(var A=this.graphManager.getAllNodes(),L={},N=0;N<A.length;N++){var R=A[N].rect,D=A[N].id;L[D]={id:D,x:R.getCenterX(),y:R.getCenterY(),w:R.width,h:R.height}}return L},k.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var A=!1;if(p.ANIMATE==="during")this.emit("layoutstarted");else{for(;!A;)A=this.tick();this.graphManager.updateBounds()}},k.prototype.calculateNodesToApplyGravitationTo=function(){var A=[],L,N=this.graphManager.getGraphs(),R=N.length,D;for(D=0;D<R;D++)L=N[D],L.updateConnected(),L.isConnected||(A=A.concat(L.getNodes()));return A},k.prototype.createBendpoints=function(){var A=[];A=A.concat(this.graphManager.getAllEdges());var L=new Set,N;for(N=0;N<A.length;N++){var R=A[N];if(!L.has(R)){var D=R.getSource(),j=R.getTarget();if(D==j)R.getBendpoints().push(new y),R.getBendpoints().push(new y),this.createDummyNodesForBendpoints(R),L.add(R);else{var U=[];if(U=U.concat(D.getEdgeListToNode(j)),U=U.concat(j.getEdgeListToNode(D)),!L.has(U[0])){if(U.length>1){var H;for(H=0;H<U.length;H++){var Y=U[H];Y.getBendpoints().push(new y),this.createDummyNodesForBendpoints(Y)}}U.forEach(function(Z){L.add(Z)})}}}if(L.size==A.length)break}},k.prototype.positionNodesRadially=function(A){for(var L=new m(0,0),N=Math.ceil(Math.sqrt(A.length)),R=0,D=0,j=0,U=new y(0,0),H=0;H<A.length;H++){H%N==0&&(j=0,D=R,H!=0&&(D+=h.DEFAULT_COMPONENT_SEPERATION),R=0);var Y=A[H],Z=w.findCenterOfTree(Y);L.x=j,L.y=D,U=k.radialLayout(Y,Z,L),U.y>R&&(R=Math.floor(U.y)),j=Math.floor(U.x+h.DEFAULT_COMPONENT_SEPERATION)}this.transform(new y(v.WORLD_CENTER_X-U.x/2,v.WORLD_CENTER_Y-U.y/2))},k.radialLayout=function(A,L,N){var R=Math.max(this.maxDiagonalInTree(A),h.DEFAULT_RADIAL_SEPARATION);k.branchRadialLayout(L,null,0,359,0,R);var D=C.calculateBounds(A),j=new $;j.setDeviceOrgX(D.getMinX()),j.setDeviceOrgY(D.getMinY()),j.setWorldOrgX(N.x),j.setWorldOrgY(N.y);for(var U=0;U<A.length;U++){var H=A[U];H.transform(j)}var Y=new y(D.getMaxX(),D.getMaxY());return j.inverseTransformPoint(Y)},k.branchRadialLayout=function(A,L,N,R,D,j){var U=(R-N+1)/2;U<0&&(U+=180);var H=(U+N)%360,Y=H*S.TWO_PI/360,Z=D*Math.cos(Y),Q=D*Math.sin(Y);A.setCenter(Z,Q);var ee=[];ee=ee.concat(A.getEdges());var oe=ee.length;L!=null&&oe--;for(var ue=0,ve=ee.length,le,de=A.getEdgesBetween(L);de.length>1;){var me=de[0];de.splice(0,1);var Se=ee.indexOf(me);Se>=0&&ee.splice(Se,1),ve--,oe--}L!=null?le=(ee.indexOf(de[0])+1)%ve:le=0;for(var Ee=Math.abs(R-N)/oe,xe=le;ue!=oe;xe=++xe%ve){var Ie=ee[xe].getOtherEnd(A);if(Ie!=L){var Ne=(N+ue*Ee)%360,We=(Ne+Ee)%360;k.branchRadialLayout(Ie,A,Ne,We,D+j,j),ue++}}},k.maxDiagonalInTree=function(A){for(var L=_.MIN_VALUE,N=0;N<A.length;N++){var R=A[N],D=R.getDiagonal();D>L&&(L=D)}return L},k.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},k.prototype.groupZeroDegreeMembers=function(){var A=this,L={};this.memberGroups={},this.idToDummyNode={};for(var N=[],R=this.graphManager.getAllNodes(),D=0;D<R.length;D++){var j=R[D],U=j.getParent();this.getNodeDegreeWithChildren(j)===0&&(U.id==null||!this.getToBeTiled(U))&&N.push(j)}for(var D=0;D<N.length;D++){var j=N[D],H=j.getParent().id;typeof L[H]>"u"&&(L[H]=[]),L[H]=L[H].concat(j)}Object.keys(L).forEach(function(Y){if(L[Y].length>1){var Z="DummyCompound_"+Y;A.memberGroups[Z]=L[Y];var Q=L[Y][0].getParent(),ee=new d(A.graphManager);ee.id=Z,ee.paddingLeft=Q.paddingLeft||0,ee.paddingRight=Q.paddingRight||0,ee.paddingBottom=Q.paddingBottom||0,ee.paddingTop=Q.paddingTop||0,A.idToDummyNode[Z]=ee;var oe=A.getGraphManager().add(A.newGraph(),ee),ue=Q.getChild();ue.add(ee);for(var ve=0;ve<L[Y].length;ve++){var le=L[Y][ve];ue.remove(le),oe.add(le)}}})},k.prototype.clearCompounds=function(){var A={},L={};this.performDFSOnCompounds();for(var N=0;N<this.compoundOrder.length;N++)L[this.compoundOrder[N].id]=this.compoundOrder[N],A[this.compoundOrder[N].id]=[].concat(this.compoundOrder[N].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[N].getChild()),this.compoundOrder[N].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(A,L)},k.prototype.clearZeroDegreeMembers=function(){var A=this,L=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(N){var R=A.idToDummyNode[N];L[N]=A.tileNodes(A.memberGroups[N],R.paddingLeft+R.paddingRight),R.rect.width=L[N].width,R.rect.height=L[N].height})},k.prototype.repopulateCompounds=function(){for(var A=this.compoundOrder.length-1;A>=0;A--){var L=this.compoundOrder[A],N=L.id,R=L.paddingLeft,D=L.paddingTop;this.adjustLocations(this.tiledMemberPack[N],L.rect.x,L.rect.y,R,D)}},k.prototype.repopulateZeroDegreeMembers=function(){var A=this,L=this.tiledZeroDegreePack;Object.keys(L).forEach(function(N){var R=A.idToDummyNode[N],D=R.paddingLeft,j=R.paddingTop;A.adjustLocations(L[N],R.rect.x,R.rect.y,D,j)})},k.prototype.getToBeTiled=function(A){var L=A.id;if(this.toBeTiled[L]!=null)return this.toBeTiled[L];var N=A.getChild();if(N==null)return this.toBeTiled[L]=!1,!1;for(var R=N.getNodes(),D=0;D<R.length;D++){var j=R[D];if(this.getNodeDegree(j)>0)return this.toBeTiled[L]=!1,!1;if(j.getChild()==null){this.toBeTiled[j.id]=!1;continue}if(!this.getToBeTiled(j))return this.toBeTiled[L]=!1,!1}return this.toBeTiled[L]=!0,!0},k.prototype.getNodeDegree=function(A){A.id;for(var L=A.getEdges(),N=0,R=0;R<L.length;R++){var D=L[R];D.getSource().id!==D.getTarget().id&&(N=N+1)}return N},k.prototype.getNodeDegreeWithChildren=function(A){var L=this.getNodeDegree(A);if(A.getChild()==null)return L;for(var N=A.getChild().getNodes(),R=0;R<N.length;R++){var D=N[R];L+=this.getNodeDegreeWithChildren(D)}return L},k.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},k.prototype.fillCompexOrderByDFS=function(A){for(var L=0;L<A.length;L++){var N=A[L];N.getChild()!=null&&this.fillCompexOrderByDFS(N.getChild().getNodes()),this.getToBeTiled(N)&&this.compoundOrder.push(N)}},k.prototype.adjustLocations=function(A,L,N,R,D){L+=R,N+=D;for(var j=L,U=0;U<A.rows.length;U++){var H=A.rows[U];L=j;for(var Y=0,Z=0;Z<H.length;Z++){var Q=H[Z];Q.rect.x=L,Q.rect.y=N,L+=Q.rect.width+A.horizontalPadding,Q.rect.height>Y&&(Y=Q.rect.height)}N+=Y+A.verticalPadding}},k.prototype.tileCompoundMembers=function(A,L){var N=this;this.tiledMemberPack=[],Object.keys(A).forEach(function(R){var D=L[R];N.tiledMemberPack[R]=N.tileNodes(A[R],D.paddingLeft+D.paddingRight),D.rect.width=N.tiledMemberPack[R].width,D.rect.height=N.tiledMemberPack[R].height})},k.prototype.tileNodes=function(A,L){var N=h.TILING_PADDING_VERTICAL,R=h.TILING_PADDING_HORIZONTAL,D={rows:[],rowWidth:[],rowHeight:[],width:0,height:L,verticalPadding:N,horizontalPadding:R};A.sort(function(H,Y){return H.rect.width*H.rect.height>Y.rect.width*Y.rect.height?-1:H.rect.width*H.rect.height<Y.rect.width*Y.rect.height?1:0});for(var j=0;j<A.length;j++){var U=A[j];D.rows.length==0?this.insertNodeToRow(D,U,0,L):this.canAddHorizontal(D,U.rect.width,U.rect.height)?this.insertNodeToRow(D,U,this.getShortestRowIndex(D),L):this.insertNodeToRow(D,U,D.rows.length,L),this.shiftToLastRow(D)}return D},k.prototype.insertNodeToRow=function(A,L,N,R){var D=R;if(N==A.rows.length){var j=[];A.rows.push(j),A.rowWidth.push(D),A.rowHeight.push(0)}var U=A.rowWidth[N]+L.rect.width;A.rows[N].length>0&&(U+=A.horizontalPadding),A.rowWidth[N]=U,A.width<U&&(A.width=U);var H=L.rect.height;N>0&&(H+=A.verticalPadding);var Y=0;H>A.rowHeight[N]&&(Y=A.rowHeight[N],A.rowHeight[N]=H,Y=A.rowHeight[N]-Y),A.height+=Y,A.rows[N].push(L)},k.prototype.getShortestRowIndex=function(A){for(var L=-1,N=Number.MAX_VALUE,R=0;R<A.rows.length;R++)A.rowWidth[R]<N&&(L=R,N=A.rowWidth[R]);return L},k.prototype.getLongestRowIndex=function(A){for(var L=-1,N=Number.MIN_VALUE,R=0;R<A.rows.length;R++)A.rowWidth[R]>N&&(L=R,N=A.rowWidth[R]);return L},k.prototype.canAddHorizontal=function(A,L,N){var R=this.getShortestRowIndex(A);if(R<0)return!0;var D=A.rowWidth[R];if(D+A.horizontalPadding+L<=A.width)return!0;var j=0;A.rowHeight[R]<N&&R>0&&(j=N+A.verticalPadding-A.rowHeight[R]);var U;A.width-D>=L+A.horizontalPadding?U=(A.height+j)/(D+L+A.horizontalPadding):U=(A.height+j)/A.width,j=N+A.verticalPadding;var H;return A.width<L?H=(A.height+j)/L:H=(A.height+j)/A.width,H<1&&(H=1/H),U<1&&(U=1/U),U<H},k.prototype.shiftToLastRow=function(A){var L=this.getLongestRowIndex(A),N=A.rowWidth.length-1,R=A.rows[L],D=R[R.length-1],j=D.width+A.horizontalPadding;if(A.width-A.rowWidth[N]>j&&L!=N){R.splice(-1,1),A.rows[N].push(D),A.rowWidth[L]=A.rowWidth[L]-j,A.rowWidth[N]=A.rowWidth[N]+j,A.width=A.rowWidth[instance.getLongestRowIndex(A)];for(var U=Number.MIN_VALUE,H=0;H<R.length;H++)R[H].height>U&&(U=R[H].height);L>0&&(U+=A.verticalPadding);var Y=A.rowHeight[L]+A.rowHeight[N];A.rowHeight[L]=U,A.rowHeight[N]<D.height+A.verticalPadding&&(A.rowHeight[N]=D.height+A.verticalPadding);var Z=A.rowHeight[L]+A.rowHeight[N];A.height+=Z-Y,this.shiftToLastRow(A)}},k.prototype.tilingPreLayout=function(){h.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},k.prototype.tilingPostLayout=function(){h.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},k.prototype.reduceTrees=function(){for(var A=[],L=!0,N;L;){var R=this.graphManager.getAllNodes(),D=[];L=!1;for(var j=0;j<R.length;j++)N=R[j],N.getEdges().length==1&&!N.getEdges()[0].isInterGraph&&N.getChild()==null&&(D.push([N,N.getEdges()[0],N.getOwner()]),L=!0);if(L==!0){for(var U=[],H=0;H<D.length;H++)D[H][0].getEdges().length==1&&(U.push(D[H]),D[H][0].getOwner().remove(D[H][0]));A.push(U),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=A},k.prototype.growTree=function(A){for(var L=A.length,N=A[L-1],R,D=0;D<N.length;D++)R=N[D],this.findPlaceforPrunedNode(R),R[2].add(R[0]),R[2].add(R[1],R[1].source,R[1].target);A.splice(A.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},k.prototype.findPlaceforPrunedNode=function(A){var L,N,R=A[0];R==A[1].source?N=A[1].target:N=A[1].source;var D=N.startX,j=N.finishX,U=N.startY,H=N.finishY,Y=0,Z=0,Q=0,ee=0,oe=[Y,Q,Z,ee];if(U>0)for(var ue=D;ue<=j;ue++)oe[0]+=this.grid[ue][U-1].length+this.grid[ue][U].length-1;if(j<this.grid.length-1)for(var ue=U;ue<=H;ue++)oe[1]+=this.grid[j+1][ue].length+this.grid[j][ue].length-1;if(H<this.grid[0].length-1)for(var ue=D;ue<=j;ue++)oe[2]+=this.grid[ue][H+1].length+this.grid[ue][H].length-1;if(D>0)for(var ue=U;ue<=H;ue++)oe[3]+=this.grid[D-1][ue].length+this.grid[D][ue].length-1;for(var ve=_.MAX_VALUE,le,de,me=0;me<oe.length;me++)oe[me]<ve?(ve=oe[me],le=1,de=me):oe[me]==ve&&le++;if(le==3&&ve==0)oe[0]==0&&oe[1]==0&&oe[2]==0?L=1:oe[0]==0&&oe[1]==0&&oe[3]==0?L=0:oe[0]==0&&oe[2]==0&&oe[3]==0?L=3:oe[1]==0&&oe[2]==0&&oe[3]==0&&(L=2);else if(le==2&&ve==0){var Se=Math.floor(Math.random()*2);oe[0]==0&&oe[1]==0?Se==0?L=0:L=1:oe[0]==0&&oe[2]==0?Se==0?L=0:L=2:oe[0]==0&&oe[3]==0?Se==0?L=0:L=3:oe[1]==0&&oe[2]==0?Se==0?L=1:L=2:oe[1]==0&&oe[3]==0?Se==0?L=1:L=3:Se==0?L=2:L=3}else if(le==4&&ve==0){var Se=Math.floor(Math.random()*4);L=Se}else L=de;L==0?R.setCenter(N.getCenterX(),N.getCenterY()-N.getHeight()/2-p.DEFAULT_EDGE_LENGTH-R.getHeight()/2):L==1?R.setCenter(N.getCenterX()+N.getWidth()/2+p.DEFAULT_EDGE_LENGTH+R.getWidth()/2,N.getCenterY()):L==2?R.setCenter(N.getCenterX(),N.getCenterY()+N.getHeight()/2+p.DEFAULT_EDGE_LENGTH+R.getHeight()/2):R.setCenter(N.getCenterX()-N.getWidth()/2-p.DEFAULT_EDGE_LENGTH-R.getWidth()/2,N.getCenterY())},r.exports=k},function(r,i,a){var s={};s.layoutBase=a(0),s.CoSEConstants=a(1),s.CoSEEdge=a(2),s.CoSEGraph=a(3),s.CoSEGraphManager=a(4),s.CoSELayout=a(6),s.CoSENode=a(5),r.exports=s}])})}(wKt)),hre}(function(e,t){(function(r,i){e.exports=i(SKt())})($e,function(n){return function(r){var i={};function a(s){if(i[s])return i[s].exports;var u=i[s]={i:s,l:!1,exports:{}};return r[s].call(u.exports,u,u.exports,a),u.l=!0,u.exports}return a.m=r,a.c=i,a.i=function(s){return s},a.d=function(s,u,f){a.o(s,u)||Object.defineProperty(s,u,{configurable:!1,enumerable:!0,get:f})},a.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(u,"a",u),u},a.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},a.p="",a(a.s=1)}([function(r,i){r.exports=n},function(r,i,a){var s=a(0).layoutBase.LayoutConstants,u=a(0).layoutBase.FDLayoutConstants,f=a(0).CoSEConstants,d=a(0).CoSELayout,c=a(0).CoSENode,h=a(0).layoutBase.PointD,p=a(0).layoutBase.DimensionD,v={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function m(S,C){var $={};for(var k in S)$[k]=S[k];for(var k in C)$[k]=C[k];return $}function y(S){this.options=m(v,S),w(this.options)}var w=function(C){C.nodeRepulsion!=null&&(f.DEFAULT_REPULSION_STRENGTH=u.DEFAULT_REPULSION_STRENGTH=C.nodeRepulsion),C.idealEdgeLength!=null&&(f.DEFAULT_EDGE_LENGTH=u.DEFAULT_EDGE_LENGTH=C.idealEdgeLength),C.edgeElasticity!=null&&(f.DEFAULT_SPRING_STRENGTH=u.DEFAULT_SPRING_STRENGTH=C.edgeElasticity),C.nestingFactor!=null&&(f.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=u.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=C.nestingFactor),C.gravity!=null&&(f.DEFAULT_GRAVITY_STRENGTH=u.DEFAULT_GRAVITY_STRENGTH=C.gravity),C.numIter!=null&&(f.MAX_ITERATIONS=u.MAX_ITERATIONS=C.numIter),C.gravityRange!=null&&(f.DEFAULT_GRAVITY_RANGE_FACTOR=u.DEFAULT_GRAVITY_RANGE_FACTOR=C.gravityRange),C.gravityCompound!=null&&(f.DEFAULT_COMPOUND_GRAVITY_STRENGTH=u.DEFAULT_COMPOUND_GRAVITY_STRENGTH=C.gravityCompound),C.gravityRangeCompound!=null&&(f.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=u.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=C.gravityRangeCompound),C.initialEnergyOnIncremental!=null&&(f.DEFAULT_COOLING_FACTOR_INCREMENTAL=u.DEFAULT_COOLING_FACTOR_INCREMENTAL=C.initialEnergyOnIncremental),C.quality=="draft"?s.QUALITY=0:C.quality=="proof"?s.QUALITY=2:s.QUALITY=1,f.NODE_DIMENSIONS_INCLUDE_LABELS=u.NODE_DIMENSIONS_INCLUDE_LABELS=s.NODE_DIMENSIONS_INCLUDE_LABELS=C.nodeDimensionsIncludeLabels,f.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=s.DEFAULT_INCREMENTAL=!C.randomize,f.ANIMATE=u.ANIMATE=s.ANIMATE=C.animate,f.TILE=C.tile,f.TILING_PADDING_VERTICAL=typeof C.tilingPaddingVertical=="function"?C.tilingPaddingVertical.call():C.tilingPaddingVertical,f.TILING_PADDING_HORIZONTAL=typeof C.tilingPaddingHorizontal=="function"?C.tilingPaddingHorizontal.call():C.tilingPaddingHorizontal};y.prototype.run=function(){var S,C,$=this.options;this.idToLNode={};var k=this.layout=new d,M=this;M.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var A=k.newGraphManager();this.gm=A;var L=this.options.eles.nodes(),N=this.options.eles.edges();this.root=A.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(L),k);for(var R=0;R<N.length;R++){var D=N[R],j=this.idToLNode[D.data("source")],U=this.idToLNode[D.data("target")];if(j!==U&&j.getEdgesBetween(U).length==0){var H=A.add(k.newEdge(),j,U);H.id=D.id()}}var Y=function(ee,oe){typeof ee=="number"&&(ee=oe);var ue=ee.data("id"),ve=M.idToLNode[ue];return{x:ve.getRect().getCenterX(),y:ve.getRect().getCenterY()}},Z=function Q(){for(var ee=function(){$.fit&&$.cy.fit($.eles,$.padding),S||(S=!0,M.cy.one("layoutready",$.ready),M.cy.trigger({type:"layoutready",layout:M}))},oe=M.options.refresh,ue,ve=0;ve<oe&&!ue;ve++)ue=M.stopped||M.layout.tick();if(ue){k.checkLayoutSuccess()&&!k.isSubLayout&&k.doPostLayout(),k.tilingPostLayout&&k.tilingPostLayout(),k.isLayoutFinished=!0,M.options.eles.nodes().positions(Y),ee(),M.cy.one("layoutstop",M.options.stop),M.cy.trigger({type:"layoutstop",layout:M}),C&&cancelAnimationFrame(C),S=!1;return}var le=M.layout.getPositionsData();$.eles.nodes().positions(function(de,me){if(typeof de=="number"&&(de=me),!de.isParent()){for(var Se=de.id(),Ee=le[Se],xe=de;Ee==null&&(Ee=le[xe.data("parent")]||le["DummyCompound_"+xe.data("parent")],le[Se]=Ee,xe=xe.parent()[0],xe!=null););return Ee!=null?{x:Ee.x,y:Ee.y}:{x:de.position("x"),y:de.position("y")}}}),ee(),C=requestAnimationFrame(Q)};return k.addListener("layoutstarted",function(){M.options.animate==="during"&&(C=requestAnimationFrame(Z))}),k.runLayout(),this.options.animate!=="during"&&(M.options.eles.nodes().not(":parent").layoutPositions(M,M.options,Y),S=!1),this},y.prototype.getTopMostNodes=function(S){for(var C={},$=0;$<S.length;$++)C[S[$].id()]=!0;var k=S.filter(function(M,A){typeof M=="number"&&(M=A);for(var L=M.parent()[0];L!=null;){if(C[L.id()])return!1;L=L.parent()[0]}return!0});return k},y.prototype.processChildrenList=function(S,C,$){for(var k=C.length,M=0;M<k;M++){var A=C[M],L=A.children(),N,R=A.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(A.outerWidth()!=null&&A.outerHeight()!=null?N=S.add(new c($.graphManager,new h(A.position("x")-R.w/2,A.position("y")-R.h/2),new p(parseFloat(R.w),parseFloat(R.h)))):N=S.add(new c(this.graphManager)),N.id=A.data("id"),N.paddingLeft=parseInt(A.css("padding")),N.paddingTop=parseInt(A.css("padding")),N.paddingRight=parseInt(A.css("padding")),N.paddingBottom=parseInt(A.css("padding")),this.options.nodeDimensionsIncludeLabels&&A.isParent()){var D=A.boundingBox({includeLabels:!0,includeNodes:!1}).w,j=A.boundingBox({includeLabels:!0,includeNodes:!1}).h,U=A.css("text-halign");N.labelWidth=D,N.labelHeight=j,N.labelPos=U}if(this.idToLNode[A.data("id")]=N,isNaN(N.rect.x)&&(N.rect.x=0),isNaN(N.rect.y)&&(N.rect.y=0),L!=null&&L.length>0){var H;H=$.getGraphManager().add($.newGraph(),N),this.processChildrenList(H,L,$)}}},y.prototype.stop=function(){return this.stopped=!0,this};var _=function(C){C("layout","cose-bilkent",y)};typeof cytoscape<"u"&&_(cytoscape),r.exports=_}])})})(bKt);const EKt=DW(h_e);function CKt(e,t){try{const n=e.start,r=e.end,i=t.split(`
`),a=i[n.line-1],s=i[r.line-1];if(n.line===r.line)return a.slice(n.column-1,r.column-1);{const u=a.slice(n.column-1),f=i.slice(n.line,r.line-1),d=s.slice(0,r.column-1);return[u,...f,d].join(`
`)}}catch(n){return console.error({error:n,location:e,source:t}),""}}function $Kt(e,t){const n=[],r=[],s=e.items.get("main").rawParse.value.statements;for(const f of s)if(kKt(f)){const d=f.variable.value,c=f.variable.location.start.line,h=CKt(f.value.location,t),p={id:d,line:c,value:h};let v="unknown";f.value.type==="Block"&&f.value.statements.length===1&&(f.value.statements[0].type!=="Call"?(v="single",(f.value.statements[0].type==="Float"||f.value.statements[0].type==="Integer")&&(p.numValue=f.value.statements[0].value)):f.value.statements[0].fn.type==="Identifier"&&f.value.statements[0].args.length===2&&f.value.statements[0].fn.value==="credibleIntervalToDistribution"&&f.value.statements[0].args.every(y=>y.type==="Float"||y.type==="Integer")?(v="distribution",(f.value.statements[0].args[0].type==="Float"||f.value.statements[0].args[0].type==="Integer")&&(p.numLower=f.value.statements[0].args[0].value),(f.value.statements[0].args[1].type==="Float"||f.value.statements[0].args[1].type==="Integer")&&(p.numUpper=f.value.statements[0].args[1].value)):v="derived"),p.valueType=v,n.find(y=>y.data.id===d)||n.push({data:p});const m=u(f.value);for(const y of m)n.find(w=>w.data.id===y.variable)||n.push({data:{id:y.variable,line:y.line}});for(const y of m)r.push({data:{id:`${d}-${y.variable}`,source:d,target:y.variable}})}return{nodes:n,edges:r};function u(f){const d=[];if("statements"in f)for(const c of f.statements)d.push(...u(c));if("args"in f)for(const c of f.args)d.push(...u(c));return f.type==="Identifier"&&d.push({variable:f.value,line:f.location.start.line}),d}}function kKt(e){return e.type==="LetStatement"}function _v(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=_v(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}function Am(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var OKt={value:()=>{}};function fG(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ete(n)}function Ete(e){this._=e}function AKt(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ete.prototype=fG.prototype={constructor:Ete,on:function(e,t){var n=this._,r=AKt(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=RKt(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=FVe(n[i],e.name,t);else if(t==null)for(i in n)n[i]=FVe(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ete(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function RKt(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function FVe(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=OKt,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var g_e="http://www.w3.org/1999/xhtml";const NVe={svg:"http://www.w3.org/2000/svg",xhtml:g_e,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Hoe(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),NVe.hasOwnProperty(t)?{space:NVe[t],local:e}:e}function TKt(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===g_e&&t.documentElement.namespaceURI===g_e?t.createElement(e):t.createElementNS(n,e)}}function MKt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ost(e){var t=Hoe(e);return(t.local?MKt:TKt)(t)}function PKt(){}function yke(e){return e==null?PKt:function(){return this.querySelector(e)}}function LKt(e){typeof e!="function"&&(e=yke(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,u=r[i]=new Array(s),f,d,c=0;c<s;++c)(f=a[c])&&(d=e.call(f,f.__data__,c,a))&&("__data__"in f&&(d.__data__=f.__data__),u[c]=d);return new ly(r,this._parents)}function DKt(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function IKt(){return[]}function Ast(e){return e==null?IKt:function(){return this.querySelectorAll(e)}}function FKt(e){return function(){return DKt(e.apply(this,arguments))}}function NKt(e){typeof e=="function"?e=FKt(e):e=Ast(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s=t[a],u=s.length,f,d=0;d<u;++d)(f=s[d])&&(r.push(e.call(f,f.__data__,d,s)),i.push(f));return new ly(r,i)}function Rst(e){return function(){return this.matches(e)}}function Tst(e){return function(t){return t.matches(e)}}var zKt=Array.prototype.find;function jKt(e){return function(){return zKt.call(this.children,e)}}function BKt(){return this.firstElementChild}function HKt(e){return this.select(e==null?BKt:jKt(typeof e=="function"?e:Tst(e)))}var UKt=Array.prototype.filter;function VKt(){return Array.from(this.children)}function WKt(e){return function(){return UKt.call(this.children,e)}}function GKt(e){return this.selectAll(e==null?VKt:WKt(typeof e=="function"?e:Tst(e)))}function qKt(e){typeof e!="function"&&(e=Rst(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,u=r[i]=[],f,d=0;d<s;++d)(f=a[d])&&e.call(f,f.__data__,d,a)&&u.push(f);return new ly(r,this._parents)}function Mst(e){return new Array(e.length)}function YKt(){return new ly(this._enter||this._groups.map(Mst),this._parents)}function pre(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}pre.prototype={constructor:pre,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function KKt(e){return function(){return e}}function XKt(e,t,n,r,i,a){for(var s=0,u,f=t.length,d=a.length;s<d;++s)(u=t[s])?(u.__data__=a[s],r[s]=u):n[s]=new pre(e,a[s]);for(;s<f;++s)(u=t[s])&&(i[s]=u)}function ZKt(e,t,n,r,i,a,s){var u,f,d=new Map,c=t.length,h=a.length,p=new Array(c),v;for(u=0;u<c;++u)(f=t[u])&&(p[u]=v=s.call(f,f.__data__,u,t)+"",d.has(v)?i[u]=f:d.set(v,f));for(u=0;u<h;++u)v=s.call(e,a[u],u,a)+"",(f=d.get(v))?(r[u]=f,f.__data__=a[u],d.delete(v)):n[u]=new pre(e,a[u]);for(u=0;u<c;++u)(f=t[u])&&d.get(p[u])===f&&(i[u]=f)}function QKt(e){return e.__data__}function JKt(e,t){if(!arguments.length)return Array.from(this,QKt);var n=t?ZKt:XKt,r=this._parents,i=this._groups;typeof e!="function"&&(e=KKt(e));for(var a=i.length,s=new Array(a),u=new Array(a),f=new Array(a),d=0;d<a;++d){var c=r[d],h=i[d],p=h.length,v=eXt(e.call(c,c&&c.__data__,d,r)),m=v.length,y=u[d]=new Array(m),w=s[d]=new Array(m),_=f[d]=new Array(p);n(c,h,y,w,_,v,t);for(var S=0,C=0,$,k;S<m;++S)if($=y[S]){for(S>=C&&(C=S+1);!(k=w[C])&&++C<m;);$._next=k||null}}return s=new ly(s,r),s._enter=u,s._exit=f,s}function eXt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tXt(){return new ly(this._exit||this._groups.map(Mst),this._parents)}function nXt(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function rXt(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),u=new Array(i),f=0;f<s;++f)for(var d=n[f],c=r[f],h=d.length,p=u[f]=new Array(h),v,m=0;m<h;++m)(v=d[m]||c[m])&&(p[m]=v);for(;f<i;++f)u[f]=n[f];return new ly(u,this._parents)}function iXt(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function aXt(e){e||(e=oXt);function t(h,p){return h&&p?e(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],u=s.length,f=i[a]=new Array(u),d,c=0;c<u;++c)(d=s[c])&&(f[c]=d);f.sort(t)}return new ly(i,this._parents).order()}function oXt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sXt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function uXt(){return Array.from(this)}function lXt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function cXt(){let e=0;for(const t of this)++e;return e}function fXt(){return!this.node()}function dXt(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,s=i.length,u;a<s;++a)(u=i[a])&&e.call(u,u.__data__,a,i);return this}function hXt(e){return function(){this.removeAttribute(e)}}function gXt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pXt(e,t){return function(){this.setAttribute(e,t)}}function vXt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mXt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function yXt(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function bXt(e,t){var n=Hoe(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?gXt:hXt:typeof t=="function"?n.local?yXt:mXt:n.local?vXt:pXt)(n,t))}function Pst(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wXt(e){return function(){this.style.removeProperty(e)}}function _Xt(e,t,n){return function(){this.style.setProperty(e,t,n)}}function xXt(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function SXt(e,t,n){return arguments.length>1?this.each((t==null?wXt:typeof t=="function"?xXt:_Xt)(e,t,n??"")):vN(this.node(),e)}function vN(e,t){return e.style.getPropertyValue(t)||Pst(e).getComputedStyle(e,null).getPropertyValue(t)}function EXt(e){return function(){delete this[e]}}function CXt(e,t){return function(){this[e]=t}}function $Xt(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function kXt(e,t){return arguments.length>1?this.each((t==null?EXt:typeof t=="function"?$Xt:CXt)(e,t)):this.node()[e]}function Lst(e){return e.trim().split(/^|\s+/)}function bke(e){return e.classList||new Dst(e)}function Dst(e){this._node=e,this._names=Lst(e.getAttribute("class")||"")}Dst.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ist(e,t){for(var n=bke(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Fst(e,t){for(var n=bke(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function OXt(e){return function(){Ist(this,e)}}function AXt(e){return function(){Fst(this,e)}}function RXt(e,t){return function(){(t.apply(this,arguments)?Ist:Fst)(this,e)}}function TXt(e,t){var n=Lst(e+"");if(arguments.length<2){for(var r=bke(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?RXt:t?OXt:AXt)(n,t))}function MXt(){this.textContent=""}function PXt(e){return function(){this.textContent=e}}function LXt(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function DXt(e){return arguments.length?this.each(e==null?MXt:(typeof e=="function"?LXt:PXt)(e)):this.node().textContent}function IXt(){this.innerHTML=""}function FXt(e){return function(){this.innerHTML=e}}function NXt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function zXt(e){return arguments.length?this.each(e==null?IXt:(typeof e=="function"?NXt:FXt)(e)):this.node().innerHTML}function jXt(){this.nextSibling&&this.parentNode.appendChild(this)}function BXt(){return this.each(jXt)}function HXt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function UXt(){return this.each(HXt)}function VXt(e){var t=typeof e=="function"?e:Ost(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function WXt(){return null}function GXt(e,t){var n=typeof e=="function"?e:Ost(e),r=t==null?WXt:typeof t=="function"?t:yke(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function qXt(){var e=this.parentNode;e&&e.removeChild(this)}function YXt(){return this.each(qXt)}function KXt(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function XXt(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZXt(e){return this.select(e?XXt:KXt)}function QXt(e){return arguments.length?this.property("__data__",e):this.node().__data__}function JXt(e){return function(t){e.call(this,t,this.__data__)}}function eZt(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function tZt(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function nZt(e,t,n){return function(){var r=this.__on,i,a=JXt(t);if(r){for(var s=0,u=r.length;s<u;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function rZt(e,t,n){var r=eZt(e+""),i,a=r.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,d=u.length,c;f<d;++f)for(i=0,c=u[f];i<a;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(u=t?nZt:tZt,i=0;i<a;++i)this.each(u(r[i],t,n));return this}function Nst(e,t,n){var r=Pst(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function iZt(e,t){return function(){return Nst(this,e,t)}}function aZt(e,t){return function(){return Nst(this,e,t.apply(this,arguments))}}function oZt(e,t){return this.each((typeof t=="function"?aZt:iZt)(e,t))}function*sZt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var zst=[null];function ly(e,t){this._groups=e,this._parents=t}function dG(){return new ly([[document.documentElement]],zst)}function uZt(){return this}ly.prototype=dG.prototype={constructor:ly,select:LKt,selectAll:NKt,selectChild:HKt,selectChildren:GKt,filter:qKt,data:JKt,enter:YKt,exit:tXt,join:nXt,merge:rXt,selection:uZt,order:iXt,sort:aXt,call:sXt,nodes:uXt,node:lXt,size:cXt,empty:fXt,each:dXt,attr:bXt,style:SXt,property:kXt,classed:TXt,text:DXt,html:zXt,raise:BXt,lower:UXt,append:VXt,insert:GXt,remove:YXt,clone:ZXt,datum:QXt,on:rZt,dispatch:oZt,[Symbol.iterator]:sZt};function K2(e){return typeof e=="string"?new ly([[document.querySelector(e)]],[document.documentElement]):new ly([[e]],zst)}function lZt(e){let t;for(;t=e.sourceEvent;)e=t;return e}function mS(e,t){if(e=lZt(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const cZt={passive:!1},MV={capture:!0,passive:!1};function Ume(e){e.stopImmediatePropagation()}function TF(e){e.preventDefault(),e.stopImmediatePropagation()}function jst(e){var t=e.document.documentElement,n=K2(e).on("dragstart.drag",TF,MV);"onselectstart"in t?n.on("selectstart.drag",TF,MV):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Bst(e,t){var n=e.document.documentElement,r=K2(e).on("dragstart.drag",null);t&&(r.on("click.drag",TF,MV),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const $J=e=>()=>e;function p_e(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:s,y:u,dx:f,dy:d,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:c}})}p_e.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function fZt(e){return!e.ctrlKey&&!e.button}function dZt(){return this.parentNode}function hZt(e,t){return t??{x:e.x,y:e.y}}function gZt(){return navigator.maxTouchPoints||"ontouchstart"in this}function pZt(){var e=fZt,t=dZt,n=hZt,r=gZt,i={},a=fG("start","drag","end"),s=0,u,f,d,c,h=0;function p($){$.on("mousedown.drag",v).filter(r).on("touchstart.drag",w).on("touchmove.drag",_,cZt).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v($,k){if(!(c||!e.call(this,$,k))){var M=C(this,t.call(this,$,k),$,k,"mouse");M&&(K2($.view).on("mousemove.drag",m,MV).on("mouseup.drag",y,MV),jst($.view),Ume($),d=!1,u=$.clientX,f=$.clientY,M("start",$))}}function m($){if(TF($),!d){var k=$.clientX-u,M=$.clientY-f;d=k*k+M*M>h}i.mouse("drag",$)}function y($){K2($.view).on("mousemove.drag mouseup.drag",null),Bst($.view,d),TF($),i.mouse("end",$)}function w($,k){if(e.call(this,$,k)){var M=$.changedTouches,A=t.call(this,$,k),L=M.length,N,R;for(N=0;N<L;++N)(R=C(this,A,$,k,M[N].identifier,M[N]))&&(Ume($),R("start",$,M[N]))}}function _($){var k=$.changedTouches,M=k.length,A,L;for(A=0;A<M;++A)(L=i[k[A].identifier])&&(TF($),L("drag",$,k[A]))}function S($){var k=$.changedTouches,M=k.length,A,L;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),A=0;A<M;++A)(L=i[k[A].identifier])&&(Ume($),L("end",$,k[A]))}function C($,k,M,A,L,N){var R=a.copy(),D=mS(N||M,k),j,U,H;if((H=n.call($,new p_e("beforestart",{sourceEvent:M,target:p,identifier:L,active:s,x:D[0],y:D[1],dx:0,dy:0,dispatch:R}),A))!=null)return j=H.x-D[0]||0,U=H.y-D[1]||0,function Y(Z,Q,ee){var oe=D,ue;switch(Z){case"start":i[L]=Y,ue=s++;break;case"end":delete i[L],--s;case"drag":D=mS(ee||Q,k),ue=s;break}R.call(Z,$,new p_e(Z,{sourceEvent:Q,subject:H,target:p,identifier:L,active:ue,x:D[0]+j,y:D[1]+U,dx:D[0]-oe[0],dy:D[1]-oe[1],dispatch:R}),A)}}return p.filter=function($){return arguments.length?(e=typeof $=="function"?$:$J(!!$),p):e},p.container=function($){return arguments.length?(t=typeof $=="function"?$:$J($),p):t},p.subject=function($){return arguments.length?(n=typeof $=="function"?$:$J($),p):n},p.touchable=function($){return arguments.length?(r=typeof $=="function"?$:$J(!!$),p):r},p.on=function(){var $=a.on.apply(a,arguments);return $===a?p:$},p.clickDistance=function($){return arguments.length?(h=($=+$)*$,p):Math.sqrt(h)},p}function U8(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function hG(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rT(){}var pP=.7,mN=1/pP,MF="\\s*([+-]?\\d+)\\s*",PV="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",KS="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vZt=/^#([0-9a-f]{3,8})$/,mZt=new RegExp(`^rgb\\(${MF},${MF},${MF}\\)$`),yZt=new RegExp(`^rgb\\(${KS},${KS},${KS}\\)$`),bZt=new RegExp(`^rgba\\(${MF},${MF},${MF},${PV}\\)$`),wZt=new RegExp(`^rgba\\(${KS},${KS},${KS},${PV}\\)$`),_Zt=new RegExp(`^hsl\\(${PV},${KS},${KS}\\)$`),xZt=new RegExp(`^hsla\\(${PV},${KS},${KS},${PV}\\)$`),zVe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};U8(rT,vP,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jVe,formatHex:jVe,formatHex8:SZt,formatHsl:EZt,formatRgb:BVe,toString:BVe});function jVe(){return this.rgb().formatHex()}function SZt(){return this.rgb().formatHex8()}function EZt(){return Hst(this).formatHsl()}function BVe(){return this.rgb().formatRgb()}function vP(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vZt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?HVe(t):n===3?new Ph(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kJ(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kJ(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mZt.exec(e))?new Ph(t[1],t[2],t[3],1):(t=yZt.exec(e))?new Ph(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bZt.exec(e))?kJ(t[1],t[2],t[3],t[4]):(t=wZt.exec(e))?kJ(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_Zt.exec(e))?WVe(t[1],t[2]/100,t[3]/100,1):(t=xZt.exec(e))?WVe(t[1],t[2]/100,t[3]/100,t[4]):zVe.hasOwnProperty(e)?HVe(zVe[e]):e==="transparent"?new Ph(NaN,NaN,NaN,0):null}function HVe(e){return new Ph(e>>16&255,e>>8&255,e&255,1)}function kJ(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ph(e,t,n,r)}function wke(e){return e instanceof rT||(e=vP(e)),e?(e=e.rgb(),new Ph(e.r,e.g,e.b,e.opacity)):new Ph}function x3(e,t,n,r){return arguments.length===1?wke(e):new Ph(e,t,n,r??1)}function Ph(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}U8(Ph,x3,hG(rT,{brighter(e){return e=e==null?mN:Math.pow(mN,e),new Ph(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pP:Math.pow(pP,e),new Ph(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ph(z5(this.r),z5(this.g),z5(this.b),vre(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:UVe,formatHex:UVe,formatHex8:CZt,formatRgb:VVe,toString:VVe}));function UVe(){return`#${E5(this.r)}${E5(this.g)}${E5(this.b)}`}function CZt(){return`#${E5(this.r)}${E5(this.g)}${E5(this.b)}${E5((isNaN(this.opacity)?1:this.opacity)*255)}`}function VVe(){const e=vre(this.opacity);return`${e===1?"rgb(":"rgba("}${z5(this.r)}, ${z5(this.g)}, ${z5(this.b)}${e===1?")":`, ${e})`}`}function vre(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function z5(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function E5(e){return e=z5(e),(e<16?"0":"")+e.toString(16)}function WVe(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new X2(e,t,n,r)}function Hst(e){if(e instanceof X2)return new X2(e.h,e.s,e.l,e.opacity);if(e instanceof rT||(e=vP(e)),!e)return new X2;if(e instanceof X2)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,u=a-i,f=(a+i)/2;return u?(t===a?s=(n-r)/u+(n<r)*6:n===a?s=(r-t)/u+2:s=(t-n)/u+4,u/=f<.5?a+i:2-a-i,s*=60):u=f>0&&f<1?0:s,new X2(s,u,f,e.opacity)}function mre(e,t,n,r){return arguments.length===1?Hst(e):new X2(e,t,n,r??1)}function X2(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}U8(X2,mre,hG(rT,{brighter(e){return e=e==null?mN:Math.pow(mN,e),new X2(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pP:Math.pow(pP,e),new X2(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ph(Vme(e>=240?e-240:e+120,i,r),Vme(e,i,r),Vme(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new X2(GVe(this.h),OJ(this.s),OJ(this.l),vre(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vre(this.opacity);return`${e===1?"hsl(":"hsla("}${GVe(this.h)}, ${OJ(this.s)*100}%, ${OJ(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GVe(e){return e=(e||0)%360,e<0?e+360:e}function OJ(e){return Math.max(0,Math.min(1,e||0))}function Vme(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ust=Math.PI/180,Vst=180/Math.PI,yre=18,Wst=.96422,Gst=1,qst=.82521,Yst=4/29,PF=6/29,Kst=3*PF*PF,$Zt=PF*PF*PF;function Xst(e){if(e instanceof XS)return new XS(e.l,e.a,e.b,e.opacity);if(e instanceof W$)return Zst(e);e instanceof Ph||(e=wke(e));var t=Yme(e.r),n=Yme(e.g),r=Yme(e.b),i=Wme((.2225045*t+.7168786*n+.0606169*r)/Gst),a,s;return t===n&&n===r?a=s=i:(a=Wme((.4360747*t+.3850649*n+.1430804*r)/Wst),s=Wme((.0139322*t+.0971045*n+.7141733*r)/qst)),new XS(116*i-16,500*(a-i),200*(i-s),e.opacity)}function bre(e,t,n,r){return arguments.length===1?Xst(e):new XS(e,t,n,r??1)}function XS(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}U8(XS,bre,hG(rT,{brighter(e){return new XS(this.l+yre*(e??1),this.a,this.b,this.opacity)},darker(e){return new XS(this.l-yre*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Wst*Gme(t),e=Gst*Gme(e),n=qst*Gme(n),new Ph(qme(3.1338561*t-1.6168667*e-.4906146*n),qme(-.9787684*t+1.9161415*e+.033454*n),qme(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Wme(e){return e>$Zt?Math.pow(e,1/3):e/Kst+Yst}function Gme(e){return e>PF?e*e*e:Kst*(e-Yst)}function qme(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Yme(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function kZt(e){if(e instanceof W$)return new W$(e.h,e.c,e.l,e.opacity);if(e instanceof XS||(e=Xst(e)),e.a===0&&e.b===0)return new W$(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Vst;return new W$(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function wre(e,t,n,r){return arguments.length===1?kZt(e):new W$(e,t,n,r??1)}function W$(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Zst(e){if(isNaN(e.h))return new XS(e.l,0,0,e.opacity);var t=e.h*Ust;return new XS(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}U8(W$,wre,hG(rT,{brighter(e){return new W$(this.h,this.c,this.l+yre*(e??1),this.opacity)},darker(e){return new W$(this.h,this.c,this.l-yre*(e??1),this.opacity)},rgb(){return Zst(this).rgb()}}));var Qst=-.14861,_ke=1.78277,xke=-.29227,Uoe=-.90649,LV=1.97294,qVe=LV*Uoe,YVe=LV*_ke,KVe=_ke*xke-Uoe*Qst;function OZt(e){if(e instanceof j5)return new j5(e.h,e.s,e.l,e.opacity);e instanceof Ph||(e=wke(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(KVe*r+qVe*t-YVe*n)/(KVe+qVe-YVe),a=r-i,s=(LV*(n-i)-xke*a)/Uoe,u=Math.sqrt(s*s+a*a)/(LV*i*(1-i)),f=u?Math.atan2(s,a)*Vst-120:NaN;return new j5(f<0?f+360:f,u,i,e.opacity)}function v_e(e,t,n,r){return arguments.length===1?OZt(e):new j5(e,t,n,r??1)}function j5(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}U8(j5,v_e,hG(rT,{brighter(e){return e=e==null?mN:Math.pow(mN,e),new j5(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pP:Math.pow(pP,e),new j5(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Ust,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ph(255*(t+n*(Qst*r+_ke*i)),255*(t+n*(xke*r+Uoe*i)),255*(t+n*(LV*r)),this.opacity)}}));function Jst(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function eut(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,u=r<t-1?e[r+2]:2*a-i;return Jst((n-r/t)*t,s,i,a,u)}}function tut(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],u=e[(r+2)%t];return Jst((n-r/t)*t,i,a,s,u)}}const Voe=e=>()=>e;function nut(e,t){return function(n){return e+n*t}}function AZt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Woe(e,t){var n=t-e;return n?nut(e,n>180||n<-180?n-360*Math.round(n/360):n):Voe(isNaN(e)?t:e)}function RZt(e){return(e=+e)==1?Lh:function(t,n){return n-t?AZt(t,n,e):Voe(isNaN(t)?n:t)}}function Lh(e,t){var n=t-e;return n?nut(e,n):Voe(isNaN(e)?t:e)}const DV=function e(t){var n=RZt(t);function r(i,a){var s=n((i=x3(i)).r,(a=x3(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),d=Lh(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=u(c),i.b=f(c),i.opacity=d(c),i+""}}return r.gamma=e,r}(1);function rut(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),s,u;for(s=0;s<n;++s)u=x3(t[s]),r[s]=u.r||0,i[s]=u.g||0,a[s]=u.b||0;return r=e(r),i=e(i),a=e(a),u.opacity=1,function(f){return u.r=r(f),u.g=i(f),u.b=a(f),u+""}}}var TZt=rut(eut),MZt=rut(tut);function Ske(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function iut(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function PZt(e,t){return(iut(t)?Ske:aut)(e,t)}function aut(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=iT(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(u){for(s=0;s<r;++s)a[s]=i[s](u);return a}}function out(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ab(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sut(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=iT(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var m_e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kme=new RegExp(m_e.source,"g");function LZt(e){return function(){return e}}function DZt(e){return function(t){return e(t)+""}}function Eke(e,t){var n=m_e.lastIndex=Kme.lastIndex=0,r,i,a,s=-1,u=[],f=[];for(e=e+"",t=t+"";(r=m_e.exec(e))&&(i=Kme.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,f.push({i:s,x:Ab(r,i)})),n=Kme.lastIndex;return n<t.length&&(a=t.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?f[0]?DZt(f[0].x):LZt(t):(t=f.length,function(d){for(var c=0,h;c<t;++c)u[(h=f[c]).i]=h.x(d);return u.join("")})}function iT(e,t){var n=typeof t,r;return t==null||n==="boolean"?Voe(t):(n==="number"?Ab:n==="string"?(r=vP(t))?(t=r,DV):Eke:t instanceof vP?DV:t instanceof Date?out:iut(t)?Ske:Array.isArray(t)?aut:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sut:Ab)(e,t)}function IZt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function FZt(e,t){var n=Woe(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function gG(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var XVe=180/Math.PI,y_e={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uut(e,t,n,r,i,a){var s,u,f;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(f=e*n+t*r)&&(n-=e*f,r-=t*f),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,f/=u),e*r<t*n&&(e=-e,t=-t,f=-f,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*XVe,skewX:Math.atan(f)*XVe,scaleX:s,scaleY:u}}var AJ;function NZt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?y_e:uut(t.a,t.b,t.c,t.d,t.e,t.f)}function zZt(e){return e==null||(AJ||(AJ=document.createElementNS("http://www.w3.org/2000/svg","g")),AJ.setAttribute("transform",e),!(e=AJ.transform.baseVal.consolidate()))?y_e:(e=e.matrix,uut(e.a,e.b,e.c,e.d,e.e,e.f))}function lut(e,t,n,r){function i(d){return d.length?d.pop()+" ":""}function a(d,c,h,p,v,m){if(d!==h||c!==p){var y=v.push("translate(",null,t,null,n);m.push({i:y-4,x:Ab(d,h)},{i:y-2,x:Ab(c,p)})}else(h||p)&&v.push("translate("+h+t+p+n)}function s(d,c,h,p){d!==c?(d-c>180?c+=360:c-d>180&&(d+=360),p.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Ab(d,c)})):c&&h.push(i(h)+"rotate("+c+r)}function u(d,c,h,p){d!==c?p.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Ab(d,c)}):c&&h.push(i(h)+"skewX("+c+r)}function f(d,c,h,p,v,m){if(d!==h||c!==p){var y=v.push(i(v)+"scale(",null,",",null,")");m.push({i:y-4,x:Ab(d,h)},{i:y-2,x:Ab(c,p)})}else(h!==1||p!==1)&&v.push(i(v)+"scale("+h+","+p+")")}return function(d,c){var h=[],p=[];return d=e(d),c=e(c),a(d.translateX,d.translateY,c.translateX,c.translateY,h,p),s(d.rotate,c.rotate,h,p),u(d.skewX,c.skewX,h,p),f(d.scaleX,d.scaleY,c.scaleX,c.scaleY,h,p),d=c=null,function(v){for(var m=-1,y=p.length,w;++m<y;)h[(w=p[m]).i]=w.x(v);return h.join("")}}}var cut=lut(NZt,"px, ","px)","deg)"),fut=lut(zZt,", ",")",")"),jZt=1e-12;function ZVe(e){return((e=Math.exp(e))+1/e)/2}function BZt(e){return((e=Math.exp(e))-1/e)/2}function HZt(e){return((e=Math.exp(2*e))-1)/(e+1)}const dut=function e(t,n,r){function i(a,s){var u=a[0],f=a[1],d=a[2],c=s[0],h=s[1],p=s[2],v=c-u,m=h-f,y=v*v+m*m,w,_;if(y<jZt)_=Math.log(p/d)/t,w=function(A){return[u+A*v,f+A*m,d*Math.exp(t*A*_)]};else{var S=Math.sqrt(y),C=(p*p-d*d+r*y)/(2*d*n*S),$=(p*p-d*d-r*y)/(2*p*n*S),k=Math.log(Math.sqrt(C*C+1)-C),M=Math.log(Math.sqrt($*$+1)-$);_=(M-k)/t,w=function(A){var L=A*_,N=ZVe(k),R=d/(n*S)*(N*HZt(t*L+k)-BZt(k));return[u+R*v,f+R*m,d*N/ZVe(t*L+k)]}}return w.duration=_*1e3*t/Math.SQRT2,w}return i.rho=function(a){var s=Math.max(.001,+a),u=s*s,f=u*u;return e(s,u,f)},i}(Math.SQRT2,2,4);function hut(e){return function(t,n){var r=e((t=mre(t)).h,(n=mre(n)).h),i=Lh(t.s,n.s),a=Lh(t.l,n.l),s=Lh(t.opacity,n.opacity);return function(u){return t.h=r(u),t.s=i(u),t.l=a(u),t.opacity=s(u),t+""}}}const UZt=hut(Woe);var VZt=hut(Lh);function WZt(e,t){var n=Lh((e=bre(e)).l,(t=bre(t)).l),r=Lh(e.a,t.a),i=Lh(e.b,t.b),a=Lh(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function gut(e){return function(t,n){var r=e((t=wre(t)).h,(n=wre(n)).h),i=Lh(t.c,n.c),a=Lh(t.l,n.l),s=Lh(t.opacity,n.opacity);return function(u){return t.h=r(u),t.c=i(u),t.l=a(u),t.opacity=s(u),t+""}}}const GZt=gut(Woe);var qZt=gut(Lh);function put(e){return function t(n){n=+n;function r(i,a){var s=e((i=v_e(i)).h,(a=v_e(a)).h),u=Lh(i.s,a.s),f=Lh(i.l,a.l),d=Lh(i.opacity,a.opacity);return function(c){return i.h=s(c),i.s=u(c),i.l=f(Math.pow(c,n)),i.opacity=d(c),i+""}}return r.gamma=t,r}(1)}const YZt=put(Woe);var KZt=put(Lh);function Cke(e,t){t===void 0&&(t=e,e=iT);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[u](s-u)}}function XZt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const ZZt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:iT,interpolateArray:PZt,interpolateBasis:eut,interpolateBasisClosed:tut,interpolateCubehelix:YZt,interpolateCubehelixLong:KZt,interpolateDate:out,interpolateDiscrete:IZt,interpolateHcl:GZt,interpolateHclLong:qZt,interpolateHsl:UZt,interpolateHslLong:VZt,interpolateHue:FZt,interpolateLab:WZt,interpolateNumber:Ab,interpolateNumberArray:Ske,interpolateObject:sut,interpolateRgb:DV,interpolateRgbBasis:TZt,interpolateRgbBasisClosed:MZt,interpolateRound:gG,interpolateString:Eke,interpolateTransformCss:cut,interpolateTransformSvg:fut,interpolateZoom:dut,piecewise:Cke,quantize:XZt},Symbol.toStringTag,{value:"Module"}));var yN=0,cH=0,aB=0,vut=1e3,_re,fH,xre=0,mP=0,Goe=0,IV=typeof performance=="object"&&performance.now?performance:Date,mut=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function qoe(){return mP||(mut(QZt),mP=IV.now()+Goe)}function QZt(){mP=0}function FV(){this._call=this._time=this._next=null}FV.prototype=$ke.prototype={constructor:FV,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?qoe():+n)+(t==null?0:+t),!this._next&&fH!==this&&(fH?fH._next=this:_re=this,fH=this),this._call=e,this._time=n,b_e()},stop:function(){this._call&&(this._call=null,this._time=1/0,b_e())}};function $ke(e,t,n){var r=new FV;return r.restart(e,t,n),r}function JZt(){qoe(),++yN;for(var e=_re,t;e;)(t=mP-e._time)>=0&&e._call.call(void 0,t),e=e._next;--yN}function QVe(){mP=(xre=IV.now())+Goe,yN=cH=0;try{JZt()}finally{yN=0,tQt(),mP=0}}function eQt(){var e=IV.now(),t=e-xre;t>vut&&(Goe-=t,xre=e)}function tQt(){for(var e,t=_re,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:_re=n);fH=e,b_e(r)}function b_e(e){if(!yN){cH&&(cH=clearTimeout(cH));var t=e-mP;t>24?(e<1/0&&(cH=setTimeout(QVe,e-IV.now()-Goe)),aB&&(aB=clearInterval(aB))):(aB||(xre=IV.now(),aB=setInterval(eQt,vut)),yN=1,mut(QVe))}}function JVe(e,t,n){var r=new FV;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function nQt(e,t,n){var r=new FV,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(a,s,u){s=+s,u=u==null?qoe():+u,r._restart(function f(d){d+=i,r._restart(f,i+=s,u),a(d)},s,u)},r.restart(e,t,n),r)}var rQt=fG("start","end","cancel","interrupt"),iQt=[],yut=0,eWe=1,w_e=2,Cte=3,tWe=4,__e=5,$te=6;function Yoe(e,t,n,r,i,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;aQt(e,n,{name:t,index:r,group:i,on:rQt,tween:iQt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:yut})}function kke(e,t){var n=R_(e,t);if(n.state>yut)throw new Error("too late; already scheduled");return n}function $E(e,t){var n=R_(e,t);if(n.state>Cte)throw new Error("too late; already running");return n}function R_(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function aQt(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=$ke(a,0,n.time);function a(d){n.state=eWe,n.timer.restart(s,n.delay,n.time),n.delay<=d&&s(d-n.delay)}function s(d){var c,h,p,v;if(n.state!==eWe)return f();for(c in r)if(v=r[c],v.name===n.name){if(v.state===Cte)return JVe(s);v.state===tWe?(v.state=$te,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[c]):+c<t&&(v.state=$te,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[c])}if(JVe(function(){n.state===Cte&&(n.state=tWe,n.timer.restart(u,n.delay,n.time),u(d))}),n.state=w_e,n.on.call("start",e,e.__data__,n.index,n.group),n.state===w_e){for(n.state=Cte,i=new Array(p=n.tween.length),c=0,h=-1;c<p;++c)(v=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=v);i.length=h+1}}function u(d){for(var c=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(f),n.state=__e,1),h=-1,p=i.length;++h<p;)i[h].call(e,c);n.state===__e&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=$te,n.timer.stop(),delete r[t];for(var d in r)return;delete e.__transition}}function kte(e,t){var n=e.__transition,r,i,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){a=!1;continue}i=r.state>w_e&&r.state<__e,r.state=$te,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}a&&delete e.__transition}}function oQt(e){return this.each(function(){kte(this,e)})}function sQt(e,t){var n,r;return function(){var i=$E(this,e),a=i.tween;if(a!==n){r=n=a;for(var s=0,u=r.length;s<u;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function uQt(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=$E(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var u={name:t,value:n},f=0,d=i.length;f<d;++f)if(i[f].name===t){i[f]=u;break}f===d&&i.push(u)}a.tween=i}}function lQt(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=R_(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?sQt:uQt)(n,e,t))}function Oke(e,t,n){var r=e._id;return e.each(function(){var i=$E(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return R_(i,r).value[t]}}function but(e,t){var n;return(typeof t=="number"?Ab:t instanceof vP?DV:(n=vP(t))?(t=n,DV):Eke)(e,t)}function cQt(e){return function(){this.removeAttribute(e)}}function fQt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dQt(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function hQt(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function gQt(e,t,n){var r,i,a;return function(){var s,u=n(this),f;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),f=u+"",s===f?null:s===r&&f===i?a:(i=f,a=t(r=s,u)))}}function pQt(e,t,n){var r,i,a;return function(){var s,u=n(this),f;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),f=u+"",s===f?null:s===r&&f===i?a:(i=f,a=t(r=s,u)))}}function vQt(e,t){var n=Hoe(e),r=n==="transform"?fut:but;return this.attrTween(e,typeof t=="function"?(n.local?pQt:gQt)(n,r,Oke(this,"attr."+e,t)):t==null?(n.local?fQt:cQt)(n):(n.local?hQt:dQt)(n,r,t))}function mQt(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function yQt(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function bQt(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&yQt(e,a)),n}return i._value=t,i}function wQt(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&mQt(e,a)),n}return i._value=t,i}function _Qt(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Hoe(e);return this.tween(n,(r.local?bQt:wQt)(r,t))}function xQt(e,t){return function(){kke(this,e).delay=+t.apply(this,arguments)}}function SQt(e,t){return t=+t,function(){kke(this,e).delay=t}}function EQt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xQt:SQt)(t,e)):R_(this.node(),t).delay}function CQt(e,t){return function(){$E(this,e).duration=+t.apply(this,arguments)}}function $Qt(e,t){return t=+t,function(){$E(this,e).duration=t}}function kQt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?CQt:$Qt)(t,e)):R_(this.node(),t).duration}function OQt(e,t){if(typeof t!="function")throw new Error;return function(){$E(this,e).ease=t}}function AQt(e){var t=this._id;return arguments.length?this.each(OQt(t,e)):R_(this.node(),t).ease}function RQt(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;$E(this,e).ease=n}}function TQt(e){if(typeof e!="function")throw new Error;return this.each(RQt(this._id,e))}function MQt(e){typeof e!="function"&&(e=Rst(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,u=r[i]=[],f,d=0;d<s;++d)(f=a[d])&&e.call(f,f.__data__,d,a)&&u.push(f);return new wk(r,this._parents,this._name,this._id)}function PQt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),u=0;u<a;++u)for(var f=t[u],d=n[u],c=f.length,h=s[u]=new Array(c),p,v=0;v<c;++v)(p=f[v]||d[v])&&(h[v]=p);for(;u<r;++u)s[u]=t[u];return new wk(s,this._parents,this._name,this._id)}function LQt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function DQt(e,t,n){var r,i,a=LQt(t)?kke:$E;return function(){var s=a(this,e),u=s.on;u!==r&&(i=(r=u).copy()).on(t,n),s.on=i}}function IQt(e,t){var n=this._id;return arguments.length<2?R_(this.node(),n).on.on(e):this.each(DQt(n,e,t))}function FQt(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function NQt(){return this.on("end.remove",FQt(this._id))}function zQt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=yke(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var u=r[s],f=u.length,d=a[s]=new Array(f),c,h,p=0;p<f;++p)(c=u[p])&&(h=e.call(c,c.__data__,p,u))&&("__data__"in c&&(h.__data__=c.__data__),d[p]=h,Yoe(d[p],t,n,p,d,R_(c,n)));return new wk(a,this._parents,t,n)}function jQt(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ast(e));for(var r=this._groups,i=r.length,a=[],s=[],u=0;u<i;++u)for(var f=r[u],d=f.length,c,h=0;h<d;++h)if(c=f[h]){for(var p=e.call(c,c.__data__,h,f),v,m=R_(c,n),y=0,w=p.length;y<w;++y)(v=p[y])&&Yoe(v,t,n,y,p,m);a.push(p),s.push(c)}return new wk(a,s,t,n)}var BQt=dG.prototype.constructor;function HQt(){return new BQt(this._groups,this._parents)}function UQt(e,t){var n,r,i;return function(){var a=vN(this,e),s=(this.style.removeProperty(e),vN(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function wut(e){return function(){this.style.removeProperty(e)}}function VQt(e,t,n){var r,i=n+"",a;return function(){var s=vN(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}function WQt(e,t,n){var r,i,a;return function(){var s=vN(this,e),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(e),vN(this,e))),s===f?null:s===r&&f===i?a:(i=f,a=t(r=s,u))}}function GQt(e,t){var n,r,i,a="style."+t,s="end."+a,u;return function(){var f=$E(this,e),d=f.on,c=f.value[a]==null?u||(u=wut(t)):void 0;(d!==n||i!==c)&&(r=(n=d).copy()).on(s,i=c),f.on=r}}function qQt(e,t,n){var r=(e+="")=="transform"?cut:but;return t==null?this.styleTween(e,UQt(e,r)).on("end.style."+e,wut(e)):typeof t=="function"?this.styleTween(e,WQt(e,r,Oke(this,"style."+e,t))).each(GQt(this._id,e)):this.styleTween(e,VQt(e,r,t),n).on("end.style."+e,null)}function YQt(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function KQt(e,t,n){var r,i;function a(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&YQt(e,s,n)),r}return a._value=t,a}function XQt(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,KQt(e,t,n??""))}function ZQt(e){return function(){this.textContent=e}}function QQt(e){return function(){var t=e(this);this.textContent=t??""}}function JQt(e){return this.tween("text",typeof e=="function"?QQt(Oke(this,"text",e)):ZQt(e==null?"":e+""))}function eJt(e){return function(t){this.textContent=e.call(this,t)}}function tJt(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&eJt(i)),t}return r._value=e,r}function nJt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,tJt(e))}function rJt(){for(var e=this._name,t=this._id,n=_ut(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],u=s.length,f,d=0;d<u;++d)if(f=s[d]){var c=R_(f,t);Yoe(f,e,n,d,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new wk(r,this._parents,e,n)}function iJt(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var u={value:s},f={value:function(){--i===0&&a()}};n.each(function(){var d=$E(this,r),c=d.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(f)),d.on=t}),i===0&&a()})}var aJt=0;function wk(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function _ut(){return++aJt}var w$=dG.prototype;wk.prototype={constructor:wk,select:zQt,selectAll:jQt,selectChild:w$.selectChild,selectChildren:w$.selectChildren,filter:MQt,merge:PQt,selection:HQt,transition:rJt,call:w$.call,nodes:w$.nodes,node:w$.node,size:w$.size,empty:w$.empty,each:w$.each,on:IQt,attr:vQt,attrTween:_Qt,style:qQt,styleTween:XQt,text:JQt,textTween:nJt,remove:NQt,tween:lQt,delay:EQt,duration:kQt,ease:AQt,easeVarying:TQt,end:iJt,[Symbol.iterator]:w$[Symbol.iterator]};function oJt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var sJt={time:null,delay:0,duration:250,ease:oJt};function uJt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function lJt(e){var t,n;e instanceof wk?(t=e._id,e=e._name):(t=_ut(),(n=sJt).time=qoe(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],u=s.length,f,d=0;d<u;++d)(f=s[d])&&Yoe(f,e,t,d,s,n||uJt(f,t));return new wk(r,this._parents,e,t)}dG.prototype.interrupt=oQt;dG.prototype.transition=lJt;const RJ=e=>()=>e;function cJt(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function G$(e,t,n){this.k=e,this.x=t,this.y=n}G$.prototype={constructor:G$,scale:function(e){return e===1?this:new G$(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new G$(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var QR=new G$(1,0,0);G$.prototype;function Xme(e){e.stopImmediatePropagation()}function oB(e){e.preventDefault(),e.stopImmediatePropagation()}function fJt(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function dJt(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function nWe(){return this.__zoom||QR}function hJt(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function gJt(){return navigator.maxTouchPoints||"ontouchstart"in this}function pJt(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function vJt(){var e=fJt,t=dJt,n=pJt,r=hJt,i=gJt,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,f=dut,d=fG("start","zoom","end"),c,h,p,v=500,m=150,y=0,w=10;function _(H){H.property("__zoom",nWe).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",R).filter(i).on("touchstart.zoom",D).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(H,Y,Z,Q){var ee=H.selection?H.selection():H;ee.property("__zoom",nWe),H!==ee?k(H,Y,Z,Q):ee.interrupt().each(function(){M(this,arguments).event(Q).start().zoom(null,typeof Y=="function"?Y.apply(this,arguments):Y).end()})},_.scaleBy=function(H,Y,Z,Q){_.scaleTo(H,function(){var ee=this.__zoom.k,oe=typeof Y=="function"?Y.apply(this,arguments):Y;return ee*oe},Z,Q)},_.scaleTo=function(H,Y,Z,Q){_.transform(H,function(){var ee=t.apply(this,arguments),oe=this.__zoom,ue=Z==null?$(ee):typeof Z=="function"?Z.apply(this,arguments):Z,ve=oe.invert(ue),le=typeof Y=="function"?Y.apply(this,arguments):Y;return n(C(S(oe,le),ue,ve),ee,s)},Z,Q)},_.translateBy=function(H,Y,Z,Q){_.transform(H,function(){return n(this.__zoom.translate(typeof Y=="function"?Y.apply(this,arguments):Y,typeof Z=="function"?Z.apply(this,arguments):Z),t.apply(this,arguments),s)},null,Q)},_.translateTo=function(H,Y,Z,Q,ee){_.transform(H,function(){var oe=t.apply(this,arguments),ue=this.__zoom,ve=Q==null?$(oe):typeof Q=="function"?Q.apply(this,arguments):Q;return n(QR.translate(ve[0],ve[1]).scale(ue.k).translate(typeof Y=="function"?-Y.apply(this,arguments):-Y,typeof Z=="function"?-Z.apply(this,arguments):-Z),oe,s)},Q,ee)};function S(H,Y){return Y=Math.max(a[0],Math.min(a[1],Y)),Y===H.k?H:new G$(Y,H.x,H.y)}function C(H,Y,Z){var Q=Y[0]-Z[0]*H.k,ee=Y[1]-Z[1]*H.k;return Q===H.x&&ee===H.y?H:new G$(H.k,Q,ee)}function $(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function k(H,Y,Z,Q){H.on("start.zoom",function(){M(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(Q).end()}).tween("zoom",function(){var ee=this,oe=arguments,ue=M(ee,oe).event(Q),ve=t.apply(ee,oe),le=Z==null?$(ve):typeof Z=="function"?Z.apply(ee,oe):Z,de=Math.max(ve[1][0]-ve[0][0],ve[1][1]-ve[0][1]),me=ee.__zoom,Se=typeof Y=="function"?Y.apply(ee,oe):Y,Ee=f(me.invert(le).concat(de/me.k),Se.invert(le).concat(de/Se.k));return function(xe){if(xe===1)xe=Se;else{var Ie=Ee(xe),Ne=de/Ie[2];xe=new G$(Ne,le[0]-Ie[0]*Ne,le[1]-Ie[1]*Ne)}ue.zoom(null,xe)}})}function M(H,Y,Z){return!Z&&H.__zooming||new A(H,Y)}function A(H,Y){this.that=H,this.args=Y,this.active=0,this.sourceEvent=null,this.extent=t.apply(H,Y),this.taps=0}A.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,Y){return this.mouse&&H!=="mouse"&&(this.mouse[1]=Y.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=Y.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=Y.invert(this.touch1[0])),this.that.__zoom=Y,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var Y=K2(this.that).datum();d.call(H,this.that,new cJt(H,{sourceEvent:this.sourceEvent,target:_,type:H,transform:this.that.__zoom,dispatch:d}),Y)}};function L(H,...Y){if(!e.apply(this,arguments))return;var Z=M(this,Y).event(H),Q=this.__zoom,ee=Math.max(a[0],Math.min(a[1],Q.k*Math.pow(2,r.apply(this,arguments)))),oe=mS(H);if(Z.wheel)(Z.mouse[0][0]!==oe[0]||Z.mouse[0][1]!==oe[1])&&(Z.mouse[1]=Q.invert(Z.mouse[0]=oe)),clearTimeout(Z.wheel);else{if(Q.k===ee)return;Z.mouse=[oe,Q.invert(oe)],kte(this),Z.start()}oB(H),Z.wheel=setTimeout(ue,m),Z.zoom("mouse",n(C(S(Q,ee),Z.mouse[0],Z.mouse[1]),Z.extent,s));function ue(){Z.wheel=null,Z.end()}}function N(H,...Y){if(p||!e.apply(this,arguments))return;var Z=H.currentTarget,Q=M(this,Y,!0).event(H),ee=K2(H.view).on("mousemove.zoom",le,!0).on("mouseup.zoom",de,!0),oe=mS(H,Z),ue=H.clientX,ve=H.clientY;jst(H.view),Xme(H),Q.mouse=[oe,this.__zoom.invert(oe)],kte(this),Q.start();function le(me){if(oB(me),!Q.moved){var Se=me.clientX-ue,Ee=me.clientY-ve;Q.moved=Se*Se+Ee*Ee>y}Q.event(me).zoom("mouse",n(C(Q.that.__zoom,Q.mouse[0]=mS(me,Z),Q.mouse[1]),Q.extent,s))}function de(me){ee.on("mousemove.zoom mouseup.zoom",null),Bst(me.view,Q.moved),oB(me),Q.event(me).end()}}function R(H,...Y){if(e.apply(this,arguments)){var Z=this.__zoom,Q=mS(H.changedTouches?H.changedTouches[0]:H,this),ee=Z.invert(Q),oe=Z.k*(H.shiftKey?.5:2),ue=n(C(S(Z,oe),Q,ee),t.apply(this,Y),s);oB(H),u>0?K2(this).transition().duration(u).call(k,ue,Q,H):K2(this).call(_.transform,ue,Q,H)}}function D(H,...Y){if(e.apply(this,arguments)){var Z=H.touches,Q=Z.length,ee=M(this,Y,H.changedTouches.length===Q).event(H),oe,ue,ve,le;for(Xme(H),ue=0;ue<Q;++ue)ve=Z[ue],le=mS(ve,this),le=[le,this.__zoom.invert(le),ve.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==le[2]&&(ee.touch1=le,ee.taps=0):(ee.touch0=le,oe=!0,ee.taps=1+!!c);c&&(c=clearTimeout(c)),oe&&(ee.taps<2&&(h=le[0],c=setTimeout(function(){c=null},v)),kte(this),ee.start())}}function j(H,...Y){if(this.__zooming){var Z=M(this,Y).event(H),Q=H.changedTouches,ee=Q.length,oe,ue,ve,le;for(oB(H),oe=0;oe<ee;++oe)ue=Q[oe],ve=mS(ue,this),Z.touch0&&Z.touch0[2]===ue.identifier?Z.touch0[0]=ve:Z.touch1&&Z.touch1[2]===ue.identifier&&(Z.touch1[0]=ve);if(ue=Z.that.__zoom,Z.touch1){var de=Z.touch0[0],me=Z.touch0[1],Se=Z.touch1[0],Ee=Z.touch1[1],xe=(xe=Se[0]-de[0])*xe+(xe=Se[1]-de[1])*xe,Ie=(Ie=Ee[0]-me[0])*Ie+(Ie=Ee[1]-me[1])*Ie;ue=S(ue,Math.sqrt(xe/Ie)),ve=[(de[0]+Se[0])/2,(de[1]+Se[1])/2],le=[(me[0]+Ee[0])/2,(me[1]+Ee[1])/2]}else if(Z.touch0)ve=Z.touch0[0],le=Z.touch0[1];else return;Z.zoom("touch",n(C(ue,ve,le),Z.extent,s))}}function U(H,...Y){if(this.__zooming){var Z=M(this,Y).event(H),Q=H.changedTouches,ee=Q.length,oe,ue;for(Xme(H),p&&clearTimeout(p),p=setTimeout(function(){p=null},v),oe=0;oe<ee;++oe)ue=Q[oe],Z.touch0&&Z.touch0[2]===ue.identifier?delete Z.touch0:Z.touch1&&Z.touch1[2]===ue.identifier&&delete Z.touch1;if(Z.touch1&&!Z.touch0&&(Z.touch0=Z.touch1,delete Z.touch1),Z.touch0)Z.touch0[1]=this.__zoom.invert(Z.touch0[0]);else if(Z.end(),Z.taps===2&&(ue=mS(ue,this),Math.hypot(h[0]-ue[0],h[1]-ue[1])<w)){var ve=K2(this).on("dblclick.zoom");ve&&ve.apply(this,arguments)}}}return _.wheelDelta=function(H){return arguments.length?(r=typeof H=="function"?H:RJ(+H),_):r},_.filter=function(H){return arguments.length?(e=typeof H=="function"?H:RJ(!!H),_):e},_.touchable=function(H){return arguments.length?(i=typeof H=="function"?H:RJ(!!H),_):i},_.extent=function(H){return arguments.length?(t=typeof H=="function"?H:RJ([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),_):t},_.scaleExtent=function(H){return arguments.length?(a[0]=+H[0],a[1]=+H[1],_):[a[0],a[1]]},_.translateExtent=function(H){return arguments.length?(s[0][0]=+H[0][0],s[1][0]=+H[1][0],s[0][1]=+H[0][1],s[1][1]=+H[1][1],_):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},_.constrain=function(H){return arguments.length?(n=H,_):n},_.duration=function(H){return arguments.length?(u=+H,_):u},_.interpolate=function(H){return arguments.length?(f=H,_):f},_.on=function(){var H=d.on.apply(d,arguments);return H===d?_:H},_.clickDistance=function(H){return arguments.length?(y=(H=+H)*H,_):Math.sqrt(y)},_.tapDistance=function(H){return arguments.length?(w=+H,_):w},_}const Koe=z.createContext(null),mJt=Koe.Provider,S3={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`},xut=S3.error001();function Nc(e,t){const n=z.useContext(Koe);if(n===null)throw new Error(xut);return oat(n,e,t)}const Wg=()=>{const e=z.useContext(Koe);if(e===null)throw new Error(xut);return z.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},yJt=e=>e.userSelectionActive?"none":"all";function Sut({position:e,children:t,className:n,style:r,...i}){const a=Nc(yJt),s=`${e}`.split("-");return xt("div",{className:_v(["react-flow__panel",n,...s]),style:{...r,pointerEvents:a},...i,children:t})}function bJt({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:xt(Sut,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:xt("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const wJt=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:s=[2,4],labelBgBorderRadius:u=2,children:f,className:d,...c})=>{const h=z.useRef(null),[p,v]=z.useState({x:0,y:0,width:0,height:0}),m=_v(["react-flow__edge-textwrapper",d]);return z.useEffect(()=>{if(h.current){const y=h.current.getBBox();v({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:bi("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:m,visibility:p.width?"visible":"hidden",...c,children:[i&&xt("rect",{width:p.width+2*s[0],x:-s[0],y:-s[1],height:p.height+2*s[1],className:"react-flow__edge-textbg",style:a,rx:u,ry:u}),xt("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:h,style:r,children:n}),f]})};var _Jt=z.memo(wJt);const Ake=e=>({width:e.offsetWidth,height:e.offsetHeight}),bN=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Rke=(e={x:0,y:0},t)=>({x:bN(e.x,t[0][0],t[1][0]),y:bN(e.y,t[0][1],t[1][1])}),rWe=(e,t,n)=>e<t?bN(Math.abs(e-t),1,50)/50:e>n?-bN(Math.abs(e-n),1,50)/50:0,Eut=(e,t)=>{const n=rWe(e.x,35,t.width-35)*20,r=rWe(e.y,35,t.height-35)*20;return[n,r]},Cut=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},xJt=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),$ut=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),SJt=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),iWe=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),x_e=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},EJt=e=>Fb(e.width)&&Fb(e.height)&&Fb(e.x)&&Fb(e.y),Fb=e=>!isNaN(e)&&isFinite(e),qd=Symbol.for("internals"),kut=["Enter"," ","Escape"],CJt=(e,t)=>{},$Jt=e=>"nativeEvent"in e;function S_e(e){var i,a;const t=$Jt(e)?e.nativeEvent:e,n=((a=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:a[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const Out=e=>"clientX"in e,JR=(e,t)=>{var a,s;const n=Out(e),r=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},pG=({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:c,markerStart:h,interactionWidth:p=20})=>bi(my,{children:[xt("path",{style:d,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:c,markerStart:h}),p&&xt("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),r&&Fb(t)&&Fb(n)?xt(_Jt,{x:t,y:n,label:r,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:f}):null]});pG.displayName="BaseEdge";function sB(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(a=>a.id===e);i&&n(r,{...i})}}function Aut({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,a=n<e?n+i:n-i,s=Math.abs(r-t)/2,u=r<t?r+s:r-s;return[a,u,i,s]}function Rut({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:u}){const f=e*.125+i*.375+s*.375+n*.125,d=t*.125+a*.375+u*.375+r*.125,c=Math.abs(f-e),h=Math.abs(d-t);return[f,d,c,h]}var yP;(function(e){e.Strict="strict",e.Loose="loose"})(yP||(yP={}));var LF;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(LF||(LF={}));var NV;(function(e){e.Partial="partial",e.Full="full"})(NV||(NV={}));var gR;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(gR||(gR={}));var zV;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(zV||(zV={}));var Bi;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Bi||(Bi={}));function aWe({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===Bi.Left||e===Bi.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function Tut({sourceX:e,sourceY:t,sourcePosition:n=Bi.Bottom,targetX:r,targetY:i,targetPosition:a=Bi.Top}){const[s,u]=aWe({pos:n,x1:e,y1:t,x2:r,y2:i}),[f,d]=aWe({pos:a,x1:r,y1:i,x2:e,y2:t}),[c,h,p,v]=Rut({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:u,targetControlX:f,targetControlY:d});return[`M${e},${t} C${s},${u} ${f},${d} ${r},${i}`,c,h,p,v]}const Tke=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Bi.Bottom,targetPosition:a=Bi.Top,label:s,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:c,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:m,interactionWidth:y})=>{const[w,_,S]=Tut({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a});return xt(pG,{path:w,labelX:_,labelY:S,label:s,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:c,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:m,interactionWidth:y})});Tke.displayName="SimpleBezierEdge";const oWe={[Bi.Left]:{x:-1,y:0},[Bi.Right]:{x:1,y:0},[Bi.Top]:{x:0,y:-1},[Bi.Bottom]:{x:0,y:1}},kJt=({source:e,sourcePosition:t=Bi.Bottom,target:n})=>t===Bi.Left||t===Bi.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},sWe=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function OJt({source:e,sourcePosition:t=Bi.Bottom,target:n,targetPosition:r=Bi.Top,center:i,offset:a}){const s=oWe[t],u=oWe[r],f={x:e.x+s.x*a,y:e.y+s.y*a},d={x:n.x+u.x*a,y:n.y+u.y*a},c=kJt({source:f,sourcePosition:t,target:d}),h=c.x!==0?"x":"y",p=c[h];let v=[],m,y;const[w,_,S,C]=Aut({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[h]*u[h]===-1){m=i.x||w,y=i.y||_;const k=[{x:m,y:f.y},{x:m,y:d.y}],M=[{x:f.x,y},{x:d.x,y}];s[h]===p?v=h==="x"?k:M:v=h==="x"?M:k}else{const k=[{x:f.x,y:d.y}],M=[{x:d.x,y:f.y}];if(h==="x"?v=s.x===p?M:k:v=s.y===p?k:M,t!==r){const A=h==="x"?"y":"x",L=s[h]===u[A],N=f[A]>d[A],R=f[A]<d[A];(s[h]===1&&(!L&&N||L&&R)||s[h]!==1&&(!L&&R||L&&N))&&(v=h==="x"?k:M)}m=v[0].x,y=v[0].y}return[[e,f,...v,d,n],m,y,S,C]}function AJt(e,t,n,r){const i=Math.min(sWe(e,t)/2,sWe(t,n)/2,r),{x:a,y:s}=t;if(e.x===a&&a===n.x||e.y===s&&s===n.y)return`L${a} ${s}`;if(e.y===s){const d=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${a+i*d},${s}Q ${a},${s} ${a},${s+i*c}`}const u=e.x<n.x?1:-1,f=e.y<n.y?-1:1;return`L ${a},${s+i*f}Q ${a},${s} ${a+i*u},${s}`}function E_e({sourceX:e,sourceY:t,sourcePosition:n=Bi.Bottom,targetX:r,targetY:i,targetPosition:a=Bi.Top,borderRadius:s=5,centerX:u,centerY:f,offset:d=20}){const[c,h,p,v,m]=OJt({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:a,center:{x:u,y:f},offset:d});return[c.reduce((w,_,S)=>{let C="";return S>0&&S<c.length-1?C=AJt(c[S-1],_,c[S+1],s):C=`${S===0?"M":"L"}${_.x} ${_.y}`,w+=C,w},""),h,p,v,m]}const Xoe=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:c,sourcePosition:h=Bi.Bottom,targetPosition:p=Bi.Top,markerEnd:v,markerStart:m,pathOptions:y,interactionWidth:w})=>{const[_,S,C]=E_e({sourceX:e,sourceY:t,sourcePosition:h,targetX:n,targetY:r,targetPosition:p,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return xt(pG,{path:_,labelX:S,labelY:C,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:c,markerEnd:v,markerStart:m,interactionWidth:w})});Xoe.displayName="SmoothStepEdge";const Mke=z.memo(e=>{var t;return xt(Xoe,{...e,pathOptions:z.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Mke.displayName="StepEdge";function RJt({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,a,s,u]=Aut({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,a,s,u]}const Pke=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:c,markerEnd:h,markerStart:p,interactionWidth:v})=>{const[m,y,w]=RJt({sourceX:e,sourceY:t,targetX:n,targetY:r});return xt(pG,{path:m,labelX:y,labelY:w,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:d,style:c,markerEnd:h,markerStart:p,interactionWidth:v})});Pke.displayName="StraightEdge";function TJ(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function uWe({pos:e,x1:t,y1:n,x2:r,y2:i,c:a}){switch(e){case Bi.Left:return[t-TJ(t-r,a),n];case Bi.Right:return[t+TJ(r-t,a),n];case Bi.Top:return[t,n-TJ(n-i,a)];case Bi.Bottom:return[t,n+TJ(i-n,a)]}}function Mut({sourceX:e,sourceY:t,sourcePosition:n=Bi.Bottom,targetX:r,targetY:i,targetPosition:a=Bi.Top,curvature:s=.25}){const[u,f]=uWe({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[d,c]=uWe({pos:a,x1:r,y1:i,x2:e,y2:t,c:s}),[h,p,v,m]=Rut({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:u,sourceControlY:f,targetControlX:d,targetControlY:c});return[`M${e},${t} C${u},${f} ${d},${c} ${r},${i}`,h,p,v,m]}const Sre=z.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=Bi.Bottom,targetPosition:a=Bi.Top,label:s,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:c,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:m,pathOptions:y,interactionWidth:w})=>{const[_,S,C]=Mut({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a,curvature:y==null?void 0:y.curvature});return xt(pG,{path:_,labelX:S,labelY:C,label:s,labelStyle:u,labelShowBg:f,labelBgStyle:d,labelBgPadding:c,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:m,interactionWidth:w})});Sre.displayName="BezierEdge";const Lke=z.createContext(null),TJt=Lke.Provider;Lke.Consumer;const MJt=()=>z.useContext(Lke),PJt=e=>"id"in e&&"source"in e&&"target"in e,LJt=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,C_e=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,DJt=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),IJt=(e,t)=>{if(!e.source||!e.target)return t;let n;return PJt(e)?n={...e}:n={...e,id:LJt(e)},DJt(n,t)?t:t.concat(n)},Put=({x:e,y:t},[n,r,i],a,[s,u])=>{const f={x:(e-n)/i,y:(t-r)/i};return a?{x:s*Math.round(f.x/s),y:u*Math.round(f.y/u)}:f},FJt=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),DF=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Lut=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:a,y:s}=DF(i,t).positionAbsolute;return xJt(r,$ut({x:a,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return SJt(n)},Dut=(e,t,[n,r,i]=[0,0,1],a=!1,s=!1,u=[0,0])=>{const f={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},d=[];return e.forEach(c=>{const{width:h,height:p,selectable:v=!0,hidden:m=!1}=c;if(s&&!v||m)return!1;const{positionAbsolute:y}=DF(c,u),w={x:y.x,y:y.y,width:h||0,height:p||0},_=x_e(f,w),S=typeof h>"u"||typeof p>"u"||h===null||p===null,C=a&&_>0,$=(h||0)*(p||0);(S||C||_>=$||c.dragging)&&d.push(c)}),d},Iut=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},Fut=(e,t,n,r,i,a=.1)=>{const s=t/(e.width*(1+a)),u=n/(e.height*(1+a)),f=Math.min(s,u),d=bN(f,r,i),c=e.x+e.width/2,h=e.y+e.height/2,p=t/2-c*d,v=n/2-h*d;return[p,v,d]},ZM=(e,t=0)=>e.transition().duration(t);function lWe(e,t,n,r){return(t[n]||[]).reduce((i,a)=>{var s,u;return`${e.id}-${a.id}-${n}`!==r&&i.push({id:a.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+a.x+a.width/2,y:(((u=e.positionAbsolute)==null?void 0:u.y)??0)+a.y+a.height/2}),i},[])}function NJt(e,t,n){let r=null,i=1/0;return n.forEach(a=>{const s=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));s<=t&&s<i&&(i=s,r=a)}),r}const zJt={source:null,target:null,sourceHandle:null,targetHandle:null};function Nut(e,t,n,r,i,a,s,u){const f=a==="target",d=u.querySelector(`.react-flow__handle[data-id="${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`),{x:c,y:h}=JR(e),p=u.elementFromPoint(c,h),v=p!=null&&p.classList.contains("react-flow__handle")?p:d,m={handleDomNode:v,isValid:!1,connection:zJt,endHandle:null};if(v){const y=zut(void 0,v),w=v.getAttribute("data-nodeid"),_=v.getAttribute("data-handleid"),S=v.classList.contains("connectable"),C=v.classList.contains("connectableend"),$={source:f?w:r,sourceHandle:f?_:i,target:f?r:w,targetHandle:f?i:_};m.connection=$,S&&C&&(n===yP.Strict?f&&y==="source"||!f&&y==="target":w!==r||_!==i)&&(m.endHandle={nodeId:w,handleId:_,type:y},m.isValid=s($))}return m}function jJt({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,a)=>{if(a[qd]){const{handleBounds:s}=a[qd];let u=[],f=[];s&&(u=lWe(a,s,"source",`${t}-${n}-${r}`),f=lWe(a,s,"target",`${t}-${n}-${r}`)),i.push(...u,...f)}return i},[])}function zut(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Zme(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function BJt(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function jut({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:a,setState:s,isValidConnection:u,edgeUpdaterType:f,onEdgeUpdateEnd:d}){const c=Cut(e.target),{connectionMode:h,domNode:p,autoPanOnConnect:v,connectionRadius:m,onConnectStart:y,panBy:w,getNodes:_,cancelConnection:S}=a();let C=0,$;const{x:k,y:M}=JR(e),A=c==null?void 0:c.elementFromPoint(k,M),L=zut(f,A),N=p==null?void 0:p.getBoundingClientRect();if(!N||!L)return;let R,D=JR(e,N),j=!1,U=null,H=!1,Y=null;const Z=jJt({nodes:_(),nodeId:n,handleId:t,handleType:L}),Q=()=>{if(!v)return;const[ue,ve]=Eut(D,N);w({x:ue,y:ve}),C=requestAnimationFrame(Q)};s({connectionPosition:D,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:L,connectionStartHandle:{nodeId:n,handleId:t,type:L},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:L});function ee(ue){const{transform:ve}=a();D=JR(ue,N),$=NJt(Put(D,ve,!1,[1,1]),m,Z),j||(Q(),j=!0);const le=Nut(ue,$,h,n,t,i?"target":"source",u,c);if(Y=le.handleDomNode,U=le.connection,H=le.isValid,s({connectionPosition:$&&H?FJt({x:$.x,y:$.y},ve):D,connectionStatus:BJt(!!$,H),connectionEndHandle:le.endHandle}),!$&&!H&&!Y)return Zme(R);U.source!==U.target&&Y&&(Zme(R),R=Y,Y.classList.add("connecting","react-flow__handle-connecting"),Y.classList.toggle("valid",H),Y.classList.toggle("react-flow__handle-valid",H))}function oe(ue){var ve,le;($||Y)&&U&&H&&(r==null||r(U)),(le=(ve=a()).onConnectEnd)==null||le.call(ve,ue),f&&(d==null||d(ue)),Zme(R),S(),cancelAnimationFrame(C),j=!1,H=!1,U=null,Y=null,c.removeEventListener("mousemove",ee),c.removeEventListener("mouseup",oe),c.removeEventListener("touchmove",ee),c.removeEventListener("touchend",oe)}c.addEventListener("mousemove",ee),c.addEventListener("mouseup",oe),c.addEventListener("touchmove",ee),c.addEventListener("touchend",oe)}const cWe=()=>!0,HJt=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),UJt=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:a,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},But=z.forwardRef(({type:e="source",position:t=Bi.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:s,onConnect:u,children:f,className:d,onMouseDown:c,onTouchStart:h,...p},v)=>{var N,R;const m=s||null,y=e==="target",w=Wg(),_=MJt(),{connectOnClick:S,noPanClassName:C}=Nc(HJt,Am),{connecting:$,clickConnecting:k}=Nc(UJt(_,m,e));_||(R=(N=w.getState()).onError)==null||R.call(N,"010",S3.error010());const M=D=>{const{defaultEdgeOptions:j,onConnect:U,hasDefaultEdges:H}=w.getState(),Y={...j,...D};if(H){const{edges:Z,setEdges:Q}=w.getState();Q(IJt(Y,Z))}U==null||U(Y),u==null||u(Y)},A=D=>{if(!_)return;const j=Out(D);i&&(j&&D.button===0||!j)&&jut({event:D,handleId:m,nodeId:_,onConnect:M,isTarget:y,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||cWe}),j?c==null||c(D):h==null||h(D)},L=D=>{const{onClickConnectStart:j,onClickConnectEnd:U,connectionClickStartHandle:H,connectionMode:Y,isValidConnection:Z}=w.getState();if(!_||!H&&!i)return;if(!H){j==null||j(D,{nodeId:_,handleId:m,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:_,type:e,handleId:m}});return}const Q=Cut(D.target),ee=n||Z||cWe,{connection:oe,isValid:ue}=Nut(D,{nodeId:_,id:m,type:e},Y,H.nodeId,H.handleId||null,H.type,ee,Q);ue&&M(oe),U==null||U(D),w.setState({connectionClickStartHandle:null})};return xt("div",{"data-handleid":m,"data-nodeid":_,"data-handlepos":t,"data-id":`${_}-${m}-${e}`,className:_v(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",C,d,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:a,connecting:k,connectionindicator:r&&(i&&!$||a&&$)}]),onMouseDown:A,onTouchStart:A,onClick:S?L:void 0,ref:v,...p,children:f})});But.displayName="Handle";var wN=z.memo(But);const Hut=({data:e,isConnectable:t,targetPosition:n=Bi.Top,sourcePosition:r=Bi.Bottom})=>bi(my,{children:[xt(wN,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,xt(wN,{type:"source",position:r,isConnectable:t})]});Hut.displayName="DefaultNode";var $_e=z.memo(Hut);const Uut=({data:e,isConnectable:t,sourcePosition:n=Bi.Bottom})=>bi(my,{children:[e==null?void 0:e.label,xt(wN,{type:"source",position:n,isConnectable:t})]});Uut.displayName="InputNode";var Vut=z.memo(Uut);const Wut=({data:e,isConnectable:t,targetPosition:n=Bi.Top})=>bi(my,{children:[xt(wN,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]});Wut.displayName="OutputNode";var Gut=z.memo(Wut);const Dke=()=>null;Dke.displayName="GroupNode";const VJt=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),MJ=e=>e.id;function WJt(e,t){return Am(e.selectedNodes.map(MJ),t.selectedNodes.map(MJ))&&Am(e.selectedEdges.map(MJ),t.selectedEdges.map(MJ))}const qut=z.memo(({onSelectionChange:e})=>{const t=Wg(),{selectedNodes:n,selectedEdges:r}=Nc(VJt,WJt);return z.useEffect(()=>{var a,s;const i={nodes:n,edges:r};e==null||e(i),(s=(a=t.getState()).onSelectionChange)==null||s.call(a,i)},[n,r,e]),null});qut.displayName="SelectionListener";const GJt=e=>!!e.onSelectionChange;function qJt({onSelectionChange:e}){const t=Nc(GJt);return e||t?xt(qut,{onSelectionChange:e}):null}const YJt=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function l6(e,t){z.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Lo(e,t,n){z.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const KJt=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:a,onConnectEnd:s,onClickConnectStart:u,onClickConnectEnd:f,nodesDraggable:d,nodesConnectable:c,nodesFocusable:h,edgesFocusable:p,edgesUpdatable:v,elevateNodesOnSelect:m,minZoom:y,maxZoom:w,nodeExtent:_,onNodesChange:S,onEdgesChange:C,elementsSelectable:$,connectionMode:k,snapGrid:M,snapToGrid:A,translateExtent:L,connectOnClick:N,defaultEdgeOptions:R,fitView:D,fitViewOptions:j,onNodesDelete:U,onEdgesDelete:H,onNodeDrag:Y,onNodeDragStart:Z,onNodeDragStop:Q,onSelectionDrag:ee,onSelectionDragStart:oe,onSelectionDragStop:ue,noPanClassName:ve,nodeOrigin:le,rfId:de,autoPanOnConnect:me,autoPanOnNodeDrag:Se,onError:Ee,connectionRadius:xe,isValidConnection:Ie})=>{const{setNodes:Ne,setEdges:We,setDefaultNodesAndEdges:Me,setMinZoom:He,setMaxZoom:gt,setTranslateExtent:Ye,setNodeExtent:ot,reset:Ue}=Nc(YJt,Am),st=Wg();return z.useEffect(()=>{const at=r==null?void 0:r.map(St=>({...St,...R}));return Me(n,at),()=>{Ue()}},[]),Lo("defaultEdgeOptions",R,st.setState),Lo("connectionMode",k,st.setState),Lo("onConnect",i,st.setState),Lo("onConnectStart",a,st.setState),Lo("onConnectEnd",s,st.setState),Lo("onClickConnectStart",u,st.setState),Lo("onClickConnectEnd",f,st.setState),Lo("nodesDraggable",d,st.setState),Lo("nodesConnectable",c,st.setState),Lo("nodesFocusable",h,st.setState),Lo("edgesFocusable",p,st.setState),Lo("edgesUpdatable",v,st.setState),Lo("elementsSelectable",$,st.setState),Lo("elevateNodesOnSelect",m,st.setState),Lo("snapToGrid",A,st.setState),Lo("snapGrid",M,st.setState),Lo("onNodesChange",S,st.setState),Lo("onEdgesChange",C,st.setState),Lo("connectOnClick",N,st.setState),Lo("fitViewOnInit",D,st.setState),Lo("fitViewOnInitOptions",j,st.setState),Lo("onNodesDelete",U,st.setState),Lo("onEdgesDelete",H,st.setState),Lo("onNodeDrag",Y,st.setState),Lo("onNodeDragStart",Z,st.setState),Lo("onNodeDragStop",Q,st.setState),Lo("onSelectionDrag",ee,st.setState),Lo("onSelectionDragStart",oe,st.setState),Lo("onSelectionDragStop",ue,st.setState),Lo("noPanClassName",ve,st.setState),Lo("nodeOrigin",le,st.setState),Lo("rfId",de,st.setState),Lo("autoPanOnConnect",me,st.setState),Lo("autoPanOnNodeDrag",Se,st.setState),Lo("onError",Ee,st.setState),Lo("connectionRadius",xe,st.setState),Lo("isValidConnection",Ie,st.setState),l6(e,Ne),l6(t,We),l6(y,He),l6(w,gt),l6(L,Ye),l6(_,ot),null},fWe={display:"none"},XJt={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Yut="react-flow__node-desc",Kut="react-flow__edge-desc",ZJt="react-flow__aria-live",QJt=e=>e.ariaLiveMessage;function JJt({rfId:e}){const t=Nc(QJt);return xt("div",{id:`${ZJt}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:XJt,children:t})}function een({rfId:e,disableKeyboardA11y:t}){return bi(my,{children:[bi("div",{id:`${Yut}-${e}`,style:fWe,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),xt("div",{id:`${Kut}-${e}`,style:fWe,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&xt(JJt,{rfId:e})]})}const ten=(e,t,n)=>n===Bi.Left?e-t:n===Bi.Right?e+t:e,nen=(e,t,n)=>n===Bi.Top?e-t:n===Bi.Bottom?e+t:e,dWe="react-flow__edgeupdater",hWe=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:a,onMouseOut:s,type:u})=>xt("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:s,className:_v([dWe,`${dWe}-${u}`]),cx:ten(t,r,e),cy:nen(n,r,e),r,stroke:"transparent",fill:"transparent"}),ren=()=>!0;var c6=e=>{const t=({id:n,className:r,type:i,data:a,onClick:s,onEdgeDoubleClick:u,selected:f,animated:d,label:c,labelStyle:h,labelShowBg:p,labelBgStyle:v,labelBgPadding:m,labelBgBorderRadius:y,style:w,source:_,target:S,sourceX:C,sourceY:$,targetX:k,targetY:M,sourcePosition:A,targetPosition:L,elementsSelectable:N,hidden:R,sourceHandleId:D,targetHandleId:j,onContextMenu:U,onMouseEnter:H,onMouseMove:Y,onMouseLeave:Z,edgeUpdaterRadius:Q,onEdgeUpdate:ee,onEdgeUpdateStart:oe,onEdgeUpdateEnd:ue,markerEnd:ve,markerStart:le,rfId:de,ariaLabel:me,isFocusable:Se,isUpdatable:Ee,pathOptions:xe,interactionWidth:Ie})=>{const Ne=z.useRef(null),[We,Me]=z.useState(!1),[He,gt]=z.useState(!1),Ye=Wg(),ot=z.useMemo(()=>`url(#${C_e(le,de)})`,[le,de]),Ue=z.useMemo(()=>`url(#${C_e(ve,de)})`,[ve,de]);if(R)return null;const st=At=>{const{edges:Bt,addSelectedEdges:kt}=Ye.getState();if(N&&(Ye.setState({nodesSelectionActive:!1}),kt([n])),s){const qt=Bt.find(fn=>fn.id===n);s(At,qt)}},at=sB(n,Ye.getState,u),St=sB(n,Ye.getState,U),Vt=sB(n,Ye.getState,H),tt=sB(n,Ye.getState,Y),wt=sB(n,Ye.getState,Z),vt=(At,Bt)=>{if(At.button!==0)return;const{edges:kt,isValidConnection:qt}=Ye.getState(),fn=Bt?S:_,jn=(Bt?j:D)||null,Mn=Bt?"target":"source",Un=qt||ren,Kr=Bt,Wi=kt.find($i=>$i.id===n);gt(!0),oe==null||oe(At,Wi,Mn);const sa=$i=>{gt(!1),ue==null||ue($i,Wi,Mn)};jut({event:At,handleId:jn,nodeId:fn,onConnect:$i=>ee==null?void 0:ee(Wi,$i),isTarget:Kr,getState:Ye.getState,setState:Ye.setState,isValidConnection:Un,edgeUpdaterType:Mn,onEdgeUpdateEnd:sa})},Le=At=>vt(At,!0),ft=At=>vt(At,!1),Mt=()=>Me(!0),yt=()=>Me(!1),Ct=!N&&!s,jt=At=>{var Bt;if(kut.includes(At.key)&&N){const{unselectNodesAndEdges:kt,addSelectedEdges:qt,edges:fn}=Ye.getState();At.key==="Escape"?((Bt=Ne.current)==null||Bt.blur(),kt({edges:[fn.find(Mn=>Mn.id===n)]})):qt([n])}};return bi("g",{className:_v(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:f,animated:d,inactive:Ct,updating:We}]),onClick:st,onDoubleClick:at,onContextMenu:St,onMouseEnter:Vt,onMouseMove:tt,onMouseLeave:wt,onKeyDown:Se?jt:void 0,tabIndex:Se?0:void 0,role:Se?"button":void 0,"data-testid":`rf__edge-${n}`,"aria-label":me===null?void 0:me||`Edge from ${_} to ${S}`,"aria-describedby":Se?`${Kut}-${de}`:void 0,ref:Ne,children:[!He&&xt(e,{id:n,source:_,target:S,selected:f,animated:d,label:c,labelStyle:h,labelShowBg:p,labelBgStyle:v,labelBgPadding:m,labelBgBorderRadius:y,data:a,style:w,sourceX:C,sourceY:$,targetX:k,targetY:M,sourcePosition:A,targetPosition:L,sourceHandleId:D,targetHandleId:j,markerStart:ot,markerEnd:Ue,pathOptions:xe,interactionWidth:Ie}),Ee&&bi(my,{children:[(Ee==="source"||Ee===!0)&&xt(hWe,{position:A,centerX:C,centerY:$,radius:Q,onMouseDown:Le,onMouseEnter:Mt,onMouseOut:yt,type:"source"}),(Ee==="target"||Ee===!0)&&xt(hWe,{position:L,centerX:k,centerY:M,radius:Q,onMouseDown:ft,onMouseEnter:Mt,onMouseOut:yt,type:"target"})]})]})};return t.displayName="EdgeWrapper",z.memo(t)};function ien(e){const t={default:c6(e.default||Sre),straight:c6(e.bezier||Pke),step:c6(e.step||Mke),smoothstep:c6(e.step||Xoe),simplebezier:c6(e.simplebezier||Tke)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,a)=>(i[a]=c6(e[a]||Sre),i),n);return{...t,...r}}function gWe(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,a=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case Bi.Top:return{x:r+a/2,y:i};case Bi.Right:return{x:r+a,y:i+s/2};case Bi.Bottom:return{x:r+a/2,y:i+s};case Bi.Left:return{x:r,y:i+s/2}}}function pWe(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const aen=(e,t,n,r,i,a)=>{const s=gWe(n,e,t),u=gWe(a,r,i);return{sourceX:s.x,sourceY:s.y,targetX:u.x,targetY:u.y}};function oen({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:a,width:s,height:u,transform:f}){const d={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+a)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const c=$ut({x:(0-f[0])/f[2],y:(0-f[1])/f[2],width:s/f[2],height:u/f[2]}),h=Math.max(0,Math.min(c.x2,d.x2)-Math.max(c.x,d.x)),p=Math.max(0,Math.min(c.y2,d.y2)-Math.max(c.y,d.y));return Math.ceil(h*p)>0}function vWe(e){var r,i,a,s,u;const t=((r=e==null?void 0:e[qd])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((u=e==null?void 0:e.positionAbsolute)==null?void 0:u.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}function Xut(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:Xut(n,t):!1}function mWe(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function sen(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||!Xut(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var a,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=i.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode,width:i.width,height:i.height}})}function Zut(e,t,n,r,i=[0,0],a){let s=e.extent||r;if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){const d=n.get(e.parentNode),{x:c,y:h}=DF(d,i).positionAbsolute;s=d&&Fb(c)&&Fb(h)&&Fb(d.width)&&Fb(d.height)?[[c+e.width*i[0],h+e.height*i[1]],[c+d.width-e.width+e.width*i[0],h+d.height-e.height+e.height*i[1]]]:s}else a==null||a("005",S3.error005()),s=r;else if(e.extent&&e.parentNode){const d=n.get(e.parentNode),{x:c,y:h}=DF(d,i).positionAbsolute;s=[[e.extent[0][0]+c,e.extent[0][1]+h],[e.extent[1][0]+c,e.extent[1][1]+h]]}let u={x:0,y:0};if(e.parentNode){const d=n.get(e.parentNode);u=DF(d,i).positionAbsolute}const f=s?Rke(t,s):t;return{position:{x:f.x-u.x,y:f.y-u.y},positionAbsolute:f}}function Qme({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const yWe=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const a=Array.from(i),s=t.getBoundingClientRect(),u={x:s.width*r[0],y:s.height*r[1]};return a.map(f=>{const d=f.getBoundingClientRect();return{id:f.getAttribute("data-handleid"),position:f.getAttribute("data-handlepos"),x:(d.left-s.left-u.x)/n,y:(d.top-s.top-u.y)/n,...Ake(f)}})};function uB(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);n(r,{...i})}}function k_e({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:s,nodeInternals:u}=t.getState(),f=u.get(e);t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&s)&&(a({nodes:[f]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):i([e])}function uen(){const e=Wg();return z.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:a}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,u=n.touches?n.touches[0].clientY:n.clientY,f={x:(s-r[0])/r[2],y:(u-r[1])/r[2]};return{xSnapped:a?i[0]*Math.round(f.x/i[0]):f.x,ySnapped:a?i[1]*Math.round(f.y/i[1]):f.y,...f}},[])}function Jme(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Qut({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:a,selectNodesOnDrag:s}){const u=Wg(),[f,d]=z.useState(!1),c=z.useRef([]),h=z.useRef({x:null,y:null}),p=z.useRef(0),v=z.useRef(null),m=z.useRef({x:0,y:0}),y=z.useRef(null),w=z.useRef(!1),_=uen();return z.useEffect(()=>{if(e!=null&&e.current){const S=K2(e.current),C=({x:k,y:M})=>{const{nodeInternals:A,onNodeDrag:L,onSelectionDrag:N,updateNodePositions:R,nodeExtent:D,snapGrid:j,snapToGrid:U,nodeOrigin:H,onError:Y}=u.getState();h.current={x:k,y:M};let Z=!1;if(c.current=c.current.map(ee=>{const oe={x:k-ee.distance.x,y:M-ee.distance.y};U&&(oe.x=j[0]*Math.round(oe.x/j[0]),oe.y=j[1]*Math.round(oe.y/j[1]));const ue=Zut(ee,oe,A,D,H,Y);return Z=Z||ee.position.x!==ue.position.x||ee.position.y!==ue.position.y,ee.position=ue.position,ee.positionAbsolute=ue.positionAbsolute,ee}),!Z)return;R(c.current,!0,!0),d(!0);const Q=i?L:Jme(N);if(Q&&y.current){const[ee,oe]=Qme({nodeId:i,dragItems:c.current,nodeInternals:A});Q(y.current,ee,oe)}},$=()=>{if(!v.current)return;const[k,M]=Eut(m.current,v.current);if(k!==0||M!==0){const{transform:A,panBy:L}=u.getState();h.current.x=(h.current.x??0)-k/A[2],h.current.y=(h.current.y??0)-M/A[2],C(h.current),L({x:k,y:M})}p.current=requestAnimationFrame($)};if(t)S.on(".drag",null);else{const k=pZt().on("start",M=>{var Z;const{nodeInternals:A,multiSelectionActive:L,domNode:N,nodesDraggable:R,unselectNodesAndEdges:D,onNodeDragStart:j,onSelectionDragStart:U}=u.getState(),H=i?j:Jme(U);!s&&!L&&i&&((Z=A.get(i))!=null&&Z.selected||D()),i&&a&&s&&k_e({id:i,store:u,nodeRef:e});const Y=_(M);if(h.current=Y,c.current=sen(A,R,Y,i),H&&c.current){const[Q,ee]=Qme({nodeId:i,dragItems:c.current,nodeInternals:A});H(M.sourceEvent,Q,ee)}v.current=(N==null?void 0:N.getBoundingClientRect())||null,m.current=JR(M.sourceEvent,v.current)}).on("drag",M=>{const A=_(M),{autoPanOnNodeDrag:L}=u.getState();!w.current&&L&&(w.current=!0,$()),(h.current.x!==A.xSnapped||h.current.y!==A.ySnapped)&&c.current&&(y.current=M.sourceEvent,m.current=JR(M.sourceEvent,v.current),C(A))}).on("end",M=>{if(d(!1),w.current=!1,cancelAnimationFrame(p.current),c.current){const{updateNodePositions:A,nodeInternals:L,onNodeDragStop:N,onSelectionDragStop:R}=u.getState(),D=i?N:Jme(R);if(A(c.current,!1,!1),D){const[j,U]=Qme({nodeId:i,dragItems:c.current,nodeInternals:L});D(M.sourceEvent,j,U)}}}).filter(M=>{const A=M.target;return!M.button&&(!n||!mWe(A,`.${n}`,e))&&(!r||mWe(A,r,e))});return S.call(k),()=>{S.on(".drag",null)}}}},[e,t,n,r,a,u,i,s,_]),f}function Jut(){const e=Wg();return z.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:a,getNodes:s,snapToGrid:u,snapGrid:f,onError:d,nodesDraggable:c}=e.getState(),h=s().filter(S=>S.selected&&(S.draggable||c&&typeof S.draggable>"u")),p=u?f[0]:5,v=u?f[1]:5,m=n.isShiftPressed?4:1,y=n.x*p*m,w=n.y*v*m,_=h.map(S=>{if(S.positionAbsolute){const C={x:S.positionAbsolute.x+y,y:S.positionAbsolute.y+w};u&&(C.x=f[0]*Math.round(C.x/f[0]),C.y=f[1]*Math.round(C.y/f[1]));const{positionAbsolute:$,position:k}=Zut(S,C,r,i,void 0,d);S.position=k,S.positionAbsolute=$}return S});a(_,!0,!1)},[])}const IF={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var lB=e=>{const t=({id:n,type:r,data:i,xPos:a,yPos:s,xPosOrigin:u,yPosOrigin:f,selected:d,onClick:c,onMouseEnter:h,onMouseMove:p,onMouseLeave:v,onContextMenu:m,onDoubleClick:y,style:w,className:_,isDraggable:S,isSelectable:C,isConnectable:$,isFocusable:k,selectNodesOnDrag:M,sourcePosition:A,targetPosition:L,hidden:N,resizeObserver:R,dragHandle:D,zIndex:j,isParent:U,noDragClassName:H,noPanClassName:Y,initialized:Z,disableKeyboardA11y:Q,ariaLabel:ee,rfId:oe})=>{const ue=Wg(),ve=z.useRef(null),le=z.useRef(A),de=z.useRef(L),me=z.useRef(r),Se=C||S||c||h||p||v,Ee=Jut(),xe=uB(n,ue.getState,h),Ie=uB(n,ue.getState,p),Ne=uB(n,ue.getState,v),We=uB(n,ue.getState,m),Me=uB(n,ue.getState,y),He=ot=>{if(C&&(!M||!S)&&k_e({id:n,store:ue,nodeRef:ve}),c){const Ue=ue.getState().nodeInternals.get(n);c(ot,{...Ue})}},gt=ot=>{if(!S_e(ot))if(kut.includes(ot.key)&&C){const Ue=ot.key==="Escape";k_e({id:n,store:ue,unselect:Ue,nodeRef:ve})}else!Q&&S&&d&&Object.prototype.hasOwnProperty.call(IF,ot.key)&&(ue.setState({ariaLiveMessage:`Moved selected node ${ot.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~s}`}),Ee({x:IF[ot.key].x,y:IF[ot.key].y,isShiftPressed:ot.shiftKey}))};z.useEffect(()=>{if(ve.current&&!N){const ot=ve.current;return R==null||R.observe(ot),()=>R==null?void 0:R.unobserve(ot)}},[N]),z.useEffect(()=>{const ot=me.current!==r,Ue=le.current!==A,st=de.current!==L;ve.current&&(ot||Ue||st)&&(ot&&(me.current=r),Ue&&(le.current=A),st&&(de.current=L),ue.getState().updateNodeDimensions([{id:n,nodeElement:ve.current,forceUpdate:!0}]))},[n,r,A,L]);const Ye=Qut({nodeRef:ve,disabled:N||!S,noDragClassName:H,handleSelector:D,nodeId:n,isSelectable:C,selectNodesOnDrag:M});return N?null:xt("div",{className:_v(["react-flow__node",`react-flow__node-${r}`,{[Y]:S},_,{selected:d,selectable:C,parent:U,dragging:Ye}]),ref:ve,style:{zIndex:j,transform:`translate(${u}px,${f}px)`,pointerEvents:Se?"all":"none",visibility:Z?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:xe,onMouseMove:Ie,onMouseLeave:Ne,onContextMenu:We,onClick:He,onDoubleClick:Me,onKeyDown:k?gt:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":Q?void 0:`${Yut}-${oe}`,"aria-label":ee,children:xt(TJt,{value:n,children:xt(e,{id:n,data:i,type:r,xPos:a,yPos:s,selected:d,isConnectable:$,sourcePosition:A,targetPosition:L,dragging:Ye,dragHandle:D,zIndex:j})})})};return t.displayName="NodeWrapper",z.memo(t)};function len(e){const t={input:lB(e.input||Vut),default:lB(e.default||$_e),output:lB(e.output||Gut),group:lB(e.group||Dke)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,a)=>(i[a]=lB(e[a]||$_e),i),n);return{...t,...r}}const cen=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},fen=typeof document<"u"?document:null;var jV=(e=null,t={target:fen})=>{const[n,r]=z.useState(!1),i=z.useRef(!1),a=z.useRef(new Set([])),[s,u]=z.useMemo(()=>{if(e!==null){const d=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.split("+")),c=d.reduce((h,p)=>h.concat(...p),[]);return[d,c]}return[[],[]]},[e]);return z.useEffect(()=>{var f,d;if(e!==null){const c=v=>{if(i.current=v.ctrlKey||v.metaKey||v.shiftKey,!i.current&&S_e(v))return!1;const m=wWe(v.code,u);a.current.add(v[m]),bWe(s,a.current,!1)&&(v.preventDefault(),r(!0))},h=v=>{if(!i.current&&S_e(v))return!1;const m=wWe(v.code,u);bWe(s,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(v[m]),i.current=!1},p=()=>{a.current.clear(),r(!1)};return(f=t==null?void 0:t.target)==null||f.addEventListener("keydown",c),(d=t==null?void 0:t.target)==null||d.addEventListener("keyup",h),window.addEventListener("blur",p),()=>{var v,m;(v=t==null?void 0:t.target)==null||v.removeEventListener("keydown",c),(m=t==null?void 0:t.target)==null||m.removeEventListener("keyup",h),window.removeEventListener("blur",p)}}},[e,r]),n};function bWe(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function wWe(e,t){return t.includes(e)?"code":"key"}function elt(e,t,n,r){var s,u;if(!e.parentNode)return n;const i=t.get(e.parentNode),a=DF(i,r);return elt(i,t,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(((s=i[qd])==null?void 0:s.z)??0)>(n.z??0)?((u=i[qd])==null?void 0:u.z)??0:n.z??0},r)}function tlt(e,t,n){e.forEach(r=>{var i;if(r.parentNode&&!e.has(r.parentNode))throw new Error(`Parent node ${r.parentNode} not found`);if(r.parentNode||n!=null&&n[r.id]){const{x:a,y:s,z:u}=elt(r,e,{...r.position,z:((i=r[qd])==null?void 0:i.z)??0},t);r.positionAbsolute={x:a,y:s},r[qd].z=u,n!=null&&n[r.id]&&(r[qd].isParent=!0)}})}function e1e(e,t,n,r){const i=new Map,a={},s=r?1e3:0;return e.forEach(u=>{var h;const f=(Fb(u.zIndex)?u.zIndex:0)+(u.selected?s:0),d=t.get(u.id),c={width:d==null?void 0:d.width,height:d==null?void 0:d.height,...u,positionAbsolute:{x:u.position.x,y:u.position.y}};u.parentNode&&(c.parentNode=u.parentNode,a[u.parentNode]=!0),Object.defineProperty(c,qd,{enumerable:!1,value:{handleBounds:(h=d==null?void 0:d[qd])==null?void 0:h.handleBounds,z:f}}),i.set(u.id,c)}),tlt(i,n,a),i}function nlt(e,t={}){const{getNodes:n,width:r,height:i,minZoom:a,maxZoom:s,d3Zoom:u,d3Selection:f,fitViewOnInitDone:d,fitViewOnInit:c,nodeOrigin:h}=e(),p=t.initial&&!d&&c;if(u&&f&&(p||!t.initial)){const m=n().filter(w=>{var S;const _=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(S=t.nodes)!=null&&S.length?_&&t.nodes.some(C=>C.id===w.id):_}),y=m.every(w=>w.width&&w.height);if(m.length>0&&y){const w=Lut(m,h),[_,S,C]=Fut(w,r,i,t.minZoom??a,t.maxZoom??s,t.padding??.1),$=QR.translate(_,S).scale(C);return typeof t.duration=="number"&&t.duration>0?u.transform(ZM(f,t.duration),$):u.transform(f,$),!0}}return!1}function den(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[qd]:r[qd],selected:n.selected})}),new Map(t)}function hen(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function PJ({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:a,onNodesChange:s,onEdgesChange:u,hasDefaultNodes:f,hasDefaultEdges:d}=n();e!=null&&e.length&&(f&&r({nodeInternals:den(e,i)}),s==null||s(e)),t!=null&&t.length&&(d&&r({edges:hen(t,a)}),u==null||u(t))}const f6=()=>{},gen={zoomIn:f6,zoomOut:f6,zoomTo:f6,getZoom:()=>1,setViewport:f6,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:f6,fitBounds:f6,project:e=>e,viewportInitialized:!1},pen=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),ven=()=>{const e=Wg(),{d3Zoom:t,d3Selection:n}=Nc(pen,Am);return z.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(ZM(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(ZM(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,a)=>t.scaleTo(ZM(n,a==null?void 0:a.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,a)=>{const[s,u,f]=e.getState().transform,d=QR.translate(i.x??s,i.y??u).scale(i.zoom??f);t.transform(ZM(n,a==null?void 0:a.duration),d)},getViewport:()=>{const[i,a,s]=e.getState().transform;return{x:i,y:a,zoom:s}},fitView:i=>nlt(e.getState,i),setCenter:(i,a,s)=>{const{width:u,height:f,maxZoom:d}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:d,h=u/2-i*c,p=f/2-a*c,v=QR.translate(h,p).scale(c);t.transform(ZM(n,s==null?void 0:s.duration),v)},fitBounds:(i,a)=>{const{width:s,height:u,minZoom:f,maxZoom:d}=e.getState(),[c,h,p]=Fut(i,s,u,f,d,(a==null?void 0:a.padding)??.1),v=QR.translate(c,h).scale(p);t.transform(ZM(n,a==null?void 0:a.duration),v)},project:i=>{const{transform:a,snapToGrid:s,snapGrid:u}=e.getState();return Put(i,a,s,u)},viewportInitialized:!0}:gen,[t,n])};function Ike(){const e=ven(),t=Wg(),n=z.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),r=z.useCallback(y=>t.getState().nodeInternals.get(y),[]),i=z.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(w=>({...w}))},[]),a=z.useCallback(y=>{const{edges:w=[]}=t.getState();return w.find(_=>_.id===y)},[]),s=z.useCallback(y=>{const{getNodes:w,setNodes:_,hasDefaultNodes:S,onNodesChange:C}=t.getState(),$=w(),k=typeof y=="function"?y($):y;if(S)_(k);else if(C){const M=k.length===0?$.map(A=>({type:"remove",id:A.id})):k.map(A=>({item:A,type:"reset"}));C(M)}},[]),u=z.useCallback(y=>{const{edges:w=[],setEdges:_,hasDefaultEdges:S,onEdgesChange:C}=t.getState(),$=typeof y=="function"?y(w):y;if(S)_($);else if(C){const k=$.length===0?w.map(M=>({type:"remove",id:M.id})):$.map(M=>({item:M,type:"reset"}));C(k)}},[]),f=z.useCallback(y=>{const w=Array.isArray(y)?y:[y],{getNodes:_,setNodes:S,hasDefaultNodes:C,onNodesChange:$}=t.getState();if(C){const M=[..._(),...w];S(M)}else if($){const k=w.map(M=>({item:M,type:"add"}));$(k)}},[]),d=z.useCallback(y=>{const w=Array.isArray(y)?y:[y],{edges:_=[],setEdges:S,hasDefaultEdges:C,onEdgesChange:$}=t.getState();if(C)S([..._,...w]);else if($){const k=w.map(M=>({item:M,type:"add"}));$(k)}},[]),c=z.useCallback(()=>{const{getNodes:y,edges:w=[],transform:_}=t.getState(),[S,C,$]=_;return{nodes:y().map(k=>({...k})),edges:w.map(k=>({...k})),viewport:{x:S,y:C,zoom:$}}},[]),h=z.useCallback(({nodes:y,edges:w})=>{const{nodeInternals:_,getNodes:S,edges:C,hasDefaultNodes:$,hasDefaultEdges:k,onNodesDelete:M,onEdgesDelete:A,onNodesChange:L,onEdgesChange:N}=t.getState(),R=(y||[]).map(Y=>Y.id),D=(w||[]).map(Y=>Y.id),j=S().reduce((Y,Z)=>{const Q=!R.includes(Z.id)&&Z.parentNode&&Y.find(oe=>oe.id===Z.parentNode);return(typeof Z.deletable=="boolean"?Z.deletable:!0)&&(R.includes(Z.id)||Q)&&Y.push(Z),Y},[]),U=C.filter(Y=>typeof Y.deletable=="boolean"?Y.deletable:!0),H=U.filter(Y=>D.includes(Y.id));if(j||H){const Y=Iut(j,U),Z=[...H,...Y],Q=Z.reduce((ee,oe)=>(ee.includes(oe.id)||ee.push(oe.id),ee),[]);if((k||$)&&(k&&t.setState({edges:C.filter(ee=>!Q.includes(ee.id))}),$&&(j.forEach(ee=>{_.delete(ee.id)}),t.setState({nodeInternals:new Map(_)}))),Q.length>0&&(A==null||A(Z),N&&N(Q.map(ee=>({id:ee,type:"remove"})))),j.length>0&&(M==null||M(j),L)){const ee=j.map(oe=>({id:oe.id,type:"remove"}));L(ee)}}},[]),p=z.useCallback(y=>{const w=EJt(y),_=w?null:t.getState().nodeInternals.get(y.id);return[w?y:iWe(_),_,w]},[]),v=z.useCallback((y,w=!0,_)=>{const[S,C,$]=p(y);return S?(_||t.getState().getNodes()).filter(k=>{if(!$&&(k.id===C.id||!k.positionAbsolute))return!1;const M=iWe(k),A=x_e(M,S);return w&&A>0||A>=y.width*y.height}):[]},[]),m=z.useCallback((y,w,_=!0)=>{const[S]=p(y);if(!S)return!1;const C=x_e(S,w);return _&&C>0||C>=y.width*y.height},[]);return z.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:a,setNodes:s,setEdges:u,addNodes:f,addEdges:d,toObject:c,deleteElements:h,getIntersectingNodes:v,isNodeIntersecting:m}),[e,n,r,i,a,s,u,f,d,c,h,v,m])}var men=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Wg(),{deleteElements:r}=Ike(),i=jV(e),a=jV(t);z.useEffect(()=>{if(i){const{edges:s,getNodes:u}=n.getState(),f=u().filter(c=>c.selected),d=s.filter(c=>c.selected);r({nodes:f,edges:d}),n.setState({nodesSelectionActive:!1})}},[i]),z.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function yen(e){const t=Wg();z.useEffect(()=>{let n;const r=()=>{var a,s;if(!e.current)return;const i=Ake(e.current);(i.height===0||i.width===0)&&((s=(a=t.getState()).onError)==null||s.call(a,"004",S3.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Fke={position:"absolute",width:"100%",height:"100%",top:0,left:0},ben=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,t1e=e=>({x:e.x,y:e.y,zoom:e.k}),d6=(e,t)=>e.target.closest(`.${t}`),_We=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),wen=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),_en=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:a=!0,panOnScroll:s=!1,panOnScrollSpeed:u=.5,panOnScrollMode:f=LF.Free,zoomOnDoubleClick:d=!0,elementsSelectable:c,panOnDrag:h=!0,defaultViewport:p,translateExtent:v,minZoom:m,maxZoom:y,zoomActivationKeyCode:w,preventScrolling:_=!0,children:S,noWheelClassName:C,noPanClassName:$})=>{const k=z.useRef(),M=Wg(),A=z.useRef(!1),L=z.useRef(!1),N=z.useRef(null),R=z.useRef({x:0,y:0,zoom:0}),{d3Zoom:D,d3Selection:j,d3ZoomHandler:U,userSelectionActive:H}=Nc(wen,Am),Y=jV(w),Z=z.useRef(0);return yen(N),z.useEffect(()=>{if(N.current){const Q=N.current.getBoundingClientRect(),ee=vJt().scaleExtent([m,y]).translateExtent(v),oe=K2(N.current).call(ee),ue=QR.translate(p.x,p.y).scale(bN(p.zoom,m,y)),ve=[[0,0],[Q.width,Q.height]],le=ee.constrain()(ue,ve,v);ee.transform(oe,le),M.setState({d3Zoom:ee,d3Selection:oe,d3ZoomHandler:oe.on("wheel.zoom"),transform:[le.x,le.y,le.k],domNode:N.current.closest(".react-flow")})}},[]),z.useEffect(()=>{j&&D&&(s&&!Y&&!H?j.on("wheel.zoom",Q=>{if(d6(Q,C))return!1;Q.preventDefault(),Q.stopImmediatePropagation();const ee=j.property("__zoom").k||1;if(Q.ctrlKey&&a){const le=mS(Q),de=-Q.deltaY*(Q.deltaMode===1?.05:Q.deltaMode?1:.002)*10,me=ee*Math.pow(2,de);D.scaleTo(j,me,le);return}const oe=Q.deltaMode===1?20:1,ue=f===LF.Vertical?0:Q.deltaX*oe,ve=f===LF.Horizontal?0:Q.deltaY*oe;D.translateBy(j,-(ue/ee)*u,-(ve/ee)*u)},{passive:!1}):typeof U<"u"&&j.on("wheel.zoom",function(Q,ee){if(!_||d6(Q,C))return null;Q.preventDefault(),U.call(this,Q,ee)},{passive:!1}))},[H,s,f,j,D,U,Y,a,_,C]),z.useEffect(()=>{D&&D.on("start",Q=>{var oe;if(!Q.sourceEvent)return null;Z.current=Q.sourceEvent.button;const{onViewportChangeStart:ee}=M.getState();if(A.current=!0,((oe=Q.sourceEvent)==null?void 0:oe.type)==="mousedown"&&M.setState({paneDragging:!0}),t||ee){const ue=t1e(Q.transform);R.current=ue,ee==null||ee(ue),t==null||t(Q.sourceEvent,ue)}})},[D,t]),z.useEffect(()=>{D&&(H&&!A.current?D.on("zoom",null):H||D.on("zoom",Q=>{const{onViewportChange:ee}=M.getState();if(M.setState({transform:[Q.transform.x,Q.transform.y,Q.transform.k]}),L.current=!!(r&&_We(h,Z.current??0)),e||ee){const oe=t1e(Q.transform);ee==null||ee(oe),e==null||e(Q.sourceEvent,oe)}}))},[H,D,e,h,r]),z.useEffect(()=>{D&&D.on("end",Q=>{if(!Q.sourceEvent)return null;const{onViewportChangeEnd:ee}=M.getState();if(A.current=!1,M.setState({paneDragging:!1}),r&&_We(h,Z.current??0)&&!L.current&&r(Q.sourceEvent),L.current=!1,(n||ee)&&ben(R.current,Q.transform)){const oe=t1e(Q.transform);R.current=oe,clearTimeout(k.current),k.current=setTimeout(()=>{ee==null||ee(oe),n==null||n(Q.sourceEvent,oe)},s?150:0)}})},[D,s,h,n,r]),z.useEffect(()=>{D&&D.filter(Q=>{const ee=Y||i,oe=a&&Q.ctrlKey;if(Q.button===1&&Q.type==="mousedown"&&(d6(Q,"react-flow__node")||d6(Q,"react-flow__edge")))return!0;if(!h&&!ee&&!s&&!d&&!a||H||!d&&Q.type==="dblclick"||d6(Q,C)&&Q.type==="wheel"||d6(Q,$)&&Q.type!=="wheel"||!a&&Q.ctrlKey&&Q.type==="wheel"||!ee&&!s&&!oe&&Q.type==="wheel"||!h&&(Q.type==="mousedown"||Q.type==="touchstart")||Array.isArray(h)&&!h.includes(Q.button)&&(Q.type==="mousedown"||Q.type==="touchstart"))return!1;const ue=Array.isArray(h)&&h.includes(Q.button)||!Q.button||Q.button<=1;return(!Q.ctrlKey||Q.type==="wheel")&&ue})},[H,D,i,a,s,d,h,c,Y]),xt("div",{className:"react-flow__renderer",ref:N,style:Fke,children:S})},xen=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Sen(){const{userSelectionActive:e,userSelectionRect:t}=Nc(xen,Am);return e&&t?xt("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function xWe(e,t){const n=e.find(r=>r.id===t.parentNode);if(n){const r=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(r>0||i>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,r>0&&(n.style.width+=r),i>0&&(n.style.height+=i),t.position.x<0){const a=Math.abs(t.position.x);n.position.x=n.position.x-a,n.style.width+=a,t.position.x=0}if(t.position.y<0){const a=Math.abs(t.position.y);n.position.y=n.position.y-a,n.style.height+=a,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function Een(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const a=e.filter(u=>u.id===i.id);if(a.length===0)return r.push(i),r;const s={...i};for(const u of a)if(u)switch(u.type){case"select":{s.selected=u.selected;break}case"position":{typeof u.position<"u"&&(s.position=u.position),typeof u.positionAbsolute<"u"&&(s.positionAbsolute=u.positionAbsolute),typeof u.dragging<"u"&&(s.dragging=u.dragging),s.expandParent&&xWe(r,s);break}case"dimensions":{typeof u.dimensions<"u"&&(s.width=u.dimensions.width,s.height=u.dimensions.height),typeof u.updateStyle<"u"&&(s.style={...s.style||{},...u.dimensions}),typeof u.resizing=="boolean"&&(s.resizing=u.resizing),s.expandParent&&xWe(r,s);break}case"remove":return r}return r.push(s),r},n)}function Cen(e,t){return Een(e,t)}const nR=(e,t)=>({id:e,type:"select",selected:t});function nF(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(nR(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(nR(r.id,!1))),n},[])}const n1e=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},$en=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),rlt=z.memo(({isSelecting:e,selectionMode:t=NV.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:s,onPaneScroll:u,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:c,children:h})=>{const p=z.useRef(null),v=Wg(),m=z.useRef(0),y=z.useRef(0),w=z.useRef(),{userSelectionActive:_,elementsSelectable:S,dragging:C}=Nc($en,Am),$=()=>{v.setState({userSelectionActive:!1,userSelectionRect:null}),m.current=0,y.current=0},k=U=>{a==null||a(U),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},M=U=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){U.preventDefault();return}s==null||s(U)},A=u?U=>u(U):void 0,L=U=>{const{resetSelectedElements:H,domNode:Y}=v.getState();if(w.current=Y==null?void 0:Y.getBoundingClientRect(),!S||!e||U.button!==0||U.target!==p.current||!w.current)return;const{x:Z,y:Q}=JR(U,w.current);H(),v.setState({userSelectionRect:{width:0,height:0,startX:Z,startY:Q,x:Z,y:Q}}),r==null||r(U)},N=U=>{const{userSelectionRect:H,nodeInternals:Y,edges:Z,transform:Q,onNodesChange:ee,onEdgesChange:oe,nodeOrigin:ue,getNodes:ve}=v.getState();if(!e||!w.current||!H)return;v.setState({userSelectionActive:!0,nodesSelectionActive:!1});const le=JR(U,w.current),de=H.startX??0,me=H.startY??0,Se={...H,x:le.x<de?le.x:de,y:le.y<me?le.y:me,width:Math.abs(le.x-de),height:Math.abs(le.y-me)},Ee=ve(),xe=Dut(Y,Se,Q,t===NV.Partial,!0,ue),Ie=Iut(xe,Z).map(We=>We.id),Ne=xe.map(We=>We.id);if(m.current!==Ne.length){m.current=Ne.length;const We=nF(Ee,Ne);We.length&&(ee==null||ee(We))}if(y.current!==Ie.length){y.current=Ie.length;const We=nF(Z,Ie);We.length&&(oe==null||oe(We))}v.setState({userSelectionRect:Se})},R=U=>{if(U.button!==0)return;const{userSelectionRect:H}=v.getState();!_&&H&&U.target===p.current&&(k==null||k(U)),v.setState({nodesSelectionActive:m.current>0}),$(),i==null||i(U)},D=U=>{_&&(v.setState({nodesSelectionActive:m.current>0}),i==null||i(U)),$()},j=S&&(e||_);return bi("div",{className:_v(["react-flow__pane",{dragging:C,selection:e}]),onClick:j?void 0:n1e(k,p),onContextMenu:n1e(M,p),onWheel:n1e(A,p),onMouseEnter:j?void 0:f,onMouseDown:j?L:void 0,onMouseMove:j?N:d,onMouseUp:j?R:void 0,onMouseLeave:j?D:c,ref:p,style:Fke,children:[h,xt(Sen,{})]})});rlt.displayName="Pane";const ken=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Lut(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Oen({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Wg(),{width:i,height:a,x:s,y:u,transformString:f,userSelectionActive:d}=Nc(ken,Am),c=Jut(),h=z.useRef(null);if(z.useEffect(()=>{var m;n||(m=h.current)==null||m.focus({preventScroll:!0})},[n]),Qut({nodeRef:h}),d||!i||!a)return null;const p=e?m=>{const y=r.getState().getNodes().filter(w=>w.selected);e(m,y)}:void 0,v=m=>{Object.prototype.hasOwnProperty.call(IF,m.key)&&c({x:IF[m.key].x,y:IF[m.key].y,isShiftPressed:m.shiftKey})};return xt("div",{className:_v(["react-flow__nodesselection","react-flow__container",t]),style:{transform:f},children:xt("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:v,style:{width:i,height:a,top:u,left:s}})})}var Aen=z.memo(Oen);const Ren=e=>e.nodesSelectionActive,ilt=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,deleteKeyCode:u,onMove:f,onMoveStart:d,onMoveEnd:c,selectionKeyCode:h,selectionOnDrag:p,selectionMode:v,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:w,panActivationKeyCode:_,zoomActivationKeyCode:S,elementsSelectable:C,zoomOnScroll:$,zoomOnPinch:k,panOnScroll:M,panOnScrollSpeed:A,panOnScrollMode:L,zoomOnDoubleClick:N,panOnDrag:R,defaultViewport:D,translateExtent:j,minZoom:U,maxZoom:H,preventScrolling:Y,onSelectionContextMenu:Z,noWheelClassName:Q,noPanClassName:ee,disableKeyboardA11y:oe})=>{const ue=Nc(Ren),ve=jV(h),de=jV(_)||R,me=ve||p&&de!==!0;return men({deleteKeyCode:u,multiSelectionKeyCode:w}),xt(_en,{onMove:f,onMoveStart:d,onMoveEnd:c,onPaneContextMenu:a,elementsSelectable:C,zoomOnScroll:$,zoomOnPinch:k,panOnScroll:M,panOnScrollSpeed:A,panOnScrollMode:L,zoomOnDoubleClick:N,panOnDrag:!ve&&de,defaultViewport:D,translateExtent:j,minZoom:U,maxZoom:H,zoomActivationKeyCode:S,preventScrolling:Y,noWheelClassName:Q,noPanClassName:ee,children:bi(rlt,{onSelectionStart:m,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:s,panOnDrag:de,isSelecting:!!me,selectionMode:v,children:[e,ue&&xt(Aen,{onSelectionContextMenu:Z,noPanClassName:ee,disableKeyboardA11y:oe})]})})};ilt.displayName="FlowRenderer";var Ten=z.memo(ilt);function Men(e){return Nc(z.useCallback(n=>e?Dut(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}const Pen=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),alt=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:a,onError:s}=Nc(Pen,Am),u=Men(e.onlyRenderVisibleElements),f=z.useRef(),d=z.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(h=>{const p=h.map(v=>({id:v.target.getAttribute("data-id"),nodeElement:v.target,forceUpdate:!0}));a(p)});return f.current=c,c},[]);return z.useEffect(()=>()=>{var c;(c=f==null?void 0:f.current)==null||c.disconnect()},[]),xt("div",{className:"react-flow__nodes",style:Fke,children:u.map(c=>{var k,M;let h=c.type||"default";e.nodeTypes[h]||(s==null||s("003",S3.error003(h)),h="default");const p=e.nodeTypes[h]||e.nodeTypes.default,v=!!(c.draggable||t&&typeof c.draggable>"u"),m=!!(c.selectable||i&&typeof c.selectable>"u"),y=!!(c.connectable||n&&typeof c.connectable>"u"),w=!!(c.focusable||r&&typeof c.focusable>"u"),_=e.nodeExtent?Rke(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,S=(_==null?void 0:_.x)??0,C=(_==null?void 0:_.y)??0,$=cen({x:S,y:C,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return xt(p,{id:c.id,className:c.className,style:c.style,type:h,data:c.data,sourcePosition:c.sourcePosition||Bi.Bottom,targetPosition:c.targetPosition||Bi.Top,hidden:c.hidden,xPos:S,yPos:C,xPosOrigin:$.x,yPosOrigin:$.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:v,isSelectable:m,isConnectable:y,isFocusable:w,resizeObserver:d,dragHandle:c.dragHandle,zIndex:((k=c[qd])==null?void 0:k.z)??0,isParent:!!((M=c[qd])!=null&&M.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel},c.id)})})};alt.displayName="NodeRenderer";var Len=z.memo(alt);const Den=[{level:0,isMaxLevel:!0,edges:[]}];function Ien(e,t,n=!1){let r=-1;const i=e.reduce((s,u)=>{var c,h,p,v;const f=Fb(u.zIndex);let d=f?u.zIndex:0;return n&&(d=f?u.zIndex:Math.max(((h=(c=t.get(u.source))==null?void 0:c[qd])==null?void 0:h.z)||0,((v=(p=t.get(u.target))==null?void 0:p[qd])==null?void 0:v.z)||0)),s[d]?s[d].push(u):s[d]=[u],r=d>r?d:r,s},{}),a=Object.entries(i).map(([s,u])=>{const f=+s;return{edges:u,level:f,isMaxLevel:f===r}});return a.length===0?Den:a}function Fen(e,t,n){const r=Nc(z.useCallback(i=>e?i.edges.filter(a=>{const s=t.get(a.source),u=t.get(a.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(u==null?void 0:u.width)&&(u==null?void 0:u.height)&&oen({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:u.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:u.width,targetHeight:u.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return Ien(r,t,n)}const Nen=({color:e="none",strokeWidth:t=1})=>xt("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:"none",points:"-5,-4 0,0 -5,4"}),zen=({color:e="none",strokeWidth:t=1})=>xt("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:e,points:"-5,-4 0,0 -5,4 -5,-4"}),SWe={[zV.Arrow]:Nen,[zV.ArrowClosed]:zen};function jen(e){const t=Wg();return z.useMemo(()=>{var i,a;return Object.prototype.hasOwnProperty.call(SWe,e)?SWe[e]:((a=(i=t.getState()).onError)==null||a.call(i,"009",S3.error009(e)),null)},[e])}const Ben=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:s,orient:u="auto-start-reverse"})=>{const f=jen(t);return f?xt("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:u,refX:"0",refY:"0",children:xt(f,{color:n,strokeWidth:s})}):null},Hen=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,a)=>([a.markerStart,a.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const u=C_e(s,t);r.includes(u)||(i.push({id:u,color:s.color||e,...s}),r.push(u))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))},olt=({defaultColor:e,rfId:t})=>{const n=Nc(z.useCallback(Hen({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((a,s)=>a.id!==i[s].id)));return xt("defs",{children:n.map(r=>xt(Ben,{id:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient},r.id))})};olt.displayName="MarkerDefinitions";var Uen=z.memo(olt);const Ven=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),slt=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:a,onEdgeUpdate:s,onEdgeContextMenu:u,onEdgeMouseEnter:f,onEdgeMouseMove:d,onEdgeMouseLeave:c,onEdgeClick:h,edgeUpdaterRadius:p,onEdgeDoubleClick:v,onEdgeUpdateStart:m,onEdgeUpdateEnd:y,children:w})=>{const{edgesFocusable:_,edgesUpdatable:S,elementsSelectable:C,width:$,height:k,connectionMode:M,nodeInternals:A,onError:L}=Nc(Ven,Am),N=Fen(t,A,n);return $?bi(my,{children:[N.map(({level:R,edges:D,isMaxLevel:j})=>bi("svg",{style:{zIndex:R},width:$,height:k,className:"react-flow__edges react-flow__container",children:[j&&xt(Uen,{defaultColor:e,rfId:r}),xt("g",{children:D.map(U=>{const[H,Y,Z]=vWe(A.get(U.source)),[Q,ee,oe]=vWe(A.get(U.target));if(!Z||!oe)return null;let ue=U.type||"default";i[ue]||(L==null||L("011",S3.error011(ue)),ue="default");const ve=i[ue]||i.default,le=M===yP.Strict?ee.target:(ee.target??[]).concat(ee.source??[]),de=pWe(Y.source,U.sourceHandle),me=pWe(le,U.targetHandle),Se=(de==null?void 0:de.position)||Bi.Bottom,Ee=(me==null?void 0:me.position)||Bi.Top,xe=!!(U.focusable||_&&typeof U.focusable>"u"),Ie=typeof s<"u"&&(U.updatable||S&&typeof U.updatable>"u");if(!de||!me)return L==null||L("008",S3.error008(de,U)),null;const{sourceX:Ne,sourceY:We,targetX:Me,targetY:He}=aen(H,de,Se,Q,me,Ee);return xt(ve,{id:U.id,className:_v([U.className,a]),type:ue,data:U.data,selected:!!U.selected,animated:!!U.animated,hidden:!!U.hidden,label:U.label,labelStyle:U.labelStyle,labelShowBg:U.labelShowBg,labelBgStyle:U.labelBgStyle,labelBgPadding:U.labelBgPadding,labelBgBorderRadius:U.labelBgBorderRadius,style:U.style,source:U.source,target:U.target,sourceHandleId:U.sourceHandle,targetHandleId:U.targetHandle,markerEnd:U.markerEnd,markerStart:U.markerStart,sourceX:Ne,sourceY:We,targetX:Me,targetY:He,sourcePosition:Se,targetPosition:Ee,elementsSelectable:C,onEdgeUpdate:s,onContextMenu:u,onMouseEnter:f,onMouseMove:d,onMouseLeave:c,onClick:h,edgeUpdaterRadius:p,onEdgeDoubleClick:v,onEdgeUpdateStart:m,onEdgeUpdateEnd:y,rfId:r,ariaLabel:U.ariaLabel,isFocusable:xe,isUpdatable:Ie,pathOptions:"pathOptions"in U?U.pathOptions:void 0,interactionWidth:U.interactionWidth},U.id)})})]},R)),w]}):null};slt.displayName="EdgeRenderer";var Wen=z.memo(slt);const Gen=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function qen({children:e}){const t=Nc(Gen);return xt("div",{className:"react-flow__viewport react-flow__container",style:{transform:t},children:e})}function Yen(e){const t=Ike(),n=z.useRef(!1);z.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Ken={[Bi.Left]:Bi.Right,[Bi.Right]:Bi.Left,[Bi.Top]:Bi.Bottom,[Bi.Bottom]:Bi.Top},ult=({nodeId:e,handleType:t,style:n,type:r=gR.Bezier,CustomComponent:i,connectionStatus:a})=>{var M,A,L;const{fromNode:s,handleId:u,toX:f,toY:d,connectionMode:c}=Nc(z.useCallback(N=>({fromNode:N.nodeInternals.get(e),handleId:N.connectionHandleId,toX:(N.connectionPosition.x-N.transform[0])/N.transform[2],toY:(N.connectionPosition.y-N.transform[1])/N.transform[2],connectionMode:N.connectionMode}),[e]),Am),h=(M=s==null?void 0:s[qd])==null?void 0:M.handleBounds;let p=h==null?void 0:h[t];if(c===yP.Loose&&(p=p||(h==null?void 0:h[t==="source"?"target":"source"])),!s||!p)return null;const v=u?p.find(N=>N.id===u):p[0],m=v?v.x+v.width/2:(s.width??0)/2,y=v?v.y+v.height/2:s.height??0,w=(((A=s.positionAbsolute)==null?void 0:A.x)??0)+m,_=(((L=s.positionAbsolute)==null?void 0:L.y)??0)+y,S=v==null?void 0:v.position,C=S?Ken[S]:null;if(!S||!C)return null;if(i)return xt(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:v,fromX:w,fromY:_,toX:f,toY:d,fromPosition:S,toPosition:C,connectionStatus:a});let $="";const k={sourceX:w,sourceY:_,sourcePosition:S,targetX:f,targetY:d,targetPosition:C};return r===gR.Bezier?[$]=Mut(k):r===gR.Step?[$]=E_e({...k,borderRadius:0}):r===gR.SmoothStep?[$]=E_e(k):r===gR.SimpleBezier?[$]=Tut(k):$=`M${w},${_} ${f},${d}`,xt("path",{d:$,fill:"none",className:"react-flow__connection-path",style:n})};ult.displayName="ConnectionLine";const Xen=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Zen({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:a,nodesConnectable:s,width:u,height:f,connectionStatus:d}=Nc(Xen,Am);return!(i&&a&&u&&s)?null:xt("svg",{style:e,width:u,height:f,className:"react-flow__edges react-flow__connectionline react-flow__container",children:xt("g",{className:_v(["react-flow__connection",d]),children:xt(ult,{nodeId:i,handleType:a,style:t,type:n,CustomComponent:r,connectionStatus:d})})})}const llt=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:a,onNodeClick:s,onEdgeClick:u,onNodeDoubleClick:f,onEdgeDoubleClick:d,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:v,onSelectionContextMenu:m,onSelectionStart:y,onSelectionEnd:w,connectionLineType:_,connectionLineStyle:S,connectionLineComponent:C,connectionLineContainerStyle:$,selectionKeyCode:k,selectionOnDrag:M,selectionMode:A,multiSelectionKeyCode:L,panActivationKeyCode:N,zoomActivationKeyCode:R,deleteKeyCode:D,onlyRenderVisibleElements:j,elementsSelectable:U,selectNodesOnDrag:H,defaultViewport:Y,translateExtent:Z,minZoom:Q,maxZoom:ee,preventScrolling:oe,defaultMarkerColor:ue,zoomOnScroll:ve,zoomOnPinch:le,panOnScroll:de,panOnScrollSpeed:me,panOnScrollMode:Se,zoomOnDoubleClick:Ee,panOnDrag:xe,onPaneClick:Ie,onPaneMouseEnter:Ne,onPaneMouseMove:We,onPaneMouseLeave:Me,onPaneScroll:He,onPaneContextMenu:gt,onEdgeUpdate:Ye,onEdgeContextMenu:ot,onEdgeMouseEnter:Ue,onEdgeMouseMove:st,onEdgeMouseLeave:at,edgeUpdaterRadius:St,onEdgeUpdateStart:Vt,onEdgeUpdateEnd:tt,noDragClassName:wt,noWheelClassName:vt,noPanClassName:Le,elevateEdgesOnSelect:ft,disableKeyboardA11y:Mt,nodeOrigin:yt,nodeExtent:Ct,rfId:jt})=>(Yen(a),xt(Ten,{onPaneClick:Ie,onPaneMouseEnter:Ne,onPaneMouseMove:We,onPaneMouseLeave:Me,onPaneContextMenu:gt,onPaneScroll:He,deleteKeyCode:D,selectionKeyCode:k,selectionOnDrag:M,selectionMode:A,onSelectionStart:y,onSelectionEnd:w,multiSelectionKeyCode:L,panActivationKeyCode:N,zoomActivationKeyCode:R,elementsSelectable:U,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:ve,zoomOnPinch:le,zoomOnDoubleClick:Ee,panOnScroll:de,panOnScrollSpeed:me,panOnScrollMode:Se,panOnDrag:xe,defaultViewport:Y,translateExtent:Z,minZoom:Q,maxZoom:ee,onSelectionContextMenu:m,preventScrolling:oe,noDragClassName:wt,noWheelClassName:vt,noPanClassName:Le,disableKeyboardA11y:Mt,children:bi(qen,{children:[xt(Wen,{edgeTypes:t,onEdgeClick:u,onEdgeDoubleClick:d,onEdgeUpdate:Ye,onlyRenderVisibleElements:j,onEdgeContextMenu:ot,onEdgeMouseEnter:Ue,onEdgeMouseMove:st,onEdgeMouseLeave:at,onEdgeUpdateStart:Vt,onEdgeUpdateEnd:tt,edgeUpdaterRadius:St,defaultMarkerColor:ue,noPanClassName:Le,elevateEdgesOnSelect:!!ft,disableKeyboardA11y:Mt,rfId:jt,children:xt(Zen,{style:S,type:_,component:C,containerStyle:$})}),xt("div",{className:"react-flow__edgelabel-renderer"}),xt(Len,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:f,onNodeMouseEnter:c,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:v,selectNodesOnDrag:H,onlyRenderVisibleElements:j,noPanClassName:Le,noDragClassName:wt,disableKeyboardA11y:Mt,nodeOrigin:yt,nodeExtent:Ct,rfId:jt})]})}));llt.displayName="GraphView";var Qen=z.memo(llt);const O_e=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],LA={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:O_e,nodeExtent:O_e,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:yP.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:CJt,isValidConnection:void 0},Jen=()=>iat((e,t)=>({...LA,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:a}=t();e({nodeInternals:e1e(n,r,i,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",a=typeof r<"u",s=i?e1e(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:a?r:[],hasDefaultNodes:i,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:a,fitViewOnInitDone:s,fitViewOnInitOptions:u,domNode:f,nodeOrigin:d}=t(),c=f==null?void 0:f.querySelector(".react-flow__viewport");if(!c)return;const h=window.getComputedStyle(c),{m22:p}=new window.DOMMatrixReadOnly(h.transform),v=n.reduce((y,w)=>{const _=i.get(w.id);if(_){const S=Ake(w.nodeElement);!!(S.width&&S.height&&(_.width!==S.width||_.height!==S.height||w.forceUpdate))&&(i.set(_.id,{..._,[qd]:{..._[qd],handleBounds:{source:yWe(".source",w.nodeElement,p,d),target:yWe(".target",w.nodeElement,p,d)}},...S}),y.push({id:_.id,type:"dimensions",dimensions:S}))}return y},[]);tlt(i,d);const m=s||a&&!s&&nlt(t,{initial:!0,...u});e({nodeInternals:new Map(i),fitViewOnInitDone:m}),(v==null?void 0:v.length)>0&&(r==null||r(v))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:a}=t(),s=n.map(u=>{const f={id:u.id,type:"position",dragging:i};return r&&(f.positionAbsolute=u.positionAbsolute,f.position=u.position),f});a(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:a,nodeOrigin:s,getNodes:u,elevateNodesOnSelect:f}=t();if(n!=null&&n.length){if(a){const d=Cen(n,u()),c=e1e(d,i,s,f);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let s,u=null;r?s=n.map(f=>nR(f,!0)):(s=nF(a(),n),u=nF(i,[])),PJ({changedNodes:s,changedEdges:u,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let s,u=null;r?s=n.map(f=>nR(f,!0)):(s=nF(i,n),u=nF(a(),[])),PJ({changedNodes:u,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:a}=t(),s=n||a(),u=r||i,f=s.map(c=>(c.selected=!1,nR(c.id,!1))),d=u.map(c=>nR(c.id,!1));PJ({changedNodes:f,changedEdges:d,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),a=r().filter(u=>u.selected).map(u=>nR(u.id,!1)),s=n.filter(u=>u.selected).map(u=>nR(u.id,!1));PJ({changedNodes:a,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=Rke(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:a,d3Zoom:s,d3Selection:u,translateExtent:f}=t();if(!s||!u||!n.x&&!n.y)return;const d=QR.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,a]],h=s==null?void 0:s.constrain()(d,c,f);s.transform(u,h)},cancelConnection:()=>e({connectionNodeId:LA.connectionNodeId,connectionHandleId:LA.connectionHandleId,connectionHandleType:LA.connectionHandleType,connectionStatus:LA.connectionStatus,connectionStartHandle:LA.connectionStartHandle,connectionEndHandle:LA.connectionEndHandle}),reset:()=>e({...LA})})),clt=({children:e})=>{const t=z.useRef(null);return t.current||(t.current=Jen()),xt(mJt,{value:t.current,children:e})};clt.displayName="ReactFlowProvider";const flt=({children:e})=>z.useContext(Koe)?xt(my,{children:e}):xt(clt,{children:e});flt.displayName="ReactFlowWrapper";function EWe(e,t){return z.useRef(null),z.useMemo(()=>t(e),[e])}const etn={input:Vut,default:$_e,output:Gut,group:Dke},ttn={default:Sre,straight:Pke,step:Mke,smoothstep:Xoe,simplebezier:Tke},ntn=[0,0],rtn=[15,15],itn={x:0,y:0,zoom:1},atn={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},dlt=z.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:a=etn,edgeTypes:s=ttn,onNodeClick:u,onEdgeClick:f,onInit:d,onMove:c,onMoveStart:h,onMoveEnd:p,onConnect:v,onConnectStart:m,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:_,onNodeMouseEnter:S,onNodeMouseMove:C,onNodeMouseLeave:$,onNodeContextMenu:k,onNodeDoubleClick:M,onNodeDragStart:A,onNodeDrag:L,onNodeDragStop:N,onNodesDelete:R,onEdgesDelete:D,onSelectionChange:j,onSelectionDragStart:U,onSelectionDrag:H,onSelectionDragStop:Y,onSelectionContextMenu:Z,onSelectionStart:Q,onSelectionEnd:ee,connectionMode:oe=yP.Strict,connectionLineType:ue=gR.Bezier,connectionLineStyle:ve,connectionLineComponent:le,connectionLineContainerStyle:de,deleteKeyCode:me="Backspace",selectionKeyCode:Se="Shift",selectionOnDrag:Ee=!1,selectionMode:xe=NV.Full,panActivationKeyCode:Ie="Space",multiSelectionKeyCode:Ne="Meta",zoomActivationKeyCode:We="Meta",snapToGrid:Me=!1,snapGrid:He=rtn,onlyRenderVisibleElements:gt=!1,selectNodesOnDrag:Ye=!0,nodesDraggable:ot,nodesConnectable:Ue,nodesFocusable:st,nodeOrigin:at=ntn,edgesFocusable:St,edgesUpdatable:Vt,elementsSelectable:tt,defaultViewport:wt=itn,minZoom:vt=.5,maxZoom:Le=2,translateExtent:ft=O_e,preventScrolling:Mt=!0,nodeExtent:yt,defaultMarkerColor:Ct="#b1b1b7",zoomOnScroll:jt=!0,zoomOnPinch:At=!0,panOnScroll:Bt=!1,panOnScrollSpeed:kt=.5,panOnScrollMode:qt=LF.Free,zoomOnDoubleClick:fn=!0,panOnDrag:jn=!0,onPaneClick:Mn,onPaneMouseEnter:Un,onPaneMouseMove:Kr,onPaneMouseLeave:Wi,onPaneScroll:sa,onPaneContextMenu:ga,children:$i,onEdgeUpdate:Do,onEdgeContextMenu:xo,onEdgeDoubleClick:en,onEdgeMouseEnter:sn,onEdgeMouseMove:On,onEdgeMouseLeave:Kn,onEdgeUpdateStart:kr,onEdgeUpdateEnd:ti,edgeUpdaterRadius:Ji=10,onNodesChange:Yi,onEdgesChange:ka,noDragClassName:fo="nodrag",noWheelClassName:Il="nowheel",noPanClassName:Oa="nopan",fitView:rc=!1,fitViewOptions:Bf,connectOnClick:Hf=!0,attributionPosition:th,proOptions:Gh,defaultEdgeOptions:wu,elevateNodesOnSelect:qs=!0,elevateEdgesOnSelect:ic=!1,disableKeyboardA11y:wf=!1,autoPanOnConnect:Fl=!0,autoPanOnNodeDrag:Du=!0,connectionRadius:Gu=20,isValidConnection:Uf,onError:Nl,style:ja,id:lu,..._f},Iu)=>{const _u=EWe(a,len),xf=EWe(s,ien),xu=lu||"1";return xt("div",{..._f,style:{...ja,...atn},ref:Iu,className:_v(["react-flow",i]),"data-testid":"rf__wrapper",id:lu,children:bi(flt,{children:[xt(Qen,{onInit:d,onMove:c,onMoveStart:h,onMoveEnd:p,onNodeClick:u,onEdgeClick:f,onNodeMouseEnter:S,onNodeMouseMove:C,onNodeMouseLeave:$,onNodeContextMenu:k,onNodeDoubleClick:M,nodeTypes:_u,edgeTypes:xf,connectionLineType:ue,connectionLineStyle:ve,connectionLineComponent:le,connectionLineContainerStyle:de,selectionKeyCode:Se,selectionOnDrag:Ee,selectionMode:xe,deleteKeyCode:me,multiSelectionKeyCode:Ne,panActivationKeyCode:Ie,zoomActivationKeyCode:We,onlyRenderVisibleElements:gt,selectNodesOnDrag:Ye,defaultViewport:wt,translateExtent:ft,minZoom:vt,maxZoom:Le,preventScrolling:Mt,zoomOnScroll:jt,zoomOnPinch:At,zoomOnDoubleClick:fn,panOnScroll:Bt,panOnScrollSpeed:kt,panOnScrollMode:qt,panOnDrag:jn,onPaneClick:Mn,onPaneMouseEnter:Un,onPaneMouseMove:Kr,onPaneMouseLeave:Wi,onPaneScroll:sa,onPaneContextMenu:ga,onSelectionContextMenu:Z,onSelectionStart:Q,onSelectionEnd:ee,onEdgeUpdate:Do,onEdgeContextMenu:xo,onEdgeDoubleClick:en,onEdgeMouseEnter:sn,onEdgeMouseMove:On,onEdgeMouseLeave:Kn,onEdgeUpdateStart:kr,onEdgeUpdateEnd:ti,edgeUpdaterRadius:Ji,defaultMarkerColor:Ct,noDragClassName:fo,noWheelClassName:Il,noPanClassName:Oa,elevateEdgesOnSelect:ic,rfId:xu,disableKeyboardA11y:wf,nodeOrigin:at,nodeExtent:yt}),xt(KJt,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:m,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:_,nodesDraggable:ot,nodesConnectable:Ue,nodesFocusable:st,edgesFocusable:St,edgesUpdatable:Vt,elementsSelectable:tt,elevateNodesOnSelect:qs,minZoom:vt,maxZoom:Le,nodeExtent:yt,onNodesChange:Yi,onEdgesChange:ka,snapToGrid:Me,snapGrid:He,connectionMode:oe,translateExtent:ft,connectOnClick:Hf,defaultEdgeOptions:wu,fitView:rc,fitViewOptions:Bf,onNodesDelete:R,onEdgesDelete:D,onNodeDragStart:A,onNodeDrag:L,onNodeDragStop:N,onSelectionDrag:H,onSelectionDragStart:U,onSelectionDragStop:Y,noPanClassName:Oa,nodeOrigin:at,rfId:xu,autoPanOnConnect:Fl,autoPanOnNodeDrag:Du,onError:Nl,connectionRadius:Gu,isValidConnection:Uf}),xt(qJt,{onSelectionChange:j}),$i,xt(bJt,{proOptions:Gh,position:th}),xt(een,{rfId:xu,disableKeyboardA11y:wf})]})})});dlt.displayName="ReactFlow";function otn(){return xt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:xt("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function stn(){return xt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:xt("path",{d:"M0 0h32v4.2H0z"})})}function utn(){return xt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:xt("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function ltn(){return xt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:xt("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function ctn(){return xt("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:xt("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}const dH=({children:e,className:t,...n})=>xt("button",{type:"button",className:_v(["react-flow__controls-button",t]),...n,children:e});dH.displayName="ControlButton";const ftn=e=>e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable,hlt=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:s,onFitView:u,onInteractiveChange:f,className:d,children:c,position:h="bottom-left"})=>{const p=Wg(),[v,m]=z.useState(!1),y=Nc(ftn),{zoomIn:w,zoomOut:_,fitView:S}=Ike();if(z.useEffect(()=>{m(!0)},[]),!v)return null;const C=()=>{w(),a==null||a()},$=()=>{_(),s==null||s()},k=()=>{S(i),u==null||u()},M=()=>{p.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),f==null||f(!y)};return bi(Sut,{className:_v(["react-flow__controls",d]),position:h,style:e,"data-testid":"rf__controls",children:[t&&bi(my,{children:[xt(dH,{onClick:C,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",children:xt(otn,{})}),xt(dH,{onClick:$,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",children:xt(stn,{})})]}),n&&xt(dH,{className:"react-flow__controls-fitview",onClick:k,title:"fit view","aria-label":"fit view",children:xt(utn,{})}),r&&xt(dH,{className:"react-flow__controls-interactive",onClick:M,title:"toggle interactivity","aria-label":"toggle interactivity",children:y?xt(ctn,{}):xt(ltn,{})}),c]})};hlt.displayName="Controls";var dtn=z.memo(hlt),qb;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(qb||(qb={}));function htn({color:e,dimensions:t,lineWidth:n}){return xt("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function gtn({color:e,radius:t}){return xt("circle",{cx:t,cy:t,r:t,fill:e})}const ptn={[qb.Dots]:"#91919a",[qb.Lines]:"#eee",[qb.Cross]:"#e2e2e2"},vtn={[qb.Dots]:1,[qb.Lines]:1,[qb.Cross]:6},mtn=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function glt({id:e,variant:t=qb.Dots,gap:n=20,size:r,lineWidth:i=1,offset:a=2,color:s,style:u,className:f}){const d=z.useRef(null),{transform:c,patternId:h}=Nc(mtn,Am),p=s||ptn[t],v=r||vtn[t],m=t===qb.Dots,y=t===qb.Cross,w=Array.isArray(n)?n:[n,n],_=[w[0]*c[2]||1,w[1]*c[2]||1],S=v*c[2],C=y?[S,S]:_,$=m?[S/a,S/a]:[C[0]/a,C[1]/a];return bi("svg",{className:_v(["react-flow__background",f]),style:{...u,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:d,"data-testid":"rf__background",children:[xt("pattern",{id:h+e,x:c[0]%_[0],y:c[1]%_[1],width:_[0],height:_[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${$[0]},-${$[1]})`,children:m?xt(gtn,{color:p,radius:S/a}):xt(htn,{dimensions:C,color:p,lineWidth:i})}),xt("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${h+e})`})]})}glt.displayName="Background";var ytn=z.memo(glt),Nke={},aT={},_N={},_k={},__={},Qd={},Ro={},Pk={};function btn(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var plt=btn,wtn=JW,_tn=A8,xtn="[object Arguments]";function Stn(e){return _tn(e)&&wtn(e)==xtn}var Etn=Stn,CWe=Etn,Ctn=A8,vlt=Object.prototype,$tn=vlt.hasOwnProperty,ktn=vlt.propertyIsEnumerable,Otn=CWe(function(){return arguments}())?CWe:function(e){return Ctn(e)&&$tn.call(e,"callee")&&!ktn.call(e,"callee")},zke=Otn,$We=QW,Atn=zke,Rtn=cw,kWe=$We?$We.isConcatSpreadable:void 0;function Ttn(e){return Rtn(e)||Atn(e)||!!(kWe&&e&&e[kWe])}var Mtn=Ttn,Ptn=plt,Ltn=Mtn;function mlt(e,t,n,r,i){var a=-1,s=e.length;for(n||(n=Ltn),i||(i=[]);++a<s;){var u=e[a];t>0&&n(u)?t>1?mlt(u,t-1,n,r,i):Ptn(i,u):r||(i[i.length]=u)}return i}var Dtn=mlt,Itn=Coe;function Ftn(){this.__data__=new Itn,this.size=0}var Ntn=Ftn;function ztn(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var jtn=ztn;function Btn(e){return this.__data__.get(e)}var Htn=Btn;function Utn(e){return this.__data__.has(e)}var Vtn=Utn,Wtn=Coe,Gtn=G$e,qtn=q$e,Ytn=200;function Ktn(e,t){var n=this.__data__;if(n instanceof Wtn){var r=n.__data__;if(!Gtn||r.length<Ytn-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qtn(r)}return n.set(e,t),this.size=n.size,this}var Xtn=Ktn,Ztn=Coe,Qtn=Ntn,Jtn=jtn,enn=Htn,tnn=Vtn,nnn=Xtn;function V8(e){var t=this.__data__=new Ztn(e);this.size=t.size}V8.prototype.clear=Qtn;V8.prototype.delete=Jtn;V8.prototype.get=enn;V8.prototype.has=tnn;V8.prototype.set=nnn;var ylt=V8,rnn="__lodash_hash_undefined__";function inn(e){return this.__data__.set(e,rnn),this}var ann=inn;function onn(e){return this.__data__.has(e)}var snn=onn,unn=q$e,lnn=ann,cnn=snn;function Ere(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new unn;++t<n;)this.add(e[t])}Ere.prototype.add=Ere.prototype.push=lnn;Ere.prototype.has=cnn;var fnn=Ere;function dnn(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var hnn=dnn;function gnn(e,t){return e.has(t)}var pnn=gnn,vnn=fnn,mnn=hnn,ynn=pnn,bnn=1,wnn=2;function _nn(e,t,n,r,i,a){var s=n&bnn,u=e.length,f=t.length;if(u!=f&&!(s&&f>u))return!1;var d=a.get(e),c=a.get(t);if(d&&c)return d==t&&c==e;var h=-1,p=!0,v=n&wnn?new vnn:void 0;for(a.set(e,t),a.set(t,e);++h<u;){var m=e[h],y=t[h];if(r)var w=s?r(y,m,h,t,e,a):r(m,y,h,e,t,a);if(w!==void 0){if(w)continue;p=!1;break}if(v){if(!mnn(t,function(_,S){if(!ynn(v,S)&&(m===_||i(m,_,n,r,a)))return v.push(S)})){p=!1;break}}else if(!(m===y||i(m,y,n,r,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var blt=_nn,xnn=SE,Snn=xnn.Uint8Array,Enn=Snn;function Cnn(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var $nn=Cnn;function knn(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Onn=knn,OWe=QW,AWe=Enn,Ann=Soe,Rnn=blt,Tnn=$nn,Mnn=Onn,Pnn=1,Lnn=2,Dnn="[object Boolean]",Inn="[object Date]",Fnn="[object Error]",Nnn="[object Map]",znn="[object Number]",jnn="[object RegExp]",Bnn="[object Set]",Hnn="[object String]",Unn="[object Symbol]",Vnn="[object ArrayBuffer]",Wnn="[object DataView]",RWe=OWe?OWe.prototype:void 0,r1e=RWe?RWe.valueOf:void 0;function Gnn(e,t,n,r,i,a,s){switch(n){case Wnn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Vnn:return!(e.byteLength!=t.byteLength||!a(new AWe(e),new AWe(t)));case Dnn:case Inn:case znn:return Ann(+e,+t);case Fnn:return e.name==t.name&&e.message==t.message;case jnn:case Hnn:return e==t+"";case Nnn:var u=Tnn;case Bnn:var f=r&Pnn;if(u||(u=Mnn),e.size!=t.size&&!f)return!1;var d=s.get(e);if(d)return d==t;r|=Lnn,s.set(e,t);var c=Rnn(u(e),u(t),r,i,a,s);return s.delete(e),c;case Unn:if(r1e)return r1e.call(e)==r1e.call(t)}return!1}var qnn=Gnn,Ynn=plt,Knn=cw;function Xnn(e,t,n){var r=t(e);return Knn(e)?r:Ynn(r,n(e))}var Znn=Xnn;function Qnn(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[i++]=s)}return a}var jke=Qnn;function Jnn(){return[]}var ern=Jnn,trn=jke,nrn=ern,rrn=Object.prototype,irn=rrn.propertyIsEnumerable,TWe=Object.getOwnPropertySymbols,arn=TWe?function(e){return e==null?[]:(e=Object(e),trn(TWe(e),function(t){return irn.call(e,t)}))}:nrn,orn=arn;function srn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var wlt=srn,BV={},urn={get exports(){return BV},set exports(e){BV=e}};function lrn(){return!1}var crn=lrn;(function(e,t){var n=SE,r=crn,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,u=s?n.Buffer:void 0,f=u?u.isBuffer:void 0,d=f||r;e.exports=d})(urn,BV);var frn=9007199254740991;function drn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=frn}var Bke=drn,hrn=JW,grn=Bke,prn=A8,vrn="[object Arguments]",mrn="[object Array]",yrn="[object Boolean]",brn="[object Date]",wrn="[object Error]",_rn="[object Function]",xrn="[object Map]",Srn="[object Number]",Ern="[object Object]",Crn="[object RegExp]",$rn="[object Set]",krn="[object String]",Orn="[object WeakMap]",Arn="[object ArrayBuffer]",Rrn="[object DataView]",Trn="[object Float32Array]",Mrn="[object Float64Array]",Prn="[object Int8Array]",Lrn="[object Int16Array]",Drn="[object Int32Array]",Irn="[object Uint8Array]",Frn="[object Uint8ClampedArray]",Nrn="[object Uint16Array]",zrn="[object Uint32Array]",Cl={};Cl[Trn]=Cl[Mrn]=Cl[Prn]=Cl[Lrn]=Cl[Drn]=Cl[Irn]=Cl[Frn]=Cl[Nrn]=Cl[zrn]=!0;Cl[vrn]=Cl[mrn]=Cl[Arn]=Cl[yrn]=Cl[Rrn]=Cl[brn]=Cl[wrn]=Cl[_rn]=Cl[xrn]=Cl[Srn]=Cl[Ern]=Cl[Crn]=Cl[$rn]=Cl[krn]=Cl[Orn]=!1;function jrn(e){return prn(e)&&grn(e.length)&&!!Cl[hrn(e)]}var Brn=jrn;function Hrn(e){return function(t){return e(t)}}var _lt=Hrn,Cre={},Urn={get exports(){return Cre},set exports(e){Cre=e}};(function(e,t){var n=Gat,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,s=a&&n.process,u=function(){try{var f=i&&i.require&&i.require("util").types;return f||s&&s.binding&&s.binding("util")}catch{}}();e.exports=u})(Urn,Cre);var Vrn=Brn,Wrn=_lt,MWe=Cre,PWe=MWe&&MWe.isTypedArray,Grn=PWe?Wrn(PWe):Vrn,xlt=Grn,qrn=wlt,Yrn=zke,Krn=cw,Xrn=BV,Zrn=koe,Qrn=xlt,Jrn=Object.prototype,ein=Jrn.hasOwnProperty;function tin(e,t){var n=Krn(e),r=!n&&Yrn(e),i=!n&&!r&&Xrn(e),a=!n&&!r&&!i&&Qrn(e),s=n||r||i||a,u=s?qrn(e.length,String):[],f=u.length;for(var d in e)(t||ein.call(e,d))&&!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Zrn(d,f)))&&u.push(d);return u}var nin=tin,rin=Object.prototype;function iin(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||rin;return e===n}var ain=iin;function oin(e,t){return function(n){return e(t(n))}}var sin=oin,uin=sin,lin=uin(Object.keys,Object),cin=lin,fin=ain,din=cin,hin=Object.prototype,gin=hin.hasOwnProperty;function pin(e){if(!fin(e))return din(e);var t=[];for(var n in Object(e))gin.call(e,n)&&n!="constructor"&&t.push(n);return t}var vin=pin,min=Kat,yin=Bke;function bin(e){return e!=null&&yin(e.length)&&!min(e)}var vG=bin,win=nin,_in=vin,xin=vG;function Sin(e){return xin(e)?win(e):_in(e)}var Hke=Sin,Ein=Znn,Cin=orn,$in=Hke;function kin(e){return Ein(e,$in,Cin)}var Oin=kin,LWe=Oin,Ain=1,Rin=Object.prototype,Tin=Rin.hasOwnProperty;function Min(e,t,n,r,i,a){var s=n&Ain,u=LWe(e),f=u.length,d=LWe(t),c=d.length;if(f!=c&&!s)return!1;for(var h=f;h--;){var p=u[h];if(!(s?p in t:Tin.call(t,p)))return!1}var v=a.get(e),m=a.get(t);if(v&&m)return v==t&&m==e;var y=!0;a.set(e,t),a.set(t,e);for(var w=s;++h<f;){p=u[h];var _=e[p],S=t[p];if(r)var C=s?r(S,_,p,t,e,a):r(_,S,p,e,t,a);if(!(C===void 0?_===S||i(_,S,n,r,a):C)){y=!1;break}w||(w=p=="constructor")}if(y&&!w){var $=e.constructor,k=t.constructor;$!=k&&"constructor"in e&&"constructor"in t&&!(typeof $=="function"&&$ instanceof $&&typeof k=="function"&&k instanceof k)&&(y=!1)}return a.delete(e),a.delete(t),y}var Pin=Min,Lin=oL,Din=SE,Iin=Lin(Din,"DataView"),Fin=Iin,Nin=oL,zin=SE,jin=Nin(zin,"Promise"),Bin=jin,Hin=oL,Uin=SE,Vin=Hin(Uin,"Set"),Win=Vin,Gin=oL,qin=SE,Yin=Gin(qin,"WeakMap"),Kin=Yin,A_e=Fin,R_e=G$e,T_e=Bin,M_e=Win,P_e=Kin,Slt=JW,W8=Xat,DWe="[object Map]",Xin="[object Object]",IWe="[object Promise]",FWe="[object Set]",NWe="[object WeakMap]",zWe="[object DataView]",Zin=W8(A_e),Qin=W8(R_e),Jin=W8(T_e),ean=W8(M_e),tan=W8(P_e),QM=Slt;(A_e&&QM(new A_e(new ArrayBuffer(1)))!=zWe||R_e&&QM(new R_e)!=DWe||T_e&&QM(T_e.resolve())!=IWe||M_e&&QM(new M_e)!=FWe||P_e&&QM(new P_e)!=NWe)&&(QM=function(e){var t=Slt(e),n=t==Xin?e.constructor:void 0,r=n?W8(n):"";if(r)switch(r){case Zin:return zWe;case Qin:return DWe;case Jin:return IWe;case ean:return FWe;case tan:return NWe}return t});var nan=QM,i1e=ylt,ran=blt,ian=qnn,aan=Pin,jWe=nan,BWe=cw,HWe=BV,oan=xlt,san=1,UWe="[object Arguments]",VWe="[object Array]",LJ="[object Object]",uan=Object.prototype,WWe=uan.hasOwnProperty;function lan(e,t,n,r,i,a){var s=BWe(e),u=BWe(t),f=s?VWe:jWe(e),d=u?VWe:jWe(t);f=f==UWe?LJ:f,d=d==UWe?LJ:d;var c=f==LJ,h=d==LJ,p=f==d;if(p&&HWe(e)){if(!HWe(t))return!1;s=!0,c=!1}if(p&&!c)return a||(a=new i1e),s||oan(e)?ran(e,t,n,r,i,a):ian(e,t,f,n,r,i,a);if(!(n&san)){var v=c&&WWe.call(e,"__wrapped__"),m=h&&WWe.call(t,"__wrapped__");if(v||m){var y=v?e.value():e,w=m?t.value():t;return a||(a=new i1e),i(y,w,n,r,a)}}return p?(a||(a=new i1e),aan(e,t,n,r,i,a)):!1}var can=lan,fan=can,GWe=A8;function Elt(e,t,n,r,i){return e===t?!0:e==null||t==null||!GWe(e)&&!GWe(t)?e!==e&&t!==t:fan(e,t,n,r,Elt,i)}var Clt=Elt,dan=ylt,han=Clt,gan=1,pan=2;function van(e,t,n,r){var i=n.length,a=i,s=!r;if(e==null)return!a;for(e=Object(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<a;){u=n[i];var f=u[0],d=e[f],c=u[1];if(s&&u[2]){if(d===void 0&&!(f in e))return!1}else{var h=new dan;if(r)var p=r(d,c,f,e,t,h);if(!(p===void 0?han(c,d,gan|pan,r,h):p))return!1}}return!0}var man=van,yan=aL;function ban(e){return e===e&&!yan(e)}var $lt=ban,wan=$lt,_an=Hke;function xan(e){for(var t=_an(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,wan(i)]}return t}var San=xan;function Ean(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var klt=Ean,Can=man,$an=San,kan=klt;function Oan(e){var t=$an(e);return t.length==1&&t[0][2]?kan(t[0][0],t[0][1]):function(n){return n===e||Can(n,e,t)}}var Aan=Oan;function Ran(e,t){return e!=null&&t in Object(e)}var Tan=Ran,Man=K$e,Pan=zke,Lan=cw,Dan=koe,Ian=Bke,Fan=D8;function Nan(e,t,n){t=Man(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var s=Fan(t[r]);if(!(a=e!=null&&n(e,s)))break;e=e[s]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&Ian(i)&&Dan(s,i)&&(Lan(e)||Pan(e)))}var Olt=Nan,zan=Tan,jan=Olt;function Ban(e,t){return e!=null&&jan(e,t,zan)}var Han=Ban,Uan=Clt,Van=eot,Wan=Han,Gan=W$e,qan=$lt,Yan=klt,Kan=D8,Xan=1,Zan=2;function Qan(e,t){return Gan(e)&&qan(t)?Yan(Kan(e),t):function(n){var r=Van(n,e);return r===void 0&&r===t?Wan(n,e):Uan(t,r,Xan|Zan)}}var Jan=Qan;function eon(e){return e}var Zoe=eon;function ton(e){return function(t){return t==null?void 0:t[e]}}var Alt=ton,non=X$e;function ron(e){return function(t){return non(t,e)}}var ion=ron,aon=Alt,oon=ion,son=W$e,uon=D8;function lon(e){return son(e)?aon(uon(e)):oon(e)}var con=lon,fon=Aan,don=Jan,hon=Zoe,gon=cw,pon=con;function von(e){return typeof e=="function"?e:e==null?hon:typeof e=="object"?gon(e)?don(e[0],e[1]):fon(e):pon(e)}var Qoe=von;function mon(e){return function(t,n,r){for(var i=-1,a=Object(t),s=r(t),u=s.length;u--;){var f=s[e?u:++i];if(n(a[f],f,a)===!1)break}return t}}var yon=mon,bon=yon,won=bon(),_on=won,xon=_on,Son=Hke;function Eon(e,t){return e&&xon(e,t,Son)}var Uke=Eon,Con=vG;function $on(e,t){return function(n,r){if(n==null)return n;if(!Con(n))return e(n,r);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&r(s[a],a,s)!==!1;);return n}}var kon=$on,Oon=Uke,Aon=kon,Ron=Aon(Oon),Rlt=Ron,Ton=Rlt,Mon=vG;function Pon(e,t){var n=-1,r=Mon(e)?Array(e.length):[];return Ton(e,function(i,a,s){r[++n]=t(i,a,s)}),r}var Lon=Pon;function Don(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var Ion=Don,qWe=R8;function Fon(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=qWe(e),s=t!==void 0,u=t===null,f=t===t,d=qWe(t);if(!u&&!d&&!a&&e>t||a&&s&&f&&!u&&!d||r&&s&&f||!n&&f||!i)return 1;if(!r&&!a&&!d&&e<t||d&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!f)return-1}return 0}var Non=Fon,zon=Non;function jon(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,s=i.length,u=n.length;++r<s;){var f=zon(i[r],a[r]);if(f){if(r>=u)return f;var d=n[r];return f*(d=="desc"?-1:1)}}return e.index-t.index}var Bon=jon,a1e=eG,Hon=X$e,Uon=Qoe,Von=Lon,Won=Ion,Gon=_lt,qon=Bon,Yon=Zoe,Kon=cw;function Xon(e,t,n){t.length?t=a1e(t,function(a){return Kon(a)?function(s){return Hon(s,a.length===1?a[0]:a)}:a}):t=[Yon];var r=-1;t=a1e(t,Gon(Uon));var i=Von(e,function(a,s,u){var f=a1e(t,function(d){return d(a)});return{criteria:f,index:++r,value:a}});return Won(i,function(a,s){return qon(a,s,n)})}var Zon=Xon;function Qon(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Tlt=Qon,Jon=Tlt,YWe=Math.max;function esn(e,t,n){return t=YWe(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=YWe(r.length-t,0),s=Array(a);++i<a;)s[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(s),Jon(e,this,u)}}var tsn=esn;function nsn(e){return function(){return e}}var rsn=nsn,isn=rsn,KWe=tot,asn=Zoe,osn=KWe?function(e,t){return KWe(e,"toString",{configurable:!0,enumerable:!1,value:isn(t),writable:!0})}:asn,ssn=osn,usn=800,lsn=16,csn=Date.now;function fsn(e){var t=0,n=0;return function(){var r=csn(),i=lsn-(r-n);if(n=r,i>0){if(++t>=usn)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var dsn=fsn,hsn=ssn,gsn=dsn,psn=gsn(hsn),vsn=psn,msn=Zoe,ysn=tsn,bsn=vsn;function wsn(e,t){return bsn(ysn(e,t,msn),e+"")}var Mlt=wsn,_sn=Soe,xsn=vG,Ssn=koe,Esn=aL;function Csn(e,t,n){if(!Esn(n))return!1;var r=typeof t;return(r=="number"?xsn(n)&&Ssn(t,n.length):r=="string"&&t in n)?_sn(n[t],e):!1}var $sn=Csn,ksn=Dtn,Osn=Zon,Asn=Mlt,XWe=$sn,Rsn=Asn(function(e,t){if(e==null)return[];var n=t.length;return n>1&&XWe(e,t[0],t[1])?t=[]:n>2&&XWe(t[0],t[1],t[2])&&(t=[t[0]]),Osn(e,ksn(t,1),[])}),Tsn=Rsn,mG={},di={};Object.defineProperty(di,"__esModule",{value:!0});di.getError=di.merge=di.bind=di.errMap=di.fmap2=di.fmap=di.Error=di.Ok=void 0;function Joe(e){return{ok:!0,value:e}}di.Ok=Joe;function Vke(e){return{ok:!1,value:e}}di.Error=Vke;function Msn(e,t){return e.ok?Joe(t(e.value)):e}di.fmap=Msn;function Psn(e,t,n){return e.ok?Joe(t(e.value)):Vke(n(e.value))}di.fmap2=Psn;function Lsn(e,t){return e.ok?e:Vke(t(e.value))}di.errMap=Lsn;function Dsn(e,t){return e.ok?t(e.value):e}di.bind=Dsn;function Isn(e,t){return e.ok?t.ok?Joe([e.value,t.value]):t:e}di.merge=Isn;function Fsn(e){if(!e.ok)return e.value}di.getError=Fsn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.makeBy=e.pairwise=e.toRanges=e.unzip=e.accumulate=e.zip=void 0;const t=di,n=(f,d)=>{const c=f.length,h=d.length,p=c<h?c:h,v=new Array(p);for(let m=0;m<p;m++)v[m]=[f[m],d[m]];return v};e.zip=n;const r=(f,d)=>{const c=f.length,h=new Array(c).fill(0);for(let p=0;p<c;p++){const v=f[p];p===0?h[p]=v:h[p]=d(v,h[p-1])}return h};e.accumulate=r;const i=f=>{const d=f.length,c=new Array(d),h=new Array(d);for(let p=0;p<d;p++){const[v,m]=f[p];c[p]=v,h[p]=m}return[c,h]};e.unzip=i;const a=f=>f.length<2?{ok:!1,value:"Must be at least 2 elements"}:(0,t.Ok)((0,e.zip)(f,f.slice(1)));e.toRanges=a;const s=(f,d)=>{const c=[];for(let h=1;h<f.length;h++)c.push(d(f[h-1],f[h]));return c};e.pairwise=s;const u=(f,d)=>{const c=[];for(let h=0;h<f;h++)c.push(d(h));return c};e.makeBy=u})(mG);var kE={},Nsn=Yat,ZWe=1/0,zsn=17976931348623157e292;function jsn(e){if(!e)return e===0?e:0;if(e=Nsn(e),e===ZWe||e===-ZWe){var t=e<0?-1:1;return t*zsn}return e===e?e:0}var Bsn=jsn,Hsn=Bsn;function Usn(e){var t=Hsn(e),n=t%1;return t===t?n?t-n:t:0}var Vsn=Usn,Wsn=Vsn;function Gsn(e){return typeof e=="number"&&e==Wsn(e)}var qsn=Gsn;(function(e){var t=$e&&$e.__createBinding||(Object.create?function(M,A,L,N){N===void 0&&(N=L);var R=Object.getOwnPropertyDescriptor(A,L);(!R||("get"in R?!A.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return A[L]}}),Object.defineProperty(M,N,R)}:function(M,A,L,N){N===void 0&&(N=L),M[N]=A[L]}),n=$e&&$e.__setModuleDefault||(Object.create?function(M,A){Object.defineProperty(M,"default",{enumerable:!0,value:A})}:function(M,A){M.default=A}),r=$e&&$e.__importStar||function(M){if(M&&M.__esModule)return M;var A={};if(M!=null)for(var L in M)L!=="default"&&Object.prototype.hasOwnProperty.call(M,L)&&t(A,M,L);return n(A,M),A},i=$e&&$e.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(e,"__esModule",{value:!0}),e.diff=e.cumProd=e.cumSum=e.stdev=e.variance=e.sort=e.percentile=e.geomean=e.mean=e.product=e.sum=e.isSorted=e.range=void 0;const a=i(qsn),s=r(mG);class u extends Error{}const f=(M,A,L)=>{if(!(0,a.default)(L))throw new Error("n must be integer");if(L===0)return[];if(L===1)return[M];if(L===2)return[M,A];if(L<0)throw new u("n must be greater than 0");if(M===A)return new Array(L).fill(M);if(M>A)throw new u("Min value is higher then max value");{const N=(A-M)/(L-1),R=[];for(let D=0;D<L;D++)R.push(M+D*N);return R}};e.range=f;const d=M=>{if(M.length<=1)return!0;for(let A=0;A<M.length;A++)if(M[A]>=M[A+1])return!1;return!0};e.isSorted=d;const c=M=>{let A=0;for(let L of M)A+=L;return A};e.sum=c;const h=M=>{let A=1,L=M.length;for(;--L>=0;)A*=M[L];return A};e.product=h;const p=M=>(0,e.sum)(M)/M.length;e.mean=p;const v=M=>Math.pow((0,e.product)(M),1/M.length);e.geomean=v;const m=M=>(0,e.sum)(M)/M.length;e.percentile=m;const y=M=>Array.from(new Float64Array(M).sort());e.sort=y;const w=M=>{const A=M.length,L=(M[0]+M[A-1])/2;let N=0,R=0;for(let j=0;j<A;j++){const U=M[j]-L;N+=U,R+=U*U}const D=N/A;return R/A-D*D};e.variance=w;const _=M=>Math.sqrt((0,e.variance)(M));e.stdev=_;const S=(M,A)=>{const L=M.length,N=new Array(L);for(let R=0;R<L;R++)R===0?N[R]=M[0]:N[R]=A(M[R],N[R-1]);return N},C=M=>S(M,(A,L)=>A+L);e.cumSum=C;const $=M=>S(M,(A,L)=>A*L);e.cumProd=$;const k=M=>s.pairwise(M,(A,L)=>L-A);e.diff=k})(kE);var E3={};Object.defineProperty(E3,"__esModule",{value:!0});E3.percentile=E3.firstGreaterIndex=void 0;const Ysn=(e,t)=>{let n=0,r=e.length;for(;n<r;){const i=Math.floor((n+r)/2);e[i]<=t?n=i+1:r=i}return n};E3.firstGreaterIndex=Ysn;const Ksn=(e,t)=>{const n=t*(e.length-1),r=Math.floor(n);if(r+1<e.length){const i=n-r,a=e[r],s=e[r+1];return a+i*(s-a)}else return e[r]};E3.percentile=Ksn;var OE={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Epsilon=e.OpCost=e.Environment=e.epsilon_float=void 0,e.epsilon_float=2220446049250313e-31,e.Environment={defaultXYPointLength:1e3,defaultSampleCount:1e4,sparklineLength:20},e.OpCost={floatCost:1,symbolicCost:1e3,mixedCost:1e3,continuousCost:1e3,wildcardCost:1e3,monteCarloCost:e.Environment.defaultSampleCount},e.Epsilon={ten:1e-10}})(OE);(function(e){var t=$e&&$e.__createBinding||(Object.create?function(m,y,w,_){_===void 0&&(_=w);var S=Object.getOwnPropertyDescriptor(y,w);(!S||("get"in S?!y.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return y[w]}}),Object.defineProperty(m,_,S)}:function(m,y,w,_){_===void 0&&(_=w),m[_]=y[w]}),n=$e&&$e.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),r=$e&&$e.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var w in m)w!=="default"&&Object.prototype.hasOwnProperty.call(m,w)&&t(y,m,w);return n(y,m),y},i=$e&&$e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.Analysis=e.Range=e.PointwiseCombination=e.Zipped=e.XsConversion=e.XtoY=e.YtoX=e.T=e.XYShapeError=void 0;const a=i(Tsn),s=r(mG),u=r(kE),f=r(E3),d=r(di),c=OE;e.XYShapeError={mapErrorArrayToError(m){if(m.length!==0)return m.length===1?m[0]:{tag:"MultipleErrors",errors:m}},toString(m){switch(m.tag){case"NotSorted":return`${m.property} is not sorted`;case"IsEmpty":return`${m.property} is empty`;case"NotFinite":return`${m.property} is not finite. Example value: ${m.value}`;case"DifferentLengths":return`${m.p1Name} and ${m.p2Name} have different lengths. ${m.p1Name} has length ${m.p1Length} and ${m.p2Name} has length ${m.p2Length}`;case"MultipleErrors":return`Multiple Errors: ${m.errors.map(e.XYShapeError.toString).map(y=>`[${y}]`).join(", ")}`}}};const h=(m,y,w,_,S)=>{const C=(y-S)/(y-m),$=(S-m)/(y-m);return w*C+_*$},p=m=>{if(m===void 0)throw new Error("Tried to perform an operation on an empty XYShape.");return m};e.T={length(m){return m.xs.length},empty:{xs:[],ys:[]},isEmpty(m){return e.T.length(m)===0},minX(m){return p(m.xs[0])},maxX(m){return p(m.xs[m.xs.length-1])},firstY(m){return p(m.ys[0])},lastY(m){return p(m.ys[m.ys.length-1])},xTotalRange(m){return e.T.maxX(m)-e.T.minX(m)},mapX(m,y){return{xs:m.xs.map(y),ys:m.ys}},mapY(m,y){return{xs:m.xs,ys:m.ys.map(y)}},mapYResult(m,y){const w=[];for(const _ of m.ys){const S=y(_);if(!S.ok)return S;w.push(S.value)}return d.Ok({xs:m.xs,ys:w})},square(m){return e.T.mapX(m,y=>Math.pow(y,2))},zip({xs:m,ys:y}){return s.zip(m,y)},fromArray([m,y]){return{xs:m,ys:y}},fromArrays(m,y){return{xs:m,ys:y}},accumulateYs(m,y){return e.T.fromArray([m.xs,s.accumulate(m.ys,y)])},concat(m,y){const w=[...m.xs,...y.xs],_=[...m.ys,...y.ys];return{xs:w,ys:_}},fromZippedArray(m){return e.T.fromArray(s.unzip(m))},equallyDividedXs(m,y){return u.range(e.T.minX(m),e.T.maxX(m),y)},toJs(m){return m},filterYValues(m,y){return e.T.fromZippedArray(e.T.zip(m).filter(([,w])=>y(w)))},filterOkYs(m,y){const w=m.length,_=[],S=[];for(let C=0;C<=w-1;C++){const $=y[C];$.ok&&(_.push(m[C]),S.push($.value))}return{xs:_,ys:S}},Validator:{notSortedError(m){return{tag:"NotSorted",property:m}},notFiniteError(m,y){return{tag:"NotFinite",property:m,value:y}},isEmptyError(m){return{tag:"IsEmpty",property:m}},differentLengthsError(m){return{tag:"DifferentLengths",p1Name:"Xs",p2Name:"Ys",p1Length:m.xs.length,p2Length:m.ys.length}},areXsSorted(m){return u.isSorted(m.xs)},areXsEmpty(m){return m.xs.length===0},getNonFiniteXs(m){return m.xs.find(y=>!Number.isFinite(y))},getNonFiniteYs(m){return m.ys.find(y=>!Number.isFinite(y))},validate(m){const y=[];e.T.Validator.areXsSorted(m)||y.push(e.T.Validator.notSortedError("Xs")),e.T.Validator.areXsEmpty(m)&&y.push(e.T.Validator.isEmptyError("Xs")),m.xs.length!==m.ys.length&&y.push(e.T.Validator.differentLengthsError(m));const w=e.T.Validator.getNonFiniteXs(m);w!==void 0&&y.push(e.T.Validator.notFiniteError("Xs",w));const _=e.T.Validator.getNonFiniteYs(m);return _!==void 0&&y.push(e.T.Validator.notFiniteError("Ys",_)),e.XYShapeError.mapErrorArrayToError(y)}},make(m,y){const w={xs:m,ys:y},_=e.T.Validator.validate(w);return _?d.Error(_):d.Ok(w)},makeFromZipped(m){const[y,w]=s.unzip(m);return e.T.make(y,w)}};const v={first(m){return[e.T.minX(m),e.T.firstY(m)]},last(m){return[e.T.maxX(m),e.T.lastY(m)]},getBy(m,y){return e.T.zip(m).find(y)},firstAtOrBeforeXValue(m,y){const w=f.firstGreaterIndex(m.xs,y);if(w!==0)return[m.xs[w-1],m.ys[w-1]]}};e.YtoX={linear(m,y){const w=f.firstGreaterIndex(m.ys,y);if(w===m.ys.length)return e.T.maxX(m);if(w===0)return e.T.minX(m);{const _=w-1;return m.ys[_]===y?m.xs[_]:h(m.ys[_],m.ys[w],m.xs[_],m.xs[w],y)}}},e.XtoY={stepwiseIncremental(m,y){var w;return(w=v.firstAtOrBeforeXValue(m,y))===null||w===void 0?void 0:w[1]},stepwiseIfAtX(m,y){var w;return(w=v.getBy(m,([_])=>_===y))===null||w===void 0?void 0:w[1]},linear(m,y){const w=f.firstGreaterIndex(m.xs,y);if(w===m.xs.length)return e.T.lastY(m);if(w===0)return e.T.firstY(m);{const _=w-1;return m.xs[_]===y?m.ys[_]:h(m.xs[_],m.xs[w],m.ys[_],m.ys[w],y)}},continuousInterpolator(m,y){if(m==="Linear"&&y==="UseZero")return(w,_,S)=>{if(_<0)return 0;if(_>=e.T.length(w)-1)return 0;{const C=w.xs[_],$=w.xs[_+1],k=w.ys[_],M=w.ys[_+1],A=(S-C)/($-C);return k*(1-A)+M*A}};if(m==="Linear"&&y==="UseOutermostPoints")return(w,_,S)=>{if(_<0)return w.ys[0];if(_>=e.T.length(w)-1)return w.ys[e.T.length(w)-1];{const C=w.xs[_],$=w.xs[_+1],k=w.ys[_],M=w.ys[_+1],A=(S-C)/($-C);return k*(1-A)+M*A}};if(m==="Stepwise"&&y==="UseZero")return(w,_,S)=>_<0||_>=e.T.length(w)-1?0:w.ys[_];if(m==="Stepwise"&&y==="UseOutermostPoints")return(w,_,S)=>_<0?w.ys[0]:_>=e.T.length(w)-1?w.ys[e.T.length(w)-1]:w.ys[_];throw new Error("Implementation error: invalid interpolation/extrapolation strategy combination")},discreteInterpolator:()=>0},e.XsConversion={_replaceWithXs(m,y){const w=m.map(_=>e.XtoY.linear(y,_));return{xs:m,ys:w}},equallyDivideXByMass(m,y){return u.range(0,1,y).map(w=>e.YtoX.linear(m,w))},proportionEquallyOverX(m,y){return e.XsConversion._replaceWithXs(e.T.equallyDividedXs(m,y),m)},proportionByProbabilityMass(m,y,w){return e.XsConversion._replaceWithXs(e.XsConversion.equallyDivideXByMass(w,y),m)}},e.Zipped={sortByY(m){return(0,a.default)(m,[([y,w])=>w])},sortByX(m){return(0,a.default)(m,[([y,w])=>y])},filterByX(m,y){return m.filter(([w])=>y(w))}},e.PointwiseCombination={combine(m,y,w,_){const S=w.xs.length,C=_.xs.length,$=[],k=[];let M=-1,A=-1;for(;M<=S-1&&A<=C-1;){let L,N,R;if(A===C-1&&M<S-1||w.xs[M+1]<_.xs[A+1])M++,L=w.xs[M],N=w.ys[M],R=m(_,A,L);else if(M===S-1&&A<C-1||w.xs[M+1]>_.xs[A+1])A++,L=_.xs[A],R=_.ys[A],N=m(w,M,L);else if(M<S-1&&A<C&&w.xs[M+1]===_.xs[A+1])M++,A++,L=w.xs[M],N=w.ys[M],R=_.ys[A];else if(M===S-1&&A===C-1){M=S,A=C;continue}else throw new Error(`PointwiseCombination error: ${M}, ${A}`);$.push(L);const D=y(N,R);if(!D.ok)return D;k.push(D.value)}return d.Ok({xs:$,ys:k})},addCombine(m,y,w){const _=e.PointwiseCombination.combine(m,(S,C)=>d.Ok(S+C),y,w);if(!_.ok)throw new Error("Add operation should never fail");return _.value}},e.Range={nextX([,[m]]){return m},rangePointAssumingSteps([[,m],[y]]){return[y,m]},rangeAreaAssumingTriangles([[m,y],[w,_]]){return(w-m)*(y+_)/2},rangeAreaAssumingTrapezoids([[m,y],[w,_]]){return(w-m)*(Math.min(y,_)+(y+_)/2)},delta_y_over_delta_x([[m,y],[w,_]]){return(_-y)/(w-m)},mapYsBasedOnRanges(m,y){const w=s.toRanges(s.zip(m.xs,m.ys));if(w.ok)return w.value.map(_=>[e.Range.nextX(_),y(_)])},integrateWithTriangles({xs:m,ys:y}){const w=m.length,_=new Array(w).fill(0);for(let S=0;S<=w-2;S++)_[S+1]=(m[S+1]-m[S])*((y[S]+y[S+1])/2)+_[S];return{xs:m,ys:_}},derivative(m){return e.Range.mapYsBasedOnRanges(m,e.Range.delta_y_over_delta_x)},stepwiseToLinear({xs:m,ys:y}){const w=m.length,_=new Array(2*w),S=new Array(2*w);_[0]=m[0]-c.epsilon_float,S[0]=0,_[1]=m[0],S[1]=y[0];for(let C=1;C<=w-1;C++)_[C*2]=m[C]-c.epsilon_float,S[C*2]=y[C-1],_[C*2+1]=m[C],S[C*2+1]=y[C];return{xs:_,ys:S}}},e.Analysis={getVarianceDangerously(m,y,w){const _=Math.pow(y(m),2);return w(m)-_}}})(Pk);Object.defineProperty(Ro,"__esModule",{value:!0});Ro.distErrorToString=Ro.xyShapeDistError=Ro.argumentError=Ro.otherError=Ro.requestedStrategyInvalidError=Ro.logarithmOfDistributionError=Ro.sparklineError=Ro.operationDistError=Ro.distributionVerticalShiftIsInvalid=Ro.unreachableError=Ro.notYetImplemented=Ro.distOperationError=Ro.tooFewSamplesForConversionToPointSet=void 0;const Xsn=Pk,Zsn=()=>({type:"TooFewSamplesForConversionToPointSet"});Ro.tooFewSamplesForConversionToPointSet=Zsn;const Qsn=e=>({type:"OperationError",value:e});Ro.distOperationError=Qsn;const Jsn=()=>({type:"NotYetImplemented"});Ro.notYetImplemented=Jsn;const eun=()=>({type:"Unreachable"});Ro.unreachableError=eun;const tun=()=>({type:"DistributionVerticalShiftIsInvalid"});Ro.distributionVerticalShiftIsInvalid=tun;const nun=e=>({type:"OperationError",value:e});Ro.operationDistError=nun;const run=e=>({type:"SparklineError",message:e});Ro.sparklineError=run;const iun=e=>({type:"LogarithmOfDistributionError",message:e});Ro.logarithmOfDistributionError=iun;const aun=e=>({type:"RequestedStrategyInvalidError",message:e});Ro.requestedStrategyInvalidError=aun;const oun=e=>({type:"OtherError",message:e});Ro.otherError=oun;const sun=e=>({type:"ArgumentError",message:e});Ro.argumentError=sun;const uun=e=>({type:"XYShapeError",value:e});Ro.xyShapeDistError=uun;const lun=e=>{switch(e.type){case"NotYetImplemented":return"Function not yet implemented";case"Unreachable":return"Unreachable";case"DistributionVerticalShiftIsInvalid":return"Distribution vertical shift is invalid";case"ArgumentError":return`Argument Error ${e.message}`;case"LogarithmOfDistributionError":return`Logarithm of input error: ${e.message}`;case"NonNumericInput":return`Found a non-number in input: ${e.message}`;case"OperationError":return e.value.toString();case"TooFewSamplesForConversionToPointSet":return"Too Few Samples to convert to point set";case"SparklineError":return e.message;case"RequestedStrategyInvalidError":return`Requested strategy invalid: ${e.message}`;case"XYShapeError":return`XY Shape Error: ${Xsn.XYShapeError.toString(e.value)}`;case"OtherError":return e.message;case"TooFewSamples":return"Too few samples when constructing sample set";default:return`Unknown error type ${e.type}`}};Ro.distErrorToString=lun;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorMessage=e.REArityError=e.REOperationError=e.RENotAFunction=e.REExpectedType=e.RERecordPropertyNotFound=e.REArrayIndexNotFound=e.REDistributionError=e.RESymbolNotFound=e.REOther=e.MessageException=void 0;const t=Ro;class n extends Error{constructor(v){super(),this.e=v}toString(){return e.ErrorMessage.toString(this.e)}}e.MessageException=n;const r=p=>({type:"REOther",msg:p});e.REOther=r;const i=p=>({type:"RESymbolNotFound",symbolName:p});e.RESymbolNotFound=i;const a=p=>({type:"REDistributionError",err:p});e.REDistributionError=a;const s=(p,v)=>({type:"REArrayIndexNotFound",msg:p,index:v});e.REArrayIndexNotFound=s;const u=(p,v)=>({type:"RERecordPropertyNotFound",msg:p,index:v});e.RERecordPropertyNotFound=u;const f=(p,v)=>({type:"REExpectedType",typeName:p,valueString:v});e.REExpectedType=f;const d=p=>({type:"RENotAFunction",value:p});e.RENotAFunction=d;const c=p=>({type:"REOperationError",err:p});e.REOperationError=c;const h=(p,v,m)=>({type:"REArityError",fn:p,arity:v,usedArity:m});e.REArityError=h,e.ErrorMessage={toString(p){switch(p.type){case"REArityError":return`${p.arity} arguments expected. Instead ${p.usedArity} argument(s) were passed.`;case"REArrayIndexNotFound":return`${p.msg}: ${p.index}`;case"REAssignmentExpected":return"Assignment expected";case"REExpressionExpected":return"Expression expected";case"REFunctionExpected":return`Function expected: ${p.msg}`;case"REFunctionNotFound":return`Function not found: ${p.msg}`;case"REDistributionError":return`Distribution Math Error: ${(0,t.distErrorToString)(p.err)}`;case"REOperationError":return`Math Error: ${p.err.toString()}`;case"REJavaScriptExn":{let v="JS Exception:";return p.name!==void 0&&(v+=` ${p.name}:`),p.msg!==void 0&&(v+=` ${p.msg}`),v}case"RENotAFunction":return`${p.value} is not a function`;case"RERecordPropertyNotFound":return`${p.msg}: ${p.index}`;case"RESymbolNotFound":return`${p.symbolName} is not defined`;case"RESyntaxError":return`Syntax Error: ${p.desc}`;case"RETodo":return`TODO: ${p.msg}`;case"REExpectedType":return`Expected type: ${p.typeName} but got: ${p.valueString}`;case"RENeedToRun":return"Need to run";case"REOther":return`Error: ${p.msg}`;default:return`Unknown error ${p}`}},needToRun(){return{type:"RENeedToRun"}},fromException(p){var v,m;return p instanceof n?p.e:p instanceof Error?(0,e.REOther)((m=(v=p.message)!==null&&v!==void 0?v:p.name)!==null&&m!==void 0?m:"Unknown error"):(0,e.REOther)("Unknown error")},throw(p){throw new n(p)}}})(Qd);var Wke={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FrameStack=e.Frame=e.topFrameName=void 0,e.topFrameName="<top>";class t{isFrame(){return 1}constructor(i,a){this.name=i,this.location=a}toString(){return this.name+(this.location?` at line ${this.location.start.line}, column ${this.location.start.column}, file ${this.location.source}`:"")}}e.Frame=t;class n{constructor(i,a){this.frame=i,this.parent=a}static make(){return new n(new t("<root>"))}extend(i,a){return new n(new t(i,a),this)}static makeSingleFrameStack(i){return n.make().extend(e.topFrameName,i)}toString(){return this.toFrameArray().map(i=>"  "+i.toString()).join(`
`)}toFrameArray(){const i=[];let a=this;for(;a&&a.frame&&a.parent;)i.push(a.frame),a=a.parent;return i}getTopFrame(){return this.parent?this.frame:void 0}isEmpty(){return this.parent===void 0}}e.FrameStack=n})(Wke);Object.defineProperty(__,"__esModule",{value:!0});__.rethrowWithFrameStack=__.IError=void 0;const lU=Qd,QWe=Wke;class om extends Error{constructor(t,n){super(),this.m=t,this.frameStack=n}static fromMessage(t){return new om(t,QWe.FrameStack.make())}static fromMessageWithFrameStack(t,n){return new om(t,n)}static fromParseError({message:t,location:n}){return om.fromMessageWithFrameStack({type:"RESyntaxError",desc:t},QWe.FrameStack.makeSingleFrameStack(n))}static fromException(t){return t instanceof om?t:t instanceof lU.MessageException?om.fromMessage(t.e):t instanceof Error?om.fromMessage({type:"REJavaScriptExn",msg:t.message,name:t.name}):om.other("Unknown exception")}static other(t){return om.fromMessage((0,lU.REOther)(t))}toString(){return lU.ErrorMessage.toString(this.m)}toStringWithStackTrace(){return this.toString()+(this.frameStack.isEmpty()?"":`
Stack trace:
`+this.frameStack.toString())}getTopFrame(){return this.frameStack.getTopFrame()}getFrameArray(){return this.frameStack.toFrameArray()}}__.IError=om;const cun=(e,t)=>{try{return e()}catch(n){throw n instanceof om?n:n instanceof lU.MessageException?om.fromMessageWithFrameStack(n.e,t):n instanceof Error?om.fromMessageWithFrameStack({type:"REJavaScriptExn",msg:n.message,name:n.name},t):om.fromMessageWithFrameStack((0,lU.REOther)("Unknown exception"),t)}};__.rethrowWithFrameStack=cun;Object.defineProperty(_k,"__esModule",{value:!0});_k.SqFrame=_k.SqError=void 0;const fun=__;let dun=class Plt{constructor(t){this._value=t}toString(){return this._value.toString()}toStringWithStackTrace(){return this._value.toStringWithStackTrace()}static createOtherError(t){return new Plt(fun.IError.other(t))}getTopFrame(){const t=this._value.getTopFrame();return t?new L_e(t):void 0}getFrameArray(){return this._value.getFrameArray().map(n=>new L_e(n))}location(){var t;return(t=this.getTopFrame())===null||t===void 0?void 0:t.location()}};_k.SqError=dun;class L_e{constructor(t){this._value=t}name(){return this._value.name}location(){return this._value.location}}_k.SqFrame=L_e;var cB={},tc={},ese={},tse={};(function(e){var t=$e&&$e.__createBinding||(Object.create?function(s,u,f,d){d===void 0&&(d=f);var c=Object.getOwnPropertyDescriptor(u,f);(!c||("get"in c?!u.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return u[f]}}),Object.defineProperty(s,d,c)}:function(s,u,f,d){d===void 0&&(d=f),s[d]=u[f]}),n=$e&&$e.__setModuleDefault||(Object.create?function(s,u){Object.defineProperty(s,"default",{enumerable:!0,value:u})}:function(s,u){s.default=u}),r=$e&&$e.__importStar||function(s){if(s&&s.__esModule)return s;var u={};if(s!=null)for(var f in s)f!=="default"&&Object.prototype.hasOwnProperty.call(s,f)&&t(u,s,f);return n(u,s),u};Object.defineProperty(e,"__esModule",{value:!0}),e.Date=e.DateModule=e.Duration=void 0;const i=di,a=r(di);e.Duration={minute:60*1e3,hour:60*60*1e3,day:24*60*60*1e3,year:24*60*60*1e3*365.25,fromFloat:s=>s,toFloat:s=>s,fromMinutes:s=>s*e.Duration.minute,fromHours:s=>s*e.Duration.hour,fromDays:s=>s*e.Duration.day,fromYears:s=>s*e.Duration.year,toMinutes:s=>s/e.Duration.minute,toHours:s=>s/e.Duration.hour,toDays:s=>s/e.Duration.day,toYears:s=>s/e.Duration.year,toString(s){const u=c=>c!==1,f=(c,h)=>`${c.toPrecision(3)} ${h}${u(c)?"s":""}`,d=Math.abs(s);return d>=e.Duration.year?f(s/e.Duration.year,"year"):d>=e.Duration.day?f(s/e.Duration.day,"day"):d>=e.Duration.hour?f(s/e.Duration.hour,"hour"):d>=e.Duration.minute?f(s/e.Duration.minute,"minute"):s.toFixed()+"ms"},add:(s,u)=>s+u,subtract:(s,u)=>s-u,multiply:(s,u)=>s*u,divide:(s,u)=>s/u},e.DateModule={toString(s){return s.toDateString()},fmap(s,u){return new Date(u(s.getTime()))},subtract(s,u){const[f,d]=[s.getTime(),u.getTime()],c=f-d;return c<0?a.Error("Cannot subtract a date by one that is in its future"):(0,i.Ok)(e.Duration.fromFloat(c))},addDuration(s,u){return e.DateModule.fmap(s,f=>f+u)},subtractDuration(s,u){return e.DateModule.fmap(s,f=>f-u)},makeWithYearInt(s){return s<100?a.Error("Year must be over 100"):s>2e5?a.Error("Year must be less than 200000"):(0,i.Ok)(new Date(s,0))},makeFromYear(s){const u=Math.floor(s);return a.fmap(e.DateModule.makeWithYearInt(u),f=>{const d=s-u;return e.DateModule.addDuration(f,d*e.Duration.year)})}},e.Date=e.DateModule})(tse);var hun=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),gun=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pun=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&hun(t,e,n);return gun(t,e),t};Object.defineProperty(ese,"__esModule",{value:!0});ese.declarationToString=void 0;const JWe=pun(tse),vun=e=>e.type==="Float"?`Float({min: ${e.min.toPrecision(2)}, max: ${e.max.toPrecision(2)})`:e.type==="Date"?`Date({min: ${JWe.Date.toString(e.min)}, max: ${JWe.Date.toString(e.max)}})`:"unknown arg type",mun=(e,t)=>{const n=e.args.map(vun).join(", ");return`fn: ${t(e.fn)}, args: [${n}]`};ese.declarationToString=mun;(function(e){var t=$e&&$e.__createBinding||(Object.create?function(H,Y,Z,Q){Q===void 0&&(Q=Z);var ee=Object.getOwnPropertyDescriptor(Y,Z);(!ee||("get"in ee?!Y.__esModule:ee.writable||ee.configurable))&&(ee={enumerable:!0,get:function(){return Y[Z]}}),Object.defineProperty(H,Q,ee)}:function(H,Y,Z,Q){Q===void 0&&(Q=Z),H[Q]=Y[Z]}),n=$e&&$e.__setModuleDefault||(Object.create?function(H,Y){Object.defineProperty(H,"default",{enumerable:!0,value:Y})}:function(H,Y){H.default=Y}),r=$e&&$e.__importStar||function(H){if(H&&H.__esModule)return H;var Y={};if(H!=null)for(var Z in H)Z!=="default"&&Object.prototype.hasOwnProperty.call(H,Z)&&t(Y,H,Z);return n(Y,H),Y};Object.defineProperty(e,"__esModule",{value:!0}),e.vPlot=e.vVoid=e.vTimeDuration=e.vRecord=e.vString=e.vNumber=e.vLambda=e.vDist=e.vLambdaDeclaration=e.vDate=e.vBool=e.vArray=void 0;const i=ese,a=r(tse);class s{constructor(Y){this.value=Y,this.type="Array"}toString(){return"["+this.value.map(Y=>Y.toString()).join(",")+"]"}}const u=H=>new s(H);e.vArray=u;class f{constructor(Y){this.value=Y,this.type="Bool"}toString(){return String(this.value)}}const d=H=>new f(H);e.vBool=d;class c{constructor(Y){this.value=Y,this.type="Date"}toString(){return a.Date.toString(this.value)}}const h=H=>new c(H);e.vDate=h;class p{constructor(Y){this.value=Y,this.type="Declaration"}toString(){return(0,i.declarationToString)(this.value,Y=>(0,e.vLambda)(Y).toString())}}const v=H=>new p(H);e.vLambdaDeclaration=v;class m{constructor(Y){this.value=Y,this.type="Dist"}toString(){return this.value.toString()}}const y=H=>new m(H);e.vDist=y;class w{constructor(Y){this.value=Y,this.type="Lambda"}toString(){return this.value.toString()}}const _=H=>new w(H);e.vLambda=_;class S{constructor(Y){this.value=Y,this.type="Number"}toString(){return String(this.value)}}const C=H=>new S(H);e.vNumber=C;class ${constructor(Y){this.value=Y,this.type="String"}toString(){return`'${this.value}'`}}const k=H=>new $(H);e.vString=k;class M{constructor(Y){this.value=Y,this.type="Record"}toString(){return"{"+[...this.value.entries()].map(([Y,Z])=>`${Y}: ${Z.toString()}`).join(",")+"}"}}const A=H=>new M(H);e.vRecord=A;class L{constructor(Y){this.value=Y,this.type="TimeDuration"}toString(){return a.Duration.toString(this.value)}}const N=H=>new L(H);e.vTimeDuration=N;class R{constructor(){this.type="Void"}toString(){return"()"}}const D=()=>new R;e.vVoid=D;class j{constructor(Y){this.value=Y,this.type="Plot"}toString(){return`Plot containing ${this.value.distributions.map(Y=>Y.name).join(", ")}`}}const U=H=>new j(H);e.vPlot=U})(tc);var ms={},o1e={},G8={},s1e={},u1e={},ZS={};Object.defineProperty(ZS,"__esModule",{value:!0});ZS.add=ZS.makeDiscrete=ZS.makeContinuous=void 0;const yun=e=>({continuous:e,discrete:0});ZS.makeContinuous=yun;const bun=e=>({continuous:0,discrete:e});ZS.makeDiscrete=bun;const wun=(e,t)=>({continuous:e.continuous+t.continuous,discrete:e.discrete+t.discrete});ZS.add=wun;var C2={},C3={};Object.defineProperty(C3,"__esModule",{value:!0});C3.combineIntegrals=C3.combineIntegralSums=void 0;const _un=(e,t,n)=>{if(!(t===void 0||n===void 0))return e(t,n)};C3.combineIntegralSums=_un;const xun=(e,t,n)=>{if(!(t===void 0||n===void 0))return e(t,n)};C3.combineIntegrals=xun;var eGe;function q8(){if(eGe)return C2;eGe=1;var e=$e&&$e.__createBinding||(Object.create?function(y,w,_,S){S===void 0&&(S=_);var C=Object.getOwnPropertyDescriptor(w,_);(!C||("get"in C?!w.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return w[_]}}),Object.defineProperty(y,S,C)}:function(y,w,_,S){S===void 0&&(S=_),y[S]=w[_]}),t=$e&&$e.__setModuleDefault||(Object.create?function(y,w){Object.defineProperty(y,"default",{enumerable:!0,value:w})}:function(y,w){y.default=w}),n=$e&&$e.__importStar||function(y){if(y&&y.__esModule)return y;var w={};if(y!=null)for(var _ in y)_!=="default"&&Object.prototype.hasOwnProperty.call(y,_)&&e(w,y,_);return t(w,y),w};Object.defineProperty(C2,"__esModule",{value:!0}),C2.buildMixedShape=C2.combinePointwise=C2.combineAlgebraically=C2.MixedShape=void 0;const r=n(Pk),i=n(x_()),a=n(lE()),s=n(ZS),u=n(di),f=n(C3),d=x_(),c=lE();class h{constructor(w){this.continuous=w.continuous,this.discrete=w.discrete,this.integralSumCache=w.integralSumCache,this.integralCache=w.integralCache}minX(){return Math.min(this.continuous.minX(),this.discrete.minX())}maxX(){return Math.max(this.continuous.maxX(),this.discrete.maxX())}toContinuous(){return this.continuous}toDiscrete(){return this.discrete}toMixed(){return this}updateIntegralCache(w){return new h({continuous:this.continuous,discrete:this.discrete,integralSumCache:this.integralSumCache,integralCache:w})}truncate(w,_){return new h({continuous:this.continuous.truncate(w,_),discrete:this.discrete.truncate(w,_)})}normalize(){const w=this.continuous.integral(),_=this.discrete.integral(),S=this.continuous.updateIntegralCache(w),C=this.discrete.updateIntegralCache(_),$=S.integralEndY(),k=C.integralEndY(),M=$+k,A=$/M,L=k/M,N=S.scaleBy(A/$).updateIntegralSumCache(A),R=C.scaleBy(L/k).updateIntegralSumCache(L);return new h({continuous:N,discrete:R,integralSumCache:1})}xToY(w){const{continuous:_,discrete:S}=this.normalize(),C=_.xToY(w),$=S.xToY(w);return s.add(C,$)}toDiscreteProbabilityMassFraction(){const w=this.discrete.integralEndY(),_=this.continuous.integralEndY(),S=w+_;return w/S}downsample(w){const _=this.discrete.integralEndY(),S=this.continuous.integralEndY(),C=_+S,$=this.discrete.downsample(Math.floor(w*_/C)),k=this.continuous.downsample(Math.floor(w*S/C));return new h({continuous:k,discrete:$,integralSumCache:this.integralSumCache,integralCache:this.integralCache})}integral(){if(this.integralCache)return this.integralCache;const w=this.continuous.integral(),_=i.stepwiseToLinear(this.discrete.integral());return new d.ContinuousShape({xyShape:r.PointwiseCombination.addCombine(r.XtoY.continuousInterpolator("Linear","UseOutermostPoints"),w.xyShape,_.xyShape)})}integralEndY(){return this.integral().lastY()}integralXtoY(w){return r.XtoY.linear(this.integral().xyShape,w)}integralYtoX(w){return r.YtoX.linear(this.integral().xyShape,w)}mapY(w,_,S){const C=this.discrete.mapY(w,_,S),$=this.continuous.mapY(w,_,S);return new h({discrete:C,continuous:$,integralSumCache:this.integralSumCache===void 0||_==null?void 0:_(this.integralSumCache),integralCache:this.integralCache===void 0||S==null?void 0:S(this.integralCache)})}mapYResult(w,_,S){const C=this.discrete.mapYResult(w,_,S),$=this.continuous.mapYResult(w,_,S);if(!$.ok)return $;if(!C.ok)return C;const k=$.value,M=C.value;return u.Ok(new h({discrete:M,continuous:k,integralSumCache:this.integralSumCache===void 0||_==null?void 0:_(this.integralSumCache),integralCache:this.integralCache===void 0||S==null?void 0:S(this.integralCache)}))}mean(){const w=this.discrete.mean(),_=this.continuous.mean();return(w+_)/this.integralEndY()}variance(){const w=this.discrete.integralEndY(),_=this.continuous.integralEndY(),S=w+_,C=({discrete:$,continuous:k})=>{const M=$.shapeMap(r.T.square).mean(),A=k.getMeanOfSquares();return(M*w+A*_)/S};switch(w/S){case 1:return this.discrete.variance();case 0:return this.continuous.variance();default:return r.Analysis.getVarianceDangerously(this,$=>$.mean(),$=>C($))}}}C2.MixedShape=h;const p=(y,w,_)=>{const S=i.combineAlgebraically(y,w.continuous,_.continuous),C=i.combineAlgebraicallyWithDiscrete(y,_.continuous,w.discrete,"First"),$=i.combineAlgebraicallyWithDiscrete(y,w.continuous,_.discrete,"Second"),k=i.sum([S,C,$]),M=a.combineAlgebraically(y,w.discrete,_.discrete),A=f.combineIntegralSums((L,N)=>L*N,w.integralSumCache,_.integralSumCache);return new h({discrete:M,continuous:k,integralSumCache:A,integralCache:void 0})};C2.combineAlgebraically=p;const v=(y,w,_,S=()=>{},C=()=>{})=>{const $=N=>N!==void 0,k=a.reduce([y,w].map(N=>N.toDiscrete()).filter($),_,S),M=i.reduce([y,w].map(N=>N.toContinuous()).filter($),_,S),A=f.combineIntegralSums(S,y.integralSumCache,w.integralSumCache),L=f.combineIntegrals(C,y.integralCache,w.integralCache);return u.fmap(u.merge(M,k),([N,R])=>new h({continuous:N,discrete:R,integralSumCache:A,integralCache:L}))};C2.combinePointwise=v;const m=({continuous:y,discrete:w})=>{y??(y=new d.ContinuousShape({integralSumCache:0,xyShape:{xs:[],ys:[]}})),w??(w=new c.DiscreteShape({integralSumCache:0,xyShape:{xs:[],ys:[]}}));const _=y.xyShape.xs.length,S=w.xyShape.xs.length;if(!(_<2&&S==0))return _<2?w:S==0?y:new h({continuous:y,discrete:w})};return C2.buildMixedShape=m,C2}var _$={},B1={},tGe;function nse(){if(tGe)return B1;tGe=1;var e=$e&&$e.__createBinding||(Object.create?function(v,m,y,w){w===void 0&&(w=y);var _=Object.getOwnPropertyDescriptor(m,y);(!_||("get"in _?!m.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(v,w,_)}:function(v,m,y,w){w===void 0&&(w=y),v[w]=m[y]}),t=$e&&$e.__setModuleDefault||(Object.create?function(v,m){Object.defineProperty(v,"default",{enumerable:!0,value:m})}:function(v,m){v.default=m}),n=$e&&$e.__importStar||function(v){if(v&&v.__esModule)return v;var m={};if(v!=null)for(var y in v)y!=="default"&&Object.prototype.hasOwnProperty.call(v,y)&&e(m,v,y);return t(m,v),m};Object.defineProperty(B1,"__esModule",{value:!0}),B1.isDiscrete=B1.isContinuous=B1.combinePointwise=B1.combineAlgebraically=B1.convolutionOperationToFn=void 0;const r=n(x_()),i=n(lE()),a=n(q8()),s=x_(),u=lE(),f=v=>({Add:(m,y)=>m+y,Multiply:(m,y)=>m*y,Subtract:(m,y)=>m-y})[v];B1.convolutionOperationToFn=f;const d=(v,m,y)=>m instanceof s.ContinuousShape&&y instanceof s.ContinuousShape?r.combineAlgebraically(v,m,y):m instanceof u.DiscreteShape&&y instanceof s.ContinuousShape?r.combineAlgebraicallyWithDiscrete(v,y,m,"First"):m instanceof s.ContinuousShape&&y instanceof u.DiscreteShape?r.combineAlgebraicallyWithDiscrete(v,m,y,"Second"):m instanceof u.DiscreteShape&&y instanceof u.DiscreteShape?i.combineAlgebraically(v,m,y):a.combineAlgebraically(v,m.toMixed(),y.toMixed());B1.combineAlgebraically=d;const c=(v,m,y,w=()=>{},_=()=>{})=>v instanceof s.ContinuousShape&&m instanceof s.ContinuousShape?r.combinePointwise(v,m,y,void 0,w):v instanceof u.DiscreteShape&&m instanceof u.DiscreteShape?i.combinePointwise(v,m,y,w):a.combinePointwise(v.toMixed(),m.toMixed(),y,w,_);B1.combinePointwise=c;const h=v=>v instanceof s.ContinuousShape;B1.isContinuous=h;const p=v=>v instanceof u.DiscreteShape;return B1.isDiscrete=p,B1}var nGe;function Sun(){if(nGe)return _$;nGe=1;var e=$e&&$e.__createBinding||(Object.create?function(c,h,p,v){v===void 0&&(v=p);var m=Object.getOwnPropertyDescriptor(h,p);(!m||("get"in m?!h.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return h[p]}}),Object.defineProperty(c,v,m)}:function(c,h,p,v){v===void 0&&(v=p),c[v]=h[p]}),t=$e&&$e.__setModuleDefault||(Object.create?function(c,h){Object.defineProperty(c,"default",{enumerable:!0,value:h})}:function(c,h){c.default=h}),n=$e&&$e.__importStar||function(c){if(c&&c.__esModule)return c;var h={};if(c!=null)for(var p in c)p!=="default"&&Object.prototype.hasOwnProperty.call(c,p)&&e(h,c,p);return t(h,c),h};Object.defineProperty(_$,"__esModule",{value:!0}),_$.isOrdered=_$.combineShapesContinuousDiscrete=_$.combineShapesContinuousContinuous=void 0;const r=n(Pk),i=nse(),a=n(kE),s=(c,{inverse:h}={inverse:!1})=>{let p=r.T.length(c),{xs:v,ys:m}=c;v.unshift(v[0]),m.unshift(m[0]),v.push(v[p-1]),m.push(m[p-1]),p=v.length;const y=new Array(p);let w=new Array(p-1),_=new Array(p-2);for(let k=0;k<=p-1;k++)y[k]=v[k]*v[k];for(let k=0;k<=p-2;k++)w[k]=v[k]*v[k+1];for(let k=0;k<=p-3;k++)_[k]=v[k]*v[k+2];const S=new Array(p-2),C=new Array(p-2),$=new Array(p-2);if(h){for(let k=1;k<=p-2;k++){S[k-1]=(v[k+1]-v[k-1])*m[k]/2;const M=v[k-1],A=v[k],L=v[k+1],N=2*(M*Math.log(M/A)/(M-A)+L*Math.log(A/L)/(L-A))/(M-L);let R=2*(Math.log(A/M)/(M-A)+L*Math.log(L/A)/(L-A))/(M-L)-Math.pow(N,2);C[k-1]=N,$[k-1]=R}return{n:p-2,masses:S,means:C,variances:$}}else{for(let k=1;k<=p-2;k++)S[k-1]=(v[k+1]-v[k-1])*m[k]/2,C[k-1]=(v[k-1]+v[k]+v[k+1])/3,$[k-1]=(y[k-1]+y[k]+y[k+1]-w[k-1]-w[k]-_[k-1])/18;return{n:p-2,masses:S,means:C,variances:$}}};let u=(c,h,p)=>{const v=s(h),m=s(p,{inverse:!1}),y={Add:(N,R)=>N+R,Subtract:(N,R)=>N-R,Multiply:(N,R)=>N*R}[c],w={Add:(N,R)=>N+R,Subtract:(N,R)=>N+R,Multiply:(N,R,D,j)=>N*R+N*Math.pow(j,2)+R*Math.pow(D,2)}[c];let _=1/0,S=-1/0,C=new Array(v.n*m.n),$=new Array(v.n*m.n),k=new Array(v.n*m.n);for(let N=0;N<v.n;N++)for(let R=0;R<m.n;R++){const D=N*m.n+R;C[D]=v.masses[N]*m.masses[R];const j=y(v.means[N],m.means[R]),U=w(v.variances[N],m.variances[R],v.means[N],m.means[R]);$[D]=j,k[D]=U;const H=j-2*Math.sqrt(U)*1.644854,Y=j+2*Math.sqrt(U)*1.644854;H<_&&(_=H),Y>S&&(S=Y)}const M=300,A=a.range(_,S,M),L=new Array(M).fill(0);for(let N=0;N<C.length;N++)if(k[N]>0&&C[N]>0)for(let R=0;R<A.length;R++){const D=A[R]-$[N],j=C[N]*Math.exp(-Math.pow(D,2)/(2*k[N]))/Math.sqrt(2*3.14159276*k[N]);L[R]=L[R]+j}return{xs:A,ys:L}};_$.combineShapesContinuousContinuous=u;const f=(c,h,p,v)=>{const m=r.T.length(h),y=r.T.length(p),w=(0,i.convolutionOperationToFn)(c),_=v.discretePosition==="First"?(C,$)=>w($,C):w,S=new Array(y);switch(c){case"Add":case"Subtract":for(let C=0;C<=y-1;C++){const $=new Array(m);for(let k=0;k<=m-1;k++){const M=v.discretePosition==="First"&&c==="Subtract"?m-1-k:k;$[M]=[_(h.xs[k],p.xs[C]),h.ys[k]*p.ys[C]]}S[C]=$}break;case"Multiply":for(let C=0;C<=y-1;C++){let $=new Array(m);for(let k=0;k<=m-1;k++){const M=p.xs[C]>0?k:m-1-k;$[M]=[_(h.xs[k],p.xs[C]),h.ys[k]*p.ys[C]/Math.abs(p.xs[C])]}S[C]=$}break;default:throw new Error(`Unknown operation ${c}`)}return S.map(r.T.fromZippedArray).reduce((C,$)=>r.PointwiseCombination.addCombine(r.XtoY.continuousInterpolator("Linear","UseZero"),C,$),r.T.empty)};_$.combineShapesContinuousDiscrete=f;const d=c=>a.isSorted(c.xs);return _$.isOrdered=d,_$}var rGe;function x_(){return rGe||(rGe=1,function(e){var t=$e&&$e.__createBinding||(Object.create?function(M,A,L,N){N===void 0&&(N=L);var R=Object.getOwnPropertyDescriptor(A,L);(!R||("get"in R?!A.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return A[L]}}),Object.defineProperty(M,N,R)}:function(M,A,L,N){N===void 0&&(N=L),M[N]=A[L]}),n=$e&&$e.__setModuleDefault||(Object.create?function(M,A){Object.defineProperty(M,"default",{enumerable:!0,value:A})}:function(M,A){M.default=A}),r=$e&&$e.__importStar||function(M){if(M&&M.__esModule)return M;var A={};if(M!=null)for(var L in M)L!=="default"&&Object.prototype.hasOwnProperty.call(M,L)&&t(A,M,L);return n(A,M),A};Object.defineProperty(e,"__esModule",{value:!0}),e.combineAlgebraically=e.combineAlgebraicallyWithDiscrete=e.reduce=e.sum=e.getShape=e.combinePointwise=e.stepwiseToLinear=e.empty=e.Analysis=e.ContinuousShape=void 0;const i=OE,a=r(Pk),s=r(ZS),u=r(di),f=q8(),d=r(Sun()),c=r(C3),h=r(lE());class p{constructor(A){var L;this.xyShape=A.xyShape,this.interpolation=(L=A.interpolation)!==null&&L!==void 0?L:"Linear",this.integralSumCache=A.integralSumCache,this.integralCache=A.integralCache}lastY(){return a.T.lastY(this.xyShape)}minX(){return a.T.minX(this.xyShape)}maxX(){return a.T.maxX(this.xyShape)}mapY(A,L,N){return new p({xyShape:a.T.mapY(this.xyShape,A),interpolation:this.interpolation,integralSumCache:this.integralSumCache===void 0||L==null?void 0:L(this.integralSumCache),integralCache:this.integralCache===void 0||N==null?void 0:N(this.integralCache)})}mapYResult(A,L,N){const R=a.T.mapYResult(this.xyShape,A);return R.ok?u.Ok(new p({xyShape:R.value,interpolation:this.interpolation,integralSumCache:this.integralSumCache===void 0||L==null?void 0:L(this.integralSumCache),integralCache:this.integralCache===void 0||N==null?void 0:N(this.integralCache)})):R}updateIntegralCache(A){return new p({xyShape:this.xyShape,interpolation:this.interpolation,integralSumCache:this.integralSumCache,integralCache:A})}updateIntegralSumCache(A){return new p({xyShape:this.xyShape,interpolation:this.interpolation,integralSumCache:A,integralCache:this.integralCache})}toDiscreteProbabilityMassFraction(){return 0}xToY(A){var L;switch(this.interpolation){case"Stepwise":return s.makeContinuous((L=a.XtoY.stepwiseIncremental(this.xyShape,A))!==null&&L!==void 0?L:0);case"Linear":return s.makeContinuous(a.XtoY.linear(this.xyShape,A))}}truncate(A,L){const N=A??-1/0,R=L??1/0,D=a.Zipped.filterByX(a.T.zip(this.xyShape),Z=>Z>=N&&Z<=R),j=A===void 0?[]:[[N-i.epsilon_float,0]],U=L===void 0?[]:[[R+i.epsilon_float,0]],H=[...j,...D,...U],Y=a.T.fromZippedArray(H);return new p({xyShape:Y})}integral(){return a.T.isEmpty(this.xyShape)?v():this.integralCache?this.integralCache:new p({xyShape:a.Range.integrateWithTriangles(this.xyShape)})}shapeMap(A){return new p({xyShape:A(this.xyShape),interpolation:this.interpolation,integralSumCache:this.integralSumCache,integralCache:this.integralCache})}downsample(A){return this.shapeMap(L=>a.XsConversion.proportionByProbabilityMass(L,A,this.integral().xyShape))}integralEndY(){var A;return(A=this.integralSumCache)!==null&&A!==void 0?A:this.integral().lastY()}integralXtoY(A){return a.XtoY.linear(this.integral().xyShape,A)}integralYtoX(A){return a.YtoX.linear(this.integral().xyShape,A)}toContinuous(){return this}toDiscrete(){}toMixed(){return new f.MixedShape({continuous:this,discrete:h.empty(),integralSumCache:this.integralSumCache,integralCache:this.integralCache})}scaleBy(A){return this.mapY(L=>L*A,L=>L*A,L=>L.scaleBy(A))}normalize(){return this.updateIntegralCache(this.integral()).scaleBy(1/this.integralEndY()).updateIntegralSumCache(1)}mean(){const A=(N,R)=>R*Math.pow(N,2)/2,L=(N,R,D)=>R*Math.pow(N,2)/2+D*Math.pow(N,3)/3;return this.integrate(A,L)}integrate(A=(N,R)=>R*N,L=(N,R,D)=>R*N+D*Math.pow(N,2)/2){const N=this.xyShape.xs,R=this.xyShape.ys;let D=0;for(let j=1;j<N.length;j++)if(this.interpolation==="Stepwise")D+=A(N[j],R[j-1])-A(N[j-1],R[j-1]);else if(this.interpolation==="Linear"){const U=N[j-1],H=N[j];if(U!==H){const Y=R[j-1],Z=R[j],Q=(Y-Z)/(U-H),ee=Y-Q*U;D+=L(H,ee,Q)-L(U,ee,Q)}}else throw new Error(`Unknown interpolation strategy ${this.interpolation}`);return D}getMeanOfSquares(){const A=(N,R,D)=>R*Math.pow(N,3)/3+D*Math.pow(N,4)/4,L=(N,R)=>R*Math.pow(N,3)/3;return this.integrate(L,A)}variance(){return a.Analysis.getVarianceDangerously(this,A=>A.mean(),A=>A.getMeanOfSquares())}downsampleEquallyOverX(A){return this.shapeMap(L=>a.XsConversion.proportionEquallyOverX(L,A))}}e.ContinuousShape=p,e.Analysis={};const v=()=>new p({xyShape:{xs:[-1/0],ys:[0]},interpolation:"Linear",integralSumCache:0,integralCache:void 0}),m=()=>new p({xyShape:a.T.empty,interpolation:"Linear",integralSumCache:0,integralCache:v()});e.empty=m;const y=M=>new p({xyShape:a.Range.stepwiseToLinear(M.xyShape),interpolation:"Linear",integralSumCache:M.integralSumCache,integralCache:M.integralCache});e.stepwiseToLinear=y;const w=(M,A,L,N="PDF",R=()=>{})=>{const D=a.PointwiseCombination.combine,j=c.combineIntegralSums(R,M.integralSumCache,A.integralSumCache);M.interpolation==="Stepwise"&&A.interpolation==="Linear"?M=(0,e.stepwiseToLinear)(M):M.interpolation==="Linear"&&A.interpolation==="Stepwise"&&(A=(0,e.stepwiseToLinear)(A));const U={PDF:"UseZero",CDF:"UseOutermostPoints"}[N],H=a.XtoY.continuousInterpolator(M.interpolation,U);return u.fmap(D(H,L,M.xyShape,A.xyShape),Y=>new p({xyShape:Y,interpolation:"Linear",integralSumCache:j}))};e.combinePointwise=w;const _=M=>M.xyShape;e.getShape=_;const S=M=>M.reduce((A,L)=>{const N=(0,e.combinePointwise)(A,L,(R,D)=>u.Ok(R+D));if(!N.ok)throw new Error("Addition should never fail");return N.value},(0,e.empty)());e.sum=S;const C=(M,A,L=()=>{})=>{let N=(0,e.empty)();for(const R of M){const D=(0,e.combinePointwise)(N,R,A,void 0,L);if(!D.ok)return D;N=D.value}return u.Ok(N)};e.reduce=C;const $=(M,A,L,N)=>{let R=A.xyShape,D=L.xyShape;if(a.T.isEmpty(R)||a.T.isEmpty(D))return(0,e.empty)();{const j={Linear:A,Stepwise:(0,e.stepwiseToLinear)(A)}[A.interpolation],U=d.combineShapesContinuousDiscrete(M,j.xyShape,D,{discretePosition:N}),H=M==="Multiply"?c.combineIntegralSums((Y,Z)=>Y*Z,A.integralSumCache,L.integralSumCache):void 0;return new p({xyShape:U,interpolation:A.interpolation,integralSumCache:H})}};e.combineAlgebraicallyWithDiscrete=$;const k=(M,A,L)=>{const N=A.xyShape,R=L.xyShape,D=a.T.length(N),j=a.T.length(R);if(D===0||j===0)return(0,e.empty)();{const U=d.combineShapesContinuousContinuous(M,N,R),H=c.combineIntegralSums((Y,Z)=>Y*Z,A.integralSumCache,L.integralSumCache);return new p({xyShape:U,interpolation:"Linear",integralSumCache:H})}};e.combineAlgebraically=k}(u1e)),u1e}var xN={};Object.defineProperty(xN,"__esModule",{value:!0});xN.factorial=xN.random_sample=void 0;function Eun(e,t){let n=-1,r=e.length+1;for(let i;(i=r>>1)>0;r-=i)n+=i*+(e[n+i]<=t);return n+1}function Cun(e,t){const{probs:n,size:r}=t,i=Array(r);let a=0;const s=Array(n.length);for(let f=0;f<n.length;f++)s[f]=a+=n[f];const u=s[s.length-1];for(let f=0;f<r;f++){let d=Eun(s,Math.random()*u);i[f]=e[d]}return i}xN.random_sample=Cun;function $un(e){let t=1;for(;e>0;)t*=e--;return t}xN.factorial=$un;var iGe;function lE(){return iGe||(iGe=1,function(e){var t=$e&&$e.__createBinding||(Object.create?function(A,L,N,R){R===void 0&&(R=N);var D=Object.getOwnPropertyDescriptor(L,N);(!D||("get"in D?!L.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return L[N]}}),Object.defineProperty(A,R,D)}:function(A,L,N,R){R===void 0&&(R=N),A[R]=L[N]}),n=$e&&$e.__setModuleDefault||(Object.create?function(A,L){Object.defineProperty(A,"default",{enumerable:!0,value:L})}:function(A,L){A.default=L}),r=$e&&$e.__importStar||function(A){if(A&&A.__esModule)return A;var L={};if(A!=null)for(var N in A)N!=="default"&&Object.prototype.hasOwnProperty.call(A,N)&&t(L,A,N);return n(L,A),L};Object.defineProperty(e,"__esModule",{value:!0}),e.sampleN=e.combineAlgebraically=e.reduce=e.combinePointwise=e.getShape=e.isFloat=e.empty=e.DiscreteShape=void 0;const i=r(x_()),a=r(di),s=r(ZS),u=r(C3),f=x_(),d=r(Pk),c=nse(),h=OE,p=xN,v=q8();class m{constructor(L){this.xyShape=L.xyShape,this.integralSumCache=L.integralSumCache,this.integralCache=L.integralCache}shapeMap(L){return new m({xyShape:L(this.xyShape),integralSumCache:this.integralSumCache,integralCache:this.integralCache})}integral(){if(d.T.isEmpty(this.xyShape))return y();if(this.integralCache)return this.integralCache;const L=this.xyShape,R={xs:[d.T.minX(L)-h.epsilon_float],ys:[0]},D=d.T.accumulateYs(d.T.concat(R,L),(j,U)=>j+U);return new f.ContinuousShape({xyShape:D,interpolation:"Stepwise"})}integralEndY(){var L;return(L=this.integralSumCache)!==null&&L!==void 0?L:this.integral().lastY()}minX(){return d.T.minX(this.xyShape)}maxX(){return d.T.maxX(this.xyShape)}toDiscreteProbabilityMassFraction(){return 1}mapY(L,N,R){return new m({xyShape:d.T.mapY(this.xyShape,L),integralSumCache:this.integralSumCache===void 0||N==null?void 0:N(this.integralSumCache),integralCache:this.integralCache===void 0||R==null?void 0:R(this.integralCache)})}mapYResult(L,N,R){const D=d.T.mapYResult(this.xyShape,L);return D.ok?a.Ok(new m({xyShape:D.value,integralSumCache:this.integralSumCache===void 0||N==null?void 0:N(this.integralSumCache),integralCache:this.integralCache===void 0||R==null?void 0:R(this.integralCache)})):D}updateIntegralCache(L){return new m({xyShape:this.xyShape,integralSumCache:this.integralSumCache,integralCache:L})}updateIntegralSumCache(L){return new m({xyShape:this.xyShape,integralSumCache:L,integralCache:this.integralCache})}toContinuous(){}toDiscrete(){return this}toMixed(){return new v.MixedShape({continuous:i.empty(),discrete:this,integralSumCache:this.integralSumCache,integralCache:this.integralCache})}scaleBy(L){return this.mapY(N=>N*L,N=>N*L,N=>N.scaleBy(L))}normalize(){return this.scaleBy(1/this.integralEndY()).updateIntegralSumCache(1)}downsample(L){const N=d.T.length(this.xyShape);if(L<N&&L>=1&&N>1){const D=[...d.Zipped.sortByY(d.T.zip(this.xyShape))].reverse().slice(0,L);return new m({xyShape:d.T.fromZippedArray(d.Zipped.sortByX(D))})}else return this}truncate(L,N){return new m({xyShape:d.T.fromZippedArray(d.Zipped.filterByX(d.T.zip(this.xyShape),R=>R>=(L??-1/0)&&R<=(N??1/0)))})}xToY(L){var N;return s.makeDiscrete((N=d.XtoY.stepwiseIfAtX(this.xyShape,L))!==null&&N!==void 0?N:0)}integralXtoY(L){return d.XtoY.linear(this.integral().xyShape,L)}integralYtoX(L){return d.YtoX.linear(this.integral().xyShape,L)}mean(){const L=this.xyShape;return L.xs.reduce((N,R,D)=>N+R*L.ys[D],0)}variance(){return d.Analysis.getVarianceDangerously(this,L=>L.mean(),L=>L.shapeMap(d.T.square).mean())}}e.DiscreteShape=m;const y=()=>new f.ContinuousShape({xyShape:{xs:[-1/0],ys:[0]},interpolation:"Stepwise",integralSumCache:0,integralCache:void 0}),w=()=>new m({xyShape:d.T.empty,integralSumCache:0,integralCache:y()});e.empty=w;const _=A=>A.xyShape.ys.length===1&&A.xyShape.ys[0]===1;e.isFloat=_;const S=A=>A.xyShape;e.getShape=S;const C=(A,L,N,R=()=>{})=>{const D=d.PointwiseCombination.combine;return a.fmap(D(d.XtoY.discreteInterpolator,N,A.xyShape,L.xyShape),j=>new m({xyShape:j}))};e.combinePointwise=C;const $=(A,L,N=()=>{})=>{let R=(0,e.empty)();for(const D of A){const j=(0,e.combinePointwise)(R,D,L,N);if(!j.ok)return j;R=j.value}return a.Ok(R)};e.reduce=$;const k=(A,L,N)=>{var R;const D=L.xyShape,j=N.xyShape,U=d.T.length(D),H=d.T.length(j),Y=u.combineIntegralSums((ue,ve)=>ue*ve,L.integralSumCache,N.integralSumCache),Z=(0,c.convolutionOperationToFn)(A),Q=new Map;for(let ue=0;ue<=U-1;ue++)for(let ve=0;ve<=H-1;ve++){const le=Z(D.xs[ue],j.xs[ve]),de=(R=Q.get(le))!==null&&R!==void 0?R:0,me=D.ys[ue]*j.ys[ve];Q.set(le,de+me)}const ee=d.Zipped.sortByX([...Q.entries()]),oe=d.T.fromZippedArray(ee);return new m({xyShape:oe,integralSumCache:Y})};e.combineAlgebraically=k;const M=(A,L)=>{const N=A.normalize().xyShape;return(0,p.random_sample)(N.xs,{probs:N.ys,size:L})};e.sampleN=M}(s1e)),s1e}var Dp={},oT={},kun=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Oun=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Llt=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&kun(t,e,n);return Oun(t,e),t};Object.defineProperty(oT,"__esModule",{value:!0});oT.BaseDist=void 0;const l1e=Llt(di),c1e=Ro,Aun=Llt(OE);class Run{isNormalized(){return Math.abs(this.integralEndY()-1)<1e-7}stdev(){return l1e.Error((0,c1e.notYetImplemented)())}variance(){return l1e.Error((0,c1e.notYetImplemented)())}mode(){return l1e.Error((0,c1e.notYetImplemented)())}expectedConvolutionCost(){return Aun.OpCost.wildcardCost}}oT.BaseDist=Run;var rse={};Object.defineProperty(rse,"__esModule",{value:!0});rse.createSparkline=void 0;const Dlt=["","","","","","","",""],Tun=Dlt.length,Mun=(e,t)=>{const n=Math.ceil(t/e*Tun)-1;return Math.max(n,0)},Pun=(e,t=void 0)=>{if(e.length===0)return"";{const n=t??Math.max(...e);return e.map(r=>Mun(n,r)).map(r=>Dlt[r]).join("")}};rse.createSparkline=Pun;var Lun=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Dun=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ise=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Lun(t,e,n);return Dun(t,e),t};Object.defineProperty(Dp,"__esModule",{value:!0});Dp.expectedConvolutionCost=Dp.combinePointwise=Dp.combineAlgebraically=Dp.PointSetDist=void 0;const Iun=ise(x_()),Fun=q8(),aGe=ise(OE),GA=ise(di),$re=ise(nse()),Nun=oT,zun=Ro,jun=rse;class B5 extends Nun.BaseDist{constructor(t){super(),this.pointSet=t}toString(){return"Point Set Distribution"}max(){return this.pointSet.maxX()}min(){return this.pointSet.minX()}mean(){return this.pointSet.mean()}samplePointSet(t){const n=Math.random();return t.integralYtoX(n)}sample(){return this.samplePointSet(this.pointSet)}sampleN(t){const n=this.pointSet.integral(),r=this.pointSet.updateIntegralCache(n),i=new Array(t).fill(0);for(let a=0;a<=t-1;a++)i[a]=this.samplePointSet(r);return i}truncate(t,n){return t===void 0&&n===void 0?GA.Ok(this):GA.Ok(new B5(this.pointSet.truncate(t,n).normalize()))}normalize(){return new B5(this.pointSet.normalize())}integralEndY(){return this.pointSet.integralEndY()}pdf(t){const n=this.pointSet.xToY(t);return GA.Ok(n.continuous+n.discrete)}inv(t){return this.pointSet.integralYtoX(t)}cdf(t){return this.pointSet.integralXtoY(t)}toPointSetDist(){return GA.Ok(this)}toSparkline(t){const n=this.pointSet.toContinuous();if(!n)return GA.Error((0,zun.sparklineError)("Cannot find the sparkline of a discrete distribution"));const r=n.downsampleEquallyOverX(t);return GA.Ok((0,jun.createSparkline)(Iun.getShape(r).ys))}mapYResult(t,n,r){return GA.fmap(this.pointSet.mapYResult(t,n,r),i=>new B5(i))}}Dp.PointSetDist=B5;const Bun=(e,t,n)=>new B5($re.combineAlgebraically(e,t.pointSet,n.pointSet));Dp.combineAlgebraically=Bun;const Hun=(e,t,n,r=()=>{},i=()=>{})=>GA.fmap($re.combinePointwise(e.pointSet,t.pointSet,n,r,i),a=>new B5(a));Dp.combinePointwise=Hun;const Uun=e=>{if($re.isContinuous(e.pointSet))return aGe.OpCost.continuousCost;if($re.isDiscrete(e.pointSet))return e.pointSet.xyShape.xs.length;if(e.pointSet instanceof Fun.MixedShape)return aGe.OpCost.mixedCost;throw new Error(`Unknown PointSet ${e}`)};Dp.expectedConvolutionCost=Uun;var ase={},ose={},Vun=Rlt;function Wun(e,t){var n=[];return Vun(e,function(r,i,a){t(r,i,a)&&n.push(r)}),n}var Gun=Wun,qun=jke,Yun=Gun,Kun=Qoe,Xun=cw;function Zun(e,t){var n=Xun(e)?qun:Yun;return n(e,Kun(t))}var Qun=Zun,Jun=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ose,"__esModule",{value:!0});ose.kde=void 0;const eln=Jun(Qun),tln=(e,t,n,r)=>{e=(0,eln.default)(e,isFinite);const i=e.length;if(i===0)return{usedWidth:n,xs:[],ys:[]};const a=e[0],s=e[i-1]-a,u=(t-1)*n/(s+2*n),f=Math.max(1,Math.floor(u)),d=t-1-2*f,c=s/d;n=f*c;const h=a-n,p=Array(t+2*f).fill(0),v=1/c;e.forEach(C=>{const $=C-h,k=Math.floor($*v),M=$-k*c,A=c-M;p[f+k+1]+=A,p[f+k+2]+=M});const m=r/(n*n),y=Array(t).fill(0).map((C,$)=>h+$*c);let w=0,_=0;const S=y.map((C,$)=>{const k=p[$]-2*p[$+f]+p[$+2*f];return w+=k,_+=w,m*_});return{usedWidth:n,xs:y,ys:S}};ose.kde=tln;var SN={},nln=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),rln=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ilt=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&nln(t,e,n);return rln(t,e),t};Object.defineProperty(SN,"__esModule",{value:!0});SN.nrd=SN.nrd0=void 0;const oGe=Ilt(E3),Flt=Ilt(kE),Nlt=.75,iln=1-Nlt,zlt=1.34,aln=1,oln=.9,sln=1.06,jlt=-.2,Blt=e=>oGe.percentile(e,Nlt)-oGe.percentile(e,iln),uln=e=>{const t=Math.sqrt(Flt.variance(e)),n=Math.min(t,Blt(e)/zlt),r=Math.abs(e[1]),i=isNaN(n)?isNaN(t)?isNaN(r)?aln:r:t:n;return oln*i*Math.pow(e.length,jlt)};SN.nrd0=uln;const lln=e=>{const t=Blt(e)/zlt;return sln*Math.min(Math.sqrt(Flt.variance(e)),t)*Math.pow(e.length,jlt)};SN.nrd=lln;var sse={};Object.defineProperty(sse,"__esModule",{value:!0});sse.splitContinuousAndDiscrete=void 0;const cln=(e,t)=>{const n=[],r=[],i=[];if(!Number.isInteger(t))throw new Error("Minimum discrete weight must be an integer");if(t<=1)throw new Error("Minimum discrete weight must be at least 2");const a=t-1,s=e.length;let u=0;for(;u<s-a;){const f=e[u];if(f!==e[u+a])n.push(f),u++;else{const d=u;let c=a;const h=v=>v<s&&e[v]===f;for(;h(d+c*2);)c*=2;let p=d+c;for(u=Math.min(p+c,s);u-p>1;){const v=p+Math.floor((u-p)/2);e[v]===f?p=v:u=v}i.push(f),r.push(u-d)}}return n.push(...e.slice(u)),{continuousPart:n,discretePart:{xs:i,ys:r}}};sse.splitContinuousAndDiscrete=cln;var fln=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),dln=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hln=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&fln(t,e,n);return dln(t,e),t};Object.defineProperty(ase,"__esModule",{value:!0});ase.samplesToPointSetDist=void 0;const gln=ose,pln=SN,vln=sse,mln=hln(kE),yln=e=>Math.max(20,e.length/50),bln=(e,t,n)=>{e=mln.sort(e);const{continuousPart:r,discretePart:i}=(0,vln.splitContinuousAndDiscrete)(e,yln(e)),a=r.length;let s=1/e.length,u;if(a<=5)s=1/(e.length-a);else if(r[0]===r[a-1])i.xs.push(a),i.ys.push(r[0]);else{const f=n??(0,pln.nrd0)(r),{xs:d,ys:c}=(0,gln.kde)(r,t,f,s);u={xs:d,ys:c}}return i.ys=i.ys.map(f=>f*s),{continuousDist:u,discreteDist:i}};ase.samplesToPointSetDist=bln;(function(e){var t=$e&&$e.__createBinding||(Object.create?function(R,D,j,U){U===void 0&&(U=j);var H=Object.getOwnPropertyDescriptor(D,j);(!H||("get"in H?!D.__esModule:H.writable||H.configurable))&&(H={enumerable:!0,get:function(){return D[j]}}),Object.defineProperty(R,U,H)}:function(R,D,j,U){U===void 0&&(U=j),R[U]=D[j]}),n=$e&&$e.__setModuleDefault||(Object.create?function(R,D){Object.defineProperty(R,"default",{enumerable:!0,value:D})}:function(R,D){R.default=D}),r=$e&&$e.__importStar||function(R){if(R&&R.__esModule)return R;var D={};if(R!=null)for(var j in R)j!=="default"&&Object.prototype.hasOwnProperty.call(R,j)&&t(D,R,j);return n(D,R),D};Object.defineProperty(e,"__esModule",{value:!0}),e.maxOfFloat=e.minOfFloat=e.maxOfTwo=e.minOfTwo=e.mixture=e.mapN=e.map3=e.map2=e.Error=e.SampleSetDist=void 0;const i=r(di),a=r(kE),s=r(E3),u=r(lE()),f=r(Pk),d=x_(),c=lE(),h=Dp,p=oT,v=Ro,m=ase,y=q8();class w extends p.BaseDist{constructor(D){super(),this.samples=D}static make(D){return D.length>5?i.Ok(new w(D)):i.Error({type:"TooFewSamples"})}static fromFn(D,j){j.sampleCount;const U=[];for(let H=0;H<j.sampleCount;H++)U.push(D(H));return w.make(U)}toString(){return"Sample Set Distribution"}toSparkline(D,j){return i.bind(this.toPointSetDist({xyPointLength:D*3,sampleCount:j.sampleCount}),U=>U.toSparkline(D))}static fromDist(D,j){return w.make(D.sampleN(j.sampleCount))}integralEndY(){return 1}normalize(){return this}min(){return Math.min(...this.samples)}max(){return Math.max(...this.samples)}mean(){return a.mean(this.samples)}truncate(D,j){let U=this.samples;return D!==void 0&&(U=U.filter(H=>H>=D)),j!==void 0&&(U=U.filter(H=>H<=j)),w.make(U)}sample(){const D=Math.floor(Math.random()*this.samples.length);return this.samples[D]}sampleN(D){if(D<=this.samples.length)return this.samples.slice(0,D);{const j=[];for(let U=1;U<=D;U++)j.push(this.sample());return j}}cdf(D){return this.samples.reduce((U,H)=>U+(H<=D?1:0),0)/this.samples.length}inv(D){const j=a.sort(this.samples);return s.percentile(j,D)}pdf(D,j){const U=this.toPointSetDist(j.env);return U.ok?U.value.pdf(D):U}stdev(){return i.Ok(a.stdev(this.samples))}variance(){return i.Ok(a.variance(this.samples))}mode(){return i.Error((0,v.otherError)("Not implemented, https://github.com/quantified-uncertainty/squiggle/issues/1392"))}toPointSetDist(D){const j=(0,m.samplesToPointSetDist)(this.samples,D.xyPointLength,void 0),U=(0,y.buildMixedShape)({continuous:j.continuousDist?new d.ContinuousShape({xyShape:j.continuousDist}):void 0,discrete:new c.DiscreteShape({xyShape:j.discreteDist})});return U?i.Ok(new h.PointSetDist(U)):i.Error((0,v.tooFewSamplesForConversionToPointSet)())}samplesMap(D){return _(this.samples.length,j=>D(this.samples[j]))}}e.SampleSetDist=w,e.Error={pointsetConversionErrorToString(R){if(R==="TooFewSamplesForConversionToPointSet")return"Too Few Samples to convert to point set";throw new $e.Error("Internal error")},toString(R){switch(R.type){case"TooFewSamples":return"Too few samples when constructing sample set";case"NonNumericInput":return`Found a non-number in input: ${R.value}`;case"OperationError":return R.value.toString();default:throw new $e.Error(`Internal error: unexpected error type ${R.type}`)}}};const _=(R,D)=>{const j=[];for(let U=0;U<R;U++){const H=D(U);if(!H.ok)return i.Error((0,v.distOperationError)(H.value));j.push(H.value)}return w.make(j)},S=({fn:R,t1:D,t2:j})=>{const U=Math.min(D.samples.length,j.samples.length);return _(U,H=>R(D.samples[H],j.samples[H]))};e.map2=S;const C=({fn:R,t1:D,t2:j,t3:U})=>{const H=Math.min(D.samples.length,j.samples.length,U.samples.length);return _(H,Y=>R(D.samples[Y],j.samples[Y],U.samples[Y]))};e.map3=C;const $=({fn:R,t1:D})=>{const j=Math.max(...D.map(U=>U.samples.length));return _(j,U=>R(D.map(H=>U<H.samples.length?H.samples[U]:void 0).filter(H=>H!==void 0)))};e.mapN=$;const k=(R,D)=>{const j=R.map(Z=>Z[0]),U=R.reduce((Z,Q)=>Z+Q[1],0),Y=u.sampleN(new c.DiscreteShape({xyShape:f.T.fromZippedArray(R.map(([,Z],Q)=>[Q,Z/U]))}),D).map((Z,Q)=>{const ee=j[Z];if(ee.samples.length<Q)throw new $e.Error("Mixture unreachable error");return ee.samples[Q]});return w.make(Y)};e.mixture=k;const M=(R,D)=>(0,e.map2)({fn:(j,U)=>i.Ok(Math.min(j,U)),t1:R,t2:D});e.minOfTwo=M;const A=(R,D)=>(0,e.map2)({fn:(j,U)=>i.Ok(Math.max(j,U)),t1:R,t2:D});e.maxOfTwo=A;const L=(R,D)=>R.samplesMap(j=>i.Ok(Math.min(j,D)));e.minOfFloat=L;const N=(R,D)=>R.samplesMap(j=>i.Ok(Math.max(j,D)));e.maxOfFloat=N})(G8);var yG={};Object.defineProperty(yG,"__esModule",{value:!0});yG.SqDistributionError=void 0;const wln=Ro;class _ln{constructor(t){this._value=t}toString(){return(0,wln.distErrorToString)(this._value)}}yG.SqDistributionError=_ln;var $2={},xln=vG,Sln=A8;function Eln(e){return Sln(e)&&xln(e)}var Cln=Eln,$ln=jke,kln=eG,Oln=Alt,Aln=wlt,Rln=Cln,Tln=Math.max;function Mln(e){if(!(e&&e.length))return[];var t=0;return e=$ln(e,function(n){if(Rln(n))return t=Tln(n.length,t),!0}),Aln(t,function(n){return kln(e,Oln(n))})}var Pln=Mln,Lln=Tlt,Dln=eG,Iln=Pln;function Fln(e,t){if(!(e&&e.length))return[];var n=Iln(e);return t==null?n:Dln(n,function(r){return Lln(t,void 0,r)})}var Nln=Fln,zln=Mlt,jln=Nln,Bln=zln(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n=typeof n=="function"?(e.pop(),n):void 0,jln(e,n)}),Hln=Bln,sGe;function Uln(){if(sGe)return $2;sGe=1;var e=$e&&$e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty($2,"__esModule",{value:!0}),$2.SqContinuousPointSet=$2.SqDiscretePointSet=$2.SqMixedPointSet=$2.wrapPointSet=void 0;const t=e(Hln),n=lse(),r=x_(),i=lE(),a=q8(),s=Dp;var u;(function(v){v.Mixed="Mixed",v.Discrete="Discrete",v.Continuous="Continuous"})(u||(u={}));const f=v=>{let m=v.xyShape.xs,y=v.xyShape.ys;return(0,t.default)(m,y,(w,_)=>({x:w,y:_}))},d=v=>{if(v instanceof r.ContinuousShape)return new p(v);if(v instanceof i.DiscreteShape)return new h(v);if(v instanceof a.MixedShape)return new c(v);throw new Error(`Unknown PointSet shape ${v}`)};$2.wrapPointSet=d;class c{constructor(m){this._value=m,this.tag=u.Mixed}get value(){return this._value}asShape(){const m=this.value;return{discrete:f(m.discrete),continuous:f(m.continuous)}}asDistribution(){return new n.SqPointSetDistribution(new s.PointSetDist(this.value))}}$2.SqMixedPointSet=c;class h{constructor(m){this._value=m,this.tag=u.Discrete}get value(){return this._value}asShape(){const m=this.value;return{discrete:f(m),continuous:[]}}asDistribution(){return new n.SqPointSetDistribution(new s.PointSetDist(this.value))}}$2.SqDiscretePointSet=h;class p{constructor(m){this._value=m,this.tag=u.Continuous}get value(){return this._value}asShape(){const m=this.value;return{discrete:[],continuous:f(m)}}asDistribution(){return new n.SqPointSetDistribution(new s.PointSetDist(this.value))}}return $2.SqContinuousPointSet=p,$2}var Ko={},kre={},Vln={get exports(){return kre},set exports(e){kre=e}};(function(e,t){(function(n,r){e.exports=r()})($e,function(){var n=function(r,i){var a=Array.prototype.concat,s=Array.prototype.slice,u=Object.prototype.toString;function f(S,C){var $=S>C?S:C;return r.pow(10,17-~~(r.log($>0?$:-$)*r.LOG10E))}var d=Array.isArray||function(C){return u.call(C)==="[object Array]"};function c(S){return u.call(S)==="[object Function]"}function h(S){return typeof S=="number"?S-S===0:!1}function p(S){return a.apply([],S)}function v(){return new v._init(arguments)}v.fn=v.prototype,v._init=function(C){if(d(C[0]))if(d(C[0][0])){c(C[1])&&(C[0]=v.map(C[0],C[1]));for(var $=0;$<C[0].length;$++)this[$]=C[0][$];this.length=C[0].length}else this[0]=c(C[1])?v.map(C[0],C[1]):C[0],this.length=1;else if(h(C[0]))this[0]=v.seq.apply(null,C),this.length=1;else{if(C[0]instanceof v)return v(C[0].toArray());this[0]=[],this.length=1}return this},v._init.prototype=v.prototype,v._init.constructor=v,v.utils={calcRdx:f,isArray:d,isFunction:c,isNumber:h,toVector:p},v._random_fn=r.random,v.setRandom=function(C){if(typeof C!="function")throw new TypeError("fn is not a function");v._random_fn=C},v.extend=function(C){var $,k;if(arguments.length===1){for(k in C)v[k]=C[k];return this}for($=1;$<arguments.length;$++)for(k in arguments[$])C[k]=arguments[$][k];return C},v.rows=function(C){return C.length||1},v.cols=function(C){return C[0].length||1},v.dimensions=function(C){return{rows:v.rows(C),cols:v.cols(C)}},v.row=function(C,$){return d($)?$.map(function(k){return v.row(C,k)}):C[$]},v.rowa=function(C,$){return v.row(C,$)},v.col=function(C,$){if(d($)){var k=v.arange(C.length).map(function(){return new Array($.length)});return $.forEach(function(L,N){v.arange(C.length).forEach(function(R){k[R][N]=C[R][L]})}),k}for(var M=new Array(C.length),A=0;A<C.length;A++)M[A]=[C[A][$]];return M},v.cola=function(C,$){return v.col(C,$).map(function(k){return k[0]})},v.diag=function(C){for(var $=v.rows(C),k=new Array($),M=0;M<$;M++)k[M]=[C[M][M]];return k},v.antidiag=function(C){for(var $=v.rows(C)-1,k=new Array($),M=0;$>=0;$--,M++)k[M]=[C[M][$]];return k},v.transpose=function(C){var $=[],k,M,A,L,N;for(d(C[0])||(C=[C]),M=C.length,A=C[0].length,N=0;N<A;N++){for(k=new Array(M),L=0;L<M;L++)k[L]=C[L][N];$.push(k)}return $.length===1?$[0]:$},v.map=function(C,$,k){var M,A,L,N,R;for(d(C[0])||(C=[C]),A=C.length,L=C[0].length,N=k?C:new Array(A),M=0;M<A;M++)for(N[M]||(N[M]=new Array(L)),R=0;R<L;R++)N[M][R]=$(C[M][R],M,R);return N.length===1?N[0]:N},v.cumreduce=function(C,$,k){var M,A,L,N,R;for(d(C[0])||(C=[C]),A=C.length,L=C[0].length,N=k?C:new Array(A),M=0;M<A;M++)for(N[M]||(N[M]=new Array(L)),L>0&&(N[M][0]=C[M][0]),R=1;R<L;R++)N[M][R]=$(N[M][R-1],C[M][R]);return N.length===1?N[0]:N},v.alter=function(C,$){return v.map(C,$,!0)},v.create=function(C,$,k){var M=new Array(C),A,L;for(c($)&&(k=$,$=C),A=0;A<C;A++)for(M[A]=new Array($),L=0;L<$;L++)M[A][L]=k(A,L);return M};function m(){return 0}v.zeros=function(C,$){return h($)||($=C),v.create(C,$,m)};function y(){return 1}v.ones=function(C,$){return h($)||($=C),v.create(C,$,y)},v.rand=function(C,$){return h($)||($=C),v.create(C,$,v._random_fn)};function w(S,C){return S===C?1:0}v.identity=function(C,$){return h($)||($=C),v.create(C,$,w)},v.symmetric=function(C){var $=C.length,k,M;if(C.length!==C[0].length)return!1;for(k=0;k<$;k++)for(M=0;M<$;M++)if(C[M][k]!==C[k][M])return!1;return!0},v.clear=function(C){return v.alter(C,m)},v.seq=function(C,$,k,M){c(M)||(M=!1);var A=[],L=f(C,$),N=($*L-C*L)/((k-1)*L),R=C,D;for(D=0;R<=$&&D<k;D++,R=(C*L+N*L*D)/L)A.push(M?M(R,D):R);return A},v.arange=function(C,$,k){var M=[],A;if(k=k||1,$===i&&($=C,C=0),C===$||k===0)return[];if(C<$&&k<0)return[];if(C>$&&k>0)return[];if(k>0)for(A=C;A<$;A+=k)M.push(A);else for(A=C;A>$;A+=k)M.push(A);return M},v.slice=function(){function S($,k,M,A){var L,N=[],R=$.length;if(k===i&&M===i&&A===i)return v.copy($);if(k=k||0,M=M||$.length,k=k>=0?k:R+k,M=M>=0?M:R+M,A=A||1,k===M||A===0)return[];if(k<M&&A<0)return[];if(k>M&&A>0)return[];if(A>0)for(L=k;L<M;L+=A)N.push($[L]);else for(L=k;L>M;L+=A)N.push($[L]);return N}function C($,k){var M,A;if(k=k||{},h(k.row)){if(h(k.col))return $[k.row][k.col];var L=v.rowa($,k.row);return M=k.col||{},S(L,M.start,M.end,M.step)}if(h(k.col)){var N=v.cola($,k.col);return A=k.row||{},S(N,A.start,A.end,A.step)}A=k.row||{},M=k.col||{};var R=S($,A.start,A.end,A.step);return R.map(function(D){return S(D,M.start,M.end,M.step)})}return C}(),v.sliceAssign=function(C,$,k){var M,A;if(h($.row)){if(h($.col))return C[$.row][$.col]=k;$.col=$.col||{},$.col.start=$.col.start||0,$.col.end=$.col.end||C[0].length,$.col.step=$.col.step||1,M=v.arange($.col.start,r.min(C.length,$.col.end),$.col.step);var L=$.row;return M.forEach(function(R,D){C[L][R]=k[D]}),C}if(h($.col)){$.row=$.row||{},$.row.start=$.row.start||0,$.row.end=$.row.end||C.length,$.row.step=$.row.step||1,A=v.arange($.row.start,r.min(C[0].length,$.row.end),$.row.step);var N=$.col;return A.forEach(function(R,D){C[R][N]=k[D]}),C}return k[0].length===i&&(k=[k]),$.row.start=$.row.start||0,$.row.end=$.row.end||C.length,$.row.step=$.row.step||1,$.col.start=$.col.start||0,$.col.end=$.col.end||C[0].length,$.col.step=$.col.step||1,A=v.arange($.row.start,r.min(C.length,$.row.end),$.row.step),M=v.arange($.col.start,r.min(C[0].length,$.col.end),$.col.step),A.forEach(function(R,D){M.forEach(function(j,U){C[R][j]=k[D][U]})}),C},v.diagonal=function(C){var $=v.zeros(C.length,C.length);return C.forEach(function(k,M){$[M][M]=k}),$},v.copy=function(C){return C.map(function($){return h($)?$:$.map(function(k){return k})})};var _=v.prototype;return _.length=0,_.push=Array.prototype.push,_.sort=Array.prototype.sort,_.splice=Array.prototype.splice,_.slice=Array.prototype.slice,_.toArray=function(){return this.length>1?s.call(this):s.call(this)[0]},_.map=function(C,$){return v(v.map(this,C,$))},_.cumreduce=function(C,$){return v(v.cumreduce(this,C,$))},_.alter=function(C){return v.alter(this,C),this},function(S){for(var C=0;C<S.length;C++)(function($){_[$]=function(k){var M=this,A;return k?(setTimeout(function(){k.call(M,_[$].call(M))}),this):(A=v[$](this),d(A)?v(A):A)}})(S[C])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(S){for(var C=0;C<S.length;C++)(function($){_[$]=function(k,M){var A=this;return M?(setTimeout(function(){M.call(A,_[$].call(A,k))}),this):v(v[$](this,k))}})(S[C])}("row col".split(" ")),function(S){for(var C=0;C<S.length;C++)(function($){_[$]=function(){return v(v[$].apply(null,arguments))}})(S[C])}("create zeros ones rand identity".split(" ")),v}(Math);return function(r,i){var a=r.utils.isFunction;function s(d,c){return d-c}function u(d,c,h){return i.max(c,i.min(d,h))}r.sum=function(c){for(var h=0,p=c.length;--p>=0;)h+=c[p];return h},r.sumsqrd=function(c){for(var h=0,p=c.length;--p>=0;)h+=c[p]*c[p];return h},r.sumsqerr=function(c){for(var h=r.mean(c),p=0,v=c.length,m;--v>=0;)m=c[v]-h,p+=m*m;return p},r.sumrow=function(c){for(var h=0,p=c.length;--p>=0;)h+=c[p];return h},r.product=function(c){for(var h=1,p=c.length;--p>=0;)h*=c[p];return h},r.min=function(c){for(var h=c[0],p=0;++p<c.length;)c[p]<h&&(h=c[p]);return h},r.max=function(c){for(var h=c[0],p=0;++p<c.length;)c[p]>h&&(h=c[p]);return h},r.unique=function(c){for(var h={},p=[],v=0;v<c.length;v++)h[c[v]]||(h[c[v]]=!0,p.push(c[v]));return p},r.mean=function(c){return r.sum(c)/c.length},r.meansqerr=function(c){return r.sumsqerr(c)/c.length},r.geomean=function(c){var h=c.map(i.log),p=r.mean(h);return i.exp(p)},r.median=function(c){var h=c.length,p=c.slice().sort(s);return h&1?p[h/2|0]:(p[h/2-1]+p[h/2])/2},r.cumsum=function(c){return r.cumreduce(c,function(h,p){return h+p})},r.cumprod=function(c){return r.cumreduce(c,function(h,p){return h*p})},r.diff=function(c){var h=[],p=c.length,v;for(v=1;v<p;v++)h.push(c[v]-c[v-1]);return h},r.rank=function(d){var c,h=[],p={};for(c=0;c<d.length;c++){var v=d[c];p[v]?p[v]++:(p[v]=1,h.push(v))}var m=h.sort(s),y={},w=1;for(c=0;c<m.length;c++){var v=m[c],_=p[v],S=w,C=w+_-1,$=(S+C)/2;y[v]=$,w+=_}return d.map(function(k){return y[k]})},r.mode=function(c){var h=c.length,p=c.slice().sort(s),v=1,m=0,y=0,w=[],_;for(_=0;_<h;_++)p[_]===p[_+1]?v++:(v>m?(w=[p[_]],m=v,y=0):v===m&&(w.push(p[_]),y++),v=1);return y===0?w[0]:w},r.range=function(c){return r.max(c)-r.min(c)},r.variance=function(c,h){return r.sumsqerr(c)/(c.length-(h?1:0))},r.pooledvariance=function(c){var h=c.reduce(function(v,m){return v+r.sumsqerr(m)},0),p=c.reduce(function(v,m){return v+m.length},0);return h/(p-c.length)},r.deviation=function(d){for(var c=r.mean(d),h=d.length,p=new Array(h),v=0;v<h;v++)p[v]=d[v]-c;return p},r.stdev=function(c,h){return i.sqrt(r.variance(c,h))},r.pooledstdev=function(c){return i.sqrt(r.pooledvariance(c))},r.meandev=function(c){for(var h=r.mean(c),p=[],v=c.length-1;v>=0;v--)p.push(i.abs(c[v]-h));return r.mean(p)},r.meddev=function(c){for(var h=r.median(c),p=[],v=c.length-1;v>=0;v--)p.push(i.abs(c[v]-h));return r.median(p)},r.coeffvar=function(c){return r.stdev(c)/r.mean(c)},r.quartiles=function(c){var h=c.length,p=c.slice().sort(s);return[p[i.round(h/4)-1],p[i.round(h/2)-1],p[i.round(h*3/4)-1]]},r.quantiles=function(c,h,p,v){var m=c.slice().sort(s),y=[h.length],w=c.length,_,S,C,$,k,M;for(typeof p>"u"&&(p=3/8),typeof v>"u"&&(v=3/8),_=0;_<h.length;_++)S=h[_],C=p+S*(1-p-v),$=w*S+C,k=i.floor(u($,1,w-1)),M=u($-k,0,1),y[_]=(1-M)*m[k-1]+M*m[k];return y},r.percentile=function(c,h,p){var v=c.slice().sort(s),m=h*(v.length+(p?1:-1))+(p?0:1),y=parseInt(m),w=m-y;return y+1<v.length?v[y-1]+w*(v[y]-v[y-1]):v[y-1]},r.percentileOfScore=function(c,h,p){var v=0,m=c.length,y=!1,w,_;for(p==="strict"&&(y=!0),_=0;_<m;_++)w=c[_],(y&&w<h||!y&&w<=h)&&v++;return v/m},r.histogram=function(c,h){h=h||4;var p=r.min(c),v=(r.max(c)-p)/h,m=c.length,y=[],w;for(w=0;w<h;w++)y[w]=0;for(w=0;w<m;w++)y[i.min(i.floor((c[w]-p)/v),h-1)]+=1;return y},r.covariance=function(c,h){var p=r.mean(c),v=r.mean(h),m=c.length,y=new Array(m),w;for(w=0;w<m;w++)y[w]=(c[w]-p)*(h[w]-v);return r.sum(y)/(m-1)},r.corrcoeff=function(c,h){return r.covariance(c,h)/r.stdev(c,1)/r.stdev(h,1)},r.spearmancoeff=function(d,c){return d=r.rank(d),c=r.rank(c),r.corrcoeff(d,c)},r.stanMoment=function(c,h){for(var p=r.mean(c),v=r.stdev(c),m=c.length,y=0,w=0;w<m;w++)y+=i.pow((c[w]-p)/v,h);return y/c.length},r.skewness=function(c){return r.stanMoment(c,3)},r.kurtosis=function(c){return r.stanMoment(c,4)-3};var f=r.prototype;(function(d){for(var c=0;c<d.length;c++)(function(h){f[h]=function(p,v){var m=[],y=0,w=this;if(a(p)&&(v=p,p=!1),v)return setTimeout(function(){v.call(w,f[h].call(w,p))}),this;if(this.length>1){for(w=p===!0?this:this.transpose();y<w.length;y++)m[y]=r[h](w[y]);return m}return r[h](this[0],p)}})(d[c])})("cumsum cumprod".split(" ")),function(d){for(var c=0;c<d.length;c++)(function(h){f[h]=function(p,v){var m=[],y=0,w=this;if(a(p)&&(v=p,p=!1),v)return setTimeout(function(){v.call(w,f[h].call(w,p))}),this;if(this.length>1){for(h!=="sumrow"&&(w=p===!0?this:this.transpose());y<w.length;y++)m[y]=r[h](w[y]);return p===!0?r[h](r.utils.toVector(m)):m}return r[h](this[0],p)}})(d[c])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(d){for(var c=0;c<d.length;c++)(function(h){f[h]=function(){var p=[],v=0,m=this,y=Array.prototype.slice.call(arguments),w;if(a(y[y.length-1])){w=y[y.length-1];var _=y.slice(0,y.length-1);return setTimeout(function(){w.call(m,f[h].apply(m,_))}),this}else{w=void 0;var S=function($){return r[h].apply(m,[$].concat(y))}}if(this.length>1){for(m=m.transpose();v<m.length;v++)p[v]=S(m[v]);return p}return S(this[0])}})(d[c])}("quantiles percentileOfScore".split(" "))}(n,Math),function(r,i){r.gammaln=function(s){var u=0,f=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],d=1.000000000190015,c,h,p;for(p=(h=c=s)+5.5,p-=(c+.5)*i.log(p);u<6;u++)d+=f[u]/++h;return i.log(2.5066282746310007*d/c)-p},r.loggam=function(s){var u,f,d,c,h,p,v,m=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(u=s,v=0,s==1||s==2)return 0;for(s<=7&&(v=i.floor(7-s),u=s+v),f=1/(u*u),d=2*i.PI,h=m[9],p=8;p>=0;p--)h*=f,h+=m[p];if(c=h/u+.5*i.log(d)+(u-.5)*i.log(u)-u,s<=7)for(p=1;p<=v;p++)c-=i.log(u-1),u-=1;return c},r.gammafn=function(s){var u=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],f=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],d=!1,c=0,h=0,p=0,v=s,m,y,w,_;if(s>171.6243769536076)return 1/0;if(v<=0)if(_=v%1+36e-17,_)d=(v&1?-1:1)*i.PI/i.sin(i.PI*_),v=1-v;else return 1/0;for(w=v,v<1?y=v++:y=(v-=c=(v|0)-1)-1,m=0;m<8;++m)p=(p+u[m])*y,h=h*y+f[m];if(_=p/h+1,w<v)_/=w;else if(w>v)for(m=0;m<c;++m)_*=v,v++;return d&&(_=d/_),_},r.gammap=function(s,u){return r.lowRegGamma(s,u)*r.gammafn(s)},r.lowRegGamma=function(s,u){var f=r.gammaln(s),d=s,c=1/s,h=c,p=u+1-s,v=1/1e-30,m=1/p,y=m,w=1,_=-~(i.log(s>=1?s:1/s)*8.5+s*.4+17),S;if(u<0||s<=0)return NaN;if(u<s+1){for(;w<=_;w++)c+=h*=u/++d;return c*i.exp(-u+s*i.log(u)-f)}for(;w<=_;w++)S=-w*(w-s),p+=2,m=S*m+p,v=p+S/v,m=1/m,y*=m*v;return 1-y*i.exp(-u+s*i.log(u)-f)},r.factorialln=function(s){return s<0?NaN:r.gammaln(s+1)},r.factorial=function(s){return s<0?NaN:r.gammafn(s+1)},r.combination=function(s,u){return s>170||u>170?i.exp(r.combinationln(s,u)):r.factorial(s)/r.factorial(u)/r.factorial(s-u)},r.combinationln=function(s,u){return r.factorialln(s)-r.factorialln(u)-r.factorialln(s-u)},r.permutation=function(s,u){return r.factorial(s)/r.factorial(s-u)},r.betafn=function(s,u){if(!(s<=0||u<=0))return s+u>170?i.exp(r.betaln(s,u)):r.gammafn(s)*r.gammafn(u)/r.gammafn(s+u)},r.betaln=function(s,u){return r.gammaln(s)+r.gammaln(u)-r.gammaln(s+u)},r.betacf=function(s,u,f){var d=1e-30,c=1,h=u+f,p=u+1,v=u-1,m=1,y=1-h*s/p,w,_,S,C;for(i.abs(y)<d&&(y=d),y=1/y,C=y;c<=100&&(w=2*c,_=c*(f-c)*s/((v+w)*(u+w)),y=1+_*y,i.abs(y)<d&&(y=d),m=1+_/m,i.abs(m)<d&&(m=d),y=1/y,C*=y*m,_=-(u+c)*(h+c)*s/((u+w)*(p+w)),y=1+_*y,i.abs(y)<d&&(y=d),m=1+_/m,i.abs(m)<d&&(m=d),y=1/y,S=y*m,C*=S,!(i.abs(S-1)<3e-7));c++);return C},r.gammapinv=function(s,u){var f=0,d=u-1,c=1e-8,h=r.gammaln(u),p,v,m,y,w,_,S;if(s>=1)return i.max(100,u+100*i.sqrt(u));if(s<=0)return 0;for(u>1?(_=i.log(d),S=i.exp(d*(_-1)-h),w=s<.5?s:1-s,m=i.sqrt(-2*i.log(w)),p=(2.30753+m*.27061)/(1+m*(.99229+m*.04481))-m,s<.5&&(p=-p),p=i.max(.001,u*i.pow(1-1/(9*u)-p/(3*i.sqrt(u)),3))):(m=1-u*(.253+u*.12),s<m?p=i.pow(s/m,1/u):p=1-i.log(1-(s-m)/(1-m)));f<12;f++){if(p<=0)return 0;if(v=r.lowRegGamma(u,p)-s,u>1?m=S*i.exp(-(p-d)+d*(i.log(p)-_)):m=i.exp(-p+d*i.log(p)-h),y=v/m,p-=m=y/(1-.5*i.min(1,y*((u-1)/p-1))),p<=0&&(p=.5*(p+m)),i.abs(m)<c*p)break}return p},r.erf=function(s){var u=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,15626441722e-18,-85238095915e-18,6529054439e-18,5059343495e-18,-991364156e-18,-227365122e-18,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],f=u.length-1,d=!1,c=0,h=0,p,v,m,y;for(s<0&&(s=-s,d=!0),p=2/(2+s),v=4*p-2;f>0;f--)m=c,c=v*c-h+u[f],h=m;return y=p*i.exp(-s*s+.5*(u[0]+v*c)-h),d?y-1:1-y},r.erfc=function(s){return 1-r.erf(s)},r.erfcinv=function(s){var u=0,f,d,c,h;if(s>=2)return-100;if(s<=0)return 100;for(h=s<1?s:2-s,c=i.sqrt(-2*i.log(h/2)),f=-.70711*((2.30753+c*.27061)/(1+c*(.99229+c*.04481))-c);u<2;u++)d=r.erfc(f)-h,f+=d/(1.1283791670955126*i.exp(-f*f)-f*d);return s<1?f:-f},r.ibetainv=function(s,u,f){var d=1e-8,c=u-1,h=f-1,p=0,v,m,y,w,_,S,C,$,k,M,A;if(s<=0)return 0;if(s>=1)return 1;for(u>=1&&f>=1?(y=s<.5?s:1-s,w=i.sqrt(-2*i.log(y)),C=(2.30753+w*.27061)/(1+w*(.99229+w*.04481))-w,s<.5&&(C=-C),$=(C*C-3)/6,k=2/(1/(2*u-1)+1/(2*f-1)),M=C*i.sqrt($+k)/k-(1/(2*f-1)-1/(2*u-1))*($+5/6-2/(3*k)),C=u/(u+f*i.exp(2*M))):(v=i.log(u/(u+f)),m=i.log(f/(u+f)),w=i.exp(u*v)/u,_=i.exp(f*m)/f,M=w+_,s<w/M?C=i.pow(u*M*s,1/u):C=1-i.pow(f*M*(1-s),1/f)),A=-r.gammaln(u)-r.gammaln(f)+r.gammaln(u+f);p<10;p++){if(C===0||C===1)return C;if(S=r.ibeta(C,u,f)-s,w=i.exp(c*i.log(C)+h*i.log(1-C)+A),_=S/w,C-=w=_/(1-.5*i.min(1,_*(c/C-h/(1-C)))),C<=0&&(C=.5*(C+w)),C>=1&&(C=.5*(C+w+1)),i.abs(w)<d*C&&p>0)break}return C},r.ibeta=function(s,u,f){var d=s===0||s===1?0:i.exp(r.gammaln(u+f)-r.gammaln(u)-r.gammaln(f)+u*i.log(s)+f*i.log(1-s));return s<0||s>1?!1:s<(u+1)/(u+f+2)?d*r.betacf(s,u,f)/u:1-d*r.betacf(1-s,f,u)/f},r.randn=function(s,u){var f,d,c,h,p;if(u||(u=s),s)return r.create(s,u,function(){return r.randn()});do f=r._random_fn(),d=1.7156*(r._random_fn()-.5),c=f-.449871,h=i.abs(d)+.386595,p=c*c+h*(.196*h-.25472*c);while(p>.27597&&(p>.27846||d*d>-4*i.log(f)*f*f));return d/f},r.randg=function(s,u,f){var d=s,c,h,p,v,m,y;if(f||(f=u),s||(s=1),u)return y=r.zeros(u,f),y.alter(function(){return r.randg(s)}),y;s<1&&(s+=1),c=s-1/3,h=1/i.sqrt(9*c);do{do m=r.randn(),v=1+h*m;while(v<=0);v=v*v*v,p=r._random_fn()}while(p>1-.331*i.pow(m,4)&&i.log(p)>.5*m*m+c*(1-v+i.log(v)));if(s==d)return c*v;do p=r._random_fn();while(p===0);return i.pow(p,1/d)*c*v},function(a){for(var s=0;s<a.length;s++)(function(u){r.fn[u]=function(){return r(r.map(this,function(f){return r[u](f)}))}})(a[s])}("gammaln gammafn factorial factorialln".split(" ")),function(a){for(var s=0;s<a.length;s++)(function(u){r.fn[u]=function(){return r(r[u].apply(null,arguments))}})(a[s])}("randn".split(" "))}(n,Math),function(r,i){(function(d){for(var c=0;c<d.length;c++)(function(h){r[h]=function p(v,m,y){return this instanceof p?(this._a=v,this._b=m,this._c=y,this):new p(v,m,y)},r.fn[h]=function(p,v,m){var y=r[h](p,v,m);return y.data=this,y},r[h].prototype.sample=function(p){var v=this._a,m=this._b,y=this._c;return p?r.alter(p,function(){return r[h].sample(v,m,y)}):r[h].sample(v,m,y)},function(p){for(var v=0;v<p.length;v++)(function(m){r[h].prototype[m]=function(y){var w=this._a,_=this._b,S=this._c;return!y&&y!==0&&(y=this.data),typeof y!="number"?r.fn.map.call(y,function(C){return r[h][m](C,w,_,S)}):r[h][m](y,w,_,S)}})(p[v])}("pdf cdf inv".split(" ")),function(p){for(var v=0;v<p.length;v++)(function(m){r[h].prototype[m]=function(){return r[h][m](this._a,this._b,this._c)}})(p[v])}("mean median mode variance".split(" "))})(d[c])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),r.extend(r.beta,{pdf:function(c,h,p){return c>1||c<0?0:h==1&&p==1?1:h<512&&p<512?i.pow(c,h-1)*i.pow(1-c,p-1)/r.betafn(h,p):i.exp((h-1)*i.log(c)+(p-1)*i.log(1-c)-r.betaln(h,p))},cdf:function(c,h,p){return c>1||c<0?(c>1)*1:r.ibeta(c,h,p)},inv:function(c,h,p){return r.ibetainv(c,h,p)},mean:function(c,h){return c/(c+h)},median:function(c,h){return r.ibetainv(.5,c,h)},mode:function(c,h){return(c-1)/(c+h-2)},sample:function(c,h){var p=r.randg(c);return p/(p+r.randg(h))},variance:function(c,h){return c*h/(i.pow(c+h,2)*(c+h+1))}}),r.extend(r.centralF,{pdf:function(c,h,p){var v,m,y;return c<0?0:h<=2?c===0&&h<2?1/0:c===0&&h===2?1:1/r.betafn(h/2,p/2)*i.pow(h/p,h/2)*i.pow(c,h/2-1)*i.pow(1+h/p*c,-(h+p)/2):(v=h*c/(p+c*h),m=p/(p+c*h),y=h*m/2,y*r.binomial.pdf((h-2)/2,(h+p-2)/2,v))},cdf:function(c,h,p){return c<0?0:r.ibeta(h*c/(h*c+p),h/2,p/2)},inv:function(c,h,p){return p/(h*(1/r.ibetainv(c,h/2,p/2)-1))},mean:function(c,h){return h>2?h/(h-2):void 0},mode:function(c,h){return c>2?h*(c-2)/(c*(h+2)):void 0},sample:function(c,h){var p=r.randg(c/2)*2,v=r.randg(h/2)*2;return p/c/(v/h)},variance:function(c,h){if(!(h<=4))return 2*h*h*(c+h-2)/(c*(h-2)*(h-2)*(h-4))}}),r.extend(r.cauchy,{pdf:function(c,h,p){return p<0?0:p/(i.pow(c-h,2)+i.pow(p,2))/i.PI},cdf:function(c,h,p){return i.atan((c-h)/p)/i.PI+.5},inv:function(d,c,h){return c+h*i.tan(i.PI*(d-.5))},median:function(c){return c},mode:function(c){return c},sample:function(c,h){return r.randn()*i.sqrt(1/(2*r.randg(.5)))*h+c}}),r.extend(r.chisquare,{pdf:function(c,h){return c<0?0:c===0&&h===2?.5:i.exp((h/2-1)*i.log(c)-c/2-h/2*i.log(2)-r.gammaln(h/2))},cdf:function(c,h){return c<0?0:r.lowRegGamma(h/2,c/2)},inv:function(d,c){return 2*r.gammapinv(d,.5*c)},mean:function(d){return d},median:function(c){return c*i.pow(1-2/(9*c),3)},mode:function(c){return c-2>0?c-2:0},sample:function(c){return r.randg(c/2)*2},variance:function(c){return 2*c}}),r.extend(r.exponential,{pdf:function(c,h){return c<0?0:h*i.exp(-h*c)},cdf:function(c,h){return c<0?0:1-i.exp(-h*c)},inv:function(d,c){return-i.log(1-d)/c},mean:function(d){return 1/d},median:function(d){return 1/d*i.log(2)},mode:function(){return 0},sample:function(c){return-1/c*i.log(r._random_fn())},variance:function(d){return i.pow(d,-2)}}),r.extend(r.gamma,{pdf:function(c,h,p){return c<0?0:c===0&&h===1?1/p:i.exp((h-1)*i.log(c)-c/p-r.gammaln(h)-h*i.log(p))},cdf:function(c,h,p){return c<0?0:r.lowRegGamma(h,c/p)},inv:function(d,c,h){return r.gammapinv(d,c)*h},mean:function(d,c){return d*c},mode:function(c,h){if(c>1)return(c-1)*h},sample:function(c,h){return r.randg(c)*h},variance:function(c,h){return c*h*h}}),r.extend(r.invgamma,{pdf:function(c,h,p){return c<=0?0:i.exp(-(h+1)*i.log(c)-p/c-r.gammaln(h)+h*i.log(p))},cdf:function(c,h,p){return c<=0?0:1-r.lowRegGamma(h,p/c)},inv:function(d,c,h){return h/r.gammapinv(1-d,c)},mean:function(d,c){return d>1?c/(d-1):void 0},mode:function(c,h){return h/(c+1)},sample:function(c,h){return h/r.randg(c)},variance:function(c,h){if(!(c<=2))return h*h/((c-1)*(c-1)*(c-2))}}),r.extend(r.kumaraswamy,{pdf:function(c,h,p){return c===0&&h===1?p:c===1&&p===1?h:i.exp(i.log(h)+i.log(p)+(h-1)*i.log(c)+(p-1)*i.log(1-i.pow(c,h)))},cdf:function(c,h,p){return c<0?0:c>1?1:1-i.pow(1-i.pow(c,h),p)},inv:function(c,h,p){return i.pow(1-i.pow(1-c,1/p),1/h)},mean:function(d,c){return c*r.gammafn(1+1/d)*r.gammafn(c)/r.gammafn(1+1/d+c)},median:function(c,h){return i.pow(1-i.pow(2,-1/h),1/c)},mode:function(c,h){if(c>=1&&h>=1&&c!==1&&h!==1)return i.pow((c-1)/(c*h-1),1/c)},variance:function(){throw new Error("variance not yet implemented")}}),r.extend(r.lognormal,{pdf:function(c,h,p){return c<=0?0:i.exp(-i.log(c)-.5*i.log(2*i.PI)-i.log(p)-i.pow(i.log(c)-h,2)/(2*p*p))},cdf:function(c,h,p){return c<0?0:.5+.5*r.erf((i.log(c)-h)/i.sqrt(2*p*p))},inv:function(d,c,h){return i.exp(-1.4142135623730951*h*r.erfcinv(2*d)+c)},mean:function(c,h){return i.exp(c+h*h/2)},median:function(c){return i.exp(c)},mode:function(c,h){return i.exp(c-h*h)},sample:function(c,h){return i.exp(r.randn()*h+c)},variance:function(c,h){return(i.exp(h*h)-1)*i.exp(2*c+h*h)}}),r.extend(r.noncentralt,{pdf:function(c,h,p){var v=1e-14;return i.abs(p)<v?r.studentt.pdf(c,h):i.abs(c)<v?i.exp(r.gammaln((h+1)/2)-p*p/2-.5*i.log(i.PI*h)-r.gammaln(h/2)):h/c*(r.noncentralt.cdf(c*i.sqrt(1+2/h),h+2,p)-r.noncentralt.cdf(c,h,p))},cdf:function(c,h,p){var v=1e-14,m=200;if(i.abs(p)<v)return r.studentt.cdf(c,h);var y=!1;c<0&&(y=!0,p=-p);for(var w=r.normal.cdf(-p,0,1),_=v+1,S=_,C=c*c/(c*c+h),$=0,k=i.exp(-p*p/2),M=i.exp(-p*p/2-.5*i.log(2)-r.gammaln(3/2))*p;$<m||S>v||_>v;)S=_,$>0&&(k*=p*p/(2*$),M*=p*p/(2*($+1/2))),_=k*r.beta.cdf(C,$+.5,h/2)+M*r.beta.cdf(C,$+1,h/2),w+=.5*_,$++;return y?1-w:w}}),r.extend(r.normal,{pdf:function(c,h,p){return i.exp(-.5*i.log(2*i.PI)-i.log(p)-i.pow(c-h,2)/(2*p*p))},cdf:function(c,h,p){return .5*(1+r.erf((c-h)/i.sqrt(2*p*p)))},inv:function(d,c,h){return-1.4142135623730951*h*r.erfcinv(2*d)+c},mean:function(d){return d},median:function(c){return c},mode:function(d){return d},sample:function(c,h){return r.randn()*h+c},variance:function(d,c){return c*c}}),r.extend(r.pareto,{pdf:function(c,h,p){return c<h?0:p*i.pow(h,p)/i.pow(c,p+1)},cdf:function(c,h,p){return c<h?0:1-i.pow(h/c,p)},inv:function(c,h,p){return h/i.pow(1-c,1/p)},mean:function(c,h){if(!(h<=1))return h*i.pow(c,h)/(h-1)},median:function(c,h){return c*(h*i.SQRT2)},mode:function(c){return c},variance:function(d,c){if(!(c<=2))return d*d*c/(i.pow(c-1,2)*(c-2))}}),r.extend(r.studentt,{pdf:function(c,h){return h=h>1e100?1e100:h,1/(i.sqrt(h)*r.betafn(.5,h/2))*i.pow(1+c*c/h,-((h+1)/2))},cdf:function(c,h){var p=h/2;return r.ibeta((c+i.sqrt(c*c+h))/(2*i.sqrt(c*c+h)),p,p)},inv:function(d,c){var h=r.ibetainv(2*i.min(d,1-d),.5*c,.5);return h=i.sqrt(c*(1-h)/h),d>.5?h:-h},mean:function(c){return c>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(c){return r.randn()*i.sqrt(c/(2*r.randg(c/2)))},variance:function(c){return c>2?c/(c-2):c>1?1/0:void 0}}),r.extend(r.weibull,{pdf:function(c,h,p){return c<0||h<0||p<0?0:p/h*i.pow(c/h,p-1)*i.exp(-i.pow(c/h,p))},cdf:function(c,h,p){return c<0?0:1-i.exp(-i.pow(c/h,p))},inv:function(d,c,h){return c*i.pow(-i.log(1-d),1/h)},mean:function(d,c){return d*r.gammafn(1+1/c)},median:function(c,h){return c*i.pow(i.log(2),1/h)},mode:function(c,h){return h<=1?0:c*i.pow((h-1)/h,1/h)},sample:function(c,h){return c*i.pow(-i.log(r._random_fn()),1/h)},variance:function(c,h){return c*c*r.gammafn(1+2/h)-i.pow(r.weibull.mean(c,h),2)}}),r.extend(r.uniform,{pdf:function(c,h,p){return c<h||c>p?0:1/(p-h)},cdf:function(c,h,p){return c<h?0:c<p?(c-h)/(p-h):1},inv:function(d,c,h){return c+d*(h-c)},mean:function(c,h){return .5*(c+h)},median:function(c,h){return r.mean(c,h)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(c,h){return c/2+h/2+(h/2-c/2)*(2*r._random_fn()-1)},variance:function(c,h){return i.pow(h-c,2)/12}});function a(d,c,h,p){for(var v=0,m=1,y=1,w=1,_=0,S=0,C;i.abs((y-S)/y)>p;)S=y,C=-(c+_)*(c+h+_)*d/(c+2*_)/(c+2*_+1),v=y+C*v,m=w+C*m,_=_+1,C=_*(h-_)*d/(c+2*_-1)/(c+2*_),y=v+C*y,w=m+C*w,v=v/w,m=m/w,y=y/w,w=1;return y/c}r.extend(r.binomial,{pdf:function(c,h,p){return p===0||p===1?h*p===c?1:0:r.combination(h,c)*i.pow(p,c)*i.pow(1-p,h-c)},cdf:function(c,h,p){var v,m=1e-10;if(c<0)return 0;if(c>=h)return 1;if(p<0||p>1||h<=0)return NaN;c=i.floor(c);var y=p,w=c+1,_=h-c,S=w+_,C=i.exp(r.gammaln(S)-r.gammaln(_)-r.gammaln(w)+w*i.log(y)+_*i.log(1-y));return y<(w+1)/(S+2)?v=C*a(y,w,_,m):v=1-C*a(1-y,_,w,m),i.round((1-v)*(1/m))/(1/m)}}),r.extend(r.negbin,{pdf:function(c,h,p){return c!==c>>>0?!1:c<0?0:r.combination(c+h-1,h-1)*i.pow(1-p,c)*i.pow(p,h)},cdf:function(c,h,p){var v=0,m=0;if(c<0)return 0;for(;m<=c;m++)v+=r.negbin.pdf(m,h,p);return v}}),r.extend(r.hypgeom,{pdf:function(c,h,p,v){if(c!==c|0)return!1;if(c<0||c<p-(h-v))return 0;if(c>v||c>p)return 0;if(p*2>h)return v*2>h?r.hypgeom.pdf(h-p-v+c,h,h-p,h-v):r.hypgeom.pdf(v-c,h,h-p,v);if(v*2>h)return r.hypgeom.pdf(p-c,h,p,h-v);if(p<v)return r.hypgeom.pdf(c,h,v,p);for(var m=1,y=0,w=0;w<c;w++){for(;m>1&&y<v;)m*=1-p/(h-y),y++;m*=(v-w)*(p-w)/((w+1)*(h-p-v+w+1))}for(;y<v;y++)m*=1-p/(h-y);return i.min(1,i.max(0,m))},cdf:function(c,h,p,v){if(c<0||c<p-(h-v))return 0;if(c>=v||c>=p)return 1;if(p*2>h)return v*2>h?r.hypgeom.cdf(h-p-v+c,h,h-p,h-v):1-r.hypgeom.cdf(v-c-1,h,h-p,v);if(v*2>h)return 1-r.hypgeom.cdf(p-c-1,h,p,h-v);if(p<v)return r.hypgeom.cdf(c,h,v,p);for(var m=1,y=1,w=0,_=0;_<c;_++){for(;m>1&&w<v;){var S=1-p/(h-w);y*=S,m*=S,w++}y*=(v-_)*(p-_)/((_+1)*(h-p-v+_+1)),m+=y}for(;w<v;w++)m*=1-p/(h-w);return i.min(1,i.max(0,m))}}),r.extend(r.poisson,{pdf:function(c,h){return h<0||c%1!==0||c<0?0:i.pow(h,c)*i.exp(-h)/r.factorial(c)},cdf:function(c,h){var p=[],v=0;if(c<0)return 0;for(;v<=c;v++)p.push(r.poisson.pdf(v,h));return r.sum(p)},mean:function(d){return d},variance:function(d){return d},sampleSmall:function(c){var h=1,p=0,v=i.exp(-c);do p++,h*=r._random_fn();while(h>v);return p-1},sampleLarge:function(c){var h=c,p,v,m,y,w,_,S,C,$,k;for(y=i.sqrt(h),w=i.log(h),S=.931+2.53*y,_=-.059+.02483*S,C=1.1239+1.1328/(S-3.4),$=.9277-3.6224/(S-2);;){if(v=i.random()-.5,m=i.random(),k=.5-i.abs(v),p=i.floor((2*_/k+S)*v+h+.43),k>=.07&&m<=$)return p;if(!(p<0||k<.013&&m>k)&&i.log(m)+i.log(C)-i.log(_/(k*k)+S)<=-h+p*w-r.loggam(p+1))return p}},sample:function(c){return c<10?this.sampleSmall(c):this.sampleLarge(c)}}),r.extend(r.triangular,{pdf:function(c,h,p,v){return p<=h||v<h||v>p?NaN:c<h||c>p?0:c<v?2*(c-h)/((p-h)*(v-h)):c===v?2/(p-h):2*(p-c)/((p-h)*(p-v))},cdf:function(c,h,p,v){return p<=h||v<h||v>p?NaN:c<=h?0:c>=p?1:c<=v?i.pow(c-h,2)/((p-h)*(v-h)):1-i.pow(p-c,2)/((p-h)*(p-v))},inv:function(c,h,p,v){return p<=h||v<h||v>p?NaN:c<=(v-h)/(p-h)?h+(p-h)*i.sqrt(c*((v-h)/(p-h))):h+(p-h)*(1-i.sqrt((1-c)*(1-(v-h)/(p-h))))},mean:function(c,h,p){return(c+h+p)/3},median:function(c,h,p){if(p<=(c+h)/2)return h-i.sqrt((h-c)*(h-p))/i.sqrt(2);if(p>(c+h)/2)return c+i.sqrt((h-c)*(p-c))/i.sqrt(2)},mode:function(c,h,p){return p},sample:function(c,h,p){var v=r._random_fn();return v<(p-c)/(h-c)?c+i.sqrt(v*(h-c)*(p-c)):h-i.sqrt((1-v)*(h-c)*(h-p))},variance:function(c,h,p){return(c*c+h*h+p*p-c*h-c*p-h*p)/18}}),r.extend(r.arcsine,{pdf:function(c,h,p){return p<=h?NaN:c<=h||c>=p?0:2/i.PI*i.pow(i.pow(p-h,2)-i.pow(2*c-h-p,2),-.5)},cdf:function(c,h,p){return c<h?0:c<p?2/i.PI*i.asin(i.sqrt((c-h)/(p-h))):1},inv:function(d,c,h){return c+(.5-.5*i.cos(i.PI*d))*(h-c)},mean:function(c,h){return h<=c?NaN:(c+h)/2},median:function(c,h){return h<=c?NaN:(c+h)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(c,h){return(c+h)/2+(h-c)/2*i.sin(2*i.PI*r.uniform.sample(0,1))},variance:function(c,h){return h<=c?NaN:i.pow(h-c,2)/8}});function s(d){return d/i.abs(d)}r.extend(r.laplace,{pdf:function(c,h,p){return p<=0?0:i.exp(-i.abs(c-h)/p)/(2*p)},cdf:function(c,h,p){return p<=0?0:c<h?.5*i.exp((c-h)/p):1-.5*i.exp(-(c-h)/p)},mean:function(d){return d},median:function(d){return d},mode:function(d){return d},variance:function(d,c){return 2*c*c},sample:function(c,h){var p=r._random_fn()-.5;return c-h*s(p)*i.log(1-2*i.abs(p))}});function u(d,c,h){var p=12,v=6,m=-30,y=-50,w=60,_=8,S=3,C=2,$=3,k=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],M=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],A=d*.5;if(A>=_)return 1;var L=2*r.normal.cdf(A,0,1,1,0)-1;L>=i.exp(y/h)?L=i.pow(L,h):L=0;var N;d>S?N=C:N=$;for(var R=A,D=(_-A)/N,j=R+D,U=0,H=h-1,Y=1;Y<=N;Y++){for(var Z=0,Q=.5*(j+R),ee=.5*(j-R),oe=1;oe<=p;oe++){var ue,ve;v<oe?(ue=p-oe+1,ve=k[ue-1]):(ue=oe,ve=-k[ue-1]);var le=ee*ve,de=Q+le,me=de*de;if(me>w)break;var Se=2*r.normal.cdf(de,0,1,1,0),Ee=2*r.normal.cdf(de,d,1,1,0),xe=Se*.5-Ee*.5;xe>=i.exp(m/H)&&(xe=M[ue-1]*i.exp(-(.5*me))*i.pow(xe,H),Z+=xe)}Z*=2*ee*h/i.sqrt(2*i.PI),U+=Z,R=j,j+=D}return L+=U,L<=i.exp(m/c)?0:(L=i.pow(L,c),L>=1?1:L)}function f(d,c,h){var p=.322232421088,v=.099348462606,m=-1,y=.588581570495,w=-.342242088547,_=.531103462366,S=-.204231210125,C=.10353775285,$=-453642210148e-16,k=.0038560700634,M=.8832,A=.2368,L=1.214,N=1.208,R=1.4142,D=120,j=.5-.5*d,U=i.sqrt(i.log(1/(j*j))),H=U+((((U*$+S)*U+w)*U+m)*U+p)/((((U*k+C)*U+_)*U+y)*U+v);h<D&&(H+=(H*H*H+H)/h/4);var Y=M-A*H;return h<D&&(Y+=-L/h+N*H/h),H*(Y*i.log(c-1)+R)}r.extend(r.tukey,{cdf:function(c,h,p){var v=1,m=h,y=16,w=8,_=-30,S=1e-14,C=100,$=800,k=5e3,M=25e3,A=1,L=.5,N=.25,R=.125,D=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],j=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(c<=0)return 0;if(p<2||v<1||m<2)return NaN;if(!Number.isFinite(c))return 1;if(p>M)return u(c,v,m);var U=p*.5,H=U*i.log(p)-p*i.log(2)-r.gammaln(U),Y=U-1,Z=p*.25,Q;p<=C?Q=A:p<=$?Q=L:p<=k?Q=N:Q=R,H+=i.log(Q);for(var ee=0,oe=1;oe<=50;oe++){for(var ue=0,ve=(2*oe-1)*Q,le=1;le<=y;le++){var de,me;w<le?(de=le-w-1,me=H+Y*i.log(ve+D[de]*Q)-(D[de]*Q+ve)*Z):(de=le-1,me=H+Y*i.log(ve-D[de]*Q)+(D[de]*Q-ve)*Z);var Se;if(me>=_){w<le?Se=c*i.sqrt((D[de]*Q+ve)*.5):Se=c*i.sqrt((-(D[de]*Q)+ve)*.5);var Ee=u(Se,v,m),xe=Ee*j[de]*i.exp(me);ue+=xe}}if(oe*Q>=1&&ue<=S)break;ee+=ue}if(ue>S)throw new Error("tukey.cdf failed to converge");return ee>1&&(ee=1),ee},inv:function(d,c,h){var p=1,v=c,m=1e-4,y=50;if(h<2||p<1||v<2)return NaN;if(d<0||d>1)return NaN;if(d===0)return 0;if(d===1)return 1/0;var w=f(d,v,h),_=r.tukey.cdf(w,c,h)-d,S;_>0?S=i.max(0,w-1):S=w+1;for(var C=r.tukey.cdf(S,c,h)-d,$,k=1;k<y;k++){$=S-C*(S-w)/(C-_),_=C,w=S,$<0&&($=0,C=-d),C=r.tukey.cdf($,c,h)-d,S=$;var M=i.abs(S-w);if(M<m)return $}throw new Error("tukey.inv failed to converge")}})}(n,Math),function(r,i){var a=Array.prototype.push,s=r.utils.isArray;function u(f){return s(f)||f instanceof r}r.extend({add:function(d,c){return u(c)?(u(c[0])||(c=[c]),r.map(d,function(h,p,v){return h+c[p][v]})):r.map(d,function(h){return h+c})},subtract:function(d,c){return u(c)?(u(c[0])||(c=[c]),r.map(d,function(h,p,v){return h-c[p][v]||0})):r.map(d,function(h){return h-c})},divide:function(d,c){return u(c)?(u(c[0])||(c=[c]),r.multiply(d,r.inv(c))):r.map(d,function(h){return h/c})},multiply:function(d,c){var h,p,v,m,y,w,_,S;if(d.length===void 0&&c.length===void 0)return d*c;if(y=d.length,w=d[0].length,_=r.zeros(y,v=u(c)?c[0].length:w),S=0,u(c)){for(;S<v;S++)for(h=0;h<y;h++){for(m=0,p=0;p<w;p++)m+=d[h][p]*c[p][S];_[h][S]=m}return y===1&&S===1?_[0][0]:_}return r.map(d,function(C){return C*c})},outer:function(d,c){return r.multiply(d.map(function(h){return[h]}),[c])},dot:function(d,c){u(d[0])||(d=[d]),u(c[0])||(c=[c]);for(var h=d[0].length===1&&d.length!==1?r.transpose(d):d,p=c[0].length===1&&c.length!==1?r.transpose(c):c,v=[],m=0,y=h.length,w=h[0].length,_,S;m<y;m++){for(v[m]=[],_=0,S=0;S<w;S++)_+=h[m][S]*p[m][S];v[m]=_}return v.length===1?v[0]:v},pow:function(d,c){return r.map(d,function(h){return i.pow(h,c)})},exp:function(d){return r.map(d,function(c){return i.exp(c)})},log:function(d){return r.map(d,function(c){return i.log(c)})},abs:function(d){return r.map(d,function(c){return i.abs(c)})},norm:function(d,c){var h=0,p=0;for(isNaN(c)&&(c=2),u(d[0])&&(d=d[0]);p<d.length;p++)h+=i.pow(i.abs(d[p]),c);return i.pow(h,1/c)},angle:function(d,c){return i.acos(r.dot(d,c)/(r.norm(d)*r.norm(c)))},aug:function(d,c){var h=[],p;for(p=0;p<d.length;p++)h.push(d[p].slice());for(p=0;p<h.length;p++)a.apply(h[p],c[p]);return h},inv:function(d){for(var c=d.length,h=d[0].length,p=r.identity(c,h),v=r.gauss_jordan(d,p),m=[],y=0,w;y<c;y++)for(m[y]=[],w=h;w<v[0].length;w++)m[y][w-h]=v[y][w];return m},det:function f(d){if(d.length===2)return d[0][0]*d[1][1]-d[0][1]*d[1][0];for(var c=0,h=0;h<d.length;h++){for(var p=[],v=1;v<d.length;v++){p[v-1]=[];for(var m=0;m<d.length;m++)m<h?p[v-1][m]=d[v][m]:m>h&&(p[v-1][m-1]=d[v][m])}var y=h%2?-1:1;c+=f(p)*d[0][h]*y}return c},gauss_elimination:function(d,c){var h=0,p=0,v=d.length,m=d[0].length,y=1,w=0,_=[],S,C,$,k;for(d=r.aug(d,c),S=d[0].length,h=0;h<v;h++){for(C=d[h][h],p=h,k=h+1;k<m;k++)C<i.abs(d[k][h])&&(C=d[k][h],p=k);if(p!=h)for(k=0;k<S;k++)$=d[h][k],d[h][k]=d[p][k],d[p][k]=$;for(p=h+1;p<v;p++)for(y=d[p][h]/d[h][h],k=h;k<S;k++)d[p][k]=d[p][k]-y*d[h][k]}for(h=v-1;h>=0;h--){for(w=0,p=h+1;p<=v-1;p++)w=w+_[p]*d[h][p];_[h]=(d[h][S-1]-w)/d[h][h]}return _},gauss_jordan:function(d,c){var h=r.aug(d,c),p=h.length,v=h[0].length,m=0,y,w,_;for(w=0;w<p;w++){var S=w;for(_=w+1;_<p;_++)i.abs(h[_][w])>i.abs(h[S][w])&&(S=_);var C=h[w];for(h[w]=h[S],h[S]=C,_=w+1;_<p;_++)for(m=h[_][w]/h[w][w],y=w;y<v;y++)h[_][y]-=h[w][y]*m}for(w=p-1;w>=0;w--){for(m=h[w][w],_=0;_<w;_++)for(y=v-1;y>w-1;y--)h[_][y]-=h[w][y]*h[_][w]/m;for(h[w][w]/=m,y=p;y<v;y++)h[w][y]/=m}return h},triaUpSolve:function(d,c){var h=d[0].length,p=r.zeros(1,h)[0],v,m=!1;return c[0].length!=null&&(c=c.map(function(y){return y[0]}),m=!0),r.arange(h-1,-1,-1).forEach(function(y){v=r.arange(y+1,h).map(function(w){return p[w]*d[y][w]}),p[y]=(c[y]-r.sum(v))/d[y][y]}),m?p.map(function(y){return[y]}):p},triaLowSolve:function(d,c){var h=d[0].length,p=r.zeros(1,h)[0],v,m=!1;return c[0].length!=null&&(c=c.map(function(y){return y[0]}),m=!0),r.arange(h).forEach(function(y){v=r.arange(y).map(function(w){return d[y][w]*p[w]}),p[y]=(c[y]-r.sum(v))/d[y][y]}),m?p.map(function(y){return[y]}):p},lu:function(d){var c=d.length,h=r.identity(c),p=r.zeros(d.length,d[0].length),v;return r.arange(c).forEach(function(m){p[0][m]=d[0][m]}),r.arange(1,c).forEach(function(m){r.arange(m).forEach(function(y){v=r.arange(y).map(function(w){return h[m][w]*p[w][y]}),h[m][y]=(d[m][y]-r.sum(v))/p[y][y]}),r.arange(m,c).forEach(function(y){v=r.arange(m).map(function(w){return h[m][w]*p[w][y]}),p[m][y]=d[v.length][y]-r.sum(v)})}),[h,p]},cholesky:function(d){var c=d.length,h=r.zeros(d.length,d[0].length),p;return r.arange(c).forEach(function(v){p=r.arange(v).map(function(m){return i.pow(h[v][m],2)}),h[v][v]=i.sqrt(d[v][v]-r.sum(p)),r.arange(v+1,c).forEach(function(m){p=r.arange(v).map(function(y){return h[v][y]*h[m][y]}),h[m][v]=(d[v][m]-r.sum(p))/h[v][v]})}),h},gauss_jacobi:function(d,c,h,p){for(var v=0,m=0,y=d.length,w=[],_=[],S=[],C,$,k,M;v<y;v++)for(w[v]=[],_[v]=[],S[v]=[],m=0;m<y;m++)v>m?(w[v][m]=d[v][m],_[v][m]=S[v][m]=0):v<m?(_[v][m]=d[v][m],w[v][m]=S[v][m]=0):(S[v][m]=d[v][m],w[v][m]=_[v][m]=0);for(k=r.multiply(r.multiply(r.inv(S),r.add(w,_)),-1),$=r.multiply(r.inv(S),c),C=h,M=r.add(r.multiply(k,h),$),v=2;i.abs(r.norm(r.subtract(M,C)))>p;)C=M,M=r.add(r.multiply(k,C),$),v++;return M},gauss_seidel:function(d,c,h,p){for(var v=0,m=d.length,y=[],w=[],_=[],S,C,$,k,M;v<m;v++)for(y[v]=[],w[v]=[],_[v]=[],S=0;S<m;S++)v>S?(y[v][S]=d[v][S],w[v][S]=_[v][S]=0):v<S?(w[v][S]=d[v][S],y[v][S]=_[v][S]=0):(_[v][S]=d[v][S],y[v][S]=w[v][S]=0);for(k=r.multiply(r.multiply(r.inv(r.add(_,y)),w),-1),$=r.multiply(r.inv(r.add(_,y)),c),C=h,M=r.add(r.multiply(k,h),$),v=2;i.abs(r.norm(r.subtract(M,C)))>p;)C=M,M=r.add(r.multiply(k,C),$),v=v+1;return M},SOR:function(d,c,h,p,v){for(var m=0,y=d.length,w=[],_=[],S=[],C,$,k,M,A;m<y;m++)for(w[m]=[],_[m]=[],S[m]=[],C=0;C<y;C++)m>C?(w[m][C]=d[m][C],_[m][C]=S[m][C]=0):m<C?(_[m][C]=d[m][C],w[m][C]=S[m][C]=0):(S[m][C]=d[m][C],w[m][C]=_[m][C]=0);for(M=r.multiply(r.inv(r.add(S,r.multiply(w,v))),r.subtract(r.multiply(S,1-v),r.multiply(_,v))),k=r.multiply(r.multiply(r.inv(r.add(S,r.multiply(w,v))),c),v),$=h,A=r.add(r.multiply(M,h),k),m=2;i.abs(r.norm(r.subtract(A,$)))>p;)$=A,A=r.add(r.multiply(M,$),k),m++;return A},householder:function(d){for(var c=d.length,h=d[0].length,p=0,v=[],m=[],y,w,_,S,C;p<c-1;p++){for(y=0,S=p+1;S<h;S++)y+=d[S][p]*d[S][p];for(C=d[p+1][p]>0?-1:1,y=C*i.sqrt(y),w=i.sqrt((y*y-d[p+1][p]*y)/2),v=r.zeros(c,1),v[p+1][0]=(d[p+1][p]-y)/(2*w),_=p+2;_<c;_++)v[_][0]=d[_][p]/(2*w);m=r.subtract(r.identity(c,h),r.multiply(r.multiply(v,r.transpose(v)),2)),d=r.multiply(m,r.multiply(d,m))}return d},QR:function(){var f=r.sum,d=r.arange;function c(h){var p=h.length,v=h[0].length,m=r.zeros(v,v);h=r.copy(h);var y,w,_;for(w=0;w<v;w++){for(m[w][w]=i.sqrt(f(d(p).map(function(S){return h[S][w]*h[S][w]}))),y=0;y<p;y++)h[y][w]=h[y][w]/m[w][w];for(_=w+1;_<v;_++)for(m[w][_]=f(d(p).map(function(S){return h[S][w]*h[S][_]})),y=0;y<p;y++)h[y][_]=h[y][_]-h[y][w]*m[w][_]}return[h,m]}return c}(),lstsq:function(){function f(c){c=r.copy(c);var h=c.length,p=r.identity(h);return r.arange(h-1,-1,-1).forEach(function(v){r.sliceAssign(p,{row:v},r.divide(r.slice(p,{row:v}),c[v][v])),r.sliceAssign(c,{row:v},r.divide(r.slice(c,{row:v}),c[v][v])),r.arange(v).forEach(function(m){var y=r.multiply(c[m][v],-1),w=r.slice(c,{row:m}),_=r.multiply(r.slice(c,{row:v}),y);r.sliceAssign(c,{row:m},r.add(w,_));var S=r.slice(p,{row:m}),C=r.multiply(r.slice(p,{row:v}),y);r.sliceAssign(p,{row:m},r.add(S,C))})}),p}function d(c,h){var p=!1;h[0].length===void 0&&(h=h.map(function(M){return[M]}),p=!0);var v=r.QR(c),m=v[0],y=v[1],w=c[0].length,_=r.slice(m,{col:{end:w}}),S=r.slice(y,{row:{end:w}}),C=f(S),$=r.transpose(_);$[0].length===void 0&&($=[$]);var k=r.multiply(r.multiply(C,$),h);return k.length===void 0&&(k=[[k]]),p?k.map(function(M){return M[0]}):k}return d}(),jacobi:function(d){for(var c=1,h=d.length,p=r.identity(h,h),v=[],m,y,w,_,S,C,$,k;c===1;){for(C=d[0][1],_=0,S=1,y=0;y<h;y++)for(w=0;w<h;w++)y!=w&&C<i.abs(d[y][w])&&(C=i.abs(d[y][w]),_=y,S=w);for(d[_][_]===d[S][S]?$=d[_][S]>0?i.PI/4:-i.PI/4:$=i.atan(2*d[_][S]/(d[_][_]-d[S][S]))/2,k=r.identity(h,h),k[_][_]=i.cos($),k[_][S]=-i.sin($),k[S][_]=i.sin($),k[S][S]=i.cos($),p=r.multiply(p,k),m=r.multiply(r.multiply(r.inv(k),d),k),d=m,c=0,y=1;y<h;y++)for(w=1;w<h;w++)y!=w&&i.abs(d[y][w])>.001&&(c=1)}for(y=0;y<h;y++)v.push(d[y][y]);return[p,v]},rungekutta:function(d,c,h,p,v,m){var y,w,_,S,C;if(m===2)for(;p<=h;)y=c*d(p,v),w=c*d(p+c,v+y),_=v+(y+w)/2,v=_,p=p+c;if(m===4)for(;p<=h;)y=c*d(p,v),w=c*d(p+c/2,v+y/2),S=c*d(p+c/2,v+w/2),C=c*d(p+c,v+S),_=v+(y+2*w+2*S+C)/6,v=_,p=p+c;return v},romberg:function(d,c,h,p){for(var v=0,m=(h-c)/2,y=[],w=[],_=[],S,C,$,k,M;v<p/2;){for(M=d(c),$=c,k=0;$<=h;$=$+m,k++)y[k]=$;for(S=y.length,$=1;$<S-1;$++)M+=($%2!==0?4:2)*d(y[$]);M=m/3*(M+d(h)),_[v]=M,m/=2,v++}for(C=_.length,S=1;C!==1;){for($=0;$<C-1;$++)w[$]=(i.pow(4,S)*_[$+1]-_[$])/(i.pow(4,S)-1);C=w.length,_=w,w=[],S++}return _},richardson:function(d,c,h,p){function v(A,L){for(var N=0,R=A.length,D;N<R;N++)A[N]===L&&(D=N);return D}for(var m=i.abs(h-d[v(d,h)+1]),y=0,w=[],_=[],S,C,$,k,M;p>=m;)S=v(d,h+p),C=v(d,h),w[y]=(c[S]-2*c[C]+c[2*C-S])/(p*p),p/=2,y++;for(k=w.length,$=1;k!=1;){for(M=0;M<k-1;M++)_[M]=(i.pow(4,$)*w[M+1]-w[M])/(i.pow(4,$)-1);k=_.length,w=_,_=[],$++}return w},simpson:function(d,c,h,p){for(var v=(h-c)/p,m=d(c),y=[],w=c,_=0,S=1,C;w<=h;w=w+v,_++)y[_]=w;for(C=y.length;S<C-1;S++)m+=(S%2!==0?4:2)*d(y[S]);return v/3*(m+d(h))},hermite:function(d,c,h,p){for(var v=d.length,m=0,y=0,w=[],_=[],S=[],C=[],$;y<v;y++){for(w[y]=1,$=0;$<v;$++)y!=$&&(w[y]*=(p-d[$])/(d[y]-d[$]));for(_[y]=0,$=0;$<v;$++)y!=$&&(_[y]+=1/(d[y]-d[$]));S[y]=(1-2*(p-d[y])*_[y])*(w[y]*w[y]),C[y]=(p-d[y])*(w[y]*w[y]),m+=S[y]*c[y]+C[y]*h[y]}return m},lagrange:function(d,c,h){for(var p=0,v=0,m,y,w=d.length;v<w;v++){for(y=c[v],m=0;m<w;m++)v!=m&&(y*=(h-d[m])/(d[v]-d[m]));p+=y}return p},cubic_spline:function(d,c,h){for(var p=d.length,v=0,m,y=[],w=[],_=[],S=[],C=[],$=[],k=[];v<p-1;v++)C[v]=d[v+1]-d[v];for(_[0]=0,v=1;v<p-1;v++)_[v]=3/C[v]*(c[v+1]-c[v])-3/C[v-1]*(c[v]-c[v-1]);for(v=1;v<p-1;v++)y[v]=[],w[v]=[],y[v][v-1]=C[v-1],y[v][v]=2*(C[v-1]+C[v]),y[v][v+1]=C[v],w[v][0]=_[v];for(S=r.multiply(r.inv(y),w),m=0;m<p-1;m++)$[m]=(c[m+1]-c[m])/C[m]-C[m]*(S[m+1][0]+2*S[m][0])/3,k[m]=(S[m+1][0]-S[m][0])/(3*C[m]);for(m=0;m<p&&!(d[m]>h);m++);return m-=1,c[m]+(h-d[m])*$[m]+r.sq(h-d[m])*S[m]+(h-d[m])*r.sq(h-d[m])*k[m]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(d){var c=d.length,h=d[0].length,p=0,v,m,y=[],w=[],_=[],S=[],C=[],$=[],k=[],M=[],A=[],L=[];for(p=0;p<c;p++)y[p]=r.sum(d[p])/h;for(p=0;p<h;p++)for(k[p]=[],v=0;v<c;v++)k[p][v]=d[v][p]-y[v];for(k=r.transpose(k),p=0;p<c;p++)for(M[p]=[],v=0;v<c;v++)M[p][v]=r.dot([k[p]],[k[v]])/(h-1);for(_=r.jacobi(M),A=_[0],w=_[1],L=r.transpose(A),p=0;p<w.length;p++)for(v=p;v<w.length;v++)w[p]<w[v]&&(m=w[p],w[p]=w[v],w[v]=m,S=L[p],L[p]=L[v],L[v]=S);for($=r.transpose(k),p=0;p<c;p++)for(C[p]=[],v=0;v<$.length;v++)C[p][v]=r.dot([L[p]],[$[v]]);return[d,w,L,C]}}),function(f){for(var d=0;d<f.length;d++)(function(c){r.fn[c]=function(h,p){var v=this;return p?(setTimeout(function(){p.call(v,r.fn[c].call(v,h))},15),this):typeof r[c](this,h)=="number"?r[c](this,h):r(r[c](this,h))}})(f[d])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(n,Math),function(r,i){var a=[].slice,s=r.utils.isNumber,u=r.utils.isArray;r.extend({zscore:function(){var c=a.call(arguments);return s(c[1])?(c[0]-c[1])/c[2]:(c[0]-r.mean(c[1]))/r.stdev(c[1],c[2])},ztest:function(){var c=a.call(arguments),h;return u(c[1])?(h=r.zscore(c[0],c[1],c[3]),c[2]===1?r.normal.cdf(-i.abs(h),0,1):r.normal.cdf(-i.abs(h),0,1)*2):c.length>2?(h=r.zscore(c[0],c[1],c[2]),c[3]===1?r.normal.cdf(-i.abs(h),0,1):r.normal.cdf(-i.abs(h),0,1)*2):(h=c[0],c[1]===1?r.normal.cdf(-i.abs(h),0,1):r.normal.cdf(-i.abs(h),0,1)*2)}}),r.extend(r.fn,{zscore:function(c,h){return(c-this.mean())/this.stdev(h)},ztest:function(c,h,p){var v=i.abs(this.zscore(c,p));return h===1?r.normal.cdf(-v,0,1):r.normal.cdf(-v,0,1)*2}}),r.extend({tscore:function(){var c=a.call(arguments);return c.length===4?(c[0]-c[1])/(c[2]/i.sqrt(c[3])):(c[0]-r.mean(c[1]))/(r.stdev(c[1],!0)/i.sqrt(c[1].length))},ttest:function(){var c=a.call(arguments),h;return c.length===5?(h=i.abs(r.tscore(c[0],c[1],c[2],c[3])),c[4]===1?r.studentt.cdf(-h,c[3]-1):r.studentt.cdf(-h,c[3]-1)*2):s(c[1])?(h=i.abs(c[0]),c[2]==1?r.studentt.cdf(-h,c[1]-1):r.studentt.cdf(-h,c[1]-1)*2):(h=i.abs(r.tscore(c[0],c[1])),c[2]==1?r.studentt.cdf(-h,c[1].length-1):r.studentt.cdf(-h,c[1].length-1)*2)}}),r.extend(r.fn,{tscore:function(c){return(c-this.mean())/(this.stdev(!0)/i.sqrt(this.cols()))},ttest:function(c,h){return h===1?1-r.studentt.cdf(i.abs(this.tscore(c)),this.cols()-1):r.studentt.cdf(-i.abs(this.tscore(c)),this.cols()-1)*2}}),r.extend({anovafscore:function(){var c=a.call(arguments),h,p,v,m,y,w,_,S;if(c.length===1){for(y=new Array(c[0].length),_=0;_<c[0].length;_++)y[_]=c[0][_];c=y}for(p=new Array,_=0;_<c.length;_++)p=p.concat(c[_]);for(v=r.mean(p),h=0,_=0;_<c.length;_++)h=h+c[_].length*i.pow(r.mean(c[_])-v,2);for(h/=c.length-1,w=0,_=0;_<c.length;_++)for(m=r.mean(c[_]),S=0;S<c[_].length;S++)w+=i.pow(c[_][S]-m,2);return w/=p.length-c.length,h/w},anovaftest:function(){var c=a.call(arguments),h,p,v,m;if(s(c[0]))return 1-r.centralF.cdf(c[0],c[1],c[2]);var y=r.anovafscore(c);for(h=c.length-1,v=0,m=0;m<c.length;m++)v=v+c[m].length;return p=v-h-1,1-r.centralF.cdf(y,h,p)},ftest:function(c,h,p){return 1-r.centralF.cdf(c,h,p)}}),r.extend(r.fn,{anovafscore:function(){return r.anovafscore(this.toArray())},anovaftes:function(){var c=0,h;for(h=0;h<this.length;h++)c=c+this[h].length;return r.ftest(this.anovafscore(),this.length-1,c-this.length)}}),r.extend({qscore:function(){var c=a.call(arguments),h,p,v,m,y;return s(c[0])?(h=c[0],p=c[1],v=c[2],m=c[3],y=c[4]):(h=r.mean(c[0]),p=r.mean(c[1]),v=c[0].length,m=c[1].length,y=c[2]),i.abs(h-p)/(y*i.sqrt((1/v+1/m)/2))},qtest:function(){var c=a.call(arguments),h;c.length===3?(h=c[0],c=c.slice(1)):c.length===7?(h=r.qscore(c[0],c[1],c[2],c[3],c[4]),c=c.slice(5)):(h=r.qscore(c[0],c[1],c[2]),c=c.slice(3));var p=c[0],v=c[1];return 1-r.tukey.cdf(h,v,p-v)},tukeyhsd:function(c){for(var h=r.pooledstdev(c),p=c.map(function(S){return r.mean(S)}),v=c.reduce(function(S,C){return S+C.length},0),m=[],y=0;y<c.length;++y)for(var w=y+1;w<c.length;++w){var _=r.qtest(p[y],p[w],c[y].length,c[w].length,h,v,c.length);m.push([[y,w],_])}return m}}),r.extend({normalci:function(){var c=a.call(arguments),h=new Array(2),p;return c.length===4?p=i.abs(r.normal.inv(c[1]/2,0,1)*c[2]/i.sqrt(c[3])):p=i.abs(r.normal.inv(c[1]/2,0,1)*r.stdev(c[2])/i.sqrt(c[2].length)),h[0]=c[0]-p,h[1]=c[0]+p,h},tci:function(){var c=a.call(arguments),h=new Array(2),p;return c.length===4?p=i.abs(r.studentt.inv(c[1]/2,c[3]-1)*c[2]/i.sqrt(c[3])):p=i.abs(r.studentt.inv(c[1]/2,c[2].length-1)*r.stdev(c[2],!0)/i.sqrt(c[2].length)),h[0]=c[0]-p,h[1]=c[0]+p,h},significant:function(c,h){return c<h}}),r.extend(r.fn,{normalci:function(c,h){return r.normalci(c,h,this.toArray())},tci:function(c,h){return r.tci(c,h,this.toArray())}});function f(d,c,h,p){if(d>1||h>1||d<=0||h<=0)throw new Error("Proportions should be greater than 0 and less than 1");var v=(d*c+h*p)/(c+p),m=i.sqrt(v*(1-v)*(1/c+1/p));return(d-h)/m}r.extend(r.fn,{oneSidedDifferenceOfProportions:function(c,h,p,v){var m=f(c,h,p,v);return r.ztest(m,1)},twoSidedDifferenceOfProportions:function(c,h,p,v){var m=f(c,h,p,v);return r.ztest(m,2)}})}(n,Math),n.models=function(){function r(f){var d=f[0].length,c=n.arange(d).map(function(h){var p=n.arange(d).filter(function(v){return v!==h});return i(n.col(f,h).map(function(v){return v[0]}),n.col(f,p))});return c}function i(f,d){var c=f.length,h=d[0].length-1,p=c-h-1,v=n.lstsq(d,f),m=n.multiply(d,v.map(function(k){return[k]})).map(function(k){return k[0]}),y=n.subtract(f,m),w=n.mean(f),_=n.sum(m.map(function(k){return Math.pow(k-w,2)})),S=n.sum(f.map(function(k,M){return Math.pow(k-m[M],2)})),C=_+S,$=_/C;return{exog:d,endog:f,nobs:c,df_model:h,df_resid:p,coef:v,predict:m,resid:y,ybar:w,SST:C,SSE:_,SSR:S,R2:$}}function a(f){var d=r(f.exog),c=Math.sqrt(f.SSR/f.df_resid),h=d.map(function(w){var _=w.SST,S=w.R2;return c/Math.sqrt(_*(1-S))}),p=f.coef.map(function(w,_){return(w-0)/h[_]}),v=p.map(function(w){var _=n.studentt.cdf(w,f.df_resid);return(_>.5?1-_:_)*2}),m=n.studentt.inv(.975,f.df_resid),y=f.coef.map(function(w,_){var S=m*h[_];return[w-S,w+S]});return{se:h,t:p,p:v,sigmaHat:c,interval95:y}}function s(f){var d=f.R2/f.df_model/((1-f.R2)/f.df_resid),c=function(p,v,m){return n.beta.cdf(p/(m/v+p),v/2,m/2)},h=1-c(d,f.df_model,f.df_resid);return{F_statistic:d,pvalue:h}}function u(f,d){var c=i(f,d),h=a(c),p=s(c),v=1-(1-c.R2)*((c.nobs-1)/c.df_resid);return c.t=h,c.f=p,c.adjust_R2=v,c}return{ols:u}}(),n.extend({buildxmatrix:function(){for(var i=new Array(arguments.length),a=0;a<arguments.length;a++){var s=[1];i[a]=s.concat(arguments[a])}return n(i)},builddxmatrix:function(){for(var i=new Array(arguments[0].length),a=0;a<arguments[0].length;a++){var s=[1];i[a]=s.concat(arguments[0][a])}return n(i)},buildjxmatrix:function(i){for(var a=new Array(i.length),s=0;s<i.length;s++)a[s]=i[s];return n.builddxmatrix(a)},buildymatrix:function(i){return n(i).transpose()},buildjymatrix:function(i){return i.transpose()},matrixmult:function(i,a){var s,u,f,d,c;if(i.cols()==a.rows()){if(a.rows()>1){for(d=[],s=0;s<i.rows();s++)for(d[s]=[],u=0;u<a.cols();u++){for(c=0,f=0;f<i.cols();f++)c+=i.toArray()[s][f]*a.toArray()[f][u];d[s][u]=c}return n(d)}for(d=[],s=0;s<i.rows();s++)for(d[s]=[],u=0;u<a.cols();u++){for(c=0,f=0;f<i.cols();f++)c+=i.toArray()[s][f]*a.toArray()[u];d[s][u]=c}return n(d)}},regress:function(i,a){var s=n.xtranspxinv(i),u=i.transpose(),f=n.matrixmult(n(s),u);return n.matrixmult(f,a)},regresst:function(i,a,s){var u=n.regress(i,a),f={};f.anova={};var d=n.jMatYBar(i,u);f.yBar=d;var c=a.mean();f.anova.residuals=n.residuals(a,d),f.anova.ssr=n.ssr(d,c),f.anova.msr=f.anova.ssr/(i[0].length-1),f.anova.sse=n.sse(a,d),f.anova.mse=f.anova.sse/(a.length-(i[0].length-1)-1),f.anova.sst=n.sst(a,c),f.anova.mst=f.anova.sst/(a.length-1),f.anova.r2=1-f.anova.sse/f.anova.sst,f.anova.r2<0&&(f.anova.r2=0),f.anova.fratio=f.anova.msr/f.anova.mse,f.anova.pvalue=n.anovaftest(f.anova.fratio,i[0].length-1,a.length-(i[0].length-1)-1),f.anova.rmse=Math.sqrt(f.anova.mse),f.anova.r2adj=1-f.anova.mse/f.anova.mst,f.anova.r2adj<0&&(f.anova.r2adj=0),f.stats=new Array(i[0].length);for(var h=n.xtranspxinv(i),p,v,m,y=0;y<u.length;y++)p=Math.sqrt(f.anova.mse*Math.abs(h[y][y])),v=Math.abs(u[y]/p),m=n.ttest(v,a.length-i[0].length-1,s),f.stats[y]=[u[y],p,v,m];return f.regress=u,f},xtranspx:function(i){return n.matrixmult(i.transpose(),i)},xtranspxinv:function(i){var a=n.matrixmult(i.transpose(),i),s=n.inv(a);return s},jMatYBar:function(i,a){var s=n.matrixmult(i,a);return new n(s)},residuals:function(i,a){return n.matrixsubtract(i,a)},ssr:function(i,a){for(var s=0,u=0;u<i.length;u++)s+=Math.pow(i[u]-a,2);return s},sse:function(i,a){for(var s=0,u=0;u<i.length;u++)s+=Math.pow(i[u]-a[u],2);return s},sst:function(i,a){for(var s=0,u=0;u<i.length;u++)s+=Math.pow(i[u]-a,2);return s},matrixsubtract:function(i,a){for(var s=new Array(i.length),u=0;u<i.length;u++){s[u]=new Array(i[u].length);for(var f=0;f<i[u].length;f++)s[u][f]=i[u][f]-a[u][f]}return n(s)}}),n.jStat=n,n})})(Vln);var use={},zf={};Object.defineProperty(zf,"__esModule",{value:!0});zf.OtherOperationError=zf.PdfInvalidError=zf.SampleMapNeedsNtoNFunction=zf.NegativeInfinityError=zf.InfinityError=zf.ComplexNumberError=zf.DivisionByZeroError=zf.OperationError=void 0;class sT{}zf.OperationError=sT;class Wln extends sT{toString(){return"Cannot divide by zero"}}zf.DivisionByZeroError=Wln;class Gln extends sT{toString(){return"Operation returned complex result"}}zf.ComplexNumberError=Gln;class qln extends sT{toString(){return"Operation returned positive infinity"}}zf.InfinityError=qln;class Yln extends sT{toString(){return"Operation returned negative infinity"}}zf.NegativeInfinityError=Yln;class Kln extends sT{toString(){return"SampleMap needs a function that converts a number to a number"}}zf.SampleMapNeedsNtoNFunction=Kln;class Xln extends sT{toString(){return"This Pdf is invalid"}}zf.PdfInvalidError=Xln;class Zln extends sT{constructor(t){super(),this.value=t}toString(){return this.value}}zf.OtherOperationError=Zln;(function(e){var t=$e&&$e.__createBinding||(Object.create?function(m,y,w,_){_===void 0&&(_=w);var S=Object.getOwnPropertyDescriptor(y,w);(!S||("get"in S?!y.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return y[w]}}),Object.defineProperty(m,_,S)}:function(m,y,w,_){_===void 0&&(_=w),m[_]=y[w]}),n=$e&&$e.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),r=$e&&$e.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var w in m)w!=="default"&&Object.prototype.hasOwnProperty.call(m,w)&&t(y,m,w);return n(y,m),y};Object.defineProperty(e,"__esModule",{value:!0}),e.Scale=e.Algebraic=e.Convolution=void 0;const i=di,a=r(di),s=zf;e.Convolution={fromAlgebraicOperation(m){if(m==="Add"||m==="Subtract"||m==="Multiply")return m},canDoAlgebraicOperation(m){return e.Convolution.fromAlgebraicOperation(m)!==void 0},toFn(m){switch(m){case"Add":return(y,w)=>y+w;case"Subtract":return(y,w)=>y-w;case"Multiply":return(y,w)=>y*w;default:throw new Error("This should never happen")}}};const u=(m,y)=>m>=0?(0,i.Ok)(Math.pow(m,y)):a.Error(s.ComplexNumberError),f=(m,y)=>(0,i.Ok)(m+y),d=(m,y)=>(0,i.Ok)(m-y),c=(m,y)=>(0,i.Ok)(m*y),h=(m,y)=>y!==0?(0,i.Ok)(m/y):a.Error(s.DivisionByZeroError),p=(m,y)=>y===1?a.Error(s.DivisionByZeroError):y===0?(0,i.Ok)(0):m>0&&y>0?(0,i.Ok)(Math.log(m)/Math.log(y)):m===0?a.Error(s.NegativeInfinityError):a.Error(s.ComplexNumberError),v=m=>(w,_)=>w<m?(0,i.Ok)(0):p(w,_);e.Algebraic={toFn(m){if(m==="Add")return f;if(m==="Subtract")return d;if(m==="Multiply")return c;if(m==="Power")return u;if(m==="Divide")return h;if(m==="Logarithm")return p;if(m.NAME==="LogarithmWithThreshold")return v(m.VAL);throw new Error(`Unknown operation ${m}`)},toString(m){if(m==="Add")return"+";if(m==="Subtract")return"-";if(m==="Multiply")return"*";if(m==="Power")return"**";if(m==="Divide")return"/";if(m==="Logarithm")return"log";if(m.NAME==="LogarithmWithThreshold")return"log";throw new Error(`Unknown operation ${m}`)}},e.Scale={toFn(m){if(m==="Multiply")return c;if(m==="Divide")return h;if(m==="Power")return u;if(m==="Logarithm")return p;if(m.NAME==="LogarithmWithThreshold")return v(m.VAL);throw new Error(`Unknown scale operation ${m}`)},toIntegralSumCacheFn(m){return m==="Multiply"?(y,w)=>y*w:m==="Divide"?(y,w)=>y/w:void 0},toIntegralCacheFn(m){}}})(use);var Qln=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Jln=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bG=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Qln(t,e,n);return Jln(t,e),t},ecn=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.tryAnalyticalSimplification=Ko.From90thPercentile=Ko.Float=Ko.Gamma=Ko.Bernoulli=Ko.Logistic=Ko.Uniform=Ko.Lognormal=Ko.Beta=Ko.Triangular=Ko.Cauchy=Ko.Exponential=Ko.Normal=Ko.SymbolicDist=void 0;const tcn=oT,Ic=bG(di),_o=ecn(kre),Ore=bG(kE),ncn=bG(Pk),Gke=bG(OE),rcn=bG(use),qke=Dp,Ol=di,icn=x_(),acn=Ro,Hlt=lE(),Ult=1.6448536269514722,fB=e=>e*e;let zm=class hH extends tcn.BaseDist{toSparkline(t,n){return Ic.bind(this.toPointSetDist({xyPointLength:t*3,sampleCount:n.sampleCount},"Linear"),r=>r.toSparkline(t))}normalize(){return this}integralEndY(){return 1}pdf(t){return(0,Ol.Ok)(this.simplePdf(t))}interpolateXs(t){const{xSelection:n,points:r}=t;switch(n){case"Linear":return Ore.range(this.min(),this.max(),r);case"ByWeight":return Ore.range(hH.minCdfValue,hH.maxCdfValue,r).map(a=>this.inv(a));default:throw new Error(`Unknown xSelection value ${n}`)}}toPointSetDist(t,n="ByWeight"){const r=this.interpolateXs({xSelection:n,points:t.xyPointLength,env:t}),i=r.map(s=>this.simplePdf(s)),a=ncn.T.make(r,i);return a.ok?(0,Ol.Ok)(new qke.PointSetDist(new icn.ContinuousShape({integralSumCache:1,xyShape:a.value}))):Ic.Error((0,acn.xyShapeDistError)(a.value))}truncate(t,n,r){if(!r)throw new Error("env is necessary for truncating a symbolic dist");if(t===void 0&&n===void 0)return Ic.Ok(this);const i=this.toPointSetDist(r.env);return i.ok?i.value.truncate(t,n):i}min(){return this.inv(hH.minCdfValue)}max(){return this.inv(hH.maxCdfValue)}sampleN(t){const n=new Array(t);for(let r=0;r<t;r++)n[r]=this.sample();return n}expectedConvolutionCost(){return Gke.OpCost.symbolicCost}isFloat(){return!1}};Ko.SymbolicDist=zm;zm.minCdfValue=1e-4;zm.maxCdfValue=.9999;class kc extends zm{constructor({mean:t,stdev:n}){super(),this._mean=t,this._stdev=n}static make({mean:t,stdev:n}){return n<=0?Ic.Error("Standard deviation of normal distribution must be larger than 0"):(0,Ol.Ok)(new kc({mean:t,stdev:n}))}toString(){return`Normal(${this._mean},${this._stdev})`}simplePdf(t){return _o.default.normal.pdf(t,this._mean,this._stdev)}cdf(t){return _o.default.normal.cdf(t,this._mean,this._stdev)}inv(t){return _o.default.normal.inv(t,this._mean,this._stdev)}sample(){return _o.default.normal.sample(this._mean,this._stdev)}mean(){return _o.default.normal.mean(this._mean,this._stdev)}static from90PercentCI(t,n){const r=Ore.mean([t,n]),i=(n-t)/(2*Ult);return kc.make({mean:r,stdev:i})}static add(t,n){const r=t._mean+n._mean,i=Math.sqrt(Math.pow(t._stdev,2)+Math.pow(n._stdev,2));return new kc({mean:r,stdev:i})}static subtract(t,n){const r=t._mean-n._mean,i=Math.sqrt(Math.pow(t._stdev,2)+Math.pow(n._stdev,2));return new kc({mean:r,stdev:i})}static operate(t,n,r){if(t==="Add")return kc.add(n,r);if(t==="Subtract")return kc.subtract(n,r)}static operateFloatFirst(t,n,r){if(t==="Add")return new kc({mean:n+r._mean,stdev:r._stdev});if(t==="Subtract")return new kc({mean:n-r._mean,stdev:r._stdev});if(t==="Multiply")return new kc({mean:n*r._mean,stdev:Math.abs(n)*r._stdev})}static operateFloatSecond(t,n,r){if(t==="Add")return new kc({mean:n._mean+r,stdev:n._stdev});if(t==="Subtract")return new kc({mean:n._mean-r,stdev:n._stdev});if(t==="Multiply")return new kc({mean:n._mean*r,stdev:n._stdev*Math.abs(r)});if(t==="Divide")return new kc({mean:n._mean/r,stdev:n._stdev/Math.abs(r)})}}Ko.Normal=kc;class Yke extends zm{constructor(t){super(),this.rate=t}static make(t){return t<=0?Ic.Error("Exponential distributions rate must be larger than 0."):(0,Ol.Ok)(new Yke(t))}toString(){return`Exponential(${this.rate})`}simplePdf(t){return _o.default.exponential.pdf(t,this.rate)}cdf(t){return _o.default.exponential.cdf(t,this.rate)}inv(t){return _o.default.exponential.inv(t,this.rate)}sample(){return _o.default.exponential.sample(this.rate)}mean(){return _o.default.exponential.mean(this.rate)}}Ko.Exponential=Yke;class Kke extends zm{constructor({local:t,scale:n}){super(),this.local=t,this.scale=n}static make({local:t,scale:n}){return n>0?(0,Ol.Ok)(new Kke({local:t,scale:n})):Ic.Error("Cauchy distribution scale parameter must larger than 0.")}toString(){return`Cauchy(${this.local}, ${this.scale})`}simplePdf(t){return _o.default.cauchy.pdf(t,this.local,this.scale)}cdf(t){return _o.default.cauchy.cdf(t,this.local,this.scale)}inv(t){return _o.default.cauchy.inv(t,this.local,this.scale)}sample(){return _o.default.cauchy.sample(this.local,this.scale)}mean(){throw new Error("Cauchy distributions may have no mean value.")}}Ko.Cauchy=Kke;class Xke extends zm{constructor({low:t,medium:n,high:r}){super(),this.low=t,this.medium=n,this.high=r}static make({low:t,medium:n,high:r}){return t<n&&n<r?(0,Ol.Ok)(new Xke({low:t,medium:n,high:r})):Ic.Error("Triangular values must be increasing order.")}toString(){return`Triangular(${this.low}, ${this.medium}, ${this.high})`}simplePdf(t){return _o.default.triangular.pdf(t,this.low,this.high,this.medium)}cdf(t){return _o.default.triangular.cdf(t,this.low,this.high,this.medium)}inv(t){return _o.default.triangular.inv(t,this.low,this.high,this.medium)}sample(){return _o.default.triangular.sample(this.low,this.high,this.medium)}mean(){return _o.default.triangular.mean(this.low,this.high,this.medium)}min(){return this.low}max(){return this.high}}Ko.Triangular=Xke;class cU extends zm{constructor({alpha:t,beta:n}){super(),this.alpha=t,this.beta=n}static make({alpha:t,beta:n}){return t>0&&n>0?(0,Ol.Ok)(new cU({alpha:t,beta:n})):Ic.Error("Beta distribution parameters must be positive")}toString(){return`Beta(${this.alpha},${this.beta})`}simplePdf(t){return _o.default.beta.pdf(t,this.alpha,this.beta)}cdf(t){return _o.default.beta.cdf(t,this.alpha,this.beta)}inv(t){return _o.default.beta.inv(t,this.alpha,this.beta)}sample(){return _o.default.beta.sample(this.alpha,this.beta)}mean(){return _o.default.beta.mean(this.alpha,this.beta)}static fromMeanAndSampleSize({mean:t,sampleSize:n}){const r=t*n,i=(1-t)*n;return cU.make({alpha:r,beta:i})}static fromMeanAndStdev({mean:t,stdev:n}){if(0<n&&n<=.5)if(0<=t&&t<=1){const r=n*n,i=t*(1-t)/r-1;return cU.fromMeanAndSampleSize({mean:t,sampleSize:i})}else return Ic.Error("Mean must be in between 0 and 1.0.");else return Ic.Error("Stdev must be in in between 0 and 0.5.")}}Ko.Beta=cU;class Ff extends zm{constructor({mu:t,sigma:n}){super(),this.mu=t,this.sigma=n}static make({mu:t,sigma:n}){return n<=0?Ic.Error("Lognormal standard deviation must be larger than 0"):(0,Ol.Ok)(new Ff({mu:t,sigma:n}))}toString(){return`Lognormal(${this.mu},${this.sigma})`}simplePdf(t){return _o.default.lognormal.pdf(t,this.mu,this.sigma)}cdf(t){return _o.default.lognormal.cdf(t,this.mu,this.sigma)}inv(t){return _o.default.lognormal.inv(t,this.mu,this.sigma)}sample(){return _o.default.lognormal.sample(this.mu,this.sigma)}mean(){return _o.default.lognormal.mean(this.mu,this.sigma)}static from90PercentCI(t,n){const r=Math.log(t),i=Math.log(n),a=Ore.mean([r,i]),s=(i-r)/(2*Ult);return Ff.make({mu:a,sigma:s})}static fromMeanAndStdev({mean:t,stdev:n}){if(t<=0)return Ic.Error("Lognormal mean must be larger than 0");if(n<=0)return Ic.Error("Lognormal standard deviation must be larger than 0");{const r=Math.pow(n,2),i=Math.pow(t,2),a=2*Math.log(t)-.5*Math.log(r+i),s=Math.sqrt(Math.log(r/i+1));return(0,Ol.Ok)(new Ff({mu:a,sigma:s}))}}static multiply(t,n){const r=t.mu+n.mu,i=Math.sqrt(Math.pow(t.sigma,2)+Math.pow(n.sigma,2));return new Ff({mu:r,sigma:i})}static divide(t,n){const r=t.mu-n.mu,i=Math.sqrt(Math.pow(t.sigma,2)+Math.pow(n.sigma,2));return new Ff({mu:r,sigma:i})}static operate(t,n,r){if(t==="Multiply")return Ff.multiply(n,r);if(t==="Divide")return Ff.divide(n,r)}static operateFloatFirst(t,n,r){if(t==="Multiply")return n>0?new Ff({mu:Math.log(n)+r.mu,sigma:r.sigma}):void 0;if(t==="Divide")return n>0?new Ff({mu:Math.log(n)-r.mu,sigma:r.sigma}):void 0}static operateFloatSecond(t,n,r){if(t==="Multiply")return r>0?new Ff({mu:n.mu+Math.log(r),sigma:n.sigma}):void 0;if(t==="Divide")return r>0?new Ff({mu:n.mu-Math.log(r),sigma:n.sigma}):void 0}}Ko.Lognormal=Ff;class Are extends zm{constructor({low:t,high:n}){super(),this.high=n,this.low=t}static make({low:t,high:n}){return n>t?(0,Ol.Ok)(new Are({low:t,high:n})):Ic.Error("High must be larger than low")}interpolateXs(t){if(t.xSelection==="ByWeight"){const n=this.high-this.low,r=Gke.Epsilon.ten*n;return[this.low-r,this.low,this.low+r,this.high-r,this.high,this.high+r]}return super.interpolateXs(t)}toString(){return`Uniform(${this.low},${this.high})`}simplePdf(t){return _o.default.uniform.pdf(t,this.low,this.high)}cdf(t){return _o.default.uniform.cdf(t,this.low,this.high)}inv(t){return _o.default.uniform.inv(t,this.low,this.high)}sample(){return _o.default.uniform.sample(this.low,this.high)}mean(){return _o.default.uniform.mean(this.low,this.high)}min(){return this.low}max(){return this.high}truncate(t,n){const r=Math.max(t??-1/0,this.low),i=Math.min(n??1/0,this.high);return(0,Ol.Ok)(new Are({low:r,high:i}))}}Ko.Uniform=Are;class Zke extends zm{constructor({location:t,scale:n}){super(),this.location=t,this.scale=n}static make({location:t,scale:n}){return n>0?(0,Ol.Ok)(new Zke({location:t,scale:n})):Ic.Error("Scale must be positive")}toString(){return`Logistic(${this.location},${this.scale})`}simplePdf(t){if(this.scale===0)return this.location===t?1/0:0;const n=Math.pow(Math.E,-((t-this.location)/this.scale));return n/(this.scale*fB(1+n))}cdf(t){return this.scale===0?this.location<t?0:1:1/(1+Math.pow(Math.E,-((t-this.location)/this.scale)))}inv(t){return this.scale==0?this.location:this.location+this.scale*Math.log(t/(1-t))}sample(){const t=Math.random();return this.inv(t)}mean(){return this.location}stdev(){return Ic.Ok(Math.sqrt(fB(this.scale)*fB(Math.PI)/3))}variance(){return Ic.Ok(fB(this.scale)*fB(Math.PI)/3)}}Ko.Logistic=Zke;class Qke extends zm{constructor(t){super(),this.p=t}static make(t){return t>=0&&t<=1?(0,Ol.Ok)(new Qke(t)):Ic.Error("Bernoulli parameter must be between 0 and 1")}toString(){return`Bernoulli(${this.p})`}pmf(t){return t===0?1-this.p:this.p}simplePdf(t){return this.pmf(t)}cdf(t){return t<0?0:t>=1?1:1-this.p}inv(t){return t<=1-this.p?0:1}mean(){return this.p}sample(){const t=Math.random();return this.inv(t)}min(){return this.p===1?1:0}max(){return this.p===0?0:1}stdev(){return(0,Ol.Ok)(Math.sqrt(this.p*(1-this.p)))}variance(){return(0,Ol.Ok)(this.p*(1-this.p))}toPointSetDist(){return(0,Ol.Ok)(new qke.PointSetDist(new Hlt.DiscreteShape({integralSumCache:1,xyShape:{xs:[0,1],ys:[1-this.p,this.p]}})))}}Ko.Bernoulli=Qke;class Jke extends zm{constructor({shape:t,scale:n}){super(),this.shape=t,this.scale=n}static make({shape:t,scale:n}){return t<=0?Ic.Error("shape must be larger than 0"):n<=0?Ic.Error("scale must be larger than 0"):(0,Ol.Ok)(new Jke({shape:t,scale:n}))}toString(){return`(${this.shape}, ${this.scale})`}simplePdf(t){return _o.default.gamma.pdf(t,this.shape,this.scale)}cdf(t){return _o.default.gamma.cdf(t,this.shape,this.scale)}inv(t){return _o.default.gamma.inv(t,this.shape,this.scale)}sample(){return _o.default.gamma.sample(this.shape,this.scale)}mean(){return _o.default.gamma.mean(this.shape,this.scale)}}Ko.Gamma=Jke;class yS extends zm{constructor(t){super(),this.t=t}toString(){return`PointMass(${this.t})`}static make(t){return isFinite(t)?(0,Ol.Ok)(new yS(t)):Ic.Error("Float must be finite")}simplePdf(t){return t===this.t?1:0}cdf(t){return t>=this.t?1:0}inv(t){return t<this.t?0:1}mean(){return this.t}sample(){return this.t}min(){return this.t}max(){return this.t}expectedConvolutionCost(){return Gke.OpCost.floatCost}isFloat(){return!0}toPointSetDist(){return(0,Ol.Ok)(new qke.PointSetDist(new Hlt.DiscreteShape({integralSumCache:1,xyShape:{xs:[this.t],ys:[1]}})))}}Ko.Float=yS;Ko.From90thPercentile={make(e,t){return e<=0&&e<t?kc.from90PercentCI(e,t):e<t?Ff.from90PercentCI(e,t):Ic.Error("Low value must be less than high value.")}};const ocn=(e,t,n)=>{if(e instanceof yS&&t instanceof yS)return Ic.fmap(rcn.Algebraic.toFn(n)(e.t,t.t),r=>new yS(r));if(e instanceof kc&&t instanceof kc){const r=kc.operate(n,e,t);return r?(0,Ol.Ok)(r):void 0}else if(e instanceof yS&&t instanceof kc){const r=kc.operateFloatFirst(n,e.t,t);return r?(0,Ol.Ok)(r):void 0}else if(e instanceof kc&&t instanceof yS){const r=kc.operateFloatSecond(n,e,t.t);return r?(0,Ol.Ok)(r):void 0}else if(e instanceof Ff&&t instanceof Ff){const r=Ff.operate(n,e,t);return r?(0,Ol.Ok)(r):void 0}else if(e instanceof yS&&t instanceof Ff){const r=Ff.operateFloatFirst(n,e.t,t);return r?(0,Ol.Ok)(r):void 0}else if(e instanceof Ff&&t instanceof yS){const r=Ff.operateFloatSecond(n,e,t.t);return r?(0,Ol.Ok)(r):void 0}else return};Ko.tryAnalyticalSimplification=ocn;var uGe;function lse(){return uGe||(uGe=1,function(e){var t=$e&&$e.__createBinding||(Object.create?function(_,S,C,$){$===void 0&&($=C);var k=Object.getOwnPropertyDescriptor(S,C);(!k||("get"in k?!S.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return S[C]}}),Object.defineProperty(_,$,k)}:function(_,S,C,$){$===void 0&&($=C),_[$]=S[C]}),n=$e&&$e.__setModuleDefault||(Object.create?function(_,S){Object.defineProperty(_,"default",{enumerable:!0,value:S})}:function(_,S){_.default=S}),r=$e&&$e.__importStar||function(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var C in _)C!=="default"&&Object.prototype.hasOwnProperty.call(_,C)&&t(S,_,C);return n(S,_),S};Object.defineProperty(e,"__esModule",{value:!0}),e.SqSymbolicDistribution=e.SqSampleSetDistribution=e.SqPointSetDistribution=e.wrapDistribution=e.SqDistributionTag=void 0;const i=G8,a=yG,s=Uln(),u=r(di),f=Ko,d=Dp,c=di;var h;(function(_){_.PointSet="PointSet",_.SampleSet="SampleSet",_.Symbolic="Symbolic"})(h=e.SqDistributionTag||(e.SqDistributionTag={}));const p=_=>{if(_ instanceof f.SymbolicDist)return new w(_);if(_ instanceof i.SampleSetDist)return new y(_);if(_ instanceof d.PointSetDist)return new m(_);throw new Error(`Unknown value ${_}`)};e.wrapDistribution=p;class v{constructor(S){this._value=S}pointSet(S){const C=this._value.toPointSetDist(S);return u.fmap2(C,$=>(0,s.wrapPointSet)($.pointSet),$=>new a.SqDistributionError($))}toString(){return this._value.toString()}toSparkline(S){return this._value.toSparkline(20,S)}mean(S){return this._value.mean()}pdf(S,C){return u.fmap2(this._value.pdf(C,{env:S}),$=>$,$=>new a.SqDistributionError($))}cdf(S,C){return(0,c.Ok)(this._value.cdf(C))}inv(S,C){return(0,c.Ok)(this._value.inv(C))}stdev(S){return u.fmap2(this._value.stdev(),C=>C,C=>new a.SqDistributionError(C))}}class m extends v{constructor(){super(...arguments),this.tag=h.PointSet}value(){return(0,s.wrapPointSet)(this._value.pointSet)}}e.SqPointSetDistribution=m;class y extends v{constructor(){super(...arguments),this.tag=h.SampleSet}value(){return this._value}}e.SqSampleSetDistribution=y;class w extends v{constructor(){super(...arguments),this.tag=h.Symbolic}}e.SqSymbolicDistribution=w}(o1e)),o1e}var wG={};Object.defineProperty(wG,"__esModule",{value:!0});wG.SqLambda=void 0;class scn{constructor(t,n){this._value=t,this.location=n}parameters(){return this._value.getParameters()}call(t){const{project:n,sourceId:r}=this.location,i="__lambda__",a=c=>`"${c.replace(new RegExp('"',"g"),'\\"')}"`,s=t.map(c=>typeof c=="number"?c:a(c)).join(","),d=`${[...this.location.path.root==="result"?["__result__"]:[],...this.location.path.items].map((c,h)=>typeof c=="string"?h?"."+c:c:`[${c}]`).join("")}(${s})`;return n.setSource(i,d),n.setContinues(i,[r]),n.run(i),n.getResult(i)}}wG.SqLambda=scn;var cse={};Object.defineProperty(cse,"__esModule",{value:!0});cse.SqLambdaDeclaration=void 0;class ucn{constructor(t){this._value=t}}cse.SqLambdaDeclaration=ucn;var dB={},lGe;function Vlt(){if(lGe)return dB;lGe=1,Object.defineProperty(dB,"__esModule",{value:!0}),dB.SqPlot=void 0;const e=tc,t=lse(),n=fse();let r=class{constructor(a,s){this._value=a,this.location=s}get distributions(){return this._value.distributions.map(({name:a,distribution:s})=>({name:a,distribution:(0,t.wrapDistribution)(s)}))}toString(){return(0,e.vPlot)(this._value).toString()}asValue(){return new n.SqPlotValue((0,e.vPlot)(this._value),this.location)}};return dB.SqPlot=r,dB}var hB={},cGe;function lcn(){if(cGe)return hB;cGe=1,Object.defineProperty(hB,"__esModule",{value:!0}),hB.SqArray=void 0;const e=fse();let t=class{constructor(r,i){this._value=r,this.location=i}getValues(){return this._value.map((r,i)=>(0,e.wrapValue)(r,this.location.extend(i)))}};return hB.SqArray=t,hB}var fGe;function fse(){if(fGe)return ms;fGe=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.toStringResult=ms.SqVoidValue=ms.SqPlotValue=ms.SqTimeDurationValue=ms.SqStringValue=ms.SqRecordValue=ms.SqNumberValue=ms.SqLambdaValue=ms.SqDistributionValue=ms.SqDeclarationValue=ms.SqDateValue=ms.SqBoolValue=ms.SqArrayValue=ms.SqAbstractValue=ms.wrapValue=void 0;const e=lse(),t=wG,n=cse,r=eOe(),i=Vlt(),a=lcn(),s=(k,M)=>{switch(k.type,k.type){case"Array":return new f(k,M);case"Bool":return new d(k,M);case"Date":return new c(k,M);case"Declaration":return new h(k,M);case"Dist":return new p(k,M);case"Lambda":return new v(k,M);case"Number":return new m(k,M);case"Record":return new y(k,M);case"String":return new w(k,M);case"Plot":return new S(k,M);case"TimeDuration":return new _(k,M);case"Void":return new C(k,M);default:throw new Error(`Unknown value ${JSON.stringify(k)}`)}};ms.wrapValue=s;class u{constructor(M,A){this._value=M,this.location=A}toString(){return this._value.toString()}}ms.SqAbstractValue=u;class f extends u{constructor(){super(...arguments),this.tag="Array"}get value(){return new a.SqArray(this._value.value,this.location)}}ms.SqArrayValue=f;class d extends u{constructor(){super(...arguments),this.tag="Bool"}get value(){return this._value.value}}ms.SqBoolValue=d;class c extends u{constructor(){super(...arguments),this.tag="Date"}get value(){return this._value.value}}ms.SqDateValue=c;class h extends u{constructor(){super(...arguments),this.tag="Declaration"}get value(){return new n.SqLambdaDeclaration(this._value.value)}}ms.SqDeclarationValue=h;class p extends u{constructor(){super(...arguments),this.tag="Dist"}get value(){return(0,e.wrapDistribution)(this._value.value)}}ms.SqDistributionValue=p;class v extends u{constructor(){super(...arguments),this.tag="Lambda"}get value(){return new t.SqLambda(this._value.value,this.location)}}ms.SqLambdaValue=v;class m extends u{constructor(){super(...arguments),this.tag="Number"}get value(){return this._value.value}}ms.SqNumberValue=m;class y extends u{constructor(){super(...arguments),this.tag="Record"}get value(){return new r.SqRecord(this._value.value,this.location)}}ms.SqRecordValue=y;class w extends u{constructor(){super(...arguments),this.tag="String"}get value(){return this._value.value}}ms.SqStringValue=w;class _ extends u{constructor(){super(...arguments),this.tag="TimeDuration"}get value(){return this._value.value}}ms.SqTimeDurationValue=_;class S extends u{constructor(){super(...arguments),this.tag="Plot"}get value(){return new i.SqPlot(this._value.value,this.location)}}ms.SqPlotValue=S;class C extends u{constructor(){super(...arguments),this.tag="Void"}get value(){return null}}ms.SqVoidValue=C;const $=k=>`${k.ok?"Ok":"Error"}(${k.value.toString()})`;return ms.toStringResult=$,ms}var dGe;function eOe(){if(dGe)return cB;dGe=1,Object.defineProperty(cB,"__esModule",{value:!0}),cB.SqRecord=void 0;const e=tc,t=fse();let n=class{constructor(i,a){this._value=i,this.location=a}entries(){return[...this._value.entries()].map(([i,a])=>[i,(0,t.wrapValue)(a,this.location.extend(i))])}toString(){return(0,e.vRecord)(this._value).toString()}asValue(){return new t.SqRecordValue((0,e.vRecord)(this._value),this.location)}};return cB.SqRecord=n,cB}var _G={};Object.defineProperty(_G,"__esModule",{value:!0});_G.SqValueLocation=void 0;class tOe{constructor(t,n,r){this.project=t,this.sourceId=n,this.path=r}extend(t){return new tOe(this.project,this.sourceId,{root:this.path.root,items:[...this.path.items,t]})}}_G.SqValueLocation=tOe;var Wlt={},dse={},xG={},Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.nodeVoid=Xa.nodeTernary=Xa.nodeString=Xa.nodeModuleIdentifier=Xa.nodeLetStatement=Xa.nodeLambda=Xa.nodeKeyValue=Xa.nodeInteger=Xa.nodeIdentifier=Xa.nodeFloat=Xa.nodeCall=Xa.nodeBoolean=Xa.nodeProgram=Xa.nodeBlock=Xa.constructRecord=Xa.constructArray=Xa.makeFunctionCall=Xa.postOperatorToFunction=Xa.unaryToFunction=Xa.toFunction=void 0;Xa.toFunction={"+":"add","-":"subtract","!=":"unequal",".-":"dotSubtract",".*":"dotMultiply","./":"dotDivide",".^":"dotPow",".+":"dotAdd","*":"multiply","/":"divide","&&":"and","^":"pow","<":"smaller","<=":"smallerEq","==":"equal",">":"larger",">=":"largerEq","||":"or",to:"credibleIntervalToDistribution"};Xa.unaryToFunction={"-":"unaryMinus","!":"not",".-":"unaryDotMinus"};Xa.postOperatorToFunction={".":"$_atIndex_$","()":"$$_applyAll_$$","[]":"$_atIndex_$"};function ccn(e,t,n){return e==="$$_applyAll_$$"?D_e(t[0],t.splice(1),n):D_e(Glt(e,n),t,n)}Xa.makeFunctionCall=ccn;function fcn(e,t){return{type:"Array",elements:e,location:t}}Xa.constructArray=fcn;function dcn(e,t){return{type:"Record",elements:e,location:t}}Xa.constructRecord=dcn;function hcn(e,t){return{type:"Block",statements:e,location:t}}Xa.nodeBlock=hcn;function gcn(e,t){return{type:"Program",statements:e,location:t}}Xa.nodeProgram=gcn;function pcn(e,t){return{type:"Boolean",value:e,location:t}}Xa.nodeBoolean=pcn;function D_e(e,t,n){return{type:"Call",fn:e,args:t,location:n}}Xa.nodeCall=D_e;function vcn(e,t){return{type:"Float",value:e,location:t}}Xa.nodeFloat=vcn;function Glt(e,t){return{type:"Identifier",value:e,location:t}}Xa.nodeIdentifier=Glt;function mcn(e,t){return{type:"Integer",value:e,location:t}}Xa.nodeInteger=mcn;function ycn(e,t,n){return e.type==="Identifier"&&(e=Object.assign(Object.assign({},e),{type:"String"})),{type:"KeyValue",key:e,value:t,location:n}}Xa.nodeKeyValue=ycn;function bcn(e,t,n,r){return{type:"Lambda",args:e,body:t,location:n,name:r==null?void 0:r.value}}Xa.nodeLambda=bcn;function wcn(e,t,n){const r=t.type==="Lambda"?Object.assign(Object.assign({},t),{name:e.value}):t;return{type:"LetStatement",variable:e,value:r,location:n}}Xa.nodeLetStatement=wcn;function _cn(e,t){return{type:"ModuleIdentifier",value:e,location:t}}Xa.nodeModuleIdentifier=_cn;function xcn(e,t){return{type:"String",value:e,location:t}}Xa.nodeString=xcn;function Scn(e,t,n,r){return{type:"Ternary",condition:e,trueExpression:t,falseExpression:n,location:r}}Xa.nodeTernary=Scn;function Ecn(e){return{type:"Void",location:e}}Xa.nodeVoid=Ecn;const vi=Xa;function Ccn(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function bP(e,t,n,r){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,bP.prototype),i.expected=t,i.found=n,i.location=r,i.name="SyntaxError",i}Ccn(bP,Error);function f1e(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}bP.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,r;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){n=e[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,a=this.location.source+":"+i.line+":"+i.column;if(n){var s=this.location.end,u=f1e("",i.line.toString().length," "),f=n[i.line-1],d=i.line===s.line?s.column:f.length+1,c=d-i.column||1;t+=`
 --> `+a+`
`+u+` |
`+i.line+" | "+f+`
`+u+" | "+f1e("",i.column-1," ")+f1e("",c,"^")}else t+=`
 at `+a}return t};bP.buildMessage=function(e,t){var n={literal:function(d){return'"'+i(d.text)+'"'},class:function(d){var c=d.parts.map(function(h){return Array.isArray(h)?a(h[0])+"-"+a(h[1]):a(h)});return"["+(d.inverted?"^":"")+c.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(d){return d.description}};function r(d){return d.charCodeAt(0).toString(16).toUpperCase()}function i(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+r(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+r(c)})}function a(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+r(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+r(c)})}function s(d){return n[d.type](d)}function u(d){var c=d.map(s),h,p;if(c.sort(),c.length>0){for(h=1,p=1;h<c.length;h++)c[h-1]!==c[h]&&(c[p]=c[h],p++);c.length=p}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}function f(d){return d?'"'+i(d)+'"':"end of input"}return"Expected "+u(e)+" but "+f(t)+" found."};function $cn(e,t){t=t!==void 0?t:{};var n={},r=t.grammarSource,i={start:Kk},a=Kk,s="{",u="}",f="call",d="(",c=")",h="=",p=",",v="if",m="then",y="else",w="?",_=":",S="||",C="&&",$="==",k="!=",M="<=",A="<",L=">=",N=">",R="to",D="+",j="-",U=".+",H=".-",Y="*",Z="/",Q=".*",ee="./",oe="^",ue=".^",ve="->",le="|>",de="!",me="[",Se=".",Ee="]",xe="()",Ie="'",Ne='"',We="true",Me="false",He="|",gt=";",Ye="//",ot="#",Ue="/*",st="*/",at=/^[_a-z0-9]/i,St=/^[_a-zA-Z]/,Vt=/^[$_a-z]/,tt=/^[$_a-z0-9]/i,wt=/^[A-Z]/,vt=/^[^']/,Le=/^[^"]/,ft=/^[e]/i,Mt=/^[0-9]/,yt=/^[a-z]/i,Ct=/^[_$]/,jt=/^[^\r\n]/,At=/^[^*]/,Bt=/^[ \t]/,kt=/^[\n\r]/,qt=Wr("{",!1),fn=Wr("}",!1),jn=Wr("call",!1),Mn=Wr("(",!1),Un=Wr(")",!1),Kr=cu("assignment"),Wi=Wr("=",!1),sa=Wr(",",!1),ga=Wr("if",!1),$i=Wr("then",!1),Do=Wr("else",!1),xo=Wr("?",!1),en=Wr(":",!1),sn=cu("operator"),On=Wr("||",!1),Kn=Wr("&&",!1),kr=Wr("==",!1),ti=Wr("!=",!1),Ji=Wr("<=",!1),Yi=Wr("<",!1),ka=Wr(">=",!1),fo=Wr(">",!1),Il=Wr("to",!1),Oa=Wr("+",!1),rc=Wr("-",!1),Bf=Wr(".+",!1),Hf=Wr(".-",!1),th=Wr("*",!1),Gh=Wr("/",!1),wu=Wr(".*",!1),qs=Wr("./",!1),ic=Wr("^",!1),wf=Wr(".^",!1),Fl=Wr("->",!1),Du=Wr("|>",!1),Gu=cu("unary operator"),Uf=Wr("!",!1),Nl=Wr("[",!1),ja=Wr(".",!1),lu=Wr("]",!1),_f=cu("void"),Iu=Wr("()",!1),_u=cu("identifier"),xf=hl(["_",["a","z"],["0","9"]],!1,!0),xu=hl(["_",["a","z"],["A","Z"]],!1,!1),Ev=cu("$identifier"),wd=hl(["$","_",["a","z"]],!1,!1),qh=hl(["$","_",["a","z"],["0","9"]],!1,!0),t0=hl([["A","Z"]],!1,!1),n0=cu("string"),r0=Wr("'",!1),Sf=hl(["'"],!0,!1),Yh=Wr('"',!1),nh=hl(['"'],!0,!1),Yg=cu("integer"),Vf=hl(["e"],!1,!0),Kh=cu("float"),Hm=hl([["0","9"]],!1,!1),Wf=cu("boolean"),rh=Wr("true",!1),Ef=Wr("false",!1),Xh=hl([["a","z"]],!1,!0),Zh=hl(["_","$"],!1,!1),cs=Wr("|",!1),Gf=cu("array"),ac=cu("record"),Kg=cu("whitespace"),Cv=cu("whitespace or newline"),_d=cu("statement separator"),Xg=Wr(";",!1),Cf=cu("line comment"),jc=Wr("//",!1),i0=Wr("#",!1),Pe=hl(["\r",`
`],!0,!1),ut=cu("comment"),rt=Wr("/*",!1),Ot=hl(["*"],!0,!1),Dt=Wr("*/",!1),Tt=hl([" ","	"],!1,!1),nn=cu("newline"),Sn=hl([`
`,"\r"],!1,!1),Fn=function(te){return te},gn=function(te,ke){return ke&&te.push(ke),vi.nodeProgram(te,ki())},Xn=function(te){return vi.nodeProgram([te],ki())},or=function(te){return vi.nodeBlock([te],ki())},An=function(te,ke){return ke&&te.push(ke),vi.nodeBlock(te,ki())},cr=function(te){return vi.nodeBlock([te],ki())},bn=function(te,ke){return[te,...ke]},Zn=function(te){return[te]},Ve=function(te){var ke=vi.nodeIdentifier("_",ki());return vi.nodeLetStatement(ke,te,ki())},$t=function(te,ke){return vi.nodeLetStatement(te,ke,ki())},an=function(te,ke,De){var Ae=vi.nodeLambda(ke,De,ki(),te);return vi.nodeLetStatement(te,Ae,ki())},_n=function(te,ke){return[te,...ke]},In=function(){return[vi.nodeIdentifier("_",ki())]},Yn=function(te,ke,De){return vi.nodeTernary(te,ke,De,ki())},pi=function(te,ke,De){return vi.nodeTernary(te,ke,De,ki())},ir=function(te,ke,De){return{operator:ke,right:De}},Cn=function(te,ke){return ke.reduce(function(De,Ae){return vi.makeFunctionCall(vi.toFunction[Ae.operator],[De,Ae.right],ki())},te)},un=function(te,ke,De){return{operator:ke,right:De}},Hr=function(te,ke){return ke.reduce(function(De,Ae){return vi.makeFunctionCall(vi.toFunction[Ae.operator],[De,Ae.right],ki())},te)},Xr=function(te,ke,De){return vi.makeFunctionCall(vi.toFunction[ke],[te,De],ki())},Ur=function(te,ke,De){return vi.makeFunctionCall(vi.toFunction[ke],[te,De],ki())},gr=function(te,ke,De){return{operator:ke,right:De}},Er=function(te,ke){return ke.reduce(function(De,Ae){return vi.makeFunctionCall(vi.toFunction[Ae.operator],[De,Ae.right],ki())},te)},pr=function(te,ke,De){return{operator:ke,right:De}},vr=function(te,ke){return ke.reduce(function(De,Ae){return vi.makeFunctionCall(vi.toFunction[Ae.operator],[De,Ae.right],ki())},te)},ri=function(te,ke,De){return{operator:ke,right:De}},ua=function(te,ke){return ke.reduce(function(De,Ae){return vi.makeFunctionCall(vi.toFunction[Ae.operator],[De,Ae.right],ki())},te)},Ga=function(te,ke,De){return{operator:ke,right:De}},Fr=function(te,ke){return ke.reduce(function(De,Ae){return vi.makeFunctionCall(vi.toFunction[Ae.operator],[De,Ae.right],ki())},te)},to=function(te,ke){return ke},Li=function(te,ke){return ke.reduce(function(De,Ae){return vi.makeFunctionCall(vi.postOperatorToFunction["()"],[Ae.callable,De,...Ae.args],ki())},te)},ll=function(te,ke){return{callable:te,args:ke}},Vr=function(te){return{callable:te,args:[]}},oo=function(te){return{callable:te,args:[]}},Io=function(te,ke){return vi.makeFunctionCall(vi.unaryToFunction[te],[ke],ki())},qo=function(te,ke){return{fn:vi.postOperatorToFunction["[]"],args:[ke]}},Zr=function(te,ke){return{fn:vi.postOperatorToFunction["[]"],args:[vi.nodeString(ke,ki())]}},cl=function(te,ke){return ke.reduce(function(De,Ae){return vi.makeFunctionCall(Ae.fn,[De,...Ae.args],ki())},te)},Qh=function(te,ke){return{fn:vi.postOperatorToFunction["()"],args:ke}},xd=function(te,ke){return{fn:vi.postOperatorToFunction["[]"],args:[ke]}},vw=function(te,ke){return{fn:vi.postOperatorToFunction["[]"],args:[vi.nodeString(ke,ki())]}},qk=function(te,ke){return ke.reduce(function(De,Ae){return vi.makeFunctionCall(Ae.fn,[De,...Ae.args],ki())},te)},WE=function(te,ke){return[te,...ke]},F_=function(){return[vi.nodeVoid(ki())]},GE=function(te){return te},Um=function(){return vi.nodeVoid(ki())},a0=function(te,ke,De){let Ae=[...ke];Ae.unshift(te),Ae.push(De);let Ge=Ae.join(".");return vi.nodeIdentifier(Ge,ki())},qE=function(){return vi.nodeIdentifier(Ba(),ki())},YE=function(){return vi.nodeIdentifier(Ba(),ki())},N_=function(){return vi.nodeModuleIdentifier(Ba(),ki())},li=function(te){return vi.nodeString(te.join(""),ki())},qf=function(te){return vi.nodeString(te.join(""),ki())},o0=function(te,ke){return ke===null?te:vi.makeFunctionCall("fromUnit_"+ke.value,[te],ki())},wi=function(){return vi.nodeInteger(parseInt(Ba()),ki())},_i=function(){return vi.nodeFloat(parseFloat(Ba()),ki())},Jh=function(){return vi.nodeBoolean(Ba()==="true",ki())},xy=function(te,ke,De){return ke.push(De),vi.nodeLambda(te,vi.nodeBlock(ke,ki()),ki(),void 0)},Sy=function(te,ke){return vi.nodeLambda(te,ke,ki(),void 0)},fl=function(){return vi.constructArray([],ki())},Vm=function(te){return vi.constructArray(te,ki())},ge=function(te,ke){return[te,...ke]},zl=function(){return vi.constructRecord([],ki())},z_=function(te){return vi.constructRecord(te,ki())},mw=function(te,ke){return[te,...ke]},Wm=function(te,ke){return vi.nodeKeyValue(te,ke,ki())},re=0,nr=0,$v=[{line:1,column:1}],dl=0,s0=[],pt=0,Jt={},eg;if("startRule"in t){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');a=i[t.startRule]}function Ba(){return e.substring(nr,re)}function ki(){return yw(nr,re)}function Wr(te,ke){return{type:"literal",text:te,ignoreCase:ke}}function hl(te,ke,De){return{type:"class",parts:te,inverted:ke,ignoreCase:De}}function RT(){return{type:"end"}}function cu(te){return{type:"other",description:te}}function Sd(te){var ke=$v[te],De;if(ke)return ke;for(De=te-1;!$v[De];)De--;for(ke=$v[De],ke={line:ke.line,column:ke.column};De<te;)e.charCodeAt(De)===10?(ke.line++,ke.column=1):ke.column++,De++;return $v[te]=ke,ke}function yw(te,ke){var De=Sd(te),Ae=Sd(ke);return{source:r,start:{offset:te,line:De.line,column:De.column},end:{offset:ke,line:Ae.line,column:Ae.column}}}function Wt(te){re<dl||(re>dl&&(dl=re,s0=[]),s0.push(te))}function Yk(te,ke,De){return new bP(bP.buildMessage(te,ke),te,ke,De)}function Kk(){var te,ke,De=re*76+0,Ae=Jt[De];return Ae?(re=Ae.nextPos,Ae.result):(te=re,sr(),ke=j_(),ke!==n?(sr(),Su(),nr=te,te=Fn(ke)):(re=te,te=n),Jt[De]={nextPos:re,result:te},te)}function KE(){var te,ke=re*76+1,De=Jt[ke];return De?(re=De.nextPos,De.result):(te=Jm(),te===n&&(te=Zg()),Jt[ke]={nextPos:re,result:te},te)}function j_(){var te,ke,De,Ae,Ge,Et=re*76+2,Gt=Jt[Et];return Gt?(re=Gt.nextPos,Gt.result):(te=re,ke=hn(),ke!==n?(De=re,Ae=$d(),Ae!==n?(Ge=Mo(),Ge!==n?De=Ge:(re=De,De=n)):(re=De,De=n),De===n&&(De=null),nr=te,te=gn(ke,De)):(re=te,te=n),te===n&&(te=re,ke=Mo(),ke!==n&&(nr=te,ke=Xn(ke)),te=ke),Jt[Et]={nextPos:re,result:te},te)}function Zg(){var te,ke,De=re*76+3,Ae=Jt[De];return Ae?(re=Ae.nextPos,Ae.result):(te=Ft(),te===n&&(te=re,ke=Mo(),ke!==n&&(nr=te,ke=or(ke)),te=ke),Jt[De]={nextPos:re,result:te},te)}function Ft(){var te,ke,De,Ae,Ge,Et,Gt=re*76+4,Pn=Jt[Gt];return Pn?(re=Pn.nextPos,Pn.result):(te=re,e.charCodeAt(re)===123?(ke=s,re++):(ke=n,pt===0&&Wt(qt)),ke!==n?(sr(),De=hn(),De!==n?(Ae=re,Ge=$d(),Ge!==n?(Et=Mo(),Et!==n?Ae=Et:(re=Ae,Ae=n)):(re=Ae,Ae=n),Ae!==n?(Ge=sr(),e.charCodeAt(re)===125?(Et=u,re++):(Et=n,pt===0&&Wt(fn)),Et!==n?(nr=te,te=An(De,Ae)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),te===n&&(te=re,e.charCodeAt(re)===123?(ke=s,re++):(ke=n,pt===0&&Wt(qt)),ke!==n?(sr(),De=Mo(),De!==n?(Ae=sr(),e.charCodeAt(re)===125?(Ge=u,re++):(Ge=n,pt===0&&Wt(fn)),Ge!==n?(nr=te,te=cr(De)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)),Jt[Gt]={nextPos:re,result:te},te)}function hn(){var te,ke,De,Ae,Ge,Et=re*76+5,Gt=Jt[Et];return Gt?(re=Gt.nextPos,Gt.result):(te=re,ke=Rt(),ke!==n?(De=re,Ae=$d(),Ae!==n?(Ge=hn(),Ge!==n?De=Ge:(re=De,De=n)):(re=De,De=n),De!==n?(nr=te,te=bn(ke,De)):(re=te,te=n)):(re=te,te=n),te===n&&(te=re,ke=Rt(),ke!==n&&(nr=te,ke=Zn(ke)),te=ke),Jt[Et]={nextPos:re,result:te},te)}function Rt(){var te,ke=re*76+6,De=Jt[ke];return De?(re=De.nextPos,De.result):(te=na(),te===n&&(te=So(),te===n&&(te=Or())),Jt[ke]={nextPos:re,result:te},te)}function Or(){var te,ke,De,Ae=re*76+7,Ge=Jt[Ae];return Ge?(re=Ge.nextPos,Ge.result):(te=re,e.substr(re,4)===f?(ke=f,re+=4):(ke=n,pt===0&&Wt(jn)),ke!==n?(sr(),De=KE(),De!==n?(nr=te,te=Ve(De)):(re=te,te=n)):(re=te,te=n),Jt[Ae]={nextPos:re,result:te},te)}function na(){var te,ke,De,Ae,Ge=re*76+8,Et=Jt[Ge];return Et?(re=Et.nextPos,Et.result):(te=re,ke=Zm(),ke!==n?(qa(),De=Ls(),De!==n?(sr(),Ae=KE(),Ae!==n?(nr=te,te=$t(ke,Ae)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),Jt[Ge]={nextPos:re,result:te},te)}function So(){var te,ke,De,Ae,Ge,Et,Gt,Pn=re*76+9,la=Jt[Pn];return la?(re=la.nextPos,la.result):(te=re,ke=Zm(),ke!==n?(e.charCodeAt(re)===40?(De=d,re++):(De=n,pt===0&&Wt(Mn)),De!==n?(sr(),Ae=so(),Ae!==n?(sr(),e.charCodeAt(re)===41?(Ge=c,re++):(Ge=n,pt===0&&Wt(Un)),Ge!==n?(qa(),Et=Ls(),Et!==n?(sr(),Gt=Zg(),Gt!==n?(nr=te,te=an(ke,Ae,Gt)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),Jt[Pn]={nextPos:re,result:te},te)}function Ls(){var te,ke=re*76+10,De=Jt[ke];return De?(re=De.nextPos,De.result):(pt++,e.charCodeAt(re)===61?(te=h,re++):(te=n,pt===0&&Wt(Wi)),pt--,te===n&&pt===0&&Wt(Kr),Jt[ke]={nextPos:re,result:te},te)}function so(){var te,ke,De,Ae,Ge,Et,Gt=re*76+11,Pn=Jt[Gt];if(Pn)return re=Pn.nextPos,Pn.result;if(te=re,ke=Qg(),ke!==n){for(De=[],Ae=re,qa(),e.charCodeAt(re)===44?(Ge=p,re++):(Ge=n,pt===0&&Wt(sa)),Ge!==n?(sr(),Et=Qg(),Et!==n?Ae=Et:(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,qa(),e.charCodeAt(re)===44?(Ge=p,re++):(Ge=n,pt===0&&Wt(sa)),Ge!==n?(sr(),Et=Qg(),Et!==n?Ae=Et:(re=Ae,Ae=n)):(re=Ae,Ae=n);nr=te,te=_n(ke,De)}else re=te,te=n;return te===n&&(te=re,ke="",nr=te,ke=In(),te=ke),Jt[Gt]={nextPos:re,result:te},te}function Mo(){var te,ke=re*76+12,De=Jt[ke];return De?(re=De.nextPos,De.result):(te=Gm(),te===n&&(te=Bc(),te===n&&(te=u0())),Jt[ke]={nextPos:re,result:te},te)}function Gm(){var te,ke,De,Ae,Ge,Et,Gt,Pn,la,Ia,Ya,Uc,$f=re*76+13,Ty=Jt[$f];return Ty?(re=Ty.nextPos,Ty.result):(te=re,e.substr(re,2)===v?(ke=v,re+=2):(ke=n,pt===0&&Wt(ga)),ke!==n?(De=h0(),De!==n?(Ae=u0(),Ae!==n?(Ge=h0(),Ge!==n?(e.substr(re,4)===m?(Et=m,re+=4):(Et=n,pt===0&&Wt($i)),Et!==n?(Gt=h0(),Gt!==n?(Pn=Zg(),Pn!==n?(la=h0(),la!==n?(e.substr(re,4)===y?(Ia=y,re+=4):(Ia=n,pt===0&&Wt(Do)),Ia!==n?(Ya=h0(),Ya!==n?(Uc=Gm(),Uc===n&&(Uc=Zg()),Uc!==n?(nr=te,te=Yn(Ae,Pn,Uc)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),Jt[$f]={nextPos:re,result:te},te)}function Bc(){var te,ke,De,Ae,Ge,Et,Gt=re*76+14,Pn=Jt[Gt];return Pn?(re=Pn.nextPos,Pn.result):(te=re,ke=u0(),ke!==n?(qa(),e.charCodeAt(re)===63?(De=w,re++):(De=n,pt===0&&Wt(xo)),De!==n?(sr(),Ae=u0(),Ae!==n?(qa(),e.charCodeAt(re)===58?(Ge=_,re++):(Ge=n,pt===0&&Wt(en)),Ge!==n?(sr(),Et=Bc(),Et===n&&(Et=u0()),Et!==n?(nr=te,te=pi(ke,Ae,Et)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),Jt[Gt]={nextPos:re,result:te},te)}function u0(){var te,ke,De,Ae,Ge,Et,Gt=re*76+15,Pn=Jt[Gt];if(Pn)return re=Pn.nextPos,Pn.result;if(te=re,ke=tg(),ke!==n){for(De=[],Ae=re,qa(),Ge=B_(),Ge!==n?(sr(),Et=tg(),Et!==n?(nr=Ae,Ae=ir(ke,Ge,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,qa(),Ge=B_(),Ge!==n?(sr(),Et=tg(),Et!==n?(nr=Ae,Ae=ir(ke,Ge,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);nr=te,te=Cn(ke,De)}else re=te,te=n;return Jt[Gt]={nextPos:re,result:te},te}function B_(){var te,ke=re*76+16,De=Jt[ke];return De?(re=De.nextPos,De.result):(pt++,e.substr(re,2)===S?(te=S,re+=2):(te=n,pt===0&&Wt(On)),pt--,te===n&&pt===0&&Wt(sn),Jt[ke]={nextPos:re,result:te},te)}function tg(){var te,ke,De,Ae,Ge,Et,Gt=re*76+17,Pn=Jt[Gt];if(Pn)return re=Pn.nextPos,Pn.result;if(te=re,ke=qm(),ke!==n){for(De=[],Ae=re,qa(),Ge=Ey(),Ge!==n?(sr(),Et=qm(),Et!==n?(nr=Ae,Ae=un(ke,Ge,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,qa(),Ge=Ey(),Ge!==n?(sr(),Et=qm(),Et!==n?(nr=Ae,Ae=un(ke,Ge,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);nr=te,te=Hr(ke,De)}else re=te,te=n;return Jt[Gt]={nextPos:re,result:te},te}function Ey(){var te,ke=re*76+18,De=Jt[ke];return De?(re=De.nextPos,De.result):(pt++,e.substr(re,2)===C?(te=C,re+=2):(te=n,pt===0&&Wt(Kn)),pt--,te===n&&pt===0&&Wt(sn),Jt[ke]={nextPos:re,result:te},te)}function qm(){var te,ke,De,Ae,Ge=re*76+19,Et=Jt[Ge];return Et?(re=Et.nextPos,Et.result):(te=re,ke=H_(),ke!==n?(qa(),De=Fo(),De!==n?(sr(),Ae=H_(),Ae!==n?(nr=te,te=Xr(ke,De,Ae)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),te===n&&(te=H_()),Jt[Ge]={nextPos:re,result:te},te)}function Fo(){var te,ke=re*76+20,De=Jt[ke];return De?(re=De.nextPos,De.result):(pt++,e.substr(re,2)===$?(te=$,re+=2):(te=n,pt===0&&Wt(kr)),te===n&&(e.substr(re,2)===k?(te=k,re+=2):(te=n,pt===0&&Wt(ti))),pt--,te===n&&pt===0&&Wt(sn),Jt[ke]={nextPos:re,result:te},te)}function H_(){var te,ke,De,Ae,Ge=re*76+21,Et=Jt[Ge];return Et?(re=Et.nextPos,Et.result):(te=re,ke=Ym(),ke!==n?(qa(),De=Xk(),De!==n?(sr(),Ae=Ym(),Ae!==n?(nr=te,te=Ur(ke,De,Ae)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),te===n&&(te=Ym()),Jt[Ge]={nextPos:re,result:te},te)}function Xk(){var te,ke=re*76+22,De=Jt[ke];return De?(re=De.nextPos,De.result):(pt++,e.substr(re,2)===M?(te=M,re+=2):(te=n,pt===0&&Wt(Ji)),te===n&&(e.charCodeAt(re)===60?(te=A,re++):(te=n,pt===0&&Wt(Yi)),te===n&&(e.substr(re,2)===L?(te=L,re+=2):(te=n,pt===0&&Wt(ka)),te===n&&(e.charCodeAt(re)===62?(te=N,re++):(te=n,pt===0&&Wt(fo))))),pt--,te===n&&pt===0&&Wt(sn),Jt[ke]={nextPos:re,result:te},te)}function Ym(){var te,ke,De,Ae,Ge,Et,Gt,Pn,la=re*76+23,Ia=Jt[la];if(Ia)return re=Ia.nextPos,Ia.result;if(te=re,ke=U_(),ke!==n){for(De=[],Ae=re,Ge=Ay(),Ge!==n?(Et=XE(),Et!==n?(Gt=h0(),Gt!==n?(Pn=U_(),Pn!==n?(nr=Ae,Ae=gr(ke,Et,Pn)):(re=Ae,Ae=n)):(re=Ae,Ae=n)):(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,Ge=Ay(),Ge!==n?(Et=XE(),Et!==n?(Gt=h0(),Gt!==n?(Pn=U_(),Pn!==n?(nr=Ae,Ae=gr(ke,Et,Pn)):(re=Ae,Ae=n)):(re=Ae,Ae=n)):(re=Ae,Ae=n)):(re=Ae,Ae=n);nr=te,te=Er(ke,De)}else re=te,te=n;return Jt[la]={nextPos:re,result:te},te}function XE(){var te,ke=re*76+24,De=Jt[ke];return De?(re=De.nextPos,De.result):(pt++,e.substr(re,2)===R?(te=R,re+=2):(te=n,pt===0&&Wt(Il)),pt--,te===n&&pt===0&&Wt(sn),Jt[ke]={nextPos:re,result:te},te)}function U_(){var te,ke,De,Ae,Ge,Et,Gt=re*76+25,Pn=Jt[Gt];if(Pn)return re=Pn.nextPos,Pn.result;if(te=re,ke=ng(),ke!==n){for(De=[],Ae=re,qa(),Ge=bw(),Ge!==n?(sr(),Et=ng(),Et!==n?(nr=Ae,Ae=pr(ke,Ge,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,qa(),Ge=bw(),Ge!==n?(sr(),Et=ng(),Et!==n?(nr=Ae,Ae=pr(ke,Ge,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);nr=te,te=vr(ke,De)}else re=te,te=n;return Jt[Gt]={nextPos:re,result:te},te}function bw(){var te,ke=re*76+26,De=Jt[ke];return De?(re=De.nextPos,De.result):(pt++,e.charCodeAt(re)===43?(te=D,re++):(te=n,pt===0&&Wt(Oa)),te===n&&(e.charCodeAt(re)===45?(te=j,re++):(te=n,pt===0&&Wt(rc)),te===n&&(e.substr(re,2)===U?(te=U,re+=2):(te=n,pt===0&&Wt(Bf)),te===n&&(e.substr(re,2)===H?(te=H,re+=2):(te=n,pt===0&&Wt(Hf))))),pt--,te===n&&pt===0&&Wt(sn),Jt[ke]={nextPos:re,result:te},te)}function ng(){var te,ke,De,Ae,Ge,Et,Gt=re*76+27,Pn=Jt[Gt];if(Pn)return re=Pn.nextPos,Pn.result;if(te=re,ke=Ed(),ke!==n){for(De=[],Ae=re,qa(),Ge=oc(),Ge!==n?(sr(),Et=Ed(),Et!==n?(nr=Ae,Ae=ri(ke,Ge,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,qa(),Ge=oc(),Ge!==n?(sr(),Et=Ed(),Et!==n?(nr=Ae,Ae=ri(ke,Ge,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);nr=te,te=ua(ke,De)}else re=te,te=n;return Jt[Gt]={nextPos:re,result:te},te}function oc(){var te,ke=re*76+28,De=Jt[ke];return De?(re=De.nextPos,De.result):(pt++,e.charCodeAt(re)===42?(te=Y,re++):(te=n,pt===0&&Wt(th)),te===n&&(e.charCodeAt(re)===47?(te=Z,re++):(te=n,pt===0&&Wt(Gh)),te===n&&(e.substr(re,2)===Q?(te=Q,re+=2):(te=n,pt===0&&Wt(wu)),te===n&&(e.substr(re,2)===ee?(te=ee,re+=2):(te=n,pt===0&&Wt(qs))))),pt--,te===n&&pt===0&&Wt(sn),Jt[ke]={nextPos:re,result:te},te)}function Ed(){var te,ke,De,Ae,Ge,Et,Gt=re*76+29,Pn=Jt[Gt];if(Pn)return re=Pn.nextPos,Pn.result;if(te=re,ke=ns(),ke!==n){for(De=[],Ae=re,qa(),Ge=V_(),Ge!==n?(sr(),Et=ns(),Et!==n?(nr=Ae,Ae=Ga(ke,Ge,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,qa(),Ge=V_(),Ge!==n?(sr(),Et=ns(),Et!==n?(nr=Ae,Ae=Ga(ke,Ge,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);nr=te,te=Fr(ke,De)}else re=te,te=n;return Jt[Gt]={nextPos:re,result:te},te}function V_(){var te,ke=re*76+30,De=Jt[ke];return De?(re=De.nextPos,De.result):(pt++,e.charCodeAt(re)===94?(te=oe,re++):(te=n,pt===0&&Wt(ic)),te===n&&(e.substr(re,2)===ue?(te=ue,re+=2):(te=n,pt===0&&Wt(wf))),pt--,te===n&&pt===0&&Wt(sn),Jt[ke]={nextPos:re,result:te},te)}function ns(){var te,ke,De,Ae,Ge,Et,Gt=re*76+31,Pn=Jt[Gt];if(Pn)return re=Pn.nextPos,Pn.result;if(te=re,ke=l0(),ke!==n){for(De=[],Ae=re,qa(),e.substr(re,2)===ve?(Ge=ve,re+=2):(Ge=n,pt===0&&Wt(Fl)),Ge===n&&(e.substr(re,2)===le?(Ge=le,re+=2):(Ge=n,pt===0&&Wt(Du))),Ge!==n?(sr(),Et=W_(),Et!==n?(nr=Ae,Ae=to(ke,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,qa(),e.substr(re,2)===ve?(Ge=ve,re+=2):(Ge=n,pt===0&&Wt(Fl)),Ge===n&&(e.substr(re,2)===le?(Ge=le,re+=2):(Ge=n,pt===0&&Wt(Du))),Ge!==n?(sr(),Et=W_(),Et!==n?(nr=Ae,Ae=to(ke,Et)):(re=Ae,Ae=n)):(re=Ae,Ae=n);nr=te,te=Li(ke,De)}else re=te,te=n;return Jt[Gt]={nextPos:re,result:te},te}function W_(){var te,ke,De,Ae,Ge,Et=re*76+32,Gt=Jt[Et];return Gt?(re=Gt.nextPos,Gt.result):(te=re,ke=Cy(),ke!==n?(e.charCodeAt(re)===40?(De=d,re++):(De=n,pt===0&&Wt(Mn)),De!==n?(sr(),Ae=G_(),Ae!==n?(sr(),e.charCodeAt(re)===41?(Ge=c,re++):(Ge=n,pt===0&&Wt(Un)),Ge!==n?(nr=te,te=ll(ke,Ae)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),te===n&&(te=re,ke=Cy(),ke!==n?(e.charCodeAt(re)===40?(De=d,re++):(De=n,pt===0&&Wt(Mn)),De!==n?(sr(),e.charCodeAt(re)===41?(Ae=c,re++):(Ae=n,pt===0&&Wt(Un)),Ae!==n?(nr=te,te=Vr(ke)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),te===n&&(te=re,ke=Cy(),ke!==n&&(nr=te,ke=oo(ke)),te=ke)),Jt[Et]={nextPos:re,result:te},te)}function Cy(){var te,ke=re*76+33,De=Jt[ke];return De?(re=De.nextPos,De.result):(te=Cd(),te===n&&(te=f0(),te===n&&(te=Zm())),Jt[ke]={nextPos:re,result:te},te)}function l0(){var te,ke,De,Ae=re*76+34,Ge=Jt[Ae];return Ge?(re=Ge.nextPos,Ge.result):(te=re,ke=$y(),ke!==n?(sr(),De=l0(),De===n&&(De=Km()),De!==n?(nr=te,te=Io(ke,De)):(re=te,te=n)):(re=te,te=n),te===n&&(te=Km()),Jt[Ae]={nextPos:re,result:te},te)}function $y(){var te,ke=re*76+35,De=Jt[ke];return De?(re=De.nextPos,De.result):(pt++,e.charCodeAt(re)===45?(te=j,re++):(te=n,pt===0&&Wt(rc)),te===n&&(e.substr(re,2)===H?(te=H,re+=2):(te=n,pt===0&&Wt(Hf)),te===n&&(e.charCodeAt(re)===33?(te=de,re++):(te=n,pt===0&&Wt(Uf)))),pt--,te===n&&pt===0&&Wt(Gu),Jt[ke]={nextPos:re,result:te},te)}function Km(){var te,ke=re*76+36,De=Jt[ke];return De?(re=De.nextPos,De.result):(te=Xm(),te===n&&(te=kv()),Jt[ke]={nextPos:re,result:te},te)}function Cd(){var te,ke,De,Ae,Ge,Et,Gt,Pn,la,Ia,Ya=re*76+37,Uc=Jt[Ya];if(Uc)return re=Uc.nextPos,Uc.result;if(te=re,ke=kv(),ke!==n)if(De=re,pt++,e.charCodeAt(re)===91?(Ae=me,re++):(Ae=n,pt===0&&Wt(Nl)),Ae===n&&(e.charCodeAt(re)===46?(Ae=Se,re++):(Ae=n,pt===0&&Wt(ja))),pt--,Ae!==n?(re=De,De=void 0):De=n,De!==n){for(Ae=[],Ge=re,Et=qa(),e.charCodeAt(re)===91?(Gt=me,re++):(Gt=n,pt===0&&Wt(Nl)),Gt!==n?(Pn=sr(),la=Mo(),la!==n?(sr(),e.charCodeAt(re)===93?(Ia=Ee,re++):(Ia=n,pt===0&&Wt(lu)),Ia!==n?(nr=Ge,Ge=qo(ke,la)):(re=Ge,Ge=n)):(re=Ge,Ge=n)):(re=Ge,Ge=n),Ge===n&&(Ge=re,e.charCodeAt(re)===46?(Et=Se,re++):(Et=n,pt===0&&Wt(ja)),Et!==n?(Gt=re,Pn=Qg(),Pn!==n?Gt=e.substring(Gt,re):Gt=Pn,Gt!==n?(nr=Ge,Ge=Zr(ke,Gt)):(re=Ge,Ge=n)):(re=Ge,Ge=n));Ge!==n;)Ae.push(Ge),Ge=re,Et=qa(),e.charCodeAt(re)===91?(Gt=me,re++):(Gt=n,pt===0&&Wt(Nl)),Gt!==n?(Pn=sr(),la=Mo(),la!==n?(sr(),e.charCodeAt(re)===93?(Ia=Ee,re++):(Ia=n,pt===0&&Wt(lu)),Ia!==n?(nr=Ge,Ge=qo(ke,la)):(re=Ge,Ge=n)):(re=Ge,Ge=n)):(re=Ge,Ge=n),Ge===n&&(Ge=re,e.charCodeAt(re)===46?(Et=Se,re++):(Et=n,pt===0&&Wt(ja)),Et!==n?(Gt=re,Pn=Qg(),Pn!==n?Gt=e.substring(Gt,re):Gt=Pn,Gt!==n?(nr=Ge,Ge=Zr(ke,Gt)):(re=Ge,Ge=n)):(re=Ge,Ge=n));nr=te,te=cl(ke,Ae)}else re=te,te=n;else re=te,te=n;return Jt[Ya]={nextPos:re,result:te},te}function Xm(){var te,ke,De,Ae,Ge,Et,Gt,Pn,la,Ia,Ya=re*76+38,Uc=Jt[Ya];if(Uc)return re=Uc.nextPos,Uc.result;if(te=re,ke=kv(),ke!==n)if(De=re,pt++,e.charCodeAt(re)===91?(Ae=me,re++):(Ae=n,pt===0&&Wt(Nl)),Ae===n&&(e.charCodeAt(re)===40?(Ae=d,re++):(Ae=n,pt===0&&Wt(Mn)),Ae===n&&(e.charCodeAt(re)===46?(Ae=Se,re++):(Ae=n,pt===0&&Wt(ja)))),pt--,Ae!==n?(re=De,De=void 0):De=n,De!==n){for(Ae=[],Ge=re,Et=qa(),e.charCodeAt(re)===40?(Gt=d,re++):(Gt=n,pt===0&&Wt(Mn)),Gt!==n?(Pn=sr(),la=G_(),la!==n?(sr(),e.charCodeAt(re)===41?(Ia=c,re++):(Ia=n,pt===0&&Wt(Un)),Ia!==n?(nr=Ge,Ge=Qh(ke,la)):(re=Ge,Ge=n)):(re=Ge,Ge=n)):(re=Ge,Ge=n),Ge===n&&(Ge=re,Et=qa(),e.charCodeAt(re)===91?(Gt=me,re++):(Gt=n,pt===0&&Wt(Nl)),Gt!==n?(Pn=sr(),la=Mo(),la!==n?(sr(),e.charCodeAt(re)===93?(Ia=Ee,re++):(Ia=n,pt===0&&Wt(lu)),Ia!==n?(nr=Ge,Ge=xd(ke,la)):(re=Ge,Ge=n)):(re=Ge,Ge=n)):(re=Ge,Ge=n),Ge===n&&(Ge=re,e.charCodeAt(re)===46?(Et=Se,re++):(Et=n,pt===0&&Wt(ja)),Et!==n?(Gt=re,Pn=Qg(),Pn!==n?Gt=e.substring(Gt,re):Gt=Pn,Gt!==n?(nr=Ge,Ge=vw(ke,Gt)):(re=Ge,Ge=n)):(re=Ge,Ge=n)));Ge!==n;)Ae.push(Ge),Ge=re,Et=qa(),e.charCodeAt(re)===40?(Gt=d,re++):(Gt=n,pt===0&&Wt(Mn)),Gt!==n?(Pn=sr(),la=G_(),la!==n?(sr(),e.charCodeAt(re)===41?(Ia=c,re++):(Ia=n,pt===0&&Wt(Un)),Ia!==n?(nr=Ge,Ge=Qh(ke,la)):(re=Ge,Ge=n)):(re=Ge,Ge=n)):(re=Ge,Ge=n),Ge===n&&(Ge=re,Et=qa(),e.charCodeAt(re)===91?(Gt=me,re++):(Gt=n,pt===0&&Wt(Nl)),Gt!==n?(Pn=sr(),la=Mo(),la!==n?(sr(),e.charCodeAt(re)===93?(Ia=Ee,re++):(Ia=n,pt===0&&Wt(lu)),Ia!==n?(nr=Ge,Ge=xd(ke,la)):(re=Ge,Ge=n)):(re=Ge,Ge=n)):(re=Ge,Ge=n),Ge===n&&(Ge=re,e.charCodeAt(re)===46?(Et=Se,re++):(Et=n,pt===0&&Wt(ja)),Et!==n?(Gt=re,Pn=Qg(),Pn!==n?Gt=e.substring(Gt,re):Gt=Pn,Gt!==n?(nr=Ge,Ge=vw(ke,Gt)):(re=Ge,Ge=n)):(re=Ge,Ge=n)));nr=te,te=qk(ke,Ae)}else re=te,te=n;else re=te,te=n;return Jt[Ya]={nextPos:re,result:te},te}function G_(){var te,ke,De,Ae,Ge,Et,Gt=re*76+39,Pn=Jt[Gt];if(Pn)return re=Pn.nextPos,Pn.result;if(te=re,ke=Mo(),ke!==n){for(De=[],Ae=re,qa(),e.charCodeAt(re)===44?(Ge=p,re++):(Ge=n,pt===0&&Wt(sa)),Ge!==n?(sr(),Et=Mo(),Et!==n?Ae=Et:(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,qa(),e.charCodeAt(re)===44?(Ge=p,re++):(Ge=n,pt===0&&Wt(sa)),Ge!==n?(sr(),Et=Mo(),Et!==n?Ae=Et:(re=Ae,Ae=n)):(re=Ae,Ae=n);nr=te,te=WE(ke,De)}else re=te,te=n;return te===n&&(te=re,ke="",nr=te,ke=F_(),te=ke),Jt[Gt]={nextPos:re,result:te},te}function kv(){var te,ke,De,Ae,Ge=re*76+40,Et=Jt[Ge];return Et?(re=Et.nextPos,Et.result):(te=re,e.charCodeAt(re)===40?(ke=d,re++):(ke=n,pt===0&&Wt(Mn)),ke!==n?(sr(),De=Mo(),De!==n?(sr(),e.charCodeAt(re)===41?(Ae=c,re++):(Ae=n,pt===0&&Wt(Un)),Ae!==n?(nr=te,te=GE(De)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),te===n&&(te=c0()),Jt[Ge]={nextPos:re,result:te},te)}function c0(){var te,ke=re*76+41,De=Jt[ke];return De?(re=De.nextPos,De.result):(te=f0(),te===n&&(te=ya()),Jt[ke]={nextPos:re,result:te},te)}function ya(){var te,ke=re*76+42,De=Jt[ke];return De?(re=De.nextPos,De.result):(te=Ys(),te===n&&(te=Hc(),te===n&&(te=ww(),te===n&&(te=Zm(),te===n&&(te=ky())))),Jt[ke]={nextPos:re,result:te},te)}function ky(){var te,ke,De=re*76+43,Ae=Jt[De];return Ae?(re=Ae.nextPos,Ae.result):(pt++,te=re,e.substr(re,2)===xe?(ke=xe,re+=2):(ke=n,pt===0&&Wt(Iu)),ke!==n&&(nr=te,ke=Um()),te=ke,pt--,te===n&&(ke=n,pt===0&&Wt(_f)),Jt[De]={nextPos:re,result:te},te)}function Zm(){var te,ke=re*76+44,De=Jt[ke];return De?(re=De.nextPos,De.result):(te=ZE(),te===n&&(te=Qg()),Jt[ke]={nextPos:re,result:te},te)}function ZE(){var te,ke,De,Ae,Ge,Et,Gt,Pn,la=re*76+45,Ia=Jt[la];if(Ia)return re=Ia.nextPos,Ia.result;if(pt++,te=re,ke=re,De=q_(),De!==n?ke=e.substring(ke,re):ke=De,ke!==n){for(De=[],Ae=re,e.charCodeAt(re)===46?(Ge=Se,re++):(Ge=n,pt===0&&Wt(ja)),Ge!==n?(Et=sr(),Gt=re,Pn=q_(),Pn!==n?Gt=e.substring(Gt,re):Gt=Pn,Gt!==n?Ae=Gt:(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,e.charCodeAt(re)===46?(Ge=Se,re++):(Ge=n,pt===0&&Wt(ja)),Ge!==n?(Et=sr(),Gt=re,Pn=q_(),Pn!==n?Gt=e.substring(Gt,re):Gt=Pn,Gt!==n?Ae=Gt:(re=Ae,Ae=n)):(re=Ae,Ae=n);e.charCodeAt(re)===46?(Ae=Se,re++):(Ae=n,pt===0&&Wt(ja)),Ae!==n?(Ge=sr(),Et=re,Gt=Qg(),Gt!==n?Et=e.substring(Et,re):Et=Gt,Et!==n?(nr=te,te=a0(ke,De,Et)):(re=te,te=n)):(re=te,te=n)}else re=te,te=n;return pt--,te===n&&(ke=n,pt===0&&Wt(_u)),Jt[la]={nextPos:re,result:te},te}function QE(){var te,ke,De,Ae,Ge,Et=re*76+47,Gt=Jt[Et];if(Gt)return re=Gt.nextPos,Gt.result;if(pt++,te=re,ke=re,De=[],St.test(e.charAt(re))?(Ae=e.charAt(re),re++):(Ae=n,pt===0&&Wt(xu)),Ae!==n)for(;Ae!==n;)De.push(Ae),St.test(e.charAt(re))?(Ae=e.charAt(re),re++):(Ae=n,pt===0&&Wt(xu));else De=n;if(De!==n){for(Ae=[],at.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(xf));Ge!==n;)Ae.push(Ge),at.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(xf));De=[De,Ae],ke=De}else re=ke,ke=n;return ke!==n&&(nr=te,ke=qE()),te=ke,pt--,te===n&&(ke=n,pt===0&&Wt(_u)),Jt[Et]={nextPos:re,result:te},te}function Qg(){var te,ke,De,Ae,Ge,Et=re*76+48,Gt=Jt[Et];if(Gt)return re=Gt.nextPos,Gt.result;if(pt++,te=re,ke=re,De=[],Vt.test(e.charAt(re))?(Ae=e.charAt(re),re++):(Ae=n,pt===0&&Wt(wd)),Ae!==n)for(;Ae!==n;)De.push(Ae),Vt.test(e.charAt(re))?(Ae=e.charAt(re),re++):(Ae=n,pt===0&&Wt(wd));else De=n;if(De!==n){for(Ae=[],tt.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(qh));Ge!==n;)Ae.push(Ge),tt.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(qh));De=[De,Ae],ke=De}else re=ke,ke=n;return ke!==n&&(nr=te,ke=YE()),te=ke,pt--,te===n&&(ke=n,pt===0&&Wt(Ev)),Jt[Et]={nextPos:re,result:te},te}function q_(){var te,ke,De,Ae,Ge,Et=re*76+49,Gt=Jt[Et];if(Gt)return re=Gt.nextPos,Gt.result;if(pt++,te=re,ke=re,De=[],wt.test(e.charAt(re))?(Ae=e.charAt(re),re++):(Ae=n,pt===0&&Wt(t0)),Ae!==n)for(;Ae!==n;)De.push(Ae),wt.test(e.charAt(re))?(Ae=e.charAt(re),re++):(Ae=n,pt===0&&Wt(t0));else De=n;if(De!==n){for(Ae=[],at.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(xf));Ge!==n;)Ae.push(Ge),at.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(xf));De=[De,Ae],ke=De}else re=ke,ke=n;return ke!==n&&(nr=te,ke=N_()),te=ke,pt--,te===n&&(ke=n,pt===0&&Wt(_u)),Jt[Et]={nextPos:re,result:te},te}function Ys(){var te,ke,De,Ae,Ge,Et=re*76+50,Gt=Jt[Et];if(Gt)return re=Gt.nextPos,Gt.result;if(pt++,te=re,ke=re,e.charCodeAt(re)===39?(De=Ie,re++):(De=n,pt===0&&Wt(r0)),De!==n){for(Ae=[],vt.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(Sf));Ge!==n;)Ae.push(Ge),vt.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(Sf));e.charCodeAt(re)===39?(Ge=Ie,re++):(Ge=n,pt===0&&Wt(r0)),Ge!==n?ke=Ae:(re=ke,ke=n)}else re=ke,ke=n;if(ke!==n&&(nr=te,ke=li(ke)),te=ke,te===n){if(te=re,ke=re,e.charCodeAt(re)===34?(De=Ne,re++):(De=n,pt===0&&Wt(Yh)),De!==n){for(Ae=[],Le.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(nh));Ge!==n;)Ae.push(Ge),Le.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(nh));e.charCodeAt(re)===34?(Ge=Ne,re++):(Ge=n,pt===0&&Wt(Yh)),Ge!==n?ke=Ae:(re=ke,ke=n)}else re=ke,ke=n;ke!==n&&(nr=te,ke=qf(ke)),te=ke}return pt--,te===n&&(ke=n,pt===0&&Wt(n0)),Jt[Et]={nextPos:re,result:te},te}function Hc(){var te,ke,De,Ae=re*76+51,Ge=Jt[Ae];return Ge?(re=Ge.nextPos,Ge.result):(te=re,ke=Y_(),ke===n&&(ke=Qm()),ke!==n?(De=QE(),De===n&&(De=null),nr=te,te=o0(ke,De)):(re=te,te=n),Jt[Ae]={nextPos:re,result:te},te)}function Qm(){var te,ke,De,Ae,Ge,Et=re*76+52,Gt=Jt[Et];if(Gt)return re=Gt.nextPos,Gt.result;if(pt++,te=re,ke=[],De=gl(),De!==n)for(;De!==n;)ke.push(De),De=gl();else ke=n;return ke!==n?(De=re,pt++,e.charCodeAt(re)===46?(Ae=Se,re++):(Ae=n,pt===0&&Wt(ja)),pt--,Ae===n?De=void 0:(re=De,De=n),De!==n?(Ae=re,pt++,ft.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(Vf)),pt--,Ge===n?Ae=void 0:(re=Ae,Ae=n),Ae!==n?(nr=te,te=wi()):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),pt--,te===n&&(ke=n,pt===0&&Wt(Yg)),Jt[Et]={nextPos:re,result:te},te}function Y_(){var te,ke,De,Ae,Ge,Et,Gt,Pn,la=re*76+53,Ia=Jt[la];if(Ia)return re=Ia.nextPos,Ia.result;if(pt++,te=re,ke=re,De=re,Ae=re,Ge=[],Et=gl(),Et!==n)for(;Et!==n;)Ge.push(Et),Et=gl();else Ge=n;if(Ge!==n)if(e.charCodeAt(re)===46?(Et=Se,re++):(Et=n,pt===0&&Wt(ja)),Et!==n){for(Gt=[],Pn=gl();Pn!==n;)Gt.push(Pn),Pn=gl();Ge=[Ge,Et,Gt],Ae=Ge}else re=Ae,Ae=n;else re=Ae,Ae=n;if(Ae===n)if(Ae=re,e.charCodeAt(re)===46?(Ge=Se,re++):(Ge=n,pt===0&&Wt(ja)),Ge!==n){if(Et=[],Gt=gl(),Gt!==n)for(;Gt!==n;)Et.push(Gt),Gt=gl();else Et=n;Et!==n?(Ge=[Ge,Et],Ae=Ge):(re=Ae,Ae=n)}else re=Ae,Ae=n;if(Ae!==n?(Ge=Gi(),Ge===n&&(Ge=null),Ae=[Ae,Ge],De=Ae):(re=De,De=n),De===n){if(De=re,Ae=[],Ge=gl(),Ge!==n)for(;Ge!==n;)Ae.push(Ge),Ge=gl();else Ae=n;Ae!==n?(Ge=Gi(),Ge!==n?(Ae=[Ae,Ge],De=Ae):(re=De,De=n)):(re=De,De=n)}return De!==n?ke=e.substring(ke,re):ke=De,ke!==n&&(nr=te,ke=_i()),te=ke,pt--,te===n&&(ke=n,pt===0&&Wt(Kh)),Jt[la]={nextPos:re,result:te},te}function Gi(){var te,ke,De,Ae,Ge,Et=re*76+54,Gt=Jt[Et];if(Gt)return re=Gt.nextPos,Gt.result;if(te=re,ft.test(e.charAt(re))?(ke=e.charAt(re),re++):(ke=n,pt===0&&Wt(Vf)),ke!==n){if(e.charCodeAt(re)===45?(De=j,re++):(De=n,pt===0&&Wt(rc)),De===n&&(De=null),Ae=[],Ge=gl(),Ge!==n)for(;Ge!==n;)Ae.push(Ge),Ge=gl();else Ae=n;Ae!==n?(ke=[ke,De,Ae],te=ke):(re=te,te=n)}else re=te,te=n;return Jt[Et]={nextPos:re,result:te},te}function gl(){var te,ke=re*76+55,De=Jt[ke];return De?(re=De.nextPos,De.result):(Mt.test(e.charAt(re))?(te=e.charAt(re),re++):(te=n,pt===0&&Wt(Hm)),Jt[ke]={nextPos:re,result:te},te)}function ww(){var te,ke,De,Ae,Ge,Et=re*76+56,Gt=Jt[Et];return Gt?(re=Gt.nextPos,Gt.result):(pt++,te=re,e.substr(re,4)===We?(ke=We,re+=4):(ke=n,pt===0&&Wt(rh)),ke===n&&(e.substr(re,5)===Me?(ke=Me,re+=5):(ke=n,pt===0&&Wt(Ef))),ke!==n?(De=re,pt++,yt.test(e.charAt(re))?(Ae=e.charAt(re),re++):(Ae=n,pt===0&&Wt(Xh)),pt--,Ae===n?De=void 0:(re=De,De=n),De!==n?(Ae=re,pt++,Ct.test(e.charAt(re))?(Ge=e.charAt(re),re++):(Ge=n,pt===0&&Wt(Zh)),pt--,Ge===n?Ae=void 0:(re=Ae,Ae=n),Ae!==n?(nr=te,te=Jh()):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),pt--,te===n&&(ke=n,pt===0&&Wt(Wf)),Jt[Et]={nextPos:re,result:te},te)}function f0(){var te,ke=re*76+57,De=Jt[ke];return De?(re=De.nextPos,De.result):(te=d0(),te===n&&(te=e1(),te===n&&(te=Jm(),te===n&&(te=Ft()))),Jt[ke]={nextPos:re,result:te},te)}function Jm(){var te,ke,De,Ae,Ge,Et,Gt,Pn,la,Ia=re*76+58,Ya=Jt[Ia];return Ya?(re=Ya.nextPos,Ya.result):(te=re,e.charCodeAt(re)===123?(ke=s,re++):(ke=n,pt===0&&Wt(qt)),ke!==n?(sr(),e.charCodeAt(re)===124?(De=He,re++):(De=n,pt===0&&Wt(cs)),De!==n?(sr(),Ae=so(),Ae!==n?(sr(),e.charCodeAt(re)===124?(Ge=He,re++):(Ge=n,pt===0&&Wt(cs)),Ge!==n?(sr(),Et=hn(),Et!==n?(Gt=re,Pn=$d(),Pn!==n?(la=Mo(),la!==n?Gt=la:(re=Gt,Gt=n)):(re=Gt,Gt=n),Gt!==n?(Pn=sr(),e.charCodeAt(re)===125?(la=u,re++):(la=n,pt===0&&Wt(fn)),la!==n?(nr=te,te=xy(Ae,Et,Gt)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),te===n&&(te=re,e.charCodeAt(re)===123?(ke=s,re++):(ke=n,pt===0&&Wt(qt)),ke!==n?(sr(),e.charCodeAt(re)===124?(De=He,re++):(De=n,pt===0&&Wt(cs)),De!==n?(sr(),Ae=so(),Ae!==n?(sr(),e.charCodeAt(re)===124?(Ge=He,re++):(Ge=n,pt===0&&Wt(cs)),Ge!==n?(sr(),Et=Mo(),Et!==n?(Gt=sr(),e.charCodeAt(re)===125?(Pn=u,re++):(Pn=n,pt===0&&Wt(fn)),Pn!==n?(nr=te,te=Sy(Ae,Et)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)),Jt[Ia]={nextPos:re,result:te},te)}function e1(){var te,ke,De,Ae,Ge=re*76+59,Et=Jt[Ge];return Et?(re=Et.nextPos,Et.result):(pt++,te=re,e.charCodeAt(re)===91?(ke=me,re++):(ke=n,pt===0&&Wt(Nl)),ke!==n?(sr(),e.charCodeAt(re)===93?(De=Ee,re++):(De=n,pt===0&&Wt(lu)),De!==n?(nr=te,te=fl()):(re=te,te=n)):(re=te,te=n),te===n&&(te=re,e.charCodeAt(re)===91?(ke=me,re++):(ke=n,pt===0&&Wt(Nl)),ke!==n?(sr(),De=t1(),De!==n?(sr(),e.charCodeAt(re)===93?(Ae=Ee,re++):(Ae=n,pt===0&&Wt(lu)),Ae!==n?(nr=te,te=Vm(De)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)),pt--,te===n&&(ke=n,pt===0&&Wt(Gf)),Jt[Ge]={nextPos:re,result:te},te)}function t1(){var te,ke,De,Ae,Ge,Et,Gt=re*76+60,Pn=Jt[Gt];if(Pn)return re=Pn.nextPos,Pn.result;if(te=re,ke=Mo(),ke!==n){for(De=[],Ae=re,qa(),e.charCodeAt(re)===44?(Ge=p,re++):(Ge=n,pt===0&&Wt(sa)),Ge!==n?(sr(),Et=Mo(),Et!==n?Ae=Et:(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,qa(),e.charCodeAt(re)===44?(Ge=p,re++):(Ge=n,pt===0&&Wt(sa)),Ge!==n?(sr(),Et=Mo(),Et!==n?Ae=Et:(re=Ae,Ae=n)):(re=Ae,Ae=n);nr=te,te=ge(ke,De)}else re=te,te=n;return Jt[Gt]={nextPos:re,result:te},te}function d0(){var te,ke,De,Ae,Ge=re*76+61,Et=Jt[Ge];return Et?(re=Et.nextPos,Et.result):(pt++,te=re,e.charCodeAt(re)===123?(ke=s,re++):(ke=n,pt===0&&Wt(qt)),ke!==n?(sr(),e.charCodeAt(re)===125?(De=u,re++):(De=n,pt===0&&Wt(fn)),De!==n?(nr=te,te=zl()):(re=te,te=n)):(re=te,te=n),te===n&&(te=re,e.charCodeAt(re)===123?(ke=s,re++):(ke=n,pt===0&&Wt(qt)),ke!==n?(sr(),De=Jg(),De!==n?(sr(),Ae=Oy(),Ae!==n?(nr=te,te=z_(De)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n)),pt--,te===n&&(ke=n,pt===0&&Wt(ac)),Jt[Ge]={nextPos:re,result:te},te)}function Oy(){var te,ke,De,Ae,Ge=re*76+62,Et=Jt[Ge];return Et?(re=Et.nextPos,Et.result):(e.charCodeAt(re)===125?(te=u,re++):(te=n,pt===0&&Wt(fn)),te===n&&(te=re,e.charCodeAt(re)===44?(ke=p,re++):(ke=n,pt===0&&Wt(sa)),ke!==n?(De=sr(),e.charCodeAt(re)===125?(Ae=u,re++):(Ae=n,pt===0&&Wt(fn)),Ae!==n?(ke=[ke,De,Ae],te=ke):(re=te,te=n)):(re=te,te=n)),Jt[Ge]={nextPos:re,result:te},te)}function Jg(){var te,ke,De,Ae,Ge,Et,Gt=re*76+63,Pn=Jt[Gt];if(Pn)return re=Pn.nextPos,Pn.result;if(te=re,ke=_w(),ke!==n){for(De=[],Ae=re,qa(),e.charCodeAt(re)===44?(Ge=p,re++):(Ge=n,pt===0&&Wt(sa)),Ge!==n?(sr(),Et=_w(),Et!==n?Ae=Et:(re=Ae,Ae=n)):(re=Ae,Ae=n);Ae!==n;)De.push(Ae),Ae=re,qa(),e.charCodeAt(re)===44?(Ge=p,re++):(Ge=n,pt===0&&Wt(sa)),Ge!==n?(sr(),Et=_w(),Et!==n?Ae=Et:(re=Ae,Ae=n)):(re=Ae,Ae=n);nr=te,te=mw(ke,De)}else re=te,te=n;return Jt[Gt]={nextPos:re,result:te},te}function _w(){var te,ke,De,Ae,Ge=re*76+64,Et=Jt[Ge];return Et?(re=Et.nextPos,Et.result):(te=re,ke=Mo(),ke!==n?(qa(),e.charCodeAt(re)===58?(De=_,re++):(De=n,pt===0&&Wt(en)),De!==n?(sr(),Ae=Mo(),Ae!==n?(nr=te,te=Wm(ke,Ae)):(re=te,te=n)):(re=te,te=n)):(re=te,te=n),Jt[Ge]={nextPos:re,result:te},te)}function qa(){var te,ke,De=re*76+65,Ae=Jt[De];if(Ae)return re=Ae.nextPos,Ae.result;for(pt++,te=[],ke=qe();ke!==n;)te.push(ke),ke=qe();return pt--,ke=n,pt===0&&Wt(Kg),Jt[De]={nextPos:re,result:te},te}function sr(){var te,ke,De=re*76+66,Ae=Jt[De];if(Ae)return re=Ae.nextPos,Ae.result;for(pt++,te=[],ke=qe(),ke===n&&(ke=ih());ke!==n;)te.push(ke),ke=qe(),ke===n&&(ke=ih());return pt--,ke=n,pt===0&&Wt(Cv),Jt[De]={nextPos:re,result:te},te}function Ay(){var te,ke,De=re*76+67,Ae=Jt[De];if(Ae)return re=Ae.nextPos,Ae.result;if(pt++,te=[],ke=qe(),ke!==n)for(;ke!==n;)te.push(ke),ke=qe();else te=n;return pt--,te===n&&(ke=n,pt===0&&Wt(Kg)),Jt[De]={nextPos:re,result:te},te}function h0(){var te,ke,De=re*76+68,Ae=Jt[De];if(Ae)return re=Ae.nextPos,Ae.result;if(pt++,te=[],ke=qe(),ke===n&&(ke=ih()),ke!==n)for(;ke!==n;)te.push(ke),ke=qe(),ke===n&&(ke=ih());else te=n;return pt--,te===n&&(ke=n,pt===0&&Wt(Cv)),Jt[De]={nextPos:re,result:te},te}function $d(){var te,ke,De,Ae,Ge=re*76+69,Et=Jt[Ge];if(Et)return re=Et.nextPos,Et.result;if(pt++,te=re,ke=qa(),De=[],e.charCodeAt(re)===59?(Ae=gt,re++):(Ae=n,pt===0&&Wt(Xg)),Ae===n&&(Ae=ih()),Ae!==n)for(;Ae!==n;)De.push(Ae),e.charCodeAt(re)===59?(Ae=gt,re++):(Ae=n,pt===0&&Wt(Xg)),Ae===n&&(Ae=ih());else De=n;return De!==n?(Ae=sr(),ke=[ke,De,Ae],te=ke):(re=te,te=n),pt--,te===n&&(ke=n,pt===0&&Wt(_d)),Jt[Ge]={nextPos:re,result:te},te}function ih(){var te,ke,De,Ae=re*76+70,Ge=Jt[Ae];return Ge?(re=Ge.nextPos,Ge.result):(te=re,ke=Su(),ke===n&&(ke=null),De=Yf(),De!==n?(ke=[ke,De],te=ke):(re=te,te=n),Jt[Ae]={nextPos:re,result:te},te)}function Su(){var te,ke,De,Ae,Ge=re*76+71,Et=Jt[Ge];if(Et)return re=Et.nextPos,Et.result;if(pt++,te=re,qa(),e.substr(re,2)===Ye?(ke=Ye,re+=2):(ke=n,pt===0&&Wt(jc)),ke===n&&(e.charCodeAt(re)===35?(ke=ot,re++):(ke=n,pt===0&&Wt(i0))),ke!==n){for(De=[],jt.test(e.charAt(re))?(Ae=e.charAt(re),re++):(Ae=n,pt===0&&Wt(Pe));Ae!==n;)De.push(Ae),jt.test(e.charAt(re))?(Ae=e.charAt(re),re++):(Ae=n,pt===0&&Wt(Pe));te=De}else re=te,te=n;return pt--,te===n&&pt===0&&Wt(Cf),Jt[Ge]={nextPos:re,result:te},te}function qe(){var te,ke=re*76+72,De=Jt[ke];return De?(re=De.nextPos,De.result):(te=Ry(),te===n&&(te=n1()),Jt[ke]={nextPos:re,result:te},te)}function n1(){var te,ke,De,Ae,Ge=re*76+73,Et=Jt[Ge];if(Et)return re=Et.nextPos,Et.result;if(pt++,te=re,e.substr(re,2)===Ue?(ke=Ue,re+=2):(ke=n,pt===0&&Wt(rt)),ke!==n){for(De=[],At.test(e.charAt(re))?(Ae=e.charAt(re),re++):(Ae=n,pt===0&&Wt(Ot));Ae!==n;)De.push(Ae),At.test(e.charAt(re))?(Ae=e.charAt(re),re++):(Ae=n,pt===0&&Wt(Ot));e.substr(re,2)===st?(Ae=st,re+=2):(Ae=n,pt===0&&Wt(Dt)),Ae!==n?te=De:(re=te,te=n)}else re=te,te=n;return pt--,te===n&&(ke=n,pt===0&&Wt(ut)),Jt[Ge]={nextPos:re,result:te},te}function Ry(){var te,ke=re*76+74,De=Jt[ke];return De?(re=De.nextPos,De.result):(Bt.test(e.charAt(re))?(te=e.charAt(re),re++):(te=n,pt===0&&Wt(Tt)),Jt[ke]={nextPos:re,result:te},te)}function Yf(){var te,ke=re*76+75,De=Jt[ke];return De?(re=De.nextPos,De.result):(pt++,kt.test(e.charAt(re))?(te=e.charAt(re),re++):(te=n,pt===0&&Wt(Sn)),pt--,te===n&&pt===0&&Wt(nn),Jt[ke]={nextPos:re,result:te},te)}if(eg=a(),eg!==n&&re===e.length)return eg;throw eg!==n&&re<e.length&&Wt(RT()),Yk(s0,dl<e.length?e.charAt(dl):null,dl<e.length?yw(dl,dl+1):yw(dl,dl))}var kcn={SyntaxError:bP,parse:$cn};(function(e){var t=$e&&$e.__createBinding||(Object.create?function(h,p,v,m){m===void 0&&(m=v);var y=Object.getOwnPropertyDescriptor(p,v);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[v]}}),Object.defineProperty(h,m,y)}:function(h,p,v,m){m===void 0&&(m=v),h[m]=p[v]}),n=$e&&$e.__setModuleDefault||(Object.create?function(h,p){Object.defineProperty(h,"default",{enumerable:!0,value:p})}:function(h,p){h.default=p}),r=$e&&$e.__importStar||function(h){if(h&&h.__esModule)return h;var p={};if(h!=null)for(var v in h)v!=="default"&&Object.prototype.hasOwnProperty.call(h,v)&&t(p,h,v);return n(p,h),p};Object.defineProperty(e,"__esModule",{value:!0}),e.nodeResultToString=e.toStringError=e.parse=e.makeParseError=void 0;const i=r(di),a=kcn,s=(h,p)=>({type:"SyntaxError",message:h,location:p});e.makeParseError=s;const u=(h,p)=>{try{return i.Ok((0,a.parse)(h,{grammarSource:p}))}catch(v){if(v instanceof a.SyntaxError)return i.Error({type:"SyntaxError",location:v.location,message:v.message});throw v}};e.parse=u;const f=h=>{switch(h.type){case"Block":case"Program":return"{"+h.statements.map(f).join("; ")+"}";case"Array":return"["+h.elements.map(f).join("; ")+"]";case"Record":return"{"+h.elements.map(f).join(", ")+"}";case"Boolean":return String(h.value);case"Call":return"("+f(h.fn)+" "+h.args.map(f).join(" ")+")";case"Float":return String(h.value);case"Identifier":return`:${h.value}`;case"Integer":return String(h.value);case"KeyValue":return f(h.key)+": "+f(h.value);case"Lambda":return"{|"+h.args.map(f).join(",")+"| "+f(h.body)+"}";case"LetStatement":return f(h.variable)+" = "+f(h.value);case"ModuleIdentifier":return`@${h.value}`;case"String":return`'${h.value}'`;case"Ternary":return"(::$$_ternary_$$ "+f(h.condition)+" "+f(h.trueExpression)+" "+f(h.falseExpression)+")";case"Void":return"()";default:throw new Error(`Unknown node ${h}`)}},d=h=>`Syntax Error: ${h.message}}`;e.toStringError=d;const c=h=>h.ok?f(h.value):(0,e.toStringError)(h.value);e.nodeResultToString=c})(xG);function Ocn(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}function wP(e,t,n,r){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,wP.prototype),i.expected=t,i.found=n,i.location=r,i.name="SyntaxError",i}Ocn(wP,Error);function d1e(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,n+=n.repeat(t),e+n.slice(0,t))}wP.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n=null,r;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){n=e[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,a=this.location.source+":"+i.line+":"+i.column;if(n){var s=this.location.end,u=d1e("",i.line.toString().length," "),f=n[i.line-1],d=i.line===s.line?s.column:f.length+1,c=d-i.column||1;t+=`
 --> `+a+`
`+u+` |
`+i.line+" | "+f+`
`+u+" | "+d1e("",i.column-1," ")+d1e("",c,"^")}else t+=`
 at `+a}return t};wP.buildMessage=function(e,t){var n={literal:function(d){return'"'+i(d.text)+'"'},class:function(d){var c=d.parts.map(function(h){return Array.isArray(h)?a(h[0])+"-"+a(h[1]):a(h)});return"["+(d.inverted?"^":"")+c.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(d){return d.description}};function r(d){return d.charCodeAt(0).toString(16).toUpperCase()}function i(d){return d.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+r(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+r(c)})}function a(d){return d.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+r(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+r(c)})}function s(d){return n[d.type](d)}function u(d){var c=d.map(s),h,p;if(c.sort(),c.length>0){for(h=1,p=1;h<c.length;h++)c[h-1]!==c[h]&&(c[p]=c[h],p++);c.length=p}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}function f(d){return d?'"'+i(d)+'"':"end of input"}return"Expected "+u(e)+" but "+f(t)+" found."};function Acn(e,t){t=t!==void 0?t:{};var n={},r=t.grammarSource,i={start:qt},a=qt,s="#",u="#include",f="as",d="'",c='"',h="//",p="/*",v="*/",m=/^[^']/,y=/^[^"]/,w=/^[^*]/,_=/^[ \t]/,S=/^[\n\r]/,C=/^[^\r\n]/,$=/^[_a-z]/,k=/^[_a-z0-9]/i,M=ft("#",!1),A=ft("#include",!1),L=ft("as",!1),N=Ct("string"),R=ft("'",!1),D=Mt(["'"],!0,!1),j=ft('"',!1),U=Mt(['"'],!0,!1),H=Ct("comment"),Y=ft("//",!1),Z=ft("/*",!1),Q=Mt(["*"],!0,!1),ee=ft("*/",!1),oe=Ct("white space"),ue=Mt([" ","	"],!1,!1),ve=Ct("newline"),le=Mt([`
`,"\r"],!1,!1),de=Ct("code"),me=Mt(["\r",`
`],!0,!1),Se=Ct("identifier"),Ee=Mt(["_",["a","z"]],!1,!1),xe=Mt(["_",["a","z"],["0","9"]],!1,!0),Ie=function(en,sn){return[en,...sn].filter(On=>On!="")},Ne=function(){return[]},We=function(en,sn){return[sn||"",en]},Me=function(en){return en.join("")},He=function(en){return en.join("")},gt=function(){return""},Ye=function(){return""},ot=function(){return Le()},Ue=0,st=0,at=[{line:1,column:1}],St=0,Vt=[],tt=0,wt={},vt;if("startRule"in t){if(!(t.startRule in i))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');a=i[t.startRule]}function Le(){return e.substring(st,Ue)}function ft(en,sn){return{type:"literal",text:en,ignoreCase:sn}}function Mt(en,sn,On){return{type:"class",parts:en,inverted:sn,ignoreCase:On}}function yt(){return{type:"end"}}function Ct(en){return{type:"other",description:en}}function jt(en){var sn=at[en],On;if(sn)return sn;for(On=en-1;!at[On];)On--;for(sn=at[On],sn={line:sn.line,column:sn.column};On<en;)e.charCodeAt(On)===10?(sn.line++,sn.column=1):sn.column++,On++;return at[en]=sn,sn}function At(en,sn){var On=jt(en),Kn=jt(sn);return{source:r,start:{offset:en,line:On.line,column:On.column},end:{offset:sn,line:Kn.line,column:Kn.column}}}function Bt(en){Ue<St||(Ue>St&&(St=Ue,Vt=[]),Vt.push(en))}function kt(en,sn,On){return new wP(wP.buildMessage(en,sn),en,sn,On)}function qt(){var en,sn,On,Kn,kr,ti=Ue*12+0,Ji=wt[ti];if(Ji)return Ue=Ji.nextPos,Ji.result;for(en=Ue,sn=[],On=$i(),On===n&&(On=ga(),On===n&&(On=Wi(),On===n&&(On=sa())));On!==n;)sn.push(On),On=$i(),On===n&&(On=ga(),On===n&&(On=Wi(),On===n&&(On=sa())));if(On=fn(),On!==n){for(Kn=[],kr=$i();kr!==n;)Kn.push(kr),kr=$i();kr=Kr(),en=On}else Ue=en,en=n;return wt[ti]={nextPos:Ue,result:en},en}function fn(){var en,sn,On,Kn,kr,ti,Ji=Ue*12+1,Yi=wt[Ji];if(Yi)return Ue=Yi.nextPos,Yi.result;if(en=Ue,sn=jn(),sn!==n){if(On=[],Kn=Ue,kr=[],ti=$i(),ti!==n)for(;ti!==n;)kr.push(ti),ti=$i();else kr=n;for(kr!==n?(ti=jn(),ti!==n?Kn=ti:(Ue=Kn,Kn=n)):(Ue=Kn,Kn=n);Kn!==n;){if(On.push(Kn),Kn=Ue,kr=[],ti=$i(),ti!==n)for(;ti!==n;)kr.push(ti),ti=$i();else kr=n;kr!==n?(ti=jn(),ti!==n?Kn=ti:(Ue=Kn,Kn=n)):(Ue=Kn,Kn=n)}st=en,en=Ie(sn,On)}else Ue=en,en=n;return en===n&&(en=Ue,sn=Ue,tt++,e.charCodeAt(Ue)===35?(On=s,Ue++):(On=n,tt===0&&Bt(M)),tt--,On===n?sn=void 0:(Ue=sn,sn=n),sn!==n&&(st=en,sn=Ne()),en=sn),wt[Ji]={nextPos:Ue,result:en},en}function jn(){var en,sn=Ue*12+2,On=wt[sn];return On?(Ue=On.nextPos,On.result):(en=Mn(),en===n&&(en=Wi(),en===n&&(en=sa())),wt[sn]={nextPos:Ue,result:en},en)}function Mn(){var en,sn,On,Kn,kr,ti,Ji,Yi,ka,fo,Il=Ue*12+3,Oa=wt[Il];if(Oa)return Ue=Oa.nextPos,Oa.result;for(en=Ue,sn=[],On=ga();On!==n;)sn.push(On),On=ga();if(e.substr(Ue,8)===u?(On=u,Ue+=8):(On=n,tt===0&&Bt(A)),On!==n){if(Kn=[],kr=ga(),kr!==n)for(;kr!==n;)Kn.push(kr),kr=ga();else Kn=n;if(Kn!==n)if(kr=Un(),kr!==n){if(ti=Ue,Ji=[],Yi=ga(),Yi!==n)for(;Yi!==n;)Ji.push(Yi),Yi=ga();else Ji=n;if(Ji!==n)if(e.substr(Ue,2)===f?(Yi=f,Ue+=2):(Yi=n,tt===0&&Bt(L)),Yi!==n){if(ka=[],fo=ga(),fo!==n)for(;fo!==n;)ka.push(fo),fo=ga();else ka=n;ka!==n?(fo=xo(),fo!==n?ti=fo:(Ue=ti,ti=n)):(Ue=ti,ti=n)}else Ue=ti,ti=n;else Ue=ti,ti=n;for(ti===n&&(ti=null),Ji=[],Yi=ga();Yi!==n;)Ji.push(Yi),Yi=ga();Yi=Ue,tt++,ka=$i(),tt--,ka!==n?(Ue=Yi,Yi=void 0):Yi=n,Yi!==n?(st=en,en=We(kr,ti)):(Ue=en,en=n)}else Ue=en,en=n;else Ue=en,en=n}else Ue=en,en=n;return wt[Il]={nextPos:Ue,result:en},en}function Un(){var en,sn,On,Kn,kr,ti=Ue*12+4,Ji=wt[ti];if(Ji)return Ue=Ji.nextPos,Ji.result;if(tt++,en=Ue,sn=Ue,e.charCodeAt(Ue)===39?(On=d,Ue++):(On=n,tt===0&&Bt(R)),On!==n){for(Kn=[],m.test(e.charAt(Ue))?(kr=e.charAt(Ue),Ue++):(kr=n,tt===0&&Bt(D));kr!==n;)Kn.push(kr),m.test(e.charAt(Ue))?(kr=e.charAt(Ue),Ue++):(kr=n,tt===0&&Bt(D));e.charCodeAt(Ue)===39?(kr=d,Ue++):(kr=n,tt===0&&Bt(R)),kr!==n?sn=Kn:(Ue=sn,sn=n)}else Ue=sn,sn=n;if(sn!==n&&(st=en,sn=Me(sn)),en=sn,en===n){if(en=Ue,sn=Ue,e.charCodeAt(Ue)===34?(On=c,Ue++):(On=n,tt===0&&Bt(j)),On!==n){for(Kn=[],y.test(e.charAt(Ue))?(kr=e.charAt(Ue),Ue++):(kr=n,tt===0&&Bt(U));kr!==n;)Kn.push(kr),y.test(e.charAt(Ue))?(kr=e.charAt(Ue),Ue++):(kr=n,tt===0&&Bt(U));e.charCodeAt(Ue)===34?(kr=c,Ue++):(kr=n,tt===0&&Bt(j)),kr!==n?sn=Kn:(Ue=sn,sn=n)}else Ue=sn,sn=n;sn!==n&&(st=en,sn=He(sn)),en=sn}return tt--,en===n&&(sn=n,tt===0&&Bt(N)),wt[ti]={nextPos:Ue,result:en},en}function Kr(){var en,sn,On=Ue*12+5,Kn=wt[On];if(Kn)return Ue=Kn.nextPos,Kn.result;for(en=[],sn=Do(),sn===n&&(sn=$i(),sn===n&&(sn=ga()));sn!==n;)en.push(sn),sn=Do(),sn===n&&(sn=$i(),sn===n&&(sn=ga()));return wt[On]={nextPos:Ue,result:en},en}function Wi(){var en,sn,On,Kn,kr,ti=Ue*12+6,Ji=wt[ti];if(Ji)return Ue=Ji.nextPos,Ji.result;if(tt++,en=Ue,e.substr(Ue,2)===h?(sn=h,Ue+=2):(sn=n,tt===0&&Bt(Y)),sn!==n){for(On=[],Kn=Do();Kn!==n;)On.push(Kn),Kn=Do();Kn=Ue,tt++,kr=$i(),tt--,kr!==n?(Ue=Kn,Kn=void 0):Kn=n,Kn!==n?(st=en,en=gt()):(Ue=en,en=n)}else Ue=en,en=n;return tt--,en===n&&(sn=n,tt===0&&Bt(H)),wt[ti]={nextPos:Ue,result:en},en}function sa(){var en,sn,On,Kn,kr=Ue*12+7,ti=wt[kr];if(ti)return Ue=ti.nextPos,ti.result;if(tt++,en=Ue,e.substr(Ue,2)===p?(sn=p,Ue+=2):(sn=n,tt===0&&Bt(Z)),sn!==n){for(On=[],w.test(e.charAt(Ue))?(Kn=e.charAt(Ue),Ue++):(Kn=n,tt===0&&Bt(Q));Kn!==n;)On.push(Kn),w.test(e.charAt(Ue))?(Kn=e.charAt(Ue),Ue++):(Kn=n,tt===0&&Bt(Q));e.substr(Ue,2)===v?(Kn=v,Ue+=2):(Kn=n,tt===0&&Bt(ee)),Kn!==n?(st=en,en=Ye()):(Ue=en,en=n)}else Ue=en,en=n;return tt--,en===n&&(sn=n,tt===0&&Bt(H)),wt[kr]={nextPos:Ue,result:en},en}function ga(){var en,sn=Ue*12+8,On=wt[sn];return On?(Ue=On.nextPos,On.result):(tt++,_.test(e.charAt(Ue))?(en=e.charAt(Ue),Ue++):(en=n,tt===0&&Bt(ue)),tt--,en===n&&tt===0&&Bt(oe),wt[sn]={nextPos:Ue,result:en},en)}function $i(){var en,sn=Ue*12+9,On=wt[sn];return On?(Ue=On.nextPos,On.result):(tt++,S.test(e.charAt(Ue))?(en=e.charAt(Ue),Ue++):(en=n,tt===0&&Bt(le)),tt--,en===n&&tt===0&&Bt(ve),wt[sn]={nextPos:Ue,result:en},en)}function Do(){var en,sn=Ue*12+10,On=wt[sn];return On?(Ue=On.nextPos,On.result):(tt++,C.test(e.charAt(Ue))?(en=e.charAt(Ue),Ue++):(en=n,tt===0&&Bt(me)),tt--,en===n&&tt===0&&Bt(de),wt[sn]={nextPos:Ue,result:en},en)}function xo(){var en,sn,On,Kn,kr,ti=Ue*12+11,Ji=wt[ti];if(Ji)return Ue=Ji.nextPos,Ji.result;if(tt++,en=Ue,sn=Ue,On=[],$.test(e.charAt(Ue))?(Kn=e.charAt(Ue),Ue++):(Kn=n,tt===0&&Bt(Ee)),Kn!==n)for(;Kn!==n;)On.push(Kn),$.test(e.charAt(Ue))?(Kn=e.charAt(Ue),Ue++):(Kn=n,tt===0&&Bt(Ee));else On=n;if(On!==n){for(Kn=[],k.test(e.charAt(Ue))?(kr=e.charAt(Ue),Ue++):(kr=n,tt===0&&Bt(xe));kr!==n;)Kn.push(kr),k.test(e.charAt(Ue))?(kr=e.charAt(Ue),Ue++):(kr=n,tt===0&&Bt(xe));On=[On,Kn],sn=On}else Ue=sn,sn=n;return sn!==n&&(st=en,sn=ot()),en=sn,tt--,en===n&&(sn=n,tt===0&&Bt(Se)),wt[ti]={nextPos:Ue,result:en},en}if(vt=a(),vt!==n&&Ue===e.length)return vt;throw vt!==n&&Ue<e.length&&Bt(yt()),kt(Vt,St<e.length?e.charAt(St):null,St<e.length?At(St,St+1):At(St,St))}var Rcn={SyntaxError:wP,parse:Acn},Tcn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Mcn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Pcn=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Tcn(t,e,n);return Mcn(t,e),t};Object.defineProperty(dse,"__esModule",{value:!0});dse.parseIncludes=void 0;const Lcn=xG,Dcn=__,Icn=_k,hGe=Pcn(di),Fcn=Rcn,Ncn=e=>{try{const t=(0,Fcn.parse)(e);return hGe.Ok(t.map(n=>[n[0],n[1]]))}catch(t){const n=t;return hGe.Error(new Icn.SqError(Dcn.IError.fromParseError((0,Lcn.makeParseError)(n.message,n.location))))}};dse.parseIncludes=Ncn;var SG={},Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.expressionToString=Cs.eVoid=Cs.eIdentifier=Cs.eTernary=Cs.eLetStatement=Cs.eProgram=Cs.eBlock=Cs.eSymbol=Cs.eString=Cs.eRecord=Cs.eNumber=Cs.eLambda=Cs.eCall=Cs.eBool=Cs.eArray=void 0;const hse=tc,zcn=e=>({type:"Array",value:e});Cs.eArray=zcn;const jcn=e=>({type:"Value",value:(0,hse.vBool)(e)});Cs.eBool=jcn;const Bcn=(e,t)=>({type:"Call",fn:e,args:t});Cs.eCall=Bcn;const Hcn=(e,t,n)=>({type:"Lambda",parameters:e,body:t,name:n});Cs.eLambda=Hcn;const Ucn=e=>({type:"Value",value:(0,hse.vNumber)(e)});Cs.eNumber=Ucn;const Vcn=e=>({type:"Record",value:e});Cs.eRecord=Vcn;const Wcn=e=>({type:"Value",value:(0,hse.vString)(e)});Cs.eString=Wcn;const Gcn=e=>({type:"Symbol",value:e});Cs.eSymbol=Gcn;const qcn=e=>({type:"Block",value:e});Cs.eBlock=qcn;const Ycn=e=>({type:"Program",value:e});Cs.eProgram=Ycn;const Kcn=(e,t)=>({type:"Assign",left:e,right:t});Cs.eLetStatement=Kcn;const Xcn=(e,t,n)=>({type:"Ternary",condition:e,ifTrue:t,ifFalse:n});Cs.eTernary=Xcn;const Zcn=e=>({type:"Symbol",value:e});Cs.eIdentifier=Zcn;const Qcn=()=>({type:"Value",value:(0,hse.vVoid)()});Cs.eVoid=Qcn;const U1=e=>{switch(e.type){case"Block":return`{${e.value.map(U1).join("; ")}}`;case"Program":return e.value.map(U1).join("; ");case"Array":return`[${e.value.map(U1).join(", ")}]`;case"Record":return`{${e.value.map(([t,n])=>`${U1(t)}: ${U1(n)}`).join(", ")}}`;case"Symbol":return e.value;case"Ternary":return`${U1(e.condition)} ? (${U1(e.ifTrue)}) : (${U1(e.ifFalse)})`;case"Assign":return`${e.left} = ${U1(e.right)}`;case"Call":return`(${U1(e.fn)})(${e.args.map(U1).join(", ")})`;case"Lambda":return`{|${e.parameters.join(", ")}| ${U1(e.body)}}`;case"Value":return e.value.toString();default:return`Unknown expression ${e}`}};Cs.expressionToString=U1;var Jcn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),efn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tfn=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Jcn(t,e,n);return efn(t,e),t};Object.defineProperty(SG,"__esModule",{value:!0});SG.expressionFromAst=void 0;const bp=tfn(Cs),nfn=e=>{switch(e.type){case"Block":return bp.eBlock(e.statements.map(B0));case"Program":return bp.eProgram(e.statements.map(B0));case"Array":return bp.eArray(e.elements.map(B0));case"Record":return bp.eRecord(e.elements.map(t=>[B0(t.key),B0(t.value)]));case"Boolean":return bp.eBool(e.value);case"Call":return bp.eCall(B0(e.fn),e.args.map(B0));case"Float":return bp.eNumber(e.value);case"Identifier":return bp.eSymbol(e.value);case"Integer":return bp.eNumber(e.value);case"KeyValue":return bp.eArray([B0(e.key),B0(e.value)]);case"Lambda":return bp.eLambda(e.args.map(t=>{if(t.type!=="Identifier")throw new Error("Expected identifier node");return t.value}),B0(e.body),e.name);case"LetStatement":return bp.eLetStatement(e.variable.value,B0(e.value));case"ModuleIdentifier":return bp.eIdentifier(e.value);case"String":return bp.eString(e.value);case"Ternary":return bp.eTernary(B0(e.condition),B0(e.trueExpression),B0(e.falseExpression));case"Void":return bp.eVoid();default:throw new Error(`Unsupported AST value ${e}`)}},B0=e=>Object.assign({ast:e},nfn(e));SG.expressionFromAst=B0;var qlt={},$3={},lL={},EG="delete",$l=5,Nb=1<<$l,av=Nb-1,Zo={};function I_e(){return{value:!1}}function zb(e){e&&(e.value=!0)}function nOe(){}function EN(e){return e.size===void 0&&(e.size=e.__iterate(Ylt)),e.size}function k3(e,t){if(typeof t!="number"){var n=t>>>0;if(""+n!==t||n===4294967295)return NaN;t=n}return t<0?EN(e)+t:t}function Ylt(){return!0}function CG(e,t,n){return(e===0&&!Xlt(e)||n!==void 0&&e<=-n)&&(t===void 0||n!==void 0&&t>=n)}function Y8(e,t){return Klt(e,t,0)}function $G(e,t){return Klt(e,t,t)}function Klt(e,t,n){return e===void 0?n:Xlt(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function Xlt(e){return e<0||e===0&&1/e===-1/0}var Zlt="@@__IMMUTABLE_ITERABLE__@@";function Yp(e){return!!(e&&e[Zlt])}var Qlt="@@__IMMUTABLE_KEYED__@@";function Uu(e){return!!(e&&e[Qlt])}var Jlt="@@__IMMUTABLE_INDEXED__@@";function Ng(e){return!!(e&&e[Jlt])}function K8(e){return Uu(e)||Ng(e)}var Pl=function(t){return Yp(t)?t:Kp(t)},fw=function(e){function t(n){return Uu(n)?n:lT(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Pl),cL=function(e){function t(n){return Ng(n)?n:dw(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Pl),X8=function(e){function t(n){return Yp(n)&&!K8(n)?n:J8(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Pl);Pl.Keyed=fw;Pl.Indexed=cL;Pl.Set=X8;var ect="@@__IMMUTABLE_SEQ__@@";function kG(e){return!!(e&&e[ect])}var tct="@@__IMMUTABLE_RECORD__@@";function uT(e){return!!(e&&e[tct])}function _y(e){return Yp(e)||uT(e)}var Z8="@@__IMMUTABLE_ORDERED__@@";function oy(e){return!!(e&&e[Z8])}var OG=0,S_=1,tw=2,F_e=typeof Symbol=="function"&&Symbol.iterator,nct="@@iterator",gse=F_e||nct,Rs=function(t){this.next=t};Rs.prototype.toString=function(){return"[Iterator]"};Rs.KEYS=OG;Rs.VALUES=S_;Rs.ENTRIES=tw;Rs.prototype.inspect=Rs.prototype.toSource=function(){return this.toString()};Rs.prototype[gse]=function(){return this};function Ll(e,t,n,r){var i=e===0?t:e===1?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function hv(){return{value:void 0,done:!0}}function rOe(e){return Array.isArray(e)?!0:!!pse(e)}function gGe(e){return e&&typeof e.next=="function"}function N_e(e){var t=pse(e);return t&&t.call(e)}function pse(e){var t=e&&(F_e&&e[F_e]||e[nct]);if(typeof t=="function")return t}function rfn(e){var t=pse(e);return t&&t===e.entries}function ifn(e){var t=pse(e);return t&&t===e.keys}var Q8=Object.prototype.hasOwnProperty;function iOe(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var Kp=function(e){function t(n){return n==null?oOe():_y(n)?n.toSeq():ofn(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(r,i){var a=this._cache;if(a){for(var s=a.length,u=0;u!==s;){var f=a[i?s-++u:u++];if(r(f[1],f[0],this)===!1)break}return u}return this.__iterateUncached(r,i)},t.prototype.__iterator=function(r,i){var a=this._cache;if(a){var s=a.length,u=0;return new Rs(function(){if(u===s)return hv();var f=a[i?s-++u:u++];return Ll(r,f[0],f[1])})}return this.__iteratorUncached(r,i)},t}(Pl),lT=function(e){function t(n){return n==null?oOe().toKeyedSeq():Yp(n)?Uu(n)?n.toSeq():n.fromEntrySeq():uT(n)?n.toSeq():sOe(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Kp),dw=function(e){function t(n){return n==null?oOe():Yp(n)?Uu(n)?n.entrySeq():n.toIndexedSeq():uT(n)?n.toSeq().entrySeq():rct(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Kp),J8=function(e){function t(n){return(Yp(n)&&!K8(n)?n:dw(n)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Kp);Kp.isSeq=kG;Kp.Keyed=lT;Kp.Set=J8;Kp.Indexed=dw;Kp.prototype[ect]=!0;var _P=function(e){function t(n){this._array=n,this.size=n.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,i){return this.has(r)?this._array[k3(this,r)]:i},t.prototype.__iterate=function(r,i){for(var a=this._array,s=a.length,u=0;u!==s;){var f=i?s-++u:u++;if(r(a[f],f,this)===!1)break}return u},t.prototype.__iterator=function(r,i){var a=this._array,s=a.length,u=0;return new Rs(function(){if(u===s)return hv();var f=i?s-++u:u++;return Ll(r,f,a[f])})},t}(dw),aOe=function(e){function t(n){var r=Object.keys(n).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(n):[]);this._object=n,this._keys=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,i){return i!==void 0&&!this.has(r)?i:this._object[r]},t.prototype.has=function(r){return Q8.call(this._object,r)},t.prototype.__iterate=function(r,i){for(var a=this._object,s=this._keys,u=s.length,f=0;f!==u;){var d=s[i?u-++f:f++];if(r(a[d],d,this)===!1)break}return f},t.prototype.__iterator=function(r,i){var a=this._object,s=this._keys,u=s.length,f=0;return new Rs(function(){if(f===u)return hv();var d=s[i?u-++f:f++];return Ll(r,d,a[d])})},t}(lT);aOe.prototype[Z8]=!0;var afn=function(e){function t(n){this._collection=n,this.size=n.length||n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(r,i){if(i)return this.cacheResult().__iterate(r,i);var a=this._collection,s=N_e(a),u=0;if(gGe(s))for(var f;!(f=s.next()).done&&r(f.value,u++,this)!==!1;);return u},t.prototype.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var a=this._collection,s=N_e(a);if(!gGe(s))return new Rs(hv);var u=0;return new Rs(function(){var f=s.next();return f.done?f:Ll(r,u++,f.value)})},t}(dw),pGe;function oOe(){return pGe||(pGe=new _P([]))}function sOe(e){var t=uOe(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new aOe(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function rct(e){var t=uOe(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function ofn(e){var t=uOe(e);if(t)return rfn(e)?t.fromEntrySeq():ifn(e)?t.toSetSeq():t;if(typeof e=="object")return new aOe(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function uOe(e){return iOe(e)?new _P(e):rOe(e)?new afn(e):void 0}var ict="@@__IMMUTABLE_MAP__@@";function AG(e){return!!(e&&e[ict])}function vse(e){return AG(e)&&oy(e)}function Rre(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function Vd(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(Rre(e)&&Rre(t)&&e.equals(t))}var gB=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,n){t|=0,n|=0;var r=t&65535,i=n&65535;return r*i+((t>>>16)*i+r*(n>>>16)<<16>>>0)|0};function mse(e){return e>>>1&1073741824|e&3221225471}var sfn=Object.prototype.valueOf;function Q0(e){if(e==null)return vGe(e);if(typeof e.hashCode=="function")return mse(e.hashCode(e));var t=hfn(e);if(t==null)return vGe(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return ufn(t);case"string":return t.length>gfn?lfn(t):z_e(t);case"object":case"function":return ffn(t);case"symbol":return cfn(t);default:if(typeof t.toString=="function")return z_e(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function vGe(e){return e===null?1108378658:1108378659}function ufn(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return mse(t)}function lfn(e){var t=p1e[e];return t===void 0&&(t=z_e(e),g1e===pfn&&(g1e=0,p1e={}),g1e++,p1e[e]=t),t}function z_e(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return mse(t)}function cfn(e){var t=bGe[e];return t!==void 0||(t=act(),bGe[e]=t),t}function ffn(e){var t;if(j_e&&(t=B_e.get(e),t!==void 0)||(t=e[s5],t!==void 0)||!yGe&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[s5],t!==void 0||(t=dfn(e),t!==void 0)))return t;if(t=act(),j_e)B_e.set(e,t);else{if(mGe!==void 0&&mGe(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(yGe)Object.defineProperty(e,s5,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[s5]=t;else if(e.nodeType!==void 0)e[s5]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var mGe=Object.isExtensible,yGe=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function dfn(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function hfn(e){return e.valueOf!==sfn&&typeof e.valueOf=="function"?e.valueOf(e):e}function act(){var e=++h1e;return h1e&1073741824&&(h1e=0),e}var j_e=typeof WeakMap=="function",B_e;j_e&&(B_e=new WeakMap);var bGe=Object.create(null),h1e=0,s5="__immutablehash__";typeof Symbol=="function"&&(s5=Symbol(s5));var gfn=16,pfn=255,g1e=0,p1e={},yse=function(e){function t(n,r){this._iter=n,this._useKeys=r,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(r,i){return this._iter.get(r,i)},t.prototype.has=function(r){return this._iter.has(r)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var r=this,i=lOe(this,!0);return this._useKeys||(i.valueSeq=function(){return r._iter.toSeq().reverse()}),i},t.prototype.map=function(r,i){var a=this,s=cct(this,r,i);return this._useKeys||(s.valueSeq=function(){return a._iter.toSeq().map(r,i)}),s},t.prototype.__iterate=function(r,i){var a=this;return this._iter.__iterate(function(s,u){return r(s,u,a)},i)},t.prototype.__iterator=function(r,i){return this._iter.__iterator(r,i)},t}(lT);yse.prototype[Z8]=!0;var oct=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,i){var a=this,s=0;return i&&EN(this),this._iter.__iterate(function(u){return r(u,i?a.size-++s:s++,a)},i)},t.prototype.__iterator=function(r,i){var a=this,s=this._iter.__iterator(S_,i),u=0;return i&&EN(this),new Rs(function(){var f=s.next();return f.done?f:Ll(r,i?a.size-++u:u++,f.value,f)})},t}(dw),sct=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(r){return this._iter.includes(r)},t.prototype.__iterate=function(r,i){var a=this;return this._iter.__iterate(function(s){return r(s,s,a)},i)},t.prototype.__iterator=function(r,i){var a=this._iter.__iterator(S_,i);return new Rs(function(){var s=a.next();return s.done?s:Ll(r,s.value,s.value,s)})},t}(J8),uct=function(e){function t(n){this._iter=n,this.size=n.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(r,i){var a=this;return this._iter.__iterate(function(s){if(s){_Ge(s);var u=Yp(s);return r(u?s.get(1):s[1],u?s.get(0):s[0],a)}},i)},t.prototype.__iterator=function(r,i){var a=this._iter.__iterator(S_,i);return new Rs(function(){for(;;){var s=a.next();if(s.done)return s;var u=s.value;if(u){_Ge(u);var f=Yp(u);return Ll(r,f?u.get(0):u[0],f?u.get(1):u[1],s)}}})},t}(lT);oct.prototype.cacheResult=yse.prototype.cacheResult=sct.prototype.cacheResult=uct.prototype.cacheResult=dOe;function lct(e){var t=AE(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var n=e.reverse.apply(this);return n.flip=function(){return e.reverse()},n},t.has=function(n){return e.includes(n)},t.includes=function(n){return e.has(n)},t.cacheResult=dOe,t.__iterateUncached=function(n,r){var i=this;return e.__iterate(function(a,s){return n(s,a,i)!==!1},r)},t.__iteratorUncached=function(n,r){if(n===tw){var i=e.__iterator(n,r);return new Rs(function(){var a=i.next();if(!a.done){var s=a.value[0];a.value[0]=a.value[1],a.value[1]=s}return a})}return e.__iterator(n===S_?OG:S_,r)},t}function cct(e,t,n){var r=AE(e);return r.size=e.size,r.has=function(i){return e.has(i)},r.get=function(i,a){var s=e.get(i,Zo);return s===Zo?a:t.call(n,s,i,e)},r.__iterateUncached=function(i,a){var s=this;return e.__iterate(function(u,f,d){return i(t.call(n,u,f,d),f,s)!==!1},a)},r.__iteratorUncached=function(i,a){var s=e.__iterator(tw,a);return new Rs(function(){var u=s.next();if(u.done)return u;var f=u.value,d=f[0];return Ll(i,d,t.call(n,f[1],d,e),u)})},r}function lOe(e,t){var n=this,r=AE(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var i=lct(e);return i.reverse=function(){return e.flip()},i}),r.get=function(i,a){return e.get(t?i:-1-i,a)},r.has=function(i){return e.has(t?i:-1-i)},r.includes=function(i){return e.includes(i)},r.cacheResult=dOe,r.__iterate=function(i,a){var s=this,u=0;return a&&EN(e),e.__iterate(function(f,d){return i(f,t?d:a?s.size-++u:u++,s)},!a)},r.__iterator=function(i,a){var s=0;a&&EN(e);var u=e.__iterator(tw,!a);return new Rs(function(){var f=u.next();if(f.done)return f;var d=f.value;return Ll(i,t?d[0]:a?n.size-++s:s++,d[1],f)})},r}function fct(e,t,n,r){var i=AE(e);return r&&(i.has=function(a){var s=e.get(a,Zo);return s!==Zo&&!!t.call(n,s,a,e)},i.get=function(a,s){var u=e.get(a,Zo);return u!==Zo&&t.call(n,u,a,e)?u:s}),i.__iterateUncached=function(a,s){var u=this,f=0;return e.__iterate(function(d,c,h){if(t.call(n,d,c,h))return f++,a(d,r?c:f-1,u)},s),f},i.__iteratorUncached=function(a,s){var u=e.__iterator(tw,s),f=0;return new Rs(function(){for(;;){var d=u.next();if(d.done)return d;var c=d.value,h=c[0],p=c[1];if(t.call(n,p,h,e))return Ll(a,r?h:f++,p,d)}})},i}function vfn(e,t,n){var r=fT().asMutable();return e.__iterate(function(i,a){r.update(t.call(n,i,a,e),0,function(s){return s+1})}),r.asImmutable()}function mfn(e,t,n){var r=Uu(e),i=(oy(e)?E_():fT()).asMutable();e.__iterate(function(s,u){i.update(t.call(n,s,u,e),function(f){return f=f||[],f.push(r?[u,s]:s),f})});var a=fOe(e);return i.map(function(s){return Hu(e,a(s))}).asImmutable()}function yfn(e,t,n){var r=Uu(e),i=[[],[]];e.__iterate(function(s,u){i[t.call(n,s,u,e)?1:0].push(r?[u,s]:s)});var a=fOe(e);return i.map(function(s){return Hu(e,a(s))})}function cOe(e,t,n,r){var i=e.size;if(CG(t,n,i))return e;var a=Y8(t,i),s=$G(n,i);if(a!==a||s!==s)return cOe(e.toSeq().cacheResult(),t,n,r);var u=s-a,f;u===u&&(f=u<0?0:u);var d=AE(e);return d.size=f===0?f:e.size&&f||void 0,!r&&kG(e)&&f>=0&&(d.get=function(c,h){return c=k3(this,c),c>=0&&c<f?e.get(c+a,h):h}),d.__iterateUncached=function(c,h){var p=this;if(f===0)return 0;if(h)return this.cacheResult().__iterate(c,h);var v=0,m=!0,y=0;return e.__iterate(function(w,_){if(!(m&&(m=v++<a)))return y++,c(w,r?_:y-1,p)!==!1&&y!==f}),y},d.__iteratorUncached=function(c,h){if(f!==0&&h)return this.cacheResult().__iterator(c,h);if(f===0)return new Rs(hv);var p=e.__iterator(c,h),v=0,m=0;return new Rs(function(){for(;v++<a;)p.next();if(++m>f)return hv();var y=p.next();return r||c===S_||y.done?y:c===OG?Ll(c,m-1,void 0,y):Ll(c,m-1,y.value[1],y)})},d}function bfn(e,t,n){var r=AE(e);return r.__iterateUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterate(i,a);var u=0;return e.__iterate(function(f,d,c){return t.call(n,f,d,c)&&++u&&i(f,d,s)}),u},r.__iteratorUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterator(i,a);var u=e.__iterator(tw,a),f=!0;return new Rs(function(){if(!f)return hv();var d=u.next();if(d.done)return d;var c=d.value,h=c[0],p=c[1];return t.call(n,p,h,s)?i===tw?d:Ll(i,h,p,d):(f=!1,hv())})},r}function dct(e,t,n,r){var i=AE(e);return i.__iterateUncached=function(a,s){var u=this;if(s)return this.cacheResult().__iterate(a,s);var f=!0,d=0;return e.__iterate(function(c,h,p){if(!(f&&(f=t.call(n,c,h,p))))return d++,a(c,r?h:d-1,u)}),d},i.__iteratorUncached=function(a,s){var u=this;if(s)return this.cacheResult().__iterator(a,s);var f=e.__iterator(tw,s),d=!0,c=0;return new Rs(function(){var h,p,v;do{if(h=f.next(),h.done)return r||a===S_?h:a===OG?Ll(a,c++,void 0,h):Ll(a,c++,h.value[1],h);var m=h.value;p=m[0],v=m[1],d&&(d=t.call(n,v,p,u))}while(d);return a===tw?h:Ll(a,p,v,h)})},i}function wfn(e,t){var n=Uu(e),r=[e].concat(t).map(function(s){return Yp(s)?n&&(s=fw(s)):s=n?sOe(s):rct(Array.isArray(s)?s:[s]),s}).filter(function(s){return s.size!==0});if(r.length===0)return e;if(r.length===1){var i=r[0];if(i===e||n&&Uu(i)||Ng(e)&&Ng(i))return i}var a=new _P(r);return n?a=a.toKeyedSeq():Ng(e)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=r.reduce(function(s,u){if(s!==void 0){var f=u.size;if(f!==void 0)return s+f}},0),a}function hct(e,t,n){var r=AE(e);return r.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var s=0,u=!1;function f(d,c){d.__iterate(function(h,p){return(!t||c<t)&&Yp(h)?f(h,c+1):(s++,i(h,n?p:s-1,r)===!1&&(u=!0)),!u},a)}return f(e,0),s},r.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var s=e.__iterator(i,a),u=[],f=0;return new Rs(function(){for(;s;){var d=s.next();if(d.done!==!1){s=u.pop();continue}var c=d.value;if(i===tw&&(c=c[1]),(!t||u.length<t)&&Yp(c))u.push(s),s=c.__iterator(i,a);else return n?d:Ll(i,f++,c,d)}return hv()})},r}function _fn(e,t,n){var r=fOe(e);return e.toSeq().map(function(i,a){return r(t.call(n,i,a,e))}).flatten(!0)}function xfn(e,t){var n=AE(e);return n.size=e.size&&e.size*2-1,n.__iterateUncached=function(r,i){var a=this,s=0;return e.__iterate(function(u){return(!s||r(t,s++,a)!==!1)&&r(u,s++,a)!==!1},i),s},n.__iteratorUncached=function(r,i){var a=e.__iterator(S_,i),s=0,u;return new Rs(function(){return(!u||s%2)&&(u=a.next(),u.done)?u:s%2?Ll(r,s++,t):Ll(r,s++,u.value,u)})},n}function CN(e,t,n){t||(t=gct);var r=Uu(e),i=0,a=e.toSeq().map(function(s,u){return[u,s,i++,n?n(s,u,e):s]}).valueSeq().toArray();return a.sort(function(s,u){return t(s[3],u[3])||s[2]-u[2]}).forEach(r?function(s,u){a[u].length=2}:function(s,u){a[u]=s[1]}),r?lT(a):Ng(e)?dw(a):J8(a)}function DJ(e,t,n){if(t||(t=gct),n){var r=e.toSeq().map(function(i,a){return[i,n(i,a,e)]}).reduce(function(i,a){return wGe(t,i[1],a[1])?a:i});return r&&r[0]}return e.reduce(function(i,a){return wGe(t,i,a)?a:i})}function wGe(e,t,n){var r=e(n,t);return r===0&&n!==t&&(n==null||n!==n)||r>0}function IJ(e,t,n,r){var i=AE(e),a=new _P(n).map(function(s){return s.size});return i.size=r?a.max():a.min(),i.__iterate=function(s,u){for(var f=this.__iterator(S_,u),d,c=0;!(d=f.next()).done&&s(d.value,c++,this)!==!1;);return c},i.__iteratorUncached=function(s,u){var f=n.map(function(h){return h=Pl(h),N_e(u?h.reverse():h)}),d=0,c=!1;return new Rs(function(){var h;return c||(h=f.map(function(p){return p.next()}),c=r?h.every(function(p){return p.done}):h.some(function(p){return p.done})),c?hv():Ll(s,d++,t.apply(null,h.map(function(p){return p.value})))})},i}function Hu(e,t){return e===t?e:kG(e)?t:e.constructor(t)}function _Ge(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function fOe(e){return Uu(e)?fw:Ng(e)?cL:X8}function AE(e){return Object.create((Uu(e)?lT:Ng(e)?dw:J8).prototype)}function dOe(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Kp.prototype.cacheResult.call(this)}function gct(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function $S(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function hOe(e,t){if(!e)throw new Error(t)}function jb(e){hOe(e!==1/0,"Cannot perform this action with an infinite size.")}function pct(e){if(iOe(e)&&typeof e!="string")return e;if(oy(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var Sfn=Object.prototype.toString;function bse(e){if(!e||typeof e!="object"||Sfn.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t,r=Object.getPrototypeOf(t);r!==null;)n=r,r=Object.getPrototypeOf(n);return n===t}function O3(e){return typeof e=="object"&&(_y(e)||Array.isArray(e)||bse(e))}function HV(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function gOe(e,t){return _y(e)?e.has(t):O3(e)&&Q8.call(e,t)}function wse(e,t,n){return _y(e)?e.get(t,n):gOe(e,t)?typeof e.get=="function"?e.get(t):e[t]:n}function Tre(e){if(Array.isArray(e))return $S(e);var t={};for(var n in e)Q8.call(e,n)&&(t[n]=e[n]);return t}function pOe(e,t){if(!O3(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(_y(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Q8.call(e,t))return e;var n=Tre(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function vOe(e,t,n){if(!O3(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(_y(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(Q8.call(e,t)&&n===e[t])return e;var r=Tre(e);return r[t]=n,r}function cT(e,t,n,r){r||(r=n,n=void 0);var i=vct(_y(e),e,pct(t),0,n,r);return i===Zo?n:i}function vct(e,t,n,r,i,a){var s=t===Zo;if(r===n.length){var u=s?i:t,f=a(u);return f===u?t:f}if(!s&&!O3(t))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(HV)+"]: "+t);var d=n[r],c=s?Zo:wse(t,d,Zo),h=vct(c===Zo?e:_y(c),c,n,r+1,i,a);return h===c?t:h===Zo?pOe(t,d):vOe(s?e?Z2():{}:t,d,h)}function mOe(e,t,n){return cT(e,t,Zo,function(){return n})}function yOe(e,t){return mOe(this,e,t)}function bOe(e,t){return cT(e,t,function(){return Zo})}function wOe(e){return bOe(this,e)}function _se(e,t,n,r){return cT(e,[t],n,r)}function _Oe(e,t,n){return arguments.length===1?e(this):_se(this,e,t,n)}function xOe(e,t,n){return cT(this,e,t,n)}function mct(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return bct(this,e)}function yct(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return bct(this,t,e)}function bct(e,t,n){for(var r=[],i=0;i<t.length;i++){var a=fw(t[i]);a.size!==0&&r.push(a)}return r.length===0?e:e.toSeq().size===0&&!e.__ownerID&&r.length===1?e.constructor(r[0]):e.withMutations(function(s){for(var u=n?function(d,c){_se(s,c,Zo,function(h){return h===Zo?d:n(h,d,c)})}:function(d,c){s.set(c,d)},f=0;f<r.length;f++)r[f].forEach(u)})}function wct(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return TG(e,t)}function _ct(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return TG(t,n,e)}function xct(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return RG(e,t)}function Sct(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return RG(t,n,e)}function RG(e,t,n){return TG(e,t,Efn(n))}function TG(e,t,n){if(!O3(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(_y(e))return typeof n=="function"&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),i=e,a=r?cL:fw,s=r?function(f){i===e&&(i=Tre(i)),i.push(f)}:function(f,d){var c=Q8.call(i,d),h=c&&n?n(i[d],f,d):f;(!c||h!==i[d])&&(i===e&&(i=Tre(i)),i[d]=h)},u=0;u<t.length;u++)a(t[u]).forEach(s);return i}function Efn(e){function t(n,r,i){return O3(n)&&O3(r)&&Cfn(n,r)?TG(n,[r],t):e?e(n,r,i):r}return t}function Cfn(e,t){var n=Kp(e),r=Kp(t);return Ng(n)===Ng(r)&&Uu(n)===Uu(r)}function Ect(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return RG(this,e)}function Cct(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return RG(this,t,e)}function SOe(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return cT(this,e,Z2(),function(r){return TG(r,t)})}function EOe(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return cT(this,e,Z2(),function(r){return RG(r,t)})}function MG(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function PG(){return this.__ownerID?this:this.__ensureOwner(new nOe)}function LG(){return this.__ensureOwner()}function COe(){return this.__altered}var fT=function(e){function t(n){return n==null?Z2():AG(n)&&!oy(n)?n:Z2().withMutations(function(r){var i=e(n);jb(i.size),i.forEach(function(a,s){return r.set(s,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return Z2().withMutations(function(a){for(var s=0;s<r.length;s+=2){if(s+1>=r.length)throw new Error("Missing value for key: "+r[s]);a.set(r[s],r[s+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(r,i){return this._root?this._root.get(0,void 0,r,i):i},t.prototype.set=function(r,i){return EGe(this,r,i)},t.prototype.remove=function(r){return EGe(this,r,Zo)},t.prototype.deleteAll=function(r){var i=Pl(r);return i.size===0?this:this.withMutations(function(a){i.forEach(function(s){return a.remove(s)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Z2()},t.prototype.sort=function(r){return E_(CN(this,r))},t.prototype.sortBy=function(r,i){return E_(CN(this,i,r))},t.prototype.map=function(r,i){var a=this;return this.withMutations(function(s){s.forEach(function(u,f){s.set(f,r.call(i,u,f,a))})})},t.prototype.__iterator=function(r,i){return new $fn(this,r,i)},t.prototype.__iterate=function(r,i){var a=this,s=0;return this._root&&this._root.iterate(function(u){return s++,r(u[1],u[0],a)},i),s},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?$Oe(this.size,this._root,r,this.__hash):this.size===0?Z2():(this.__ownerID=r,this.__altered=!1,this)},t}(fw);fT.isMap=AG;var Dl=fT.prototype;Dl[ict]=!0;Dl[EG]=Dl.remove;Dl.removeAll=Dl.deleteAll;Dl.setIn=yOe;Dl.removeIn=Dl.deleteIn=wOe;Dl.update=_Oe;Dl.updateIn=xOe;Dl.merge=Dl.concat=mct;Dl.mergeWith=yct;Dl.mergeDeep=Ect;Dl.mergeDeepWith=Cct;Dl.mergeIn=SOe;Dl.mergeDeepIn=EOe;Dl.withMutations=MG;Dl.wasAltered=COe;Dl.asImmutable=LG;Dl["@@transducer/init"]=Dl.asMutable=PG;Dl["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};Dl["@@transducer/result"]=function(e){return e.asImmutable()};var UV=function(t,n){this.ownerID=t,this.entries=n};UV.prototype.get=function(t,n,r,i){for(var a=this.entries,s=0,u=a.length;s<u;s++)if(Vd(r,a[s][0]))return a[s][1];return i};UV.prototype.update=function(t,n,r,i,a,s,u){for(var f=a===Zo,d=this.entries,c=0,h=d.length;c<h&&!Vd(i,d[c][0]);c++);var p=c<h;if(p?d[c][1]===a:f)return this;if(zb(u),(f||!p)&&zb(s),!(f&&d.length===1)){if(!p&&!f&&d.length>=Mfn)return kfn(t,d,i,a);var v=t&&t===this.ownerID,m=v?d:$S(d);return p?f?c===h-1?m.pop():m[c]=m.pop():m[c]=[i,a]:m.push([i,a]),v?(this.entries=m,this):new UV(t,m)}};var $N=function(t,n,r){this.ownerID=t,this.bitmap=n,this.nodes=r};$N.prototype.get=function(t,n,r,i){n===void 0&&(n=Q0(r));var a=1<<((t===0?n:n>>>t)&av),s=this.bitmap;return s&a?this.nodes[$ct(s&a-1)].get(t+$l,n,r,i):i};$N.prototype.update=function(t,n,r,i,a,s,u){r===void 0&&(r=Q0(i));var f=(n===0?r:r>>>n)&av,d=1<<f,c=this.bitmap,h=(c&d)!==0;if(!h&&a===Zo)return this;var p=$ct(c&d-1),v=this.nodes,m=h?v[p]:void 0,y=kOe(m,t,n+$l,r,i,a,s,u);if(y===m)return this;if(!h&&y&&v.length>=Pfn)return Afn(t,v,c,f,y);if(h&&!y&&v.length===2&&CGe(v[p^1]))return v[p^1];if(h&&y&&v.length===1&&CGe(y))return y;var w=t&&t===this.ownerID,_=h?y?c:c^d:c|d,S=h?y?kct(v,p,y,w):Tfn(v,p,w):Rfn(v,p,y,w);return w?(this.bitmap=_,this.nodes=S,this):new $N(t,_,S)};var VV=function(t,n,r){this.ownerID=t,this.count=n,this.nodes=r};VV.prototype.get=function(t,n,r,i){n===void 0&&(n=Q0(r));var a=(t===0?n:n>>>t)&av,s=this.nodes[a];return s?s.get(t+$l,n,r,i):i};VV.prototype.update=function(t,n,r,i,a,s,u){r===void 0&&(r=Q0(i));var f=(n===0?r:r>>>n)&av,d=a===Zo,c=this.nodes,h=c[f];if(d&&!h)return this;var p=kOe(h,t,n+$l,r,i,a,s,u);if(p===h)return this;var v=this.count;if(!h)v++;else if(!p&&(v--,v<Lfn))return Ofn(t,c,v,f);var m=t&&t===this.ownerID,y=kct(c,f,p,m);return m?(this.count=v,this.nodes=y,this):new VV(t,v,y)};var kN=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entries=r};kN.prototype.get=function(t,n,r,i){for(var a=this.entries,s=0,u=a.length;s<u;s++)if(Vd(r,a[s][0]))return a[s][1];return i};kN.prototype.update=function(t,n,r,i,a,s,u){r===void 0&&(r=Q0(i));var f=a===Zo;if(r!==this.keyHash)return f?this:(zb(u),zb(s),OOe(this,t,n,r,[i,a]));for(var d=this.entries,c=0,h=d.length;c<h&&!Vd(i,d[c][0]);c++);var p=c<h;if(p?d[c][1]===a:f)return this;if(zb(u),(f||!p)&&zb(s),f&&h===2)return new xk(t,this.keyHash,d[c^1]);var v=t&&t===this.ownerID,m=v?d:$S(d);return p?f?c===h-1?m.pop():m[c]=m.pop():m[c]=[i,a]:m.push([i,a]),v?(this.entries=m,this):new kN(t,this.keyHash,m)};var xk=function(t,n,r){this.ownerID=t,this.keyHash=n,this.entry=r};xk.prototype.get=function(t,n,r,i){return Vd(r,this.entry[0])?this.entry[1]:i};xk.prototype.update=function(t,n,r,i,a,s,u){var f=a===Zo,d=Vd(i,this.entry[0]);if(d?a===this.entry[1]:f)return this;if(zb(u),f){zb(s);return}return d?t&&t===this.ownerID?(this.entry[1]=a,this):new xk(t,this.keyHash,[i,a]):(zb(s),OOe(this,t,n,Q0(i),[i,a]))};UV.prototype.iterate=kN.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(e(n[t?i-r:r])===!1)return!1};$N.prototype.iterate=VV.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var a=n[t?i-r:r];if(a&&a.iterate(e,t)===!1)return!1}};xk.prototype.iterate=function(e,t){return e(this.entry)};var $fn=function(e){function t(n,r,i){this._type=r,this._reverse=i,this._stack=n._root&&xGe(n._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var r=this._type,i=this._stack;i;){var a=i.node,s=i.index++,u=void 0;if(a.entry){if(s===0)return v1e(r,a.entry)}else if(a.entries){if(u=a.entries.length-1,s<=u)return v1e(r,a.entries[this._reverse?u-s:s])}else if(u=a.nodes.length-1,s<=u){var f=a.nodes[this._reverse?u-s:s];if(f){if(f.entry)return v1e(r,f.entry);i=this._stack=xGe(f,i)}continue}i=this._stack=this._stack.__prev}return hv()},t}(Rs);function v1e(e,t){return Ll(e,t[0],t[1])}function xGe(e,t){return{node:e,index:0,__prev:t}}function $Oe(e,t,n,r){var i=Object.create(Dl);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var SGe;function Z2(){return SGe||(SGe=$Oe(0))}function EGe(e,t,n){var r,i;if(e._root){var a=I_e(),s=I_e();if(r=kOe(e._root,e.__ownerID,0,void 0,t,n,a,s),!s.value)return e;i=e.size+(a.value?n===Zo?-1:1:0)}else{if(n===Zo)return e;i=1,r=new UV(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?$Oe(i,r):Z2()}function kOe(e,t,n,r,i,a,s,u){return e?e.update(t,n,r,i,a,s,u):a===Zo?e:(zb(u),zb(s),new xk(t,r,[i,a]))}function CGe(e){return e.constructor===xk||e.constructor===kN}function OOe(e,t,n,r,i){if(e.keyHash===r)return new kN(t,r,[e.entry,i]);var a=(n===0?e.keyHash:e.keyHash>>>n)&av,s=(n===0?r:r>>>n)&av,u,f=a===s?[OOe(e,t,n+$l,r,i)]:(u=new xk(t,r,i),a<s?[e,u]:[u,e]);return new $N(t,1<<a|1<<s,f)}function kfn(e,t,n,r){e||(e=new nOe);for(var i=new xk(e,Q0(n),[n,r]),a=0;a<t.length;a++){var s=t[a];i=i.update(e,0,void 0,s[0],s[1])}return i}function Ofn(e,t,n,r){for(var i=0,a=0,s=new Array(n),u=0,f=1,d=t.length;u<d;u++,f<<=1){var c=t[u];c!==void 0&&u!==r&&(i|=f,s[a++]=c)}return new $N(e,i,s)}function Afn(e,t,n,r,i){for(var a=0,s=new Array(Nb),u=0;n!==0;u++,n>>>=1)s[u]=n&1?t[a++]:void 0;return s[r]=i,new VV(e,a+1,s)}function $ct(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function kct(e,t,n,r){var i=r?e:$S(e);return i[t]=n,i}function Rfn(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var a=new Array(i),s=0,u=0;u<i;u++)u===t?(a[u]=n,s=-1):a[u]=e[u+s];return a}function Tfn(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),a=0,s=0;s<r;s++)s===t&&(a=1),i[s]=e[s+a];return i}var Mfn=Nb/4,Pfn=Nb/2,Lfn=Nb/4,Oct="@@__IMMUTABLE_LIST__@@";function xse(e){return!!(e&&e[Oct])}var e7=function(e){function t(n){var r=Ote();if(n==null)return r;if(xse(n))return n;var i=e(n),a=i.size;return a===0?r:(jb(a),a>0&&a<Nb?WV(0,a,$l,null,new e3(i.toArray())):r.withMutations(function(s){s.setSize(a),i.forEach(function(u,f){return s.set(f,u)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(r,i){if(r=k3(this,r),r>=0&&r<this.size){r+=this._origin;var a=Act(this,r);return a&&a.array[r&av]}return i},t.prototype.set=function(r,i){return Dfn(this,r,i)},t.prototype.remove=function(r){return this.has(r)?r===0?this.shift():r===this.size-1?this.pop():this.splice(r,1):this},t.prototype.insert=function(r,i){return this.splice(r,0,i)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=$l,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Ote()},t.prototype.push=function(){var r=arguments,i=this.size;return this.withMutations(function(a){rR(a,0,i+r.length);for(var s=0;s<r.length;s++)a.set(i+s,r[s])})},t.prototype.pop=function(){return rR(this,0,-1)},t.prototype.unshift=function(){var r=arguments;return this.withMutations(function(i){rR(i,-r.length);for(var a=0;a<r.length;a++)i.set(a,r[a])})},t.prototype.shift=function(){return rR(this,1)},t.prototype.concat=function(){for(var r=arguments,i=[],a=0;a<arguments.length;a++){var s=r[a],u=e(typeof s!="string"&&rOe(s)?s:[s]);u.size!==0&&i.push(u)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(f){i.forEach(function(d){return d.forEach(function(c){return f.push(c)})})})},t.prototype.setSize=function(r){return rR(this,0,r)},t.prototype.map=function(r,i){var a=this;return this.withMutations(function(s){for(var u=0;u<a.size;u++)s.set(u,r.call(i,s.get(u),u,a))})},t.prototype.slice=function(r,i){var a=this.size;return CG(r,i,a)?this:rR(this,Y8(r,a),$G(i,a))},t.prototype.__iterator=function(r,i){var a=i?this.size:0,s=$Ge(this,i);return new Rs(function(){var u=s();return u===fU?hv():Ll(r,i?--a:a++,u)})},t.prototype.__iterate=function(r,i){for(var a=i?this.size:0,s=$Ge(this,i),u;(u=s())!==fU&&r(u,i?--a:a++,this)!==!1;);return a},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?WV(this._origin,this._capacity,this._level,this._root,this._tail,r,this.__hash):this.size===0?Ote():(this.__ownerID=r,this.__altered=!1,this)},t}(cL);e7.isList=xse;var pd=e7.prototype;pd[Oct]=!0;pd[EG]=pd.remove;pd.merge=pd.concat;pd.setIn=yOe;pd.deleteIn=pd.removeIn=wOe;pd.update=_Oe;pd.updateIn=xOe;pd.mergeIn=SOe;pd.mergeDeepIn=EOe;pd.withMutations=MG;pd.wasAltered=COe;pd.asImmutable=LG;pd["@@transducer/init"]=pd.asMutable=PG;pd["@@transducer/step"]=function(e,t){return e.push(t)};pd["@@transducer/result"]=function(e){return e.asImmutable()};var e3=function(t,n){this.array=t,this.ownerID=n};e3.prototype.removeBefore=function(t,n,r){if(r===n?1<<n:this.array.length===0)return this;var i=r>>>n&av;if(i>=this.array.length)return new e3([],t);var a=i===0,s;if(n>0){var u=this.array[i];if(s=u&&u.removeBefore(t,n-$l,r),s===u&&a)return this}if(a&&!s)return this;var f=ON(this,t);if(!a)for(var d=0;d<i;d++)f.array[d]=void 0;return s&&(f.array[i]=s),f};e3.prototype.removeAfter=function(t,n,r){if(r===(n?1<<n:0)||this.array.length===0)return this;var i=r-1>>>n&av;if(i>=this.array.length)return this;var a;if(n>0){var s=this.array[i];if(a=s&&s.removeAfter(t,n-$l,r),a===s&&i===this.array.length-1)return this}var u=ON(this,t);return u.array.splice(i+1),a&&(u.array[i]=a),u};var fU={};function $Ge(e,t){var n=e._origin,r=e._capacity,i=GV(r),a=e._tail;return s(e._root,e._level,0);function s(d,c,h){return c===0?u(d,h):f(d,c,h)}function u(d,c){var h=c===i?a&&a.array:d&&d.array,p=c>n?0:n-c,v=r-c;return v>Nb&&(v=Nb),function(){if(p===v)return fU;var m=t?--v:p++;return h&&h[m]}}function f(d,c,h){var p,v=d&&d.array,m=h>n?0:n-h>>c,y=(r-h>>c)+1;return y>Nb&&(y=Nb),function(){for(;;){if(p){var w=p();if(w!==fU)return w;p=null}if(m===y)return fU;var _=t?--y:m++;p=s(v&&v[_],c-$l,h+(_<<c))}}}}function WV(e,t,n,r,i,a,s){var u=Object.create(pd);return u.size=t-e,u._origin=e,u._capacity=t,u._level=n,u._root=r,u._tail=i,u.__ownerID=a,u.__hash=s,u.__altered=!1,u}var kGe;function Ote(){return kGe||(kGe=WV(0,0,$l))}function Dfn(e,t,n){if(t=k3(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(s){t<0?rR(s,t).set(0,n):rR(s,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,i=e._root,a=I_e();return t>=GV(e._capacity)?r=H_e(r,e.__ownerID,0,t,n,a):i=H_e(i,e.__ownerID,e._level,t,n,a),a.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):WV(e._origin,e._capacity,e._level,i,r):e}function H_e(e,t,n,r,i,a){var s=r>>>n&av,u=e&&s<e.array.length;if(!u&&i===void 0)return e;var f;if(n>0){var d=e&&e.array[s],c=H_e(d,t,n-$l,r,i,a);return c===d?e:(f=ON(e,t),f.array[s]=c,f)}return u&&e.array[s]===i?e:(a&&zb(a),f=ON(e,t),i===void 0&&s===f.array.length-1?f.array.pop():f.array[s]=i,f)}function ON(e,t){return t&&e&&t===e.ownerID?e:new e3(e?e.array.slice():[],t)}function Act(e,t){if(t>=GV(e._capacity))return e._tail;if(t<1<<e._level+$l){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&av],r-=$l;return n}}function rR(e,t,n){t!==void 0&&(t|=0),n!==void 0&&(n|=0);var r=e.__ownerID||new nOe,i=e._origin,a=e._capacity,s=i+t,u=n===void 0?a:n<0?a+n:i+n;if(s===i&&u===a)return e;if(s>=u)return e.clear();for(var f=e._level,d=e._root,c=0;s+c<0;)d=new e3(d&&d.array.length?[void 0,d]:[],r),f+=$l,c+=1<<f;c&&(s+=c,i+=c,u+=c,a+=c);for(var h=GV(a),p=GV(u);p>=1<<f+$l;)d=new e3(d&&d.array.length?[d]:[],r),f+=$l;var v=e._tail,m=p<h?Act(e,u-1):p>h?new e3([],r):v;if(v&&p>h&&s<a&&v.array.length){d=ON(d,r);for(var y=d,w=f;w>$l;w-=$l){var _=h>>>w&av;y=y.array[_]=ON(y.array[_],r)}y.array[h>>>$l&av]=v}if(u<a&&(m=m&&m.removeAfter(r,0,u)),s>=p)s-=p,u-=p,f=$l,d=null,m=m&&m.removeBefore(r,0,s);else if(s>i||p<h){for(c=0;d;){var S=s>>>f&av;if(S!==p>>>f&av)break;S&&(c+=(1<<f)*S),f-=$l,d=d.array[S]}d&&s>i&&(d=d.removeBefore(r,f,s-c)),d&&p<h&&(d=d.removeAfter(r,f,p-c)),c&&(s-=c,u-=c)}return e.__ownerID?(e.size=u-s,e._origin=s,e._capacity=u,e._level=f,e._root=d,e._tail=m,e.__hash=void 0,e.__altered=!0,e):WV(s,u,f,d,m)}function GV(e){return e<Nb?0:e-1>>>$l<<$l}var E_=function(e){function t(n){return n==null?gH():vse(n)?n:gH().withMutations(function(r){var i=fw(n);jb(i.size),i.forEach(function(a,s){return r.set(s,a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(r,i){var a=this._map.get(r);return a!==void 0?this._list.get(a)[1]:i},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):gH()},t.prototype.set=function(r,i){return AGe(this,r,i)},t.prototype.remove=function(r){return AGe(this,r,Zo)},t.prototype.__iterate=function(r,i){var a=this;return this._list.__iterate(function(s){return s&&r(s[1],s[0],a)},i)},t.prototype.__iterator=function(r,i){return this._list.fromEntrySeq().__iterator(r,i)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r),a=this._list.__ensureOwner(r);return r?AOe(i,a,r,this.__hash):this.size===0?gH():(this.__ownerID=r,this.__altered=!1,this._map=i,this._list=a,this)},t}(fT);E_.isOrderedMap=vse;E_.prototype[Z8]=!0;E_.prototype[EG]=E_.prototype.remove;function AOe(e,t,n,r){var i=Object.create(E_.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var OGe;function gH(){return OGe||(OGe=AOe(Z2(),Ote()))}function AGe(e,t,n){var r=e._map,i=e._list,a=r.get(t),s=a!==void 0,u,f;if(n===Zo){if(!s)return e;i.size>=Nb&&i.size>=r.size*2?(f=i.filter(function(d,c){return d!==void 0&&a!==c}),u=f.toKeyedSeq().map(function(d){return d[0]}).flip().toMap(),e.__ownerID&&(u.__ownerID=f.__ownerID=e.__ownerID)):(u=r.remove(t),f=a===i.size-1?i.pop():i.set(a,void 0))}else if(s){if(n===i.get(a)[1])return e;u=r,f=i.set(a,[t,n])}else u=r.set(t,i.size),f=i.set(i.size,[t,n]);return e.__ownerID?(e.size=u.size,e._map=u,e._list=f,e.__hash=void 0,e.__altered=!0,e):AOe(u,f)}var Rct="@@__IMMUTABLE_STACK__@@";function qV(e){return!!(e&&e[Rct])}var DG=function(e){function t(n){return n==null?FJ():qV(n)?n:FJ().pushAll(n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(r,i){var a=this._head;for(r=k3(this,r);a&&r--;)a=a.next;return a?a.value:i},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var r=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,s=arguments.length-1;s>=0;s--)a={value:r[s],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):pH(i,a)},t.prototype.pushAll=function(r){if(r=e(r),r.size===0)return this;if(this.size===0&&qV(r))return r;jb(r.size);var i=this.size,a=this._head;return r.__iterate(function(s){i++,a={value:s,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):pH(i,a)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):FJ()},t.prototype.slice=function(r,i){if(CG(r,i,this.size))return this;var a=Y8(r,this.size),s=$G(i,this.size);if(s!==this.size)return e.prototype.slice.call(this,r,i);for(var u=this.size-a,f=this._head;a--;)f=f.next;return this.__ownerID?(this.size=u,this._head=f,this.__hash=void 0,this.__altered=!0,this):pH(u,f)},t.prototype.__ensureOwner=function(r){return r===this.__ownerID?this:r?pH(this.size,this._head,r,this.__hash):this.size===0?FJ():(this.__ownerID=r,this.__altered=!1,this)},t.prototype.__iterate=function(r,i){var a=this;if(i)return new _P(this.toArray()).__iterate(function(f,d){return r(f,d,a)},i);for(var s=0,u=this._head;u&&r(u.value,s++,this)!==!1;)u=u.next;return s},t.prototype.__iterator=function(r,i){if(i)return new _P(this.toArray()).__iterator(r,i);var a=0,s=this._head;return new Rs(function(){if(s){var u=s.value;return s=s.next,Ll(r,a++,u)}return hv()})},t}(cL);DG.isStack=qV;var gv=DG.prototype;gv[Rct]=!0;gv.shift=gv.pop;gv.unshift=gv.push;gv.unshiftAll=gv.pushAll;gv.withMutations=MG;gv.wasAltered=COe;gv.asImmutable=LG;gv["@@transducer/init"]=gv.asMutable=PG;gv["@@transducer/step"]=function(e,t){return e.unshift(t)};gv["@@transducer/result"]=function(e){return e.asImmutable()};function pH(e,t,n,r){var i=Object.create(gv);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}var RGe;function FJ(){return RGe||(RGe=pH(0))}var Tct="@@__IMMUTABLE_SET__@@";function IG(e){return!!(e&&e[Tct])}function Sse(e){return IG(e)&&oy(e)}function ROe(e,t){if(e===t)return!0;if(!Yp(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||Uu(e)!==Uu(t)||Ng(e)!==Ng(t)||oy(e)!==oy(t))return!1;if(e.size===0&&t.size===0)return!0;var n=!K8(e);if(oy(e)){var r=e.entries();return t.every(function(f,d){var c=r.next().value;return c&&Vd(c[1],f)&&(n||Vd(c[0],d))})&&r.next().done}var i=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{i=!0;var a=e;e=t,t=a}var s=!0,u=t.__iterate(function(f,d){if(n?!e.has(f):i?!Vd(f,e.get(d,Zo)):!Vd(e.get(d,Zo),f))return s=!1,!1});return s&&e.size===u}function fL(e,t){var n=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Mre(e){if(!e||typeof e!="object")return e;if(!Yp(e)){if(!O3(e))return e;e=Kp(e)}if(Uu(e)){var t={};return e.__iterate(function(r,i){t[i]=Mre(r)}),t}var n=[];return e.__iterate(function(r){n.push(Mre(r))}),n}var t7=function(e){function t(n){return n==null?vH():IG(n)&&!oy(n)?n:vH().withMutations(function(r){var i=e(n);jb(i.size),i.forEach(function(a){return r.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(fw(r).keySeq())},t.intersect=function(r){return r=Pl(r).toArray(),r.length?zg.intersect.apply(t(r.pop()),r):vH()},t.union=function(r){return r=Pl(r).toArray(),r.length?zg.union.apply(t(r.pop()),r):vH()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(r){return this._map.has(r)},t.prototype.add=function(r){return NJ(this,this._map.set(r,r))},t.prototype.remove=function(r){return NJ(this,this._map.remove(r))},t.prototype.clear=function(){return NJ(this,this._map.clear())},t.prototype.map=function(r,i){var a=this,s=!1,u=NJ(this,this._map.mapEntries(function(f){var d=f[1],c=r.call(i,d,d,a);return c!==d&&(s=!0),[c,c]},i));return s?u:this},t.prototype.union=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return r=r.filter(function(a){return a.size!==0}),r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(a){for(var s=0;s<r.length;s++)typeof r[s]=="string"?a.add(r[s]):e(r[s]).forEach(function(u){return a.add(u)})})},t.prototype.intersect=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(s){return e(s)});var a=[];return this.forEach(function(s){r.every(function(u){return u.includes(s)})||a.push(s)}),this.withMutations(function(s){a.forEach(function(u){s.remove(u)})})},t.prototype.subtract=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];if(r.length===0)return this;r=r.map(function(s){return e(s)});var a=[];return this.forEach(function(s){r.some(function(u){return u.includes(s)})&&a.push(s)}),this.withMutations(function(s){a.forEach(function(u){s.remove(u)})})},t.prototype.sort=function(r){return xP(CN(this,r))},t.prototype.sortBy=function(r,i){return xP(CN(this,i,r))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(r,i){var a=this;return this._map.__iterate(function(s){return r(s,s,a)},i)},t.prototype.__iterator=function(r,i){return this._map.__iterator(r,i)},t.prototype.__ensureOwner=function(r){if(r===this.__ownerID)return this;var i=this._map.__ensureOwner(r);return r?this.__make(i,r):this.size===0?this.__empty():(this.__ownerID=r,this._map=i,this)},t}(X8);t7.isSet=IG;var zg=t7.prototype;zg[Tct]=!0;zg[EG]=zg.remove;zg.merge=zg.concat=zg.union;zg.withMutations=MG;zg.asImmutable=LG;zg["@@transducer/init"]=zg.asMutable=PG;zg["@@transducer/step"]=function(e,t){return e.add(t)};zg["@@transducer/result"]=function(e){return e.asImmutable()};zg.__empty=vH;zg.__make=Mct;function NJ(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function Mct(e,t){var n=Object.create(zg);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var TGe;function vH(){return TGe||(TGe=Mct(Z2()))}var TOe=function(e){function t(n,r,i){if(!(this instanceof t))return new t(n,r,i);if(hOe(i!==0,"Cannot step a Range by 0"),n=n||0,r===void 0&&(r=1/0),i=i===void 0?1:Math.abs(i),r<n&&(i=-i),this._start=n,this._end=r,this._step=i,this.size=Math.max(0,Math.ceil((r-n)/i-1)+1),this.size===0){if(m1e)return m1e;m1e=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(r,i){return this.has(r)?this._start+k3(this,r)*this._step:i},t.prototype.includes=function(r){var i=(r-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},t.prototype.slice=function(r,i){return CG(r,i,this.size)?this:(r=Y8(r,this.size),i=$G(i,this.size),i<=r?new t(0,0):new t(this.get(r,this._end),this.get(i,this._end),this._step))},t.prototype.indexOf=function(r){var i=r-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},t.prototype.lastIndexOf=function(r){return this.indexOf(r)},t.prototype.__iterate=function(r,i){for(var a=this.size,s=this._step,u=i?this._start+(a-1)*s:this._start,f=0;f!==a&&r(u,i?a-++f:f++,this)!==!1;)u+=i?-s:s;return f},t.prototype.__iterator=function(r,i){var a=this.size,s=this._step,u=i?this._start+(a-1)*s:this._start,f=0;return new Rs(function(){if(f===a)return hv();var d=u;return u+=i?-s:s,Ll(r,i?a-++f:f++,d)})},t.prototype.equals=function(r){return r instanceof t?this._start===r._start&&this._end===r._end&&this._step===r._step:ROe(this,r)},t}(dw),m1e;function Ese(e,t,n){for(var r=pct(t),i=0;i!==r.length;)if(e=wse(e,r[i++],Zo),e===Zo)return n;return e}function Pct(e,t){return Ese(this,e,t)}function MOe(e,t){return Ese(e,t,Zo)!==Zo}function Ifn(e){return MOe(this,e)}function Lct(){jb(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}Pl.isIterable=Yp;Pl.isKeyed=Uu;Pl.isIndexed=Ng;Pl.isAssociative=K8;Pl.isOrdered=oy;Pl.Iterator=Rs;fL(Pl,{toArray:function(){jb(this.size);var t=new Array(this.size||0),n=Uu(this),r=0;return this.__iterate(function(i,a){t[r++]=n?[a,i]:i}),t},toIndexedSeq:function(){return new oct(this)},toJS:function(){return Mre(this)},toKeyedSeq:function(){return new yse(this,!0)},toMap:function(){return fT(this.toKeyedSeq())},toObject:Lct,toOrderedMap:function(){return E_(this.toKeyedSeq())},toOrderedSet:function(){return xP(Uu(this)?this.valueSeq():this)},toSet:function(){return t7(Uu(this)?this.valueSeq():this)},toSetSeq:function(){return new sct(this)},toSeq:function(){return Ng(this)?this.toIndexedSeq():Uu(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return DG(Uu(this)?this.valueSeq():this)},toList:function(){return e7(Uu(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,n){return this.size===0?t+n:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+n},concat:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Hu(this,wfn(this,t))},includes:function(t){return this.some(function(n){return Vd(n,t)})},entries:function(){return this.__iterator(tw)},every:function(t,n){jb(this.size);var r=!0;return this.__iterate(function(i,a,s){if(!t.call(n,i,a,s))return r=!1,!1}),r},filter:function(t,n){return Hu(this,fct(this,t,n,!0))},partition:function(t,n){return yfn(this,t,n)},find:function(t,n,r){var i=this.findEntry(t,n);return i?i[1]:r},forEach:function(t,n){return jb(this.size),this.__iterate(n?t.bind(n):t)},join:function(t){jb(this.size),t=t!==void 0?""+t:",";var n="",r=!0;return this.__iterate(function(i){r?r=!1:n+=t,n+=i!=null?i.toString():""}),n},keys:function(){return this.__iterator(OG)},map:function(t,n){return Hu(this,cct(this,t,n))},reduce:function(t,n,r){return MGe(this,t,n,r,arguments.length<2,!1)},reduceRight:function(t,n,r){return MGe(this,t,n,r,arguments.length<2,!0)},reverse:function(){return Hu(this,lOe(this,!0))},slice:function(t,n){return Hu(this,cOe(this,t,n,!0))},some:function(t,n){return!this.every(zJ(t),n)},sort:function(t){return Hu(this,CN(this,t))},values:function(){return this.__iterator(S_)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,n){return EN(t?this.toSeq().filter(t,n):this)},countBy:function(t,n){return vfn(this,t,n)},equals:function(t){return ROe(this,t)},entrySeq:function(){var t=this;if(t._cache)return new _P(t._cache);var n=t.toSeq().map(Nfn).toIndexedSeq();return n.fromEntrySeq=function(){return t.toSeq()},n},filterNot:function(t,n){return this.filter(zJ(t),n)},findEntry:function(t,n,r){var i=r;return this.__iterate(function(a,s,u){if(t.call(n,a,s,u))return i=[s,a],!1}),i},findKey:function(t,n){var r=this.findEntry(t,n);return r&&r[0]},findLast:function(t,n,r){return this.toKeyedSeq().reverse().find(t,n,r)},findLastEntry:function(t,n,r){return this.toKeyedSeq().reverse().findEntry(t,n,r)},findLastKey:function(t,n){return this.toKeyedSeq().reverse().findKey(t,n)},first:function(t){return this.find(Ylt,null,t)},flatMap:function(t,n){return Hu(this,_fn(this,t,n))},flatten:function(t){return Hu(this,hct(this,t,!0))},fromEntrySeq:function(){return new uct(this)},get:function(t,n){return this.find(function(r,i){return Vd(i,t)},void 0,n)},getIn:Pct,groupBy:function(t,n){return mfn(this,t,n)},has:function(t){return this.get(t,Zo)!==Zo},hasIn:Ifn,isSubset:function(t){return t=typeof t.includes=="function"?t:Pl(t),this.every(function(n){return t.includes(n)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:Pl(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(n){return Vd(n,t)})},keySeq:function(){return this.toSeq().map(Ffn).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return DJ(this,t)},maxBy:function(t,n){return DJ(this,n,t)},min:function(t){return DJ(this,t?PGe(t):DGe)},minBy:function(t,n){return DJ(this,n?PGe(n):DGe,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,n){return Hu(this,dct(this,t,n,!0))},skipUntil:function(t,n){return this.skipWhile(zJ(t),n)},sortBy:function(t,n){return Hu(this,CN(this,n,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,n){return Hu(this,bfn(this,t,n))},takeUntil:function(t,n){return this.takeWhile(zJ(t),n)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=zfn(this))}});var Xp=Pl.prototype;Xp[Zlt]=!0;Xp[gse]=Xp.values;Xp.toJSON=Xp.toArray;Xp.__toStringMapper=HV;Xp.inspect=Xp.toSource=function(){return this.toString()};Xp.chain=Xp.flatMap;Xp.contains=Xp.includes;fL(fw,{flip:function(){return Hu(this,lct(this))},mapEntries:function(t,n){var r=this,i=0;return Hu(this,this.toSeq().map(function(a,s){return t.call(n,[s,a],i++,r)}).fromEntrySeq())},mapKeys:function(t,n){var r=this;return Hu(this,this.toSeq().flip().map(function(i,a){return t.call(n,i,a,r)}).flip())}});var FG=fw.prototype;FG[Qlt]=!0;FG[gse]=Xp.entries;FG.toJSON=Lct;FG.__toStringMapper=function(e,t){return HV(t)+": "+HV(e)};fL(cL,{toKeyedSeq:function(){return new yse(this,!1)},filter:function(t,n){return Hu(this,fct(this,t,n,!1))},findIndex:function(t,n){var r=this.findEntry(t,n);return r?r[0]:-1},indexOf:function(t){var n=this.keyOf(t);return n===void 0?-1:n},lastIndexOf:function(t){var n=this.lastKeyOf(t);return n===void 0?-1:n},reverse:function(){return Hu(this,lOe(this,!1))},slice:function(t,n){return Hu(this,cOe(this,t,n,!1))},splice:function(t,n){var r=arguments.length;if(n=Math.max(n||0,0),r===0||r===2&&!n)return this;t=Y8(t,t<0?this.count():this.size);var i=this.slice(0,t);return Hu(this,r===1?i:i.concat($S(arguments,2),this.slice(t+n)))},findLastIndex:function(t,n){var r=this.findLastEntry(t,n);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Hu(this,hct(this,t,!1))},get:function(t,n){return t=k3(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?n:this.find(function(r,i){return i===t},void 0,n)},has:function(t){return t=k3(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Hu(this,xfn(this,t))},interleave:function(){var t=[this].concat($S(arguments)),n=IJ(this.toSeq(),dw.of,t),r=n.flatten(!0);return n.size&&(r.size=n.size*t.length),Hu(this,r)},keySeq:function(){return TOe(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,n){return Hu(this,dct(this,t,n,!1))},zip:function(){var t=[this].concat($S(arguments));return Hu(this,IJ(this,LGe,t))},zipAll:function(){var t=[this].concat($S(arguments));return Hu(this,IJ(this,LGe,t,!0))},zipWith:function(t){var n=$S(arguments);return n[0]=this,Hu(this,IJ(this,t,n))}});var n7=cL.prototype;n7[Jlt]=!0;n7[Z8]=!0;fL(X8,{get:function(t,n){return this.has(t)?t:n},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var AN=X8.prototype;AN.has=Xp.includes;AN.contains=AN.includes;AN.keys=AN.values;fL(lT,FG);fL(dw,n7);fL(J8,AN);function MGe(e,t,n,r,i,a){return jb(e.size),e.__iterate(function(s,u,f){i?(i=!1,n=s):n=t.call(r,n,s,u,f)},a),n}function Ffn(e,t){return t}function Nfn(e,t){return[t,e]}function zJ(e){return function(){return!e.apply(this,arguments)}}function PGe(e){return function(){return-e.apply(this,arguments)}}function LGe(){return $S(arguments)}function DGe(e,t){return e<t?1:e>t?-1:0}function zfn(e){if(e.size===1/0)return 0;var t=oy(e),n=Uu(e),r=t?1:0,i=e.__iterate(n?t?function(a,s){r=31*r+IGe(Q0(a),Q0(s))|0}:function(a,s){r=r+IGe(Q0(a),Q0(s))|0}:t?function(a){r=31*r+Q0(a)|0}:function(a){r=r+Q0(a)|0});return jfn(i,r)}function jfn(e,t){return t=gB(t,3432918353),t=gB(t<<15|t>>>-15,461845907),t=gB(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=gB(t^t>>>16,2246822507),t=gB(t^t>>>13,3266489909),t=mse(t^t>>>16),t}function IGe(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var xP=function(e){function t(n){return n==null?U_e():Sse(n)?n:U_e().withMutations(function(r){var i=X8(n);jb(i.size),i.forEach(function(a){return r.add(a)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(r){return this(fw(r).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(t7);xP.isOrderedSet=Sse;var dL=xP.prototype;dL[Z8]=!0;dL.zip=n7.zip;dL.zipWith=n7.zipWith;dL.zipAll=n7.zipAll;dL.__empty=U_e;dL.__make=Dct;function Dct(e,t){var n=Object.create(dL);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var FGe;function U_e(){return FGe||(FGe=Dct(gH()))}var Ict={LeftThenRight:-1,RightThenLeft:1};function Bfn(e){if(uT(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(_y(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var yd=function(t,n){var r;Bfn(t);var i=function(u){var f=this;if(u instanceof i)return u;if(!(this instanceof i))return new i(u);if(!r){r=!0;var d=Object.keys(t),c=a._indices={};a._name=n,a._keys=d,a._defaultValues=t;for(var h=0;h<d.length;h++){var p=d[h];c[p]=h,a[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+LOe(this)+' with property "'+p+'" since that property name is part of the Record API.'):Hfn(a,p)}}return this.__ownerID=void 0,this._values=e7().withMutations(function(v){v.setSize(f._keys.length),fw(u).forEach(function(m,y){v.set(f._indices[y],m===f._defaultValues[y]?void 0:m)})}),this},a=i.prototype=Object.create(sl);return a.constructor=i,n&&(i.displayName=n),i};yd.prototype.toString=function(){for(var t=LOe(this)+" { ",n=this._keys,r,i=0,a=n.length;i!==a;i++)r=n[i],t+=(i?", ":"")+r+": "+HV(this.get(r));return t+" }"};yd.prototype.equals=function(t){return this===t||uT(t)&&RN(this).equals(RN(t))};yd.prototype.hashCode=function(){return RN(this).hashCode()};yd.prototype.has=function(t){return this._indices.hasOwnProperty(t)};yd.prototype.get=function(t,n){if(!this.has(t))return n;var r=this._indices[t],i=this._values.get(r);return i===void 0?this._defaultValues[t]:i};yd.prototype.set=function(t,n){if(this.has(t)){var r=this._values.set(this._indices[t],n===this._defaultValues[t]?void 0:n);if(r!==this._values&&!this.__ownerID)return POe(this,r)}return this};yd.prototype.remove=function(t){return this.set(t)};yd.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:POe(this,t)};yd.prototype.wasAltered=function(){return this._values.wasAltered()};yd.prototype.toSeq=function(){return RN(this)};yd.prototype.toJS=function(){return Mre(this)};yd.prototype.entries=function(){return this.__iterator(tw)};yd.prototype.__iterator=function(t,n){return RN(this).__iterator(t,n)};yd.prototype.__iterate=function(t,n){return RN(this).__iterate(t,n)};yd.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var n=this._values.__ensureOwner(t);return t?POe(this,n,t):(this.__ownerID=t,this._values=n,this)};yd.isRecord=uT;yd.getDescriptiveName=LOe;var sl=yd.prototype;sl[tct]=!0;sl[EG]=sl.remove;sl.deleteIn=sl.removeIn=wOe;sl.getIn=Pct;sl.hasIn=Xp.hasIn;sl.merge=mct;sl.mergeWith=yct;sl.mergeIn=SOe;sl.mergeDeep=Ect;sl.mergeDeepWith=Cct;sl.mergeDeepIn=EOe;sl.setIn=yOe;sl.update=_Oe;sl.updateIn=xOe;sl.withMutations=MG;sl.asMutable=PG;sl.asImmutable=LG;sl[gse]=sl.entries;sl.toJSON=sl.toObject=Xp.toObject;sl.inspect=sl.toSource=function(){return this.toString()};function POe(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function LOe(e){return e.constructor.displayName||e.constructor.name||"Record"}function RN(e){return sOe(e._keys.map(function(t){return[t,e.get(t)]}))}function Hfn(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(n){hOe(this.__ownerID,"Cannot set on an immutable record."),this.set(t,n)}})}catch{}}var Fct=function(e){function t(n,r){if(!(this instanceof t))return new t(n,r);if(this._value=n,this.size=r===void 0?1/0:Math.max(0,r),this.size===0){if(y1e)return y1e;y1e=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(r,i){return this.has(r)?this._value:i},t.prototype.includes=function(r){return Vd(this._value,r)},t.prototype.slice=function(r,i){var a=this.size;return CG(r,i,a)?this:new t(this._value,$G(i,a)-Y8(r,a))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(r){return Vd(this._value,r)?0:-1},t.prototype.lastIndexOf=function(r){return Vd(this._value,r)?this.size:-1},t.prototype.__iterate=function(r,i){for(var a=this.size,s=0;s!==a&&r(this._value,i?a-++s:s++,this)!==!1;);return s},t.prototype.__iterator=function(r,i){var a=this,s=this.size,u=0;return new Rs(function(){return u===s?hv():Ll(r,i?s-++u:u++,a._value)})},t.prototype.equals=function(r){return r instanceof t?Vd(this._value,r._value):ROe(r)},t}(dw),y1e;function Nct(e,t){return zct([],t||Ufn,e,"",t&&t.length>2?[]:void 0,{"":e})}function zct(e,t,n,r,i,a){if(typeof n!="string"&&!_y(n)&&(iOe(n)||rOe(n)||bse(n))){if(~e.indexOf(n))throw new TypeError("Cannot convert circular structure to Immutable");e.push(n),i&&r!==""&&i.push(r);var s=t.call(a,r,Kp(n).map(function(u,f){return zct(e,t,u,f,i,n)}),i&&i.slice());return e.pop(),i&&i.pop(),s}return n}function Ufn(e,t){return Ng(t)?t.toList():Uu(t)?t.toMap():t.toSet()}var jct="4.3.0",Vfn={version:jct,Collection:Pl,Iterable:Pl,Seq:Kp,Map:fT,OrderedMap:E_,List:e7,Stack:DG,Set:t7,OrderedSet:xP,PairSorting:Ict,Record:yd,Range:TOe,Repeat:Fct,is:Vd,fromJS:Nct,hash:Q0,isImmutable:_y,isCollection:Yp,isKeyed:Uu,isIndexed:Ng,isAssociative:K8,isOrdered:oy,isValueObject:Rre,isPlainObject:bse,isSeq:kG,isList:xse,isMap:AG,isOrderedMap:vse,isStack:qV,isSet:IG,isOrderedSet:Sse,isRecord:uT,get:wse,getIn:Ese,has:gOe,hasIn:MOe,merge:wct,mergeDeep:xct,mergeWith:_ct,mergeDeepWith:Sct,remove:pOe,removeIn:bOe,set:vOe,setIn:mOe,update:_se,updateIn:cT},Wfn=Pl;const Gfn=Object.freeze(Object.defineProperty({__proto__:null,Collection:Pl,Iterable:Wfn,List:e7,Map:fT,OrderedMap:E_,OrderedSet:xP,PairSorting:Ict,Range:TOe,Record:yd,Repeat:Fct,Seq:Kp,Set:t7,Stack:DG,default:Vfn,fromJS:Nct,get:wse,getIn:Ese,has:gOe,hasIn:MOe,hash:Q0,is:Vd,isAssociative:K8,isCollection:Yp,isImmutable:_y,isIndexed:Ng,isKeyed:Uu,isList:xse,isMap:AG,isOrdered:oy,isOrderedMap:vse,isOrderedSet:Sse,isPlainObject:bse,isRecord:uT,isSeq:kG,isSet:IG,isStack:qV,isValueObject:Rre,merge:wct,mergeDeep:xct,mergeDeepWith:Sct,mergeWith:_ct,remove:pOe,removeIn:bOe,set:vOe,setIn:mOe,update:_se,updateIn:cT,version:jct},Symbol.toStringTag,{value:"Module"})),Bct=A_(Gfn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Bindings=e.NamespaceMap=void 0;const t=Bct;Object.defineProperty(e,"NamespaceMap",{enumerable:!0,get:function(){return t.Map}});const n=i=>[...i.entries()].map(([a,s])=>`${a}: ${s.toString()}`).join(",");class r{constructor(a,s){this.namespace=a,this.parent=s}static make(){return new r((0,t.Map)(),void 0)}static fromNamespace(a){return new r(a,void 0)}get(a){var s,u;return(s=this.namespace.get(a))!==null&&s!==void 0?s:(u=this.parent)===null||u===void 0?void 0:u.get(a)}set(a,s){return new r(this.namespace.set(a,s),this.parent)}toString(){return`{${n(this.namespace)}}`+(this.parent?`/ ${this.toString()}`:"")}extend(){return new r((0,t.Map)(),this)}extendWith(a){return new r(a,this)}removeResult(){return new r(this.namespace.delete("__result__"),this.parent)}locals(){return this.namespace}}e.Bindings=r})(lL);Object.defineProperty($3,"__esModule",{value:!0});$3.currentFunctionName=$3.createContext=void 0;const qfn=lL,Hct=Wke,Yfn=(e,t)=>({frameStack:Hct.FrameStack.make(),bindings:qfn.Bindings.fromNamespace(e).extend(),environment:t});$3.createContext=Yfn;const Kfn=e=>e.inFunction===void 0?Hct.topFrameName:e.inFunction.getName();$3.currentFunctionName=Kfn;var Cse={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ImmutableMap=void 0;const t=Bct;Object.defineProperty(e,"ImmutableMap",{enumerable:!0,get:function(){return t.Map}})})(Cse);var NG={},$se={};Object.defineProperty($se,"__esModule",{value:!0});$se.makeMathConstants=void 0;const Xfn=lL,Zfn=tc,Qfn=[["Math.pi",Math.PI],["Math.e",Math.E],["Math.ln2",Math.LN2],["Math.ln10",Math.LN10],["Math.log2e",Math.LOG2E],["Math.log10e",Math.LOG10E],["Math.sqrt2",Math.SQRT2],["Math.sqrt1_2",Math.SQRT1_2],["Math.phi",1.618033988749895],["Math.tau",6.283185307179586]],Jfn=()=>(0,Xfn.NamespaceMap)(Qfn.map(([e,t])=>[e,(0,Zfn.vNumber)(t)]));$se.makeMathConstants=Jfn;var kse={};Object.defineProperty(kse,"__esModule",{value:!0});kse.makeVersionConstant=void 0;const edn=lL,tdn=tc,ndn=()=>(0,edn.NamespaceMap)([["System.version",(0,tdn.vString)("0.6.0")]]);kse.makeVersionConstant=ndn;var Uct={},IS={},pf={};Object.defineProperty(pf,"__esModule",{value:!0});pf.fnDefinitionToString=pf.tryCallFnDefinition=pf.makeDefinition=void 0;function rdn(e,t,n){return{name:e,inputs:t,run:n}}pf.makeDefinition=rdn;const idn=(e,t,n,r)=>{if(t.length!==e.inputs.length)return;const i=[];for(let a=0;a<t.length;a++){const s=e.inputs[a].unpack(t[a]);if(s===void 0)return;i.push(s)}return e.run(i,n,r)};pf.tryCallFnDefinition=idn;const adn=e=>{const t=e.inputs.map(n=>n.getName()).join(", ");return`${e.name}(${t})`};pf.fnDefinitionToString=adn;var odn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),sdn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),udn=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&odn(t,e,n);return sdn(t,e),t};Object.defineProperty(IS,"__esModule",{value:!0});IS.call=IS.make=IS.allNames=IS.allExamplesWithFns=void 0;const NGe=udn(di),zGe=pf,jGe=Qd,ldn=e=>e.functions.map(t=>{var n,r;return(r=(n=t.examples)===null||n===void 0?void 0:n.map(i=>({fn:t,example:i})))!==null&&r!==void 0?r:[]}).flat();IS.allExamplesWithFns=ldn;const cdn=e=>[...e.fnNameDict.keys()];IS.allNames=cdn;const fdn=e=>{var t;const n=new Map;for(const r of e)for(const i of r.definitions){const a=[...r.nameSpace==""?[]:[`${r.nameSpace}.${i.name}`],...r.requiresNamespace?[]:[i.name]];for(const s of a)n.has(s)?(t=n.get(s))===null||t===void 0||t.push(i):n.set(s,[i])}return{functions:e,fnNameDict:n}};IS.make=fdn;const ddn=(e,t,n,r,i)=>{const a=e.fnNameDict.get(t);if(a===void 0)return NGe.Error((0,jGe.RESymbolNotFound)(t));const s=()=>{const u=a.map(zGe.fnDefinitionToString).map(f=>`[${f}]`).join("; ");return`There are function matches for ${t}(), but with different arguments: ${u}`};for(const u of a){const f=(0,zGe.tryCallFnDefinition)(u,n,r,i);if(f!==void 0)return f}return NGe.Error((0,jGe.REOther)(s()))};IS.call=ddn;var Ose={},io={};Object.defineProperty(io,"__esModule",{value:!0});io.frRecord=io.frAny=io.frDict=io.frTuple2=io.frArray=io.frLambda=io.frDist=io.frDistOrNumber=io.frTimeDuration=io.frDate=io.frBool=io.frString=io.frNumber=void 0;const hdn=Cse;io.frNumber={unpack:e=>e.type==="Number"?e.value:void 0,getName:()=>"number"};io.frString={unpack:e=>e.type==="String"?e.value:void 0,getName:()=>"string"};io.frBool={unpack:e=>e.type==="Bool"?e.value:void 0,getName:()=>"bool"};io.frDate={unpack:e=>e.type==="Date"?e.value:void 0,getName:()=>"date"};io.frTimeDuration={unpack:e=>e.type==="TimeDuration"?e.value:void 0,getName:()=>"duration"};io.frDistOrNumber={unpack:e=>e.type==="Dist"||e.type==="Number"?e.value:void 0,getName:()=>"distribution|number"};io.frDist={unpack:e=>e.type==="Dist"?e.value:void 0,getName:()=>"distribution"};io.frLambda={unpack:e=>e.type==="Lambda"?e.value:void 0,getName:()=>"lambda"};const gdn=e=>({unpack:t=>{if(t.type!=="Array")return;const n=[];for(const r of t.value){const i=e.unpack(r);if(i===void 0)return;n.push(i)}return n},getName:()=>`list(${e.getName()})`});io.frArray=gdn;const pdn=(e,t)=>({unpack:n=>{if(n.type!=="Array"||n.value.length!==2)return;const r=e.unpack(n.value[0]),i=t.unpack(n.value[1]);if(!(r===void 0||i===void 0))return[r,i]},getName:()=>`tuple(${e.getName()}, ${t.getName()})`});io.frTuple2=pdn;const vdn=e=>({unpack:t=>{if(t.type!=="Record")return;let n=(0,hdn.ImmutableMap)();for(const[r,i]of t.value.entries()){const a=e.unpack(i);if(a===void 0)return;n=n.set(r,a)}return n},getName:()=>`dict(${e.getName()})`});io.frDict=vdn;io.frAny={unpack:e=>e,getName:()=>"any"};function mdn(...e){return{unpack:t=>{if(t.type!=="Record")return;const n=t.value,r={};for(const[i,a]of e){const s=n.get(i);if(s===void 0)return;const u=a.unpack(s);if(u===void 0)return;r[i]=u}return r},getName:()=>"{"+e.map(([t,n])=>`${t}: ${n.getName()}`).join(", ")+"}"}}io.frRecord=mdn;var Gg={};(function(e){var t=$e&&$e.__rest||function(p,v){var m={};for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&v.indexOf(y)<0&&(m[y]=p[y]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,y=Object.getOwnPropertySymbols(p);w<y.length;w++)v.indexOf(y[w])<0&&Object.prototype.propertyIsEnumerable.call(p,y[w])&&(m[y[w]]=p[y[w]]);return m};Object.defineProperty(e,"__esModule",{value:!0}),e.doNumberLambdaCall=e.repackDistResult=e.unpackDistResult=e.FnFactory=void 0;const n=di,r=tc,i=pf,a=io,s=zf,u=Qd;class f{constructor(v){this.nameSpace=v.nameSpace,this.requiresNamespace=v.requiresNamespace}make(v){return Object.assign({nameSpace:this.nameSpace,requiresNamespace:this.requiresNamespace},v)}n2n(v){var{fn:m}=v,y=t(v,["fn"]);return this.make(Object.assign(Object.assign({},y),{output:"Number",definitions:[(0,i.makeDefinition)(y.name,[a.frNumber],([w])=>(0,n.Ok)((0,r.vNumber)(m(w))))]}))}nn2n(v){var{fn:m}=v,y=t(v,["fn"]);return this.make(Object.assign(Object.assign({},y),{output:"Number",definitions:[(0,i.makeDefinition)(y.name,[a.frNumber,a.frNumber],([w,_])=>(0,n.Ok)((0,r.vNumber)(m(w,_))))]}))}nn2b(v){var{fn:m}=v,y=t(v,["fn"]);return this.make(Object.assign(Object.assign({},y),{output:"Bool",definitions:[(0,i.makeDefinition)(y.name,[a.frNumber,a.frNumber],([w,_])=>(0,n.Ok)((0,r.vBool)(m(w,_))))]}))}bb2b(v){var{fn:m}=v,y=t(v,["fn"]);return this.make(Object.assign(Object.assign({},y),{output:"Bool",definitions:[(0,i.makeDefinition)(y.name,[a.frBool,a.frBool],([w,_])=>(0,n.Ok)((0,r.vBool)(m(w,_))))]}))}d2s(v){var{fn:m}=v,y=t(v,["fn"]);return this.make(Object.assign(Object.assign({},y),{output:"String",definitions:[(0,i.makeDefinition)(y.name,[a.frDist],([w],{environment:_})=>(0,n.Ok)((0,r.vString)(m(w,_))))]}))}dn2s(v){var{fn:m}=v,y=t(v,["fn"]);return this.make(Object.assign(Object.assign({},y),{output:"String",definitions:[(0,i.makeDefinition)(y.name,[a.frDist,a.frNumber],([w,_],{environment:S})=>(0,n.Ok)((0,r.vString)(m(w,_,S))))]}))}d2n(v){var{fn:m}=v,y=t(v,["fn"]);return this.make(Object.assign(Object.assign({},y),{output:"Number",definitions:[(0,i.makeDefinition)(y.name,[a.frDist],([w],{environment:_})=>(0,n.Ok)((0,r.vNumber)(m(w,_))))]}))}d2b(v){var{fn:m}=v,y=t(v,["fn"]);return this.make(Object.assign(Object.assign({},y),{output:"Bool",definitions:[(0,i.makeDefinition)(y.name,[a.frDist],([w],{environment:_})=>(0,n.Ok)((0,r.vBool)(m(w,_))))]}))}d2d(v){var{fn:m}=v,y=t(v,["fn"]);return this.make(Object.assign(Object.assign({},y),{output:"Dist",definitions:[(0,i.makeDefinition)(y.name,[a.frDist],([w],{environment:_})=>(0,n.Ok)((0,r.vDist)(m(w,_))))]}))}dn2d(v){var{fn:m}=v,y=t(v,["fn"]);return this.make(Object.assign(Object.assign({},y),{output:"Dist",definitions:[(0,i.makeDefinition)(y.name,[a.frDist,a.frNumber],([w,_],{environment:S})=>(0,n.Ok)((0,r.vDist)(m(w,_,S))))]}))}dn2n(v){var{fn:m}=v,y=t(v,["fn"]);return this.make(Object.assign(Object.assign({},y),{output:"Number",definitions:[(0,i.makeDefinition)(y.name,[a.frDist,a.frNumber],([w,_],{environment:S})=>(0,n.Ok)((0,r.vNumber)(m(w,_,S))))]}))}fromDefinition(v){return this.make({name:v.name,definitions:[v]})}}e.FnFactory=f;const d=p=>p.ok?p.value:u.ErrorMessage.throw((0,u.REDistributionError)(p.value));e.unpackDistResult=d;const c=p=>{const v=(0,e.unpackDistResult)(p);return(0,n.Ok)((0,r.vDist)(v))};e.repackDistResult=c;const h=(p,v,m,y)=>{const w=p.call(v,m,y);return w.type==="Number"?w.value:u.ErrorMessage.throw((0,u.REOperationError)(s.SampleMapNeedsNtoNFunction))};e.doNumberLambdaCall=h})(Gg);Object.defineProperty(Ose,"__esModule",{value:!0});Ose.library=void 0;const $M=pf,bb=io,ydn=Gg,h6=di,jJ=tc,Cg=new ydn.FnFactory({nameSpace:"",requiresNamespace:!1});Ose.library=[Cg.nn2n({name:"add",fn:(e,t)=>e+t}),Cg.nn2n({name:"subtract",fn:(e,t)=>e-t}),Cg.nn2n({name:"multiply",fn:(e,t)=>e*t}),Cg.nn2n({name:"divide",fn:(e,t)=>e/t}),Cg.nn2n({name:"pow",fn:(e,t)=>Math.pow(e,t)}),Cg.nn2b({name:"equal",fn:(e,t)=>e===t}),Cg.bb2b({name:"equal",fn:(e,t)=>e===t}),Cg.nn2b({name:"unequal",fn:(e,t)=>e!==t}),Cg.bb2b({name:"unequal",fn:(e,t)=>e!==t}),Cg.nn2b({name:"smaller",fn:(e,t)=>e<t}),Cg.nn2b({name:"smallerEq",fn:(e,t)=>e<=t}),Cg.nn2b({name:"larger",fn:(e,t)=>e>t}),Cg.nn2b({name:"largerEq",fn:(e,t)=>e>=t}),Cg.bb2b({name:"or",fn:(e,t)=>e||t}),Cg.bb2b({name:"and",fn:(e,t)=>e&&t}),Cg.n2n({name:"unaryMinus",fn:e=>-e}),...[(0,$M.makeDefinition)("not",[bb.frNumber],([e])=>(0,h6.Ok)((0,jJ.vBool)(e!==0))),(0,$M.makeDefinition)("not",[bb.frBool],([e])=>(0,h6.Ok)((0,jJ.vBool)(!e))),(0,$M.makeDefinition)("concat",[bb.frString,bb.frString],([e,t])=>(0,h6.Ok)((0,jJ.vString)(e+t))),(0,$M.makeDefinition)("concat",[(0,bb.frArray)(bb.frAny),(0,bb.frArray)(bb.frAny)],([e,t])=>(0,h6.Ok)((0,jJ.vArray)([...e,...t]))),(0,$M.makeDefinition)("inspect",[bb.frAny],([e])=>(console.log(e.toString()),(0,h6.Ok)(e))),(0,$M.makeDefinition)("inspect",[bb.frAny,bb.frString],([e,t])=>(console.log(`${t}: ${e.toString()}`),(0,h6.Ok)(e))),(0,$M.makeDefinition)("javascriptraise",[bb.frAny],([e])=>{throw new Error(e.toString())})].map(e=>Cg.fromDefinition(e))];var Ase={};Object.defineProperty(Ase,"__esModule",{value:!0});Ase.library=void 0;const DA=pf,Xl=io,bdn=Gg,IA=di,BJ=Cse,k2=tc,FA=new bdn.FnFactory({nameSpace:"Dict",requiresNamespace:!0});Ase.library=[FA.make({name:"set",output:"Record",examples:['Dict.set({a: 1, b: 2}, "c", 3)'],definitions:[(0,DA.makeDefinition)("set",[(0,Xl.frDict)(Xl.frAny),Xl.frString,Xl.frAny],([e,t,n])=>(0,IA.Ok)((0,k2.vRecord)(e.set(t,n))))]}),FA.make({name:"merge",output:"Record",examples:["Dict.merge({a: 1, b: 2}, {c: 3, d: 4})"],definitions:[(0,DA.makeDefinition)("merge",[(0,Xl.frDict)(Xl.frAny),(0,Xl.frDict)(Xl.frAny)],([e,t])=>(0,IA.Ok)((0,k2.vRecord)((0,BJ.ImmutableMap)([...e.entries(),...t.entries()]))))]}),FA.make({name:"mergeMany",output:"Record",examples:["Dict.mergeMany([{a: 1, b: 2}, {c: 3, d: 4}])"],definitions:[(0,DA.makeDefinition)("mergeMany",[(0,Xl.frArray)((0,Xl.frDict)(Xl.frAny))],([e])=>(0,IA.Ok)((0,k2.vRecord)((0,BJ.ImmutableMap)(e.map(t=>[...t.entries()]).flat()))))]}),FA.make({name:"keys",output:"Array",examples:["Dict.keys({a: 1, b: 2})"],definitions:[(0,DA.makeDefinition)("keys",[(0,Xl.frDict)(Xl.frAny)],([e])=>(0,IA.Ok)((0,k2.vArray)([...e.keys()].map(t=>(0,k2.vString)(t)))))]}),FA.make({name:"values",output:"Array",examples:["Dict.values({a: 1, b: 2})"],definitions:[(0,DA.makeDefinition)("values",[(0,Xl.frDict)(Xl.frAny)],([e])=>(0,IA.Ok)((0,k2.vArray)([...e.values()])))]}),FA.make({name:"toList",output:"Array",examples:["Dict.toList({a: 1, b: 2})"],definitions:[(0,DA.makeDefinition)("toList",[(0,Xl.frDict)(Xl.frAny)],([e])=>(0,IA.Ok)((0,k2.vArray)([...e.entries()].map(([t,n])=>(0,k2.vArray)([(0,k2.vString)(t),n])))))]}),FA.make({name:"fromList",output:"Record",examples:['Dict.fromList([["a", 1], ["b", 2]])'],definitions:[(0,DA.makeDefinition)("fromList",[(0,Xl.frArray)((0,Xl.frTuple2)(Xl.frString,Xl.frAny))],([e])=>(0,IA.Ok)((0,k2.vRecord)((0,BJ.ImmutableMap)(e))))]}),FA.make({name:"map",output:"Record",examples:["Dict.map({a: 1, b: 2}, {|x| x + 1})"],definitions:[(0,DA.makeDefinition)("map",[(0,Xl.frDict)(Xl.frAny),Xl.frLambda],([e,t],n,r)=>(0,IA.Ok)((0,k2.vRecord)((0,BJ.ImmutableMap)([...e.entries()].map(([i,a])=>{const s=t.call([a],n,r);return[i,s]})))))]})];var Rse={},r7={},Vct={};(function(e){var t=$e&&$e.__createBinding||(Object.create?function(d,c,h,p){p===void 0&&(p=h);var v=Object.getOwnPropertyDescriptor(c,h);(!v||("get"in v?!c.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return c[h]}}),Object.defineProperty(d,p,v)}:function(d,c,h,p){p===void 0&&(p=h),d[p]=c[h]}),n=$e&&$e.__setModuleDefault||(Object.create?function(d,c){Object.defineProperty(d,"default",{enumerable:!0,value:c})}:function(d,c){d.default=c}),r=$e&&$e.__importStar||function(d){if(d&&d.__esModule)return d;var c={};if(d!=null)for(var h in d)h!=="default"&&Object.prototype.hasOwnProperty.call(d,h)&&t(c,d,h);return n(c,d),c};Object.defineProperty(e,"__esModule",{value:!0}),e.WithScalarAnswer=e.WithDistAnswer=void 0;const i=zf,a=r(di),s=nse(),u=Math.log,f=({esti:d,answ:c})=>{const h=d/c;return h<0?a.Error(i.ComplexNumberError):a.Ok(-c*u(h))};e.WithDistAnswer={integrand(d,c){return c===0?a.Ok(0):d===0?a.Ok(1/0):f({esti:d,answ:c})},sum({estimate:d,answer:c}){const h=(v,m)=>a.fmap((0,s.combinePointwise)(v,m,e.WithDistAnswer.integrand),y=>y.integralEndY()),p=(v,m)=>{const y=v.toMixed(),w=m.toMixed(),_=y.toContinuous(),S=y.toDiscrete(),C=w.toContinuous(),$=w.toDiscrete();return _&&S&&C&&$?a.merge(h(S,$),h(_,C)):a.Error(new i.OtherOperationError("unreachable state"))};return(0,s.isContinuous)(d)&&(0,s.isContinuous)(c)||(0,s.isDiscrete)(d)&&(0,s.isDiscrete)(c)?h(d,c):a.fmap(p(d,c),([v,m])=>v+m)},sumWithPrior({estimate:d,answer:c,prior:h}){let p=e.WithDistAnswer.sum({estimate:d,answer:c}),v=e.WithDistAnswer.sum({estimate:h,answer:c});return a.fmap(a.merge(p,v),([m,y])=>m-y)}},e.WithScalarAnswer={sum(d){return d.continuous+d.discrete},score({estimate:d,answer:c}){return((v,m)=>{const y=v(m);return y===void 0||y<0?a.Error(i.PdfInvalidError):y===0?a.Ok(1/0):a.Ok(-u(y))})(v=>{if((0,s.isContinuous)(d)||(0,s.isDiscrete)(d))return e.WithScalarAnswer.sum(d.xToY(v))},c)},scoreWithPrior({estimate:d,answer:c,prior:h}){return a.fmap(a.merge(e.WithScalarAnswer.score({estimate:d,answer:c}),e.WithScalarAnswer.score({estimate:h,answer:c})),([p,v])=>p-v)}}})(Vct);var Wct={};(function(e){var t=$e&&$e.__createBinding||(Object.create?function(_,S,C,$){$===void 0&&($=C);var k=Object.getOwnPropertyDescriptor(S,C);(!k||("get"in k?!S.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return S[C]}}),Object.defineProperty(_,$,k)}:function(_,S,C,$){$===void 0&&($=C),_[$]=S[C]}),n=$e&&$e.__setModuleDefault||(Object.create?function(_,S){Object.defineProperty(_,"default",{enumerable:!0,value:S})}:function(_,S){_.default=S}),r=$e&&$e.__importStar||function(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var C in _)C!=="default"&&Object.prototype.hasOwnProperty.call(_,C)&&t(S,_,C);return n(S,_),S};Object.defineProperty(e,"__esModule",{value:!0}),e.algebraicCombination=e.AsAlgebraicCombinationStrategy=void 0;const i=Ro,a=r(OE),s=r(di),u=r(use),f=r(Dp),d=r(G8),c=r(Ko);var h;(function(_){_[_.AsDefault=0]="AsDefault",_[_.AsSymbolic=1]="AsSymbolic",_[_.AsMonteCarlo=2]="AsMonteCarlo",_[_.AsConvolution=3]="AsConvolution"})(h=e.AsAlgebraicCombinationStrategy||(e.AsAlgebraicCombinationStrategy={}));const p={getLogarithmInputError(_,S){const C=$=>$.cdf(a.Epsilon.ten)>0;if(C(_))return(0,i.logarithmOfDistributionError)("First input must be completely greater than 0");if(C(S))return(0,i.logarithmOfDistributionError)("Second input must be completely greater than 0")},run(_,S,C){if(C=="Logarithm")return p.getLogarithmInputError(_,S)}},v={convolution:(_,S,C,$)=>{const k=C.toPointSetDist(_),M=$.toPointSetDist(_);if(!k.ok)return k;if(!M.ok)return M;const A=k.value,L=M.value;return s.Ok(f.combineAlgebraically(S,A,L))},monteCarlo(_,S,C,$){const k=u.Algebraic.toFn(S),M=d.SampleSetDist.fromDist(C,_),A=d.SampleSetDist.fromDist($,_);if(!M.ok)return M;if(!A.ok)return A;const L=M.value,N=A.value;return d.map2({fn:k,t1:L,t2:N})},symbolic(_,S,C){if(S instanceof c.SymbolicDist&&C instanceof c.SymbolicDist)return c.tryAnalyticalSimplification(S,C,_)}},m={hasSampleSetDist:(_,S)=>_ instanceof d.SampleSetDist||S instanceof d.SampleSetDist,convolutionIsFasterThanMonteCarlo:(_,S)=>_.expectedConvolutionCost()*S.expectedConvolutionCost()<a.OpCost.monteCarloCost,preferConvolutionToMonteCarlo:(_,S,C)=>!m.hasSampleSetDist(_,S)&&u.Convolution.canDoAlgebraicOperation(C)&&m.convolutionIsFasterThanMonteCarlo(_,S),run({t1:_,t2:S,arithmeticOperation:C}){return v.symbolic(C,_,S)!==void 0?"AsSymbolic":m.preferConvolutionToMonteCarlo(_,S,C)?"AsConvolution":"AsMonteCarlo"}},y=({t1:_,t2:S,arithmeticOperation:C,strategy:$,env:k})=>{switch($){case"AsMonteCarlo":return v.monteCarlo(k,C,_,S);case"AsSymbolic":const M=v.symbolic(C,_,S);return M===void 0?s.Error((0,i.unreachableError)()):M.ok?M:s.Error((0,i.operationDistError)(M.value));case"AsConvolution":const A=u.Convolution.fromAlgebraicOperation(C);return A===void 0?s.Error((0,i.unreachableError)()):v.convolution(k,A,_,S)}},w=(_,{strategy:S,env:C,arithmeticOperation:$,t2:k})=>{const M=p.run(_,k,$);if(M!==void 0)return s.Error(M);switch(S){case h.AsDefault:const A=m.run({arithmeticOperation:$,t1:_,t2:k});return y({t1:_,t2:k,strategy:A,arithmeticOperation:$,env:C});case h.AsMonteCarlo:return v.monteCarlo(C,$,_,k);case h.AsSymbolic:const L=v.symbolic($,_,k);return L===void 0?s.Error((0,i.requestedStrategyInvalidError)("No analytic solution for inputs")):L.ok?L:s.Error((0,i.operationDistError)(L.value));case h.AsConvolution:const N=u.Convolution.fromAlgebraicOperation($);if(N===void 0){const R=`Convolution not supported for ${u.Algebraic.toString($)}`;return s.Error((0,i.requestedStrategyInvalidError)(R))}else return v.convolution(C,N,_,k)}};e.algebraicCombination=w})(Wct);(function(e){var t=$e&&$e.__createBinding||(Object.create?function(k,M,A,L){L===void 0&&(L=A);var N=Object.getOwnPropertyDescriptor(M,A);(!N||("get"in N?!M.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return M[A]}}),Object.defineProperty(k,L,N)}:function(k,M,A,L){L===void 0&&(L=A),k[L]=M[A]}),n=$e&&$e.__setModuleDefault||(Object.create?function(k,M){Object.defineProperty(k,"default",{enumerable:!0,value:M})}:function(k,M){k.default=M}),r=$e&&$e.__importStar||function(k){if(k&&k.__esModule)return k;var M={};if(k!=null)for(var A in k)A!=="default"&&Object.prototype.hasOwnProperty.call(k,A)&&t(M,k,A);return n(M,k),M};Object.defineProperty(e,"__esModule",{value:!0}),e.BinaryOperations=e.mixture=e.scaleLog=e.pointwiseCombinationFloat=e.logScoreScalarAnswer=e.logScoreDistAnswer=e.toSampleSetDist=void 0;const i=r(di),a=r(use),s=r(kE),u=r(Dp),f=r(Vct),d=Ro,c=Wct,h=r(G8),p=(k,M)=>h.SampleSetDist.make(k.sampleN(M.sampleCount));e.toSampleSetDist=p;const v=({estimate:k,answer:M,prior:A,env:L})=>i.bind(k.toPointSetDist(L),N=>i.bind(M.toPointSetDist(L),R=>{const D=A==null?void 0:A.toPointSetDist(L);if(D)if(D.ok){const j=D.value;return i.errMap(f.WithDistAnswer.sumWithPrior({estimate:N.pointSet,answer:R.pointSet,prior:j.pointSet}),U=>(0,d.operationDistError)(U))}else return D;else return i.errMap(f.WithDistAnswer.sum({estimate:N.pointSet,answer:R.pointSet}),j=>(0,d.operationDistError)(j))}));e.logScoreDistAnswer=v;const m=({estimate:k,answer:M,prior:A,env:L})=>i.bind(k.toPointSetDist(L),N=>{const R=A==null?void 0:A.toPointSetDist(L);if(R)if(R.ok){const D=R.value;return i.errMap(f.WithScalarAnswer.scoreWithPrior({estimate:N.pointSet,answer:M,prior:D.pointSet}),d.operationDistError)}else return R;else return i.errMap(f.WithScalarAnswer.score({estimate:N.pointSet,answer:M}),d.operationDistError)});e.logScoreScalarAnswer=m;const y=(k,{env:M,algebraicCombination:A,t2:L})=>{const N=k.toPointSetDist(M),R=L.toPointSetDist(M);if(!N.ok)return N;if(!R.ok)return R;const D=N.value,j=R.value,U=u.combinePointwise(D,j,a.Algebraic.toFn(A));return U.ok?U:i.Error((0,d.operationDistError)(U.value))},w=(k,{env:M,algebraicCombination:A,f:L})=>{const N=R=>i.bind(k.toPointSetDist(M),D=>{var j;const U=a.Scale.toIntegralSumCacheFn(R),H=(j=a.Scale.toIntegralCacheFn(R))!==null&&j!==void 0?j:(Z,Q)=>{},Y=a.Scale.toFn(R);return i.errMap(D.mapYResult(Z=>Y(Z,L),Z=>U==null?void 0:U(L,Z),Z=>H(L,Z)),Z=>(0,d.operationDistError)(Z))});if(A==="Add"||A==="Subtract")return i.Error((0,d.distributionVerticalShiftIsInvalid)());if(A==="Multiply"||A==="Divide"||A==="Power"||A==="Logarithm")return N(A);if(A.NAME==="LogarithmWithThreshold")return N(A);throw new Error(`Unknown AlgebraicOperation ${A}`)};e.pointwiseCombinationFloat=w;const _=(k,M,{env:A})=>(0,e.pointwiseCombinationFloat)(k,{env:A,algebraicCombination:"Logarithm",f:M});e.scaleLog=_;const S=(k,{env:M})=>{const A=(R,D)=>(0,e.pointwiseCombinationFloat)(R,{env:M,algebraicCombination:"Multiply",f:D}),L=(R,D)=>y(R,{env:M,algebraicCombination:"Add",t2:D}),N=R=>R.every(([D])=>D instanceof h.SampleSetDist);if(k.length<1)return i.Error((0,d.otherError)("Mixture error: mixture must have at least 1 element"));if(N(k)){const R=k.map(([D,j])=>{if(D instanceof h.SampleSetDist)return[D,j];throw new Error("Mixture coding error: SampleSet expected. This should be inaccessible.")});return h.mixture(R,M.sampleCount)}else{const R=s.sum(k.map(([,U])=>U)),D=[];for(const[U,H]of k){const Y=A(U,H/R);if(!Y.ok)return Y;D.push(Y.value)}let j=D[0];for(const U of D.slice(1)){const H=L(j,U);if(!H.ok)return H;j=H.value}return i.Ok(j)}};e.mixture=S;const C=(k,M,A,L)=>(0,c.algebraicCombination)(k,{strategy:c.AsAlgebraicCombinationStrategy.AsDefault,arithmeticOperation:L,env:A,t2:M}),$=(k,M,A,L)=>y(k,{env:A,algebraicCombination:L,t2:M});e.BinaryOperations={algebraicAdd:(k,M,{env:A})=>C(k,M,A,"Add"),algebraicMultiply:(k,M,{env:A})=>C(k,M,A,"Multiply"),algebraicDivide:(k,M,{env:A})=>C(k,M,A,"Divide"),algebraicSubtract:(k,M,{env:A})=>C(k,M,A,"Subtract"),algebraicLogarithm:(k,M,{env:A})=>C(k,M,A,"Logarithm"),algebraicPower:(k,M,{env:A})=>C(k,M,A,"Power"),pointwiseAdd:(k,M,{env:A})=>$(k,M,A,"Add"),pointwiseMultiply:(k,M,{env:A})=>$(k,M,A,"Multiply"),pointwiseDivide:(k,M,{env:A})=>$(k,M,A,"Divide"),pointwiseSubtract:(k,M,{env:A})=>$(k,M,A,"Subtract"),pointwiseLogarithm:(k,M,{env:A})=>$(k,M,A,"Logarithm"),pointwisePower:(k,M,{env:A})=>$(k,M,A,"Power")}})(r7);var wdn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),_dn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),DOe=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&wdn(t,e,n);return _dn(t,e),t};Object.defineProperty(Rse,"__esModule",{value:!0});Rse.library=void 0;const mH=oT,xdn=r7,Sdn=DOe(G8),$g=DOe(Ko),Tse=pf,tk=io,Edn=Gg,Gct=zf,ER=DOe(di),Pre=tc,FS=Qd,O2=new Edn.FnFactory({nameSpace:"Dist",requiresNamespace:!1}),yH=(e,t)=>{const n=(0,xdn.toSampleSetDist)(e,t);return n.ok?n.value:FS.ErrorMessage.throw((0,FS.REDistributionError)(n.value))},IOe=(e,t,n,r)=>{const i=s=>ER.fmap(ER.errMap(s,FS.REDistributionError),Pre.vDist),a=(s,u)=>ER.fmap2(r(s,u),f=>f.sample(),f=>new Gct.OtherOperationError(f));if(e instanceof mH.BaseDist&&t instanceof mH.BaseDist){const s=yH(e,n),u=yH(t,n);return i(Sdn.map2({fn:a,t1:s,t2:u}))}else if(e instanceof mH.BaseDist&&typeof t=="number"){const s=yH(e,n);return i(s.samplesMap(u=>a(u,t)))}else if(typeof e=="number"&&t instanceof mH.BaseDist){const s=yH(t,n);return i(s.samplesMap(u=>a(e,u)))}else if(typeof e=="number"&&typeof t=="number")return ER.fmap2(r(e,t),Pre.vDist,FS.REOther);return FS.ErrorMessage.throw((0,FS.REOther)("Impossible branch"))},x$=(e,t)=>(0,Tse.makeDefinition)(e,[tk.frDistOrNumber,tk.frDistOrNumber],([n,r],{environment:i})=>IOe(n,r,i,t)),BGe=(e,t)=>(0,Tse.makeDefinition)(e,[(0,tk.frRecord)(["p5",tk.frNumber],["p95",tk.frNumber])],([{p5:n,p95:r}],{environment:i})=>IOe(n,r,i,t)),b1e=(e,t)=>(0,Tse.makeDefinition)(e,[(0,tk.frRecord)(["mean",tk.frNumber],["stdev",tk.frNumber])],([{mean:n,stdev:r}],{environment:i})=>IOe(n,r,i,t)),w1e=(e,t)=>(0,Tse.makeDefinition)(e,[tk.frDistOrNumber],([n],{environment:r})=>{const i=s=>ER.fmap(ER.errMap(s,FS.REDistributionError),Pre.vDist),a=s=>ER.fmap2(t(s),u=>u.sample(),u=>new Gct.OtherOperationError(u));if(n instanceof mH.BaseDist){const s=yH(n,r);return i(s.samplesMap(a))}else if(typeof n=="number")return ER.fmap2(t(n),Pre.vDist,FS.REOther);return FS.ErrorMessage.throw((0,FS.REOther)("Impossible branch"))});Rse.library=[O2.make({name:"normal",examples:["normal(5,1)","normal({p5: 4, p95: 10})","normal({mean: 5, stdev: 2})"],definitions:[x$("normal",(e,t)=>$g.Normal.make({mean:e,stdev:t})),BGe("normal",(e,t)=>$g.Normal.from90PercentCI(e,t)),b1e("normal",(e,t)=>$g.Normal.make({mean:e,stdev:t}))]}),O2.make({name:"lognormal",examples:["lognormal(0.5, 0.8)","lognormal({p5: 4, p95: 10})","lognormal({mean: 5, stdev: 2})"],definitions:[x$("lognormal",(e,t)=>$g.Lognormal.make({mu:e,sigma:t})),BGe("lognormal",(e,t)=>$g.Lognormal.from90PercentCI(e,t)),b1e("lognormal",(e,t)=>$g.Lognormal.fromMeanAndStdev({mean:e,stdev:t}))]}),O2.make({name:"uniform",examples:["uniform(10, 12)"],definitions:[x$("uniform",(e,t)=>$g.Uniform.make({low:e,high:t}))]}),O2.make({name:"beta",examples:["beta(20, 25)","beta({mean: 0.39, stdev: 0.1})"],definitions:[x$("beta",(e,t)=>$g.Beta.make({alpha:e,beta:t})),b1e("beta",(e,t)=>$g.Beta.fromMeanAndStdev({mean:e,stdev:t}))]}),O2.make({name:"cauchy",examples:["cauchy(5, 1)"],definitions:[x$("cauchy",(e,t)=>$g.Cauchy.make({local:e,scale:t}))]}),O2.make({name:"gamma",examples:["gamma(5, 1)"],definitions:[x$("gamma",(e,t)=>$g.Gamma.make({shape:e,scale:t}))]}),O2.make({name:"logistic",examples:["logistic(5, 1)"],definitions:[x$("logistic",(e,t)=>$g.Logistic.make({location:e,scale:t}))]}),O2.make({name:"to (distribution)",examples:["5 to 10","to(5,10)","-5 to 5"],definitions:[x$("to",(e,t)=>$g.From90thPercentile.make(e,t)),x$("credibleIntervalToDistribution",(e,t)=>$g.From90thPercentile.make(e,t))]}),O2.make({name:"exponential",examples:["exponential(2)"],definitions:[w1e("exponential",e=>$g.Exponential.make(e))]}),O2.make({name:"bernoulli",examples:["bernoulli(0.5)"],definitions:[w1e("bernoulli",e=>$g.Bernoulli.make(e))]}),O2.make({name:"pointMass",examples:["pointMass(0.5)"],definitions:[w1e("pointMass",e=>$g.Float.make(e))]})];var Mse={},Cdn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),$dn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kdn=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Cdn(t,e,n);return $dn(t,e),t};Object.defineProperty(Mse,"__esModule",{value:!0});Mse.library=void 0;const Ate=kre,Lre=pf,K0=io,Odn=Gg,Rp=Qd,Adn=kdn(mG),FOe=di,FF=tc,C5=new Odn.FnFactory({nameSpace:"Danger",requiresNamespace:!0}),HGe=(e,t)=>(0,Ate.factorial)(e)/((0,Ate.factorial)(e-t)*(0,Ate.factorial)(t)),Rdn=[C5.nn2n({name:"laplace",examples:["Danger.laplace(1, 20)"],fn:(e,t)=>(e+1)/(t+2)}),C5.n2n({name:"factorial",examples:["Danger.factorial(20)"],fn:Ate.factorial}),C5.nn2n({name:"choose",examples:["Danger.choose(1, 20)"],fn:HGe}),C5.make({name:"binomial",output:"Number",examples:["Danger.binomial(1, 20, 0.5)"],definitions:[(0,Lre.makeDefinition)("binomial",[K0.frNumber,K0.frNumber,K0.frNumber],([e,t,n])=>(0,FOe.Ok)((0,FF.vNumber)(HGe(e,t)*Math.pow(n,t)*Math.pow(1-n,e-t))))]})],UGe=(e,t,n,r,i,a)=>{const s=C=>{const $=e.call([(0,FF.vNumber)(C)],i,a);return $.type==="Number"?$.value:Rp.ErrorMessage.throw((0,Rp.REOther)("Error 1 in Danger.integrate. It's possible that your function doesn't return a number, try definining auxiliaryFunction(x) = mean(yourFunction(x)) and integrate auxiliaryFunction instead"))},u=r|0,f=u-2,d=n-t,c=d/(u-1),h=d/(u-1)/2,p=(n-t)/(u-1),y=Adn.makeBy(f,C=>t+(C+1)*p).map(C=>s(C)).reduce((C,$)=>C+$,0),w=s(t),_=s(n),S=(w+_)*h+y*c;return(0,FOe.Ok)((0,FF.vNumber)(S))},Tdn=[C5.make({name:"integrateFunctionBetweenWithNumIntegrationPoints",requiresNamespace:!1,output:"Number",examples:["Danger.integrateFunctionBetweenWithNumIntegrationPoints({|x| x+1}, 1, 10, 10)"],definitions:[(0,Lre.makeDefinition)("integrateFunctionBetweenWithNumIntegrationPoints",[K0.frLambda,K0.frNumber,K0.frNumber,K0.frNumber],([e,t,n,r],i,a)=>r===0?Rp.ErrorMessage.throw((0,Rp.REOther)("Integration error 4 in Danger.integrate: Increment can't be 0.")):UGe(e,t,n,r,i,a))]}),C5.make({name:"integrateFunctionBetweenWithEpsilon",requiresNamespace:!1,output:"Number",examples:["Danger.integrateFunctionBetweenWithEpsilon({|x| x+1}, 1, 10, 0.1)"],definitions:[(0,Lre.makeDefinition)("integrateFunctionBetweenWithEpsilon",[K0.frLambda,K0.frNumber,K0.frNumber,K0.frNumber],([e,t,n,r],i,a)=>r===0?Rp.ErrorMessage.throw((0,Rp.REOther)("Integration error in Danger.integrate: Increment can't be 0.")):UGe(e,t,n,(n-t)/r,i,a))]})],Mdn=e=>e.reduce((t,n,r)=>n>e[t]?r:t,0),Pdn=[C5.make({name:"optimalAllocationGivenDiminishingMarginalReturnsForManyFunctions",output:"Array",requiresNamespace:!1,examples:["Danger.optimalAllocationGivenDiminishingMarginalReturnsForManyFunctions([{|x| x+1}, {|y| 10}], 100, 0.01)"],definitions:[(0,Lre.makeDefinition)("optimalAllocationGivenDiminishingMarginalReturnsForManyFunctions",[(0,K0.frArray)(K0.frLambda),K0.frNumber,K0.frNumber],([e,t,n],r,i)=>{if(e.length<=1)return Rp.ErrorMessage.throw((0,Rp.REOther)("Error in Danger.optimalAllocationGivenDiminishingMarginalReturnsForManyFunctions, number of functions should be greater than 1."));if(t<=0)return Rp.ErrorMessage.throw((0,Rp.REOther)("Error in Danger.optimalAllocationGivenDiminishingMarginalReturnsForManyFunctions, funds should be greater than 0."));if(n<=0)return Rp.ErrorMessage.throw((0,Rp.REOther)("Error in Danger.optimalAllocationGivenDiminishingMarginalReturnsForManyFunctions, approximateIncrement should be greater than 0."));if(n>=t)return Rp.ErrorMessage.throw((0,Rp.REOther)("Error in Danger.optimalAllocationGivenDiminishingMarginalReturnsForManyFunctions, approximateIncrement should be smaller than funds amount."));const a=(h,p)=>{const v=h.call([(0,FF.vNumber)(p)],r,i);return v.type==="Number"?v.value:Rp.ErrorMessage.throw((0,Rp.REOther)("Error 1 in Danger.optimalAllocationGivenDiminishingMarginalReturnsForManyFunctions. It's possible that your function doesn't return a number, try definining auxiliaryFunction(x) = mean(yourFunction(x)) and integrate auxiliaryFunction instead"))},s=Math.round(t/n),u=t/s,f=new Array(s).fill(u),d={optimalAllocations:new Array(e.length).fill(0),currentMarginalReturns:e.map(h=>a(h,0))},c=f.reduce((h,p)=>{const v=h.currentMarginalReturns,m=Mdn(v),y=[...h.optimalAllocations],w=y[m]+p;y[m]=w;const _=e[m],S=a(_,w),C=[...v];return C[m]=S,{optimalAllocations:y,currentMarginalReturns:C}},d);return(0,FOe.Ok)((0,FF.vArray)(c.optimalAllocations.map(FF.vNumber)))})]})];Mse.library=[...Rdn,...Tdn,...Pdn];var Pse={};Object.defineProperty(Pse,"__esModule",{value:!0});Pse.library=void 0;const Ldn=pf,g6=io,Ddn=Gg,Idn=di,Fdn=tc,Ndn=new Ddn.FnFactory({nameSpace:"Function",requiresNamespace:!0});Pse.library=[Ndn.make({name:"declare",output:"Declaration",description:"Adds metadata to a function of the input ranges. Works now for numeric and date inputs. This is useful when making predictions. It allows you to limit the domain that your prediction will be used and scored within.",examples:[`Function.declare({
  fn: {|a,b| a},
  inputs: [
    {min: 0, max: 100},
    {min: 30, max: 50}
  ]
})`],isExperimental:!0,definitions:[(0,Ldn.makeDefinition)("declare",[(0,g6.frRecord)(["fn",g6.frLambda],["inputs",(0,g6.frArray)((0,g6.frRecord)(["min",g6.frNumber],["max",g6.frNumber]))])],([{fn:e,inputs:t}])=>(0,Idn.Ok)((0,Fdn.vLambdaDeclaration)({fn:e,args:t.map(n=>Object.assign(Object.assign({},n),{type:"Float"}))})))]})];var Lse={},zdn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),jdn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Bdn=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&zdn(t,e,n);return jdn(t,e),t};Object.defineProperty(Lse,"__esModule",{value:!0});Lse.library=void 0;const Hdn=r7,kS=Bdn(G8),bS=pf,of=io,Op=Gg,pB=di,A2=tc,VGe=Qd,R$=new Op.FnFactory({nameSpace:"SampleSet",requiresNamespace:!0});function Cb(e){if(!(e instanceof kS.SampleSetDist))return VGe.ErrorMessage.throw((0,VGe.REExpectedType)("SampleSetDist",e.toString()))}const Udn=[R$.d2d({name:"fromDist",examples:["SampleSet.fromDist(normal(5,2))"],fn:(e,t)=>(0,Op.unpackDistResult)((0,Hdn.toSampleSetDist)(e,t))}),R$.make({name:"fromList",examples:["SampleSet.fromList([3,5,2,3,5,2,3,5,2,3,3,5,3,2,3,1,1,3])"],output:"Dist",definitions:[(0,bS.makeDefinition)("fromList",[(0,of.frArray)(of.frNumber)],([e])=>(0,Op.repackDistResult)(kS.SampleSetDist.make(e)))]}),R$.make({name:"toList",examples:["SampleSet.toList(SampleSet.fromDist(normal(5,2)))"],output:"Array",definitions:[(0,bS.makeDefinition)("toList",[of.frDist],([e])=>(Cb(e),(0,pB.Ok)((0,A2.vArray)(e.samples.map(A2.vNumber)))))]}),R$.make({name:"fromFn",examples:["SampleSet.fromFn({|| sample(normal(5,2))})"],output:"Dist",definitions:[(0,bS.makeDefinition)("fromFn",[of.frLambda],([e],t,n)=>(0,Op.repackDistResult)(kS.SampleSetDist.fromFn(r=>(0,Op.doNumberLambdaCall)(e,[(0,A2.vNumber)(r)],t,n),t.environment)))]}),R$.make({name:"map",examples:["SampleSet.map(SampleSet.fromDist(normal(5,2)), {|x| x + 1})"],output:"Dist",definitions:[(0,bS.makeDefinition)("map",[of.frDist,of.frLambda],([e,t],n,r)=>(Cb(e),(0,Op.repackDistResult)(e.samplesMap(i=>(0,pB.Ok)((0,Op.doNumberLambdaCall)(t,[(0,A2.vNumber)(i)],n,r))))))]}),R$.make({name:"map2",examples:["SampleSet.map2(SampleSet.fromDist(normal(5,2)), SampleSet.fromDist(normal(5,2)), {|x, y| x + y})"],output:"Dist",definitions:[(0,bS.makeDefinition)("map2",[of.frDist,of.frDist,of.frLambda],([e,t,n],r,i)=>(Cb(e),Cb(t),(0,Op.repackDistResult)(kS.map2({fn:(a,s)=>(0,pB.Ok)((0,Op.doNumberLambdaCall)(n,[(0,A2.vNumber)(a),(0,A2.vNumber)(s)],r,i)),t1:e,t2:t}))))]}),R$.make({name:"map3",examples:["SampleSet.map3(SampleSet.fromDist(normal(5,2)), SampleSet.fromDist(normal(5,2)), SampleSet.fromDist(normal(5,2)), {|x, y, z| max([x,y,z])})"],output:"Dist",definitions:[(0,bS.makeDefinition)("map3",[of.frDist,of.frDist,of.frDist,of.frLambda],([e,t,n,r],i,a)=>(Cb(e),Cb(t),Cb(n),(0,Op.repackDistResult)(kS.map3({fn:(s,u,f)=>(0,pB.Ok)((0,Op.doNumberLambdaCall)(r,[(0,A2.vNumber)(s),(0,A2.vNumber)(u),(0,A2.vNumber)(f)],i,a)),t1:e,t2:t,t3:n}))))]}),R$.make({name:"mapN",examples:["SampleSet.mapN([SampleSet.fromDist(normal(5,2)), SampleSet.fromDist(normal(5,2)), SampleSet.fromDist(normal(5,2))], {|x| max(x)})"],output:"Dist",definitions:[(0,bS.makeDefinition)("mapN",[(0,of.frArray)(of.frDist),of.frLambda],([e,t],n,r)=>{const i=e.map(a=>(Cb(a),a));return(0,Op.repackDistResult)(kS.mapN({fn:a=>(0,pB.Ok)((0,Op.doNumberLambdaCall)(t,[(0,A2.vArray)(a.map(A2.vNumber))],n,r)),t1:i}))})]})],WGe=(e,t,n)=>R$.make({name:e,requiresNamespace:!1,examples:[`SampleSet.${e}(SampleSet.fromDist(normal(5,2)), SampleSet.fromDist(normal(6,2)))`,`SampleSet.${e}(SampleSet.fromDist(normal(5,2)), 3.0)`,`SampleSet.${e}(4.0, SampleSet.fromDist(normal(6,2)))`],output:"Dist",definitions:[(0,bS.makeDefinition)(e,[of.frDist,of.frDist],([r,i])=>(Cb(r),Cb(i),(0,Op.repackDistResult)(t(r,i)))),(0,bS.makeDefinition)(e,[of.frDist,of.frNumber],([r,i])=>(Cb(r),(0,Op.repackDistResult)(n(r,i)))),(0,bS.makeDefinition)(e,[of.frNumber,of.frDist],([r,i])=>(Cb(i),(0,Op.repackDistResult)(n(i,r))))]}),Vdn=[WGe("min",kS.minOfTwo,kS.minOfFloat),WGe("max",kS.maxOfTwo,kS.maxOfFloat)];Lse.library=[...Udn,...Vdn];var Dse={},Wdn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Gdn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),qct=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Wdn(t,e,n);return Gdn(t,e),t};Object.defineProperty(Dse,"__esModule",{value:!0});Dse.library=void 0;const Yct=pf,Dre=io,qdn=Gg,Ydn=qct(di),nS=qct(kE),Kct=di,V_e=tc,Kdn=Qd,ld=new qdn.FnFactory({nameSpace:"Number",requiresNamespace:!1}),Xct=()=>Ydn.Error((0,Kdn.REOther)("List is empty")),NA=(e,t)=>(0,Yct.makeDefinition)(e,[(0,Dre.frArray)(Dre.frNumber)],([n])=>n.length===0?Xct():(0,Kct.Ok)((0,V_e.vNumber)(t(n)))),HJ=(e,t)=>(0,Yct.makeDefinition)(e,[(0,Dre.frArray)(Dre.frNumber)],([n])=>n.length===0?Xct():(0,Kct.Ok)((0,V_e.vArray)(t(n).map(V_e.vNumber))));Dse.library=[ld.n2n({name:"floor",examples:["floor(3.5)"],fn:Math.floor}),ld.n2n({name:"ceil",examples:["ceil(3.5)"],fn:Math.ceil}),ld.n2n({name:"abs",description:"absolute value",examples:["abs(3.5)"],fn:Math.abs}),ld.n2n({name:"exp",description:"exponent",examples:["exp(3.5)"],fn:Math.exp}),ld.n2n({name:"log",examples:["log(3.5)"],fn:Math.log}),ld.n2n({name:"log10",examples:["log10(3.5)"],fn:Math.log10}),ld.n2n({name:"log2",examples:["log2(3.5)"],fn:Math.log2}),ld.n2n({name:"round",examples:["round(3.5)"],fn:Math.round}),ld.make({name:"sum",output:"Number",examples:["sum([3,5,2])"],definitions:[NA("sum",e=>nS.sum(e))]}),ld.make({name:"product",output:"Number",examples:["product([3,5,2])"],definitions:[NA("product",e=>nS.product(e))]}),ld.make({name:"min",output:"Number",examples:["min([3,5,2])"],definitions:[NA("min",e=>Math.min(...e))]}),ld.make({name:"max",output:"Number",examples:["max([3,5,2])"],definitions:[NA("max",e=>Math.max(...e))]}),ld.make({name:"mean",output:"Number",examples:["mean([3,5,2])"],definitions:[NA("mean",e=>nS.mean(e))]}),ld.make({name:"geomean",description:"geometric mean",output:"Number",examples:["geomean([3,5,2])"],definitions:[NA("geomean",e=>nS.geomean(e))]}),ld.make({name:"stdev",description:"standard deviation",output:"Number",examples:["stdev([3,5,2,3,5])"],definitions:[NA("stdev",e=>nS.stdev(e))]}),ld.make({name:"variance",output:"Number",examples:["variance([3,5,2,3,5])"],definitions:[NA("variance",e=>nS.variance(e))]}),ld.make({name:"sort",output:"Array",examples:["sort([3,5,2,3,5])"],definitions:[HJ("sort",e=>nS.sort(e))]}),ld.make({name:"cumsum",output:"Array",description:"cumulative sum",examples:["cumsum([3,5,2,3,5])"],definitions:[HJ("cumsum",nS.cumSum)]}),ld.make({name:"cumprod",description:"cumulative product",output:"Array",examples:["cumprod([3,5,2,3,5])"],definitions:[HJ("cumprod",nS.cumProd)]}),ld.make({name:"diff",output:"Array",examples:["diff([3,5,2,3,5])"],definitions:[HJ("diff",nS.diff)]})];var Ise={},Xdn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Zdn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),NOe=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Xdn(t,e,n);return Zdn(t,e),t};Object.defineProperty(Ise,"__esModule",{value:!0});Ise.library=void 0;const UJ=pf,R2=io,Qdn=NOe(x_()),Jdn=NOe(lE()),Rte=Gg,_1e=Dp,x1e=tc,ehn=NOe(Pk),thn=Ro,S1e=di,Ire=Qd,VJ=new Rte.FnFactory({nameSpace:"PointSet",requiresNamespace:!0}),GGe=e=>{const t=ehn.T.makeFromZipped(e.map(({x:n,y:r})=>[n,r]));return t.ok?t.value:Ire.ErrorMessage.throw((0,Ire.REDistributionError)((0,thn.xyShapeDistError)(t.value)))};Ise.library=[VJ.make({name:"fromDist",examples:["PointSet.fromDist(normal(5,2))"],output:"Dist",definitions:[(0,UJ.makeDefinition)("fromDist",[R2.frDist],([e],t)=>(0,Rte.repackDistResult)(e.toPointSetDist(t.environment)))]}),VJ.make({name:"mapY",examples:["PointSet.mapY(mx(normal(5,2)), {|x| x + 1})"],output:"Dist",definitions:[(0,UJ.makeDefinition)("mapY",[R2.frDist,R2.frLambda],([e,t],n,r)=>e instanceof _1e.PointSetDist?(0,Rte.repackDistResult)(e.mapYResult(i=>(0,S1e.Ok)((0,Rte.doNumberLambdaCall)(t,[(0,x1e.vNumber)(i)],n,r)),void 0,void 0)):Ire.ErrorMessage.throw((0,Ire.REExpectedType)("PointSetDist",e.toString())))]}),VJ.make({name:"makeContinuous",examples:[`PointSet.makeContinuous([
        {x: 0, y: 0.2},
        {x: 1, y: 0.7},
        {x: 2, y: 0.8},
        {x: 3, y: 0.2}
      ])`],output:"Dist",definitions:[(0,UJ.makeDefinition)("makeContinuous",[(0,R2.frArray)((0,R2.frRecord)(["x",R2.frNumber],["y",R2.frNumber]))],([e])=>(0,S1e.Ok)((0,x1e.vDist)(new _1e.PointSetDist(new Qdn.ContinuousShape({xyShape:GGe(e)})))))]}),VJ.make({name:"makeDiscrete",examples:[`PointSet.makeDiscrete([
        {x: 0, y: 0.2},
        {x: 1, y: 0.7},
        {x: 2, y: 0.8},
        {x: 3, y: 0.2}
      ])`],output:"Dist",definitions:[(0,UJ.makeDefinition)("makeDiscrete",[(0,R2.frArray)((0,R2.frRecord)(["x",R2.frNumber],["y",R2.frNumber]))],([e])=>(0,S1e.Ok)((0,x1e.vDist)(new _1e.PointSetDist(new Jdn.DiscreteShape({xyShape:GGe(e)})))))]})];var Fse={},nhn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),rhn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zct=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&nhn(t,e,n);return rhn(t,e),t};Object.defineProperty(Fse,"__esModule",{value:!0});Fse.library=void 0;const E1e=pf,S$=io,ihn=Gg,Qct=tc,Jct=Zct(di),eft=Zct(r7),qGe=oT,rF=Qd,YGe=new ihn.FnFactory({nameSpace:"Dist",requiresNamespace:!0}),KGe=(e,t,n,r)=>Jct.fmap2(eft.logScoreScalarAnswer({estimate:e,answer:t,prior:n,env:r}),Qct.vNumber,rF.REDistributionError),C1e=(e,t,n,r)=>Jct.fmap2(eft.logScoreDistAnswer({estimate:e,answer:t,prior:n,env:r}),Qct.vNumber,rF.REDistributionError);Fse.library=[YGe.make({name:"logScore",output:"Number",examples:["Dist.logScore({estimate: normal(5,2), answer: normal(5.2,1), prior: normal(5.5,3)})","Dist.logScore({estimate: normal(5,2), answer: normal(5.2,1)})","Dist.logScore({estimate: normal(5,2), answer: 4.5})"],definitions:[(0,E1e.makeDefinition)("logScore",[(0,S$.frRecord)(["estimate",S$.frDist],["answer",S$.frDistOrNumber],["prior",S$.frDist])],([{estimate:e,answer:t,prior:n}],r)=>t instanceof qGe.BaseDist?C1e(e,t,n,r.environment):typeof t=="number"?KGe(e,t,n,r.environment):rF.ErrorMessage.throw((0,rF.REOther)("Impossible type"))),(0,E1e.makeDefinition)("logScore",[(0,S$.frRecord)(["estimate",S$.frDist],["answer",S$.frDistOrNumber])],([{estimate:e,answer:t}],n)=>t instanceof qGe.BaseDist?C1e(e,t,void 0,n.environment):typeof t=="number"?KGe(e,t,void 0,n.environment):rF.ErrorMessage.throw((0,rF.REOther)("Impossible type")))]}),YGe.make({name:"klDivergence",output:"Number",examples:["Dist.klDivergence(normal(5,2), normal(5,1.5))"],definitions:[(0,E1e.makeDefinition)("klDivergence",[S$.frDist,S$.frDist],([e,t],n)=>C1e(e,t,void 0,n.environment))]})];var Nse={},ahn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ohn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),zOe=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&ahn(t,e,n);return ohn(t,e),t};Object.defineProperty(Nse,"__esModule",{value:!0});Nse.library=void 0;const If=Gg,iR=zOe(Ko),tft=zOe(di),shn=zOe(OE),uhn=Ro,$5=pf,Tte=tc,Oc=io,lhn=di,Ac=r7,nft=Qd,Oo=new If.FnFactory({nameSpace:"",requiresNamespace:!1}),dU=e=>tft.fmap2(e,Tte.vDist,t=>(0,nft.REDistributionError)(t)),chn=[["add",Ac.BinaryOperations.algebraicAdd],["multiply",Ac.BinaryOperations.algebraicMultiply],["subtract",Ac.BinaryOperations.algebraicSubtract],["divide",Ac.BinaryOperations.algebraicDivide],["pow",Ac.BinaryOperations.algebraicPower],["log",Ac.BinaryOperations.algebraicLogarithm]],fhn=[["dotAdd",Ac.BinaryOperations.pointwiseAdd],["dotMultiply",Ac.BinaryOperations.pointwiseMultiply],["dotSubtract",Ac.BinaryOperations.pointwiseSubtract],["dotDivide",Ac.BinaryOperations.pointwiseDivide],["dotPow",Ac.BinaryOperations.pointwisePower]],dhn=()=>{Oc.frDist,Oc.frNumber,Oc.frNumber,Oc.frDist,Oc.frDist,Oc.frDist;const e=[];for(const[t,n]of[...chn,...fhn])e.push(Oo.fromDefinition((0,$5.makeDefinition)(t,[Oc.frDist,Oc.frNumber],([r,i],{environment:a})=>dU(n(r,new iR.Float(i),{env:a}))))),e.push(Oo.fromDefinition((0,$5.makeDefinition)(t,[Oc.frNumber,Oc.frDist],([r,i],{environment:a})=>dU(n(new iR.Float(r),i,{env:a}))))),e.push(Oo.fromDefinition((0,$5.makeDefinition)(t,[Oc.frDist,Oc.frDist],([r,i],{environment:a})=>dU(n(r,i,{env:a})))));return e};Nse.library=[Oo.d2s({name:"sparkline",fn:(e,t)=>(0,If.unpackDistResult)(e.toSparkline(shn.Environment.sparklineLength,t))}),Oo.dn2s({name:"sparkline",fn:(e,t,n)=>(0,If.unpackDistResult)(e.toSparkline(t|0,n))}),Oo.d2s({name:"toString",fn:e=>e.toString()}),Oo.d2n({name:"mean",fn:e=>e.mean()}),Oo.d2n({name:"stdev",fn:e=>(0,If.unpackDistResult)(e.stdev())}),Oo.d2n({name:"variance",fn:e=>(0,If.unpackDistResult)(e.variance())}),Oo.d2n({name:"min",fn:e=>e.min()}),Oo.d2n({name:"max",fn:e=>e.max()}),Oo.d2n({name:"mode",fn:e=>(0,If.unpackDistResult)(e.mode())}),Oo.d2n({name:"sample",fn:e=>e.sample()}),Oo.d2n({name:"integralSum",fn:e=>e.integralEndY()}),Oo.fromDefinition((0,$5.makeDefinition)("triangular",[Oc.frNumber,Oc.frNumber,Oc.frNumber],([e,t,n])=>tft.fmap2(iR.Triangular.make({low:e,medium:t,high:n}),Tte.vDist,r=>(0,nft.REDistributionError)((0,uhn.otherError)(r))))),Oo.fromDefinition((0,$5.makeDefinition)("sampleN",[Oc.frDist,Oc.frNumber],([e,t])=>(0,lhn.Ok)((0,Tte.vArray)(e.sampleN(t|0).map(Tte.vNumber))))),Oo.d2d({name:"exp",fn:(e,t)=>(0,If.unpackDistResult)(Ac.BinaryOperations.algebraicPower(new iR.Float(Math.E),e,{env:t}))}),Oo.d2d({name:"normalize",fn:e=>e.normalize()}),Oo.d2b({name:"isNormalized",fn:e=>e.isNormalized()}),Oo.d2d({name:"toPointSet",fn:(e,t)=>(0,If.unpackDistResult)(e.toPointSetDist(t))}),Oo.d2d({name:"scaleLog",fn:(e,t)=>(0,If.unpackDistResult)((0,Ac.scaleLog)(e,Math.E,{env:t}))}),Oo.d2d({name:"scaleLog10",fn:(e,t)=>(0,If.unpackDistResult)((0,Ac.scaleLog)(e,10,{env:t}))}),Oo.dn2d({name:"scaleLog",fn:(e,t,n)=>(0,If.unpackDistResult)((0,Ac.scaleLog)(e,t,{env:n}))}),Oo.fromDefinition((0,$5.makeDefinition)("scaleLogWithThreshold",[Oc.frDist,Oc.frNumber,Oc.frNumber],([e,t,n],{environment:r})=>dU((0,Ac.pointwiseCombinationFloat)(e,{env:r,algebraicCombination:{NAME:"LogarithmWithThreshold",VAL:n},f:t})))),Oo.dn2d({name:"scaleMultiply",fn:(e,t,n)=>(0,If.unpackDistResult)((0,Ac.pointwiseCombinationFloat)(e,{env:n,algebraicCombination:"Multiply",f:t}))}),Oo.dn2d({name:"scalePow",fn:(e,t,n)=>(0,If.unpackDistResult)((0,Ac.pointwiseCombinationFloat)(e,{env:n,algebraicCombination:"Power",f:t}))}),Oo.d2d({name:"scaleExp",fn:(e,t)=>(0,If.unpackDistResult)((0,Ac.pointwiseCombinationFloat)(e,{env:t,algebraicCombination:"Power",f:Math.E}))}),Oo.dn2n({name:"cdf",fn:(e,t)=>e.cdf(t)}),Oo.dn2n({name:"pdf",fn:(e,t,n)=>(0,If.unpackDistResult)(e.pdf(t,{env:n}))}),Oo.dn2n({name:"inv",fn:(e,t)=>e.inv(t)}),Oo.dn2n({name:"quantile",fn:(e,t)=>e.inv(t)}),Oo.dn2d({name:"truncateLeft",fn:(e,t,n)=>(0,If.unpackDistResult)(e.truncate(t,void 0,{env:n}))}),Oo.dn2d({name:"truncateRight",fn:(e,t,n)=>(0,If.unpackDistResult)(e.truncate(void 0,t,{env:n}))}),Oo.fromDefinition((0,$5.makeDefinition)("truncate",[Oc.frDist,Oc.frNumber,Oc.frNumber],([e,t,n],{environment:r})=>dU(e.truncate(t,n,{env:r})))),Oo.d2d({name:"log",fn:(e,t)=>(0,If.unpackDistResult)(Ac.BinaryOperations.algebraicLogarithm(e,new iR.Float(Math.E),{env:t}))}),Oo.d2d({name:"log10",fn:(e,t)=>(0,If.unpackDistResult)(Ac.BinaryOperations.algebraicLogarithm(e,new iR.Float(10),{env:t}))}),Oo.d2d({name:"unaryMinus",fn:(e,t)=>(0,If.unpackDistResult)(Ac.BinaryOperations.algebraicMultiply(e,new iR.Float(-1),{env:t}))}),Oo.d2d({name:"dotExp",fn:(e,t)=>(0,If.unpackDistResult)(Ac.BinaryOperations.pointwisePower(new iR.Float(Math.E),e,{env:t}))}),...dhn()];var zse={};Object.defineProperty(zse,"__esModule",{value:!0});zse.library=void 0;const hhn=Gg,ghn=new hhn.FnFactory({nameSpace:"",requiresNamespace:!1}),zA=(e,t)=>ghn.n2n({name:"fromUnit_"+e,fn:n=>n*t});zse.library=[zA("n",1e-9),zA("m",.001),zA("k",1e3),zA("M",1e6),zA("B",1e9),zA("G",1e9),zA("T",1e12),zA("P",1e15)];var jse={},phn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),vhn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rft=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&phn(t,e,n);return vhn(t,e),t};Object.defineProperty(jse,"__esModule",{value:!0});jse.library=void 0;const rf=rft(tse),XGe=rft(di),mhn=Gg,H0=pf,U0=tc,V1=di,$c=io,ZGe=Qd,V0=new mhn.FnFactory({nameSpace:"",requiresNamespace:!1}),jA=(e,t)=>V0.make({name:e,definitions:[(0,H0.makeDefinition)(e,[$c.frNumber],([n])=>(0,V1.Ok)((0,U0.vTimeDuration)(t(n))))]}),WJ=(e,t)=>V0.make({name:e,definitions:[(0,H0.makeDefinition)(e,[$c.frTimeDuration],([n])=>(0,V1.Ok)((0,U0.vNumber)(t(n))))]});jse.library=[V0.fromDefinition((0,H0.makeDefinition)("toString",[$c.frDate],([e])=>(0,V1.Ok)((0,U0.vString)(rf.Date.toString(e))))),V0.fromDefinition((0,H0.makeDefinition)("makeDateFromYear",[$c.frNumber],([e])=>XGe.fmap2(rf.Date.makeFromYear(e),U0.vDate,ZGe.REOther))),V0.fromDefinition((0,H0.makeDefinition)("dateFromNumber",[$c.frNumber],([e])=>(0,V1.Ok)((0,U0.vDate)(new Date(e))))),V0.fromDefinition((0,H0.makeDefinition)("toNumber",[$c.frDate],([e])=>(0,V1.Ok)((0,U0.vNumber)(e.getTime())))),V0.fromDefinition((0,H0.makeDefinition)("subtract",[$c.frDate,$c.frDate],([e,t])=>XGe.fmap2(rf.Date.subtract(e,t),U0.vTimeDuration,ZGe.REOther))),V0.fromDefinition((0,H0.makeDefinition)("subtract",[$c.frDate,$c.frTimeDuration],([e,t])=>(0,V1.Ok)((0,U0.vDate)(rf.Date.subtractDuration(e,t))))),V0.fromDefinition((0,H0.makeDefinition)("add",[$c.frDate,$c.frTimeDuration],([e,t])=>(0,V1.Ok)((0,U0.vDate)(rf.Date.addDuration(e,t))))),V0.fromDefinition((0,H0.makeDefinition)("toString",[$c.frTimeDuration],([e])=>(0,V1.Ok)((0,U0.vString)(rf.Duration.toString(e))))),jA("minutes",rf.Duration.fromMinutes),jA("fromUnit_minutes",rf.Duration.fromMinutes),jA("hours",rf.Duration.fromHours),jA("fromUnit_hours",rf.Duration.fromHours),jA("days",rf.Duration.fromDays),jA("fromUnit_days",rf.Duration.fromDays),jA("years",rf.Duration.fromYears),jA("fromUnit_years",rf.Duration.fromYears),WJ("toMinutes",rf.Duration.toMinutes),WJ("toHours",rf.Duration.toHours),WJ("toDays",rf.Duration.toDays),WJ("toYears",rf.Duration.toYears),V0.fromDefinition((0,H0.makeDefinition)("add",[$c.frTimeDuration,$c.frTimeDuration],([e,t])=>(0,V1.Ok)((0,U0.vTimeDuration)(rf.Duration.add(e,t))))),V0.fromDefinition((0,H0.makeDefinition)("subtract",[$c.frTimeDuration,$c.frTimeDuration],([e,t])=>(0,V1.Ok)((0,U0.vTimeDuration)(rf.Duration.subtract(e,t))))),V0.fromDefinition((0,H0.makeDefinition)("multiply",[$c.frTimeDuration,$c.frNumber],([e,t])=>(0,V1.Ok)((0,U0.vTimeDuration)(rf.Duration.multiply(e,t))))),V0.fromDefinition((0,H0.makeDefinition)("divide",[$c.frTimeDuration,$c.frNumber],([e,t])=>(0,V1.Ok)((0,U0.vTimeDuration)(rf.Duration.divide(e,t))))),V0.fromDefinition((0,H0.makeDefinition)("divide",[$c.frTimeDuration,$c.frTimeDuration],([e,t])=>(0,V1.Ok)((0,U0.vNumber)(e/t))))];var Bse={};Object.defineProperty(Bse,"__esModule",{value:!0});Bse.library=void 0;const yhn=Gg,kM=new yhn.FnFactory({nameSpace:"Math",requiresNamespace:!0});Bse.library=[kM.n2n({name:"sqrt",fn:e=>Math.pow(e,.5)}),kM.n2n({name:"sin",fn:e=>Math.sin(e)}),kM.n2n({name:"cos",fn:e=>Math.cos(e)}),kM.n2n({name:"tan",fn:e=>Math.tan(e)}),kM.n2n({name:"asin",fn:e=>Math.asin(e)}),kM.n2n({name:"acos",fn:e=>Math.acos(e)}),kM.n2n({name:"atan",fn:e=>Math.atan(e)})];var Hse={},bhn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),whn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ift=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&bhn(t,e,n);return whn(t,e),t};Object.defineProperty(Hse,"__esModule",{value:!0});Hse.library=void 0;const rS=pf,tl=io,_hn=Gg,iS=di,QGe=ift(di),OM=tc,xhn=ift(kE),JGe=Qd,aS=new _hn.FnFactory({nameSpace:"List",requiresNamespace:!0});Hse.library=[aS.make({name:"length",output:"Number",examples:["List.length([1,4,5])"],definitions:[(0,rS.makeDefinition)("length",[(0,tl.frArray)(tl.frAny)],([e])=>(0,iS.Ok)((0,OM.vNumber)(e.length)))]}),aS.make({name:"make",output:"Array",examples:['List.make(2, "testValue")'],definitions:[(0,rS.makeDefinition)("make",[tl.frNumber,tl.frAny],([e,t])=>(0,iS.Ok)((0,OM.vArray)(new Array(e|0).fill(t))))]}),aS.make({name:"upTo",output:"Array",examples:["List.upTo(1,4)"],definitions:[(0,rS.makeDefinition)("upTo",[tl.frNumber,tl.frNumber],([e,t])=>(0,iS.Ok)((0,OM.vArray)(xhn.range(e,t,t-e+1|0).map(OM.vNumber))))]}),aS.make({name:"first",examples:["List.first([1,4,5])"],definitions:[(0,rS.makeDefinition)("first",[(0,tl.frArray)(tl.frAny)],([e])=>e.length?(0,iS.Ok)(e[0]):QGe.Error((0,JGe.REOther)("No first element")))]}),aS.make({name:"last",examples:["List.last([1,4,5])"],definitions:[(0,rS.makeDefinition)("last",[(0,tl.frArray)(tl.frAny)],([e])=>e.length?(0,iS.Ok)(e[e.length-1]):QGe.Error((0,JGe.REOther)("No last element")))]}),aS.make({name:"reverse",output:"Array",requiresNamespace:!1,examples:["List.reverse([1,4,5])"],definitions:[(0,rS.makeDefinition)("reverse",[(0,tl.frArray)(tl.frAny)],([e])=>(0,iS.Ok)((0,OM.vArray)([...e].reverse())))]}),aS.make({name:"map",output:"Array",requiresNamespace:!1,examples:["List.map([1,4,5], {|x| x+1})"],definitions:[(0,rS.makeDefinition)("map",[(0,tl.frArray)(tl.frAny),tl.frLambda],([e,t],n,r)=>{const i=new Array(e.length);for(let a=0;a<e.length;a++)i[a]=t.call([e[a]],n,r);return(0,iS.Ok)((0,OM.vArray)(i))})]}),aS.make({name:"reduce",requiresNamespace:!1,examples:["List.reduce([1,4,5], 2, {|acc, el| acc+el})"],definitions:[(0,rS.makeDefinition)("reduce",[(0,tl.frArray)(tl.frAny),tl.frAny,tl.frLambda],([e,t,n],r,i)=>(0,iS.Ok)(e.reduce((a,s)=>n.call([a,s],r,i),t)))]}),aS.make({name:"reduceReverse",requiresNamespace:!1,examples:["List.reduceReverse([1,4,5], 2, {|acc, el| acc-el})"],definitions:[(0,rS.makeDefinition)("reduceReverse",[(0,tl.frArray)(tl.frAny),tl.frAny,tl.frLambda],([e,t,n],r,i)=>(0,iS.Ok)([...e].reverse().reduce((a,s)=>n.call([a,s],r,i),t)))]}),aS.make({name:"filter",requiresNamespace:!1,examples:["List.filter([1,4,5], {|x| x>3})"],definitions:[(0,rS.makeDefinition)("filter",[(0,tl.frArray)(tl.frAny),tl.frLambda],([e,t],n,r)=>(0,iS.Ok)((0,OM.vArray)(e.filter(i=>{const a=t.call([i],n,r);return a.type==="Bool"&&a.value}))))]})];var Use={},Shn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ehn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Chn=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Shn(t,e,n);return Ehn(t,e),t};Object.defineProperty(Use,"__esModule",{value:!0});Use.library=void 0;const $hn=pf,vB=io,khn=Ko,Ohn=Gg,eqe=Chn(di),Ahn=tc,Rhn=Qd,Thn=new Ohn.FnFactory({nameSpace:"Plot",requiresNamespace:!0});Use.library=[Thn.make({name:"dists",output:"Plot",examples:['Plot.dists({dists: [{name: "dist", value: normal(0, 1)}]})'],definitions:[(0,$hn.makeDefinition)("dists",[(0,vB.frRecord)(["dists",(0,vB.frArray)((0,vB.frRecord)(["name",vB.frString],["value",vB.frDistOrNumber]))])],([{dists:e}])=>{let t=[];return e.forEach(({name:n,value:r})=>{if(typeof r=="number"){const i=khn.Float.make(r);if(i.ok===!1)return eqe.Error((0,Rhn.REOther)(i.value));t.push({name:n,distribution:i.value})}else t.push({name:n,distribution:r})}),eqe.Ok((0,Ahn.vPlot)({distributions:t}))})]})];var Vse={},QS={},Mhn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Phn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),aft=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Mhn(t,e,n);return Phn(t,e),t};Object.defineProperty(QS,"__esModule",{value:!0});QS.BuiltinLambda=QS.SquiggleLambda=QS.Lambda=void 0;const Lhn=aft($3),tqe=Qd,Dhn=aft(__);class jOe{constructor(t){this.body=t}callFrom(t,n,r,i){const a=Object.assign(Object.assign({},n),{frameStack:n.frameStack.extend(Lhn.currentFunctionName(n),i),inFunction:this});return Dhn.rethrowWithFrameStack(()=>this.body(t,a,r),a.frameStack)}call(t,n,r){return this.callFrom(t,n,r,void 0)}}QS.Lambda=jOe;class Ihn extends jOe{constructor(t,n,r,i,a){const s=(u,f,d)=>{const c=u.length,h=n.length;c!==h&&tqe.ErrorMessage.throw((0,tqe.REArityError)(void 0,h,c));let p=r;for(let y=0;y<h;y++)p=p.set(n[y],u[y]);const v={bindings:p,environment:f.environment,frameStack:f.frameStack,inFunction:f.inFunction},[m]=d(i,v);return m};super(s),this.name=t,this.parameters=n,this.location=a}getName(){return this.name||"<anonymous>"}getParameters(){return this.parameters}toString(){return`lambda(${this.parameters.join(",")}=>internal code)`}}QS.SquiggleLambda=Ihn;class Fhn extends jOe{constructor(t,n){super(n),this.name=t}getName(){return this.name}getParameters(){return["..."]}toString(){return"Builtin function"}}QS.BuiltinLambda=Fhn;var Nhn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),zhn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),BOe=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Nhn(t,e,n);return zhn(t,e),t};Object.defineProperty(Vse,"__esModule",{value:!0});Vse.mxLambda=void 0;const jhn=BOe(Ko),Bhn=BOe(mG),Hhn=BOe(r7),Uhn=tc,Vhn=Ro,Whn=Gg,Ghn=QS,nqe=Qd,Wse=e=>nqe.ErrorMessage.throw((0,nqe.REDistributionError)((0,Vhn.argumentError)(e)));let qhn=e=>e.type==="Number"?e.value:Wse("Not a number");const rqe=e=>e.map(qhn),Yhn=e=>e.type==="Dist"?e.value:e.type==="Number"?new jhn.Float(e.value):Wse("Not a distribution");let GJ=e=>e.map(Yhn),W_e=(e,t,n)=>e.length===t.length?Hhn.mixture(Bhn.zip(e,t),{env:n}):Wse("Error, mixture call has different number of distributions and weights");const iqe=(e,t)=>{const n=e.length,r=new Array(n).fill(1/n);return W_e(e,r,t)},Khn=(e,t)=>{if(e.length===1&&e[0].type==="Array")return iqe(GJ(e[0].value),t);if(e.length===2&&e[0].type==="Array"&&e[1].type==="Array"){const n=e[0].value,r=e[1].value,i=GJ(n),a=rqe(r);return W_e(i,a,t)}else if(e.length>0){const n=e[e.length-1];if(n.type==="Array"){const r=rqe(n.value),i=GJ(e.slice(0,e.length-1));return W_e(i,r,t)}else if(n.type==="Number"||n.type==="Dist")return iqe(GJ(e),t)}return Wse("Last argument of mx must be array or distribution")};Vse.mxLambda=new Ghn.BuiltinLambda("mx",(e,t)=>(0,Uhn.vDist)((0,Whn.unpackDistResult)(Khn(e,t.environment))));(function(e){var t=$e&&$e.__createBinding||(Object.create?function(L,N,R,D){D===void 0&&(D=R);var j=Object.getOwnPropertyDescriptor(N,R);(!j||("get"in j?!N.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return N[R]}}),Object.defineProperty(L,D,j)}:function(L,N,R,D){D===void 0&&(D=R),L[D]=N[R]}),n=$e&&$e.__setModuleDefault||(Object.create?function(L,N){Object.defineProperty(L,"default",{enumerable:!0,value:N})}:function(L,N){L.default=N}),r=$e&&$e.__importStar||function(L){if(L&&L.__esModule)return L;var N={};if(L!=null)for(var R in L)R!=="default"&&Object.prototype.hasOwnProperty.call(L,R)&&t(N,L,R);return n(N,L),N};Object.defineProperty(e,"__esModule",{value:!0}),e.nonRegistryLambdas=e.allNames=e.call=e.registry=void 0;const i=r(IS),a=Ose,s=Ase,u=Rse,f=Mse,d=Pse,c=Lse,h=Dse,p=Ise,v=Fse,m=Nse,y=zse,w=jse,_=Bse,S=Hse,C=Use,$=Vse,k=[...a.library,...s.library,...u.library,...f.library,...d.library,...c.library,...h.library,...p.library,...v.library,...m.library,...y.library,...w.library,..._.library,...S.library,...C.library];e.registry=i.make(k);const M=(L,N,R,D)=>i.call(e.registry,L,N,R,D);e.call=M;const A=()=>i.allNames(e.registry);e.allNames=A,e.nonRegistryLambdas=[["mx",$.mxLambda],["mixture",$.mxLambda]]})(Uct);var Xhn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Zhn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Qhn=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Xhn(t,e,n);return Zhn(t,e),t};Object.defineProperty(NG,"__esModule",{value:!0});NG.stdLib=void 0;const $1e=tc,Jhn=$se,egn=kse,k1e=Qhn(Uct),tgn=lL,aqe=QS,AM=Qd,ngn=()=>{let e=(0,tgn.NamespaceMap)();e=e.merge((0,Jhn.makeMathConstants)()),e=e.merge((0,egn.makeVersionConstant)()),e=e.set("$_atIndex_$",(0,$1e.vLambda)(new aqe.BuiltinLambda("$_atIndex_$",t=>{var n;if(t.length===2&&t[0].type==="Array"&&t[1].type==="Number"){const r=t[0].value,i=t[1].value|0;return i>=0&&i<r.length?r[i]:AM.ErrorMessage.throw((0,AM.REArrayIndexNotFound)("Array index not found",i))}else if(t.length===2&&t[0].type==="Record"&&t[1].type==="String"){const r=t[0].value,i=t[1].value;return(n=r.get(i))!==null&&n!==void 0?n:AM.ErrorMessage.throw((0,AM.RERecordPropertyNotFound)("Record property not found",i))}else return AM.ErrorMessage.throw((0,AM.REOther)("Trying to access key on wrong value"))})));for(const[t,n]of k1e.nonRegistryLambdas)e=e.set(t,(0,$1e.vLambda)(n));for(const t of k1e.allNames())e=e.set(t,(0,$1e.vLambda)(new aqe.BuiltinLambda(t,(n,r,i)=>{const a=k1e.call(t,n,r,i);return a.ok?a.value:AM.ErrorMessage.throw(a.value)})));return e};NG.stdLib=ngn();var i7={},rgn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ign=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),agn=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&rgn(t,e,n);return ign(t,e),t};Object.defineProperty(i7,"__esModule",{value:!0});i7.defaultEnv=void 0;const oqe=agn(OE);i7.defaultEnv={sampleCount:oqe.Environment.defaultSampleCount,xyPointLength:oqe.Environment.defaultXYPointLength};(function(e){var t=$e&&$e.__createBinding||(Object.create?function(k,M,A,L){L===void 0&&(L=A);var N=Object.getOwnPropertyDescriptor(M,A);(!N||("get"in N?!M.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return M[A]}}),Object.defineProperty(k,L,N)}:function(k,M,A,L){L===void 0&&(L=A),k[L]=M[A]}),n=$e&&$e.__setModuleDefault||(Object.create?function(k,M){Object.defineProperty(k,"default",{enumerable:!0,value:M})}:function(k,M){k.default=M}),r=$e&&$e.__importStar||function(k){if(k&&k.__esModule)return k;var M={};if(k!=null)for(var A in k)A!=="default"&&Object.prototype.hasOwnProperty.call(k,A)&&t(M,k,A);return n(M,k),M};Object.defineProperty(e,"__esModule",{value:!0}),e.evaluateStringToResult=e.evaluateExpressionToResult=e.evaluate=void 0;const i=tc,a=r($3),s=__,u=Cse,f=di,d=r(di),c=NG,h=i7,p=xG,v=SG,m=QS,y=Qd,w=(k,M,A)=>{throw s.IError.fromMessageWithFrameStack(k,A.frameStack.extend(a.currentFunctionName(A),M.ast.location))},_=(k,M)=>{switch(k.type){case"Block":{let A=Object.assign({},M),L=(0,i.vVoid)();for(const N of k.value)[L,A]=(0,e.evaluate)(N,A);return[L,M]}case"Program":{let A=M,L=(0,i.vVoid)();for(const N of k.value)[L,A]=(0,e.evaluate)(N,A);return[L,A]}case"Array":{const A=k.value.map(L=>{const[N]=(0,e.evaluate)(L,M);return N});return[(0,i.vArray)(A),M]}case"Record":return[(0,i.vRecord)((0,u.ImmutableMap)(k.value.map(([L,N])=>{const[R]=(0,e.evaluate)(L,M);if(R.type!=="String")return w((0,y.REOther)("Record keys must be strings"),k,M);const D=R.value,[j]=(0,e.evaluate)(N,M);return[D,j]}))),M];case"Assign":{const[A]=(0,e.evaluate)(k.right,M);return[(0,i.vVoid)(),Object.assign(Object.assign({},M),{bindings:M.bindings.set(k.left,A)})]}case"Symbol":{const A=k.value,L=M.bindings.get(A);return L===void 0?w((0,y.RESymbolNotFound)(k.value),k,M):[L,M]}case"Value":return[k.value,M];case"Ternary":{const[A]=(0,e.evaluate)(k.condition,M);return A.type==="Bool"?(0,e.evaluate)(A.value?k.ifTrue:k.ifFalse,M):w((0,y.REExpectedType)("Boolean",""),k,M)}case"Lambda":return[(0,i.vLambda)(new m.SquiggleLambda(k.name,k.parameters,M.bindings,k.body,k.ast.location)),M];case"Call":{const[A]=(0,e.evaluate)(k.fn,M),L=k.args.map(N=>{const[R]=(0,e.evaluate)(N,M);return R});switch(A.type){case"Lambda":return[A.value.callFrom(L,M,e.evaluate,k.ast.location),M];default:return w((0,y.RENotAFunction)(A.toString()),k,M)}}default:throw new Error("Unreachable")}};e.evaluate=_;const S=()=>a.createContext(c.stdLib,h.defaultEnv),C=k=>{const M=S();try{const[A]=(0,e.evaluate)(k,M);return(0,f.Ok)(A)}catch(A){return d.Error(s.IError.fromException(A))}};e.evaluateExpressionToResult=C;const $=k=>{const M=d.fmap((0,p.parse)(k,"main"),v.expressionFromAst);return d.bind(d.errMap(M,s.IError.fromParseError),e.evaluateExpressionToResult)};e.evaluateStringToResult=$})(qlt);(function(e){var t=$e&&$e.__createBinding||(Object.create?function(Q,ee,oe,ue){ue===void 0&&(ue=oe);var ve=Object.getOwnPropertyDescriptor(ee,oe);(!ve||("get"in ve?!ee.__esModule:ve.writable||ve.configurable))&&(ve={enumerable:!0,get:function(){return ee[oe]}}),Object.defineProperty(Q,ue,ve)}:function(Q,ee,oe,ue){ue===void 0&&(ue=oe),Q[ue]=ee[oe]}),n=$e&&$e.__setModuleDefault||(Object.create?function(Q,ee){Object.defineProperty(Q,"default",{enumerable:!0,value:ee})}:function(Q,ee){Q.default=ee}),r=$e&&$e.__importStar||function(Q){if(Q&&Q.__esModule)return Q;var ee={};if(Q!=null)for(var oe in Q)oe!=="default"&&Object.prototype.hasOwnProperty.call(Q,oe)&&t(ee,Q,oe);return n(ee,Q),ee};Object.defineProperty(e,"__esModule",{value:!0}),e.run=e.rawParse=e.parseIncludes=e.setContinues=e.getPastChain=e.getImmediateDependencies=e.clean=e.cleanResults=e.setResult=e.setSource=e.touchSource=e.emptyItem=void 0;const i=dse,a=r(di),s=di,u=xG,f=__,d=_k,c=SG,h=qlt,p=lL,v=Q=>({sourceId:Q,source:"",bindings:(0,p.NamespaceMap)(),continues:[],includes:(0,s.Ok)([]),directIncludes:[],includeAsVariables:[]});e.emptyItem=v;const m=Q=>{const ee=(0,e.emptyItem)(Q.sourceId);return Object.assign(Object.assign({},ee),{source:Q.source,continues:Q.continues,includes:Q.includes,includeAsVariables:Q.includeAsVariables,directIncludes:Q.directIncludes})};e.touchSource=m;const y=Q=>{const ee=(0,e.emptyItem)(Q.sourceId);return Object.assign(Object.assign({},ee),{source:Q.source,continues:Q.continues,includes:Q.includes,includeAsVariables:Q.includeAsVariables,directIncludes:Q.directIncludes,rawParse:Q.rawParse})},w=Q=>Object.assign(Object.assign({},Q),{source:Q.source,continues:Q.continues,includes:Q.includes,includeAsVariables:Q.includeAsVariables,directIncludes:Q.directIncludes,rawParse:Q.rawParse,expression:Q.expression}),_=Q=>Object.assign(Object.assign({},Q),{includes:(0,s.Ok)([]),includeAsVariables:[],directIncludes:[]}),S=(Q,ee)=>(0,e.touchSource)(_(Object.assign(Object.assign({},Q),{source:ee})));e.setSource=S;const C=(Q,ee)=>y(Object.assign(Object.assign({},Q),{rawParse:ee})),$=(Q,ee)=>w(Object.assign(Object.assign({},Q),{expression:ee})),k=(Q,ee)=>Object.assign(Object.assign({},Q),{bindings:ee}),M=(Q,ee)=>Object.assign(Object.assign({},Q),{result:ee});e.setResult=M,e.cleanResults=w;const A=Q=>Object.assign(Object.assign({},Q),{source:Q.source,bindings:Q.bindings,result:Q.result});e.clean=A;const L=Q=>Q.includes.ok?[...Q.includes.value,...Q.continues]:[];e.getImmediateDependencies=L;const N=Q=>[...Q.directIncludes,...Q.continues];e.getPastChain=N;const R=(Q,ee)=>(0,e.touchSource)(Object.assign(Object.assign({},Q),{continues:ee}));e.setContinues=R;const D=(Q,ee)=>Object.assign(Object.assign({},Q),{includes:ee}),j=(Q,ee)=>{const oe=(0,i.parseIncludes)(Q.source);if(oe.ok){const ue=oe.value.map(([me,Se])=>[me,ee(Se,Q.sourceId)]),ve=ue.map(([me,Se])=>Se),le=ue.filter(([me,Se])=>me!==""),de=ue.filter(([me,Se])=>me==="").map(([me,Se])=>Se);return Object.assign(Object.assign({},Q),{includes:(0,s.Ok)(ve),includeAsVariables:le,directIncludes:de})}else return D(_(Q),oe)};e.parseIncludes=j;const U=Q=>{if(Q.rawParse)return Q;const ee=a.errMap((0,u.parse)(Q.source,Q.sourceId),oe=>new d.SqError(f.IError.fromParseError(oe)));return C(Q,ee)};e.rawParse=U;const H=Q=>{if(Q=(0,e.rawParse)(Q),Q.expression)return Q;if(!Q.rawParse)throw new Error("Internal logic error");const ee=a.fmap(Q.rawParse,oe=>(0,c.expressionFromAst)(oe));return $(Q,ee)},Y=(Q,ee)=>k((0,e.setResult)(Q,a.Error(ee)),(0,p.NamespaceMap)()),Z=(Q,ee)=>{if(Q=H(Q),Q.result)return Q;if(!Q.expression)throw new Error("Internal logic error");if(!Q.expression.ok)return Y(Q,Q.expression.value);try{const[oe,ue]=(0,h.evaluate)(Q.expression.value,ee);return k((0,e.setResult)(Q,(0,s.Ok)(oe)),ue.bindings.locals())}catch(oe){return Y(Q,new d.SqError(f.IError.fromException(oe)))}};e.run=Z})(Wlt);var oft={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.runOrderDiff=e.getDependents=e.getDependencies=e.getRunOrderFor=e.getRunOrder=void 0;const t=({getEdges:f,visited:d=new Set,from:c,result:h})=>{const p=v=>{if(!d.has(v)){d.add(v);for(const m of f(v))d.has(m)||p(m);h.push(v)}};p(c)},n=f=>{const d=new Set,c=[];for(const h of f.getSourceIds())t({getEdges:p=>f.getImmediateDependencies(p),visited:d,from:h,result:c});return c};e.getRunOrder=n;const r=(f,d)=>{const c=[];return t({getEdges:h=>f.getImmediateDependencies(h),from:d,result:c}),c};e.getRunOrderFor=r;const i=(f,d)=>(0,e.getRunOrderFor)(f,d).filter(h=>h!==d);e.getDependencies=i;const a=f=>{var d;const c=new Map;for(const h of f.getSourceIds()){const p=f.getImmediateDependencies(h);for(const v of p){const m=(d=c.get(v))!==null&&d!==void 0?d:[];m.push(h),c.set(v,m)}}return c},s=(f,d)=>{const c=a(f),h=[];return t({getEdges:p=>{var v;return(v=c.get(p))!==null&&v!==void 0?v:[]},from:d,result:h}),h.filter(p=>p!==d).reverse()};e.getDependents=s;const u=(f,d)=>{const c=[];let h=!0;for(let p=0;p<f.length;p++)(!h||p>=d.length||d[p]!==f[p])&&(h=!1,c.push(f[p]));return c};e.runOrderDiff=u})(oft);var ogn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),sgn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Gse=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&ogn(t,e,n);return sgn(t,e),t};Object.defineProperty(_N,"__esModule",{value:!0});_N.evaluate=_N.SqProject=void 0;const ugn=_k,lgn=eOe(),cgn=fse(),O1e=Gse(di),sqe=_G,wb=Gse(Wlt),RM=Gse(oft),fgn=i7,dgn=__,hgn=Gse(NG),ggn=tc,pgn=$3,uqe=lL,vgn=Qd;class qse{constructor(t){this.items=new Map,this.stdLib=hgn.stdLib,this.environment=fgn.defaultEnv,this.previousRunOrder=[],this.resolver=t==null?void 0:t.resolver}static create(t){return new qse(t)}setEnvironment(t){this.environment=t}getEnvironment(){return this.environment}getStdLib(){return this.stdLib}setStdLib(t){this.stdLib=t}getSourceIds(){return Array.from(this.items.keys())}getItem(t){var n;return(n=this.items.get(t))!==null&&n!==void 0?n:wb.emptyItem(t)}setItem(t,n){this.items.set(t,n)}touchSource_(t){const n=this.getItem(t),r=wb.touchSource(n);this.setItem(t,r)}touchDependents(t){RM.getDependents(this,t).forEach(n=>this.touchSource_(n))}getImmediateDependencies(t){return wb.getImmediateDependencies(this.getItem(t))}getRunOrder(){return RM.getRunOrder(this)}getRunOrderFor(t){return RM.getRunOrderFor(this,t)}getDependents(t){return RM.getDependents(this,t)}getDependencies(t){return RM.getDependencies(this,t)}handleNewTopology(){const t=this.previousRunOrder,n=this.getRunOrder();RM.runOrderDiff(n,t).forEach(i=>this.touchSource(i)),this.previousRunOrder=n}touchSource(t){this.touchSource_(t),this.touchDependents(t)}setSource(t,n){const r=wb.setSource(this.getItem(t),n);this.setItem(t,r),this.touchDependents(t)}removeSource(t){this.items.delete(t)}getSource(t){var n;return(n=this.items.get(t))===null||n===void 0?void 0:n.source}clean(t){const n=wb.clean(this.getItem(t));this.setItem(t,n)}cleanAll(){this.getSourceIds().forEach(t=>this.clean(t))}cleanResults(t){const n=wb.cleanResults(this.getItem(t));this.setItem(t,n)}cleanAllResults(){this.getSourceIds().forEach(t=>this.cleanResults(t))}getIncludes(t){return this.getItem(t).includes}getPastChain(t){return wb.getPastChain(this.getItem(t))}getIncludesAsVariables(t){return this.getItem(t).includeAsVariables}getDirectIncludes(t){return this.getItem(t).directIncludes}getContinues(t){return this.getItem(t).continues}setContinues(t,n){const r=wb.setContinues(this.getItem(t),n);this.setItem(t,r),this.handleNewTopology()}getResultOption(t){return this.getItem(t).result}getInternalResult(t){const n=this.getResultOption(t);return n??O1e.Error(new ugn.SqError(dgn.IError.fromMessage(vgn.ErrorMessage.needToRun())))}getResult(t){return O1e.fmap(this.getInternalResult(t),n=>(0,cgn.wrapValue)(n,new sqe.SqValueLocation(this,t,{root:"result",items:[]})))}setResult(t,n){const r=wb.setResult(this.getItem(t),n);this.setItem(t,r)}parseIncludes(t){if(!this.resolver)throw new Error("Includes are not supported when resolver is unset");const n=wb.parseIncludes(this.getItem(t),this.resolver);this.setItem(t,n),this.handleNewTopology()}rawParse(t){const n=wb.rawParse(this.getItem(t));this.setItem(t,n)}getRawBindings(t){return this.getItem(t).bindings}getBindings(t){return new lgn.SqRecord(this.getRawBindings(t),new sqe.SqValueLocation(this,t,{root:"bindings",items:[]}))}linkDependencies(t){const n=this.getPastChain(t),r=(0,uqe.NamespaceMap)().merge(this.getStdLib(),...n.map(a=>this.getRawBindings(a)),...n.map(a=>{const s=this.getInternalResult(a);if(!s.ok)throw s.value;return(0,uqe.NamespaceMap)([["__result__",s.value]])}));return this.getIncludesAsVariables(t).reduce((a,[s,u])=>a.set(s,(0,ggn.vRecord)(this.getRawBindings(u))),r)}doLinkAndRun(t){const n=(0,pgn.createContext)(this.linkDependencies(t),this.getEnvironment()),r=wb.run(this.getItem(t),n);this.setItem(t,r)}runFromRunOrder(t){let n;for(const r of t){const i=this.getResultOption(r);if(i){i.ok||(n=i.value);continue}if(n){this.setResult(r,O1e.Error(n));continue}this.doLinkAndRun(r);const a=this.getResultOption(r);a&&!a.ok&&(n=a.value)}}runAll(){this.runFromRunOrder(this.getRunOrder())}run(t){this.runFromRunOrder(RM.getRunOrderFor(this,t))}}_N.SqProject=qse;const mgn=e=>{let t=qse.create();return t.setSource("main",e),t.runAll(),[t.getResult("main"),t.getBindings("main")]};_N.evaluate=mgn;var TN={},ygn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),bgn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wgn=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&ygn(t,e,n);return bgn(t,e),t};Object.defineProperty(TN,"__esModule",{value:!0});TN.parse=TN.SqParseError=void 0;const _gn=xG,xgn=wgn(di);class sft{constructor(t){this._value=t}getMessage(){return this._value.message}getLocation(){return this._value.location}}TN.SqParseError=sft;function Sgn(e){const t=(0,_gn.parse)(e,"main");return xgn.fmap2(t,n=>n,n=>new sft(n))}TN.parse=Sgn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.run=e.SqProject=e.defaultEnvironment=e.parse=e.SqParseError=e.SqPlot=e.SqFrame=e.SqError=e.SqLambda=e.SqRecord=e.SqDistributionError=e.SqDistributionTag=e.resultMap=e.SqValueLocation=void 0;const t=_N;Object.defineProperty(e,"SqProject",{enumerable:!0,get:function(){return t.SqProject}});var n=_G;Object.defineProperty(e,"SqValueLocation",{enumerable:!0,get:function(){return n.SqValueLocation}});var r=di;Object.defineProperty(e,"resultMap",{enumerable:!0,get:function(){return r.fmap}});var i=lse();Object.defineProperty(e,"SqDistributionTag",{enumerable:!0,get:function(){return i.SqDistributionTag}});var a=yG;Object.defineProperty(e,"SqDistributionError",{enumerable:!0,get:function(){return a.SqDistributionError}});var s=eOe();Object.defineProperty(e,"SqRecord",{enumerable:!0,get:function(){return s.SqRecord}});var u=wG;Object.defineProperty(e,"SqLambda",{enumerable:!0,get:function(){return u.SqLambda}});var f=_k;Object.defineProperty(e,"SqError",{enumerable:!0,get:function(){return f.SqError}}),Object.defineProperty(e,"SqFrame",{enumerable:!0,get:function(){return f.SqFrame}});var d=Vlt();Object.defineProperty(e,"SqPlot",{enumerable:!0,get:function(){return d.SqPlot}});var c=TN;Object.defineProperty(e,"SqParseError",{enumerable:!0,get:function(){return c.SqParseError}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return c.parse}});var h=i7;Object.defineProperty(e,"defaultEnvironment",{enumerable:!0,get:function(){return h.defaultEnv}});const p=(v,m)=>{const y=t.SqProject.create();y.setSource("main",v),m!=null&&m.environment&&y.setEnvironment(m.environment),y.run("main");const w=y.getResult("main"),_=y.getBindings("main");return{result:w,bindings:_}};e.run=p})(aT);var Yse={},a7={},Kse={};Kse.__esModule=!0;Kse.jsImportsToSquiggleCode=void 0;var lqe=function(e){return'"'.concat(e.replace(new RegExp('"',"g"),'\\"'),'"')},G_e=function(e){return typeof e=="number"?String(e):typeof e=="string"?lqe(e):e instanceof Array?"["+e.map(function(t){return G_e(t)})+"]":Object.keys(e).length?"{"+Object.entries(e).map(function(t){var n=t[0],r=t[1];return"".concat(lqe(n),":").concat(G_e(r),",")}).join("")+"}":"0"},Egn=function(e){var t=new RegExp("[a-zA-Z][[a-zA-Z0-9]*"),n=Object.entries(e).map(function(r){var i=r[0],a=r[1];return i.match(t)?"$".concat(i," = ").concat(G_e(a),`
`):""}).join("");return n||(n="$__no_valid_imports__ = 1"),n};Kse.jsImportsToSquiggleCode=Egn;var uft={},Xse={},Zse={};Object.defineProperty(Zse,"__esModule",{value:!0});Zse.default=$gn;let qJ;const Cgn=new Uint8Array(16);function $gn(){if(!qJ&&(qJ=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qJ))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qJ(Cgn)}var dT={},hL={},Qse={};Object.defineProperty(Qse,"__esModule",{value:!0});Qse.default=void 0;var kgn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Qse.default=kgn;Object.defineProperty(hL,"__esModule",{value:!0});hL.default=void 0;var Ogn=Agn(Qse);function Agn(e){return e&&e.__esModule?e:{default:e}}function Rgn(e){return typeof e=="string"&&Ogn.default.test(e)}var Tgn=Rgn;hL.default=Tgn;Object.defineProperty(dT,"__esModule",{value:!0});dT.default=void 0;dT.unsafeStringify=lft;var Mgn=Pgn(hL);function Pgn(e){return e&&e.__esModule?e:{default:e}}const kg=[];for(let e=0;e<256;++e)kg.push((e+256).toString(16).slice(1));function lft(e,t=0){return(kg[e[t+0]]+kg[e[t+1]]+kg[e[t+2]]+kg[e[t+3]]+"-"+kg[e[t+4]]+kg[e[t+5]]+"-"+kg[e[t+6]]+kg[e[t+7]]+"-"+kg[e[t+8]]+kg[e[t+9]]+"-"+kg[e[t+10]]+kg[e[t+11]]+kg[e[t+12]]+kg[e[t+13]]+kg[e[t+14]]+kg[e[t+15]]).toLowerCase()}function Lgn(e,t=0){const n=lft(e,t);if(!(0,Mgn.default)(n))throw TypeError("Stringified UUID is invalid");return n}var Dgn=Lgn;dT.default=Dgn;Object.defineProperty(Xse,"__esModule",{value:!0});Xse.default=void 0;var Ign=Ngn(Zse),Fgn=dT;function Ngn(e){return e&&e.__esModule?e:{default:e}}let cqe,A1e,R1e=0,T1e=0;function zgn(e,t,n){let r=t&&n||0;const i=t||new Array(16);e=e||{};let a=e.node||cqe,s=e.clockseq!==void 0?e.clockseq:A1e;if(a==null||s==null){const p=e.random||(e.rng||Ign.default)();a==null&&(a=cqe=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=A1e=(p[6]<<8|p[7])&16383)}let u=e.msecs!==void 0?e.msecs:Date.now(),f=e.nsecs!==void 0?e.nsecs:T1e+1;const d=u-R1e+(f-T1e)/1e4;if(d<0&&e.clockseq===void 0&&(s=s+1&16383),(d<0||u>R1e)&&e.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");R1e=u,T1e=f,A1e=s,u+=122192928e5;const c=((u&268435455)*1e4+f)%4294967296;i[r++]=c>>>24&255,i[r++]=c>>>16&255,i[r++]=c>>>8&255,i[r++]=c&255;const h=u/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=h&255,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=s>>>8|128,i[r++]=s&255;for(let p=0;p<6;++p)i[r+p]=a[p];return t||(0,Fgn.unsafeStringify)(i)}var jgn=zgn;Xse.default=jgn;var Jse={},A3={},zG={};Object.defineProperty(zG,"__esModule",{value:!0});zG.default=void 0;var Bgn=Hgn(hL);function Hgn(e){return e&&e.__esModule?e:{default:e}}function Ugn(e){if(!(0,Bgn.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}var Vgn=Ugn;zG.default=Vgn;Object.defineProperty(A3,"__esModule",{value:!0});A3.URL=A3.DNS=void 0;A3.default=Kgn;var Wgn=dT,Ggn=qgn(zG);function qgn(e){return e&&e.__esModule?e:{default:e}}function Ygn(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}const cft="6ba7b810-9dad-11d1-80b4-00c04fd430c8";A3.DNS=cft;const fft="6ba7b811-9dad-11d1-80b4-00c04fd430c8";A3.URL=fft;function Kgn(e,t,n){function r(i,a,s,u){var f;if(typeof i=="string"&&(i=Ygn(i)),typeof a=="string"&&(a=(0,Ggn.default)(a)),((f=a)===null||f===void 0?void 0:f.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+i.length);if(d.set(a),d.set(i,a.length),d=n(d),d[6]=d[6]&15|t,d[8]=d[8]&63|128,s){u=u||0;for(let c=0;c<16;++c)s[u+c]=d[c];return s}return(0,Wgn.unsafeStringify)(d)}try{r.name=e}catch{}return r.DNS=cft,r.URL=fft,r}var eue={};Object.defineProperty(eue,"__esModule",{value:!0});eue.default=void 0;function Xgn(e){if(typeof e=="string"){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return Zgn(Qgn(Jgn(e),e.length*8))}function Zgn(e){const t=[],n=e.length*32,r="0123456789abcdef";for(let i=0;i<n;i+=8){const a=e[i>>5]>>>i%32&255,s=parseInt(r.charAt(a>>>4&15)+r.charAt(a&15),16);t.push(s)}return t}function dft(e){return(e+64>>>9<<4)+14+1}function Qgn(e,t){e[t>>5]|=128<<t%32,e[dft(t)-1]=t;let n=1732584193,r=-271733879,i=-1732584194,a=271733878;for(let s=0;s<e.length;s+=16){const u=n,f=r,d=i,c=a;n=wp(n,r,i,a,e[s],7,-680876936),a=wp(a,n,r,i,e[s+1],12,-389564586),i=wp(i,a,n,r,e[s+2],17,606105819),r=wp(r,i,a,n,e[s+3],22,-1044525330),n=wp(n,r,i,a,e[s+4],7,-176418897),a=wp(a,n,r,i,e[s+5],12,1200080426),i=wp(i,a,n,r,e[s+6],17,-1473231341),r=wp(r,i,a,n,e[s+7],22,-45705983),n=wp(n,r,i,a,e[s+8],7,1770035416),a=wp(a,n,r,i,e[s+9],12,-1958414417),i=wp(i,a,n,r,e[s+10],17,-42063),r=wp(r,i,a,n,e[s+11],22,-1990404162),n=wp(n,r,i,a,e[s+12],7,1804603682),a=wp(a,n,r,i,e[s+13],12,-40341101),i=wp(i,a,n,r,e[s+14],17,-1502002290),r=wp(r,i,a,n,e[s+15],22,1236535329),n=_p(n,r,i,a,e[s+1],5,-165796510),a=_p(a,n,r,i,e[s+6],9,-1069501632),i=_p(i,a,n,r,e[s+11],14,643717713),r=_p(r,i,a,n,e[s],20,-373897302),n=_p(n,r,i,a,e[s+5],5,-701558691),a=_p(a,n,r,i,e[s+10],9,38016083),i=_p(i,a,n,r,e[s+15],14,-660478335),r=_p(r,i,a,n,e[s+4],20,-405537848),n=_p(n,r,i,a,e[s+9],5,568446438),a=_p(a,n,r,i,e[s+14],9,-1019803690),i=_p(i,a,n,r,e[s+3],14,-187363961),r=_p(r,i,a,n,e[s+8],20,1163531501),n=_p(n,r,i,a,e[s+13],5,-1444681467),a=_p(a,n,r,i,e[s+2],9,-51403784),i=_p(i,a,n,r,e[s+7],14,1735328473),r=_p(r,i,a,n,e[s+12],20,-1926607734),n=xp(n,r,i,a,e[s+5],4,-378558),a=xp(a,n,r,i,e[s+8],11,-2022574463),i=xp(i,a,n,r,e[s+11],16,1839030562),r=xp(r,i,a,n,e[s+14],23,-35309556),n=xp(n,r,i,a,e[s+1],4,-1530992060),a=xp(a,n,r,i,e[s+4],11,1272893353),i=xp(i,a,n,r,e[s+7],16,-155497632),r=xp(r,i,a,n,e[s+10],23,-1094730640),n=xp(n,r,i,a,e[s+13],4,681279174),a=xp(a,n,r,i,e[s],11,-358537222),i=xp(i,a,n,r,e[s+3],16,-722521979),r=xp(r,i,a,n,e[s+6],23,76029189),n=xp(n,r,i,a,e[s+9],4,-640364487),a=xp(a,n,r,i,e[s+12],11,-421815835),i=xp(i,a,n,r,e[s+15],16,530742520),r=xp(r,i,a,n,e[s+2],23,-995338651),n=Sp(n,r,i,a,e[s],6,-198630844),a=Sp(a,n,r,i,e[s+7],10,1126891415),i=Sp(i,a,n,r,e[s+14],15,-1416354905),r=Sp(r,i,a,n,e[s+5],21,-57434055),n=Sp(n,r,i,a,e[s+12],6,1700485571),a=Sp(a,n,r,i,e[s+3],10,-1894986606),i=Sp(i,a,n,r,e[s+10],15,-1051523),r=Sp(r,i,a,n,e[s+1],21,-2054922799),n=Sp(n,r,i,a,e[s+8],6,1873313359),a=Sp(a,n,r,i,e[s+15],10,-30611744),i=Sp(i,a,n,r,e[s+6],15,-1560198380),r=Sp(r,i,a,n,e[s+13],21,1309151649),n=Sp(n,r,i,a,e[s+4],6,-145523070),a=Sp(a,n,r,i,e[s+11],10,-1120210379),i=Sp(i,a,n,r,e[s+2],15,718787259),r=Sp(r,i,a,n,e[s+9],21,-343485551),n=CR(n,u),r=CR(r,f),i=CR(i,d),a=CR(a,c)}return[n,r,i,a]}function Jgn(e){if(e.length===0)return[];const t=e.length*8,n=new Uint32Array(dft(t));for(let r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function CR(e,t){const n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}function epn(e,t){return e<<t|e>>>32-t}function tue(e,t,n,r,i,a){return CR(epn(CR(CR(t,e),CR(r,a)),i),n)}function wp(e,t,n,r,i,a,s){return tue(t&n|~t&r,e,t,i,a,s)}function _p(e,t,n,r,i,a,s){return tue(t&r|n&~r,e,t,i,a,s)}function xp(e,t,n,r,i,a,s){return tue(t^n^r,e,t,i,a,s)}function Sp(e,t,n,r,i,a,s){return tue(n^(t|~r),e,t,i,a,s)}var tpn=Xgn;eue.default=tpn;Object.defineProperty(Jse,"__esModule",{value:!0});Jse.default=void 0;var npn=hft(A3),rpn=hft(eue);function hft(e){return e&&e.__esModule?e:{default:e}}const ipn=(0,npn.default)("v3",48,rpn.default);var apn=ipn;Jse.default=apn;var nue={},rue={};Object.defineProperty(rue,"__esModule",{value:!0});rue.default=void 0;const opn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var spn={randomUUID:opn};rue.default=spn;Object.defineProperty(nue,"__esModule",{value:!0});nue.default=void 0;var fqe=gft(rue),upn=gft(Zse),lpn=dT;function gft(e){return e&&e.__esModule?e:{default:e}}function cpn(e,t,n){if(fqe.default.randomUUID&&!t&&!e)return fqe.default.randomUUID();e=e||{};const r=e.random||(e.rng||upn.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return(0,lpn.unsafeStringify)(r)}var fpn=cpn;nue.default=fpn;var iue={},aue={};Object.defineProperty(aue,"__esModule",{value:!0});aue.default=void 0;function dpn(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function M1e(e,t){return e<<t|e>>>32-t}function hpn(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){const s=unescape(encodeURIComponent(e));e=[];for(let u=0;u<s.length;++u)e.push(s.charCodeAt(u))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,i=Math.ceil(r/16),a=new Array(i);for(let s=0;s<i;++s){const u=new Uint32Array(16);for(let f=0;f<16;++f)u[f]=e[s*64+f*4]<<24|e[s*64+f*4+1]<<16|e[s*64+f*4+2]<<8|e[s*64+f*4+3];a[s]=u}a[i-1][14]=(e.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(e.length-1)*8&4294967295;for(let s=0;s<i;++s){const u=new Uint32Array(80);for(let v=0;v<16;++v)u[v]=a[s][v];for(let v=16;v<80;++v)u[v]=M1e(u[v-3]^u[v-8]^u[v-14]^u[v-16],1);let f=n[0],d=n[1],c=n[2],h=n[3],p=n[4];for(let v=0;v<80;++v){const m=Math.floor(v/20),y=M1e(f,5)+dpn(m,d,c,h)+p+t[m]+u[v]>>>0;p=h,h=c,c=M1e(d,30)>>>0,d=f,f=y}n[0]=n[0]+f>>>0,n[1]=n[1]+d>>>0,n[2]=n[2]+c>>>0,n[3]=n[3]+h>>>0,n[4]=n[4]+p>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var gpn=hpn;aue.default=gpn;Object.defineProperty(iue,"__esModule",{value:!0});iue.default=void 0;var ppn=pft(A3),vpn=pft(aue);function pft(e){return e&&e.__esModule?e:{default:e}}const mpn=(0,ppn.default)("v5",80,vpn.default);var ypn=mpn;iue.default=ypn;var oue={};Object.defineProperty(oue,"__esModule",{value:!0});oue.default=void 0;var bpn="00000000-0000-0000-0000-000000000000";oue.default=bpn;var sue={};Object.defineProperty(sue,"__esModule",{value:!0});sue.default=void 0;var wpn=_pn(hL);function _pn(e){return e&&e.__esModule?e:{default:e}}function xpn(e){if(!(0,wpn.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var Spn=xpn;sue.default=Spn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return s.default}});var t=c(Xse),n=c(Jse),r=c(nue),i=c(iue),a=c(oue),s=c(sue),u=c(hL),f=c(dT),d=c(zG);function c(h){return h&&h.__esModule?h:{default:h}}})(uft);var Epn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Cpn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$pn=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Epn(t,e,n);return Cpn(t,e),t};a7.__esModule=!0;a7.useSquiggle=void 0;var kpn=aT,mB=z,Opn=Kse,Apn=$pn(uft),YJ=function(e){return"imports-"+e},Rpn=[],Tpn=function(e){var t,n=(0,mB.useMemo)(function(){return Apn.v4()},[]),r="project"in e?e.project:void 0,i="environment"in e?e.environment:void 0,a="continues"in e?(t=e.continues)!==null&&t!==void 0?t:[]:Rpn,s=(0,mB.useMemo)(function(){if(r)return r;var d=kpn.SqProject.create();return i&&d.setEnvironment(i),d},[r,i]),u=(0,mB.useMemo)(function(){s.setSource(n,e.code);var d=a;if(e.jsImports&&Object.keys(e.jsImports).length){var c=(0,Opn.jsImportsToSquiggleCode)(e.jsImports);s.setSource(YJ(n),c),d=a.concat(YJ(n))}s.setContinues(n,d),s.run(n);var h=s.getResult(n),p=s.getBindings(n);return{result:h,bindings:p}},[e.code,e.jsImports,e.executionId,n,a,s]),f=e.onChange;return(0,mB.useEffect)(function(){f==null||f(u.result.ok?u.result.value:void 0,n)},[u,f,n]),(0,mB.useEffect)(function(){return function(){s.removeSource(n),s.getSource(YJ(n))&&s.removeSource(YJ(n))}},[s,n]),u};a7.useSquiggle=Tpn;var yB={},P1e={},R3={},Mpn=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ppn=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Lpn=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Mpn(t,e,n);return Ppn(t,e),t};R3.__esModule=!0;R3.NumberShower=R3.numberShow=void 0;var L1e=Lpn(z),Dpn=function(e){return Math.pow(10,e)},Ipn=function(e){return Math.floor(Math.log(e)/Math.LN10+1e-9)};function Fpn(e,t){var n=e.toPrecision(t),r=Number(n);return"".concat(r)}var Npn=function(){function e(t,n){n===void 0&&(n=2),this.number=t,this.precision=n}return e.prototype.convert=function(){var t=Math.abs(this.number),n=this.evaluate(t);return this.number<0&&(n.value="-"+n.value),n},e.prototype.metricSystem=function(t,n){var r=t/Dpn(n),i=this.precision;return"".concat(Fpn(r,i))},e.prototype.evaluate=function(t){if(t===0)return{value:this.metricSystem(0,0)};var n=Ipn(t);return n<-2?{value:this.metricSystem(t,n),power:n}:n<4?{value:this.metricSystem(t,0)}:n<6?{value:this.metricSystem(t,3),symbol:"K"}:n<9?{value:this.metricSystem(t,6),symbol:"M"}:n<12?{value:this.metricSystem(t,9),symbol:"B"}:n<15?{value:this.metricSystem(t,12),symbol:"T"}:{value:this.metricSystem(t,n),power:n}},e}();function vft(e,t){t===void 0&&(t=2);var n=new Npn(e,t);return n.convert()}R3.numberShow=vft;var zpn=function(e){var t=e.number,n=e.precision,r=n===void 0?2:n,i=vft(t,r);return L1e.createElement("span",null,i.value,i.symbol,i.power?L1e.createElement("span",null,"","10",L1e.createElement("span",{style:{fontSize:"0.6em",verticalAlign:"super"}},i.power)):null)};R3.NumberShower=zpn;var jG={},JS={},q_e;try{q_e=Map}catch{}var Y_e;try{Y_e=Set}catch{}function mft(e,t,n){if(!e||typeof e!="object"||typeof e=="function")return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(K_e);if(q_e&&e instanceof q_e)return new Map(Array.from(e.entries()));if(Y_e&&e instanceof Y_e)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);n.push(r);for(var i in e){var a=t.findIndex(function(s){return s===e[i]});r[i]=a>-1?n[a]:mft(e[i],t,n)}return r}return e}function K_e(e){return mft(e,[],[])}const jpn=Object.prototype.toString,Bpn=Error.prototype.toString,Hpn=RegExp.prototype.toString,Upn=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Vpn=/^Symbol\((.*)\)(.*)$/;function Wpn(e){return e!=+e?"NaN":e===0&&1/e<0?"-0":""+e}function dqe(e,t=!1){if(e==null||e===!0||e===!1)return""+e;const n=typeof e;if(n==="number")return Wpn(e);if(n==="string")return t?`"${e}"`:e;if(n==="function")return"[Function "+(e.name||"anonymous")+"]";if(n==="symbol")return Upn.call(e).replace(Vpn,"Symbol($1)");const r=jpn.call(e).slice(8,-1);return r==="Date"?isNaN(e.getTime())?""+e:e.toISOString(e):r==="Error"||e instanceof Error?"["+Bpn.call(e)+"]":r==="RegExp"?Hpn.call(e):null}function MN(e,t){let n=dqe(e,t);return n!==null?n:JSON.stringify(e,function(r,i){let a=dqe(this[r],t);return a!==null?a:i},2)}let JM={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{let i=r!=null&&r!==n,a=`${e} must be a \`${t}\` type, but the final value was: \`${MN(n,!0)}\``+(i?` (cast from the value \`${MN(r,!0)}\`).`:".");return n===null&&(a+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),a},defined:"${path} must be defined"},P2={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},qA={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},X_e={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Z_e={isValue:"${path} field must be ${value}"},Q_e={noUnknown:"${path} field has unspecified keys: ${unknown}"},Mte={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};const Gpn=Object.assign(Object.create(null),{mixed:JM,string:P2,number:qA,date:X_e,object:Q_e,array:Mte,boolean:Z_e});var qpn=Object.prototype,Ypn=qpn.hasOwnProperty;function Kpn(e,t){return e!=null&&Ypn.call(e,t)}var Xpn=Kpn,Zpn=Xpn,Qpn=Olt;function Jpn(e,t){return e!=null&&Qpn(e,t,Zpn)}var Fre=Jpn;const o7=e=>e&&e.__isYupSchema__;class e0n{constructor(t,n){if(this.fn=void 0,this.refs=t,this.refs=t,typeof n=="function"){this.fn=n;return}if(!Fre(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:a}=n,s=typeof r=="function"?r:(...u)=>u.every(f=>f===r);this.fn=function(...u){let f=u.pop(),d=u.pop(),c=s(...u)?i:a;if(c)return typeof c=="function"?c(d):d.concat(c.resolve(f))}}resolve(t,n){let r=this.refs.map(a=>a.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn.apply(t,r.concat(t,n));if(i===void 0||i===t)return t;if(!o7(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}function yft(e){return e==null?[]:[].concat(e)}function J_e(){return J_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J_e.apply(this,arguments)}let t0n=/\$\{\s*(\w+)\s*\}/g;class ov extends Error{static formatError(t,n){const r=n.label||n.path||"this";return r!==n.path&&(n=J_e({},n,{path:r})),typeof t=="string"?t.replace(t0n,(i,a)=>MN(n[a])):typeof t=="function"?t(n):t}static isError(t){return t&&t.name==="ValidationError"}constructor(t,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],yft(t).forEach(a=>{ov.isError(a)?(this.errors.push(...a.errors),this.inner=this.inner.concat(a.inner.length?a.inner:a)):this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,ov)}}const n0n=e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}};function Nre(e,t){let{endEarly:n,tests:r,args:i,value:a,errors:s,sort:u,path:f}=e,d=n0n(t),c=r.length;const h=[];if(s=s||[],!c)return s.length?d(new ov(s,a,f)):d(null,a);for(let p=0;p<r.length;p++){const v=r[p];v(i,function(y){if(y){if(!ov.isError(y))return d(y,a);if(n)return y.value=a,d(y,a);h.push(y)}if(--c<=0){if(h.length&&(u&&h.sort(u),s.length&&h.push(...s),s=h),s.length){d(new ov(s,a,f),a);return}d(null,a)}})}}var r0n=Z$e,i0n=Uke,a0n=Qoe;function o0n(e,t){var n={};return t=a0n(t),i0n(e,function(r,i,a){r0n(n,i,t(r,i,a))}),n}var bft=o0n;function gL(e){this._maxSize=e,this.clear()}gL.prototype.clear=function(){this._size=0,this._values=Object.create(null)};gL.prototype.get=function(e){return this._values[e]};gL.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var s0n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,wft=/^\d+$/,u0n=/^\d/,l0n=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,c0n=/^\s*(['"]?)(.*?)(\1)\s*$/,HOe=512,hqe=new gL(HOe),gqe=new gL(HOe),pqe=new gL(HOe),uue={Cache:gL,split:exe,normalizePath:D1e,setter:function(e){var t=D1e(e);return gqe.get(e)||gqe.set(e,function(r,i){for(var a=0,s=t.length,u=r;a<s-1;){var f=t[a];if(f==="__proto__"||f==="constructor"||f==="prototype")return r;u=u[t[a++]]}u[t[a]]=i})},getter:function(e,t){var n=D1e(e);return pqe.get(e)||pqe.set(e,function(i){for(var a=0,s=n.length;a<s;)if(i!=null||!t)i=i[n[a++]];else return;return i})},join:function(e){return e.reduce(function(t,n){return t+(UOe(n)||wft.test(n)?"["+n+"]":(t?".":"")+n)},"")},forEach:function(e,t,n){f0n(Array.isArray(e)?e:exe(e),t,n)}};function D1e(e){return hqe.get(e)||hqe.set(e,exe(e).map(function(t){return t.replace(c0n,"$2")}))}function exe(e){return e.match(s0n)||[""]}function f0n(e,t,n){var r=e.length,i,a,s,u;for(a=0;a<r;a++)i=e[a],i&&(g0n(i)&&(i='"'+i+'"'),u=UOe(i),s=!u&&/^\d+$/.test(i),t.call(n,i,u,s,a,e))}function UOe(e){return typeof e=="string"&&e&&["'",'"'].indexOf(e.charAt(0))!==-1}function d0n(e){return e.match(u0n)&&!e.match(wft)}function h0n(e){return l0n.test(e)}function g0n(e){return!UOe(e)&&(d0n(e)||h0n(e))}const KJ={context:"$",value:"."};function p0n(e,t){return new nk(e,t)}class nk{constructor(t,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof t!="string")throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),t==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===KJ.context,this.isValue=this.key[0]===KJ.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?KJ.context:this.isValue?KJ.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&uue.getter(this.path,!0),this.map=n.map}getValue(t,n,r){let i=this.isContext?r:this.isValue?t:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(t,n){return this.getValue(t,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(t){return t&&t.__isYupRef}}nk.prototype.__isYupRef=!0;function zre(){return zre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zre.apply(this,arguments)}function v0n(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function XJ(e){function t(n,r){let{value:i,path:a="",label:s,options:u,originalValue:f,sync:d}=n,c=v0n(n,["value","path","label","options","originalValue","sync"]);const{name:h,test:p,params:v,message:m}=e;let{parent:y,context:w}=u;function _(M){return nk.isRef(M)?M.getValue(i,y,w):M}function S(M={}){const A=bft(zre({value:i,originalValue:f,label:s,path:M.path||a},v,M.params),_),L=new ov(ov.formatError(M.message||m,A),i,A.path,M.type||h);return L.params=A,L}let C=zre({path:a,parent:y,type:h,createError:S,resolve:_,options:u,originalValue:f},c);if(!d){try{Promise.resolve(p.call(C,i,C)).then(M=>{ov.isError(M)?r(M):M?r(null,M):r(S())}).catch(r)}catch(M){r(M)}return}let $;try{var k;if($=p.call(C,i,C),typeof((k=$)==null?void 0:k.then)=="function")throw new Error(`Validation test of type: "${C.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(M){r(M);return}ov.isError($)?r($):$?r(null,$):r(S())}return t.OPTIONS=e,t}let m0n=e=>e.substr(0,e.length-1).substr(1);function _ft(e,t,n,r=n){let i,a,s;return t?(uue.forEach(t,(u,f,d)=>{let c=f?m0n(u):u;if(e=e.resolve({context:r,parent:i,value:n}),e.innerType){let h=d?parseInt(c,10):0;if(n&&h>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${u}, in the path: ${t}. because there is no value at that index. `);i=n,n=n&&n[h],e=e.innerType}if(!d){if(!e.fields||!e.fields[c])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e._type}")`);i=n,n=n&&n[c],e=e.fields[c]}a=c,s=f?"["+u+"]":"."+u}),{schema:e,parent:i,parentPath:a}):{parent:i,parentPath:t,schema:e}}const y0n=(e,t,n,r)=>_ft(e,t,n,r).schema;class jre{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const t=[];for(const n of this.list)t.push(n);for(const[,n]of this.refs)t.push(n.describe());return t}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(t){return this.toArray().reduce((n,r)=>n.concat(nk.isRef(r)?t(r):r),[])}add(t){nk.isRef(t)?this.refs.set(t.key,t):this.list.add(t)}delete(t){nk.isRef(t)?this.refs.delete(t.key):this.list.delete(t)}clone(){const t=new jre;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}merge(t,n){const r=this.clone();return t.list.forEach(i=>r.add(i)),t.refs.forEach(i=>r.add(i)),n.list.forEach(i=>r.delete(i)),n.refs.forEach(i=>r.delete(i)),r}}function Sb(){return Sb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sb.apply(this,arguments)}class zh{constructor(t){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new jre,this._blacklist=new jre,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(JM.notType)}),this.type=(t==null?void 0:t.type)||"mixed",this.spec=Sb({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},t==null?void 0:t.spec)}get _type(){return this.type}_typeCheck(t){return!0}clone(t){if(this._mutate)return t&&Object.assign(this.spec,t),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeError=this._typeError,n._whitelistError=this._whitelistError,n._blacklistError=this._blacklistError,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.exclusiveTests=Sb({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=K_e(Sb({},this.spec,t)),n}label(t){let n=this.clone();return n.spec.label=t,n}meta(...t){if(t.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},t[0]),n}withMutation(t){let n=this._mutate;this._mutate=!0;let r=t(this);return this._mutate=n,r}concat(t){if(!t||t===this)return this;if(t.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${t.type}`);let n=this,r=t.clone();const i=Sb({},n.spec,r.spec);return r.spec=i,r._typeError||(r._typeError=n._typeError),r._whitelistError||(r._whitelistError=n._whitelistError),r._blacklistError||(r._blacklistError=n._blacklistError),r._whitelist=n._whitelist.merge(t._whitelist,t._blacklist),r._blacklist=n._blacklist.merge(t._blacklist,t._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(a=>{t.tests.forEach(s=>{a.test(s.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(t){return this.spec.nullable&&t===null?!0:this._typeCheck(t)}resolve(t){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,a)=>a.resolve(i,t),n),n=n.resolve(t)}return n}cast(t,n={}){let r=this.resolve(Sb({value:t},n)),i=r._cast(t,n);if(t!==void 0&&n.assert!==!1&&r.isType(i)!==!0){let a=MN(t),s=MN(i);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". 

attempted value: ${a} 
`+(s!==a?`result of cast: ${s}`:""))}return i}_cast(t,n){let r=t===void 0?t:this.transforms.reduce((i,a)=>a.call(this,i,t,this),t);return r===void 0&&(r=this.getDefault()),r}_validate(t,n={},r){let{sync:i,path:a,from:s=[],originalValue:u=t,strict:f=this.spec.strict,abortEarly:d=this.spec.abortEarly}=n,c=t;f||(c=this._cast(c,Sb({assert:!1},n)));let h={value:c,path:a,options:n,originalValue:u,schema:this,label:this.spec.label,sync:i,from:s},p=[];this._typeError&&p.push(this._typeError);let v=[];this._whitelistError&&v.push(this._whitelistError),this._blacklistError&&v.push(this._blacklistError),Nre({args:h,value:c,path:a,sync:i,tests:p,endEarly:d},m=>{if(m)return void r(m,c);Nre({tests:this.tests.concat(v),args:h,path:a,sync:i,value:c,endEarly:d},r)})}validate(t,n,r){let i=this.resolve(Sb({},n,{value:t}));return typeof r=="function"?i._validate(t,n,r):new Promise((a,s)=>i._validate(t,n,(u,f)=>{u?s(u):a(f)}))}validateSync(t,n){let r=this.resolve(Sb({},n,{value:t})),i;return r._validate(t,Sb({},n,{sync:!0}),(a,s)=>{if(a)throw a;i=s}),i}isValid(t,n){return this.validate(t,n).then(()=>!0,r=>{if(ov.isError(r))return!1;throw r})}isValidSync(t,n){try{return this.validateSync(t,n),!0}catch(r){if(ov.isError(r))return!1;throw r}}_getDefault(){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this):K_e(t)}getDefault(t){return this.resolve(t||{})._getDefault()}default(t){return arguments.length===0?this._getDefault():this.clone({default:t})}strict(t=!0){let n=this.clone();return n.spec.strict=t,n}_isPresent(t){return t!=null}defined(t=JM.defined){return this.test({message:t,name:"defined",exclusive:!0,test(n){return n!==void 0}})}required(t=JM.required){return this.clone({presence:"required"}).withMutation(n=>n.test({message:t,name:"required",exclusive:!0,test(r){return this.schema._isPresent(r)}}))}notRequired(){let t=this.clone({presence:"optional"});return t.tests=t.tests.filter(n=>n.OPTIONS.name!=="required"),t}nullable(t=!0){return this.clone({nullable:t!==!1})}transform(t){let n=this.clone();return n.transforms.push(t),n}test(...t){let n;if(t.length===1?typeof t[0]=="function"?n={test:t[0]}:n=t[0]:t.length===2?n={name:t[0],test:t[1]}:n={name:t[0],message:t[1],test:t[2]},n.message===void 0&&(n.message=JM.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=XJ(n),a=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(s=>!(s.OPTIONS.name===n.name&&(a||s.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(t,n){!Array.isArray(t)&&typeof t!="string"&&(n=t,t=".");let r=this.clone(),i=yft(t).map(a=>new nk(a));return i.forEach(a=>{a.isSibling&&r.deps.push(a.key)}),r.conditions.push(new e0n(i,n)),r}typeError(t){let n=this.clone();return n._typeError=XJ({message:t,name:"typeError",test(r){return r!==void 0&&!this.schema.isType(r)?this.createError({params:{type:this.schema._type}}):!0}}),n}oneOf(t,n=JM.oneOf){let r=this.clone();return t.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r._whitelistError=XJ({message:n,name:"oneOf",test(i){if(i===void 0)return!0;let a=this.schema._whitelist,s=a.resolveAll(this.resolve);return s.includes(i)?!0:this.createError({params:{values:a.toArray().join(", "),resolved:s}})}}),r}notOneOf(t,n=JM.notOneOf){let r=this.clone();return t.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r._blacklistError=XJ({message:n,name:"notOneOf",test(i){let a=this.schema._blacklist,s=a.resolveAll(this.resolve);return s.includes(i)?this.createError({params:{values:a.toArray().join(", "),resolved:s}}):!0}}),r}strip(t=!0){let n=this.clone();return n.spec.strip=t,n}describe(){const t=this.clone(),{label:n,meta:r}=t.spec;return{meta:r,label:n,type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(a=>({name:a.OPTIONS.name,params:a.OPTIONS.params})).filter((a,s,u)=>u.findIndex(f=>f.name===a.name)===s)}}}zh.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])zh.prototype[`${e}At`]=function(t,n,r={}){const{parent:i,parentPath:a,schema:s}=_ft(this,t,n,r.context);return s[e](i&&i[a],Sb({},r,{parent:i,path:t}))};for(const e of["equals","is"])zh.prototype[e]=zh.prototype.oneOf;for(const e of["not","nope"])zh.prototype[e]=zh.prototype.notOneOf;zh.prototype.optional=zh.prototype.notRequired;const VOe=zh;function xft(){return new VOe}xft.prototype=VOe.prototype;const Pc=e=>e==null;function txe(){return new WOe}class WOe extends zh{constructor(){super({type:"boolean"}),this.withMutation(()=>{this.transform(function(t){if(!this.isType(t)){if(/^(true|1)$/i.test(String(t)))return!0;if(/^(false|0)$/i.test(String(t)))return!1}return t})})}_typeCheck(t){return t instanceof Boolean&&(t=t.valueOf()),typeof t=="boolean"}isTrue(t=Z_e.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"true"},test(n){return Pc(n)||n===!0}})}isFalse(t=Z_e.isValue){return this.test({message:t,name:"is-value",exclusive:!0,params:{value:"false"},test(n){return Pc(n)||n===!1}})}}txe.prototype=WOe.prototype;let b0n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,w0n=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,_0n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,x0n=e=>Pc(e)||e===e.trim(),S0n={}.toString();function Sft(){return new GOe}class GOe extends zh{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(t){if(this.isType(t)||Array.isArray(t))return t;const n=t!=null&&t.toString?t.toString():t;return n===S0n?t:n})})}_typeCheck(t){return t instanceof String&&(t=t.valueOf()),typeof t=="string"}_isPresent(t){return super._isPresent(t)&&!!t.length}length(t,n=P2.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},test(r){return Pc(r)||r.length===this.resolve(t)}})}min(t,n=P2.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return Pc(r)||r.length>=this.resolve(t)}})}max(t,n=P2.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:t},test(r){return Pc(r)||r.length<=this.resolve(t)}})}matches(t,n){let r=!1,i,a;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:a}=n:i=n),this.test({name:a||"matches",message:i||P2.matches,params:{regex:t},test:s=>Pc(s)||s===""&&r||s.search(t)!==-1})}email(t=P2.email){return this.matches(b0n,{name:"email",message:t,excludeEmptyString:!0})}url(t=P2.url){return this.matches(w0n,{name:"url",message:t,excludeEmptyString:!0})}uuid(t=P2.uuid){return this.matches(_0n,{name:"uuid",message:t,excludeEmptyString:!1})}ensure(){return this.default("").transform(t=>t===null?"":t)}trim(t=P2.trim){return this.transform(n=>n!=null?n.trim():n).test({message:t,name:"trim",test:x0n})}lowercase(t=P2.lowercase){return this.transform(n=>Pc(n)?n:n.toLowerCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>Pc(n)||n===n.toLowerCase()})}uppercase(t=P2.uppercase){return this.transform(n=>Pc(n)?n:n.toUpperCase()).test({message:t,name:"string_case",exclusive:!0,test:n=>Pc(n)||n===n.toUpperCase()})}}Sft.prototype=GOe.prototype;let E0n=e=>e!=+e;function Eft(){return new qOe}class qOe extends zh{constructor(){super({type:"number"}),this.withMutation(()=>{this.transform(function(t){let n=t;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return this.isType(n)?n:parseFloat(n)})})}_typeCheck(t){return t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&!E0n(t)}min(t,n=qA.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return Pc(r)||r>=this.resolve(t)}})}max(t,n=qA.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(r){return Pc(r)||r<=this.resolve(t)}})}lessThan(t,n=qA.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:t},test(r){return Pc(r)||r<this.resolve(t)}})}moreThan(t,n=qA.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:t},test(r){return Pc(r)||r>this.resolve(t)}})}positive(t=qA.positive){return this.moreThan(0,t)}negative(t=qA.negative){return this.lessThan(0,t)}integer(t=qA.integer){return this.test({name:"integer",message:t,test:n=>Pc(n)||Number.isInteger(n)})}truncate(){return this.transform(t=>Pc(t)?t:t|0)}round(t){var n;let r=["ceil","floor","round","trunc"];if(t=((n=t)==null?void 0:n.toLowerCase())||"round",t==="trunc")return this.truncate();if(r.indexOf(t.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>Pc(i)?i:Math[t](i))}}Eft.prototype=qOe.prototype;var C0n=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function $0n(e){var t=[1,4,5,6,7,10,11],n=0,r,i;if(i=C0n.exec(e)){for(var a=0,s;s=t[a];++a)i[s]=+i[s]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(e):NaN;return r}let YOe=new Date(""),k0n=e=>Object.prototype.toString.call(e)==="[object Date]";function KOe(){return new lue}class lue extends zh{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(t){return this.isType(t)?t:(t=$0n(t),isNaN(t)?YOe:new Date(t))})})}_typeCheck(t){return k0n(t)&&!isNaN(t.getTime())}prepareParam(t,n){let r;if(nk.isRef(t))r=t;else{let i=this.cast(t);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(t,n=X_e.min){let r=this.prepareParam(t,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(i){return Pc(i)||i>=this.resolve(r)}})}max(t,n=X_e.max){let r=this.prepareParam(t,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(i){return Pc(i)||i<=this.resolve(r)}})}}lue.INVALID_DATE=YOe;KOe.prototype=lue.prototype;KOe.INVALID_DATE=YOe;function O0n(e,t,n,r){var i=-1,a=e==null?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}var A0n=O0n;function R0n(e){return function(t){return e==null?void 0:e[t]}}var T0n=R0n,M0n=T0n,P0n={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},L0n=M0n(P0n),D0n=L0n,I0n=D0n,F0n=L8,N0n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,z0n="\\u0300-\\u036f",j0n="\\ufe20-\\ufe2f",B0n="\\u20d0-\\u20ff",H0n=z0n+j0n+B0n,U0n="["+H0n+"]",V0n=RegExp(U0n,"g");function W0n(e){return e=F0n(e),e&&e.replace(N0n,I0n).replace(V0n,"")}var G0n=W0n,q0n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Y0n(e){return e.match(q0n)||[]}var K0n=Y0n,X0n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Z0n(e){return X0n.test(e)}var Q0n=Z0n,Cft="\\ud800-\\udfff",J0n="\\u0300-\\u036f",evn="\\ufe20-\\ufe2f",tvn="\\u20d0-\\u20ff",nvn=J0n+evn+tvn,$ft="\\u2700-\\u27bf",kft="a-z\\xdf-\\xf6\\xf8-\\xff",rvn="\\xac\\xb1\\xd7\\xf7",ivn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",avn="\\u2000-\\u206f",ovn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oft="A-Z\\xc0-\\xd6\\xd8-\\xde",svn="\\ufe0e\\ufe0f",Aft=rvn+ivn+avn+ovn,Rft="[']",vqe="["+Aft+"]",uvn="["+nvn+"]",Tft="\\d+",lvn="["+$ft+"]",Mft="["+kft+"]",Pft="[^"+Cft+Aft+Tft+$ft+kft+Oft+"]",cvn="\\ud83c[\\udffb-\\udfff]",fvn="(?:"+uvn+"|"+cvn+")",dvn="[^"+Cft+"]",Lft="(?:\\ud83c[\\udde6-\\uddff]){2}",Dft="[\\ud800-\\udbff][\\udc00-\\udfff]",L6="["+Oft+"]",hvn="\\u200d",mqe="(?:"+Mft+"|"+Pft+")",gvn="(?:"+L6+"|"+Pft+")",yqe="(?:"+Rft+"(?:d|ll|m|re|s|t|ve))?",bqe="(?:"+Rft+"(?:D|LL|M|RE|S|T|VE))?",Ift=fvn+"?",Fft="["+svn+"]?",pvn="(?:"+hvn+"(?:"+[dvn,Lft,Dft].join("|")+")"+Fft+Ift+")*",vvn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mvn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yvn=Fft+Ift+pvn,bvn="(?:"+[lvn,Lft,Dft].join("|")+")"+yvn,wvn=RegExp([L6+"?"+Mft+"+"+yqe+"(?="+[vqe,L6,"$"].join("|")+")",gvn+"+"+bqe+"(?="+[vqe,L6+mqe,"$"].join("|")+")",L6+"?"+mqe+"+"+yqe,L6+"+"+bqe,mvn,vvn,Tft,bvn].join("|"),"g");function _vn(e){return e.match(wvn)||[]}var xvn=_vn,Svn=K0n,Evn=Q0n,Cvn=L8,$vn=xvn;function kvn(e,t,n){return e=Cvn(e),t=n?void 0:t,t===void 0?Evn(e)?$vn(e):Svn(e):e.match(t)||[]}var Ovn=kvn,Avn=A0n,Rvn=G0n,Tvn=Ovn,Mvn="[']",Pvn=RegExp(Mvn,"g");function Lvn(e){return function(t){return Avn(Tvn(Rvn(t).replace(Pvn,"")),e,"")}}var Nft=Lvn,Dvn=Nft,Ivn=Dvn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),wqe=Ivn;function Fvn(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var Nvn=Fvn,zvn=Nvn;function jvn(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:zvn(e,t,n)}var Bvn=jvn,Hvn="\\ud800-\\udfff",Uvn="\\u0300-\\u036f",Vvn="\\ufe20-\\ufe2f",Wvn="\\u20d0-\\u20ff",Gvn=Uvn+Vvn+Wvn,qvn="\\ufe0e\\ufe0f",Yvn="\\u200d",Kvn=RegExp("["+Yvn+Hvn+Gvn+qvn+"]");function Xvn(e){return Kvn.test(e)}var zft=Xvn;function Zvn(e){return e.split("")}var Qvn=Zvn,jft="\\ud800-\\udfff",Jvn="\\u0300-\\u036f",emn="\\ufe20-\\ufe2f",tmn="\\u20d0-\\u20ff",nmn=Jvn+emn+tmn,rmn="\\ufe0e\\ufe0f",imn="["+jft+"]",nxe="["+nmn+"]",rxe="\\ud83c[\\udffb-\\udfff]",amn="(?:"+nxe+"|"+rxe+")",Bft="[^"+jft+"]",Hft="(?:\\ud83c[\\udde6-\\uddff]){2}",Uft="[\\ud800-\\udbff][\\udc00-\\udfff]",omn="\\u200d",Vft=amn+"?",Wft="["+rmn+"]?",smn="(?:"+omn+"(?:"+[Bft,Hft,Uft].join("|")+")"+Wft+Vft+")*",umn=Wft+Vft+smn,lmn="(?:"+[Bft+nxe+"?",nxe,Hft,Uft,imn].join("|")+")",cmn=RegExp(rxe+"(?="+rxe+")|"+lmn+umn,"g");function fmn(e){return e.match(cmn)||[]}var dmn=fmn,hmn=Qvn,gmn=zft,pmn=dmn;function vmn(e){return gmn(e)?pmn(e):hmn(e)}var mmn=vmn,ymn=Bvn,bmn=zft,wmn=mmn,_mn=L8;function xmn(e){return function(t){t=_mn(t);var n=bmn(t)?wmn(t):void 0,r=n?n[0]:t.charAt(0),i=n?ymn(n,1).join(""):t.slice(1);return r[e]()+i}}var Smn=xmn,Emn=Smn,Cmn=Emn("toUpperCase"),$mn=Cmn,kmn=L8,Omn=$mn;function Amn(e){return Omn(kmn(e).toLowerCase())}var Rmn=Amn,Tmn=Rmn,Mmn=Nft,Pmn=Mmn(function(e,t,n){return t=t.toLowerCase(),e+(n?Tmn(t):t)}),Lmn=Pmn,Dmn=Z$e,Imn=Uke,Fmn=Qoe;function Nmn(e,t){var n={};return t=Fmn(t),Imn(e,function(r,i,a){Dmn(n,t(r,i,a),r)}),n}var zmn=Nmn,Bre={},jmn={get exports(){return Bre},set exports(e){Bre=e}};jmn.exports=function(e){return Gft(Bmn(e),e)};Bre.array=Gft;function Gft(e,t){var n=e.length,r=new Array(n),i={},a=n,s=Hmn(t),u=Umn(e);for(t.forEach(function(d){if(!u.has(d[0])||!u.has(d[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});a--;)i[a]||f(e[a],a,new Set);return r;function f(d,c,h){if(h.has(d)){var p;try{p=", node was:"+JSON.stringify(d)}catch{p=""}throw new Error("Cyclic dependency"+p)}if(!u.has(d))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(d));if(!i[c]){i[c]=!0;var v=s.get(d)||new Set;if(v=Array.from(v),c=v.length){h.add(d);do{var m=v[--c];f(m,u.get(m),h)}while(c);h.delete(d)}r[--n]=d}}}function Bmn(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}function Hmn(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}function Umn(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}function Vmn(e,t=[]){let n=[],r=new Set,i=new Set(t.map(([s,u])=>`${s}-${u}`));function a(s,u){let f=uue.split(s)[0];r.add(f),i.has(`${u}-${f}`)||n.push([u,f])}for(const s in e)if(Fre(e,s)){let u=e[s];r.add(s),nk.isRef(u)&&u.isSibling?a(u.path,s):o7(u)&&"deps"in u&&u.deps.forEach(f=>a(f,s))}return Bre.array(Array.from(r),n).reverse()}function _qe(e,t){let n=1/0;return e.some((r,i)=>{var a;if(((a=t.path)==null?void 0:a.indexOf(r))!==-1)return n=i,!0}),n}function qft(e){return(t,n)=>_qe(e,t)-_qe(e,n)}function iF(){return iF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iF.apply(this,arguments)}let xqe=e=>Object.prototype.toString.call(e)==="[object Object]";function Wmn(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(r=>n.indexOf(r)===-1)}const Gmn=qft([]);class XOe extends zh{constructor(t){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=Gmn,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return this.isType(r)?r:null}),t&&this.shape(t)})}_typeCheck(t){return xqe(t)||typeof t=="function"}_cast(t,n={}){var r;let i=super._cast(t,n);if(i===void 0)return this.getDefault();if(!this._typeCheck(i))return i;let a=this.fields,s=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,u=this._nodes.concat(Object.keys(i).filter(h=>this._nodes.indexOf(h)===-1)),f={},d=iF({},n,{parent:f,__validating:n.__validating||!1}),c=!1;for(const h of u){let p=a[h],v=Fre(i,h);if(p){let m,y=i[h];d.path=(n.path?`${n.path}.`:"")+h,p=p.resolve({value:y,context:n.context,parent:f});let w="spec"in p?p.spec:void 0,_=w==null?void 0:w.strict;if(w!=null&&w.strip){c=c||h in i;continue}m=!n.__validating||!_?p.cast(i[h],d):i[h],m!==void 0&&(f[h]=m)}else v&&!s&&(f[h]=i[h]);f[h]!==i[h]&&(c=!0)}return c?f:i}_validate(t,n={},r){let i=[],{sync:a,from:s=[],originalValue:u=t,abortEarly:f=this.spec.abortEarly,recursive:d=this.spec.recursive}=n;s=[{schema:this,value:u},...s],n.__validating=!0,n.originalValue=u,n.from=s,super._validate(t,n,(c,h)=>{if(c){if(!ov.isError(c)||f)return void r(c,h);i.push(c)}if(!d||!xqe(h)){r(i[0]||null,h);return}u=u||h;let p=this._nodes.map(v=>(m,y)=>{let w=v.indexOf(".")===-1?(n.path?`${n.path}.`:"")+v:`${n.path||""}["${v}"]`,_=this.fields[v];if(_&&"validate"in _){_.validate(h[v],iF({},n,{path:w,from:s,strict:!0,parent:h,originalValue:u[v]}),y);return}y(null)});Nre({sync:a,tests:p,value:h,errors:i,endEarly:f,sort:this._sortErrors,path:n.path},r)})}clone(t){const n=super.clone(t);return n.fields=iF({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(t){let n=super.concat(t),r=n.fields;for(let[i,a]of Object.entries(this.fields)){const s=r[i];s===void 0?r[i]=a:s instanceof zh&&a instanceof zh&&(r[i]=a.concat(s))}return n.withMutation(()=>n.shape(r,this._excludedEdges))}getDefaultFromShape(){let t={};return this._nodes.forEach(n=>{const r=this.fields[n];t[n]="default"in r?r.getDefault():void 0}),t}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(t,n=[]){let r=this.clone(),i=Object.assign(r.fields,t);return r.fields=i,r._sortErrors=qft(Object.keys(i)),n.length&&(Array.isArray(n[0])||(n=[n]),r._excludedEdges=[...r._excludedEdges,...n]),r._nodes=Vmn(i,r._excludedEdges),r}pick(t){const n={};for(const r of t)this.fields[r]&&(n[r]=this.fields[r]);return this.clone().withMutation(r=>(r.fields={},r.shape(n)))}omit(t){const n=this.clone(),r=n.fields;n.fields={};for(const i of t)delete r[i];return n.withMutation(()=>n.shape(r))}from(t,n,r){let i=uue.getter(t,!0);return this.transform(a=>{if(a==null)return a;let s=a;return Fre(a,t)&&(s=iF({},a),r||delete s[t],s[n]=i(a)),s})}noUnknown(t=!0,n=Q_e.noUnknown){typeof t=="string"&&(n=t,t=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const a=Wmn(this.schema,i);return!t||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return r.spec.noUnknown=t,r}unknown(t=!0,n=Q_e.noUnknown){return this.noUnknown(!t,n)}transformKeys(t){return this.transform(n=>n&&zmn(n,(r,i)=>t(i)))}camelCase(){return this.transformKeys(Lmn)}snakeCase(){return this.transformKeys(wqe)}constantCase(){return this.transformKeys(t=>wqe(t).toUpperCase())}describe(){let t=super.describe();return t.fields=bft(this.fields,n=>n.describe()),t}}function Yft(e){return new XOe(e)}Yft.prototype=XOe.prototype;function Hre(){return Hre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hre.apply(this,arguments)}function Kft(e){return new ZOe(e)}class ZOe extends zh{constructor(t){super({type:"array"}),this.innerType=void 0,this.innerType=t,this.withMutation(()=>{this.transform(function(n){if(typeof n=="string")try{n=JSON.parse(n)}catch{n=null}return this.isType(n)?n:null})})}_typeCheck(t){return Array.isArray(t)}get _subType(){return this.innerType}_cast(t,n){const r=super._cast(t,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const a=r.map((s,u)=>{const f=this.innerType.cast(s,Hre({},n,{path:`${n.path||""}[${u}]`}));return f!==s&&(i=!0),f});return i?a:r}_validate(t,n={},r){var i,a;let s=[],u=n.sync,f=n.path,d=this.innerType,c=(i=n.abortEarly)!=null?i:this.spec.abortEarly,h=(a=n.recursive)!=null?a:this.spec.recursive,p=n.originalValue!=null?n.originalValue:t;super._validate(t,n,(v,m)=>{if(v){if(!ov.isError(v)||c)return void r(v,m);s.push(v)}if(!h||!d||!this._typeCheck(m)){r(s[0]||null,m);return}p=p||m;let y=new Array(m.length);for(let w=0;w<m.length;w++){let _=m[w],S=`${n.path||""}[${w}]`,C=Hre({},n,{path:S,strict:!0,parent:m,index:w,originalValue:p[w]});y[w]=($,k)=>d.validate(_,C,k)}Nre({sync:u,path:f,value:m,errors:s,endEarly:c,tests:y},r)})}clone(t){const n=super.clone(t);return n.innerType=this.innerType,n}concat(t){let n=super.concat(t);return n.innerType=this.innerType,t.innerType&&(n.innerType=n.innerType?n.innerType.concat(t.innerType):t.innerType),n}of(t){let n=this.clone();if(!o7(t))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+MN(t));return n.innerType=t,n}length(t,n=Mte.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:t},test(r){return Pc(r)||r.length===this.resolve(t)}})}min(t,n){return n=n||Mte.min,this.test({message:n,name:"min",exclusive:!0,params:{min:t},test(r){return Pc(r)||r.length>=this.resolve(t)}})}max(t,n){return n=n||Mte.max,this.test({message:n,name:"max",exclusive:!0,params:{max:t},test(r){return Pc(r)||r.length<=this.resolve(t)}})}ensure(){return this.default(()=>[]).transform((t,n)=>this._typeCheck(t)?t:n==null?[]:[].concat(n))}compact(t){let n=t?(r,i,a)=>!t(r,i,a):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(){let t=super.describe();return this.innerType&&(t.innerType=this.innerType.describe()),t}nullable(t=!0){return super.nullable(t)}defined(){return super.defined()}required(t){return super.required(t)}}Kft.prototype=ZOe.prototype;function qmn(e){return new Ymn(e)}class Ymn{constructor(t){this.type="lazy",this.__isYupSchema__=!0,this.__inputType=void 0,this.__outputType=void 0,this._resolve=(n,r={})=>{let i=this.builder(n,r);if(!o7(i))throw new TypeError("lazy() functions must return a valid schema");return i.resolve(r)},this.builder=t}resolve(t){return this._resolve(t.value,t)}cast(t,n){return this._resolve(t,n).cast(t,n)}validate(t,n,r){return this._resolve(t,n).validate(t,n,r)}validateSync(t,n){return this._resolve(t,n).validateSync(t,n)}validateAt(t,n,r){return this._resolve(n,r).validateAt(t,n,r)}validateSyncAt(t,n,r){return this._resolve(n,r).validateSyncAt(t,n,r)}describe(){return null}isValid(t,n){return this._resolve(t,n).isValid(t,n)}isValidSync(t,n){return this._resolve(t,n).isValidSync(t,n)}}function Kmn(e){Object.keys(e).forEach(t=>{Object.keys(e[t]).forEach(n=>{Gpn[t][n]=e[t][n]})})}function Xmn(e,t,n){if(!e||!o7(e.prototype))throw new TypeError("You must provide a yup schema constructor function");if(typeof t!="string")throw new TypeError("A Method name must be provided");if(typeof n!="function")throw new TypeError("Method function must be provided");e.prototype[t]=n}const Zmn=Object.freeze(Object.defineProperty({__proto__:null,ArraySchema:ZOe,BaseSchema:zh,BooleanSchema:WOe,DateSchema:lue,MixedSchema:VOe,NumberSchema:qOe,ObjectSchema:XOe,StringSchema:GOe,ValidationError:ov,addMethod:Xmn,array:Kft,bool:txe,boolean:txe,date:KOe,isSchema:o7,lazy:qmn,mixed:xft,number:Eft,object:Yft,reach:y0n,ref:p0n,setLocale:Kmn,string:Sft},Symbol.toStringTag,{value:"Module"})),BG=A_(Zmn);var Yr={},Qmn={get exports(){return Yr},set exports(e){Yr=e}},Jmn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",e1n=Jmn,t1n=e1n;function Xft(){}function Zft(){}Zft.resetWarningCache=Xft;var n1n=function(){function e(r,i,a,s,u,f){if(f!==t1n){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Zft,resetWarningCache:Xft};return n.PropTypes=n,n};Qmn.exports=n1n();const Sqe={};function ixe(e,t){e===void 0&&(e=Sqe),t===void 0&&(t=Sqe);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var r1n=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),i1n=Object.prototype.hasOwnProperty;function axe(e,t){return i1n.call(e,t)}function oxe(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)axe(e,i)&&r.push(i);return r}function ty(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function sxe(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function e5(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Qft(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function uxe(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(uxe(e[t]))return!0}else if(typeof e=="object"){for(var r=oxe(e),i=r.length,a=0;a<i;a++)if(uxe(e[r[a]]))return!0}}return!1}function Eqe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var Jft=function(e){r1n(t,e);function t(n,r,i,a,s){var u=this.constructor,f=e.call(this,Eqe(n,{name:r,index:i,operation:a,tree:s}))||this;return f.name=r,f.index=i,f.operation=a,f.tree=s,Object.setPrototypeOf(f,u.prototype),f.message=Eqe(n,{name:r,index:i,operation:a,tree:s}),f}return t}(Error),cf=Jft,a1n=ty,aF={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=Ure(n,this.path);r&&(r=ty(r));var i=H5(n,{op:"remove",path:this.from}).removed;return H5(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=Ure(n,this.from);return H5(n,{op:"add",path:this.path,value:ty(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:YV(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},o1n={add:function(e,t,n){return sxe(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:aF.move,copy:aF.copy,test:aF.test,_get:aF._get};function Ure(e,t){if(t=="")return e;var n={op:"_get",path:t};return H5(e,n),n.value}function H5(e,t,n,r,i,a){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(t,0,e,t.path):Vre(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=Ure(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=YV(e,t.value),s.test===!1)throw new cf("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new cf("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return s}}else{r||(e=ty(e));var u=t.path||"",f=u.split("/"),d=e,c=1,h=f.length,p=void 0,v=void 0,m=void 0;for(typeof n=="function"?m=n:m=Vre;;){if(v=f[c],v&&v.indexOf("~")!=-1&&(v=Qft(v)),i&&(v=="__proto__"||v=="prototype"&&c>0&&f[c-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&p===void 0&&(d[v]===void 0?p=f.slice(0,c).join("/"):c==h-1&&(p=t.path),p!==void 0&&m(t,0,e,p)),c++,Array.isArray(d)){if(v==="-")v=d.length;else{if(n&&!sxe(v))throw new cf("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);sxe(v)&&(v=~~v)}if(c>=h){if(n&&t.op==="add"&&v>d.length)throw new cf("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);var s=o1n[t.op].call(t,d,v,e);if(s.test===!1)throw new cf("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s}}else if(c>=h){var s=aF[t.op].call(t,d,v,e);if(s.test===!1)throw new cf("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s}if(d=d[v],n&&c<h&&(!d||typeof d!="object"))throw new cf("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function cue(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new cf("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=ty(e));for(var a=new Array(t.length),s=0,u=t.length;s<u;s++)a[s]=H5(e,t[s],n,!0,i,s),e=a[s].newDocument;return a.newDocument=e,a}function s1n(e,t,n){var r=H5(e,t);if(r.test===!1)throw new cf("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function Vre(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new cf("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(aF[e.op]){if(typeof e.path!="string")throw new cf("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new cf('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new cf("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new cf("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&uxe(e.value))throw new cf("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new cf("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new cf("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},u=edt([s],n);if(u&&u.name==="OPERATION_PATH_UNRESOLVABLE")throw new cf("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new cf("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function edt(e,t,n){try{if(!Array.isArray(e))throw new cf("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)cue(ty(t),ty(e),n||!0);else{n=n||Vre;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof cf)return i;throw i}}function YV(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,a,s;if(n&&r){if(a=e.length,a!=t.length)return!1;for(i=a;i--!==0;)if(!YV(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var u=Object.keys(e);if(a=u.length,a!==Object.keys(t).length)return!1;for(i=a;i--!==0;)if(!t.hasOwnProperty(u[i]))return!1;for(i=a;i--!==0;)if(s=u[i],!YV(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const u1n=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:cf,_areEquals:YV,applyOperation:H5,applyPatch:cue,applyReducer:s1n,deepClone:a1n,getValueByPointer:Ure,validate:edt,validator:Vre},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var QOe=new WeakMap,l1n=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),c1n=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function f1n(e){return QOe.get(e)}function d1n(e,t){return e.observers.get(t)}function h1n(e,t){e.observers.delete(t.callback)}function g1n(e,t){t.unobserve()}function p1n(e,t){var n=[],r,i=f1n(e);if(!i)i=new l1n(e),QOe.set(e,i);else{var a=d1n(i,t);r=a&&a.observer}if(r)return r;if(r={},i.value=ty(e),t){r.callback=t,r.next=null;var s=function(){lxe(r)},u=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",u),window.addEventListener("keyup",u),window.addEventListener("mousedown",u),window.addEventListener("keydown",u),window.addEventListener("change",u))}return r.patches=n,r.object=e,r.unobserve=function(){lxe(r),clearTimeout(r.next),h1n(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",u),window.removeEventListener("keyup",u),window.removeEventListener("mousedown",u),window.removeEventListener("keydown",u),window.removeEventListener("change",u))},i.observers.set(t,new c1n(t,r)),r}function lxe(e,t){t===void 0&&(t=!1);var n=QOe.get(e.object);JOe(n.value,e.object,e.patches,"",t),e.patches.length&&cue(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function JOe(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=oxe(t),s=oxe(e),u=!1,f=s.length-1;f>=0;f--){var d=s[f],c=e[d];if(axe(t,d)&&!(t[d]===void 0&&c!==void 0&&Array.isArray(t)===!1)){var h=t[d];typeof c=="object"&&c!=null&&typeof h=="object"&&h!=null&&Array.isArray(c)===Array.isArray(h)?JOe(c,h,n,r+"/"+e5(d),i):c!==h&&(i&&n.push({op:"test",path:r+"/"+e5(d),value:ty(c)}),n.push({op:"replace",path:r+"/"+e5(d),value:ty(h)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+e5(d),value:ty(c)}),n.push({op:"remove",path:r+"/"+e5(d)}),u=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!u&&a.length==s.length))for(var f=0;f<a.length;f++){var d=a[f];!axe(e,d)&&t[d]!==void 0&&n.push({op:"add",path:r+"/"+e5(d),value:ty(t[d])})}}}function v1n(e,t,n){n===void 0&&(n=!1);var r=[];return JOe(e,t,r,"",n),r}const m1n=Object.freeze(Object.defineProperty({__proto__:null,compare:v1n,generate:lxe,observe:p1n,unobserve:g1n},Symbol.toStringTag,{value:"Module"}));Object.assign({},u1n,m1n,{JsonPatchError:Jft,deepClone:ty,escapePathComponent:e5,unescapePathComponent:Qft});var y1n=/("(?:[^\\"]|\\.)*")|[:,]/g,I1e=function(t,n){var r,i,a;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,a=n.replacer,function s(u,f,d){var c,h,p,v,m,y,w,_,S,C,$,k;if(u&&typeof u.toJSON=="function"&&(u=u.toJSON()),$=JSON.stringify(u,a),$===void 0)return $;if(w=i-f.length-d,$.length<=w&&(S=$.replace(y1n,function(M,A){return A||M+" "}),S.length<=w))return S;if(a!=null&&(u=JSON.parse($),a=void 0),typeof u=="object"&&u!==null){if(_=f+r,p=[],h=0,Array.isArray(u))for(C="[",c="]",w=u.length;h<w;h++)p.push(s(u[h],_,h===w-1?0:1)||"null");else for(C="{",c="}",y=Object.keys(u),w=y.length;h<w;h++)v=y[h],m=JSON.stringify(v)+": ",k=s(u[v],_,m.length+(h===w-1?0:1)),k!==void 0&&p.push(m+k);if(p.length>0)return[C,r+p.join(`,
`+_),c].join(`
`+f)}return $}(t,"",0)};function jm(e,t,n){return e.fields=t||[],e.fname=n,e}function vf(e){return e==null?null:e.fname}function jp(e){return e==null?null:e.fields}function tdt(e){return e.length===1?b1n(e[0]):w1n(e)}const b1n=e=>function(t){return t[e]},w1n=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function xn(e){throw Error(e)}function RE(e){const t=[],n=e.length;let r=null,i=0,a="",s,u,f;e=e+"";function d(){t.push(a+e.substring(s,u)),a="",s=u+1}for(s=u=0;u<n;++u)if(f=e[u],f==="\\")a+=e.substring(s,u),a+=e.substring(++u,++u),s=u;else if(f===r)d(),r=null,i=-1;else{if(r)continue;s===i&&f==='"'||s===i&&f==="'"?(s=u+1,r=f):f==="."&&!i?u>s?d():s=u+1:f==="["?(u>s&&d(),i=s=u+1):f==="]"&&(i||xn("Access path missing open bracket: "+e),i>0&&d(),i=0,s=u+1)}return i&&xn("Access path missing closing bracket: "+e),r&&xn("Access path missing closing quote: "+e),u>s&&(u++,d()),t}function Rm(e,t,n){const r=RE(e);return e=r.length===1?r[0]:e,jm((n&&n.get||tdt)(r),[e],t||e)}const HG=Rm("id"),Zp=jm(e=>e,[],"identity"),pR=jm(()=>0,[],"zero"),s7=jm(()=>1,[],"one"),nw=jm(()=>!0,[],"true"),YA=jm(()=>!1,[],"false");function _1n(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const ndt=0,eAe=1,tAe=2,rdt=3,idt=4;function nAe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_1n,r=e||ndt;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=eAe&&n(t||"error","ERROR",arguments),this},warn(){return r>=tAe&&n(t||"warn","WARN",arguments),this},info(){return r>=rdt&&n(t||"log","INFO",arguments),this},debug(){return r>=idt&&n(t||"log","DEBUG",arguments),this}}}var En=Array.isArray;function Gr(e){return e===Object(e)}const Cqe=e=>e!=="__proto__";function u7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const a in i)if(a==="signals")r.signals=x1n(r.signals,i.signals);else{const s=a==="legend"?{layout:1}:a==="style"?!0:null;l7(r,a,i[a],s)}return r},{})}function l7(e,t,n,r){if(!Cqe(t))return;let i,a;if(Gr(n)&&!En(n)){a=Gr(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?l7(a,i,n[i]):Cqe(i)&&(a[i]=n[i])}else e[t]=n}function x1n(e,t){if(e==null)return t;const n={},r=[];function i(a){n[a.name]||(n[a.name]=1,r.push(a))}return t.forEach(i),e.forEach(i),r}function es(e){return e[e.length-1]}function Ip(e){return e==null||e===""?null:+e}const adt=e=>t=>e*Math.exp(t),odt=e=>t=>Math.log(e*t),sdt=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),udt=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,Wre=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function fue(e,t,n,r){const i=n(e[0]),a=n(es(e)),s=(a-i)*t;return[r(i-s),r(a-s)]}function ldt(e,t){return fue(e,t,Ip,Zp)}function cdt(e,t){var n=Math.sign(e[0]);return fue(e,t,odt(n),adt(n))}function fdt(e,t,n){return fue(e,t,Wre(n),Wre(1/n))}function ddt(e,t,n){return fue(e,t,sdt(n),udt(n))}function due(e,t,n,r,i){const a=r(e[0]),s=r(es(e)),u=t!=null?r(t):(a+s)/2;return[i(u+(a-u)*n),i(u+(s-u)*n)]}function rAe(e,t,n){return due(e,t,n,Ip,Zp)}function iAe(e,t,n){const r=Math.sign(e[0]);return due(e,t,n,odt(r),adt(r))}function Gre(e,t,n,r){return due(e,t,n,Wre(r),Wre(1/r))}function aAe(e,t,n,r){return due(e,t,n,sdt(r),udt(r))}function hdt(e){return 1+~~(new Date(e).getMonth()/3)}function gdt(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Mr(e){return e!=null?En(e)?e:[e]:[]}function pdt(e,t,n){let r=e[0],i=e[1],a;return i<r&&(a=i,i=r,r=a),a=i-r,a>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-a),r+a]}function eo(e){return typeof e=="function"}const S1n="descending";function oAe(e,t,n){n=n||{},t=Mr(t)||[];const r=[],i=[],a={},s=n.comparator||E1n;return Mr(e).forEach((u,f)=>{u!=null&&(r.push(t[f]===S1n?-1:1),i.push(u=eo(u)?u:Rm(u,null,n)),(jp(u)||[]).forEach(d=>a[d]=1))}),i.length===0?null:jm(s(i,r),Object.keys(a))}const hue=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),E1n=(e,t)=>e.length===1?C1n(e[0],t[0]):$1n(e,t,e.length),C1n=(e,t)=>function(n,r){return hue(e(n),e(r))*t},$1n=(e,t,n)=>(t.push(0),function(r,i){let a,s=0,u=-1;for(;s===0&&++u<n;)a=e[u],s=hue(a(r),a(i));return s*t[u]});function Qp(e){return eo(e)?e:()=>e}function sAe(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function Qa(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function cE(e,t){let n=0,r,i,a,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(a=s=i;n<r;++n)i=e[n],i!=null&&(i<a&&(a=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(a=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<a&&(a=i),i>s&&(s=i))}return[a,s]}function vdt(e,t){const n=e.length;let r=-1,i,a,s,u,f;if(t==null){for(;++r<n;)if(a=e[r],a!=null&&a>=a){i=s=a;break}if(r===n)return[-1,-1];for(u=f=r;++r<n;)a=e[r],a!=null&&(i>a&&(i=a,u=r),s<a&&(s=a,f=r))}else{for(;++r<n;)if(a=t(e[r],r,e),a!=null&&a>=a){i=s=a;break}if(r===n)return[-1,-1];for(u=f=r;++r<n;)a=t(e[r],r,e),a!=null&&(i>a&&(i=a,u=r),s<a&&(s=a,f=r))}return[u,f]}const k1n=Object.prototype.hasOwnProperty;function Ui(e,t){return k1n.call(e,t)}const ZJ={};function c7(e){let t={},n;function r(a){return Ui(t,a)&&t[a]!==ZJ}const i={size:0,empty:0,object:t,has:r,get(a){return r(a)?t[a]:void 0},set(a,s){return r(a)||(++i.size,t[a]===ZJ&&--i.empty),t[a]=s,this},delete(a){return r(a)&&(--i.size,++i.empty,t[a]=ZJ),this},clear(){i.size=i.empty=0,i.object=t={}},test(a){return arguments.length?(n=a,i):n},clean(){const a={};let s=0;for(const u in t){const f=t[u];f!==ZJ&&(!n||!n(f))&&(a[u]=f,++s)}i.size=s,i.empty=0,i.object=t=a}};return e&&Object.keys(e).forEach(a=>{i.set(a,e[a])}),i}function mdt(e,t,n,r,i,a){if(!n&&n!==0)return a;const s=+n;let u=e[0],f=es(e),d;f<u&&(d=u,u=f,f=d),d=Math.abs(t-u);const c=Math.abs(f-t);return d<c&&d<=s?r:c<=s?i:a}function tr(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),Qa(r,n)}function oF(e,t,n,r){let i=t[0],a=t[t.length-1],s;return i>a&&(s=i,i=a,a=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=a:e<a)}function hT(e){return typeof e=="boolean"}function t3(e){return Object.prototype.toString.call(e)==="[object Date]"}function ydt(e){return e&&eo(e[Symbol.iterator])}function Mu(e){return typeof e=="number"}function bdt(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Pr(e){return typeof e=="string"}function uAe(e,t,n){e&&(e=t?Mr(e).map(u=>u.replace(/\\(.)/g,"$1")):Mr(e));const r=e&&e.length,i=n&&n.get||tdt,a=u=>i(t?[u]:RE(u));let s;if(!r)s=function(){return""};else if(r===1){const u=a(e[0]);s=function(f){return""+u(f)}}else{const u=e.map(a);s=function(f){let d=""+u[0](f),c=0;for(;++c<r;)d+="|"+u[c](f);return d}}return jm(s,e,"key")}function wdt(e,t){const n=e[0],r=es(e),i=+t;return i?i===1?r:n+i*(r-n):n}const O1n=1e4;function _dt(e){e=+e||O1n;let t,n,r;const i=()=>{t={},n={},r=0},a=(s,u)=>(++r>e&&(n=t,t={},r=1),t[s]=u);return i(),{clear:i,has:s=>Ui(t,s)||Ui(n,s),get:s=>Ui(t,s)?t[s]:Ui(n,s)?a(s,n[s]):void 0,set:(s,u)=>Ui(t,s)?t[s]=u:a(s,u)}}function xdt(e,t,n,r){const i=t.length,a=n.length;if(!a)return t;if(!i)return n;const s=r||new t.constructor(i+a);let u=0,f=0,d=0;for(;u<i&&f<a;++d)s[d]=e(t[u],n[f])>0?n[f++]:t[u++];for(;u<i;++u,++d)s[d]=t[u];for(;f<a;++f,++d)s[d]=n[f];return s}function bH(e,t){let n="";for(;--t>=0;)n+=e;return n}function Sdt(e,t,n,r){const i=n||" ",a=e+"",s=t-a.length;return s<=0?a:r==="left"?bH(i,s)+a:r==="center"?bH(i,~~(s/2))+a+bH(i,Math.ceil(s/2)):a+bH(i,s)}function UG(e){return e&&es(e)-e[0]||0}function ar(e){return En(e)?"["+e.map(ar)+"]":Gr(e)||Pr(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function lAe(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const A1n=e=>Mu(e)||t3(e)?e:Date.parse(e);function cAe(e,t){return t=t||A1n,e==null||e===""?null:t(e)}function fAe(e){return e==null||e===""?null:e+""}function C_(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function Edt(e,t,n,r){const i=r??"",a=e+"",s=a.length,u=Math.max(0,t-i.length);return s<=t?a:n==="left"?i+a.slice(s-u):n==="center"?a.slice(0,Math.ceil(u/2))+i+a.slice(s-~~(u/2)):a.slice(0,u)+i}function aR(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const a=t(e[i]);a&&n(a,i,e)}}else e.forEach(n)}var $qe={},F1e={},N1e=34,bB=10,z1e=13;function Cdt(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function R1n(e,t){var n=Cdt(e);return function(r,i){return t(n(r),i,e)}}function kqe(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function am(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function T1n(e){return e<0?"-"+am(-e,6):e>9999?"+"+am(e,6):am(e,4)}function M1n(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":T1n(e.getUTCFullYear())+"-"+am(e.getUTCMonth()+1,2)+"-"+am(e.getUTCDate(),2)+(i?"T"+am(t,2)+":"+am(n,2)+":"+am(r,2)+"."+am(i,3)+"Z":r?"T"+am(t,2)+":"+am(n,2)+":"+am(r,2)+"Z":n||t?"T"+am(t,2)+":"+am(n,2)+"Z":"")}function P1n(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(h,p){var v,m,y=i(h,function(w,_){if(v)return v(w,_-1);m=w,v=p?R1n(w,p):Cdt(w)});return y.columns=m||[],y}function i(h,p){var v=[],m=h.length,y=0,w=0,_,S=m<=0,C=!1;h.charCodeAt(m-1)===bB&&--m,h.charCodeAt(m-1)===z1e&&--m;function $(){if(S)return F1e;if(C)return C=!1,$qe;var M,A=y,L;if(h.charCodeAt(A)===N1e){for(;y++<m&&h.charCodeAt(y)!==N1e||h.charCodeAt(++y)===N1e;);return(M=y)>=m?S=!0:(L=h.charCodeAt(y++))===bB?C=!0:L===z1e&&(C=!0,h.charCodeAt(y)===bB&&++y),h.slice(A+1,M-1).replace(/""/g,'"')}for(;y<m;){if((L=h.charCodeAt(M=y++))===bB)C=!0;else if(L===z1e)C=!0,h.charCodeAt(y)===bB&&++y;else if(L!==n)continue;return h.slice(A,M)}return S=!0,h.slice(A,m)}for(;(_=$())!==F1e;){for(var k=[];_!==$qe&&_!==F1e;)k.push(_),_=$();p&&(k=p(k,w++))==null||v.push(k)}return v}function a(h,p){return h.map(function(v){return p.map(function(m){return c(v[m])}).join(e)})}function s(h,p){return p==null&&(p=kqe(h)),[p.map(c).join(e)].concat(a(h,p)).join(`
`)}function u(h,p){return p==null&&(p=kqe(h)),a(h,p).join(`
`)}function f(h){return h.map(d).join(`
`)}function d(h){return h.map(c).join(e)}function c(h){return h==null?"":h instanceof Date?M1n(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:s,formatBody:u,formatRows:f,formatRow:d,formatValue:c}}function L1n(e){return e}function D1n(e){if(e==null)return L1n;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(u,f){f||(t=n=0);var d=2,c=u.length,h=new Array(c);for(h[0]=(t+=u[0])*r+a,h[1]=(n+=u[1])*i+s;d<c;)h[d]=u[d],++d;return h}}function I1n(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function F1n(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return Oqe(e,n)})}:Oqe(e,t)}function Oqe(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,a=$dt(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function $dt(e,t){var n=D1n(e.transform),r=e.arcs;function i(c,h){h.length&&h.pop();for(var p=r[c<0?~c:c],v=0,m=p.length;v<m;++v)h.push(n(p[v],v));c<0&&I1n(h,m)}function a(c){return n(c)}function s(c){for(var h=[],p=0,v=c.length;p<v;++p)i(c[p],h);return h.length<2&&h.push(h[0]),h}function u(c){for(var h=s(c);h.length<4;)h.push(h[0]);return h}function f(c){return c.map(u)}function d(c){var h=c.type,p;switch(h){case"GeometryCollection":return{type:h,geometries:c.geometries.map(d)};case"Point":p=a(c.coordinates);break;case"MultiPoint":p=c.coordinates.map(a);break;case"LineString":p=s(c.arcs);break;case"MultiLineString":p=c.arcs.map(s);break;case"Polygon":p=f(c.arcs);break;case"MultiPolygon":p=c.arcs.map(f);break;default:return null}return{type:h,coordinates:p}}return d(t)}function N1n(e,t){var n={},r={},i={},a=[],s=-1;t.forEach(function(d,c){var h=e.arcs[d<0?~d:d],p;h.length<3&&!h[1][0]&&!h[1][1]&&(p=t[++s],t[s]=d,t[c]=p)}),t.forEach(function(d){var c=u(d),h=c[0],p=c[1],v,m;if(v=i[h])if(delete i[v.end],v.push(d),v.end=p,m=r[p]){delete r[m.start];var y=m===v?v:v.concat(m);r[y.start=v.start]=i[y.end=m.end]=y}else r[v.start]=i[v.end]=v;else if(v=r[p])if(delete r[v.start],v.unshift(d),v.start=h,m=i[h]){delete i[m.end];var w=m===v?v:m.concat(v);r[w.start=m.start]=i[w.end=v.end]=w}else r[v.start]=i[v.end]=v;else v=[d],r[v.start=h]=i[v.end=p]=v});function u(d){var c=e.arcs[d<0?~d:d],h=c[0],p;return e.transform?(p=[0,0],c.forEach(function(v){p[0]+=v[0],p[1]+=v[1]})):p=c[c.length-1],d<0?[p,h]:[h,p]}function f(d,c){for(var h in d){var p=d[h];delete c[p.start],delete p.start,delete p.end,p.forEach(function(v){n[v<0?~v:v]=1}),a.push(p)}}return f(i,r),f(r,i),t.forEach(function(d){n[d<0?~d:d]||a.push([d])}),a}function z1n(e){return $dt(e,j1n.apply(this,arguments))}function j1n(e,t,n){var r,i,a;if(arguments.length>1)r=B1n(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:N1n(e,r)}}function B1n(e,t,n){var r=[],i=[],a;function s(h){var p=h<0?~h:h;(i[p]||(i[p]=[])).push({i:h,g:a})}function u(h){h.forEach(s)}function f(h){h.forEach(u)}function d(h){h.forEach(f)}function c(h){switch(a=h,h.type){case"GeometryCollection":h.geometries.forEach(c);break;case"LineString":u(h.arcs);break;case"MultiLineString":case"Polygon":f(h.arcs);break;case"MultiPolygon":d(h.arcs);break}}return c(t),i.forEach(n==null?function(h){r.push(h[0].i)}:function(h){n(h[0].g,h[h.length-1].g)&&r.push(h[0].i)}),r}function rk(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function H1n(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function VG(e){let t,n,r;e.length!==2?(t=rk,n=(u,f)=>rk(e(u),f),r=(u,f)=>e(u)-f):(t=e===rk||e===H1n?e:U1n,n=e,r=e);function i(u,f,d=0,c=u.length){if(d<c){if(t(f,f)!==0)return c;do{const h=d+c>>>1;n(u[h],f)<0?d=h+1:c=h}while(d<c)}return d}function a(u,f,d=0,c=u.length){if(d<c){if(t(f,f)!==0)return c;do{const h=d+c>>>1;n(u[h],f)<=0?d=h+1:c=h}while(d<c)}return d}function s(u,f,d=0,c=u.length){const h=i(u,f,d,c-1);return h>d&&r(u[h-1],f)>-r(u[h],f)?h-1:h}return{left:i,center:s,right:a}}function U1n(){return 0}function kdt(e){return e===null?NaN:+e}function*V1n(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Odt=VG(rk),qre=Odt.right,W1n=Odt.left;VG(kdt).center;const WG=qre;function G1n(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let u of e)(u=t(u,++s,e))!=null&&(u=+u)>=u&&(r=u-i,i+=r/++n,a+=r*(u-i))}if(n>1)return a/(n-1)}function q1n(e,t){const n=G1n(e,t);return n&&Math.sqrt(n)}class cv{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,u=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);u&&(n[r++]=u),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class Aqe extends Map{constructor(t,n=Tdt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(cxe(this,t))}has(t){return super.has(cxe(this,t))}set(t,n){return super.set(Adt(this,t),n)}delete(t){return super.delete(Rdt(this,t))}}class Yre extends Set{constructor(t,n=Tdt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(cxe(this,t))}add(t){return super.add(Adt(this,t))}delete(t){return super.delete(Rdt(this,t))}}function cxe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Adt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Rdt({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Tdt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Y1n(e,t){return Array.from(t,n=>e[n])}function K1n(e=rk){if(e===rk)return Mdt;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Mdt(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const X1n=Math.sqrt(50),Z1n=Math.sqrt(10),Q1n=Math.sqrt(2);function Kre(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=X1n?10:a>=Z1n?5:a>=Q1n?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/s,u=Math.round(e*d),f=Math.round(t*d),u/d<e&&++u,f/d>t&&--f,d=-d):(d=Math.pow(10,i)*s,u=Math.round(e/d),f=Math.round(t/d),u*d<e&&++u,f*d>t&&--f),f<u&&.5<=n&&n<2?Kre(e,t,n*2):[u,f,d]}function fxe(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Kre(t,e,n):Kre(e,t,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(s<0)for(let d=0;d<u;++d)f[d]=(a-d)/-s;else for(let d=0;d<u;++d)f[d]=(a-d)*s;else if(s<0)for(let d=0;d<u;++d)f[d]=(i+d)/-s;else for(let d=0;d<u;++d)f[d]=(i+d)*s;return f}function dxe(e,t,n){return t=+t,e=+e,n=+n,Kre(e,t,n)[2]}function T3(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?dxe(t,e,n):dxe(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function U5(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function hxe(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Pdt(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Mdt:K1n(i);r>n;){if(r-n>600){const f=r-n+1,d=t-n+1,c=Math.log(f),h=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*h*(f-h)/f)*(d-f/2<0?-1:1),v=Math.max(n,Math.floor(t-d*h/f+p)),m=Math.min(r,Math.floor(t+(f-d)*h/f+p));Pdt(e,t,v,m,i)}const a=e[t];let s=n,u=r;for(wB(e,n,t),i(e[r],a)>0&&wB(e,n,r);s<u;){for(wB(e,s,u),++s,--u;i(e[s],a)<0;)++s;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?wB(e,n,u):(++u,wB(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function wB(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function gxe(e,t,n){if(e=Float64Array.from(V1n(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return hxe(e);if(t>=1)return U5(e);var r,i=(r-1)*t,a=Math.floor(i),s=U5(Pdt(e,a).subarray(0,a+1)),u=hxe(e.subarray(a+1));return s+(u-s)*(i-a)}}function Ldt(e,t,n=kdt){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return s+(u-s)*(i-a)}}function J1n(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function Ddt(e,t){return gxe(e,.5,t)}function*eyn(e){for(const t of e)yield*t}function Idt(e){return Array.from(eyn(e))}function ny(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Fdt(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function tyn(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xre(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function PN(e){return e=Xre(Math.abs(e)),e?e[1]:NaN}function nyn(e,t){return function(n,r){for(var i=n.length,a=[],s=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=e[s=(s+1)%e.length];return a.reverse().join(t)}}function ryn(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var iyn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function SP(e){if(!(t=iyn.exec(e)))throw new Error("invalid format: "+e);var t;return new dAe({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}SP.prototype=dAe.prototype;function dAe(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dAe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ayn(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ndt;function oyn(e,t){var n=Xre(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Ndt=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Xre(e,Math.max(0,t+a-1))[0]}function Rqe(e,t){var n=Xre(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Tqe={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:tyn,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Rqe(e*100,t),r:Rqe,s:oyn,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Mqe(e){return e}var Pqe=Array.prototype.map,Lqe=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zdt(e){var t=e.grouping===void 0||e.thousands===void 0?Mqe:nyn(Pqe.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Mqe:ryn(Pqe.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(h){h=SP(h);var p=h.fill,v=h.align,m=h.sign,y=h.symbol,w=h.zero,_=h.width,S=h.comma,C=h.precision,$=h.trim,k=h.type;k==="n"?(S=!0,k="g"):Tqe[k]||(C===void 0&&(C=12),$=!0,k="g"),(w||p==="0"&&v==="=")&&(w=!0,p="0",v="=");var M=y==="$"?n:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",A=y==="$"?r:/[%p]/.test(k)?s:"",L=Tqe[k],N=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function R(D){var j=M,U=A,H,Y,Z;if(k==="c")U=L(D)+U,D="";else{D=+D;var Q=D<0||1/D<0;if(D=isNaN(D)?f:L(Math.abs(D),C),$&&(D=ayn(D)),Q&&+D==0&&m!=="+"&&(Q=!1),j=(Q?m==="("?m:u:m==="-"||m==="("?"":m)+j,U=(k==="s"?Lqe[8+Ndt/3]:"")+U+(Q&&m==="("?")":""),N){for(H=-1,Y=D.length;++H<Y;)if(Z=D.charCodeAt(H),48>Z||Z>57){U=(Z===46?i+D.slice(H+1):D.slice(H))+U,D=D.slice(0,H);break}}}S&&!w&&(D=t(D,1/0));var ee=j.length+D.length+U.length,oe=ee<_?new Array(_-ee+1).join(p):"";switch(S&&w&&(D=t(oe+D,oe.length?_-U.length:1/0),oe=""),v){case"<":D=j+D+U+oe;break;case"=":D=j+oe+D+U;break;case"^":D=oe.slice(0,ee=oe.length>>1)+j+D+U+oe.slice(ee);break;default:D=oe+j+D+U;break}return a(D)}return R.toString=function(){return h+""},R}function c(h,p){var v=d((h=SP(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(PN(p)/3)))*3,y=Math.pow(10,-m),w=Lqe[8+m/3];return function(_){return v(y*_)+w}}return{format:d,formatPrefix:c}}var QJ,gue,hAe;syn({thousands:",",grouping:[3],currency:["$",""]});function syn(e){return QJ=zdt(e),gue=QJ.format,hAe=QJ.formatPrefix,QJ}function jdt(e){return Math.max(0,-PN(Math.abs(e)))}function Bdt(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(PN(t)/3)))*3-PN(Math.abs(e)))}function Hdt(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,PN(t)-PN(e))+1}const j1e=new Date,B1e=new Date;function Jd(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),u=i.ceil(a);return a-s<u-a?s:u},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<s)||!(u>0))return f;let d;do f.push(d=new Date(+a)),t(a,u),e(a);while(d<a&&a<s);return f},i.filter=a=>Jd(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;t(s,-1),!a(s););else for(;--u>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(j1e.setTime(+a),B1e.setTime(+s),e(j1e),e(B1e),Math.floor(n(j1e,B1e))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const LN=Jd(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);LN.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Jd(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):LN);LN.range;const q$=1e3,Bb=q$*60,Y$=Bb*60,Sk=Y$*24,gAe=Sk*7,Dqe=Sk*30,H1e=Sk*365,K$=Jd(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*q$)},(e,t)=>(t-e)/q$,e=>e.getUTCSeconds());K$.range;const pue=Jd(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*q$)},(e,t)=>{e.setTime(+e+t*Bb)},(e,t)=>(t-e)/Bb,e=>e.getMinutes());pue.range;const vue=Jd(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bb)},(e,t)=>(t-e)/Bb,e=>e.getUTCMinutes());vue.range;const mue=Jd(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*q$-e.getMinutes()*Bb)},(e,t)=>{e.setTime(+e+t*Y$)},(e,t)=>(t-e)/Y$,e=>e.getHours());mue.range;const yue=Jd(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Y$)},(e,t)=>(t-e)/Y$,e=>e.getUTCHours());yue.range;const ik=Jd(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bb)/Sk,e=>e.getDate()-1);ik.range;const n3=Jd(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sk,e=>e.getUTCDate()-1);n3.range;const Udt=Jd(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sk,e=>Math.floor(e/Sk));Udt.range;function pL(e){return Jd(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Bb)/gAe)}const f7=pL(0),Zre=pL(1),uyn=pL(2),lyn=pL(3),DN=pL(4),cyn=pL(5),fyn=pL(6);f7.range;Zre.range;uyn.range;lyn.range;DN.range;cyn.range;fyn.range;function vL(e){return Jd(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/gAe)}const d7=vL(0),Qre=vL(1),dyn=vL(2),hyn=vL(3),IN=vL(4),gyn=vL(5),pyn=vL(6);d7.range;Qre.range;dyn.range;hyn.range;IN.range;gyn.range;pyn.range;const KV=Jd(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());KV.range;const XV=Jd(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());XV.range;const fE=Jd(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fE.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jd(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});fE.range;const dE=Jd(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());dE.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Jd(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});dE.range;function Vdt(e,t,n,r,i,a){const s=[[K$,1,q$],[K$,5,5*q$],[K$,15,15*q$],[K$,30,30*q$],[a,1,Bb],[a,5,5*Bb],[a,15,15*Bb],[a,30,30*Bb],[i,1,Y$],[i,3,3*Y$],[i,6,6*Y$],[i,12,12*Y$],[r,1,Sk],[r,2,2*Sk],[n,1,gAe],[t,1,Dqe],[t,3,3*Dqe],[e,1,H1e]];function u(d,c,h){const p=c<d;p&&([d,c]=[c,d]);const v=h&&typeof h.range=="function"?h:f(d,c,h),m=v?v.range(d,+c+1):[];return p?m.reverse():m}function f(d,c,h){const p=Math.abs(c-d)/h,v=VG(([,,w])=>w).right(s,p);if(v===s.length)return e.every(T3(d/H1e,c/H1e,h));if(v===0)return LN.every(Math.max(T3(d,c,h),1));const[m,y]=s[p/s[v-1][2]<s[v][2]/p?v-1:v];return m.every(y)}return[u,f]}const[vyn,myn]=Vdt(dE,XV,d7,Udt,yue,vue),[yyn,byn]=Vdt(fE,KV,f7,ik,mue,pue),jg="year",Tm="quarter",Bp="month",Wd="week",Mm="date",Lp="day",hE="dayofyear",cy="hours",fy="minutes",rw="seconds",$_="milliseconds",pAe=[jg,Tm,Bp,Wd,Mm,Lp,hE,cy,fy,rw,$_],U1e=pAe.reduce((e,t,n)=>(e[t]=1+n,e),{});function vAe(e){const t=Mr(e).slice(),n={};return t.length||xn("Missing time unit."),t.forEach(i=>{Ui(U1e,i)?n[i]=1:xn(`Invalid time unit: ${i}.`)}),(n[Wd]||n[Lp]?1:0)+(n[Tm]||n[Bp]||n[Mm]?1:0)+(n[hE]?1:0)>1&&xn(`Incompatible time units: ${e}`),t.sort((i,a)=>U1e[i]-U1e[a]),t}const wyn={[jg]:"%Y ",[Tm]:"Q%q ",[Bp]:"%b ",[Mm]:"%d ",[Wd]:"W%U ",[Lp]:"%a ",[hE]:"%j ",[cy]:"%H:00",[fy]:"00:%M",[rw]:":%S",[$_]:".%L",[`${jg}-${Bp}`]:"%Y-%m ",[`${jg}-${Bp}-${Mm}`]:"%Y-%m-%d ",[`${cy}-${fy}`]:"%H:%M"};function Wdt(e,t){const n=Qa({},wyn,t),r=vAe(e),i=r.length;let a="",s=0,u,f;for(s=0;s<i;)for(u=r.length;u>s;--u)if(f=r.slice(s,u).join("-"),n[f]!=null){a+=n[f],s=u;break}return a.trim()}const u5=new Date;function mAe(e){return u5.setFullYear(e),u5.setMonth(0),u5.setDate(1),u5.setHours(0,0,0,0),u5}function Gdt(e){return Ydt(new Date(e))}function qdt(e){return pxe(new Date(e))}function Ydt(e){return ik.count(mAe(e.getFullYear())-1,e)}function pxe(e){return f7.count(mAe(e.getFullYear())-1,e)}function vxe(e){return mAe(e).getDay()}function _yn(e,t,n,r,i,a,s){if(0<=e&&e<100){const u=new Date(-1,t,n,r,i,a,s);return u.setFullYear(e),u}return new Date(e,t,n,r,i,a,s)}function Kdt(e){return Zdt(new Date(e))}function Xdt(e){return mxe(new Date(e))}function Zdt(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return n3.count(t-1,e)}function mxe(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return d7.count(t-1,e)}function yxe(e){return u5.setTime(Date.UTC(e,0,1)),u5.getUTCDay()}function xyn(e,t,n,r,i,a,s){if(0<=e&&e<100){const u=new Date(Date.UTC(-1,t,n,r,i,a,s));return u.setUTCFullYear(n.y),u}return new Date(Date.UTC(e,t,n,r,i,a,s))}function Qdt(e,t,n,r,i){const a=t||1,s=es(e),u=(_,S,C)=>(C=C||_,Syn(n[C],r[C],_===s&&a,S)),f=new Date,d=C_(e),c=d[jg]?u(jg):Qp(2012),h=d[Bp]?u(Bp):d[Tm]?u(Tm):pR,p=d[Wd]&&d[Lp]?u(Lp,1,Wd+Lp):d[Wd]?u(Wd,1):d[Lp]?u(Lp,1):d[Mm]?u(Mm,1):d[hE]?u(hE,1):s7,v=d[cy]?u(cy):pR,m=d[fy]?u(fy):pR,y=d[rw]?u(rw):pR,w=d[$_]?u($_):pR;return function(_){f.setTime(+_);const S=c(f);return i(S,h(f),p(f,S),v(f),m(f),y(f),w(f))}}function Syn(e,t,n,r){const i=n<=1?e:r?(a,s)=>r+n*Math.floor((e(a,s)-r)/n):(a,s)=>n*Math.floor(e(a,s)/n);return t?(a,s)=>t(i(a,s),s):i}function FN(e,t,n){return t+e*7-(n+6)%7}const Eyn={[jg]:e=>e.getFullYear(),[Tm]:e=>Math.floor(e.getMonth()/3),[Bp]:e=>e.getMonth(),[Mm]:e=>e.getDate(),[cy]:e=>e.getHours(),[fy]:e=>e.getMinutes(),[rw]:e=>e.getSeconds(),[$_]:e=>e.getMilliseconds(),[hE]:e=>Ydt(e),[Wd]:e=>pxe(e),[Wd+Lp]:(e,t)=>FN(pxe(e),e.getDay(),vxe(t)),[Lp]:(e,t)=>FN(1,e.getDay(),vxe(t))},Cyn={[Tm]:e=>3*e,[Wd]:(e,t)=>FN(e,0,vxe(t))};function Jdt(e,t){return Qdt(e,t||1,Eyn,Cyn,_yn)}const $yn={[jg]:e=>e.getUTCFullYear(),[Tm]:e=>Math.floor(e.getUTCMonth()/3),[Bp]:e=>e.getUTCMonth(),[Mm]:e=>e.getUTCDate(),[cy]:e=>e.getUTCHours(),[fy]:e=>e.getUTCMinutes(),[rw]:e=>e.getUTCSeconds(),[$_]:e=>e.getUTCMilliseconds(),[hE]:e=>Zdt(e),[Wd]:e=>mxe(e),[Lp]:(e,t)=>FN(1,e.getUTCDay(),yxe(t)),[Wd+Lp]:(e,t)=>FN(mxe(e),e.getUTCDay(),yxe(t))},kyn={[Tm]:e=>3*e,[Wd]:(e,t)=>FN(e,0,yxe(t))};function eht(e,t){return Qdt(e,t||1,$yn,kyn,xyn)}const Oyn={[jg]:fE,[Tm]:KV.every(3),[Bp]:KV,[Wd]:f7,[Mm]:ik,[Lp]:ik,[hE]:ik,[cy]:mue,[fy]:pue,[rw]:K$,[$_]:LN},Ayn={[jg]:dE,[Tm]:XV.every(3),[Bp]:XV,[Wd]:d7,[Mm]:n3,[Lp]:n3,[hE]:n3,[cy]:yue,[fy]:vue,[rw]:K$,[$_]:LN};function h7(e){return Oyn[e]}function g7(e){return Ayn[e]}function tht(e,t,n){return e?e.offset(t,n):void 0}function nht(e,t,n){return tht(h7(e),t,n)}function rht(e,t,n){return tht(g7(e),t,n)}function iht(e,t,n,r){return e?e.range(t,n,r):void 0}function aht(e,t,n,r){return iht(h7(e),t,n,r)}function oht(e,t,n,r){return iht(g7(e),t,n,r)}const wH=1e3,_H=wH*60,xH=_H*60,bue=xH*24,Ryn=bue*7,Iqe=bue*30,bxe=bue*365,sht=[jg,Bp,Mm,cy,fy,rw,$_],SH=sht.slice(0,-1),EH=SH.slice(0,-1),CH=EH.slice(0,-1),Tyn=CH.slice(0,-1),Myn=[jg,Wd],Fqe=[jg,Bp],uht=[jg],_B=[[SH,1,wH],[SH,5,5*wH],[SH,15,15*wH],[SH,30,30*wH],[EH,1,_H],[EH,5,5*_H],[EH,15,15*_H],[EH,30,30*_H],[CH,1,xH],[CH,3,3*xH],[CH,6,6*xH],[CH,12,12*xH],[Tyn,1,bue],[Myn,1,Ryn],[Fqe,1,Iqe],[Fqe,3,3*Iqe],[uht,1,bxe]];function lht(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(UG(t))/n;let i=VG(u=>u[2]).right(_B,r),a,s;return i===_B.length?(a=uht,s=T3(t[0]/bxe,t[1]/bxe,n)):i?(i=_B[r/_B[i-1][2]<_B[i][2]/r?i-1:i],a=i[0],s=i[1]):(a=sht,s=Math.max(T3(t[0],t[1],n),1)),{units:a,step:s}}function V1e(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function W1e(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xB(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function cht(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,u=e.months,f=e.shortMonths,d=SB(i),c=EB(i),h=SB(a),p=EB(a),v=SB(s),m=EB(s),y=SB(u),w=EB(u),_=SB(f),S=EB(f),C={a:Q,A:ee,b:oe,B:ue,c:null,d:Uqe,e:Uqe,f:tbn,g:fbn,G:hbn,H:Qyn,I:Jyn,j:ebn,L:fht,m:nbn,M:rbn,p:ve,q:le,Q:Gqe,s:qqe,S:ibn,u:abn,U:obn,V:sbn,w:ubn,W:lbn,x:null,X:null,y:cbn,Y:dbn,Z:gbn,"%":Wqe},$={a:de,A:me,b:Se,B:Ee,c:null,d:Vqe,e:Vqe,f:ybn,g:Obn,G:Rbn,H:pbn,I:vbn,j:mbn,L:hht,m:bbn,M:wbn,p:xe,q:Ie,Q:Gqe,s:qqe,S:_bn,u:xbn,U:Sbn,V:Ebn,w:Cbn,W:$bn,x:null,X:null,y:kbn,Y:Abn,Z:Tbn,"%":Wqe},k={a:R,A:D,b:j,B:U,c:H,d:Bqe,e:Bqe,f:Yyn,g:jqe,G:zqe,H:Hqe,I:Hqe,j:Vyn,L:qyn,m:Uyn,M:Wyn,p:N,q:Hyn,Q:Xyn,s:Zyn,S:Gyn,u:Fyn,U:Nyn,V:zyn,w:Iyn,W:jyn,x:Y,X:Z,y:jqe,Y:zqe,Z:Byn,"%":Kyn};C.x=M(n,C),C.X=M(r,C),C.c=M(t,C),$.x=M(n,$),$.X=M(r,$),$.c=M(t,$);function M(Ne,We){return function(Me){var He=[],gt=-1,Ye=0,ot=Ne.length,Ue,st,at;for(Me instanceof Date||(Me=new Date(+Me));++gt<ot;)Ne.charCodeAt(gt)===37&&(He.push(Ne.slice(Ye,gt)),(st=Nqe[Ue=Ne.charAt(++gt)])!=null?Ue=Ne.charAt(++gt):st=Ue==="e"?" ":"0",(at=We[Ue])&&(Ue=at(Me,st)),He.push(Ue),Ye=gt+1);return He.push(Ne.slice(Ye,gt)),He.join("")}}function A(Ne,We){return function(Me){var He=xB(1900,void 0,1),gt=L(He,Ne,Me+="",0),Ye,ot;if(gt!=Me.length)return null;if("Q"in He)return new Date(He.Q);if("s"in He)return new Date(He.s*1e3+("L"in He?He.L:0));if(We&&!("Z"in He)&&(He.Z=0),"p"in He&&(He.H=He.H%12+He.p*12),He.m===void 0&&(He.m="q"in He?He.q:0),"V"in He){if(He.V<1||He.V>53)return null;"w"in He||(He.w=1),"Z"in He?(Ye=W1e(xB(He.y,0,1)),ot=Ye.getUTCDay(),Ye=ot>4||ot===0?Qre.ceil(Ye):Qre(Ye),Ye=n3.offset(Ye,(He.V-1)*7),He.y=Ye.getUTCFullYear(),He.m=Ye.getUTCMonth(),He.d=Ye.getUTCDate()+(He.w+6)%7):(Ye=V1e(xB(He.y,0,1)),ot=Ye.getDay(),Ye=ot>4||ot===0?Zre.ceil(Ye):Zre(Ye),Ye=ik.offset(Ye,(He.V-1)*7),He.y=Ye.getFullYear(),He.m=Ye.getMonth(),He.d=Ye.getDate()+(He.w+6)%7)}else("W"in He||"U"in He)&&("w"in He||(He.w="u"in He?He.u%7:"W"in He?1:0),ot="Z"in He?W1e(xB(He.y,0,1)).getUTCDay():V1e(xB(He.y,0,1)).getDay(),He.m=0,He.d="W"in He?(He.w+6)%7+He.W*7-(ot+5)%7:He.w+He.U*7-(ot+6)%7);return"Z"in He?(He.H+=He.Z/100|0,He.M+=He.Z%100,W1e(He)):V1e(He)}}function L(Ne,We,Me,He){for(var gt=0,Ye=We.length,ot=Me.length,Ue,st;gt<Ye;){if(He>=ot)return-1;if(Ue=We.charCodeAt(gt++),Ue===37){if(Ue=We.charAt(gt++),st=k[Ue in Nqe?We.charAt(gt++):Ue],!st||(He=st(Ne,Me,He))<0)return-1}else if(Ue!=Me.charCodeAt(He++))return-1}return He}function N(Ne,We,Me){var He=d.exec(We.slice(Me));return He?(Ne.p=c.get(He[0].toLowerCase()),Me+He[0].length):-1}function R(Ne,We,Me){var He=v.exec(We.slice(Me));return He?(Ne.w=m.get(He[0].toLowerCase()),Me+He[0].length):-1}function D(Ne,We,Me){var He=h.exec(We.slice(Me));return He?(Ne.w=p.get(He[0].toLowerCase()),Me+He[0].length):-1}function j(Ne,We,Me){var He=_.exec(We.slice(Me));return He?(Ne.m=S.get(He[0].toLowerCase()),Me+He[0].length):-1}function U(Ne,We,Me){var He=y.exec(We.slice(Me));return He?(Ne.m=w.get(He[0].toLowerCase()),Me+He[0].length):-1}function H(Ne,We,Me){return L(Ne,t,We,Me)}function Y(Ne,We,Me){return L(Ne,n,We,Me)}function Z(Ne,We,Me){return L(Ne,r,We,Me)}function Q(Ne){return s[Ne.getDay()]}function ee(Ne){return a[Ne.getDay()]}function oe(Ne){return f[Ne.getMonth()]}function ue(Ne){return u[Ne.getMonth()]}function ve(Ne){return i[+(Ne.getHours()>=12)]}function le(Ne){return 1+~~(Ne.getMonth()/3)}function de(Ne){return s[Ne.getUTCDay()]}function me(Ne){return a[Ne.getUTCDay()]}function Se(Ne){return f[Ne.getUTCMonth()]}function Ee(Ne){return u[Ne.getUTCMonth()]}function xe(Ne){return i[+(Ne.getUTCHours()>=12)]}function Ie(Ne){return 1+~~(Ne.getUTCMonth()/3)}return{format:function(Ne){var We=M(Ne+="",C);return We.toString=function(){return Ne},We},parse:function(Ne){var We=A(Ne+="",!1);return We.toString=function(){return Ne},We},utcFormat:function(Ne){var We=M(Ne+="",$);return We.toString=function(){return Ne},We},utcParse:function(Ne){var We=A(Ne+="",!0);return We.toString=function(){return Ne},We}}}var Nqe={"-":"",_:" ",0:"0"},Wh=/^\s*\d+/,Pyn=/^%/,Lyn=/[\\^$*+?|[\]().{}]/g;function Ts(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Dyn(e){return e.replace(Lyn,"\\$&")}function SB(e){return new RegExp("^(?:"+e.map(Dyn).join("|")+")","i")}function EB(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Iyn(e,t,n){var r=Wh.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Fyn(e,t,n){var r=Wh.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Nyn(e,t,n){var r=Wh.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function zyn(e,t,n){var r=Wh.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function jyn(e,t,n){var r=Wh.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function zqe(e,t,n){var r=Wh.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function jqe(e,t,n){var r=Wh.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Byn(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Hyn(e,t,n){var r=Wh.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Uyn(e,t,n){var r=Wh.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Bqe(e,t,n){var r=Wh.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Vyn(e,t,n){var r=Wh.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Hqe(e,t,n){var r=Wh.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Wyn(e,t,n){var r=Wh.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Gyn(e,t,n){var r=Wh.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function qyn(e,t,n){var r=Wh.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Yyn(e,t,n){var r=Wh.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kyn(e,t,n){var r=Pyn.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Xyn(e,t,n){var r=Wh.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Zyn(e,t,n){var r=Wh.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Uqe(e,t){return Ts(e.getDate(),t,2)}function Qyn(e,t){return Ts(e.getHours(),t,2)}function Jyn(e,t){return Ts(e.getHours()%12||12,t,2)}function ebn(e,t){return Ts(1+ik.count(fE(e),e),t,3)}function fht(e,t){return Ts(e.getMilliseconds(),t,3)}function tbn(e,t){return fht(e,t)+"000"}function nbn(e,t){return Ts(e.getMonth()+1,t,2)}function rbn(e,t){return Ts(e.getMinutes(),t,2)}function ibn(e,t){return Ts(e.getSeconds(),t,2)}function abn(e){var t=e.getDay();return t===0?7:t}function obn(e,t){return Ts(f7.count(fE(e)-1,e),t,2)}function dht(e){var t=e.getDay();return t>=4||t===0?DN(e):DN.ceil(e)}function sbn(e,t){return e=dht(e),Ts(DN.count(fE(e),e)+(fE(e).getDay()===4),t,2)}function ubn(e){return e.getDay()}function lbn(e,t){return Ts(Zre.count(fE(e)-1,e),t,2)}function cbn(e,t){return Ts(e.getFullYear()%100,t,2)}function fbn(e,t){return e=dht(e),Ts(e.getFullYear()%100,t,2)}function dbn(e,t){return Ts(e.getFullYear()%1e4,t,4)}function hbn(e,t){var n=e.getDay();return e=n>=4||n===0?DN(e):DN.ceil(e),Ts(e.getFullYear()%1e4,t,4)}function gbn(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ts(t/60|0,"0",2)+Ts(t%60,"0",2)}function Vqe(e,t){return Ts(e.getUTCDate(),t,2)}function pbn(e,t){return Ts(e.getUTCHours(),t,2)}function vbn(e,t){return Ts(e.getUTCHours()%12||12,t,2)}function mbn(e,t){return Ts(1+n3.count(dE(e),e),t,3)}function hht(e,t){return Ts(e.getUTCMilliseconds(),t,3)}function ybn(e,t){return hht(e,t)+"000"}function bbn(e,t){return Ts(e.getUTCMonth()+1,t,2)}function wbn(e,t){return Ts(e.getUTCMinutes(),t,2)}function _bn(e,t){return Ts(e.getUTCSeconds(),t,2)}function xbn(e){var t=e.getUTCDay();return t===0?7:t}function Sbn(e,t){return Ts(d7.count(dE(e)-1,e),t,2)}function ght(e){var t=e.getUTCDay();return t>=4||t===0?IN(e):IN.ceil(e)}function Ebn(e,t){return e=ght(e),Ts(IN.count(dE(e),e)+(dE(e).getUTCDay()===4),t,2)}function Cbn(e){return e.getUTCDay()}function $bn(e,t){return Ts(Qre.count(dE(e)-1,e),t,2)}function kbn(e,t){return Ts(e.getUTCFullYear()%100,t,2)}function Obn(e,t){return e=ght(e),Ts(e.getUTCFullYear()%100,t,2)}function Abn(e,t){return Ts(e.getUTCFullYear()%1e4,t,4)}function Rbn(e,t){var n=e.getUTCDay();return e=n>=4||n===0?IN(e):IN.ceil(e),Ts(e.getUTCFullYear()%1e4,t,4)}function Tbn(){return"+0000"}function Wqe(){return"%"}function Gqe(e){return+e}function qqe(e){return Math.floor(+e/1e3)}var p6,yAe,pht,bAe,vht;Mbn({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mbn(e){return p6=cht(e),yAe=p6.format,pht=p6.parse,bAe=p6.utcFormat,vht=p6.utcParse,p6}function $H(e){const t={};return n=>t[n]||(t[n]=e(n))}function Pbn(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let a=Lbn(r,i);const s=a<r.length?r.slice(a):"";for(;--a>i;)if(r[a]!=="0"){++a;break}return r.slice(0,a)+s}}function Lbn(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function mht(e){const t=$H(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=SP(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return Pbn(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,a,s){s=SP(s??",f");const u=T3(r,i,a),f=Math.max(Math.abs(r),Math.abs(i));let d;if(s.precision==null)switch(s.type){case"s":return isNaN(d=Bdt(u,f))||(s.precision=d),n(s,f);case"":case"e":case"g":case"p":case"r":{isNaN(d=Hdt(u,f))||(s.precision=d-(s.type==="e"));break}case"f":case"%":{isNaN(d=jdt(u))||(s.precision=d-(s.type==="%")*2);break}}return t(s)}}}let wxe;yht();function yht(){return wxe=mht({format:gue,formatPrefix:hAe})}function bht(e){return mht(zdt(e))}function Jre(e){return arguments.length?wxe=bht(e):wxe}function Yqe(e,t,n){n=n||{},Gr(n)||xn(`Invalid time multi-format specifier: ${n}`);const r=t(rw),i=t(fy),a=t(cy),s=t(Mm),u=t(Wd),f=t(Bp),d=t(Tm),c=t(jg),h=e(n[$_]||".%L"),p=e(n[rw]||":%S"),v=e(n[fy]||"%I:%M"),m=e(n[cy]||"%I %p"),y=e(n[Mm]||n[Lp]||"%a %d"),w=e(n[Wd]||"%b %d"),_=e(n[Bp]||"%B"),S=e(n[Tm]||"%B"),C=e(n[jg]||"%Y");return $=>(r($)<$?h:i($)<$?p:a($)<$?v:s($)<$?m:f($)<$?u($)<$?y:w:c($)<$?d($)<$?_:S:C)($)}function wht(e){const t=$H(e.format),n=$H(e.utcFormat);return{timeFormat:r=>Pr(r)?t(r):Yqe(t,h7,r),utcFormat:r=>Pr(r)?n(r):Yqe(n,g7,r),timeParse:$H(e.parse),utcParse:$H(e.utcParse)}}let _xe;_ht();function _ht(){return _xe=wht({format:yAe,parse:pht,utcFormat:bAe,utcParse:vht})}function xht(e){return wht(cht(e))}function ZV(e){return arguments.length?_xe=xht(e):_xe}const xxe=(e,t)=>Qa({},e,t);function Sht(e,t){const n=e?bht(e):Jre(),r=t?xht(t):ZV();return xxe(n,r)}function wAe(e,t){const n=arguments.length;return n&&n!==2&&xn("defaultLocale expects either zero or two arguments."),n?xxe(Jre(e),ZV(t)):xxe(Jre(),ZV())}function Dbn(){return yht(),_ht(),wAe()}const Ibn=/^(data:|([A-Za-z]+:)?\/\/)/,Fbn=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,Nbn=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Kqe="file://";function zbn(e,t){return n=>({options:n||{},sanitize:Bbn,load:jbn,fileAccess:!!t,file:Hbn(t),http:Vbn(e)})}async function jbn(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function Bbn(e,t){t=Qa({},this.options,t);const n=this.fileAccess,r={href:null};let i,a,s;const u=Fbn.test(e.replace(Nbn,""));(e==null||typeof e!="string"||!u)&&xn("Sanitize failure, invalid URI: "+ar(e));const f=Ibn.test(e);return(s=t.baseURL)&&!f&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),a=(i=e.startsWith(Kqe))||t.mode==="file"||t.mode!=="http"&&!f&&n,i?e=e.slice(Kqe.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),a=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!a}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function Hbn(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,a)=>{i?r(i):n(a)})}):Ubn}async function Ubn(){xn("No file system access.")}function Vbn(e){return e?async function(t,n){const r=Qa({},this.options.http,n),i=n&&n.response,a=await e(t,r);return a.ok?eo(a[i])?a[i]():a.text():xn(a.status+""+a.statusText)}:Wbn}async function Wbn(){xn("No HTTP fetch method available.")}const Gbn=e=>e!=null&&e===e,qbn=e=>e==="true"||e==="false"||e===!0||e===!1,Ybn=e=>!Number.isNaN(Date.parse(e)),Eht=e=>!Number.isNaN(+e)&&!(e instanceof Date),Kbn=e=>Eht(e)&&Number.isInteger(+e),Sxe={boolean:lAe,integer:Ip,number:Ip,date:cAe,string:fAe,unknown:Zp},JJ=[qbn,Kbn,Eht,Ybn],Xbn=["boolean","integer","number","date"];function Cht(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=JJ.length,i=JJ.map((a,s)=>s+1);for(let a=0,s=0,u,f;a<n;++a)for(f=t?e[a][t]:e[a],u=0;u<r;++u)if(i[u]&&Gbn(f)&&!JJ[u](f)&&(i[u]=0,++s,s===JJ.length))return"string";return Xbn[i.reduce((a,s)=>a===0?s:a,0)-1]}function $ht(e,t){return t.reduce((n,r)=>(n[r]=Cht(e,r),n),{})}function Xqe(e){const t=function(n,r){const i={delimiter:e};return _Ae(n,r?Qa(r,i):i)};return t.responseType="text",t}function _Ae(e,t){return t.header&&(e=t.header.map(ar).join(t.delimiter)+`
`+e),P1n(t.delimiter).parse(e+"")}_Ae.responseType="text";function Zbn(e){return typeof Buffer=="function"&&eo(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function xAe(e,t){const n=t&&t.property?Rm(t.property):Zp;return Gr(e)&&!Zbn(e)?Qbn(n(e),t):n(JSON.parse(e))}xAe.responseType="json";function Qbn(e,t){return!En(e)&&ydt(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const Jbn={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function kht(e,t){let n,r,i,a;return e=xAe(e,t),t&&t.feature?(n=F1n,i=t.feature):t&&t.mesh?(n=z1n,i=t.mesh,a=Jbn[t.filter]):xn("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,a):xn("Invalid TopoJSON object: "+i),r&&r.features||[r]}kht.responseType="json";const Pte={dsv:_Ae,csv:Xqe(","),tsv:Xqe("	"),json:xAe,topojson:kht};function SAe(e,t){return arguments.length>1?(Pte[e]=t,this):Ui(Pte,e)?Pte[e]:null}function Oht(e){const t=SAe(e);return t&&t.responseType||"text"}function Aht(e,t,n,r){t=t||{};const i=SAe(t.type||"json");return i||xn("Unknown data format type: "+t.type),e=i(e,t),t.parse&&ewn(e,t.parse,n,r),Ui(e,"columns")&&delete e.columns,e}function ewn(e,t,n,r){if(!e.length)return;const i=ZV();n=n||i.timeParse,r=r||i.utcParse;let a=e.columns||Object.keys(e[0]),s,u,f,d,c,h;t==="auto"&&(t=$ht(e,a)),a=Object.keys(t);const p=a.map(v=>{const m=t[v];let y,w;if(m&&(m.startsWith("date:")||m.startsWith("utc:")))return y=m.split(/:(.+)?/,2),w=y[1],(w[0]==="'"&&w[w.length-1]==="'"||w[0]==='"'&&w[w.length-1]==='"')&&(w=w.slice(1,-1)),(y[0]==="utc"?r:n)(w);if(!Sxe[m])throw Error("Illegal format pattern: "+v+":"+m);return Sxe[m]});for(f=0,c=e.length,h=a.length;f<c;++f)for(s=e[f],d=0;d<h;++d)u=a[d],s[u]=p[d](s[u])}const wue=zbn(typeof fetch<"u"&&fetch,null);function _ue(e){const t=e||Zp,n=[],r={};return n.add=i=>{const a=t(i);return r[a]||(r[a]=1,n.push(i)),n},n.remove=i=>{const a=t(i);if(r[a]){r[a]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function Lte(e,t){try{await t(e)}catch(n){e.error(n)}}const Rht=Symbol("vega_id");let twn=1;function xue(e){return!!(e&&zi(e))}function zi(e){return e[Rht]}function Tht(e,t){return e[Rht]=t,e}function Gs(e){const t=e===Object(e)?e:{data:e};return zi(t)?t:Tht(t,twn++)}function EAe(e){return Sue(e,Gs({}))}function Sue(e,t){for(const n in e)t[n]=e[n];return t}function Mht(e,t){return Tht(t,zi(e))}function mL(e,t){return e?t?(n,r)=>e(n,r)||zi(t(n))-zi(t(r)):(n,r)=>e(n,r)||zi(n)-zi(r):null}function Pht(e){return e&&e.constructor===yL}function yL(){const e=[],t=[],n=[],r=[],i=[];let a=null,s=!1;return{constructor:yL,insert(u){const f=Mr(u),d=f.length;for(let c=0;c<d;++c)e.push(f[c]);return this},remove(u){const f=eo(u)?r:t,d=Mr(u),c=d.length;for(let h=0;h<c;++h)f.push(d[h]);return this},modify(u,f,d){const c={field:f,value:Qp(d)};return eo(u)?(c.filter=u,i.push(c)):(c.tuple=u,n.push(c)),this},encode(u,f){return eo(u)?i.push({filter:u,field:f}):n.push({tuple:u,field:f}),this},clean(u){return a=u,this},reflow(){return s=!0,this},pulse(u,f){const d={},c={};let h,p,v,m,y,w;for(h=0,p=f.length;h<p;++h)d[zi(f[h])]=1;for(h=0,p=t.length;h<p;++h)y=t[h],d[zi(y)]=-1;for(h=0,p=r.length;h<p;++h)m=r[h],f.forEach(S=>{m(S)&&(d[zi(S)]=-1)});for(h=0,p=e.length;h<p;++h)y=e[h],w=zi(y),d[w]?d[w]=1:u.add.push(Gs(e[h]));for(h=0,p=f.length;h<p;++h)y=f[h],d[zi(y)]<0&&u.rem.push(y);function _(S,C,$){$?S[C]=$(S):u.encode=C,s||(c[zi(S)]=S)}for(h=0,p=n.length;h<p;++h)v=n[h],y=v.tuple,m=v.field,w=d[zi(y)],w>0&&(_(y,m,v.value),u.modifies(m));for(h=0,p=i.length;h<p;++h)v=i[h],m=v.filter,f.forEach(S=>{m(S)&&d[zi(S)]>0&&_(S,v.field,v.value)}),u.modifies(v.field);if(s)u.mod=t.length||r.length?f.filter(S=>d[zi(S)]>0):f.slice();else for(w in c)u.mod.push(c[w]);return(a||a==null&&(t.length||r.length))&&u.clean(!0),u}}}const Dte="_:mod:_";function Eue(){Object.defineProperty(this,Dte,{writable:!0,value:{}})}Eue.prototype={set(e,t,n,r){const i=this,a=i[e],s=i[Dte];return t!=null&&t>=0?(a[t]!==n||r)&&(a[t]=n,s[t+":"+e]=-1,s[e]=-1):(a!==n||r)&&(i[e]=n,s[e]=En(n)?1+n.length:-1),i},modified(e,t){const n=this[Dte];if(arguments.length){if(En(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[Dte]={},this}};let nwn=0;const rwn="pulse",iwn=new Eue,awn=1,own=2;function Wu(e,t,n,r){this.id=++nwn,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Zqe(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Wu.prototype={targets(){return this._targets||(this._targets=_ue(HG))},set(e){return this.value!==e?(this.value=e,1):0},skip:Zqe(awn),modified:Zqe(own),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new Eue,i=this._argops=this._argops||[],a=[];let s,u,f,d;const c=(h,p,v)=>{v instanceof Wu?(v!==this&&(t&&v.targets().add(this),a.push(v)),i.push({op:v,name:h,index:p})):r.set(h,p,v)};for(s in e)if(u=e[s],s===rwn)Mr(u).forEach(h=>{h instanceof Wu?h!==this&&(h.targets().add(this),a.push(h)):xn("Pulse parameters must be operator instances.")}),this.source=u;else if(En(u))for(r.set(s,-1,Array(f=u.length)),d=0;d<f;++d)c(s,d,u[d]);else c(s,-1,u);return this.marshall().clear(),n&&(i.initonly=!0),a},marshall(e){const t=this._argval||iwn,n=this._argops;let r,i,a,s;if(n){const u=n.length;for(i=0;i<u;++i)r=n[i],a=r.op,s=a.modified()&&a.stamp===e,t.set(r.name,r.index,a.value,s);if(n.initonly){for(i=0;i<u;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function swn(e,t,n,r){let i=1,a;return e instanceof Wu?a=e:e&&e.prototype instanceof Wu?a=new e:eo(e)?a=new Wu(null,e):(i=0,a=new Wu(e,t)),this.rank(a),i&&(r=n,n=t),n&&this.connect(a,a.parameters(n,r)),this.touch(a),a}function uwn(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let lwn=0;function Cue(e,t,n){this.id=++lwn,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function KA(e,t,n){return new Cue(e,t,n)}Cue.prototype={_filter:nw,_apply:Zp,targets(){return this._targets||(this._targets=_ue(HG))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=KA(e);return this.targets().add(t),t},apply(e){const t=KA(null,e);return this.targets().add(t),t},merge(){const e=KA();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=KA();return this.targets().add(KA(null,null,sAe(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(KA(null,null,()=>n=!0)),t.targets().add(KA(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=nw,this._targets=null}};function cwn(e,t,n,r){const i=this,a=KA(n,r),s=function(d){d.dataflow=i;try{a.receive(d)}catch(c){i.error(c)}finally{i.run()}};let u;typeof e=="string"&&typeof document<"u"?u=document.querySelectorAll(e):u=Mr(e);const f=u.length;for(let d=0;d<f;++d)u[d].addEventListener(t,s);return a}function fwn(e,t){const n=this.locale();return Aht(e,t,n.timeParse,n.utcParse)}function dwn(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function hwn(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:Oht(t&&t.type)});try{i=n.parse(i,t)}catch(a){r=-2,n.warn("Data ingestion failed",e,a)}}catch(a){r=-1,n.warn("Loading failed",e,a)}return{data:i,status:r}}async function gwn(e,t,n){const r=this,i=r._pending||pwn(r);i.requests+=1;const a=await r.request(t,n);return r.pulse(e,r.changeset().remove(nw).insert(a.data||[])),i.done(),a}function pwn(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const vwn={skip:!0};function mwn(e,t,n,r,i){return(e instanceof Wu?bwn:ywn)(this,e,t,n,r,i),this}function ywn(e,t,n,r,i,a){const s=Qa({},a,vwn);let u,f;eo(n)||(n=Qp(n)),r===void 0?u=d=>e.touch(n(d)):eo(r)?(f=new Wu(null,r,i,!1),u=d=>{f.evaluate(d);const c=n(d),h=f.value;Pht(h)?e.pulse(c,h,a):e.update(c,h,s)}):u=d=>e.update(n(d),r,s),t.apply(u)}function bwn(e,t,n,r,i,a){if(r===void 0)t.targets().add(n);else{const s=a||{},u=new Wu(null,wwn(n,r),i,!1);u.modified(s.force),u.rank=t.rank,t.targets().add(u),n&&(u.skip(!0),u.value=n.value,u.targets().add(n),e.connect(n,[u]))}}function wwn(e,t){return t=eo(t)?t:Qp(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function _wn(e){e.rank=++this._rank}function xwn(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&xn("Cycle detected in dataflow graph.")}const eie={},wS=1<<0,oR=1<<1,M$=1<<2,Swn=wS|oR,Qqe=wS|M$,v6=wS|oR|M$,Jqe=1<<3,CB=1<<4,eYe=1<<5,tYe=1<<6;function r3(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function G1e(e,t){const n=[];return aR(e,t,r=>n.push(r)),n}function nYe(e,t){const n={};return e.visit(t,r=>{n[zi(r)]=1}),r=>n[zi(r)]?null:r}function eee(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}r3.prototype={StopPropagation:eie,ADD:wS,REM:oR,MOD:M$,ADD_REM:Swn,ADD_MOD:Qqe,ALL:v6,REFLOW:Jqe,SOURCE:CB,NO_SOURCE:eYe,NO_FIELDS:tYe,fork(e){return new r3(this.dataflow).init(this,e)},clone(){const e=this.fork(v6);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(v6|CB)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new r3(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&tYe)&&(n.fields=e.fields),t&wS?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&oR?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&M$?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&eYe?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||v6;return t&wS&&this.add.length||t&oR&&this.rem.length||t&M$&&this.mod.length},reflow(e){if(e)return this.fork(v6).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(M$,nYe(this,wS))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return En(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?En(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&wS&&(n.addF=eee(n.addF,t)),e&oR&&(n.remF=eee(n.remF,t)),e&M$&&(n.modF=eee(n.modF,t)),e&CB&&(n.srcF=eee(n.srcF,t)),n},materialize(e){e=e||v6;const t=this;return e&wS&&t.addF&&(t.add=G1e(t.add,t.addF),t.addF=null),e&oR&&t.remF&&(t.rem=G1e(t.rem,t.remF),t.remF=null),e&M$&&t.modF&&(t.mod=G1e(t.mod,t.modF),t.modF=null),e&CB&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&CB)return aR(n.source,n.srcF,r),n;e&wS&&aR(n.add,n.addF,r),e&oR&&aR(n.rem,n.remF,r),e&M$&&aR(n.mod,n.modF,r);const i=n.source;if(e&Jqe&&i){const a=n.add.length+n.mod.length;a===i.length||(a?aR(i,nYe(n,Qqe),r):aR(i,n.srcF,r))}return n}};function CAe(e,t,n,r){const i=this;let a=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const u=i.fields||(i.fields={});for(const f in s.fields)u[f]=1}s.changed(i.ADD)&&(a|=i.ADD),s.changed(i.REM)&&(a|=i.REM),s.changed(i.MOD)&&(a|=i.MOD)}this.changes=a}tr(CAe,r3,{fork(e){const t=new r3(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?En(e)?e.some(r=>n[r]):n[e]:0},filter(){xn("MultiPulse does not support filtering.")},materialize(){xn("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}});async function Ewn(e,t,n){const r=this,i=[];if(r._pulse)return Lht(r);if(r._pending&&await r._pending,t&&await Lte(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const a=++r._clock;r._pulse=new r3(r,a,e),r._touched.forEach(c=>r._enqueue(c,!0)),r._touched=_ue(HG);let s=0,u,f,d;try{for(;r._heap.size()>0;){if(u=r._heap.pop(),u.rank!==u.qrank){r._enqueue(u,!0);continue}f=u.run(r._getPulse(u,e)),f.then?f=await f:f.async&&(i.push(f.async),f=eie),f!==eie&&u._targets&&u._targets.forEach(c=>r._enqueue(c)),++s}}catch(c){r._heap.clear(),d=c}if(r._input={},r._pulse=null,r.debug(`Pulse ${a}: ${s} operators`),d&&(r._postrun=[],r.error(d)),r._postrun.length){const c=r._postrun.sort((h,p)=>p.priority-h.priority);r._postrun=[];for(let h=0;h<c.length;++h)await Lte(r,c[h].callback)}return n&&await Lte(r,n),i.length&&Promise.all(i).then(c=>r.runAsync(null,()=>{c.forEach(h=>{try{h(r)}catch(p){r.error(p)}})})),r}async function Cwn(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function $wn(e,t,n){return this._pulse?Lht(this):(this.evaluate(e,t,n),this)}function kwn(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function Lht(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function Own(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Awn(e,t){const n=e.source,r=this._clock;return n&&En(n)?new CAe(this,r,n.map(i=>i.pulse),t):this._input[e.id]||Rwn(this._pulse,n&&n.pulse)}function Rwn(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==eie&&(e.source=t.source),e)}const $Ae={skip:!1,force:!1};function Twn(e,t){const n=t||$Ae;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function Mwn(e,t,n){const r=n||$Ae;return(e.set(t)||r.force)&&this.touch(e,r),this}function Pwn(e,t,n){this.touch(e,n||$Ae);const r=new r3(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function Lwn(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),Dht(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,Dwn(t,0,e)):r=n,r}}}function Dht(e,t,n,r){let i,a;const s=e[n];for(;n>t;){if(a=n-1>>1,i=e[a],r(s,i)<0){e[n]=i,n=a;continue}break}return e[n]=s}function Dwn(e,t,n){const r=t,i=e.length,a=e[t];let s=(t<<1)+1,u;for(;s<i;)u=s+1,u<i&&n(e[s],e[u])>=0&&(s=u),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=a,Dht(e,r,t,n)}function NF(){this.logger(nAe()),this.logLevel(eAe),this._clock=0,this._rank=0,this._locale=wAe();try{this._loader=wue()}catch{}this._touched=_ue(HG),this._input={},this._pulse=null,this._heap=Lwn((e,t)=>e.qrank-t.qrank),this._postrun=[]}function $B(e){return function(){return this._log[e].apply(this,arguments)}}NF.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:$B("error"),warn:$B("warn"),info:$B("info"),debug:$B("debug"),logLevel:$B("level"),cleanThreshold:1e4,add:swn,connect:uwn,rank:_wn,rerank:xwn,pulse:Pwn,touch:Twn,update:Mwn,changeset:yL,ingest:dwn,parse:fwn,preload:gwn,request:hwn,events:cwn,on:mwn,evaluate:Ewn,run:$wn,runAsync:Cwn,runAfter:kwn,_enqueue:Own,_getPulse:Awn};function dn(e,t){Wu.call(this,e,null,t)}tr(dn,Wu,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const NN={};function Iht(e){const t=Fht(e);return t&&t.Definition||null}function Fht(e){return e=e&&e.toLowerCase(),Ui(NN,e)?NN[e]:null}function*Nht(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function kAe(e,t,n){const r=Float64Array.from(Nht(e,n));return r.sort(rk),t.map(i=>Ldt(r,i))}function OAe(e,t){return kAe(e,[.25,.5,.75],t)}function AAe(e,t){const n=e.length,r=q1n(e,t),i=OAe(e,t),a=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,a)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function zht(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let a=e.extent[0],s=e.extent[1],u,f,d,c,h,p;const v=e.span||s-a||Math.abs(a)||1;if(e.step)u=e.step;else if(e.steps){for(c=v/t,h=0,p=e.steps.length;h<p&&e.steps[h]<c;++h);u=e.steps[Math.max(0,h-1)]}else{for(f=Math.ceil(Math.log(t)/r),d=e.minstep||0,u=Math.max(d,Math.pow(n,Math.round(Math.log(v)/r)-f));Math.ceil(v/u)>t;)u*=n;for(h=0,p=i.length;h<p;++h)c=u/i[h],c>=d&&v/c<=t&&(u=c)}c=Math.log(u);const m=c>=0?0:~~(-c/r)+1,y=Math.pow(n,-m-1);return(e.nice||e.nice===void 0)&&(c=Math.floor(a/u+y)*u,a=a<c?c-u:c,s=Math.ceil(s/u)*u),{start:a,stop:s===a?a+u:s,step:u}}var iw=Math.random;function Iwn(e){iw=e}function jht(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(Nht(e,r)),a=i.length,s=t;let u,f,d,c;for(d=0,c=Array(s);d<s;++d){for(u=0,f=0;f<a;++f)u+=i[~~(iw()*a)];c[d]=u/a}return c.sort(rk),[gxe(c,n/2),gxe(c,1-n/2)]}function Bht(e,t,n,r){r=r||(p=>p);const i=e.length,a=new Float64Array(i);let s=0,u=1,f=r(e[0]),d=f,c=f+t,h;for(;u<i;++u){if(h=r(e[u]),h>=c){for(d=(f+d)/2;s<u;++s)a[s]=d;c=h+t,f=h}d=h}for(d=(f+d)/2;s<u;++s)a[s]=d;return n?Fwn(a,t+t/4):a}function Fwn(e,t){const n=e.length;let r=0,i=1,a,s;for(;e[r]===e[i];)++i;for(;i<n;){for(a=i+1;e[i]===e[a];)++a;if(e[i]-e[i-1]<t){for(s=i+(r+a-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=a}return e}function Nwn(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function zwn(e,t){t==null&&(t=e,e=0);let n,r,i;const a={min(s){return arguments.length?(n=s||0,i=r-n,a):n},max(s){return arguments.length?(r=s||0,i=r-n,a):r},sample(){return n+Math.floor(i*iw())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const u=Math.floor(s);return u<n?0:u>=r?1:(u-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return a.min(e).max(t)}const Hht=Math.sqrt(2*Math.PI),jwn=Math.SQRT2;let kB=NaN;function $ue(e,t){e=e||0,t=t??1;let n=0,r=0,i,a;if(kB===kB)n=kB,kB=NaN;else{do n=iw()*2-1,r=iw()*2-1,i=n*n+r*r;while(i===0||i>1);a=Math.sqrt(-2*Math.log(i)/i),n*=a,kB=r*a}return e+n*t}function RAe(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*Hht)}function kue(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let a;if(i>37)a=0;else{const s=Math.exp(-i*i/2);let u;i<7.07106781186547?(u=.0352624965998911*i+.700383064443688,u=u*i+6.37396220353165,u=u*i+33.912866078383,u=u*i+112.079291497871,u=u*i+221.213596169931,u=u*i+220.206867912376,a=s*u,u=.0883883476483184*i+1.75566716318264,u=u*i+16.064177579207,u=u*i+86.7807322029461,u=u*i+296.564248779674,u=u*i+637.333633378831,u=u*i+793.826512519948,u=u*i+440.413735824752,a=a/u):(u=i+.65,u=i+4/u,u=i+3/u,u=i+2/u,u=i+1/u,a=s/u/2.506628274631)}return r>0?1-a:a}function Oue(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*jwn*Bwn(2*e-1)}function Bwn(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function TAe(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>$ue(n,r),pdf:a=>RAe(a,n,r),cdf:a=>kue(a,n,r),icdf:a=>Oue(a,n,r)};return i.mean(e).stdev(t)}function MAe(e,t){const n=TAe();let r=0;const i={data(a){return arguments.length?(e=a,r=a?a.length:0,i.bandwidth(t)):e},bandwidth(a){return arguments.length?(t=a,!t&&e&&(t=AAe(e)),i):t},sample(){return e[~~(iw()*r)]+t*n.sample()},pdf(a){let s=0,u=0;for(;u<r;++u)s+=n.pdf((a-e[u])/t);return s/t/r},cdf(a){let s=0,u=0;for(;u<r;++u)s+=n.cdf((a-e[u])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function PAe(e,t){return e=e||0,t=t??1,Math.exp(e+$ue()*t)}function LAe(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*Hht*e)}function DAe(e,t,n){return kue(Math.log(e),t,n)}function IAe(e,t,n){return Math.exp(Oue(e,t,n))}function Uht(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>PAe(n,r),pdf:a=>LAe(a,n,r),cdf:a=>DAe(a,n,r),icdf:a=>IAe(a,n,r)};return i.mean(e).stdev(t)}function Vht(e,t){let n=0,r;function i(s){const u=[];let f=0,d;for(d=0;d<n;++d)f+=u[d]=s[d]==null?1:+s[d];for(d=0;d<n;++d)u[d]/=f;return u}const a={weights(s){return arguments.length?(r=i(t=s||[]),a):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),a.weights(t)):e},sample(){const s=iw();let u=e[n-1],f=r[0],d=0;for(;d<n-1;f+=r[++d])if(s<f){u=e[d];break}return u.sample()},pdf(s){let u=0,f=0;for(;f<n;++f)u+=r[f]*e[f].pdf(s);return u},cdf(s){let u=0,f=0;for(;f<n;++f)u+=r[f]*e[f].cdf(s);return u},icdf(){throw Error("Mixture icdf not supported.")}};return a.distributions(e).weights(t)}function FAe(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*iw()}function NAe(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function zAe(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function jAe(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function Wht(e,t){let n,r;const i={min(a){return arguments.length?(n=a||0,i):n},max(a){return arguments.length?(r=a??1,i):r},sample:()=>FAe(n,r),pdf:a=>NAe(a,n,r),cdf:a=>zAe(a,n,r),icdf:a=>jAe(a,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function GG(e,t,n,r){const i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}function Aue(e,t,n,r){e=e.filter(v=>{let m=t(v),y=n(v);return m!=null&&(m=+m)>=m&&y!=null&&(y=+y)>=y}),r&&e.sort((v,m)=>t(v)-t(m));const i=e.length,a=new Float64Array(i),s=new Float64Array(i);let u=0,f=0,d=0,c,h,p;for(p of e)a[u]=c=+t(p),s[u]=h=+n(p),++u,f+=(c-f)/u,d+=(h-d)/u;for(u=0;u<i;++u)a[u]-=f,s[u]-=d;return[a,s,f,d]}function qG(e,t,n,r){let i=-1,a,s;for(const u of e)a=t(u),s=n(u),a!=null&&(a=+a)>=a&&s!=null&&(s=+s)>=s&&r(a,s,++i)}function p7(e,t,n,r,i){let a=0,s=0;return qG(e,t,n,(u,f)=>{const d=f-i(u),c=f-r;a+=d*d,s+=c*c}),1-a/s}function BAe(e,t,n){let r=0,i=0,a=0,s=0,u=0;qG(e,t,n,(c,h)=>{++u,r+=(c-r)/u,i+=(h-i)/u,a+=(c*h-a)/u,s+=(c*c-s)/u});const f=GG(r,i,a,s),d=c=>f[0]+f[1]*c;return{coef:f,predict:d,rSquared:p7(e,t,n,i,d)}}function Ght(e,t,n){let r=0,i=0,a=0,s=0,u=0;qG(e,t,n,(c,h)=>{++u,c=Math.log(c),r+=(c-r)/u,i+=(h-i)/u,a+=(c*h-a)/u,s+=(c*c-s)/u});const f=GG(r,i,a,s),d=c=>f[0]+f[1]*Math.log(c);return{coef:f,predict:d,rSquared:p7(e,t,n,i,d)}}function qht(e,t,n){const[r,i,a,s]=Aue(e,t,n);let u=0,f=0,d=0,c=0,h=0,p,v,m;qG(e,t,n,(S,C)=>{p=r[h++],v=Math.log(C),m=p*C,u+=(C*v-u)/h,f+=(m-f)/h,d+=(m*v-d)/h,c+=(p*m-c)/h});const[y,w]=GG(f/s,u/s,d/s,c/s),_=S=>Math.exp(y+w*(S-a));return{coef:[Math.exp(y-w*a),w],predict:_,rSquared:p7(e,t,n,s,_)}}function Yht(e,t,n){let r=0,i=0,a=0,s=0,u=0,f=0;qG(e,t,n,(h,p)=>{const v=Math.log(h),m=Math.log(p);++f,r+=(v-r)/f,i+=(m-i)/f,a+=(v*m-a)/f,s+=(v*v-s)/f,u+=(p-u)/f});const d=GG(r,i,a,s),c=h=>d[0]*Math.pow(h,d[1]);return d[0]=Math.exp(d[0]),{coef:d,predict:c,rSquared:p7(e,t,n,u,c)}}function HAe(e,t,n){const[r,i,a,s]=Aue(e,t,n),u=r.length;let f=0,d=0,c=0,h=0,p=0,v,m,y,w;for(v=0;v<u;)m=r[v],y=i[v++],w=m*m,f+=(w-f)/v,d+=(w*m-d)/v,c+=(w*w-c)/v,h+=(m*y-h)/v,p+=(w*y-p)/v;const _=c-f*f,S=f*_-d*d,C=(p*f-h*d)/S,$=(h*_-p*d)/S,k=-C*f,M=A=>(A=A-a,C*A*A+$*A+k+s);return{coef:[k-$*a+C*a*a+s,$-2*C*a,C],predict:M,rSquared:p7(e,t,n,s,M)}}function Kht(e,t,n,r){if(r===1)return BAe(e,t,n);if(r===2)return HAe(e,t,n);const[i,a,s,u]=Aue(e,t,n),f=i.length,d=[],c=[],h=r+1;let p,v,m,y,w;for(p=0;p<h;++p){for(m=0,y=0;m<f;++m)y+=Math.pow(i[m],p)*a[m];for(d.push(y),w=new Float64Array(h),v=0;v<h;++v){for(m=0,y=0;m<f;++m)y+=Math.pow(i[m],p+v);w[v]=y}c.push(w)}c.push(d);const _=Uwn(c),S=C=>{C-=s;let $=u+_[0]+_[1]*C+_[2]*C*C;for(p=3;p<h;++p)$+=_[p]*Math.pow(C,p);return $};return{coef:Hwn(h,_,-s,u),predict:S,rSquared:p7(e,t,n,u,S)}}function Hwn(e,t,n,r){const i=Array(e);let a,s,u,f;for(a=0;a<e;++a)i[a]=0;for(a=e-1;a>=0;--a)for(u=t[a],f=1,i[a]+=u,s=1;s<=a;++s)f*=(a+1-s)/s,i[a-s]+=u*Math.pow(n,s)*f;return i[0]+=r,i}function Uwn(e){const t=e.length-1,n=[];let r,i,a,s,u;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(a=r;a<t+1;++a)u=e[a][r],e[a][r]=e[a][s],e[a][s]=u;for(i=r+1;i<t;++i)for(a=t;a>=r;a--)e[a][i]-=e[a][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(u=0,a=i+1;a<t;++a)u+=e[a][i]*n[a];n[i]=(e[t][i]-u)/e[i][i]}return n}const rYe=2,iYe=1e-12;function Xht(e,t,n,r){const[i,a,s,u]=Aue(e,t,n,!0),f=i.length,d=Math.max(2,~~(r*f)),c=new Float64Array(f),h=new Float64Array(f),p=new Float64Array(f).fill(1);for(let v=-1;++v<=rYe;){const m=[0,d-1];for(let w=0;w<f;++w){const _=i[w],S=m[0],C=m[1],$=_-i[S]>i[C]-_?S:C;let k=0,M=0,A=0,L=0,N=0;const R=1/Math.abs(i[$]-_||1);for(let U=S;U<=C;++U){const H=i[U],Y=a[U],Z=Vwn(Math.abs(_-H)*R)*p[U],Q=H*Z;k+=Z,M+=Q,A+=Y*Z,L+=Y*Q,N+=H*Q}const[D,j]=GG(M/k,A/k,L/k,N/k);c[w]=D+j*_,h[w]=Math.abs(a[w]-c[w]),Wwn(i,w+1,m)}if(v===rYe)break;const y=Ddt(h);if(Math.abs(y)<iYe)break;for(let w=0,_,S;w<f;++w)_=h[w]/(6*y),p[w]=_>=1?iYe:(S=1-_*_)*S}return Gwn(i,c,s,u)}function Vwn(e){return(e=1-e*e*e)*e*e}function Wwn(e,t,n){const r=e[t];let i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}function Gwn(e,t,n,r){const i=e.length,a=[];let s=0,u=0,f=[],d;for(;s<i;++s)d=e[s]+n,f[0]===d?f[1]+=(t[s]-f[1])/++u:(u=0,f[1]+=r,f=[d,t[s]],a.push(f));return f[1]+=r,a}const qwn=.5*Math.PI/180;function Rue(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=y=>[y,e(y)],a=t[0],s=t[1],u=s-a,f=u/r,d=[i(a)],c=[];if(n===r){for(let y=1;y<r;++y)d.push(i(a+y/n*u));return d.push(i(s)),d}else{c.push(i(s));for(let y=n;--y>0;)c.push(i(a+y/n*u))}let h=d[0],p=c[c.length-1];const v=1/u,m=Ywn(h[1],c);for(;p;){const y=i((h[0]+p[0])/2);y[0]-h[0]>=f&&Kwn(h,y,p,v,m)>qwn?c.push(y):(h=p,d.push(p),c.pop()),p=c[c.length-1]}return d}function Ywn(e,t){let n=e,r=e;const i=t.length;for(let a=0;a<i;++a){const s=t[a][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function Kwn(e,t,n,r,i){const a=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(a-s)}function Xwn(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function Exe(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:Xwn(e)}function Zht(e,t,n){return n||e+(t?"_"+t:"")}const q1e=()=>{},Zwn={init:q1e,add:q1e,rem:q1e,idx:0},QV={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},YG=Object.keys(QV).filter(e=>e!=="__count__");function Qwn(e,t){return n=>Qa({name:e,out:n||e},Zwn,t)}[...YG,"__count__"].forEach(e=>{QV[e]=Qwn(e,QV[e])});function Qht(e,t){return QV[e](t)}function Jht(e,t){return e.idx-t.idx}function Jwn(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=QV[i]())})};return e.forEach(n),Object.values(t).sort(Jht)}function e2n(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function t2n(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function n2n(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function r2n(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function egt(e,t){const n=t||Zp,r=Jwn(e),i=e.slice().sort(Jht);function a(s){this._ops=r,this._out=i,this.cell=s,this.init()}return a.prototype.init=e2n,a.prototype.add=t2n,a.prototype.rem=n2n,a.prototype.set=r2n,a.prototype.get=n,a.fields=e.map(s=>s.out),a}function UAe(e){this._key=e?Rm(e):zi,this.reset()}const qg=UAe.prototype;qg.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};qg.add=function(e){this._add.push(e)};qg.rem=function(e){this._rem.push(e)};qg.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,a=Array(r-i),s={};let u,f,d;for(u=0;u<i;++u)s[n(t[u])]=1;for(u=0,f=0;u<r;++u)s[n(d=e[u])]?s[n(d)]=0:a[f++]=d;return this._rem=[],this._add=a};qg.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,a;for(;--r>=0;)a=e(t[r])+"",Ui(n,a)||(n[a]=1,++i);return i};qg.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=vdt(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};qg.argmin=function(e){return this.extent(e)[0]||{}};qg.argmax=function(e){return this.extent(e)[1]||{}};qg.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};qg.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};qg.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=OAe(this.values(),e),this._get=e),this._q};qg.q1=function(e){return this.quartile(e)[0]};qg.q2=function(e){return this.quartile(e)[1]};qg.q3=function(e){return this.quartile(e)[2]};qg.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=jht(this.values(),1e3,.05,e),this._get=e),this._ci};qg.ci0=function(e){return this.ci(e)[0]};qg.ci1=function(e){return this.ci(e)[1]};function M3(e){dn.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}M3.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:YG},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};tr(M3,dn,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):{},t.visit(t.SOURCE,a=>n.add(a))):(n.value=n.value||n.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function a(u){let f,d,c,h;for(f in u)for(c=u[f].tuple,d=0;d<i;++d)r[d][h=c[n[d]]]=h}a(e._prev),a(t);function s(u,f,d){const c=n[d],h=r[d++];for(const p in h){const v=u?u+"|"+p:p;f[c]=h[p],d<i?s(v,f,d):t[v]||e.cell(v,f)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(w){const _=Mr(jp(w)),S=_.length;let C=0,$;for(;C<S;++C)r[$=_[C]]||(r[$]=1,t.push($))}this._dims=Mr(e.groupby),this._dnames=this._dims.map(w=>{const _=vf(w);return i(w),n.push(_),_}),this.cellkey=e.key?e.key:Exe(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const a=e.fields||[null],s=e.ops||["count"],u=e.as||[],f=a.length,d={};let c,h,p,v,m,y;for(f!==s.length&&xn("Unmatched number of fields and aggregate ops."),y=0;y<f;++y){if(c=a[y],h=s[y],c==null&&h!=="count"&&xn("Null aggregate field specified."),v=vf(c),m=Zht(h,v,u[y]),n.push(m),h==="count"){this._counts.push(m);continue}p=d[v],p||(i(c),p=d[v]=[],p.field=c,this._measures.push(p)),h!=="count"&&(this._countOnly=!1),p.push(Qht(h,m))}return this._measures=this._measures.map(w=>egt(w,w.field)),{}},cellkey:Exe(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let a=0;a<i;++a)n.agg[a]=new r[a](n)}return n.store&&(n.data=new UAe),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,a={};for(let s=0;s<i;++s)a[n[s]]=r[s](e);return t?Mht(t.tuple,a):Gs(a)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,a=r.length;i<a;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,a=e.add,s=e.rem,u=e.mod;let f,d,c,h;if(r)for(d in r)f=r[d],(!i||f.num)&&s.push(f.tuple);for(c=0,h=this._alen;c<h;++c)a.push(this.celltuple(t[c])),t[c]=null;for(c=0,h=this._mlen;c<h;++c)f=n[c],(f.num===0&&i?s:u).push(this.celltuple(f)),n[c]=null;return this._alen=this._mlen=0,this._prev=null,e}});const i2n=1e-14;function VAe(e){dn.call(this,null,e)}VAe.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};tr(VAe,dn,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,a=r.step,s=e.as||["bin0","bin1"],u=s[0],f=s[1];let d;return e.modified()?(t=t.reflow(!0),d=t.SOURCE):d=t.modified(jp(e.field))?t.ADD_MOD:t.ADD,t.visit(d,n?c=>{const h=r(c);c[u]=h,c[f]=h==null?null:i+a*(1+(h-i)/a)}:c=>c[u]=r(c)),t.modifies(n?s:u)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=zht(e),r=n.step;let i=n.start,a=i+Math.ceil((n.stop-i)/r)*r,s,u;(s=e.anchor)!=null&&(u=s-(i+r*Math.floor((s-i)/r)),i+=u,a+=u);const f=function(d){let c=Ip(t(d));return c==null?null:c<i?-1/0:c>a?1/0:(c=Math.max(i,Math.min(c,a-r)),i+r*Math.floor(i2n+(c-i)/r))};return f.start=i,f.stop=n.stop,f.step=r,this.value=jm(f,jp(t),e.name||"bin_"+vf(t))}});function tgt(e,t,n){const r=e;let i=t||[],a=n||[],s={},u=0;return{add:f=>a.push(f),remove:f=>s[r(f)]=++u,size:()=>i.length,data:(f,d)=>(u&&(i=i.filter(c=>!s[r(c)]),s={},u=0),d&&f&&i.sort(f),a.length&&(i=f?xdt(f,i,a.sort(f)):i.concat(a),a=[]),i)}}function WAe(e){dn.call(this,[],e)}WAe.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};tr(WAe,dn,{transform(e,t){const n=t.fork(t.ALL),r=tgt(zi,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(mL(i),a),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function ngt(e){Wu.call(this,null,a2n,e)}tr(ngt,Wu);function a2n(e){return this.value&&!e.modified()?this.value:oAe(e.fields,e.orders)}function GAe(e){dn.call(this,null,e)}GAe.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function o2n(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}tr(GAe,dn,{transform(e,t){const n=h=>p=>{for(var v=o2n(u(p),e.case,a)||[],m,y=0,w=v.length;y<w;++y)s.test(m=v[y])||h(m)},r=this._parameterCheck(e,t),i=this._counts,a=this._match,s=this._stop,u=e.field,f=e.as||["text","count"],d=n(h=>i[h]=1+(i[h]||0)),c=n(h=>i[h]-=1);return r?t.visit(t.SOURCE,d):(t.visit(t.ADD,d),t.visit(t.REM,c)),this._finish(t,f)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],a=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let u,f,d;for(u in n)f=r[u],d=n[u]||0,!f&&d?(r[u]=f=Gs({}),f[i]=u,f[a]=d,s.add.push(f)):d===0?(f&&s.rem.push(f),n[u]=null,r[u]=null):f[a]!==d&&(f[a]=d,s.mod.push(f));return s.modifies(t)}});function qAe(e){dn.call(this,null,e)}qAe.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};tr(qAe,dn,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],a=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let u=this.value;return s?(u&&(n.rem=u),u=t.materialize(t.SOURCE).source,n.add=this.value=s2n(u,i,a,e.filter||nw)):n.mod=u,n.source=this.value,n.modifies(r)}});function s2n(e,t,n,r){for(var i=[],a={},s=e.length,u=0,f,d;u<s;++u)for(a[t]=d=e[u],f=0;f<s;++f)a[n]=e[f],r(a)&&(i.push(Gs(a)),a={},a[t]=d);return i}const aYe={kde:MAe,mixture:Vht,normal:TAe,lognormal:Uht,uniform:Wht},u2n="distributions",oYe="function",l2n="field";function rgt(e,t){const n=e[oYe];Ui(aYe,n)||xn("Unknown distribution function: "+n);const r=aYe[n]();for(const i in e)i===l2n?r.data((e.from||t()).map(e[i])):i===u2n?r[i](e[i].map(a=>rgt(a,t))):typeof r[i]===oYe&&r[i](e[i]);return r}function YAe(e){dn.call(this,null,e)}const igt=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],c2n={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:igt},{name:"weights",type:"number",array:!0}]};YAe.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:igt.concat(c2n)},{name:"as",type:"string",array:!0,default:["value","density"]}]};tr(YAe,dn,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=rgt(e.distribution,f2n(t)),i=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&xn("Invalid density method: "+s),!e.extent&&!r.data&&xn("Missing density extent parameter."),s=r[s];const u=e.as||["value","density"],f=e.extent||cE(r.data()),d=Rue(s,f,i,a).map(c=>{const h={};return h[u[0]]=c[0],h[u[1]]=c[1],Gs(h)});this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});function f2n(e){return()=>e.materialize(e.SOURCE).source}function agt(e,t){return e?e.map((n,r)=>t[r]||vf(n)):null}function KAe(e,t,n){const r=[],i=h=>h(f);let a,s,u,f,d,c;if(t==null)r.push(e.map(n));else for(a={},s=0,u=e.length;s<u;++s)f=e[s],d=t.map(i),c=a[d],c||(a[d]=c=[],c.dims=d,r.push(c)),c.push(n(f));return r}const ogt="bin";function XAe(e){dn.call(this,null,e)}XAe.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:ogt}]};const d2n=(e,t)=>UG(cE(e,t))/30;tr(XAe,dn,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=KAe(t.source,e.groupby,Zp),i=e.smooth||!1,a=e.field,s=e.step||d2n(n,a),u=mL((m,y)=>a(m)-a(y)),f=e.as||ogt,d=r.length;let c=1/0,h=-1/0,p=0,v;for(;p<d;++p){const m=r[p].sort(u);v=-1;for(const y of Bht(m,s,i,a))y<c&&(c=y),y>h&&(h=y),m[++v][f]=y}return this.value={start:c,stop:h,step:s},t.reflow(!0).modifies(f)}});function sgt(e){Wu.call(this,null,h2n,e),this.modified(!0)}tr(sgt,Wu);function h2n(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:jm(n=>t(n,e),jp(t),vf(t))}function ZAe(e){dn.call(this,[void 0,void 0],e)}ZAe.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};tr(ZAe,dn,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let a=n[0],s=n[1];if((i||a==null)&&(a=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,u=>{const f=Ip(r(u));f!=null&&(f<a&&(a=f),f>s&&(s=f))}),!Number.isFinite(a)||!Number.isFinite(s)){let u=vf(r);u&&(u=` for field "${u}"`),t.dataflow.warn(`Infinite extent${u}: [${a}, ${s}]`),a=s=void 0}this.value=[a,s]}});function QAe(e,t){Wu.call(this,e),this.parent=t,this.count=0}tr(QAe,Wu,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function Tue(e){dn.call(this,{},e),this._keys=c7();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}tr(Tue,dn,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let a=Ui(i,e)&&i[e],s,u;return a?a.value.stamp<n.stamp&&(a.init(n),this.activate(a)):(u=r||(u=this._group[e])&&u.tuple,s=n.dataflow,a=new QAe(n.fork(n.NO_SOURCE),this),s.add(a).connect(t(s,e,u)),i[e]=a,this.activate(a)),a},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,a=this._keys,s=e.modified("key"),u=f=>this.subflow(f,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,f=>{const d=zi(f),c=a.get(d);c!==void 0&&(a.delete(d),u(c).rem(f))}),t.visit(t.ADD,f=>{const d=r(f);a.set(zi(f),d),u(d).add(f)}),s||t.modified(r.fields)?t.visit(t.MOD,f=>{const d=zi(f),c=a.get(d),h=r(f);c===h?u(h).mod(f):(a.set(d,h),u(c).rem(f),u(h).add(f))}):t.changed(t.MOD)&&t.visit(t.MOD,f=>{u(a.get(zi(f))).mod(f)}),s&&t.visit(t.REFLOW,f=>{const d=zi(f),c=a.get(d),h=r(f);c!==h&&(a.set(d,h),u(c).rem(f),u(h).add(f))}),t.clean()?n.runAfter(()=>{this.clean(),a.clean()}):a.empty>n.cleanThreshold&&n.runAfter(a.clean),t}});function ugt(e){Wu.call(this,null,g2n,e)}tr(ugt,Wu);function g2n(e){return this.value&&!e.modified()?this.value:En(e.name)?Mr(e.name).map(t=>Rm(t)):Rm(e.name,e.as)}function JAe(e){dn.call(this,c7(),e)}JAe.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};tr(JAe,dn,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),a=i.add,s=i.rem,u=i.mod,f=e.expr;let d=!0;t.visit(t.REM,h=>{const p=zi(h);r.has(p)?r.delete(p):s.push(h)}),t.visit(t.ADD,h=>{f(h,e)?a.push(h):r.set(zi(h),1)});function c(h){const p=zi(h),v=f(h,e),m=r.get(p);v&&m?(r.delete(p),a.push(h)):!v&&!m?(r.set(p,1),s.push(h)):d&&v&&!m&&u.push(h)}return t.visit(t.MOD,c),e.modified()&&(d=!1,t.visit(t.REFLOW,c)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function eRe(e){dn.call(this,[],e)}eRe.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};tr(eRe,dn,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=agt(r,e.as||[]),a=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,u=>{const f=r.map(m=>m(u)),d=f.reduce((m,y)=>Math.max(m,y.length),0);let c=0,h,p,v;for(;c<d;++c){for(p=EAe(u),h=0;h<s;++h)p[i[h]]=(v=f[h][c])==null?null:v;a&&(p[a]=c),n.add.push(p)}}),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(i)}});function tRe(e){dn.call(this,[],e)}tRe.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};tr(tRe,dn,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(vf),a=e.as||["key","value"],s=a[0],u=a[1],f=r.length;return n.rem=this.value,t.visit(t.SOURCE,d=>{for(let c=0,h;c<f;++c)h=EAe(d),h[s]=i[c],h[u]=r[c](d),n.add.push(h)}),this.value=n.source=n.add,n.modifies(a)}});function nRe(e){dn.call(this,null,e)}nRe.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};tr(nRe,dn,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,s=>s[r]=n(s,e))}});function lgt(e){dn.call(this,[],e)}tr(lgt,dn,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,a=e.size-i.length,s,u,f;if(a>0){for(s=[];--a>=0;)s.push(f=Gs(r(e))),i.push(f);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else u=i.slice(0,-a),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(u):u,i=i.slice(-a);return n.source=this.value=i,n}});const tee={value:"value",median:Ddt,mean:J1n,min:hxe,max:U5},p2n=[];function rRe(e){dn.call(this,[],e)}rRe.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function v2n(e){var t=e.method||tee.value,n;if(tee[t]==null)xn("Unrecognized imputation method: "+t);else return t===tee.value?(n=e.value!==void 0?e.value:0,()=>n):tee[t]}function m2n(e){const t=e.field;return n=>n?t(n):NaN}tr(rRe,dn,{transform(e,t){var n=t.fork(t.ALL),r=v2n(e),i=m2n(e),a=vf(e.field),s=vf(e.key),u=(e.groupby||[]).map(vf),f=y2n(t.source,e.groupby,e.key,e.keyvals),d=[],c=this.value,h=f.domain.length,p,v,m,y,w,_,S,C,$,k;for(w=0,C=f.length;w<C;++w)for(p=f[w],m=p.values,v=NaN,S=0;S<h;++S)if(p[S]==null){for(y=f.domain[S],k={_impute:!0},_=0,$=m.length;_<$;++_)k[u[_]]=m[_];k[s]=y,k[a]=Number.isNaN(v)?v=r(p,i):v,d.push(Gs(k))}return d.length&&(n.add=n.materialize(n.ADD).add.concat(d)),c.length&&(n.rem=n.materialize(n.REM).rem.concat(c)),this.value=d,n}});function y2n(e,t,n,r){var i=_=>_(w),a=[],s=r?r.slice():[],u={},f={},d,c,h,p,v,m,y,w;for(s.forEach((_,S)=>u[_]=S+1),p=0,y=e.length;p<y;++p)w=e[p],m=n(w),v=u[m]||(u[m]=s.push(m)),c=(d=t?t.map(i):p2n)+"",(h=f[c])||(h=f[c]=[],a.push(h),h.values=d),h[v-1]=w;return a.domain=s,a}function iRe(e){M3.call(this,e)}iRe.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:YG},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};tr(iRe,M3,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,a=>n.add(a))):(i=n.value=n.value||this.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),n.changes(),t.visit(t.SOURCE,a=>{Qa(a,i[n.cellkey(a)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function aRe(e){dn.call(this,null,e)}aRe.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};tr(aRe,dn,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=KAe(r,e.groupby,e.field),a=(e.groupby||[]).map(vf),s=e.bandwidth,u=e.cumulative?"cdf":"pdf",f=e.as||["value","density"],d=[];let c=e.extent,h=e.steps||e.minsteps||25,p=e.steps||e.maxsteps||200;u!=="pdf"&&u!=="cdf"&&xn("Invalid density method: "+u),e.resolve==="shared"&&(c||(c=cE(r,e.field)),h=p=e.steps||p),i.forEach(v=>{const m=MAe(v,s)[u],y=e.counts?v.length:1,w=c||cE(v);Rue(m,w,h,p).forEach(_=>{const S={};for(let C=0;C<a.length;++C)S[a[C]]=v.dims[C];S[f[0]]=_[0],S[f[1]]=_[1]*y,d.push(Gs(S))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});function cgt(e){Wu.call(this,null,b2n,e)}tr(cgt,Wu);function b2n(e){return this.value&&!e.modified()?this.value:uAe(e.fields,e.flat)}function fgt(e){dn.call(this,[],e),this._pending=null}tr(fgt,dn,{transform(e,t){const n=t.dataflow;return this._pending?Y1e(this,t,this._pending):w2n(e)?t.StopPropagation:e.values?Y1e(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Mr(i.data),a=>a.touch(this)))}:n.request(e.url,e.format).then(r=>Y1e(this,t,Mr(r.data)))}});function w2n(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function Y1e(e,t,n){n.forEach(Gs);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function oRe(e){dn.call(this,{},e)}oRe.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};tr(oRe,dn,{transform(e,t){const n=e.fields,r=e.index,i=e.values,a=e.default==null?null:e.default,s=e.modified(),u=n.length;let f=s?t.SOURCE:t.ADD,d=t,c=e.as,h,p,v;return i?(p=i.length,u>1&&!c&&xn('Multi-field lookup requires explicit "as" parameter.'),c&&c.length!==u*p&&xn('The "as" parameter has too few output field names.'),c=c||i.map(vf),h=function(m){for(var y=0,w=0,_,S;y<u;++y)if(S=r.get(n[y](m)),S==null)for(_=0;_<p;++_,++w)m[c[w]]=a;else for(_=0;_<p;++_,++w)m[c[w]]=i[_](S)}):(c||xn("Missing output field names."),h=function(m){for(var y=0,w;y<u;++y)w=r.get(n[y](m)),m[c[y]]=w??a}),s?d=t.reflow(!0):(v=n.some(m=>t.modified(m.fields)),f|=v?t.MOD:0),t.visit(f,h),d.modifies(c)}});function dgt(e){Wu.call(this,null,_2n,e)}tr(dgt,Wu);function _2n(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,a,s;for(a=0;a<n;++a)s=t[a],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function hgt(e){Wu.call(this,null,x2n,e)}tr(hgt,Wu);function x2n(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function ggt(e){dn.call(this,null,e)}tr(ggt,dn,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function sRe(e){M3.call(this,e)}sRe.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:YG,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};tr(sRe,M3,{_transform:M3.prototype.transform,transform(e,t){return this._transform(S2n(e,t),t)}});function S2n(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",a=jp(n).concat(jp(r)),s=C2n(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(u=>E2n(u,n,r,a)),as:s.map(u=>u+""),modified:e.modified.bind(e)}}function E2n(e,t,n,r){return jm(i=>t(i)===e?n(i):NaN,r,e+"")}function C2n(e,t,n){const r={},i=[];return n.visit(n.SOURCE,a=>{const s=e(a);r[s]||(r[s]=1,i.push(s))}),i.sort(hue),t?i.slice(0,t):i}function pgt(e){Tue.call(this,e)}tr(pgt,Tue,{transform(e,t){const n=e.subflow,r=e.field,i=a=>this.subflow(zi(a),n,t,a);return(e.modified("field")||r&&t.modified(jp(r)))&&xn("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,a=>{const s=i(a);r(a).forEach(u=>s.mod(u))}),t.visit(t.ADD,a=>{const s=i(a);r(a).forEach(u=>s.add(Gs(u)))}),t.visit(t.REM,a=>{const s=i(a);r(a).forEach(u=>s.rem(u))})):(t.visit(t.MOD,a=>i(a).mod(a)),t.visit(t.ADD,a=>i(a).add(a)),t.visit(t.REM,a=>i(a).rem(a))),t.clean()&&t.runAfter(()=>this.clean()),t}});function uRe(e){dn.call(this,null,e)}uRe.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};tr(uRe,dn,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=agt(e.fields,e.as||[]),a=r?(u,f)=>$2n(u,f,r,i):Sue;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,u=>{const f=zi(u);n.rem.push(s[f]),s[f]=null}),t.visit(t.ADD,u=>{const f=a(u,Gs({}));s[zi(u)]=f,n.add.push(f)}),t.visit(t.MOD,u=>{n.mod.push(a(u,s[zi(u)]))}),n}});function $2n(e,t,n,r){for(let i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}function vgt(e){dn.call(this,null,e)}tr(vgt,dn,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function lRe(e){dn.call(this,null,e)}lRe.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const k2n=1e-14;tr(lRe,dn,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,a=KAe(i,e.groupby,e.field),s=(e.groupby||[]).map(vf),u=[],f=e.step||.01,d=e.probs||ny(f/2,1-k2n,f),c=d.length;return a.forEach(h=>{const p=kAe(h,d);for(let v=0;v<c;++v){const m={};for(let y=0;y<s.length;++y)m[s[y]]=h.dims[y];m[r[0]]=d[v],m[r[1]]=p[v],u.push(Gs(m))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u,n}});function mgt(e){dn.call(this,null,e)}tr(mgt,dn,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const a=zi(i);n.rem.push(r[a]),r[a]=null}),t.visit(t.ADD,i=>{const a=EAe(i);r[zi(i)]=a,n.add.push(a)}),t.visit(t.MOD,i=>{const a=r[zi(i)];for(const s in i)a[s]=i[s],n.modifies(s);n.mod.push(a)})),n}});function cRe(e){dn.call(this,[],e),this.count=0}cRe.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};tr(cRe,dn,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,a=this.value.reduce((c,h)=>(c[zi(h)]=1,c),{});let s=this.value,u=this.count,f=0;function d(c){let h,p;s.length<i?s.push(c):(p=~~((u+1)*iw()),p<s.length&&p>=f&&(h=s[p],a[zi(h)]&&n.rem.push(h),s[p]=c)),++u}if(t.rem.length&&(t.visit(t.REM,c=>{const h=zi(c);a[h]&&(a[h]=-1,n.rem.push(c)),--u}),s=s.filter(c=>a[zi(c)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(f=u=s.length,t.visit(t.SOURCE,c=>{a[zi(c)]||d(c)}),f=-1),r&&s.length>i){const c=s.length-i;for(let h=0;h<c;++h)a[zi(s[h])]=-1,n.rem.push(s[h]);s=s.slice(c)}return t.mod.length&&t.visit(t.MOD,c=>{a[zi(c)]&&n.mod.push(c)}),t.add.length&&t.visit(t.ADD,d),(t.add.length||f<0)&&(n.add=s.filter(c=>!a[zi(c)])),this.count=u,this.value=n.source=s,n}});function fRe(e){dn.call(this,null,e)}fRe.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};tr(fRe,dn,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=ny(e.start,e.stop,e.step||1).map(i=>{const a={};return a[r]=i,Gs(a)}),n.add=t.add.concat(this.value),n}});function ygt(e){dn.call(this,null,e),this.modified(!0)}tr(ygt,dn,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function dRe(e){dn.call(this,null,e)}const bgt=["unit0","unit1"];dRe.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:pAe,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:bgt}]};tr(dRe,dn,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",a=this._floor(e,t),s=(i?g7:h7)(a.unit).offset,u=e.as||bgt,f=u[0],d=u[1],c=a.step;let h=a.start||1/0,p=a.stop||-1/0,v=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(jp(n)))&&(t=t.reflow(!0),v=t.SOURCE,h=1/0,p=-1/0),t.visit(v,m=>{const y=n(m);let w,_;y==null?(m[f]=null,r&&(m[d]=null)):(m[f]=w=_=a(y),r&&(m[d]=_=s(w,c)),w<h&&(h=w),_>p&&(p=_))}),a.start=h,a.stop=p,t.modifies(r?u:f)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:lht({extent:e.extent||cE(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),a=vAe(r),s=this.value||{},u=(n?eht:Jdt)(a,i);return u.unit=es(a),u.units=a,u.step=i,u.start=s.start,u.stop=s.stop,this.value=u}});function wgt(e){dn.call(this,c7(),e)}tr(wgt,dn,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,a=u=>i.set(r(u),u);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,u=>i.delete(r(u))),t.visit(t.ADD,a)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function _gt(e){dn.call(this,null,e)}tr(_gt,dn,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(mL(e.sort)):t.source).map(e.field))}});function O2n(e,t,n,r){const i=JV[e](t,n);return{init:i.init||pR,update:function(a,s){s[r]=i.next(a)}}}const JV={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=JV.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||xn("ntile num must be greater than zero.");const n=JV.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||xn("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=A2n(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function A2n(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const R2n=Object.keys(JV);function xgt(e){const t=Mr(e.ops),n=Mr(e.fields),r=Mr(e.params),i=Mr(e.as),a=this.outputs=[],s=this.windows=[],u={},f={},d=[],c=[];let h=!0;function p(v){Mr(jp(v)).forEach(m=>u[m]=1)}p(e.sort),t.forEach((v,m)=>{const y=n[m],w=vf(y),_=Zht(v,w,i[m]);if(p(y),a.push(_),Ui(JV,v))s.push(O2n(v,n[m],r[m],_));else{if(y==null&&v!=="count"&&xn("Null aggregate field specified."),v==="count"){d.push(_);return}h=!1;let S=f[w];S||(S=f[w]=[],S.field=y,c.push(S)),S.push(Qht(v,_))}}),(d.length||c.length)&&(this.cell=T2n(c,d,h)),this.inputs=Object.keys(u)}const Sgt=xgt.prototype;Sgt.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};Sgt.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,a=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<a;++s)r[s].update(e,t)};function T2n(e,t,n){e=e.map(f=>egt(f,f.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),s=0;s<i;++s)a[s]=new e[s](r);if(r.store)var u=r.data=new UAe;return r.add=function(f){if(r.num+=1,!n){u&&u.add(f);for(let d=0;d<i;++d)a[d].add(a[d].get(f),f)}},r.rem=function(f){if(r.num-=1,!n){u&&u.rem(f);for(let d=0;d<i;++d)a[d].rem(a[d].get(f),f)}},r.set=function(f){let d,c;for(u&&u.values(),d=0,c=t.length;d<c;++d)f[t[d]]=r.num;if(!n)for(d=0,c=a.length;d<c;++d)a[d].set(f)},r.init=function(){r.num=0,u&&u.reset();for(let f=0;f<i;++f)a[f].init()},r}function hRe(e){dn.call(this,{},e),this._mlen=0,this._mods=[]}hRe.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:R2n.concat(YG)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};tr(hRe,dn,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=mL(e.sort),i=Exe(e.groupby),a=u=>this.group(i(u));let s=this.state;(!s||n)&&(s=this.state=new xgt(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,u=>a(u).add(u))):(t.visit(t.REM,u=>a(u).remove(u)),t.visit(t.ADD,u=>a(u).add(u)));for(let u=0,f=this._mlen;u<f;++u)M2n(this._mods[u],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=tgt(zi),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function M2n(e,t,n,r){const i=r.sort,a=i&&!r.ignorePeers,s=r.frame||[null,0],u=e.data(n),f=u.length,d=a?VG(i):null,c={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:i||Qp(-1)};t.init();for(let h=0;h<f;++h)P2n(c,s,h,f),a&&L2n(c,d),t.update(c,u[h])}function P2n(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function L2n(e,t){const n=e.i0,r=e.i1-1,i=e.compare,a=e.data,s=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<s&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}const D2n=Object.freeze(Object.defineProperty({__proto__:null,aggregate:M3,bin:VAe,collect:WAe,compare:ngt,countpattern:GAe,cross:qAe,density:YAe,dotbin:XAe,expression:sgt,extent:ZAe,facet:Tue,field:ugt,filter:JAe,flatten:eRe,fold:tRe,formula:nRe,generate:lgt,impute:rRe,joinaggregate:iRe,kde:aRe,key:cgt,load:fgt,lookup:oRe,multiextent:dgt,multivalues:hgt,params:ggt,pivot:sRe,prefacet:pgt,project:uRe,proxy:vgt,quantile:lRe,relay:mgt,sample:cRe,sequence:fRe,sieve:ygt,subflow:QAe,timeunit:dRe,tupleindex:wgt,values:_gt,window:hRe},Symbol.toStringTag,{value:"Module"}));function au(e){return function(){return e}}const sYe=Math.abs,Ep=Math.atan2,TM=Math.cos,I2n=Math.max,K1e=Math.min,oS=Math.sin,k5=Math.sqrt,$p=1e-12,zN=Math.PI,tie=zN/2,Egt=2*zN;function F2n(e){return e>1?0:e<-1?zN:Math.acos(e)}function uYe(e){return e>=1?tie:e<=-1?-tie:Math.asin(e)}const Cxe=Math.PI,$xe=2*Cxe,t5=1e-6,N2n=$xe-t5;function Cgt(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function z2n(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Cgt;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let gRe=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Cgt:z2n(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,u=this._y1,f=r-t,d=i-n,c=s-t,h=u-n,p=c*c+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>t5)if(!(Math.abs(h*f-d*c)>t5)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-s,m=i-u,y=f*f+d*d,w=v*v+m*m,_=Math.sqrt(y),S=Math.sqrt(p),C=a*Math.tan((Cxe-Math.acos((y+p-w)/(2*_*S)))/2),$=C/S,k=C/_;Math.abs($-1)>t5&&this._append`L${t+$*c},${n+$*h}`,this._append`A${a},${a},0,0,${+(h*v>c*m)},${this._x1=t+k*f},${this._y1=n+k*d}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=t+u,c=n+f,h=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${d},${c}`:(Math.abs(this._x1-d)>t5||Math.abs(this._y1-c)>t5)&&this._append`L${d},${c}`,r&&(p<0&&(p=p%$xe+$xe),p>N2n?this._append`A${r},${r},0,1,${h},${t-u},${n-f}A${r},${r},0,1,${h},${this._x1=d},${this._y1=c}`:p>t5&&this._append`A${r},${r},0,${+(p>=Cxe)},${h},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Mue(){return new gRe}Mue.prototype=gRe.prototype;function Pue(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new gRe(t)}function j2n(e){return e.innerRadius}function B2n(e){return e.outerRadius}function H2n(e){return e.startAngle}function U2n(e){return e.endAngle}function V2n(e){return e&&e.padAngle}function W2n(e,t,n,r,i,a,s,u){var f=n-e,d=r-t,c=s-i,h=u-a,p=h*f-c*d;if(!(p*p<$p))return p=(c*(t-a)-h*(e-i))/p,[e+p*f,t+p*d]}function nee(e,t,n,r,i,a,s){var u=e-n,f=t-r,d=(s?a:-a)/k5(u*u+f*f),c=d*f,h=-d*u,p=e+c,v=t+h,m=n+c,y=r+h,w=(p+m)/2,_=(v+y)/2,S=m-p,C=y-v,$=S*S+C*C,k=i-a,M=p*y-m*v,A=(C<0?-1:1)*k5(I2n(0,k*k*$-M*M)),L=(M*C-S*A)/$,N=(-M*S-C*A)/$,R=(M*C+S*A)/$,D=(-M*S+C*A)/$,j=L-w,U=N-_,H=R-w,Y=D-_;return j*j+U*U>H*H+Y*Y&&(L=R,N=D),{cx:L,cy:N,x01:-c,y01:-h,x11:L*(i/k-1),y11:N*(i/k-1)}}function G2n(){var e=j2n,t=B2n,n=au(0),r=null,i=H2n,a=U2n,s=V2n,u=null,f=Pue(d);function d(){var c,h,p=+e.apply(this,arguments),v=+t.apply(this,arguments),m=i.apply(this,arguments)-tie,y=a.apply(this,arguments)-tie,w=sYe(y-m),_=y>m;if(u||(u=c=f()),v<p&&(h=v,v=p,p=h),!(v>$p))u.moveTo(0,0);else if(w>Egt-$p)u.moveTo(v*TM(m),v*oS(m)),u.arc(0,0,v,m,y,!_),p>$p&&(u.moveTo(p*TM(y),p*oS(y)),u.arc(0,0,p,y,m,_));else{var S=m,C=y,$=m,k=y,M=w,A=w,L=s.apply(this,arguments)/2,N=L>$p&&(r?+r.apply(this,arguments):k5(p*p+v*v)),R=K1e(sYe(v-p)/2,+n.apply(this,arguments)),D=R,j=R,U,H;if(N>$p){var Y=uYe(N/p*oS(L)),Z=uYe(N/v*oS(L));(M-=Y*2)>$p?(Y*=_?1:-1,$+=Y,k-=Y):(M=0,$=k=(m+y)/2),(A-=Z*2)>$p?(Z*=_?1:-1,S+=Z,C-=Z):(A=0,S=C=(m+y)/2)}var Q=v*TM(S),ee=v*oS(S),oe=p*TM(k),ue=p*oS(k);if(R>$p){var ve=v*TM(C),le=v*oS(C),de=p*TM($),me=p*oS($),Se;if(w<zN)if(Se=W2n(Q,ee,de,me,ve,le,oe,ue)){var Ee=Q-Se[0],xe=ee-Se[1],Ie=ve-Se[0],Ne=le-Se[1],We=1/oS(F2n((Ee*Ie+xe*Ne)/(k5(Ee*Ee+xe*xe)*k5(Ie*Ie+Ne*Ne)))/2),Me=k5(Se[0]*Se[0]+Se[1]*Se[1]);D=K1e(R,(p-Me)/(We-1)),j=K1e(R,(v-Me)/(We+1))}else D=j=0}A>$p?j>$p?(U=nee(de,me,Q,ee,v,j,_),H=nee(ve,le,oe,ue,v,j,_),u.moveTo(U.cx+U.x01,U.cy+U.y01),j<R?u.arc(U.cx,U.cy,j,Ep(U.y01,U.x01),Ep(H.y01,H.x01),!_):(u.arc(U.cx,U.cy,j,Ep(U.y01,U.x01),Ep(U.y11,U.x11),!_),u.arc(0,0,v,Ep(U.cy+U.y11,U.cx+U.x11),Ep(H.cy+H.y11,H.cx+H.x11),!_),u.arc(H.cx,H.cy,j,Ep(H.y11,H.x11),Ep(H.y01,H.x01),!_))):(u.moveTo(Q,ee),u.arc(0,0,v,S,C,!_)):u.moveTo(Q,ee),!(p>$p)||!(M>$p)?u.lineTo(oe,ue):D>$p?(U=nee(oe,ue,ve,le,p,-D,_),H=nee(Q,ee,de,me,p,-D,_),u.lineTo(U.cx+U.x01,U.cy+U.y01),D<R?u.arc(U.cx,U.cy,D,Ep(U.y01,U.x01),Ep(H.y01,H.x01),!_):(u.arc(U.cx,U.cy,D,Ep(U.y01,U.x01),Ep(U.y11,U.x11),!_),u.arc(0,0,p,Ep(U.cy+U.y11,U.cx+U.x11),Ep(H.cy+H.y11,H.cx+H.x11),_),u.arc(H.cx,H.cy,D,Ep(H.y11,H.x11),Ep(H.y01,H.x01),!_))):u.arc(0,0,p,k,$,_)}if(u.closePath(),c)return u=null,c+""||null}return d.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-zN/2;return[TM(h)*c,oS(h)*c]},d.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:au(+c),d):e},d.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:au(+c),d):t},d.cornerRadius=function(c){return arguments.length?(n=typeof c=="function"?c:au(+c),d):n},d.padRadius=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:au(+c),d):r},d.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:au(+c),d):i},d.endAngle=function(c){return arguments.length?(a=typeof c=="function"?c:au(+c),d):a},d.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:au(+c),d):s},d.context=function(c){return arguments.length?(u=c??null,d):u},d}function $gt(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kgt(e){this._context=e}kgt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function pRe(e){return new kgt(e)}function Ogt(e){return e[0]}function Agt(e){return e[1]}function Rgt(e,t){var n=au(!0),r=null,i=pRe,a=null,s=Pue(u);e=typeof e=="function"?e:e===void 0?Ogt:au(e),t=typeof t=="function"?t:t===void 0?Agt:au(t);function u(f){var d,c=(f=$gt(f)).length,h,p=!1,v;for(r==null&&(a=i(v=s())),d=0;d<=c;++d)!(d<c&&n(h=f[d],d,f))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(h,d,f),+t(h,d,f));if(v)return a=null,v+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:au(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:au(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:au(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function Tgt(e,t,n){var r=null,i=au(!0),a=null,s=pRe,u=null,f=Pue(d);e=typeof e=="function"?e:e===void 0?Ogt:au(+e),t=typeof t=="function"?t:au(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Agt:au(+n);function d(h){var p,v,m,y=(h=$gt(h)).length,w,_=!1,S,C=new Array(y),$=new Array(y);for(a==null&&(u=s(S=f())),p=0;p<=y;++p){if(!(p<y&&i(w=h[p],p,h))===_)if(_=!_)v=p,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),m=p-1;m>=v;--m)u.point(C[m],$[m]);u.lineEnd(),u.areaEnd()}_&&(C[p]=+e(w,p,h),$[p]=+t(w,p,h),u.point(r?+r(w,p,h):C[p],n?+n(w,p,h):$[p]))}if(S)return u=null,S+""||null}function c(){return Rgt().defined(i).curve(s).context(a)}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:au(+h),r=null,d):e},d.x0=function(h){return arguments.length?(e=typeof h=="function"?h:au(+h),d):e},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:au(+h),d):r},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:au(+h),n=null,d):t},d.y0=function(h){return arguments.length?(t=typeof h=="function"?h:au(+h),d):t},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:au(+h),d):n},d.lineX0=d.lineY0=function(){return c().x(e).y(t)},d.lineY1=function(){return c().x(e).y(n)},d.lineX1=function(){return c().x(r).y(t)},d.defined=function(h){return arguments.length?(i=typeof h=="function"?h:au(!!h),d):i},d.curve=function(h){return arguments.length?(s=h,a!=null&&(u=s(a)),d):s},d.context=function(h){return arguments.length?(h==null?a=u=null:u=s(a=h),d):a},d}const q2n={draw(e,t){const n=k5(t/zN);e.moveTo(n,0),e.arc(0,0,n,0,Egt)}};function Y2n(e,t){let n=null,r=Pue(i);e=typeof e=="function"?e:au(e||q2n),t=typeof t=="function"?t:au(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:au(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:au(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function P3(){}function nie(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Lue(e){this._context=e}Lue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nie(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nie(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K2n(e){return new Lue(e)}function Mgt(e){this._context=e}Mgt.prototype={areaStart:P3,areaEnd:P3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nie(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X2n(e){return new Mgt(e)}function Pgt(e){this._context=e}Pgt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:nie(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Z2n(e){return new Pgt(e)}function Lgt(e,t){this._basis=new Lue(e),this._beta=t}Lgt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,s=t[n]-i,u=-1,f;++u<=n;)f=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(r+f*a),this._beta*t[u]+(1-this._beta)*(i+f*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Q2n=function e(t){function n(r){return t===1?new Lue(r):new Lgt(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function rie(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function vRe(e,t){this._context=e,this._k=(1-t)/6}vRe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:rie(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:rie(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const J2n=function e(t){function n(r){return new vRe(r,t)}return n.tension=function(r){return e(+r)},n}(0);function mRe(e,t){this._context=e,this._k=(1-t)/6}mRe.prototype={areaStart:P3,areaEnd:P3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:rie(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const e_n=function e(t){function n(r){return new mRe(r,t)}return n.tension=function(r){return e(+r)},n}(0);function yRe(e,t){this._context=e,this._k=(1-t)/6}yRe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rie(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const t_n=function e(t){function n(r){return new yRe(r,t)}return n.tension=function(r){return e(+r)},n}(0);function bRe(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>$p){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>$p){var d=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*d+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*d+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function Dgt(e,t){this._context=e,this._alpha=t}Dgt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:bRe(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const n_n=function e(t){function n(r){return t?new Dgt(r,t):new vRe(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Igt(e,t){this._context=e,this._alpha=t}Igt.prototype={areaStart:P3,areaEnd:P3,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:bRe(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const r_n=function e(t){function n(r){return t?new Igt(r,t):new mRe(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Fgt(e,t){this._context=e,this._alpha=t}Fgt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bRe(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const i_n=function e(t){function n(r){return t?new Fgt(r,t):new yRe(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Ngt(e){this._context=e}Ngt.prototype={areaStart:P3,areaEnd:P3,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function a_n(e){return new Ngt(e)}function lYe(e){return e<0?-1:1}function cYe(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),u=(a*i+s*r)/(r+i);return(lYe(a)+lYe(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(u))||0}function fYe(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function X1e(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,s-u*n,a,s)}function iie(e){this._context=e}iie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:X1e(this,this._t0,fYe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,X1e(this,fYe(this,n=cYe(this,e,t)),n);break;default:X1e(this,this._t0,n=cYe(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function zgt(e){this._context=new jgt(e)}(zgt.prototype=Object.create(iie.prototype)).point=function(e,t){iie.prototype.point.call(this,t,e)};function jgt(e){this._context=e}jgt.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function o_n(e){return new iie(e)}function s_n(e){return new zgt(e)}function Bgt(e){this._context=e}Bgt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=dYe(e),i=dYe(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function dYe(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function u_n(e){return new Bgt(e)}function Due(e,t){this._context=e,this._t=t}Due.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function l_n(e){return new Due(e,.5)}function c_n(e){return new Due(e,0)}function f_n(e){return new Due(e,1)}function i3(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const d_n=()=>typeof Image<"u"?Image:null;function TE(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function gT(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const kxe=Symbol("implicit");function wRe(){var e=new Aqe,t=[],n=[],r=kxe;function i(a){let s=e.get(a);if(s===void 0){if(r!==kxe)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Aqe;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return wRe(t,n).unknown(r)},TE.apply(i,arguments),i}function h_n(e){return function(){return e}}function Oxe(e){return+e}var hYe=[0,1];function bm(e){return e}function Axe(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:h_n(isNaN(t)?NaN:.5)}function g_n(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function p_n(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Axe(i,r),a=n(s,a)):(r=Axe(r,i),a=n(a,s)),function(u){return a(r(u))}}function v_n(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Axe(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(u){var f=WG(e,u,1,r)-1;return a[f](i[f](u))}}function KG(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Iue(){var e=hYe,t=hYe,n=iT,r,i,a,s=bm,u,f,d;function c(){var p=Math.min(e.length,t.length);return s!==bm&&(s=g_n(e[0],e[p-1])),u=p>2?v_n:p_n,f=d=null,h}function h(p){return p==null||isNaN(p=+p)?a:(f||(f=u(e.map(r),t,n)))(r(s(p)))}return h.invert=function(p){return s(i((d||(d=u(t,e.map(r),Ab)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,Oxe),c()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),n=gG,c()},h.clamp=function(p){return arguments.length?(s=p?!0:bm,c()):s!==bm},h.interpolate=function(p){return arguments.length?(n=p,c()):n},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,v){return r=p,i=v,c()}}function Hgt(){return Iue()(bm,bm)}function Ugt(e,t,n,r){var i=T3(e,t,n),a;switch(r=SP(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Bdt(i,s))&&(r.precision=a),hAe(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Hdt(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=jdt(i))&&(r.precision=a-(r.type==="%")*2);break}}return gue(r)}function bL(e){var t=e.domain;return e.ticks=function(n){var r=t();return fxe(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ugt(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],u=r[a],f,d,c=10;for(u<s&&(d=s,s=u,u=d,d=i,i=a,a=d);c-- >0;){if(d=dxe(s,u,n),d===f)return r[i]=s,r[a]=u,t(r);if(d>0)s=Math.floor(s/d)*d,u=Math.ceil(u/d)*d;else if(d<0)s=Math.ceil(s*d)/d,u=Math.floor(u*d)/d;else break;f=d}return e},e}function Vgt(){var e=Hgt();return e.copy=function(){return KG(e,Vgt())},TE.apply(e,arguments),bL(e)}function Wgt(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Oxe),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Wgt(e).unknown(t)},e=arguments.length?Array.from(e,Oxe):[0,1],bL(n)}function Ggt(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function gYe(e){return Math.log(e)}function pYe(e){return Math.exp(e)}function m_n(e){return-Math.log(-e)}function y_n(e){return-Math.exp(-e)}function b_n(e){return isFinite(e)?+("1e"+e):e<0?0:e}function w_n(e){return e===10?b_n:e===Math.E?Math.exp:t=>Math.pow(e,t)}function __n(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vYe(e){return(t,n)=>-e(-t,n)}function _Re(e){const t=e(gYe,pYe),n=t.domain;let r=10,i,a;function s(){return i=__n(r),a=w_n(r),n()[0]<0?(i=vYe(i),a=vYe(a),e(m_n,y_n)):e(gYe,pYe),t}return t.base=function(u){return arguments.length?(r=+u,s()):r},t.domain=function(u){return arguments.length?(n(u),s()):n()},t.ticks=u=>{const f=n();let d=f[0],c=f[f.length-1];const h=c<d;h&&([d,c]=[c,d]);let p=i(d),v=i(c),m,y;const w=u==null?10:+u;let _=[];if(!(r%1)&&v-p<w){if(p=Math.floor(p),v=Math.ceil(v),d>0){for(;p<=v;++p)for(m=1;m<r;++m)if(y=p<0?m/a(-p):m*a(p),!(y<d)){if(y>c)break;_.push(y)}}else for(;p<=v;++p)for(m=r-1;m>=1;--m)if(y=p>0?m/a(-p):m*a(p),!(y<d)){if(y>c)break;_.push(y)}_.length*2<w&&(_=fxe(d,c,w))}else _=fxe(p,v,Math.min(v-p,w)).map(a);return h?_.reverse():_},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=SP(f)).precision==null&&(f.trim=!0),f=gue(f)),u===1/0)return f;const d=Math.max(1,r*u/t.ticks().length);return c=>{let h=c/a(Math.round(i(c)));return h*r<r-.5&&(h*=r),h<=d?f(c):""}},t.nice=()=>n(Ggt(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function qgt(){const e=_Re(Iue()).domain([1,10]);return e.copy=()=>KG(e,qgt()).base(e.base()),TE.apply(e,arguments),e}function mYe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yYe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xRe(e){var t=1,n=e(mYe(t),yYe(t));return n.constant=function(r){return arguments.length?e(mYe(t=+r),yYe(t)):t},bL(n)}function Ygt(){var e=xRe(Iue());return e.copy=function(){return KG(e,Ygt()).constant(e.constant())},TE.apply(e,arguments)}function bYe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function x_n(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function S_n(e){return e<0?-e*e:e*e}function SRe(e){var t=e(bm,bm),n=1;function r(){return n===1?e(bm,bm):n===.5?e(x_n,S_n):e(bYe(n),bYe(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},bL(t)}function ERe(){var e=SRe(Iue());return e.copy=function(){return KG(e,ERe()).exponent(e.exponent())},TE.apply(e,arguments),e}function E_n(){return ERe.apply(null,arguments).exponent(.5)}function Kgt(){var e=[],t=[],n=[],r;function i(){var s=0,u=Math.max(1,t.length);for(n=new Array(u-1);++s<u;)n[s-1]=Ldt(e,s/u);return a}function a(s){return s==null||isNaN(s=+s)?r:t[WG(n,s)]}return a.invertExtent=function(s){var u=t.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let u of s)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(rk),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Kgt().domain(e).range(t).unknown(r)},TE.apply(a,arguments)}function Xgt(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(f){return f!=null&&f<=f?i[WG(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return s}return s.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},s.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},s.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},s.unknown=function(f){return arguments.length&&(a=f),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Xgt().domain([e,t]).range(i).unknown(a)},TE.apply(bL(s),arguments)}function Zgt(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[WG(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Zgt().domain(e).range(t).unknown(n)},TE.apply(i,arguments)}function C_n(e){return new Date(e)}function $_n(e){return e instanceof Date?+e:+new Date(+e)}function CRe(e,t,n,r,i,a,s,u,f,d){var c=Hgt(),h=c.invert,p=c.domain,v=d(".%L"),m=d(":%S"),y=d("%I:%M"),w=d("%I %p"),_=d("%a %d"),S=d("%b %d"),C=d("%B"),$=d("%Y");function k(M){return(f(M)<M?v:u(M)<M?m:s(M)<M?y:a(M)<M?w:r(M)<M?i(M)<M?_:S:n(M)<M?C:$)(M)}return c.invert=function(M){return new Date(h(M))},c.domain=function(M){return arguments.length?p(Array.from(M,$_n)):p().map(C_n)},c.ticks=function(M){var A=p();return e(A[0],A[A.length-1],M??10)},c.tickFormat=function(M,A){return A==null?k:d(A)},c.nice=function(M){var A=p();return(!M||typeof M.range!="function")&&(M=t(A[0],A[A.length-1],M??10)),M?p(Ggt(A,M)):c},c.copy=function(){return KG(c,CRe(e,t,n,r,i,a,s,u,f,d))},c}function k_n(){return TE.apply(CRe(yyn,byn,fE,KV,f7,ik,mue,pue,K$,yAe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function O_n(){return TE.apply(CRe(vyn,myn,dE,XV,d7,n3,yue,vue,K$,bAe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fue(){var e=0,t=1,n,r,i,a,s=bm,u=!1,f;function d(h){return h==null||isNaN(h=+h)?f:s(i===0?.5:(h=(a(h)-n)*i,u?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([e,t]=h,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(h){return arguments.length?(u=!!h,d):u},d.interpolator=function(h){return arguments.length?(s=h,d):s};function c(h){return function(p){var v,m;return arguments.length?([v,m]=p,s=h(v,m),d):[s(0),s(1)]}}return d.range=c(iT),d.rangeRound=c(gG),d.unknown=function(h){return arguments.length?(f=h,d):f},function(h){return a=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),d}}function pT(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $Re(){var e=bL(Fue()(bm));return e.copy=function(){return pT(e,$Re())},gT.apply(e,arguments)}function Qgt(){var e=_Re(Fue()).domain([1,10]);return e.copy=function(){return pT(e,Qgt()).base(e.base())},gT.apply(e,arguments)}function Jgt(){var e=xRe(Fue());return e.copy=function(){return pT(e,Jgt()).constant(e.constant())},gT.apply(e,arguments)}function kRe(){var e=SRe(Fue());return e.copy=function(){return pT(e,kRe()).exponent(e.exponent())},gT.apply(e,arguments)}function A_n(){return kRe.apply(null,arguments).exponent(.5)}function Nue(){var e=0,t=.5,n=1,r=1,i,a,s,u,f,d=bm,c,h=!1,p;function v(y){return isNaN(y=+y)?p:(y=.5+((y=+c(y))-a)*(r*y<r*a?u:f),d(h?Math.max(0,Math.min(1,y)):y))}v.domain=function(y){return arguments.length?([e,t,n]=y,i=c(e=+e),a=c(t=+t),s=c(n=+n),u=i===a?0:.5/(a-i),f=a===s?0:.5/(s-a),r=a<i?-1:1,v):[e,t,n]},v.clamp=function(y){return arguments.length?(h=!!y,v):h},v.interpolator=function(y){return arguments.length?(d=y,v):d};function m(y){return function(w){var _,S,C;return arguments.length?([_,S,C]=w,d=Cke(y,[_,S,C]),v):[d(0),d(.5),d(1)]}}return v.range=m(iT),v.rangeRound=m(gG),v.unknown=function(y){return arguments.length?(p=y,v):p},function(y){return c=y,i=y(e),a=y(t),s=y(n),u=i===a?0:.5/(a-i),f=a===s?0:.5/(s-a),r=a<i?-1:1,v}}function ept(){var e=bL(Nue()(bm));return e.copy=function(){return pT(e,ept())},gT.apply(e,arguments)}function tpt(){var e=_Re(Nue()).domain([.1,1,10]);return e.copy=function(){return pT(e,tpt()).base(e.base())},gT.apply(e,arguments)}function npt(){var e=xRe(Nue());return e.copy=function(){return pT(e,npt()).constant(e.constant())},gT.apply(e,arguments)}function ORe(){var e=SRe(Nue());return e.copy=function(){return pT(e,ORe()).exponent(e.exponent())},gT.apply(e,arguments)}function R_n(){return ORe.apply(null,arguments).exponent(.5)}function ARe(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const T_n="identity",jN="linear",Ek="log",XG="pow",ZG="sqrt",zue="symlog",EP="time",CP="utc",eE="sequential",v7="diverging",BN="quantile",jue="quantize",Bue="threshold",RRe="ordinal",Rxe="point",rpt="band",TRe="bin-ordinal",eh="continuous",QG="discrete",JG="discretizing",hw="interpolating",MRe="temporal";function M_n(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function P_n(e){return function(t){const n=e.range();let r=t[0],i=t[1],a=-1,s,u,f,d;for(i<r&&(u=r,r=i,i=u),f=0,d=n.length;f<d;++f)n[f]>=r&&n[f]<=i&&(a<0&&(a=f),s=f);if(!(a<0))return r=e.invertExtent(n[a]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function PRe(){const e=wRe().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,a,s=!1,u=0,f=0,d=.5;delete e.unknown;function c(){const h=t().length,p=r[1]<r[0],v=r[1-p],m=ARe(h,u,f);let y=r[p-0];i=(v-y)/(m||1),s&&(i=Math.floor(i)),y+=(v-y-i*(h-u))*d,a=i*(1-u),s&&(y=Math.round(y),a=Math.round(a));const w=ny(h).map(_=>y+i*_);return n(p?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),c()):t()},e.range=function(h){return arguments.length?(r=[+h[0],+h[1]],c()):r.slice()},e.rangeRound=function(h){return r=[+h[0],+h[1]],s=!0,c()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,c()):s},e.padding=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),u=f,c()):u},e.paddingInner=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),c()):u},e.paddingOuter=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),c()):d},e.invertRange=function(h){if(h[0]==null||h[1]==null)return;const p=r[1]<r[0],v=p?n().reverse():n(),m=v.length-1;let y=+h[0],w=+h[1],_,S,C;if(!(y!==y||w!==w)&&(w<y&&(C=y,y=w,w=C),!(w<v[0]||y>r[1-p])))return _=Math.max(0,qre(v,y)-1),S=y===w?_:qre(v,w)-1,y-v[_]>a+1e-10&&++_,p&&(C=_,_=m-S,S=m-C),_>S?void 0:t().slice(_,S+1)},e.invert=function(h){const p=e.invertRange([h,h]);return p&&p[0]},e.copy=function(){return PRe().domain(t()).range(r).round(s).paddingInner(u).paddingOuter(f).align(d)},c()}function ipt(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return ipt(t())},e}function L_n(){return ipt(PRe().paddingInner(1))}var D_n=Array.prototype.map;function I_n(e){return D_n.call(e,Ip)}const F_n=Array.prototype.slice;function apt(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(WG(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=I_n(r),n):e.slice()},n.range=function(r){return arguments.length?(t=F_n.call(r),n):t.slice()},n.tickFormat=function(r,i){return Ugt(e[0],es(e),r??10,i)},n.copy=function(){return apt().domain(n.domain()).range(n.range())},n}const aie=new Map,opt=Symbol("vega_scale");function spt(e){return e[opt]=!0,e}function N_n(e){return e&&e[opt]===!0}function z_n(e,t,n){const r=function(){const a=t();return a.invertRange||(a.invertRange=a.invert?M_n(a):a.invertExtent?P_n(a):void 0),a.type=e,spt(a)};return r.metadata=C_(Mr(n)),r}function Ms(e,t,n){return arguments.length>1?(aie.set(e,z_n(e,t,n)),this):upt(e)?aie.get(e):void 0}Ms(T_n,Wgt);Ms(jN,Vgt,eh);Ms(Ek,qgt,[eh,Ek]);Ms(XG,ERe,eh);Ms(ZG,E_n,eh);Ms(zue,Ygt,eh);Ms(EP,k_n,[eh,MRe]);Ms(CP,O_n,[eh,MRe]);Ms(eE,$Re,[eh,hw]);Ms(`${eE}-${jN}`,$Re,[eh,hw]);Ms(`${eE}-${Ek}`,Qgt,[eh,hw,Ek]);Ms(`${eE}-${XG}`,kRe,[eh,hw]);Ms(`${eE}-${ZG}`,A_n,[eh,hw]);Ms(`${eE}-${zue}`,Jgt,[eh,hw]);Ms(`${v7}-${jN}`,ept,[eh,hw]);Ms(`${v7}-${Ek}`,tpt,[eh,hw,Ek]);Ms(`${v7}-${XG}`,ORe,[eh,hw]);Ms(`${v7}-${ZG}`,R_n,[eh,hw]);Ms(`${v7}-${zue}`,npt,[eh,hw]);Ms(BN,Kgt,[JG,BN]);Ms(jue,Xgt,JG);Ms(Bue,Zgt,JG);Ms(TRe,apt,[QG,JG]);Ms(RRe,wRe,QG);Ms(rpt,PRe,QG);Ms(Rxe,L_n,QG);function upt(e){return aie.has(e)}function wL(e,t){const n=aie.get(e);return n&&n.metadata[t]}function LRe(e){return wL(e,eh)}function HN(e){return wL(e,QG)}function Txe(e){return wL(e,JG)}function lpt(e){return wL(e,Ek)}function j_n(e){return wL(e,MRe)}function cpt(e){return wL(e,hw)}function fpt(e){return wL(e,BN)}const B_n=["clamp","base","constant","exponent"];function dpt(e,t){const n=t[0],r=es(t)-n;return function(i){return e(n+i*r)}}function Hue(e,t,n){return Cke(DRe(t||"rgb",n),e)}function hpt(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function gpt(e,t,n){const r=n-t;let i,a,s;return!r||!Number.isFinite(r)?Qp(.5):(i=(a=e.type).indexOf("-"),a=i<0?a:a.slice(i+1),s=Ms(a)().domain([t,n]).range([0,1]),B_n.forEach(u=>e[u]?s[u](e[u]()):0),s)}function DRe(e,t){const n=ZZt[H_n(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function H_n(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const U_n={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},V_n={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function ppt(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function vpt(e,t){for(const n in e)IRe(n,t(e[n]))}const wYe={};vpt(V_n,ppt);vpt(U_n,e=>Hue(ppt(e)));function IRe(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(wYe[e]=t,this):wYe[e]}const Ite="symbol",W_n="discrete",G_n="gradient",q_n=e=>En(e)?e.map(t=>String(t)):String(e),Y_n=(e,t)=>e[1]-t[1],K_n=(e,t)=>t[1]-e[1];function FRe(e,t,n){let r;return Mu(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(UG(e.domain())/n||1)))),Gr(t)&&(r=t.step,t=t.interval),Pr(t)&&(t=e.type===EP?h7(t):e.type==CP?g7(t):xn("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function mpt(e,t,n){let r=e.range(),i=r[0],a=es(r),s=Y_n;if(i>a&&(r=a,a=i,i=r,s=K_n),i=Math.floor(i),a=Math.ceil(a),t=t.map(u=>[u,e(u)]).filter(u=>i<=u[1]&&u[1]<=a).sort(s).map(u=>u[0]),n>0&&t.length>1){const u=[t[0],es(t)];for(;t.length>n&&t.length>=3;)t=t.filter((f,d)=>!(d%2));t.length<3&&(t=u)}return t}function NRe(e,t){return e.bins?mpt(e,e.bins):e.ticks?e.ticks(t):e.domain()}function ypt(e,t,n,r,i,a){const s=t.type;let u=q_n;if(s===EP||i===EP)u=e.timeFormat(r);else if(s===CP||i===CP)u=e.utcFormat(r);else if(lpt(s)){const f=e.formatFloat(r);if(a||t.bins)u=f;else{const d=bpt(t,n,!1);u=c=>d(c)?f(c):""}}else if(t.tickFormat){const f=t.domain();u=e.formatSpan(f[0],f[f.length-1],n,r)}else r&&(u=e.format(r));return u}function bpt(e,t,n){const r=NRe(e,t),i=e.base(),a=Math.log(i),s=Math.max(1,i*t/r.length),u=f=>{let d=f/Math.pow(i,Math.round(Math.log(f)/a));return d*i<i-.5&&(d*=i),d<=s};return n?r.filter(u):u}const Mxe={[BN]:"quantiles",[jue]:"thresholds",[Bue]:"domain"},wpt={[BN]:"quantiles",[jue]:"domain"};function _pt(e,t){return e.bins?Q_n(e.bins):e.type===Ek?bpt(e,t,!0):Mxe[e.type]?Z_n(e[Mxe[e.type]]()):NRe(e,t)}function X_n(e,t,n){const r=t[wpt[t.type]](),i=r.length;let a=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)a=Math.min(a,r[s]-r[s-1]);return e.formatSpan(0,a,3*10,n)}function Z_n(e){const t=[-1/0].concat(e);return t.max=1/0,t}function Q_n(e){const t=e.slice(0,-1);return t.max=es(e),t}const J_n=e=>Mxe[e.type]||e.bins;function xpt(e,t,n,r,i,a,s){const u=wpt[t.type]&&a!==EP&&a!==CP?X_n(e,t,i):ypt(e,t,n,i,a,s);return r===Ite&&J_n(t)?exn(u):r===W_n?txn(u):nxn(u)}const exn=e=>(t,n,r)=>{const i=_Ye(r[n+1],_Ye(r.max,1/0)),a=xYe(t,e),s=xYe(i,e);return a&&s?a+"  "+s:s?"< "+s:" "+a},_Ye=(e,t)=>e??t,txn=e=>(t,n)=>n?e(t):null,nxn=e=>t=>e(t),xYe=(e,t)=>Number.isFinite(e)?t(e):null;function rxn(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+es(t),a=i-r;if(e.type===Bue){const s=n?a/n:.1;r-=s,i+=s,a=i-r}return s=>(s-r)/a}function ixn(e,t,n,r){const i=r||t.type;return Pr(n)&&j_n(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===EP?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===CP?e.utcFormat("%A, %d %B %Y, %X UTC"):xpt(e,t,5,null,n,r,!0)}function Spt(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=ixn(e,t,n.format,n.formatType);if(Txe(t.type)){const a=_pt(t).slice(1).map(i),s=a.length;return`${s} boundar${s===1?"y":"ies"}: ${a.join(", ")}`}else if(HN(t.type)){const a=t.domain(),s=a.length,u=s>r?a.slice(0,r-2).map(i).join(", ")+", ending with "+a.slice(-1).map(i):a.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${u}`}else{const a=t.domain();return`values from ${i(a[0])} to ${i(es(a))}`}}let Ept=0;function axn(){Ept=0}const oie="p_";function zRe(e){return e&&e.gradient}function Cpt(e,t,n){const r=e.gradient;let i=e.id,a=r==="radial"?oie:"";return i||(i=e.id="gradient_"+Ept++,r==="radial"?(e.x1=sS(e.x1,.5),e.y1=sS(e.y1,.5),e.r1=sS(e.r1,0),e.x2=sS(e.x2,.5),e.y2=sS(e.y2,.5),e.r2=sS(e.r2,.5),a=oie):(e.x1=sS(e.x1,0),e.y1=sS(e.y1,0),e.x2=sS(e.x2,1),e.y2=sS(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+a+i+")"}function sS(e,t){return e??t}function $pt(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,a){return n.push({offset:i,color:a}),r}}}const SYe={basis:{curve:K2n},"basis-closed":{curve:X2n},"basis-open":{curve:Z2n},bundle:{curve:Q2n,tension:"beta",value:.85},cardinal:{curve:J2n,tension:"tension",value:0},"cardinal-open":{curve:t_n,tension:"tension",value:0},"cardinal-closed":{curve:e_n,tension:"tension",value:0},"catmull-rom":{curve:n_n,tension:"alpha",value:.5},"catmull-rom-closed":{curve:r_n,tension:"alpha",value:.5},"catmull-rom-open":{curve:i_n,tension:"alpha",value:.5},linear:{curve:pRe},"linear-closed":{curve:a_n},monotone:{horizontal:s_n,vertical:o_n},natural:{curve:u_n},step:{curve:l_n},"step-after":{curve:f_n},"step-before":{curve:c_n}};function jRe(e,t,n){var r=Ui(SYe,e)&&SYe[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const oxn={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},sxn=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,uxn=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,lxn=/^((\s+,?\s*)|(,\s*))/,cxn=/^[01]/;function UN(e){const t=[];return(e.match(sxn)||[]).forEach(r=>{let i=r[0];const a=i.toLowerCase(),s=oxn[a],u=fxn(a,s,r.slice(1).trim()),f=u.length;if(f<s||f&&f%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...u.slice(0,s)]),f!==s){a==="m"&&(i=i==="M"?"L":"l");for(let d=s;d<f;d+=s)t.push([i,...u.slice(d,d+s)])}}),t}function fxn(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let a=0;a<t;++a){const s=e==="a"&&(a===3||a===4)?cxn:uxn,u=n.slice(i).match(s);if(u===null)throw Error("Invalid SVG path, incorrect parameter type");i+=u[0].length,r.push(+u[0]);const f=n.slice(i).match(lxn);f!==null&&(i+=f[0].length)}return r}const L3=Math.PI/180,dxn=1e-14,l5=Math.PI/2,OS=Math.PI*2,m6=Math.sqrt(3)/2;var Z1e={},Q1e={},kpt=[].join;function hxn(e,t,n,r,i,a,s,u,f){const d=kpt.call(arguments);if(Z1e[d])return Z1e[d];const c=s*L3,h=Math.sin(c),p=Math.cos(c);n=Math.abs(n),r=Math.abs(r);const v=p*(u-e)*.5+h*(f-t)*.5,m=p*(f-t)*.5-h*(u-e)*.5;let y=v*v/(n*n)+m*m/(r*r);y>1&&(y=Math.sqrt(y),n*=y,r*=y);const w=p/n,_=h/n,S=-h/r,C=p/r,$=w*u+_*f,k=S*u+C*f,M=w*e+_*t,A=S*e+C*t;let N=1/((M-$)*(M-$)+(A-k)*(A-k))-.25;N<0&&(N=0);let R=Math.sqrt(N);a==i&&(R=-R);const D=.5*($+M)-R*(A-k),j=.5*(k+A)+R*(M-$),U=Math.atan2(k-j,$-D);let Y=Math.atan2(A-j,M-D)-U;Y<0&&a===1?Y+=OS:Y>0&&a===0&&(Y-=OS);const Z=Math.ceil(Math.abs(Y/(l5+.001))),Q=[];for(let ee=0;ee<Z;++ee){const oe=U+ee*Y/Z,ue=U+(ee+1)*Y/Z;Q[ee]=[D,j,oe,ue,n,r,h,p]}return Z1e[d]=Q}function gxn(e){const t=kpt.call(e);if(Q1e[t])return Q1e[t];var n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],u=e[5],f=e[6],d=e[7];const c=d*s,h=-f*u,p=f*s,v=d*u,m=Math.cos(i),y=Math.sin(i),w=Math.cos(a),_=Math.sin(a),S=.5*(a-i),C=Math.sin(S*.5),$=8/3*C*C/Math.sin(S),k=n+m-$*y,M=r+y+$*m,A=n+w,L=r+_,N=A+$*_,R=L-$*w;return Q1e[t]=[c*k+h*M,p*k+v*M,c*N+h*R,p*N+v*R,c*A+h*L,p*A+v*L]}const _b=["l",0,0,0,0,0,0,0];function pxn(e,t,n){const r=_b[0]=e[0];if(r==="a"||r==="A")_b[1]=t*e[1],_b[2]=n*e[2],_b[3]=e[3],_b[4]=e[4],_b[5]=e[5],_b[6]=t*e[6],_b[7]=n*e[7];else if(r==="h"||r==="H")_b[1]=t*e[1];else if(r==="v"||r==="V")_b[1]=n*e[1];else for(var i=1,a=e.length;i<a;++i)_b[i]=(i%2==1?t:n)*e[i];return _b}function eW(e,t,n,r,i,a){var s,u=null,f=0,d=0,c=0,h=0,p,v,m,y,w=0,_=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),a==null&&(a=i),e.beginPath&&e.beginPath();for(var S=0,C=t.length;S<C;++S){switch(s=t[S],(i!==1||a!==1)&&(s=pxn(s,i,a)),s[0]){case"l":f+=s[1],d+=s[2],e.lineTo(f+n,d+r);break;case"L":f=s[1],d=s[2],e.lineTo(f+n,d+r);break;case"h":f+=s[1],e.lineTo(f+n,d+r);break;case"H":f=s[1],e.lineTo(f+n,d+r);break;case"v":d+=s[1],e.lineTo(f+n,d+r);break;case"V":d=s[1],e.lineTo(f+n,d+r);break;case"m":f+=s[1],d+=s[2],w=f,_=d,e.moveTo(f+n,d+r);break;case"M":f=s[1],d=s[2],w=f,_=d,e.moveTo(f+n,d+r);break;case"c":p=f+s[5],v=d+s[6],c=f+s[3],h=d+s[4],e.bezierCurveTo(f+s[1]+n,d+s[2]+r,c+n,h+r,p+n,v+r),f=p,d=v;break;case"C":f=s[5],d=s[6],c=s[3],h=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,c+n,h+r,f+n,d+r);break;case"s":p=f+s[3],v=d+s[4],c=2*f-c,h=2*d-h,e.bezierCurveTo(c+n,h+r,f+s[1]+n,d+s[2]+r,p+n,v+r),c=f+s[1],h=d+s[2],f=p,d=v;break;case"S":p=s[3],v=s[4],c=2*f-c,h=2*d-h,e.bezierCurveTo(c+n,h+r,s[1]+n,s[2]+r,p+n,v+r),f=p,d=v,c=s[1],h=s[2];break;case"q":p=f+s[3],v=d+s[4],c=f+s[1],h=d+s[2],e.quadraticCurveTo(c+n,h+r,p+n,v+r),f=p,d=v;break;case"Q":p=s[3],v=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,p+n,v+r),f=p,d=v,c=s[1],h=s[2];break;case"t":p=f+s[1],v=d+s[2],u[0].match(/[QqTt]/)===null?(c=f,h=d):u[0]==="t"?(c=2*f-m,h=2*d-y):u[0]==="q"&&(c=2*f-c,h=2*d-h),m=c,y=h,e.quadraticCurveTo(c+n,h+r,p+n,v+r),f=p,d=v,c=f+s[1],h=d+s[2];break;case"T":p=s[1],v=s[2],c=2*f-c,h=2*d-h,e.quadraticCurveTo(c+n,h+r,p+n,v+r),f=p,d=v;break;case"a":EYe(e,f+n,d+r,[s[1],s[2],s[3],s[4],s[5],s[6]+f+n,s[7]+d+r]),f+=s[6],d+=s[7];break;case"A":EYe(e,f+n,d+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),f=s[6],d=s[7];break;case"z":case"Z":f=w,d=_,e.closePath();break}u=s}}function EYe(e,t,n,r){const i=hxn(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let a=0;a<i.length;++a){const s=gxn(i[a]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const CYe=.5773502691896257,$Ye={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,OS)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=m6*n,i=r-n*CYe,a=n/4;e.moveTo(0,-r-i),e.lineTo(-a,r-i),e.lineTo(a,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=m6*n,i=r-n*CYe;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=m6*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=m6*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=m6*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=m6*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Opt(e){return Ui($Ye,e)?$Ye[e]:vxn(e)}var J1e={};function vxn(e){if(!Ui(J1e,e)){const t=UN(e);J1e[e]={draw:function(n,r){eW(n,t,0,0,Math.sqrt(r)/2)}}}return J1e[e]}const BA=.448084975506;function mxn(e){return e.x}function yxn(e){return e.y}function bxn(e){return e.width}function wxn(e){return e.height}function E$(e){return typeof e=="function"?e:()=>+e}function ree(e,t,n){return Math.max(t,Math.min(e,n))}function Apt(){var e=mxn,t=yxn,n=bxn,r=wxn,i=E$(0),a=i,s=i,u=i,f=null;function d(c,h,p){var v,m=h??+e.call(this,c),y=p??+t.call(this,c),w=+n.call(this,c),_=+r.call(this,c),S=Math.min(w,_)/2,C=ree(+i.call(this,c),0,S),$=ree(+a.call(this,c),0,S),k=ree(+s.call(this,c),0,S),M=ree(+u.call(this,c),0,S);if(f||(f=v=Mue()),C<=0&&$<=0&&k<=0&&M<=0)f.rect(m,y,w,_);else{var A=m+w,L=y+_;f.moveTo(m+C,y),f.lineTo(A-$,y),f.bezierCurveTo(A-BA*$,y,A,y+BA*$,A,y+$),f.lineTo(A,L-M),f.bezierCurveTo(A,L-BA*M,A-BA*M,L,A-M,L),f.lineTo(m+k,L),f.bezierCurveTo(m+BA*k,L,m,L-BA*k,m,L-k),f.lineTo(m,y+C),f.bezierCurveTo(m,y+BA*C,m+BA*C,y,m+C,y),f.closePath()}if(v)return f=null,v+""||null}return d.x=function(c){return arguments.length?(e=E$(c),d):e},d.y=function(c){return arguments.length?(t=E$(c),d):t},d.width=function(c){return arguments.length?(n=E$(c),d):n},d.height=function(c){return arguments.length?(r=E$(c),d):r},d.cornerRadius=function(c,h,p,v){return arguments.length?(i=E$(c),a=h!=null?E$(h):i,u=p!=null?E$(p):i,s=v!=null?E$(v):a,d):i},d.context=function(c){return arguments.length?(f=c??null,d):f},d}function Rpt(){var e,t,n,r,i=null,a,s,u,f;function d(h,p,v){const m=v/2;if(a){var y=u-p,w=h-s;if(y||w){var _=Math.sqrt(y*y+w*w),S=(y/=_)*f,C=(w/=_)*f,$=Math.atan2(w,y);i.moveTo(s-S,u-C),i.lineTo(h-y*m,p-w*m),i.arc(h,p,m,$-Math.PI,$),i.lineTo(s+S,u+C),i.arc(s,u,f,$,$+Math.PI)}else i.arc(h,p,m,0,OS);i.closePath()}else a=1;s=h,u=p,f=m}function c(h){var p,v=h.length,m,y=!1,w;for(i==null&&(i=w=Mue()),p=0;p<=v;++p)!(p<v&&r(m=h[p],p,h))===y&&(y=!y)&&(a=0),y&&d(+e(m,p,h),+t(m,p,h),+n(m,p,h));if(w)return i=null,w+""||null}return c.x=function(h){return arguments.length?(e=h,c):e},c.y=function(h){return arguments.length?(t=h,c):t},c.size=function(h){return arguments.length?(n=h,c):n},c.defined=function(h){return arguments.length?(r=h,c):r},c.context=function(h){return arguments.length?(h==null?i=null:i=h,c):i},c}function eq(e,t){return e??t}const tq=e=>e.x||0,nq=e=>e.y||0,_xn=e=>e.width||0,xxn=e=>e.height||0,Sxn=e=>(e.x||0)+(e.width||0),Exn=e=>(e.y||0)+(e.height||0),Cxn=e=>e.startAngle||0,$xn=e=>e.endAngle||0,kxn=e=>e.padAngle||0,Oxn=e=>e.innerRadius||0,Axn=e=>e.outerRadius||0,Rxn=e=>e.cornerRadius||0,Txn=e=>eq(e.cornerRadiusTopLeft,e.cornerRadius)||0,Mxn=e=>eq(e.cornerRadiusTopRight,e.cornerRadius)||0,Pxn=e=>eq(e.cornerRadiusBottomRight,e.cornerRadius)||0,Lxn=e=>eq(e.cornerRadiusBottomLeft,e.cornerRadius)||0,Dxn=e=>eq(e.size,64),Ixn=e=>e.size||1,Uue=e=>e.defined!==!1,Fxn=e=>Opt(e.shape||"circle"),Nxn=G2n().startAngle(Cxn).endAngle($xn).padAngle(kxn).innerRadius(Oxn).outerRadius(Axn).cornerRadius(Rxn),zxn=Tgt().x(tq).y1(nq).y0(Exn).defined(Uue),jxn=Tgt().y(nq).x1(tq).x0(Sxn).defined(Uue),Bxn=Rgt().x(tq).y(nq).defined(Uue),Hxn=Apt().x(tq).y(nq).width(_xn).height(xxn).cornerRadius(Txn,Mxn,Pxn,Lxn),Uxn=Y2n().type(Fxn).size(Dxn),Vxn=Rpt().x(tq).y(nq).defined(Uue).size(Ixn);function BRe(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function Wxn(e,t){return Nxn.context(e)(t)}function Gxn(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?jxn:zxn).curve(jRe(r,n.orient,n.tension)).context(e)(t)}function qxn(e,t){const n=t[0],r=n.interpolate||"linear";return Bxn.curve(jRe(r,n.orient,n.tension)).context(e)(t)}function m7(e,t,n,r){return Hxn.context(e)(t,n,r)}function Yxn(e,t){return(t.mark.shape||t.shape).context(e)(t)}function Kxn(e,t){return Uxn.context(e)(t)}function Xxn(e,t){return Vxn.context(e)(t)}var Tpt=1;function Mpt(){Tpt=1}function HRe(e,t,n){var r=t.clip,i=e._defs,a=t.clip_id||(t.clip_id="clip"+Tpt++),s=i.clipping[a]||(i.clipping[a]={id:a});return eo(r)?s.path=r(null):BRe(n)?s.path=m7(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+a+")"}function vd(e){this.clear(),e&&this.union(e)}vd.prototype={clone(){return new vd(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:a,y2:s}=this,u=Math.cos(e),f=Math.sin(e),d=t-t*u+n*f,c=n-t*f-n*u;return[u*r-f*i+d,f*r+u*i+c,u*r-f*s+d,f*r+u*s+c,u*a-f*i+d,f*a+u*i+c,u*a-f*s+d,f*a+u*s+c]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Vue(e){this.mark=e,this.bounds=this.bounds||new vd}function Wue(e){Vue.call(this,e),this.items=this.items||[]}tr(Wue,Vue);function URe(e){this._pending=0,this._loader=e||wue()}function kYe(e){e._pending+=1}function OB(e){e._pending-=1}URe.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return kYe(t),t._loader.sanitize(e,{context:"href"}).then(n=>(OB(t),n)).catch(()=>(OB(t),null))},loadImage(e){const t=this,n=d_n();return kYe(t),t._loader.sanitize(e,{context:"image"}).then(r=>{const i=r.href;if(!i||!n)throw{url:i};const a=new n,s=Ui(r,"crossOrigin")?r.crossOrigin:"anonymous";return s!=null&&(a.crossOrigin=s),a.onload=()=>OB(t),a.onerror=()=>OB(t),a.src=i,a}).catch(r=>(OB(t),{complete:!1,width:0,height:0,src:r&&r.url||""}))},ready(){const e=this;return new Promise(t=>{function n(r){e.pending()?setTimeout(()=>{n(!0)},10):t(r)}n(!1)})}};function Lk(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?Zxn(t,r):0))}return e}function Zxn(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const Qxn=OS-1e-8;let Gue,Fte,Nte,O5,Pxe,zte,Lxe,Dxe;const $R=(e,t)=>Gue.add(e,t),jte=(e,t)=>$R(Fte=e,Nte=t),OYe=e=>$R(e,Gue.y1),AYe=e=>$R(Gue.x1,e),c5=(e,t)=>Pxe*e+Lxe*t,f5=(e,t)=>zte*e+Dxe*t,eye=(e,t)=>$R(c5(e,t),f5(e,t)),tye=(e,t)=>jte(c5(e,t),f5(e,t));function rq(e,t){return Gue=e,t?(O5=t*L3,Pxe=Dxe=Math.cos(O5),zte=Math.sin(O5),Lxe=-zte):(Pxe=Dxe=1,O5=zte=Lxe=0),Jxn}const Jxn={beginPath(){},closePath(){},moveTo:tye,lineTo:tye,rect(e,t,n,r){O5?(eye(e+n,t),eye(e+n,t+r),eye(e,t+r),tye(e,t)):($R(e+n,t+r),jte(e,t))},quadraticCurveTo(e,t,n,r){const i=c5(e,t),a=f5(e,t),s=c5(n,r),u=f5(n,r);RYe(Fte,i,s,OYe),RYe(Nte,a,u,AYe),jte(s,u)},bezierCurveTo(e,t,n,r,i,a){const s=c5(e,t),u=f5(e,t),f=c5(n,r),d=f5(n,r),c=c5(i,a),h=f5(i,a);TYe(Fte,s,f,c,OYe),TYe(Nte,u,d,h,AYe),jte(c,h)},arc(e,t,n,r,i,a){if(r+=O5,i+=O5,Fte=n*Math.cos(i)+e,Nte=n*Math.sin(i)+t,Math.abs(i-r)>Qxn)$R(e-n,t-n),$R(e+n,t+n);else{const s=d=>$R(n*Math.cos(d)+e,n*Math.sin(d)+t);let u,f;if(s(r),s(i),i!==r)if(r=r%OS,r<0&&(r+=OS),i=i%OS,i<0&&(i+=OS),i<r&&(a=!a,u=r,r=i,i=u),a)for(i-=OS,u=r-r%l5,f=0;f<4&&u>i;++f,u-=l5)s(u);else for(u=r-r%l5+l5,f=0;f<4&&u<i;++f,u=u+l5)s(u)}}};function RYe(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function TYe(e,t,n,r,i){const a=r-e+3*t-3*n,s=e+n-2*t,u=e-t;let f=0,d=0,c;Math.abs(a)>dxn?(c=s*s+u*a,c>=0&&(c=Math.sqrt(c),f=(-s+c)/a,d=(-s-c)/a)):f=.5*u/s,0<f&&f<1&&i(MYe(f,e,t,n,r)),0<d&&d<1&&i(MYe(d,e,t,n,r))}function MYe(e,t,n,r,i){const a=1-e,s=a*a,u=e*e;return s*a*t+3*s*e*n+3*a*u*r+u*e*i}var a3=(a3=i3(1,1))?a3.getContext("2d"):null;const Ixe=new vd;function VRe(e){return function(t,n){if(!a3)return!0;e(a3,t),Ixe.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:a,y2:s}=Ixe;for(let u=i;u<=s;++u)for(let f=r;f<=a;++f)if(a3.isPointInPath(f,u))return!0;return!1}}function WRe(e,t){return t.contains(e.x||0,e.y||0)}function Ppt(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return t.intersects(Ixe.set(n,r,n+i,r+a))}function Lpt(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,a=e.y2!=null?e.y2:r;return sF(t,n,r,i,a)}function sF(e,t,n,r,i){const{x1:a,y1:s,x2:u,y2:f}=e,d=r-t,c=i-n;let h=0,p=1,v,m,y,w;for(w=0;w<4;++w){if(w===0&&(v=-d,m=-(a-t)),w===1&&(v=d,m=u-t),w===2&&(v=-c,m=-(s-n)),w===3&&(v=c,m=f-n),Math.abs(v)<1e-10&&m<0)return!1;if(y=m/v,v<0){if(y>p)return!1;y>h&&(h=y)}else if(v>0){if(y<h)return!1;y<p&&(p=y)}}return!0}function VN(e,t){e.globalCompositeOperation=t.blend||"source-over"}function L2(e,t){return e??t}function PYe(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function eSn(e,t,n){const r=n.width(),i=n.height();let a;if(t.gradient==="radial")a=e.createRadialGradient(n.x1+L2(t.x1,.5)*r,n.y1+L2(t.y1,.5)*i,Math.max(r,i)*L2(t.r1,0),n.x1+L2(t.x2,.5)*r,n.y1+L2(t.y2,.5)*i,Math.max(r,i)*L2(t.r2,.5));else{const s=L2(t.x1,0),u=L2(t.y1,0),f=L2(t.x2,1),d=L2(t.y2,0);if(s===f||u===d||r===i)a=e.createLinearGradient(n.x1+s*r,n.y1+u*i,n.x1+f*r,n.y1+d*i);else{const c=i3(Math.ceil(r),Math.ceil(i)),h=c.getContext("2d");return h.scale(r,i),h.fillStyle=PYe(h.createLinearGradient(s,u,f,d),t.stops),h.fillRect(0,0,r,i),e.createPattern(c,"no-repeat")}}return PYe(a,t.stops)}function Dpt(e,t,n){return zRe(n)?eSn(e,n,t.bounds):n}function sie(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=Dpt(e,t,t.fill),!0):!1}var tSn=[];function WN(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=Dpt(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||tSn),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function nSn(e,t){return e.zindex-t.zindex||e.index-t.index}function GRe(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,a;for(i=0,a=t.length;i<a;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(nSn)}function k_(e,t){var n=e.items,r,i;if(!n||!n.length)return;const a=GRe(e);if(a&&a.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=a}for(r=0,i=n.length;r<i;++r)t(n[r])}function uie(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const a=GRe(e);for(a&&a.length&&(n=a),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===a){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function qRe(e){return function(t,n,r){k_(n,i=>{(!r||r.intersects(i.bounds))&&Ipt(e,t,i,i)})}}function rSn(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&Ipt(e,t,n.items[0],n.items)}}function Ipt(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(VN(t,n),n.fill&&sie(t,n,i)&&t.fill(),n.stroke&&WN(t,n,i)&&t.stroke()))}function que(e){return e=e||nw,function(t,n,r,i,a,s){return r*=t.pixelRatio,i*=t.pixelRatio,uie(n,u=>{const f=u.bounds;if(!(f&&!f.contains(a,s)||!f)&&e(t,u,r,i,a,s))return u})}}function iq(e,t){return function(n,r,i,a){var s=Array.isArray(r)?r[0]:r,u=t??s.fill,f=s.stroke&&n.isPointInStroke,d,c;return f&&(d=s.strokeWidth,c=s.strokeCap,n.lineWidth=d??1,n.lineCap=c??"butt"),e(n,r)?!1:u&&n.isPointInPath(i,a)||f&&n.isPointInStroke(i,a)}}function YRe(e){return que(iq(e))}function V5(e,t){return"translate("+e+","+t+")"}function KRe(e){return"rotate("+e+")"}function iSn(e,t){return"scale("+e+","+t+")"}function Fpt(e){return V5(e.x||0,e.y||0)}function aSn(e){return V5(e.x||0,e.y||0)+(e.angle?" "+KRe(e.angle):"")}function oSn(e){return V5(e.x||0,e.y||0)+(e.angle?" "+KRe(e.angle):"")+(e.scaleX||e.scaleY?" "+iSn(e.scaleX||1,e.scaleY||1):"")}function XRe(e,t,n){function r(s,u){s("transform",aSn(u)),s("d",t(null,u))}function i(s,u){return t(rq(s,u.angle),u),Lk(s,u).translate(u.x||0,u.y||0)}function a(s,u){var f=u.x||0,d=u.y||0,c=u.angle||0;s.translate(f,d),c&&s.rotate(c*=L3),s.beginPath(),t(s,u),c&&s.rotate(-c),s.translate(-f,-d)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:qRe(a),pick:YRe(a),isect:n||VRe(a)}}var sSn=XRe("arc",Wxn);function uSn(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,a=1/0,s,u;--i>=0;)e[i].defined!==!1&&(u=Math.abs(e[i][r]-n),u<a&&(a=u,s=e[i]));return s}function lSn(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,a,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],a=e[r].y-t[1],s=i*i+a*a,s<n))return e[r];return null}function cSn(e,t){for(var n=e.length,r,i,a;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],a=r*r+i*i,r=e[n].size||1,a<r*r))return e[n];return null}function ZRe(e,t,n){function r(f,d){var c=d.mark.items;c.length&&f("d",t(null,c))}function i(f,d){var c=d.items;return c.length===0?f:(t(rq(f),c),Lk(f,c[0]))}function a(f,d){f.beginPath(),t(f,d)}const s=iq(a);function u(f,d,c,h,p,v){var m=d.items,y=d.bounds;return!m||!m.length||y&&!y.contains(p,v)?null:(c*=f.pixelRatio,h*=f.pixelRatio,s(f,m,c,h)?m[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:rSn(a),pick:u,isect:WRe,tip:n}}var fSn=ZRe("area",Gxn,uSn);function dSn(e,t){var n=t.clip;e.save(),eo(n)?(e.beginPath(),n(e),e.clip()):Npt(e,t.group)}function Npt(e,t){e.beginPath(),BRe(t)?m7(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function zpt(e){const t=L2(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function hSn(e,t){e("transform",Fpt(t))}function jpt(e,t){const n=zpt(t);e("d",m7(null,t,n,n))}function gSn(e,t){e("class","background"),e("aria-hidden",!0),jpt(e,t)}function pSn(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?jpt(e,t):e("d","")}function vSn(e,t,n){const r=t.clip?HRe(n,t,t):null;e("clip-path",r)}function mSn(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Lk(e,t),e.translate(t.x||0,t.y||0)}function tW(e,t,n,r){const i=zpt(t);e.beginPath(),m7(e,t,(n||0)+i,(r||0)+i)}const ySn=iq(tW),bSn=iq(tW,!1),wSn=iq(tW,!0);function _Sn(e,t,n){k_(t,r=>{const i=r.x||0,a=r.y||0,s=r.strokeForeground,u=r.opacity==null?1:r.opacity;(r.stroke||r.fill)&&u&&(tW(e,r,i,a),VN(e,r),r.fill&&sie(e,r,u)&&e.fill(),r.stroke&&!s&&WN(e,r,u)&&e.stroke()),e.save(),e.translate(i,a),r.clip&&Npt(e,r),n&&n.translate(-i,-a),k_(r,f=>{this.draw(e,f,n)}),n&&n.translate(i,a),e.restore(),s&&r.stroke&&u&&(tW(e,r,i,a),VN(e,r),WN(e,r,u)&&e.stroke())})}function xSn(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;const s=n*e.pixelRatio,u=r*e.pixelRatio;return uie(t,f=>{let d,c,h;const p=f.bounds;if(p&&!p.contains(i,a))return;c=f.x||0,h=f.y||0;const v=c+(f.width||0),m=h+(f.height||0),y=f.clip;if(y&&(i<c||i>v||a<h||a>m))return;if(e.save(),e.translate(c,h),c=i-c,h=a-h,y&&BRe(f)&&!wSn(e,f,s,u))return e.restore(),null;const w=f.strokeForeground,_=t.interactive!==!1;return _&&w&&f.stroke&&bSn(e,f,s,u)?(e.restore(),f):(d=uie(f,S=>SSn(S,c,h)?this.pick(S,n,r,c,h):null),!d&&_&&(f.fill||!w&&f.stroke)&&ySn(e,f,s,u)&&(d=f),e.restore(),d||null)})}function SSn(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var ESn={type:"group",tag:"g",nested:!1,attr:hSn,bound:mSn,draw:_Sn,pick:xSn,isect:Ppt,content:vSn,background:gSn,foreground:pSn},nW={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function QRe(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function JRe(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function e3e(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function Yue(e,t){return e==="center"?t/2:e==="right"?t:0}function Kue(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function CSn(e,t,n){const r=QRe(t,n),i=JRe(t,r),a=e3e(t,r),s=(t.x||0)-Yue(t.align,i),u=(t.y||0)-Kue(t.baseline,a),f=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",f,nW["xmlns:xlink"],"xlink:href"),e("transform",V5(s,u)),e("width",i),e("height",a),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function $Sn(e,t){const n=t.image,r=JRe(t,n),i=e3e(t,n),a=(t.x||0)-Yue(t.align,r),s=(t.y||0)-Kue(t.baseline,i);return e.set(a,s,a+r,s+i)}function kSn(e,t,n){k_(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=QRe(r,this);let a=JRe(r,i),s=e3e(r,i);if(a===0||s===0)return;let u=(r.x||0)-Yue(r.align,a),f=(r.y||0)-Kue(r.baseline,s),d,c,h,p;r.aspect!==!1&&(c=i.width/i.height,h=r.width/r.height,c===c&&h===h&&c!==h&&(h<c?(p=a/c,f+=(s-p)/2,s=p):(p=s*c,u+=(a-p)/2,a=p))),(i.complete||i.toDataURL)&&(VN(e,r),e.globalAlpha=(d=r.opacity)!=null?d:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,u,f,a,s))})}var OSn={type:"image",tag:"image",nested:!1,attr:CSn,bound:$Sn,draw:kSn,pick:que(),isect:nw,get:QRe,xOffset:Yue,yOffset:Kue},ASn=ZRe("line",qxn,lSn);function RSn(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",oSn(t)),e("d",t.path)}function Bte(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,a=t.scaleX||1,s=t.scaleY||1,u=(t.angle||0)*L3,f=t.pathCache;(!f||f.path!==n)&&((t.pathCache=f=UN(n)).path=n),u&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(u),eW(e,f,0,0,a,s),e.rotate(-u),e.translate(-r,-i)):eW(e,f,r,i,a,s)}function TSn(e,t){return Bte(rq(e,t.angle),t)?e.set(0,0,0,0):Lk(e,t,!0)}var MSn={type:"path",tag:"path",nested:!1,attr:RSn,bound:TSn,draw:qRe(Bte),pick:YRe(Bte),isect:VRe(Bte)};function PSn(e,t){e("d",m7(null,t))}function LSn(e,t){var n,r;return Lk(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function LYe(e,t){e.beginPath(),m7(e,t)}var DSn={type:"rect",tag:"path",nested:!1,attr:PSn,bound:LSn,draw:qRe(LYe),pick:YRe(LYe),isect:Ppt};function ISn(e,t){e("transform",Fpt(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function FSn(e,t){var n,r;return Lk(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function Bpt(e,t,n){var r,i,a,s;return t.stroke&&WN(e,t,n)?(r=t.x||0,i=t.y||0,a=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,s),!0):!1}function NSn(e,t,n){k_(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&Bpt(e,r,i)&&(VN(e,r),e.stroke())}})}function zSn(e,t,n,r){return e.isPointInStroke?Bpt(e,t,1)&&e.isPointInStroke(n,r):!1}var jSn={type:"rule",tag:"line",nested:!1,attr:ISn,bound:FSn,draw:NSn,pick:que(zSn),isect:Lpt},BSn=XRe("shape",Yxn),HSn=XRe("symbol",Kxn,WRe);const DYe=_dt();var h_={height:ME,measureWidth:t3e,estimateWidth:Fxe,width:Fxe,canvas:Hpt};Hpt(!0);function Hpt(e){h_.width=e&&a3?t3e:Fxe}function Fxe(e,t){return Upt(I3(e,t),ME(e))}function Upt(e,t){return~~(.8*e.length*t)}function t3e(e,t){return ME(e)<=0||!(t=I3(e,t))?0:Vpt(t,Xue(e))}function Vpt(e,t){const n=`(${t}) ${e}`;let r=DYe.get(n);return r===void 0&&(a3.font=t,r=a3.measureText(e).width,DYe.set(n,r)),r}function ME(e){return e.fontSize!=null?+e.fontSize||0:11}function D3(e){return e.lineHeight!=null?e.lineHeight:ME(e)+2}function USn(e){return En(e)?e.length>1?e:e[0]:e}function aq(e){return USn(e.lineBreak&&e.text&&!En(e.text)?e.text.split(e.lineBreak):e.text)}function n3e(e){const t=aq(e);return(En(t)?t.length-1:0)*D3(e)}function I3(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?WSn(e,n):n}function VSn(e){if(h_.width===t3e){const t=Xue(e);return n=>Vpt(n,t)}else{const t=ME(e);return n=>Upt(n,t)}}function WSn(e,t){var n=+e.limit,r=VSn(e);if(r(t)<n)return t;var i=e.ellipsis||"",a=e.dir==="rtl",s=0,u=t.length,f;if(n-=r(i),a){for(;s<u;)f=s+u>>>1,r(t.slice(f))>n?s=f+1:u=f;return i+t.slice(s)}else{for(;s<u;)f=1+(s+u>>>1),r(t.slice(0,f))<n?s=f:u=f-1;return t.slice(0,s)+i}}function oq(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function Xue(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+ME(e)+"px "+oq(e,t)}function r3e(e){var t=e.baseline,n=ME(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*D3(e):t==="line-bottom"?.29*n-.5*D3(e):0)}const GSn={left:"start",center:"middle",right:"end"},hU=new vd;function Zue(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-l5,t+=r*Math.cos(i),n+=r*Math.sin(i)),hU.x1=t,hU.y1=n,hU}function qSn(e,t){var n=t.dx||0,r=(t.dy||0)+r3e(t),i=Zue(t),a=i.x1,s=i.y1,u=t.angle||0,f;e("text-anchor",GSn[t.align]||"start"),u?(f=V5(a,s)+" "+KRe(u),(n||r)&&(f+=" "+V5(n,r))):f=V5(a+n,s+r),e("transform",f)}function i3e(e,t,n){var r=h_.height(t),i=t.align,a=Zue(t),s=a.x1,u=a.y1,f=t.dx||0,d=(t.dy||0)+r3e(t)-Math.round(.8*r),c=aq(t),h;if(En(c)?(r+=D3(t)*(c.length-1),h=c.reduce((p,v)=>Math.max(p,h_.width(t,v)),0)):h=h_.width(t,c),i==="center"?f-=h/2:i==="right"&&(f-=h),e.set(f+=s,d+=u,f+h,d+r),t.angle&&!n)e.rotate(t.angle*L3,s,u);else if(n===2)return e.rotatedPoints(t.angle*L3,s,u);return e}function YSn(e,t,n){k_(t,r=>{var i=r.opacity==null?1:r.opacity,a,s,u,f,d,c,h;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=Xue(r),e.textAlign=r.align||"left",a=Zue(r),s=a.x1,u=a.y1,r.angle&&(e.save(),e.translate(s,u),e.rotate(r.angle*L3),s=u=0),s+=r.dx||0,u+=(r.dy||0)+r3e(r),c=aq(r),VN(e,r),En(c))for(d=D3(r),f=0;f<c.length;++f)h=I3(r,c[f]),r.fill&&sie(e,r,i)&&e.fillText(h,s,u),r.stroke&&WN(e,r,i)&&e.strokeText(h,s,u),u+=d;else h=I3(r,c),r.fill&&sie(e,r,i)&&e.fillText(h,s,u),r.stroke&&WN(e,r,i)&&e.strokeText(h,s,u);r.angle&&e.restore()}})}function KSn(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=Zue(t),u=s.x1,f=s.y1,d=i3e(hU,t,1),c=-t.angle*L3,h=Math.cos(c),p=Math.sin(c),v=h*i-p*a+(u-h*u+p*f),m=p*i+h*a+(f-p*u-h*f);return d.contains(v,m)}function XSn(e,t){const n=i3e(hU,e,2);return sF(t,n[0],n[1],n[2],n[3])||sF(t,n[0],n[1],n[4],n[5])||sF(t,n[4],n[5],n[6],n[7])||sF(t,n[2],n[3],n[6],n[7])}var ZSn={type:"text",tag:"text",nested:!1,attr:qSn,bound:i3e,draw:YSn,pick:que(KSn),isect:XSn},QSn=ZRe("trail",Xxn,cSn),dy={arc:sSn,area:fSn,group:ESn,image:OSn,line:ASn,path:MSn,rect:DSn,rule:jSn,shape:BSn,symbol:HSn,text:ZSn,trail:QSn};function Nxe(e,t,n){var r=dy[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new vd),e,n)}var IYe={mark:null};function Wpt(e,t,n){var r=dy[e.marktype],i=r.bound,a=e.items,s=a&&a.length,u,f,d,c;if(r.nested)return s?d=a[0]:(IYe.mark=e,d=IYe),c=Nxe(d,i,n),t=t&&t.union(c)||c,t;if(t=t||e.bounds&&e.bounds.clear()||new vd,s)for(u=0,f=a.length;u<f;++u)t.union(Nxe(a[u],i,n));return e.bounds=t}const JSn=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function Gpt(e,t){return JSON.stringify(e,JSn,t)}function qpt(e){const t=typeof e=="string"?JSON.parse(e):e;return Ypt(t)}function Ypt(e){var t=e.marktype,n=e.items,r,i,a;if(n)for(i=0,a=n.length;i<a;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&Ypt(n[i]);return t&&Wpt(e),e}function a3e(e){arguments.length?this.root=qpt(e):(this.root=Kpt({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Wue(this.root)])}a3e.prototype={toJSON(e){return Gpt(this.root,e||0)},mark(e,t,n){t=t||this.root.items[0];const r=Kpt(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}};function Kpt(e,t){const n={bounds:new vd,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function kR(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function o3e(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function pm(e,t,n,r){var i=e.childNodes[t],a;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(a=i||null,i=kR(e.ownerDocument,n,r),e.insertBefore(i,a)),i}function Q2(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Xpt(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function Que(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function eEn(e,t,n,r){var i=e&&e.mark,a,s;if(i&&(a=dy[i.marktype]).tip){for(s=Que(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=a.tip(i.items,s)}return e}function F3(e,t){this._active=null,this._handlers={},this._loader=e||wue(),this._tooltip=t||tEn}function tEn(e,t,n,r){e.element().setAttribute("title",r||"")}F3.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const r in t)n.push(...t[r]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(r=>{const i=new MouseEvent(e.type,e),a=kR(null,"a");for(const s in r)a.setAttribute(s,r[s]);a.dispatchEvent(i)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=eEn(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,a=i.width(),s=i.height();let u=i.x1+r[0]+n.left,f=i.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)u+=e.x||0,f+=e.y||0;return{x:u,y:f,width:a,height:s,left:u,top:f,right:u+a,bottom:f+s}}};function PE(e){this._el=null,this._bgcolor=null,this._loader=new URe(e)}PE.prototype={initialize(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,r=n._loader[e](t);if(!n._ready){const i=n._call;n._ready=n._loader.ready().then(a=>{a&&i(),n._ready=null})}return r},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const nEn="keydown",rEn="keypress",iEn="keyup",Zpt="dragenter",Hte="dragleave",Qpt="dragover",zxe="mousedown",aEn="mouseup",lie="mousemove",gU="mouseout",Jpt="mouseover",cie="click",oEn="dblclick",sEn="wheel",e0t="mousewheel",fie="touchstart",die="touchmove",hie="touchend",uEn=[nEn,rEn,iEn,Zpt,Hte,Qpt,zxe,aEn,lie,gU,Jpt,cie,oEn,sEn,e0t,fie,die,hie],jxe=lie,rW=gU,Bxe=cie;function sq(e,t){F3.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const lEn=e=>e===fie||e===die||e===hie?[fie,die,hie]:[e];function FYe(e,t){lEn(t).forEach(n=>cEn(e,n))}function cEn(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function NYe(e,t,n){return function(r){const i=this._active,a=this.pickEvent(r);a===i?this.fire(e,r):((!i||!i.exit)&&this.fire(n,r),this._active=a,this.fire(t,r),this.fire(e,r))}}function zYe(e){return function(t){this.fire(e,t),this._active=null}}tr(sq,F3,{initialize(e,t,n){return this._canvas=e&&o3e(e,"canvas"),[cie,zxe,lie,gU,Hte].forEach(r=>FYe(this,r)),F3.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:uEn,DOMMouseScroll(e){this.fire(e0t,e)},mousemove:NYe(lie,Jpt,gU),dragover:NYe(Qpt,Zpt,Hte),mouseout:zYe(gU),dragleave:zYe(Hte),mousedown(e){this._down=this._active,this.fire(zxe,e)},click(e){this._down===this._active&&(this.fire(cie,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(fie,e,!0)},touchmove(e){this.fire(die,e,!0)},touchend(e){this.fire(hie,e,!0),this._touch=null},fire(e,t,n){const r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===Bxe&&r&&r.href?this.handleHref(t,r,r.href):(e===jxe||e===rW)&&this.handleTooltip(t,r,e!==rW),i)for(let a=0,s=i.length;a<s;++a)i[a].handler.call(this._obj,t,r)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(FYe(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent(e){const t=Que(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,r,i){const a=this.context();return dy[e.marktype].pick.call(this,a,e,t,n,r,i)}});function fEn(){return typeof window<"u"&&window.devicePixelRatio||1}var dEn=fEn();function hEn(e,t,n,r,i,a){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,u=e.getContext("2d"),f=s?dEn:i;e.width=t*f,e.height=n*f;for(const d in a)u[d]=a[d];return s&&f!==1&&(e.style.width=t+"px",e.style.height=n+"px"),u.pixelRatio=f,u.setTransform(f,0,0,f,f*r[0],f*r[1]),e}function gie(e){PE.call(this,e),this._options={},this._redraw=!1,this._dirty=new vd,this._tempb=new vd}const jYe=PE.prototype,gEn=(e,t,n)=>new vd().set(0,0,t,n).translate(-e[0],-e[1]);function pEn(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}tr(gie,PE,{initialize(e,t,n,r,i,a){return this._options=a||{},this._canvas=this._options.externalContext?null:i3(1,1,this._options.type),e&&this._canvas&&(Q2(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),jYe.initialize.call(this,e,t,n,r,i)},resize(e,t,n,r){if(jYe.resize.call(this,e,t,n,r),this._canvas)hEn(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const i=this._options.externalContext;i||xn("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,r=this._width,i=this._height,a=this._dirty,s=gEn(n,r,i);t.save();const u=this._redraw||a.empty()?(this._redraw=!1,s.expand(1)):pEn(t,s.intersect(a),n);return this.clear(-n[0],-n[1],r,i),this.draw(t,e,u),t.restore(),a.clear(),this},draw(e,t,n){const r=dy[t.marktype];t.clip&&dSn(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,r){const i=this._options,a=this.context();i.type!=="pdf"&&!i.externalContext&&a.clearRect(e,t,n,r),this._bgcolor!=null&&(a.fillStyle=this._bgcolor,a.fillRect(e,t,n,r))}});function s3e(e,t){F3.call(this,e,t);const n=this;n._hrefHandler=Hxe(n,(r,i)=>{i&&i.href&&n.handleHref(r,i,i.href)}),n._tooltipHandler=Hxe(n,(r,i)=>{n.handleTooltip(r,i,r.type!==rW)})}const Hxe=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};tr(s3e,F3,{initialize(e,t,n){let r=this._svg;return r&&(r.removeEventListener(Bxe,this._hrefHandler),r.removeEventListener(jxe,this._tooltipHandler),r.removeEventListener(rW,this._tooltipHandler)),this._svg=r=e&&o3e(e,"svg"),r&&(r.addEventListener(Bxe,this._hrefHandler),r.addEventListener(jxe,this._tooltipHandler),r.addEventListener(rW,this._tooltipHandler)),F3.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const a={type:e,handler:t,listener:Hxe(this,t)};(r[n]||(r[n]=[])).push(a),this._svg&&this._svg.addEventListener(n,a.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const t0t="aria-hidden",u3e="aria-label",l3e="role",c3e="aria-roledescription",n0t="graphics-object",f3e="graphics-symbol",r0t=(e,t,n)=>({[l3e]:e,[c3e]:t,[u3e]:n||void 0}),vEn=C_(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),BYe={axis:{desc:"axis",caption:bEn},legend:{desc:"legend",caption:wEn},"title-text":{desc:"title",caption:e=>`Title text '${UYe(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${UYe(e)}'`}},HYe={ariaRole:l3e,ariaRoleDescription:c3e,description:u3e};function i0t(e,t){const n=t.aria===!1;if(e(t0t,n||void 0),n||t.description==null)for(const r in HYe)e(HYe[r],void 0);else{const r=t.mark.marktype;e(u3e,t.description),e(l3e,t.ariaRole||(r==="group"?n0t:f3e)),e(c3e,t.ariaRoleDescription||`${r} mark`)}}function a0t(e){return e.aria===!1?{[t0t]:!0}:vEn[e.role]?null:BYe[e.role]?yEn(e,BYe[e.role]):mEn(e)}function mEn(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return r0t(n?n0t:f3e,`${t} mark container`,e.description)}function yEn(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return r0t(t.role||f3e,t.desc,n.description||r(n))}catch{return null}}function UYe(e){return Mr(e.text).join(" ")}function bEn(e){const t=e.datum,n=e.orient,r=t.title?o0t(e):null,i=e.context,a=i.scales[t.scale].value,s=i.dataflow.locale(),u=a.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${HN(u)?"discrete":u} scale with ${Spt(s,a,e)}`}function wEn(e){const t=e.datum,n=t.title?o0t(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,a=Object.keys(i),s=e.context,u=s.scales[i[a[0]]].value,f=s.dataflow.locale();return xEn(r)+(n?` titled '${n}'`:"")+` for ${_En(a)} with ${Spt(f,u,e)}`}function o0t(e){try{return Mr(es(e.items).items[0].text).join(" ")}catch{return null}}function _En(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+es(e)}function xEn(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const s0t=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),SEn=e=>s0t(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function d3e(){let e="",t="",n="";const r=[],i=()=>t=n="",a=f=>{t&&(e+=`${t}>${n}`,i()),r.push(f)},s=(f,d)=>(d!=null&&(t+=` ${f}="${SEn(d)}"`),u),u={open(f){a(f),t="<"+f;for(var d=arguments.length,c=new Array(d>1?d-1:0),h=1;h<d;h++)c[h-1]=arguments[h];for(const p of c)for(const v in p)s(v,p[v]);return u},close(){const f=r.pop();return t?e+=t+(n?`>${n}</${f}>`:"/>"):e+=`</${f}>`,i(),u},attr:s,text:f=>(n+=s0t(f),u),toString:()=>e};return u}const u0t=e=>l0t(d3e(),e)+"";function l0t(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):l0t(e,r)}return e.close()}const pie={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},vie={blend:"mix-blend-mode"},c0t={fill:"none","stroke-miterlimit":10},AB=0,VYe="http://www.w3.org/2000/xmlns/",Bd=nW.xmlns;function h3e(e){PE.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const nye=PE.prototype;tr(h3e,PE,{initialize(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=pm(e,0,"svg",Bd),this._svg.setAttributeNS(VYe,"xmlns",Bd),this._svg.setAttributeNS(VYe,"xmlns:xlink",nW["xmlns:xlink"]),this._svg.setAttribute("version",nW.version),this._svg.setAttribute("class","marks"),Q2(e,1),this._root=pm(this._svg,AB,"g",Bd),OR(this._root,c0t),Q2(this._svg,AB+1)),this.background(this._bgcolor),nye.initialize.call(this,e,t,n,r,i)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),nye.background.apply(this,arguments)},resize(e,t,n,r){return nye.resize.call(this,e,t,n,r),this._svg&&(OR(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=pm(e,AB,"rect",Bd),OR(n,{width:this._width,height:this._height,fill:t}));const r=u0t(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),r},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Q2(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,r,i,a,s,u,f;for(s=0,u=e.length;s<u;++s)if(n=e[s],r=n.mark,r.marktype!==i&&(i=r.marktype,a=dy[i]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,WYe(n,t),r.items.forEach(d=>{d.dirty=t})),!r.zdirty){if(n.exit){a.nested&&r.items.length?(f=r.items[0],f._svg&&this._update(a,f._svg,f)):n._svg&&(f=n._svg.parentNode,f&&f.removeChild(n._svg)),n._svg=null;continue}n=a.nested?r.items[0]:n,n._update!==t&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,WYe(n,t)):this._update(a,n._svg,n),n._update=t)}return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const r=this._svg,i=dy[t.marktype],a=t.interactive===!1?"none":null,s=i.tag==="g",u=GYe(t,e,n,"g",r);u.setAttribute("class",Xpt(t));const f=a0t(t);for(const p in f)G0(u,p,f[p]);s||G0(u,"pointer-events",a),G0(u,"clip-path",t.clip?HRe(this,t,t.group):null);let d=null,c=0;const h=p=>{const v=this.isDirty(p),m=GYe(p,u,d,i.tag,r);v&&(this._update(i,m,p),s&&$En(this,m,p)),d=m,++c};return i.nested?t.items.length&&h(t.items[0]):k_(t,h),Q2(u,c),u},_update(e,t,n){X$=t,Tp=t.__values__,i0t(pU,n),e.attr(pU,n,this);const r=OEn[e.type];r&&r.call(this,e,t,n),X$&&this.style(X$,n)},style(e,t){if(t!=null){for(const n in pie){let r=n==="font"?oq(t):t[n];if(r===Tp[n])continue;const i=pie[n];r==null?e.removeAttribute(i):(zRe(r)&&(r=Cpt(r,this._defs.gradient,f0t())),e.setAttribute(i,r+"")),Tp[n]=r}for(const n in vie)Ute(e,vie[n],t[n])}},defs(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const i in t.gradient)n||(t.el=n=pm(e,AB+1,"defs",Bd)),r=EEn(n,t.gradient[i],r);for(const i in t.clipping)n||(t.el=n=pm(e,AB+1,"defs",Bd)),r=CEn(n,t.clipping[i],r);n&&(r===0?(e.removeChild(n),t.el=null):Q2(n,r))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});function WYe(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function EEn(e,t,n){let r,i,a;if(t.gradient==="radial"){let s=pm(e,n++,"pattern",Bd);OR(s,{id:oie+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=pm(s,0,"rect",Bd),OR(s,{width:1,height:1,fill:`url(${f0t()}#${t.id})`}),e=pm(e,n++,"radialGradient",Bd),OR(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=pm(e,n++,"linearGradient",Bd),OR(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)a=pm(e,r,"stop",Bd),a.setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);return Q2(e,r),n}function CEn(e,t,n){let r;return e=pm(e,n,"clipPath",Bd),e.setAttribute("id",t.id),t.path?(r=pm(e,0,"path",Bd),r.setAttribute("d",t.path)):(r=pm(e,0,"rect",Bd),OR(r,{x:0,y:0,width:t.width,height:t.height})),Q2(e,1),n+1}function $En(e,t,n){t=t.lastChild.previousSibling;let r,i=0;k_(n,a=>{r=e.mark(t,a,r),++i}),Q2(t,1+i)}function GYe(e,t,n,r,i){let a=e._svg,s;if(!a&&(s=t.ownerDocument,a=kR(s,r,Bd),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},r==="g"))){const u=kR(s,"path",Bd);a.appendChild(u),u.__data__=e;const f=kR(s,"g",Bd);a.appendChild(f),f.__data__=e;const d=kR(s,"path",Bd);a.appendChild(d),d.__data__=e,d.__values__={fill:"default"}}return(a.ownerSVGElement!==i||kEn(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}function kEn(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let X$=null,Tp=null;const OEn={group(e,t,n){const r=X$=t.childNodes[2];Tp=r.__values__,e.foreground(pU,n,this),Tp=t.__values__,X$=t.childNodes[1],e.content(pU,n,this);const i=X$=t.childNodes[0];e.background(pU,n,this);const a=n.mark.interactive===!1?"none":null;if(a!==Tp.events&&(G0(r,"pointer-events",a),G0(i,"pointer-events",a),Tp.events=a),n.strokeForeground&&n.stroke){const s=n.fill;G0(r,"display",null),this.style(i,n),G0(i,"stroke",null),s&&(n.fill=null),Tp=r.__values__,this.style(r,n),s&&(n.fill=s),X$=null}else G0(r,"display","none")},image(e,t,n){n.smooth===!1?(Ute(t,"image-rendering","optimizeSpeed"),Ute(t,"image-rendering","pixelated")):Ute(t,"image-rendering",null)},text(e,t,n){const r=aq(n);let i,a,s,u;En(r)?(a=r.map(f=>I3(n,f)),i=a.join(`
`),i!==Tp.text&&(Q2(t,0),s=t.ownerDocument,u=D3(n),a.forEach((f,d)=>{const c=kR(s,"tspan",Bd);c.__data__=n,c.textContent=f,d&&(c.setAttribute("x",0),c.setAttribute("dy",u)),t.appendChild(c)}),Tp.text=i)):(a=I3(n,r),a!==Tp.text&&(t.textContent=a,Tp.text=a)),G0(t,"font-family",oq(n)),G0(t,"font-size",ME(n)+"px"),G0(t,"font-style",n.fontStyle),G0(t,"font-variant",n.fontVariant),G0(t,"font-weight",n.fontWeight)}};function pU(e,t,n){t!==Tp[e]&&(n?AEn(X$,e,t,n):G0(X$,e,t),Tp[e]=t)}function Ute(e,t,n){n!==Tp[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),Tp[t]=n)}function OR(e,t){for(const n in t)G0(e,n,t[n])}function G0(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function AEn(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function f0t(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function g3e(e){PE.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}tr(g3e,PE,{svg(){return this._text},_render(e){const t=d3e();t.open("svg",Qa({},nW,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",c0t,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=dy[t.marktype],r=n.tag,i=[i0t,n.attr];e.open("g",{class:Xpt(t),"clip-path":t.clip?HRe(this,t,t.group):null},a0t(t),{"pointer-events":r!=="g"&&t.interactive===!1?"none":null});const a=s=>{const u=this.href(s);if(u&&e.open("a",u),e.open(r,this.attr(t,s,i,r!=="g"?r:null)),r==="text"){const f=aq(s);if(En(f)){const d={x:0,dy:D3(s)};for(let c=0;c<f.length;++c)e.open("tspan",c?d:null).text(I3(s,f[c])).close()}else e.text(I3(s,f))}else if(r==="g"){const f=s.strokeForeground,d=s.fill,c=s.stroke;f&&c&&(s.stroke=null),e.open("path",this.attr(t,s,n.background,"bgrect")).close(),e.open("g",this.attr(t,s,n.content)),k_(s,h=>this.mark(e,h)),e.close(),f&&c?(d&&(s.fill=null),s.stroke=c,e.open("path",this.attr(t,s,n.foreground,"bgrect")).close(),d&&(s.fill=d)):e.open("path",this.attr(t,s,n.foreground,"bgfore")).close()}e.close(),u&&e.close()};return n.nested?t.items&&t.items.length&&a(t.items[0]):k_(t,a),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(r=>{r["xlink:href"]=r.href,r.href=null,(this._hrefs||(this._hrefs={}))[t]=r})}return null},attr(e,t,n,r){const i={},a=(s,u,f,d)=>{i[d||s]=u};return Array.isArray(n)?n.forEach(s=>s(a,t,this)):n(a,t,this),r&&REn(i,t,e,r,this._defs),i},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const i in t){const a=t[i],s=a.stops;a.gradient==="radial"?(e.open("pattern",{id:oie+i,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+i+")"}).close(),e.close(),e.open("radialGradient",{id:i,fx:a.x1,fy:a.y1,fr:a.r1,cx:a.x2,cy:a.y2,r:a.r2})):e.open("linearGradient",{id:i,x1:a.x1,x2:a.x2,y1:a.y1,y2:a.y2});for(let u=0;u<s.length;++u)e.open("stop",{offset:s[u].offset,"stop-color":s[u].color}).close();e.close()}for(const i in n){const a=n[i];e.open("clipPath",{id:i}),a.path?e.open("path",{d:a.path}).close():e.open("rect",{x:0,y:0,width:a.width,height:a.height}).close(),e.close()}e.close()}}});function REn(e,t,n,r,i){let a;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(a=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=oq(t),e["font-size"]=ME(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in pie){let u=t[s];const f=pie[s];u==="transparent"&&(f==="fill"||f==="stroke")||u!=null&&(zRe(u)&&(u=Cpt(u,i.gradient,"")),e[f]=u)}for(const s in vie){const u=t[s];u!=null&&(a=a||[],a.push(`${vie[s]}: ${u};`))}return a&&(e.style=a.join(" ")),e}const d0t="canvas",h0t="png",g0t="svg",p0t="none",AR={Canvas:d0t,PNG:h0t,SVG:g0t,None:p0t},GN={};GN[d0t]=GN[h0t]={renderer:gie,headless:gie,handler:sq};GN[g0t]={renderer:h3e,headless:g3e,handler:s3e};GN[p0t]={};function Jue(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(GN[e]=t,this):GN[e]}function v0t(e,t,n){const r=[],i=new vd().union(t),a=e.marktype;return a?m0t(e,i,n,r):a==="group"?y0t(e,i,n,r):xn("Intersect scene must be mark node or group item.")}function m0t(e,t,n,r){if(TEn(e,t,n)){const i=e.items,a=e.marktype,s=i.length;let u=0;if(a==="group")for(;u<s;++u)y0t(i[u],t,n,r);else for(const f=dy[a].isect;u<s;++u){const d=i[u];b0t(d,t,f)&&r.push(d)}}return r}function TEn(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function y0t(e,t,n,r){n&&n(e.mark)&&b0t(e,t,dy.group.isect)&&r.push(e);const i=e.items,a=i&&i.length;if(a){const s=e.x||0,u=e.y||0;t.translate(-s,-u);for(let f=0;f<a;++f)m0t(i[f],t,n,r);t.translate(s,u)}return r}function b0t(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const rye=new vd;function w0t(e){const t=e.clip;if(eo(t))t(rq(rye.clear()));else if(t)rye.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(rye)}const MEn=1e-9;function p3e(e,t,n){return e===t?!0:n==="path"?_0t(e,t):e instanceof Date&&t instanceof Date?+e==+t:Mu(e)&&Mu(t)?Math.abs(e-t)<=MEn:!e||!t||!Gr(e)&&!Gr(t)?e==t:PEn(e,t)}function _0t(e,t){return p3e(UN(e),UN(t))}function PEn(e,t){var n=Object.keys(e),r=Object.keys(t),i,a;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),a=n.length-1;a>=0;a--)if(n[a]!=r[a])return!1;for(a=n.length-1;a>=0;a--)if(i=n[a],!p3e(e[i],t[i],i))return!1;return typeof e==typeof t}function LEn(){Mpt(),axn()}const qN="top",J2="left",r_="right",N3="bottom",DEn="top-left",IEn="top-right",FEn="bottom-left",NEn="bottom-right",v3e="start",Uxe="middle",Z0="end",zEn="x",jEn="y",ele="group",m3e="axis",y3e="title",BEn="frame",HEn="scope",b3e="legend",x0t="row-header",S0t="row-footer",E0t="row-title",C0t="column-header",$0t="column-footer",k0t="column-title",UEn="padding",VEn="symbol",O0t="fit",A0t="fit-x",R0t="fit-y",WEn="pad",w3e="none",iee="all",Vxe="each",_3e="flush",RR="column",TR="row";function T0t(e){dn.call(this,null,e)}tr(T0t,dn,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,a=dy[i],s=a.bound;let u=r.bounds,f;if(a.nested)r.items.length&&n.dirty(r.items[0]),u=aee(r,s),r.items.forEach(d=>{d.bounds.clear().union(u)});else if(i===ele||e.modified())switch(t.visit(t.MOD,d=>n.dirty(d)),u.clear(),r.items.forEach(d=>u.union(aee(d,s))),r.role){case m3e:case b3e:case y3e:t.reflow()}else f=t.changed(t.REM),t.visit(t.ADD,d=>{u.union(aee(d,s))}),t.visit(t.MOD,d=>{f=f||u.alignsWith(d.bounds),n.dirty(d),u.union(aee(d,s))}),f&&(u.clear(),r.items.forEach(d=>u.union(d.bounds)));return w0t(r),t.modifies("bounds")}});function aee(e,t,n){return t(e.bounds.clear(),e,n)}const qYe=":vega_identifier:";function x3e(e){dn.call(this,0,e)}x3e.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};tr(x3e,dn,{transform(e,t){const n=GEn(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,a=>a[r]=a[r]||++i),n.set(this.value=i),t}});function GEn(e){return e._signals[qYe]||(e._signals[qYe]=e.add(0))}function M0t(e){dn.call(this,null,e)}tr(M0t,dn,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,qEn(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===ele?Wue:Vue;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function qEn(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function P0t(e){dn.call(this,null,e)}const YYe={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!L0t(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},L0t=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),KYe=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,a;n<r;i=a,++n)if(L0t(i,a=e[n].bounds,t))return!0},YEn=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},KEn=(e,t,n)=>{var r=e.range(),i=new vd;return t===qN||t===N3?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),a=>i.encloses(a.bounds)},XYe=e=>(e.forEach(t=>t.opacity=1),e),ZYe=(e,t)=>e.reflow(t.modified()).modifies("opacity");tr(P0t,dn,{transform(e,t){const n=YYe[e.method]||YYe.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,a,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(XYe(i),t=ZYe(t,e)),t;if(i=i.filter(YEn),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),a=XYe(i),t=ZYe(t,e),a.length>=3&&KYe(a,r)){do a=n(a,r);while(a.length>=3&&KYe(a,r));a.length<3&&!es(i).opacity&&(a.length>1&&(es(a).opacity=0),es(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=KEn(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(f=>{s(f)||(f.opacity=0)}));const u=a[0].mark.bounds.clear();return i.forEach(f=>{f.opacity&&u.union(f.bounds)}),t}});function D0t(e){dn.call(this,null,e)}tr(D0t,dn,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const kp=new vd;function uF(e,t,n){return e[t]===n?0:(e[t]=n,1)}function XEn(e){var t=e.items[0].orient;return t===J2||t===r_}function ZEn(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function QEn(e,t,n,r){var i=t.items[0],a=i.datum,s=i.translate!=null?i.translate:.5,u=i.orient,f=ZEn(a),d=i.range,c=i.offset,h=i.position,p=i.minExtent,v=i.maxExtent,m=a.title&&i.items[f[2]].items[0],y=i.titlePadding,w=i.bounds,_=m&&n3e(m),S=0,C=0,$,k;switch(kp.clear().union(w),w.clear(),($=f[0])>-1&&w.union(i.items[$].bounds),($=f[1])>-1&&w.union(i.items[$].bounds),u){case qN:S=h||0,C=-c,k=Math.max(p,Math.min(v,-w.y1)),w.add(0,-k).add(d,0),m&&oee(e,m,k,y,_,0,-1,w);break;case J2:S=-c,C=h||0,k=Math.max(p,Math.min(v,-w.x1)),w.add(-k,0).add(0,d),m&&oee(e,m,k,y,_,1,-1,w);break;case r_:S=n+c,C=h||0,k=Math.max(p,Math.min(v,w.x2)),w.add(0,0).add(k,d),m&&oee(e,m,k,y,_,1,1,w);break;case N3:S=h||0,C=r+c,k=Math.max(p,Math.min(v,w.y2)),w.add(0,0).add(d,k),m&&oee(e,m,k,y,0,0,1,w);break;default:S=i.x,C=i.y}return Lk(w.translate(S,C),i),uF(i,"x",S+s)|uF(i,"y",C+s)&&(i.bounds=kp,e.dirty(i),i.bounds=w,e.dirty(i)),i.mark.bounds.clear().union(w)}function oee(e,t,n,r,i,a,s,u){const f=t.bounds;if(t.auto){const d=s*(n+i+r);let c=0,h=0;e.dirty(t),a?c=(t.x||0)-(t.x=d):h=(t.y||0)-(t.y=d),t.mark.bounds.clear().union(f.translate(-c,-h)),e.dirty(t)}u.union(f)}const QYe=(e,t)=>Math.floor(Math.min(e,t)),JYe=(e,t)=>Math.ceil(Math.max(e,t));function JEn(e){var t=e.items,n=t.length,r=0,i,a;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],a=i.items,i.marktype===ele)switch(i.role){case m3e:case b3e:case y3e:break;case x0t:s.rowheaders.push(...a);break;case S0t:s.rowfooters.push(...a);break;case C0t:s.colheaders.push(...a);break;case $0t:s.colfooters.push(...a);break;case E0t:s.rowtitle=a[0];break;case k0t:s.coltitle=a[0];break;default:s.marks.push(...a)}return s}function eCn(e){return new vd().set(0,0,e.width||0,e.height||0)}function tCn(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Zl(e,t,n){const r=Gr(e)?e[t]:e;return r??(n!==void 0?n:0)}function eKe(e){return e<0?Math.ceil(-e):0}function I0t(e,t,n){var r=!n.nodirty,i=n.bounds===_3e?eCn:tCn,a=kp.set(0,0,0,0),s=Zl(n.align,RR),u=Zl(n.align,TR),f=Zl(n.padding,RR),d=Zl(n.padding,TR),c=n.columns||t.length,h=c<=0?1:Math.ceil(t.length/c),p=t.length,v=Array(p),m=Array(c),y=0,w=Array(p),_=Array(h),S=0,C=Array(p),$=Array(p),k=Array(p),M,A,L,N,R,D,j,U,H,Y,Z;for(A=0;A<c;++A)m[A]=0;for(A=0;A<h;++A)_[A]=0;for(A=0;A<p;++A)D=t[A],R=k[A]=i(D),D.x=D.x||0,C[A]=0,D.y=D.y||0,$[A]=0,L=A%c,N=~~(A/c),y=Math.max(y,j=Math.ceil(R.x2)),S=Math.max(S,U=Math.ceil(R.y2)),m[L]=Math.max(m[L],j),_[N]=Math.max(_[N],U),v[A]=f+eKe(R.x1),w[A]=d+eKe(R.y1),r&&e.dirty(t[A]);for(A=0;A<p;++A)A%c===0&&(v[A]=0),A<c&&(w[A]=0);if(s===Vxe)for(L=1;L<c;++L){for(Z=0,A=L;A<p;A+=c)Z<v[A]&&(Z=v[A]);for(A=L;A<p;A+=c)v[A]=Z+m[L-1]}else if(s===iee){for(Z=0,A=0;A<p;++A)A%c&&Z<v[A]&&(Z=v[A]);for(A=0;A<p;++A)A%c&&(v[A]=Z+y)}else for(s=!1,L=1;L<c;++L)for(A=L;A<p;A+=c)v[A]+=m[L-1];if(u===Vxe)for(N=1;N<h;++N){for(Z=0,A=N*c,M=A+c;A<M;++A)Z<w[A]&&(Z=w[A]);for(A=N*c;A<M;++A)w[A]=Z+_[N-1]}else if(u===iee){for(Z=0,A=c;A<p;++A)Z<w[A]&&(Z=w[A]);for(A=c;A<p;++A)w[A]=Z+S}else for(u=!1,N=1;N<h;++N)for(A=N*c,M=A+c;A<M;++A)w[A]+=_[N-1];for(H=0,A=0;A<p;++A)H=v[A]+(A%c?H:0),C[A]+=H-t[A].x;for(L=0;L<c;++L)for(Y=0,A=L;A<p;A+=c)Y+=w[A],$[A]+=Y-t[A].y;if(s&&Zl(n.center,RR)&&h>1)for(A=0;A<p;++A)R=s===iee?y:m[A%c],H=R-k[A].x2-t[A].x-C[A],H>0&&(C[A]+=H/2);if(u&&Zl(n.center,TR)&&c!==1)for(A=0;A<p;++A)R=u===iee?S:_[~~(A/c)],Y=R-k[A].y2-t[A].y-$[A],Y>0&&($[A]+=Y/2);for(A=0;A<p;++A)a.union(k[A].translate(C[A],$[A]));switch(H=Zl(n.anchor,zEn),Y=Zl(n.anchor,jEn),Zl(n.anchor,RR)){case Z0:H-=a.width();break;case Uxe:H-=a.width()/2}switch(Zl(n.anchor,TR)){case Z0:Y-=a.height();break;case Uxe:Y-=a.height()/2}for(H=Math.round(H),Y=Math.round(Y),a.clear(),A=0;A<p;++A)t[A].mark.bounds.clear();for(A=0;A<p;++A)D=t[A],D.x+=C[A]+=H,D.y+=$[A]+=Y,a.union(D.mark.bounds.union(D.bounds.translate(C[A],$[A]))),r&&e.dirty(D);return a}function nCn(e,t,n){var r=JEn(t),i=r.marks,a=n.bounds===_3e?rCn:iCn,s=n.offset,u=n.columns||i.length,f=u<=0?1:Math.ceil(i.length/u),d=f*u,c,h,p,v,m,y,w;const _=I0t(e,i,n);_.empty()&&_.set(0,0,0,0),r.rowheaders&&(y=Zl(n.headerBand,TR,null),c=see(e,r.rowheaders,i,u,f,-Zl(s,"rowHeader"),QYe,0,a,"x1",0,u,1,y)),r.colheaders&&(y=Zl(n.headerBand,RR,null),h=see(e,r.colheaders,i,u,u,-Zl(s,"columnHeader"),QYe,1,a,"y1",0,1,u,y)),r.rowfooters&&(y=Zl(n.footerBand,TR,null),p=see(e,r.rowfooters,i,u,f,Zl(s,"rowFooter"),JYe,0,a,"x2",u-1,u,1,y)),r.colfooters&&(y=Zl(n.footerBand,RR,null),v=see(e,r.colfooters,i,u,u,Zl(s,"columnFooter"),JYe,1,a,"y2",d-u,1,u,y)),r.rowtitle&&(m=Zl(n.titleAnchor,TR),w=Zl(s,"rowTitle"),w=m===Z0?p+w:c-w,y=Zl(n.titleBand,TR,.5),tKe(e,r.rowtitle,w,0,_,y)),r.coltitle&&(m=Zl(n.titleAnchor,RR),w=Zl(s,"columnTitle"),w=m===Z0?v+w:h-w,y=Zl(n.titleBand,RR,.5),tKe(e,r.coltitle,w,1,_,y))}function rCn(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function iCn(e,t){return e.bounds[t]}function see(e,t,n,r,i,a,s,u,f,d,c,h,p,v){var m=n.length,y=0,w=0,_,S,C,$,k,M,A,L,N;if(!m)return y;for(_=c;_<m;_+=h)n[_]&&(y=s(y,f(n[_],d)));if(!t.length)return y;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),y+=a,S=0,$=t.length;S<$;++S)e.dirty(t[S]),t[S].mark.bounds.clear();for(_=c,S=0,$=t.length;S<$;++S,_+=h){for(M=t[S],k=M.mark.bounds,C=_;C>=0&&(A=n[C])==null;C-=p);u?(L=v==null?A.x:Math.round(A.bounds.x1+v*A.bounds.width()),N=y):(L=y,N=v==null?A.y:Math.round(A.bounds.y1+v*A.bounds.height())),k.union(M.bounds.translate(L-(M.x||0),N-(M.y||0))),M.x=L,M.y=N,e.dirty(M),w=s(w,k[d])}return w}function tKe(e,t,n,r,i,a){if(t){e.dirty(t);var s=n,u=n;r?s=Math.round(i.x1+a*i.width()):u=Math.round(i.y1+a*i.height()),t.bounds.translate(s-(t.x||0),u-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=u,e.dirty(t)}}function aCn(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function oCn(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function sCn(e,t,n,r,i,a,s){const u=aCn(n,t),f=oCn(e,u("offset",0)),d=u("anchor",v3e),c=d===Z0?1:d===Uxe?.5:0,h={align:Vxe,bounds:u("bounds",_3e),columns:u("direction")==="vertical"?1:e.length,padding:u("margin",8),center:u("center"),nodirty:!0};switch(t){case J2:h.anchor={x:Math.floor(r.x1)-f,column:Z0,y:c*(s||r.height()+2*r.y1),row:d};break;case r_:h.anchor={x:Math.ceil(r.x2)+f,y:c*(s||r.height()+2*r.y1),row:d};break;case qN:h.anchor={y:Math.floor(i.y1)-f,row:Z0,x:c*(a||i.width()+2*i.x1),column:d};break;case N3:h.anchor={y:Math.ceil(i.y2)+f,x:c*(a||i.width()+2*i.x1),column:d};break;case DEn:h.anchor={x:f,y:f};break;case IEn:h.anchor={x:a-f,y:f,column:Z0};break;case FEn:h.anchor={x:f,y:s-f,row:Z0};break;case NEn:h.anchor={x:a-f,y:s-f,column:Z0,row:Z0};break}return h}function uCn(e,t){var n=t.items[0],r=n.datum,i=n.orient,a=n.bounds,s=n.x,u=n.y,f,d;return n._bounds?n._bounds.clear().union(a):n._bounds=a.clone(),a.clear(),cCn(e,n,n.items[0].items[0]),a=lCn(n,a),f=2*n.padding,d=2*n.padding,a.empty()||(f=Math.ceil(a.width()+f),d=Math.ceil(a.height()+d)),r.type===VEn&&fCn(n.items[0].items[0].items[0].items),i!==w3e&&(n.x=s=0,n.y=u=0),n.width=f,n.height=d,Lk(a.set(s,u,s+f,u+d),n),n.mark.bounds.clear().union(a),n}function lCn(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function cCn(e,t,n){var r=t.padding,i=r-n.x,a=r-n.y;if(!t.datum.title)(i||a)&&RB(e,n,i,a);else{var s=t.items[1].items[0],u=s.anchor,f=t.titlePadding||0,d=r-s.x,c=r-s.y;switch(s.orient){case J2:i+=Math.ceil(s.bounds.width())+f;break;case r_:case N3:break;default:a+=s.bounds.height()+f}switch((i||a)&&RB(e,n,i,a),s.orient){case J2:c+=y6(t,n,s,u,1,1);break;case r_:d+=y6(t,n,s,Z0,0,0)+f,c+=y6(t,n,s,u,1,1);break;case N3:d+=y6(t,n,s,u,0,0),c+=y6(t,n,s,Z0,-1,0,1)+f;break;default:d+=y6(t,n,s,u,0,0)}(d||c)&&RB(e,s,d,c),(d=Math.round(s.bounds.x1-r))<0&&(RB(e,n,-d,0),RB(e,s,-d,0))}}function y6(e,t,n,r,i,a,s){const u=e.datum.type!=="symbol",f=n.datum.vgrad,d=u&&(a||!f)&&!s?t.items[0]:t,c=d.bounds[i?"y2":"x2"]-e.padding,h=f&&a?c:0,p=f&&a?0:c,v=i<=0?0:n3e(n);return Math.round(r===v3e?h:r===Z0?p-v:.5*(c-v))}function RB(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function fCn(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function dCn(e,t,n,r,i){var a=t.items[0],s=a.frame,u=a.orient,f=a.anchor,d=a.offset,c=a.padding,h=a.items[0].items[0],p=a.items[1]&&a.items[1].items[0],v=u===J2||u===r_?r:n,m=0,y=0,w=0,_=0,S=0,C;if(s!==ele?u===J2?(m=i.y2,v=i.y1):u===r_?(m=i.y1,v=i.y2):(m=i.x1,v=i.x2):u===J2&&(m=r,v=0),C=f===v3e?m:f===Z0?v:(m+v)/2,p&&p.text){switch(u){case qN:case N3:S=h.bounds.height()+c;break;case J2:_=h.bounds.width()+c;break;case r_:_=-h.bounds.width()-c;break}kp.clear().union(p.bounds),kp.translate(_-(p.x||0),S-(p.y||0)),uF(p,"x",_)|uF(p,"y",S)&&(e.dirty(p),p.bounds.clear().union(kp),p.mark.bounds.clear().union(kp),e.dirty(p)),kp.clear().union(p.bounds)}else kp.clear();switch(kp.union(h.bounds),u){case qN:y=C,w=i.y1-kp.height()-d;break;case J2:y=i.x1-kp.width()-d,w=C;break;case r_:y=i.x2+kp.width()+d,w=C;break;case N3:y=C,w=i.y2+d;break;default:y=a.x,w=a.y}return uF(a,"x",y)|uF(a,"y",w)&&(kp.translate(y,w),e.dirty(a),a.bounds.clear().union(kp),t.bounds.clear().union(kp),e.dirty(a)),a.bounds}function F0t(e){dn.call(this,null,e)}tr(F0t,dn,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&nCn(n,r,e.layout),gCn(n,r,e)}),hCn(e.mark.group)?t.reflow():t}});function hCn(e){return e&&e.mark.role!=="legend-entry"}function gCn(e,t,n){var r=t.items,i=Math.max(0,t.width||0),a=Math.max(0,t.height||0),s=new vd().set(0,0,i,a),u=s.clone(),f=s.clone(),d=[],c,h,p,v,m,y;for(m=0,y=r.length;m<y;++m)switch(h=r[m],h.role){case m3e:v=XEn(h)?u:f,v.union(QEn(e,h,i,a));break;case y3e:c=h;break;case b3e:d.push(uCn(e,h));break;case BEn:case HEn:case x0t:case S0t:case E0t:case C0t:case $0t:case k0t:u.union(h.bounds),f.union(h.bounds);break;default:s.union(h.bounds)}if(d.length){const w={};d.forEach(_=>{p=_.orient||r_,p!==w3e&&(w[p]||(w[p]=[])).push(_)});for(const _ in w){const S=w[_];I0t(e,S,sCn(S,_,n.legends,u,f,i,a))}d.forEach(_=>{const S=_.bounds;if(S.equals(_._bounds)||(_.bounds=_._bounds,e.dirty(_),_.bounds=S,e.dirty(_)),n.autosize&&(n.autosize.type===O0t||n.autosize.type===A0t||n.autosize.type===R0t))switch(_.orient){case J2:case r_:s.add(S.x1,0).add(S.x2,0);break;case qN:case N3:s.add(0,S.y1).add(0,S.y2)}else s.union(S)})}s.union(u).union(f),c&&s.union(dCn(e,c,i,a,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),pCn(e,t,s,n)}function pCn(e,t,n,r){const i=r.autosize||{},a=i.type;if(e._autosize<1||!a)return;let s=e._width,u=e._height,f=Math.max(0,t.width||0),d=Math.max(0,Math.ceil(-n.x1)),c=Math.max(0,t.height||0),h=Math.max(0,Math.ceil(-n.y1));const p=Math.max(0,Math.ceil(n.x2-f)),v=Math.max(0,Math.ceil(n.y2-c));if(i.contains===UEn){const m=e.padding();s-=m.left+m.right,u-=m.top+m.bottom}a===w3e?(d=0,h=0,f=s,c=u):a===O0t?(f=Math.max(0,s-d-p),c=Math.max(0,u-h-v)):a===A0t?(f=Math.max(0,s-d-p),u=c+h+v):a===R0t?(s=f+d+p,c=Math.max(0,u-h-v)):a===WEn&&(s=f+d+p,u=c+h+v),e._resizeView(s,u,f,c,[d,h],i.resize)}const vCn=Object.freeze(Object.defineProperty({__proto__:null,bound:T0t,identifier:x3e,mark:M0t,overlap:P0t,render:D0t,viewlayout:F0t},Symbol.toStringTag,{value:"Module"}));function N0t(e){dn.call(this,null,e)}tr(N0t,dn,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,u=FRe(a,s,e.minstep),f=e.format||ypt(n,a,u,e.formatSpecifier,e.formatType,!!e.values),d=e.values?mpt(a,e.values,u):NRe(a,u);return i&&(r.rem=i),i=d.map((c,h)=>Gs({index:h/(d.length-1||1),value:c,label:f(c)})),e.extra&&i.length&&i.push(Gs({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function z0t(e){dn.call(this,null,e)}function mCn(){return Gs({})}function yCn(e){const t=c7().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}tr(z0t,dn,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||mCn,a=e.key||zi,s=this.value;return En(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(a))&&xn("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=yCn(a)),t.visit(t.ADD,u=>{const f=a(u);let d=s.get(f);d?d.exit?(s.empty--,r.add.push(d)):r.mod.push(d):(d=i(u),s.set(f,d),r.add.push(d)),d.datum=u,d.exit=!1}),t.visit(t.MOD,u=>{const f=a(u),d=s.get(f);d&&(d.datum=u,r.mod.push(d))}),t.visit(t.REM,u=>{const f=a(u),d=s.get(f);u===d.datum&&!d.exit&&(r.rem.push(d),d.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function j0t(e){dn.call(this,null,e)}tr(j0t,dn,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,a=t.encode;if(En(a))if(n.changed()||a.every(h=>i[h]))a=a[0],n.encode=null;else return t.StopPropagation;var s=a==="enter",u=i.update||YA,f=i.enter||YA,d=i.exit||YA,c=(a&&!s?i[a]:u)||YA;if(t.changed(t.ADD)&&(t.visit(t.ADD,h=>{f(h,e),u(h,e)}),n.modifies(f.output),n.modifies(u.output),c!==YA&&c!==u&&(t.visit(t.ADD,h=>{c(h,e)}),n.modifies(c.output))),t.changed(t.REM)&&d!==YA&&(t.visit(t.REM,h=>{d(h,e)}),n.modifies(d.output)),s||c!==YA){const h=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(h,p=>{const v=f(p,e)||r;(c(p,e)||v)&&n.mod.push(p)}),n.mod.length&&n.modifies(f.output)):t.visit(h,p=>{(c(p,e)||r)&&n.mod.push(p)}),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}});function B0t(e){dn.call(this,[],e)}tr(B0t,dn,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.type||Ite,s=e.scale,u=+e.limit,f=FRe(s,e.count==null?5:e.count,e.minstep),d=!!e.values||a===Ite,c=e.format||xpt(n,s,f,a,e.formatSpecifier,e.formatType,d),h=e.values||_pt(s,f),p,v,m,y,w;return i&&(r.rem=i),a===Ite?(u&&h.length>u?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=h.slice(0,u-1),w=!0):i=h,eo(m=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),y=i.reduce((_,S)=>Math.max(_,m(S,e)),0)):m=Qp(y=m||8),i=i.map((_,S)=>Gs({index:S,label:c(_,S,i),value:_,offset:y,size:m(_,e)})),w&&(w=h[i.length],i.push(Gs({index:i.length,label:`${h.length-i.length} entries`,value:w,offset:y,size:m(w,e)})))):a===G_n?(p=s.domain(),v=gpt(s,p[0],es(p)),h.length<3&&!e.values&&p[0]!==es(p)&&(h=[p[0],es(p)]),i=h.map((_,S)=>Gs({index:S,label:c(_,S,h),value:_,perc:v(_)}))):(m=h.length-1,v=rxn(s),i=h.map((_,S)=>Gs({index:S,label:c(_,S,h),value:_,perc:S?v(_):0,perc2:S===m?1:v(h[S+1])}))),r.source=i,r.add=i,this.value=i,r}});const bCn=e=>e.source.x,wCn=e=>e.source.y,_Cn=e=>e.target.x,xCn=e=>e.target.y;function S3e(e){dn.call(this,{},e)}S3e.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};tr(S3e,dn,{transform(e,t){var n=e.sourceX||bCn,r=e.sourceY||wCn,i=e.targetX||_Cn,a=e.targetY||xCn,s=e.as||"path",u=e.orient||"vertical",f=e.shape||"line",d=nKe.get(f+"-"+u)||nKe.get(f);return d||xn("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,c=>{c[s]=d(n(c),r(c),i(c),a(c))}),t.reflow(e.modified()).modifies(s)}});const H0t=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,SCn=(e,t,n,r)=>H0t(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),U0t=(e,t,n,r)=>{var i=n-e,a=r-t,s=Math.sqrt(i*i+a*a)/2,u=180*Math.atan2(a,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+u+" 0 1 "+n+","+r},ECn=(e,t,n,r)=>U0t(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),V0t=(e,t,n,r)=>{const i=n-e,a=r-t,s=.2*(i+a),u=.2*(a-i);return"M"+e+","+t+"C"+(e+s)+","+(t+u)+" "+(n+u)+","+(r-s)+" "+n+","+r},CCn=(e,t,n,r)=>V0t(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),$Cn=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,kCn=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,OCn=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),s=Math.cos(n),u=Math.sin(n),f=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(f?1:0)+" "+t*s+","+t*u+"L"+r*s+","+r*u},ACn=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},RCn=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},TCn=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),s=Math.cos(n),u=Math.sin(n),f=(t+r)/2;return"M"+t*i+","+t*a+"C"+f*i+","+f*a+" "+f*s+","+f*u+" "+r*s+","+r*u},nKe=c7({line:H0t,"line-radial":SCn,arc:U0t,"arc-radial":ECn,curve:V0t,"curve-radial":CCn,"orthogonal-horizontal":$Cn,"orthogonal-vertical":kCn,"orthogonal-radial":OCn,"diagonal-horizontal":ACn,"diagonal-vertical":RCn,"diagonal-radial":TCn});function E3e(e){dn.call(this,null,e)}E3e.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};tr(E3e,dn,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],a=e.field||s7,s=e.startAngle||0,u=e.endAngle!=null?e.endAngle:2*Math.PI,f=t.source,d=f.map(a),c=d.length,h=s,p=(u-s)/Fdt(d),v=ny(c),m,y,w;for(e.sort&&v.sort((_,S)=>d[_]-d[S]),m=0;m<c;++m)w=d[v[m]],y=f[v[m]],y[r]=h,y[i]=h+=w*p;return this.value=d,t.reflow(e.modified()).modifies(n)}});const MCn=5;function PCn(e){const t=e.type;return!e.bins&&(t===jN||t===XG||t===ZG)}function W0t(e){return LRe(e)&&e!==eE}const LCn=C_(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function G0t(e){dn.call(this,null,e),this.modified(!0)}tr(G0t,dn,{transform(e,t){var n=t.dataflow,r=this.value,i=DCn(e);(!r||i!==r.type)&&(this.value=r=Ms(i)());for(i in e)if(!LCn[i]){if(i==="padding"&&W0t(r.type))continue;eo(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return BCn(r,e,jCn(r,e,FCn(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function DCn(e){var t=e.type,n="",r;return t===eE?eE+"-"+jN:(ICn(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?eE+"-":r===3?v7+"-":""),(n+t||jN).toLowerCase())}function ICn(e){const t=e.type;return LRe(t)&&t!==EP&&t!==CP&&(e.scheme||e.range&&e.range.length&&e.range.every(Pr))}function FCn(e,t,n){const r=NCn(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,a=e.type,s=t.zero||t.zero===void 0&&PCn(e),u,f;if(!i)return 0;if(W0t(a)&&t.padding&&i[0]!==es(i)&&(i=zCn(a,i,t.range,t.padding,t.exponent,t.constant)),(s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(u=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[u]<0&&(i[u]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[u]=t.domainMax),t.domainMid!=null)){f=t.domainMid;const d=f>i[u]?u+1:f<i[0]?0:u;d!==u&&n.warn("Scale domainMid exceeds domain min or max.",f),i.splice(d,0,f)}return e.domain(q0t(a,i,n)),a===RRe&&e.unknown(t.domainImplicit?kxe:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&FRe(e,t.nice)||null),i.length}function NCn(e,t,n){return t?(e.domain(q0t(e.type,t,n)),t.length):-1}function zCn(e,t,n,r,i,a){var s=Math.abs(es(n)-n[0]),u=s/(s-2*r),f=e===Ek?iAe(t,null,u):e===ZG?Gre(t,null,u,.5):e===XG?Gre(t,null,u,i||1):e===zue?aAe(t,null,u,a||1):rAe(t,null,u);return t=t.slice(),t[0]=f[0],t[t.length-1]=f[1],t}function q0t(e,t,n){if(lpt(e)){var r=Math.abs(t.reduce((i,a)=>i+(a<0?-1:a>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+ar(t))}return t}function jCn(e,t,n){let r=t.bins;if(r&&!En(r)){const i=e.domain(),a=i[0],s=es(i),u=r.step;let f=r.start==null?a:r.start,d=r.stop==null?s:r.stop;u||xn("Scale bins parameter missing step property."),f<a&&(f=u*Math.ceil(a/u)),d>s&&(d=u*Math.floor(s/u)),r=ny(f,d+u/2,u)}return r?e.bins=r:e.bins&&delete e.bins,e.type===TRe&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function BCn(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(t.rangeStep!=null)a=HCn(r,t,n);else if(t.scheme&&(a=UCn(r,t,n),eo(a))){if(e.interpolator)return e.interpolator(a);xn(`Scale type ${r} does not support interpolating color schemes.`)}if(a&&cpt(r))return e.interpolator(Hue(Wxe(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate(DRe(t.interpolate,t.interpolateGamma)):eo(e.round)?e.round(i):eo(e.rangeRound)&&e.interpolate(i?gG:iT),a&&e.range(Wxe(a,t.reverse))}function HCn(e,t,n){e!==rpt&&e!==Rxe&&xn("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===Rxe?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*ARe(n,i,r)]}function UCn(e,t,n){var r=t.schemeExtent,i,a;return En(t.scheme)?a=Hue(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),a=IRe(i),a||xn(`Unrecognized scheme name: ${t.scheme}`)),n=e===Bue?n+1:e===TRe?n-1:e===BN||e===jue?+t.schemeCount||MCn:n,cpt(e)?rKe(a,r,t.reverse):eo(a)?hpt(rKe(a,r),n):e===RRe?a:a.slice(0,n)}function rKe(e,t,n){return eo(e)&&(t||n)?dpt(e,Wxe(t||[0,1],n)):e}function Wxe(e,t){return t?e.slice().reverse():e}function Y0t(e){dn.call(this,null,e)}tr(Y0t,dn,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(mL(e.sort)),this.modified(n),t}});const iKe="zero",K0t="center",X0t="normalize",Z0t=["y0","y1"];function C3e(e){dn.call(this,null,e)}C3e.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:iKe,values:[iKe,K0t,X0t]},{name:"as",type:"string",array:!0,length:2,default:Z0t}]};tr(C3e,dn,{transform(e,t){var n=e.as||Z0t,r=n[0],i=n[1],a=mL(e.sort),s=e.field||s7,u=e.offset===K0t?VCn:e.offset===X0t?WCn:GCn,f,d,c,h;for(f=qCn(t.source,e.groupby,a,s),d=0,c=f.length,h=f.max;d<c;++d)u(f[d],h,s,r,i);return t.reflow(e.modified()).modifies(n)}});function VCn(e,t,n,r,i){for(var a=(t-e.sum)/2,s=e.length,u=0,f;u<s;++u)f=e[u],f[r]=a,f[i]=a+=Math.abs(n(f))}function WCn(e,t,n,r,i){for(var a=1/e.sum,s=0,u=e.length,f=0,d=0,c;f<u;++f)c=e[f],c[r]=s,c[i]=s=a*(d+=Math.abs(n(c)))}function GCn(e,t,n,r,i){for(var a=0,s=0,u=e.length,f=0,d,c;f<u;++f)c=e[f],d=+n(c),d<0?(c[r]=s,c[i]=s+=d):(c[r]=a,c[i]=a+=d)}function qCn(e,t,n,r){var i=[],a=y=>y(c),s,u,f,d,c,h,p,v,m;if(t==null)i.push(e.slice());else for(s={},u=0,f=e.length;u<f;++u)c=e[u],h=t.map(a),p=s[h],p||(s[h]=p=[],i.push(p)),p.push(c);for(h=0,m=0,d=i.length;h<d;++h){for(p=i[h],u=0,v=0,f=p.length;u<f;++u)v+=Math.abs(r(p[u]));p.sum=v,v>m&&(m=v),n&&p.sort(n)}return i.max=m,i}const YCn=Object.freeze(Object.defineProperty({__proto__:null,axisticks:N0t,datajoin:z0t,encode:j0t,legendentries:B0t,linkpath:S3e,pie:E3e,scale:G0t,sortitems:Y0t,stack:C3e},Symbol.toStringTag,{value:"Module"}));var qi=1e-6,mie=1e-12,To=Math.PI,hf=To/2,yie=To/4,pv=To*2,Nf=180/To,bo=To/180,Jo=Math.abs,y7=Math.atan,aw=Math.atan2,Qi=Math.cos,uee=Math.ceil,Q0t=Math.exp,Gxe=Math.hypot,bie=Math.log,iye=Math.pow,Hi=Math.sin,Hb=Math.sign||function(e){return e>0?1:e<0?-1:0},vv=Math.sqrt,$3e=Math.tan;function J0t(e){return e>1?0:e<-1?To:Math.acos(e)}function Pm(e){return e>1?hf:e<-1?-hf:Math.asin(e)}function Pg(){}function wie(e,t){e&&oKe.hasOwnProperty(e.type)&&oKe[e.type](e,t)}var aKe={Feature:function(e,t){wie(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)wie(n[r].geometry,t)}},oKe={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){qxe(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)qxe(n[r],t,0)},Polygon:function(e,t){sKe(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)sKe(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)wie(n[r],t)}};function qxe(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function sKe(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)qxe(e[n],t,1);t.polygonEnd()}function B$(e,t){e&&aKe.hasOwnProperty(e.type)?aKe[e.type](e,t):wie(e,t)}var _ie=new cv,xie=new cv,evt,tvt,Yxe,Kxe,Xxe,gE={point:Pg,lineStart:Pg,lineEnd:Pg,polygonStart:function(){_ie=new cv,gE.lineStart=KCn,gE.lineEnd=XCn},polygonEnd:function(){var e=+_ie;xie.add(e<0?pv+e:e),this.lineStart=this.lineEnd=this.point=Pg},sphere:function(){xie.add(pv)}};function KCn(){gE.point=ZCn}function XCn(){nvt(evt,tvt)}function ZCn(e,t){gE.point=nvt,evt=e,tvt=t,e*=bo,t*=bo,Yxe=e,Kxe=Qi(t=t/2+yie),Xxe=Hi(t)}function nvt(e,t){e*=bo,t*=bo,t=t/2+yie;var n=e-Yxe,r=n>=0?1:-1,i=r*n,a=Qi(t),s=Hi(t),u=Xxe*s,f=Kxe*a+u*Qi(i),d=u*r*Hi(i);_ie.add(aw(d,f)),Yxe=e,Kxe=a,Xxe=s}function QCn(e){return xie=new cv,B$(e,gE),xie*2}function Sie(e){return[aw(e[1],e[0]),Pm(e[2])]}function $P(e){var t=e[0],n=e[1],r=Qi(n);return[r*Qi(t),r*Hi(t),Hi(n)]}function lee(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function YN(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function aye(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function cee(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Eie(e){var t=vv(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Rc,fm,uf,X1,n5,rvt,ivt,zF,vU,sR,Ck,F$={point:Zxe,lineStart:uKe,lineEnd:lKe,polygonStart:function(){F$.point=ovt,F$.lineStart=JCn,F$.lineEnd=e$n,vU=new cv,gE.polygonStart()},polygonEnd:function(){gE.polygonEnd(),F$.point=Zxe,F$.lineStart=uKe,F$.lineEnd=lKe,_ie<0?(Rc=-(uf=180),fm=-(X1=90)):vU>qi?X1=90:vU<-qi&&(fm=-90),Ck[0]=Rc,Ck[1]=uf},sphere:function(){Rc=-(uf=180),fm=-(X1=90)}};function Zxe(e,t){sR.push(Ck=[Rc=e,uf=e]),t<fm&&(fm=t),t>X1&&(X1=t)}function avt(e,t){var n=$P([e*bo,t*bo]);if(zF){var r=YN(zF,n),i=[r[1],-r[0],0],a=YN(i,r);Eie(a),a=Sie(a);var s=e-n5,u=s>0?1:-1,f=a[0]*Nf*u,d,c=Jo(s)>180;c^(u*n5<f&&f<u*e)?(d=a[1]*Nf,d>X1&&(X1=d)):(f=(f+360)%360-180,c^(u*n5<f&&f<u*e)?(d=-a[1]*Nf,d<fm&&(fm=d)):(t<fm&&(fm=t),t>X1&&(X1=t))),c?e<n5?Y1(Rc,e)>Y1(Rc,uf)&&(uf=e):Y1(e,uf)>Y1(Rc,uf)&&(Rc=e):uf>=Rc?(e<Rc&&(Rc=e),e>uf&&(uf=e)):e>n5?Y1(Rc,e)>Y1(Rc,uf)&&(uf=e):Y1(e,uf)>Y1(Rc,uf)&&(Rc=e)}else sR.push(Ck=[Rc=e,uf=e]);t<fm&&(fm=t),t>X1&&(X1=t),zF=n,n5=e}function uKe(){F$.point=avt}function lKe(){Ck[0]=Rc,Ck[1]=uf,F$.point=Zxe,zF=null}function ovt(e,t){if(zF){var n=e-n5;vU.add(Jo(n)>180?n+(n>0?360:-360):n)}else rvt=e,ivt=t;gE.point(e,t),avt(e,t)}function JCn(){gE.lineStart()}function e$n(){ovt(rvt,ivt),gE.lineEnd(),Jo(vU)>qi&&(Rc=-(uf=180)),Ck[0]=Rc,Ck[1]=uf,zF=null}function Y1(e,t){return(t-=e)<0?t+360:t}function t$n(e,t){return e[0]-t[0]}function cKe(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function n$n(e){var t,n,r,i,a,s,u;if(X1=uf=-(Rc=fm=1/0),sR=[],B$(e,F$),n=sR.length){for(sR.sort(t$n),t=1,r=sR[0],a=[r];t<n;++t)i=sR[t],cKe(r,i[0])||cKe(r,i[1])?(Y1(r[0],i[1])>Y1(r[0],r[1])&&(r[1]=i[1]),Y1(i[0],r[1])>Y1(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(u=Y1(r[1],i[0]))>s&&(s=u,Rc=i[0],uf=r[1])}return sR=Ck=null,Rc===1/0||fm===1/0?[[NaN,NaN],[NaN,NaN]]:[[Rc,fm],[uf,X1]]}var kH,Cie,$ie,kie,Oie,Aie,Rie,Tie,Qxe,Jxe,eSe,svt,uvt,J0,ev,tv,i_={sphere:Pg,point:k3e,lineStart:fKe,lineEnd:dKe,polygonStart:function(){i_.lineStart=a$n,i_.lineEnd=o$n},polygonEnd:function(){i_.lineStart=fKe,i_.lineEnd=dKe}};function k3e(e,t){e*=bo,t*=bo;var n=Qi(t);uq(n*Qi(e),n*Hi(e),Hi(t))}function uq(e,t,n){++kH,$ie+=(e-$ie)/kH,kie+=(t-kie)/kH,Oie+=(n-Oie)/kH}function fKe(){i_.point=r$n}function r$n(e,t){e*=bo,t*=bo;var n=Qi(t);J0=n*Qi(e),ev=n*Hi(e),tv=Hi(t),i_.point=i$n,uq(J0,ev,tv)}function i$n(e,t){e*=bo,t*=bo;var n=Qi(t),r=n*Qi(e),i=n*Hi(e),a=Hi(t),s=aw(vv((s=ev*a-tv*i)*s+(s=tv*r-J0*a)*s+(s=J0*i-ev*r)*s),J0*r+ev*i+tv*a);Cie+=s,Aie+=s*(J0+(J0=r)),Rie+=s*(ev+(ev=i)),Tie+=s*(tv+(tv=a)),uq(J0,ev,tv)}function dKe(){i_.point=k3e}function a$n(){i_.point=s$n}function o$n(){lvt(svt,uvt),i_.point=k3e}function s$n(e,t){svt=e,uvt=t,e*=bo,t*=bo,i_.point=lvt;var n=Qi(t);J0=n*Qi(e),ev=n*Hi(e),tv=Hi(t),uq(J0,ev,tv)}function lvt(e,t){e*=bo,t*=bo;var n=Qi(t),r=n*Qi(e),i=n*Hi(e),a=Hi(t),s=ev*a-tv*i,u=tv*r-J0*a,f=J0*i-ev*r,d=Gxe(s,u,f),c=Pm(d),h=d&&-c/d;Qxe.add(h*s),Jxe.add(h*u),eSe.add(h*f),Cie+=c,Aie+=c*(J0+(J0=r)),Rie+=c*(ev+(ev=i)),Tie+=c*(tv+(tv=a)),uq(J0,ev,tv)}function u$n(e){kH=Cie=$ie=kie=Oie=Aie=Rie=Tie=0,Qxe=new cv,Jxe=new cv,eSe=new cv,B$(e,i_);var t=+Qxe,n=+Jxe,r=+eSe,i=Gxe(t,n,r);return i<mie&&(t=Aie,n=Rie,r=Tie,Cie<qi&&(t=$ie,n=kie,r=Oie),i=Gxe(t,n,r),i<mie)?[NaN,NaN]:[aw(n,t)*Nf,Pm(r/i)*Nf]}function tSe(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function nSe(e,t){return Jo(e)>To&&(e-=Math.round(e/pv)*pv),[e,t]}nSe.invert=nSe;function cvt(e,t,n){return(e%=pv)?t||n?tSe(gKe(e),pKe(t,n)):gKe(e):t||n?pKe(t,n):nSe}function hKe(e){return function(t,n){return t+=e,Jo(t)>To&&(t-=Math.round(t/pv)*pv),[t,n]}}function gKe(e){var t=hKe(e);return t.invert=hKe(-e),t}function pKe(e,t){var n=Qi(e),r=Hi(e),i=Qi(t),a=Hi(t);function s(u,f){var d=Qi(f),c=Qi(u)*d,h=Hi(u)*d,p=Hi(f),v=p*n+c*r;return[aw(h*i-v*a,c*n-p*r),Pm(v*i+h*a)]}return s.invert=function(u,f){var d=Qi(f),c=Qi(u)*d,h=Hi(u)*d,p=Hi(f),v=p*i-h*a;return[aw(h*i+p*a,c*n+v*r),Pm(v*n-c*r)]},s}function l$n(e){e=cvt(e[0]*bo,e[1]*bo,e.length>2?e[2]*bo:0);function t(n){return n=e(n[0]*bo,n[1]*bo),n[0]*=Nf,n[1]*=Nf,n}return t.invert=function(n){return n=e.invert(n[0]*bo,n[1]*bo),n[0]*=Nf,n[1]*=Nf,n},t}function c$n(e,t,n,r,i,a){if(n){var s=Qi(t),u=Hi(t),f=r*n;i==null?(i=t+r*pv,a=t-f/2):(i=vKe(s,i),a=vKe(s,a),(r>0?i<a:i>a)&&(i+=r*pv));for(var d,c=i;r>0?c>a:c<a;c-=f)d=Sie([s,-u*Qi(c),-u*Hi(c)]),e.point(d[0],d[1])}}function vKe(e,t){t=$P(t),t[0]-=e,Eie(t);var n=J0t(-t[1]);return((-t[2]<0?-n:n)+pv-qi)%pv}function fvt(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Pg,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Vte(e,t){return Jo(e[0]-t[0])<qi&&Jo(e[1]-t[1])<qi}function fee(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function dvt(e,t,n,r,i){var a=[],s=[],u,f;if(e.forEach(function(m){if(!((y=m.length-1)<=0)){var y,w=m[0],_=m[y],S;if(Vte(w,_)){if(!w[2]&&!_[2]){for(i.lineStart(),u=0;u<y;++u)i.point((w=m[u])[0],w[1]);i.lineEnd();return}_[0]+=2*qi}a.push(S=new fee(w,m,null,!0)),s.push(S.o=new fee(w,null,S,!1)),a.push(S=new fee(_,m,null,!1)),s.push(S.o=new fee(_,null,S,!0))}}),!!a.length){for(s.sort(t),mKe(a),mKe(s),u=0,f=s.length;u<f;++u)s[u].e=n=!n;for(var d=a[0],c,h;;){for(var p=d,v=!0;p.v;)if((p=p.n)===d)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(v)for(u=0,f=c.length;u<f;++u)i.point((h=c[u])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(v)for(c=p.p.z,u=c.length-1;u>=0;--u)i.point((h=c[u])[0],h[1]);else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,c=p.z,v=!v}while(!p.v);i.lineEnd()}}}function mKe(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function oye(e){return Jo(e[0])<=To?e[0]:Hb(e[0])*((Jo(e[0])+To)%pv-To)}function f$n(e,t){var n=oye(t),r=t[1],i=Hi(r),a=[Hi(n),-Qi(n),0],s=0,u=0,f=new cv;i===1?r=hf+qi:i===-1&&(r=-hf-qi);for(var d=0,c=e.length;d<c;++d)if(p=(h=e[d]).length)for(var h,p,v=h[p-1],m=oye(v),y=v[1]/2+yie,w=Hi(y),_=Qi(y),S=0;S<p;++S,m=$,w=M,_=A,v=C){var C=h[S],$=oye(C),k=C[1]/2+yie,M=Hi(k),A=Qi(k),L=$-m,N=L>=0?1:-1,R=N*L,D=R>To,j=w*M;if(f.add(aw(j*N*Hi(R),_*A+j*Qi(R))),s+=D?L+N*pv:L,D^m>=n^$>=n){var U=YN($P(v),$P(C));Eie(U);var H=YN(a,U);Eie(H);var Y=(D^L>=0?-1:1)*Pm(H[2]);(r>Y||r===Y&&(U[0]||U[1]))&&(u+=D^L>=0?1:-1)}}return(s<-qi||s<qi&&f<-mie)^u&1}function hvt(e,t,n,r){return function(i){var a=t(i),s=fvt(),u=t(s),f=!1,d,c,h,p={point:v,lineStart:y,lineEnd:w,polygonStart:function(){p.point=_,p.lineStart=S,p.lineEnd=C,c=[],d=[]},polygonEnd:function(){p.point=v,p.lineStart=y,p.lineEnd=w,c=Idt(c);var $=f$n(d,r);c.length?(f||(i.polygonStart(),f=!0),dvt(c,h$n,$,n,i)):$&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),c=d=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function v($,k){e($,k)&&i.point($,k)}function m($,k){a.point($,k)}function y(){p.point=m,a.lineStart()}function w(){p.point=v,a.lineEnd()}function _($,k){h.push([$,k]),u.point($,k)}function S(){u.lineStart(),h=[]}function C(){_(h[0][0],h[0][1]),u.lineEnd();var $=u.clean(),k=s.result(),M,A=k.length,L,N,R;if(h.pop(),d.push(h),h=null,!!A){if($&1){if(N=k[0],(L=N.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),M=0;M<L;++M)i.point((R=N[M])[0],R[1]);i.lineEnd()}return}A>1&&$&2&&k.push(k.pop().concat(k.shift())),c.push(k.filter(d$n))}}return p}}function d$n(e){return e.length>1}function h$n(e,t){return((e=e.x)[0]<0?e[1]-hf-qi:hf-e[1])-((t=t.x)[0]<0?t[1]-hf-qi:hf-t[1])}const yKe=hvt(function(){return!0},g$n,v$n,[-To,-hf]);function g$n(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var u=a>0?To:-To,f=Jo(a-t);Jo(f-To)<qi?(e.point(t,n=(n+s)/2>0?hf:-hf),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),e.point(a,n),i=0):r!==u&&f>=To&&(Jo(t-r)<qi&&(t-=r*qi),Jo(a-u)<qi&&(a-=u*qi),n=p$n(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),i=0),e.point(t=a,n=s),r=u},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function p$n(e,t,n,r){var i,a,s=Hi(e-n);return Jo(s)>qi?y7((Hi(t)*(a=Qi(r))*Hi(n)-Hi(r)*(i=Qi(t))*Hi(e))/(i*a*s)):(t+r)/2}function v$n(e,t,n,r){var i;if(e==null)i=n*hf,r.point(-To,i),r.point(0,i),r.point(To,i),r.point(To,0),r.point(To,-i),r.point(0,-i),r.point(-To,-i),r.point(-To,0),r.point(-To,i);else if(Jo(e[0]-t[0])>qi){var a=e[0]<t[0]?To:-To;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function m$n(e){var t=Qi(e),n=6*bo,r=t>0,i=Jo(t)>qi;function a(c,h,p,v){c$n(v,e,n,p,c,h)}function s(c,h){return Qi(c)*Qi(h)>t}function u(c){var h,p,v,m,y;return{lineStart:function(){m=v=!1,y=1},point:function(w,_){var S=[w,_],C,$=s(w,_),k=r?$?0:d(w,_):$?d(w+(w<0?To:-To),_):0;if(!h&&(m=v=$)&&c.lineStart(),$!==v&&(C=f(h,S),(!C||Vte(h,C)||Vte(S,C))&&(S[2]=1)),$!==v)y=0,$?(c.lineStart(),C=f(S,h),c.point(C[0],C[1])):(C=f(h,S),c.point(C[0],C[1],2),c.lineEnd()),h=C;else if(i&&h&&r^$){var M;!(k&p)&&(M=f(S,h,!0))&&(y=0,r?(c.lineStart(),c.point(M[0][0],M[0][1]),c.point(M[1][0],M[1][1]),c.lineEnd()):(c.point(M[1][0],M[1][1]),c.lineEnd(),c.lineStart(),c.point(M[0][0],M[0][1],3)))}$&&(!h||!Vte(h,S))&&c.point(S[0],S[1]),h=S,v=$,p=k},lineEnd:function(){v&&c.lineEnd(),h=null},clean:function(){return y|(m&&v)<<1}}}function f(c,h,p){var v=$P(c),m=$P(h),y=[1,0,0],w=YN(v,m),_=lee(w,w),S=w[0],C=_-S*S;if(!C)return!p&&c;var $=t*_/C,k=-t*S/C,M=YN(y,w),A=cee(y,$),L=cee(w,k);aye(A,L);var N=M,R=lee(A,N),D=lee(N,N),j=R*R-D*(lee(A,A)-1);if(!(j<0)){var U=vv(j),H=cee(N,(-R-U)/D);if(aye(H,A),H=Sie(H),!p)return H;var Y=c[0],Z=h[0],Q=c[1],ee=h[1],oe;Z<Y&&(oe=Y,Y=Z,Z=oe);var ue=Z-Y,ve=Jo(ue-To)<qi,le=ve||ue<qi;if(!ve&&ee<Q&&(oe=Q,Q=ee,ee=oe),le?ve?Q+ee>0^H[1]<(Jo(H[0]-Y)<qi?Q:ee):Q<=H[1]&&H[1]<=ee:ue>To^(Y<=H[0]&&H[0]<=Z)){var de=cee(N,(-R+U)/D);return aye(de,A),[H,Sie(de)]}}}function d(c,h){var p=r?e:To-e,v=0;return c<-p?v|=1:c>p&&(v|=2),h<-p?v|=4:h>p&&(v|=8),v}return hvt(s,u,a,r?[0,-e]:[-To,e-To])}function y$n(e,t,n,r,i,a){var s=e[0],u=e[1],f=t[0],d=t[1],c=0,h=1,p=f-s,v=d-u,m;if(m=n-s,!(!p&&m>0)){if(m/=p,p<0){if(m<c)return;m<h&&(h=m)}else if(p>0){if(m>h)return;m>c&&(c=m)}if(m=i-s,!(!p&&m<0)){if(m/=p,p<0){if(m>h)return;m>c&&(c=m)}else if(p>0){if(m<c)return;m<h&&(h=m)}if(m=r-u,!(!v&&m>0)){if(m/=v,v<0){if(m<c)return;m<h&&(h=m)}else if(v>0){if(m>h)return;m>c&&(c=m)}if(m=a-u,!(!v&&m<0)){if(m/=v,v<0){if(m>h)return;m>c&&(c=m)}else if(v>0){if(m<c)return;m<h&&(h=m)}return c>0&&(e[0]=s+c*p,e[1]=u+c*v),h<1&&(t[0]=s+h*p,t[1]=u+h*v),!0}}}}}var OH=1e9,dee=-OH;function gvt(e,t,n,r){function i(d,c){return e<=d&&d<=n&&t<=c&&c<=r}function a(d,c,h,p){var v=0,m=0;if(d==null||(v=s(d,h))!==(m=s(c,h))||f(d,c)<0^h>0)do p.point(v===0||v===3?e:n,v>1?r:t);while((v=(v+h+4)%4)!==m);else p.point(c[0],c[1])}function s(d,c){return Jo(d[0]-e)<qi?c>0?0:3:Jo(d[0]-n)<qi?c>0?2:1:Jo(d[1]-t)<qi?c>0?1:0:c>0?3:2}function u(d,c){return f(d.x,c.x)}function f(d,c){var h=s(d,1),p=s(c,1);return h!==p?h-p:h===0?c[1]-d[1]:h===1?d[0]-c[0]:h===2?d[1]-c[1]:c[0]-d[0]}return function(d){var c=d,h=fvt(),p,v,m,y,w,_,S,C,$,k,M,A={point:L,lineStart:j,lineEnd:U,polygonStart:R,polygonEnd:D};function L(Y,Z){i(Y,Z)&&c.point(Y,Z)}function N(){for(var Y=0,Z=0,Q=v.length;Z<Q;++Z)for(var ee=v[Z],oe=1,ue=ee.length,ve=ee[0],le,de,me=ve[0],Se=ve[1];oe<ue;++oe)le=me,de=Se,ve=ee[oe],me=ve[0],Se=ve[1],de<=r?Se>r&&(me-le)*(r-de)>(Se-de)*(e-le)&&++Y:Se<=r&&(me-le)*(r-de)<(Se-de)*(e-le)&&--Y;return Y}function R(){c=h,p=[],v=[],M=!0}function D(){var Y=N(),Z=M&&Y,Q=(p=Idt(p)).length;(Z||Q)&&(d.polygonStart(),Z&&(d.lineStart(),a(null,null,1,d),d.lineEnd()),Q&&dvt(p,u,Y,a,d),d.polygonEnd()),c=d,p=v=m=null}function j(){A.point=H,v&&v.push(m=[]),k=!0,$=!1,S=C=NaN}function U(){p&&(H(y,w),_&&$&&h.rejoin(),p.push(h.result())),A.point=L,$&&c.lineEnd()}function H(Y,Z){var Q=i(Y,Z);if(v&&m.push([Y,Z]),k)y=Y,w=Z,_=Q,k=!1,Q&&(c.lineStart(),c.point(Y,Z));else if(Q&&$)c.point(Y,Z);else{var ee=[S=Math.max(dee,Math.min(OH,S)),C=Math.max(dee,Math.min(OH,C))],oe=[Y=Math.max(dee,Math.min(OH,Y)),Z=Math.max(dee,Math.min(OH,Z))];y$n(ee,oe,e,t,n,r)?($||(c.lineStart(),c.point(ee[0],ee[1])),c.point(oe[0],oe[1]),Q||c.lineEnd(),M=!1):Q&&(c.lineStart(),c.point(Y,Z),M=!1)}S=Y,C=Z,$=Q}return A}}function bKe(e,t,n){var r=ny(e,t-qi,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function wKe(e,t,n){var r=ny(e,t-qi,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function b$n(){var e,t,n,r,i,a,s,u,f=10,d=f,c=90,h=360,p,v,m,y,w=2.5;function _(){return{type:"MultiLineString",coordinates:S()}}function S(){return ny(uee(r/c)*c,n,c).map(m).concat(ny(uee(u/h)*h,s,h).map(y)).concat(ny(uee(t/f)*f,e,f).filter(function(C){return Jo(C%c)>qi}).map(p)).concat(ny(uee(a/d)*d,i,d).filter(function(C){return Jo(C%h)>qi}).map(v))}return _.lines=function(){return S().map(function(C){return{type:"LineString",coordinates:C}})},_.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(y(s).slice(1),m(n).reverse().slice(1),y(u).reverse().slice(1))]}},_.extent=function(C){return arguments.length?_.extentMajor(C).extentMinor(C):_.extentMinor()},_.extentMajor=function(C){return arguments.length?(r=+C[0][0],n=+C[1][0],u=+C[0][1],s=+C[1][1],r>n&&(C=r,r=n,n=C),u>s&&(C=u,u=s,s=C),_.precision(w)):[[r,u],[n,s]]},_.extentMinor=function(C){return arguments.length?(t=+C[0][0],e=+C[1][0],a=+C[0][1],i=+C[1][1],t>e&&(C=t,t=e,e=C),a>i&&(C=a,a=i,i=C),_.precision(w)):[[t,a],[e,i]]},_.step=function(C){return arguments.length?_.stepMajor(C).stepMinor(C):_.stepMinor()},_.stepMajor=function(C){return arguments.length?(c=+C[0],h=+C[1],_):[c,h]},_.stepMinor=function(C){return arguments.length?(f=+C[0],d=+C[1],_):[f,d]},_.precision=function(C){return arguments.length?(w=+C,p=bKe(a,i,90),v=wKe(t,e,w),m=bKe(u,s,90),y=wKe(r,n,w),_):w},_.extentMajor([[-180,-90+qi],[180,90-qi]]).extentMinor([[-180,-80-qi],[180,80+qi]])}const iW=e=>e;var sye=new cv,rSe=new cv,pvt,vvt,iSe,aSe,vR={point:Pg,lineStart:Pg,lineEnd:Pg,polygonStart:function(){vR.lineStart=w$n,vR.lineEnd=x$n},polygonEnd:function(){vR.lineStart=vR.lineEnd=vR.point=Pg,sye.add(Jo(rSe)),rSe=new cv},result:function(){var e=sye/2;return sye=new cv,e}};function w$n(){vR.point=_$n}function _$n(e,t){vR.point=mvt,pvt=iSe=e,vvt=aSe=t}function mvt(e,t){rSe.add(aSe*e-iSe*t),iSe=e,aSe=t}function x$n(){mvt(pvt,vvt)}const _Ke=vR;var KN=1/0,Mie=KN,aW=-KN,Pie=aW,S$n={point:E$n,lineStart:Pg,lineEnd:Pg,polygonStart:Pg,polygonEnd:Pg,result:function(){var e=[[KN,Mie],[aW,Pie]];return aW=Pie=-(Mie=KN=1/0),e}};function E$n(e,t){e<KN&&(KN=e),e>aW&&(aW=e),t<Mie&&(Mie=t),t>Pie&&(Pie=t)}const Lie=S$n;var oSe=0,sSe=0,AH=0,Die=0,Iie=0,lF=0,uSe=0,lSe=0,RH=0,yvt,bvt,AS,RS,e_={point:kP,lineStart:xKe,lineEnd:SKe,polygonStart:function(){e_.lineStart=k$n,e_.lineEnd=O$n},polygonEnd:function(){e_.point=kP,e_.lineStart=xKe,e_.lineEnd=SKe},result:function(){var e=RH?[uSe/RH,lSe/RH]:lF?[Die/lF,Iie/lF]:AH?[oSe/AH,sSe/AH]:[NaN,NaN];return oSe=sSe=AH=Die=Iie=lF=uSe=lSe=RH=0,e}};function kP(e,t){oSe+=e,sSe+=t,++AH}function xKe(){e_.point=C$n}function C$n(e,t){e_.point=$$n,kP(AS=e,RS=t)}function $$n(e,t){var n=e-AS,r=t-RS,i=vv(n*n+r*r);Die+=i*(AS+e)/2,Iie+=i*(RS+t)/2,lF+=i,kP(AS=e,RS=t)}function SKe(){e_.point=kP}function k$n(){e_.point=A$n}function O$n(){wvt(yvt,bvt)}function A$n(e,t){e_.point=wvt,kP(yvt=AS=e,bvt=RS=t)}function wvt(e,t){var n=e-AS,r=t-RS,i=vv(n*n+r*r);Die+=i*(AS+e)/2,Iie+=i*(RS+t)/2,lF+=i,i=RS*e-AS*t,uSe+=i*(AS+e),lSe+=i*(RS+t),RH+=i*3,kP(AS=e,RS=t)}const EKe=e_;function _vt(e){this._context=e}_vt.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,pv);break}}},result:Pg};var cSe=new cv,uye,xvt,Svt,TH,MH,Fie={point:Pg,lineStart:function(){Fie.point=R$n},lineEnd:function(){uye&&Evt(xvt,Svt),Fie.point=Pg},polygonStart:function(){uye=!0},polygonEnd:function(){uye=null},result:function(){var e=+cSe;return cSe=new cv,e}};function R$n(e,t){Fie.point=Evt,xvt=TH=e,Svt=MH=t}function Evt(e,t){TH-=e,MH-=t,cSe.add(vv(TH*TH+MH*MH)),TH=e,MH=t}const CKe=Fie;let $Ke,Nie,kKe,OKe;class AKe{constructor(t){this._append=t==null?Cvt:T$n(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==kKe||this._append!==Nie){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,kKe=r,Nie=this._append,OKe=this._,this._=i}this._+=OKe;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Cvt(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function T$n(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Cvt;if(t!==$Ke){const n=10**t;$Ke=t,Nie=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Nie}function $vt(e,t){let n=3,r=4.5,i,a;function s(u){return u&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),B$(u,i(a))),a.result()}return s.area=function(u){return B$(u,i(_Ke)),_Ke.result()},s.measure=function(u){return B$(u,i(CKe)),CKe.result()},s.bounds=function(u){return B$(u,i(Lie)),Lie.result()},s.centroid=function(u){return B$(u,i(EKe)),EKe.result()},s.projection=function(u){return arguments.length?(i=u==null?(e=null,iW):(e=u).stream,s):e},s.context=function(u){return arguments.length?(a=u==null?(t=null,new AKe(n)):new _vt(t=u),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(a.pointRadius(+u),+u),s):r},s.digits=function(u){if(!arguments.length)return n;if(u==null)n=null;else{const f=Math.floor(u);if(!(f>=0))throw new RangeError(`invalid digits: ${u}`);n=f}return t===null&&(a=new AKe(n)),s},s.projection(e).digits(n).context(t)}function tle(e){return function(t){var n=new fSe;for(var r in e)n[r]=e[r];return n.stream=t,n}}function fSe(){}fSe.prototype={constructor:fSe,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function O3e(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),B$(n,e.stream(Lie)),t(Lie.result()),r!=null&&e.clipExtent(r),e}function nle(e,t,n){return O3e(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),u=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,f=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([u,f])},n)}function A3e(e,t,n){return nle(e,[[0,0],t],n)}function R3e(e,t,n){return O3e(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,u=-a*r[0][1];e.scale(150*a).translate([s,u])},n)}function T3e(e,t,n){return O3e(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],u=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,u])},n)}var RKe=16,M$n=Qi(30*bo);function TKe(e,t){return+t?L$n(e,t):P$n(e)}function P$n(e){return tle({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function L$n(e,t){function n(r,i,a,s,u,f,d,c,h,p,v,m,y,w){var _=d-r,S=c-i,C=_*_+S*S;if(C>4*t&&y--){var $=s+p,k=u+v,M=f+m,A=vv($*$+k*k+M*M),L=Pm(M/=A),N=Jo(Jo(M)-1)<qi||Jo(a-h)<qi?(a+h)/2:aw(k,$),R=e(N,L),D=R[0],j=R[1],U=D-r,H=j-i,Y=S*U-_*H;(Y*Y/C>t||Jo((_*U+S*H)/C-.5)>.3||s*p+u*v+f*m<M$n)&&(n(r,i,a,s,u,f,D,j,N,$/=A,k/=A,M,y,w),w.point(D,j),n(D,j,N,$,k,M,d,c,h,p,v,m,y,w))}}return function(r){var i,a,s,u,f,d,c,h,p,v,m,y,w={point:_,lineStart:S,lineEnd:$,polygonStart:function(){r.polygonStart(),w.lineStart=k},polygonEnd:function(){r.polygonEnd(),w.lineStart=S}};function _(L,N){L=e(L,N),r.point(L[0],L[1])}function S(){h=NaN,w.point=C,r.lineStart()}function C(L,N){var R=$P([L,N]),D=e(L,N);n(h,p,c,v,m,y,h=D[0],p=D[1],c=L,v=R[0],m=R[1],y=R[2],RKe,r),r.point(h,p)}function $(){w.point=_,r.lineEnd()}function k(){S(),w.point=M,w.lineEnd=A}function M(L,N){C(i=L,N),a=h,s=p,u=v,f=m,d=y,w.point=C}function A(){n(h,p,c,v,m,y,a,s,i,u,f,d,RKe,r),w.lineEnd=$,$()}return w}}var D$n=tle({point:function(e,t){this.stream.point(e*bo,t*bo)}});function I$n(e){return tle({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function F$n(e,t,n,r,i){function a(s,u){return s*=r,u*=i,[t+e*s,n-e*u]}return a.invert=function(s,u){return[(s-t)/e*r,(n-u)/e*i]},a}function MKe(e,t,n,r,i,a){if(!a)return F$n(e,t,n,r,i);var s=Qi(a),u=Hi(a),f=s*e,d=u*e,c=s/e,h=u/e,p=(u*n-s*t)/e,v=(u*t+s*n)/e;function m(y,w){return y*=r,w*=i,[f*y-d*w+t,n-d*y-f*w]}return m.invert=function(y,w){return[r*(c*y-h*w+p),i*(v-h*y-c*w)]},m}function LE(e){return kvt(function(){return e})()}function kvt(e){var t,n=150,r=480,i=250,a=0,s=0,u=0,f=0,d=0,c,h=0,p=1,v=1,m=null,y=yKe,w=null,_,S,C,$=iW,k=.5,M,A,L,N,R;function D(Y){return L(Y[0]*bo,Y[1]*bo)}function j(Y){return Y=L.invert(Y[0],Y[1]),Y&&[Y[0]*Nf,Y[1]*Nf]}D.stream=function(Y){return N&&R===Y?N:N=D$n(I$n(c)(y(M($(R=Y)))))},D.preclip=function(Y){return arguments.length?(y=Y,m=void 0,H()):y},D.postclip=function(Y){return arguments.length?($=Y,w=_=S=C=null,H()):$},D.clipAngle=function(Y){return arguments.length?(y=+Y?m$n(m=Y*bo):(m=null,yKe),H()):m*Nf},D.clipExtent=function(Y){return arguments.length?($=Y==null?(w=_=S=C=null,iW):gvt(w=+Y[0][0],_=+Y[0][1],S=+Y[1][0],C=+Y[1][1]),H()):w==null?null:[[w,_],[S,C]]},D.scale=function(Y){return arguments.length?(n=+Y,U()):n},D.translate=function(Y){return arguments.length?(r=+Y[0],i=+Y[1],U()):[r,i]},D.center=function(Y){return arguments.length?(a=Y[0]%360*bo,s=Y[1]%360*bo,U()):[a*Nf,s*Nf]},D.rotate=function(Y){return arguments.length?(u=Y[0]%360*bo,f=Y[1]%360*bo,d=Y.length>2?Y[2]%360*bo:0,U()):[u*Nf,f*Nf,d*Nf]},D.angle=function(Y){return arguments.length?(h=Y%360*bo,U()):h*Nf},D.reflectX=function(Y){return arguments.length?(p=Y?-1:1,U()):p<0},D.reflectY=function(Y){return arguments.length?(v=Y?-1:1,U()):v<0},D.precision=function(Y){return arguments.length?(M=TKe(A,k=Y*Y),H()):vv(k)},D.fitExtent=function(Y,Z){return nle(D,Y,Z)},D.fitSize=function(Y,Z){return A3e(D,Y,Z)},D.fitWidth=function(Y,Z){return R3e(D,Y,Z)},D.fitHeight=function(Y,Z){return T3e(D,Y,Z)};function U(){var Y=MKe(n,0,0,p,v,h).apply(null,t(a,s)),Z=MKe(n,r-Y[0],i-Y[1],p,v,h);return c=cvt(u,f,d),A=tSe(t,Z),L=tSe(c,A),M=TKe(A,k),H()}function H(){return N=R=null,D}return function(){return t=e.apply(this,arguments),D.invert=t.invert&&j,U()}}function M3e(e){var t=0,n=To/3,r=kvt(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*bo,n=a[1]*bo):[t*Nf,n*Nf]},i}function N$n(e){var t=Qi(e);function n(r,i){return[r*t,Hi(i)/t]}return n.invert=function(r,i){return[r/t,Pm(i*t)]},n}function z$n(e,t){var n=Hi(e),r=(n+Hi(t))/2;if(Jo(r)<qi)return N$n(e);var i=1+n*(2*r-n),a=vv(i)/r;function s(u,f){var d=vv(i-2*r*Hi(f))/r;return[d*Hi(u*=r),a-d*Qi(u)]}return s.invert=function(u,f){var d=a-f,c=aw(u,Jo(d))*Hb(d);return d*r<0&&(c-=To*Hb(u)*Hb(d)),[c/r,Pm((i-(u*u+d*d)*r*r)/(2*r))]},s}function zie(){return M3e(z$n).scale(155.424).center([0,33.6442])}function Ovt(){return zie().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function j$n(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function B$n(){var e,t,n=Ovt(),r,i=zie().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=zie().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,f,d={point:function(p,v){f=[p,v]}};function c(p){var v=p[0],m=p[1];return f=null,r.point(v,m),f||(a.point(v,m),f)||(u.point(v,m),f)}c.invert=function(p){var v=n.scale(),m=n.translate(),y=(p[0]-m[0])/v,w=(p[1]-m[1])/v;return(w>=.12&&w<.234&&y>=-.425&&y<-.214?i:w>=.166&&w<.234&&y>=-.214&&y<-.115?s:n).invert(p)},c.stream=function(p){return e&&t===p?e:e=j$n([n.stream(t=p),i.stream(p),s.stream(p)])},c.precision=function(p){return arguments.length?(n.precision(p),i.precision(p),s.precision(p),h()):n.precision()},c.scale=function(p){return arguments.length?(n.scale(p),i.scale(p*.35),s.scale(p),c.translate(n.translate())):n.scale()},c.translate=function(p){if(!arguments.length)return n.translate();var v=n.scale(),m=+p[0],y=+p[1];return r=n.translate(p).clipExtent([[m-.455*v,y-.238*v],[m+.455*v,y+.238*v]]).stream(d),a=i.translate([m-.307*v,y+.201*v]).clipExtent([[m-.425*v+qi,y+.12*v+qi],[m-.214*v-qi,y+.234*v-qi]]).stream(d),u=s.translate([m-.205*v,y+.212*v]).clipExtent([[m-.214*v+qi,y+.166*v+qi],[m-.115*v-qi,y+.234*v-qi]]).stream(d),h()},c.fitExtent=function(p,v){return nle(c,p,v)},c.fitSize=function(p,v){return A3e(c,p,v)},c.fitWidth=function(p,v){return R3e(c,p,v)},c.fitHeight=function(p,v){return T3e(c,p,v)};function h(){return e=t=null,c}return c.scale(1070)}function Avt(e){return function(t,n){var r=Qi(t),i=Qi(n),a=e(r*i);return a===1/0?[2,0]:[a*i*Hi(t),a*Hi(n)]}}function lq(e){return function(t,n){var r=vv(t*t+n*n),i=e(r),a=Hi(i),s=Qi(i);return[aw(t*a,r*s),Pm(r&&n*a/r)]}}var Rvt=Avt(function(e){return vv(2/(1+e))});Rvt.invert=lq(function(e){return 2*Pm(e/2)});function H$n(){return LE(Rvt).scale(124.75).clipAngle(180-.001)}var Tvt=Avt(function(e){return(e=J0t(e))&&e/Hi(e)});Tvt.invert=lq(function(e){return e});function U$n(){return LE(Tvt).scale(79.4188).clipAngle(180-.001)}function rle(e,t){return[e,bie($3e((hf+t)/2))]}rle.invert=function(e,t){return[e,2*y7(Q0t(t))-hf]};function V$n(){return Mvt(rle).scale(961/pv)}function Mvt(e){var t=LE(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,u,f,d;t.scale=function(h){return arguments.length?(r(h),c()):r()},t.translate=function(h){return arguments.length?(i(h),c()):i()},t.center=function(h){return arguments.length?(n(h),c()):n()},t.clipExtent=function(h){return arguments.length?(h==null?s=u=f=d=null:(s=+h[0][0],u=+h[0][1],f=+h[1][0],d=+h[1][1]),c()):s==null?null:[[s,u],[f,d]]};function c(){var h=To*r(),p=t(l$n(t.rotate()).invert([0,0]));return a(s==null?[[p[0]-h,p[1]-h],[p[0]+h,p[1]+h]]:e===rle?[[Math.max(p[0]-h,s),u],[Math.min(p[0]+h,f),d]]:[[s,Math.max(p[1]-h,u)],[f,Math.min(p[1]+h,d)]])}return c()}function hee(e){return $3e((hf+e)/2)}function W$n(e,t){var n=Qi(e),r=e===t?Hi(e):bie(n/Qi(t))/bie(hee(t)/hee(e)),i=n*iye(hee(e),r)/r;if(!r)return rle;function a(s,u){i>0?u<-hf+qi&&(u=-hf+qi):u>hf-qi&&(u=hf-qi);var f=i/iye(hee(u),r);return[f*Hi(r*s),i-f*Qi(r*s)]}return a.invert=function(s,u){var f=i-u,d=Hb(r)*vv(s*s+f*f),c=aw(s,Jo(f))*Hb(f);return f*r<0&&(c-=To*Hb(s)*Hb(f)),[c/r,2*y7(iye(i/d,1/r))-hf]},a}function G$n(){return M3e(W$n).scale(109.5).parallels([30,30])}function jie(e,t){return[e,t]}jie.invert=jie;function q$n(){return LE(jie).scale(152.63)}function Y$n(e,t){var n=Qi(e),r=e===t?Hi(e):(n-Qi(t))/(t-e),i=n/r+e;if(Jo(r)<qi)return jie;function a(s,u){var f=i-u,d=r*s;return[f*Hi(d),i-f*Qi(d)]}return a.invert=function(s,u){var f=i-u,d=aw(s,Jo(f))*Hb(f);return f*r<0&&(d-=To*Hb(s)*Hb(f)),[d/r,i-Hb(r)*vv(s*s+f*f)]},a}function K$n(){return M3e(Y$n).scale(131.154).center([0,13.9389])}var mU=1.340264,yU=-.081106,bU=893e-6,wU=.003796,Bie=vv(3)/2,X$n=12;function Pvt(e,t){var n=Pm(Bie*Hi(t)),r=n*n,i=r*r*r;return[e*Qi(n)/(Bie*(mU+3*yU*r+i*(7*bU+9*wU*r))),n*(mU+yU*r+i*(bU+wU*r))]}Pvt.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,u,f;a<X$n&&(u=n*(mU+yU*r+i*(bU+wU*r))-t,f=mU+3*yU*r+i*(7*bU+9*wU*r),n-=s=u/f,r=n*n,i=r*r*r,!(Jo(s)<mie));++a);return[Bie*e*(mU+3*yU*r+i*(7*bU+9*wU*r))/Qi(n),Pm(Hi(n)/Bie)]};function Z$n(){return LE(Pvt).scale(177.158)}function Lvt(e,t){var n=Qi(t),r=Qi(e)*n;return[n*Hi(e)/r,Hi(t)/r]}Lvt.invert=lq(y7);function Q$n(){return LE(Lvt).scale(144.049).clipAngle(60)}function J$n(){var e=1,t=0,n=0,r=1,i=1,a=0,s,u,f=null,d,c,h,p=1,v=1,m=tle({point:function($,k){var M=C([$,k]);this.stream.point(M[0],M[1])}}),y=iW,w,_;function S(){return p=e*r,v=e*i,w=_=null,C}function C($){var k=$[0]*p,M=$[1]*v;if(a){var A=M*s-k*u;k=k*s+M*u,M=A}return[k+t,M+n]}return C.invert=function($){var k=$[0]-t,M=$[1]-n;if(a){var A=M*s+k*u;k=k*s-M*u,M=A}return[k/p,M/v]},C.stream=function($){return w&&_===$?w:w=m(y(_=$))},C.postclip=function($){return arguments.length?(y=$,f=d=c=h=null,S()):y},C.clipExtent=function($){return arguments.length?(y=$==null?(f=d=c=h=null,iW):gvt(f=+$[0][0],d=+$[0][1],c=+$[1][0],h=+$[1][1]),S()):f==null?null:[[f,d],[c,h]]},C.scale=function($){return arguments.length?(e=+$,S()):e},C.translate=function($){return arguments.length?(t=+$[0],n=+$[1],S()):[t,n]},C.angle=function($){return arguments.length?(a=$%360*bo,u=Hi(a),s=Qi(a),S()):a*Nf},C.reflectX=function($){return arguments.length?(r=$?-1:1,S()):r<0},C.reflectY=function($){return arguments.length?(i=$?-1:1,S()):i<0},C.fitExtent=function($,k){return nle(C,$,k)},C.fitSize=function($,k){return A3e(C,$,k)},C.fitWidth=function($,k){return R3e(C,$,k)},C.fitHeight=function($,k){return T3e(C,$,k)},C}function Dvt(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Dvt.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-t)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(Jo(i)>qi&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function ekn(){return LE(Dvt).scale(175.295)}function Ivt(e,t){return[Qi(t)*Hi(e),Hi(t)]}Ivt.invert=lq(Pm);function tkn(){return LE(Ivt).scale(249.5).clipAngle(90+qi)}function Fvt(e,t){var n=Qi(t),r=1+Qi(e)*n;return[n*Hi(e)/r,Hi(t)/r]}Fvt.invert=lq(function(e){return 2*y7(e)});function nkn(){return LE(Fvt).scale(250).clipAngle(142)}function Nvt(e,t){return[bie($3e((hf+t)/2)),-e]}Nvt.invert=function(e,t){return[-t,2*y7(Q0t(e))-hf]};function rkn(){var e=Mvt(Nvt),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var ikn=Math.abs,dSe=Math.cos,Hie=Math.sin,akn=1e-6,zvt=Math.PI,hSe=zvt/2,PKe=okn(2);function LKe(e){return e>1?hSe:e<-1?-hSe:Math.asin(e)}function okn(e){return e>0?Math.sqrt(e):0}function skn(e,t){var n=e*Hie(t),r=30,i;do t-=i=(t+Hie(t)-n)/(1+dSe(t));while(ikn(i)>akn&&--r>0);return t/2}function ukn(e,t,n){function r(i,a){return[e*i*dSe(a=skn(n,a)),t*Hie(a)]}return r.invert=function(i,a){return a=LKe(a/t),[i/(e*dSe(a)),LKe((2*a+Hie(2*a))/n)]},r}var lkn=ukn(PKe/hSe,PKe,zvt);function ckn(){return LE(lkn).scale(169.529)}const fkn=$vt(),gSe=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function dkn(e,t){return function n(){const r=t();return r.type=e,r.path=$vt().projection(r),r.copy=r.copy||function(){const i=n();return gSe.forEach(a=>{r[a]&&i[a](r[a]())}),i.path.pointRadius(r.path.pointRadius()),i},spt(r)}}function P3e(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(Uie[e]=dkn(e,t),this):Uie[e]||null}function jvt(e){return e&&e.path||fkn}const Uie={albers:Ovt,albersusa:B$n,azimuthalequalarea:H$n,azimuthalequidistant:U$n,conicconformal:G$n,conicequalarea:zie,conicequidistant:K$n,equalEarth:Z$n,equirectangular:q$n,gnomonic:Q$n,identity:J$n,mercator:V$n,mollweide:ckn,naturalEarth1:ekn,orthographic:tkn,stereographic:nkn,transversemercator:rkn};for(const e in Uie)P3e(e,Uie[e]);function hkn(){}const C$=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Bvt(){var e=1,t=1,n=u;function r(f,d){return d.map(c=>i(f,c))}function i(f,d){var c=[],h=[];return a(f,d,p=>{n(p,f,d),gkn(p)>0?c.push([p]):h.push(p)}),h.forEach(p=>{for(var v=0,m=c.length,y;v<m;++v)if(pkn((y=c[v])[0],p)!==-1){y.push(p);return}}),{type:"MultiPolygon",value:d,coordinates:c}}function a(f,d,c){var h=new Array,p=new Array,v,m,y,w,_,S;for(v=m=-1,w=f[0]>=d,C$[w<<1].forEach(C);++v<e-1;)y=w,w=f[v+1]>=d,C$[y|w<<1].forEach(C);for(C$[w<<0].forEach(C);++m<t-1;){for(v=-1,w=f[m*e+e]>=d,_=f[m*e]>=d,C$[w<<1|_<<2].forEach(C);++v<e-1;)y=w,w=f[m*e+e+v+1]>=d,S=_,_=f[m*e+v+1]>=d,C$[y|w<<1|_<<2|S<<3].forEach(C);C$[w|_<<3].forEach(C)}for(v=-1,_=f[m*e]>=d,C$[_<<2].forEach(C);++v<e-1;)S=_,_=f[m*e+v+1]>=d,C$[_<<2|S<<3].forEach(C);C$[_<<3].forEach(C);function C($){var k=[$[0][0]+v,$[0][1]+m],M=[$[1][0]+v,$[1][1]+m],A=s(k),L=s(M),N,R;(N=p[A])?(R=h[L])?(delete p[N.end],delete h[R.start],N===R?(N.ring.push(M),c(N.ring)):h[N.start]=p[R.end]={start:N.start,end:R.end,ring:N.ring.concat(R.ring)}):(delete p[N.end],N.ring.push(M),p[N.end=L]=N):(N=h[L])?(R=p[A])?(delete h[N.start],delete p[R.end],N===R?(N.ring.push(M),c(N.ring)):h[R.start]=p[N.end]={start:R.start,end:N.end,ring:R.ring.concat(N.ring)}):(delete h[N.start],N.ring.unshift(k),h[N.start=A]=N):h[A]=p[L]={start:A,end:L,ring:[k,M]}}}function s(f){return f[0]*2+f[1]*(e+1)*4}function u(f,d,c){f.forEach(h=>{var p=h[0],v=h[1],m=p|0,y=v|0,w,_=d[y*e+m];p>0&&p<e&&m===p&&(w=d[y*e+m-1],h[0]=p+(c-w)/(_-w)-.5),v>0&&v<t&&y===v&&(w=d[(y-1)*e+m],h[1]=v+(c-w)/(_-w)-.5)})}return r.contour=i,r.size=function(f){if(!arguments.length)return[e,t];var d=Math.floor(f[0]),c=Math.floor(f[1]);return d>=0&&c>=0||xn("invalid size"),e=d,t=c,r},r.smooth=function(f){return arguments.length?(n=f?u:hkn,r):n===u},r}function gkn(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function pkn(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=vkn(e,t[n]))return i;return 0}function vkn(e,t){for(var n=t[0],r=t[1],i=-1,a=0,s=e.length,u=s-1;a<s;u=a++){var f=e[a],d=f[0],c=f[1],h=e[u],p=h[0],v=h[1];if(mkn(f,h,t))return 0;c>r!=v>r&&n<(p-d)*(r-c)/(v-c)+d&&(i=-i)}return i}function mkn(e,t,n){var r;return ykn(e,t,n)&&bkn(e[r=+(e[0]===t[0])],n[r],t[r])}function ykn(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function bkn(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function Hvt(e,t,n){return function(r){var i=cE(r),a=n?Math.min(i[0],0):i[0],s=i[1],u=s-a,f=t?T3(a,s,e):u/(e+1);return ny(a+f,s,f)}}function L3e(e){dn.call(this,null,e)}L3e.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};tr(L3e,dn,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||Zp,a=Bvt().smooth(e.smooth!==!1),s=e.thresholds||wkn(r,i,e),u=e.as===null?null:e.as||"contour",f=[];return r.forEach(d=>{const c=i(d),h=a.size([c.width,c.height])(c.values,En(s)?s:s(c.values));_kn(h,c,d,e),h.forEach(p=>{f.push(Sue(d,Gs(u!=null?{[u]:p}:p)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=f,n}});function wkn(e,t,n){const r=Hvt(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>U5(t(i).values)))}function _kn(e,t,n,r){let i=r.scale||t.scale,a=r.translate||t.translate;if(eo(i)&&(i=i(n,r)),eo(a)&&(a=a(n,r)),(i===1||i==null)&&!a)return;const s=(Mu(i)?i:i[0])||1,u=(Mu(i)?i:i[1])||1,f=a&&a[0]||0,d=a&&a[1]||0;e.forEach(Uvt(t,s,u,f,d))}function Uvt(e,t,n,r,i){const a=e.x1||0,s=e.y1||0,u=t*n<0;function f(h){h.forEach(d)}function d(h){u&&h.reverse(),h.forEach(c)}function c(h){h[0]=(h[0]-a)*t+r,h[1]=(h[1]-s)*n+i}return function(h){return h.coordinates.forEach(f),h}}function DKe(e,t,n){const r=e>=0?e:AAe(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function lye(e){return eo(e)?e:Qp(+e)}function Vvt(){var e=f=>f[0],t=f=>f[1],n=s7,r=[-1,-1],i=960,a=500,s=2;function u(f,d){const c=DKe(r[0],f,e)>>s,h=DKe(r[1],f,t)>>s,p=c?c+2:0,v=h?h+2:0,m=2*p+(i>>s),y=2*v+(a>>s),w=new Float32Array(m*y),_=new Float32Array(m*y);let S=w;f.forEach($=>{const k=p+(+e($)>>s),M=v+(+t($)>>s);k>=0&&k<m&&M>=0&&M<y&&(w[k+M*m]+=+n($))}),c>0&&h>0?(b6(m,y,w,_,c),w6(m,y,_,w,h),b6(m,y,w,_,c),w6(m,y,_,w,h),b6(m,y,w,_,c),w6(m,y,_,w,h)):c>0?(b6(m,y,w,_,c),b6(m,y,_,w,c),b6(m,y,w,_,c),S=_):h>0&&(w6(m,y,w,_,h),w6(m,y,_,w,h),w6(m,y,w,_,h),S=_);const C=d?Math.pow(2,-2*s):1/Fdt(S);for(let $=0,k=m*y;$<k;++$)S[$]*=C;return{values:S,scale:1<<s,width:m,height:y,x1:p,y1:v,x2:p+(i>>s),y2:v+(a>>s)}}return u.x=function(f){return arguments.length?(e=lye(f),u):e},u.y=function(f){return arguments.length?(t=lye(f),u):t},u.weight=function(f){return arguments.length?(n=lye(f),u):n},u.size=function(f){if(!arguments.length)return[i,a];var d=+f[0],c=+f[1];return d>=0&&c>=0||xn("invalid size"),i=d,a=c,u},u.cellSize=function(f){return arguments.length?((f=+f)>=1||xn("invalid cell size"),s=Math.floor(Math.log(f)/Math.LN2),u):1<<s},u.bandwidth=function(f){return arguments.length?(f=Mr(f),f.length===1&&(f=[+f[0],+f[0]]),f.length!==2&&xn("invalid bandwidth"),r=f,u):r},u}function b6(e,t,n,r,i){const a=(i<<1)+1;for(let s=0;s<t;++s)for(let u=0,f=0;u<e+i;++u)u<e&&(f+=n[u+s*e]),u>=i&&(u>=a&&(f-=n[u-a+s*e]),r[u-i+s*e]=f/Math.min(u+1,e-1+a-u,a))}function w6(e,t,n,r,i){const a=(i<<1)+1;for(let s=0;s<e;++s)for(let u=0,f=0;u<t+i;++u)u<t&&(f+=n[s+u*e]),u>=i&&(u>=a&&(f-=n[s+(u-a)*e]),r[s+(u-i)*e]=f/Math.min(u+1,t-1+a-u,a))}function D3e(e){dn.call(this,null,e)}D3e.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const xkn=["x","y","weight","size","cellSize","bandwidth"];function Wvt(e,t){return xkn.forEach(n=>t[n]!=null?e[n](t[n]):0),e}tr(D3e,dn,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=Skn(r,e.groupby),a=(e.groupby||[]).map(vf),s=Wvt(Vvt(),e),u=e.as||"grid",f=[];function d(c,h){for(let p=0;p<a.length;++p)c[a[p]]=h[p];return c}return f=i.map(c=>Gs(d({[u]:s(c,e.counts)},c.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=f,n}});function Skn(e,t){var n=[],r=c=>c(u),i,a,s,u,f,d;if(t==null)n.push(e);else for(i={},a=0,s=e.length;a<s;++a)u=e[a],f=t.map(r),d=i[f],d||(i[f]=d=[],d.dims=f,n.push(d)),d.push(u);return n}function I3e(e){dn.call(this,null,e)}I3e.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};tr(I3e,dn,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=Bvt().smooth(e.smooth!==!1),i=e.values,a=e.thresholds||Hvt(e.count||10,e.nice,!!i),s=e.size,u,f;return i||(i=t.materialize(t.SOURCE).source,u=Wvt(Vvt(),e)(i,!0),f=Uvt(u,u.scale||1,u.scale||1,0,0),s=[u.width,u.height],i=u.values),a=En(a)?a:a(i),i=r.size(s)(i,a),f&&i.forEach(f),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Gs),n}});const pSe="Feature",F3e="FeatureCollection",Ekn="MultiPoint";function N3e(e){dn.call(this,null,e)}N3e.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};tr(N3e,dn,{transform(e,t){var n=this._features,r=this._points,i=e.fields,a=i&&i[0],s=i&&i[1],u=e.geojson||!i&&Zp,f=t.ADD,d;d=e.modified()||t.changed(t.REM)||t.modified(jp(u))||a&&t.modified(jp(a))||s&&t.modified(jp(s)),(!this.value||d)&&(f=t.SOURCE,this._features=n=[],this._points=r=[]),u&&t.visit(f,c=>n.push(u(c))),a&&s&&(t.visit(f,c=>{var h=a(c),p=s(c);h!=null&&p!=null&&(h=+h)===h&&(p=+p)===p&&r.push([h,p])}),n=n.concat({type:pSe,geometry:{type:Ekn,coordinates:r}})),this.value={type:F3e,features:n}}});function z3e(e){dn.call(this,null,e)}z3e.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};tr(z3e,dn,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||Zp,a=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=jvt(e.projection),n.materialize().reflow()):s=i===Zp||t.modified(i.fields)?n.ADD_MOD:n.ADD;const u=Ckn(r,e.pointRadius);return n.visit(s,f=>f[a]=r(i(f))),r.pointRadius(u),n.modifies(a)}});function Ckn(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function j3e(e){dn.call(this,null,e)}j3e.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};tr(j3e,dn,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],a=e.as||["x","y"],s=a[0],u=a[1],f;function d(c){const h=n([r(c),i(c)]);h?(c[s]=h[0],c[u]=h[1]):(c[s]=void 0,c[u]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,d):(f=t.modified(r.fields)||t.modified(i.fields),t.visit(f?t.ADD_MOD:t.ADD,d)),t.modifies(a)}});function B3e(e){dn.call(this,null,e)}B3e.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};tr(B3e,dn,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",a=n.ADD;return(!r||e.modified())&&(this.value=r=$kn(jvt(e.projection),e.field||Rm("datum"),e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,s=>s[i]=r),n.modifies(i)}});function $kn(e,t,n){const r=n==null?i=>e(t(i)):i=>{var a=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(a),s};return r.context=i=>(e.context(i),r),r}function H3e(e){dn.call(this,[],e),this.generator=b$n()}H3e.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};tr(H3e,dn,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const a in e)eo(r[a])&&r[a](e[a]);return i=r(),n.length?t.mod.push(Mht(n[0],i)):t.add.push(Gs(i)),n[0]=i,t}});function U3e(e){dn.call(this,null,e)}U3e.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};tr(U3e,dn,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||Zp,a=Okn(e.opacity,e),s=kkn(e.color,e),u=e.as||"image",f={$x:0,$y:0,$value:0,$max:r?U5(n.map(d=>U5(i(d).values))):0};return n.forEach(d=>{const c=i(d),h=Qa({},d,f);r||(h.$max=U5(c.values||[])),d[u]=Akn(c,h,s.dep?s:Qp(s(h)),a.dep?a:Qp(a(h)))}),t.reflow(!0).modifies(u)}});function kkn(e,t){let n;return eo(e)?(n=r=>x3(e(r,t)),n.dep=Gvt(e)):n=Qp(x3(e||"#888")),n}function Okn(e,t){let n;return eo(e)?(n=r=>e(r,t),n.dep=Gvt(e)):e?n=Qp(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function Gvt(e){if(!eo(e))return!1;const t=C_(jp(e));return t.$x||t.$y||t.$value||t.$max}function Akn(e,t,n,r){const i=e.width,a=e.height,s=e.x1||0,u=e.y1||0,f=e.x2||i,d=e.y2||a,c=e.values,h=c?w=>c[w]:pR,p=i3(f-s,d-u),v=p.getContext("2d"),m=v.getImageData(0,0,f-s,d-u),y=m.data;for(let w=u,_=0;w<d;++w){t.$y=w-u;for(let S=s,C=w*i;S<f;++S,_+=4){t.$x=S-s,t.$value=h(S+C);const $=n(t);y[_+0]=$.r,y[_+1]=$.g,y[_+2]=$.b,y[_+3]=~~(255*r(t))}}return v.putImageData(m,0,0),p}function qvt(e){dn.call(this,null,e),this.modified(!0)}tr(qvt,dn,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=Tkn(e.type),gSe.forEach(r=>{e[r]!=null&&IKe(n,r,e[r])})):gSe.forEach(r=>{e.modified(r)&&IKe(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Rkn(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Rkn(e,t){const n=Mkn(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function Tkn(e){const t=P3e((e||"mercator").toLowerCase());return t||xn("Unrecognized projection type: "+e),t()}function IKe(e,t,n){eo(e[t])&&e[t](n)}function Mkn(e){return e=Mr(e),e.length===1?e[0]:{type:F3e,features:e.reduce((t,n)=>t.concat(Pkn(n)),[])}}function Pkn(e){return e.type===F3e?e.features:Mr(e).filter(t=>t!=null).map(t=>t.type===pSe?t:{type:pSe,geometry:t})}const Lkn=Object.freeze(Object.defineProperty({__proto__:null,contour:I3e,geojson:N3e,geopath:z3e,geopoint:j3e,geoshape:B3e,graticule:H3e,heatmap:U3e,isocontour:L3e,kde2d:D3e,projection:qvt},Symbol.toStringTag,{value:"Module"}));function Dkn(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,s=n.length,u,f=0,d=0;for(a=0;a<s;++a)u=n[a],f+=u.x,d+=u.y;for(f=(f/s-e)*r,d=(d/s-t)*r,a=0;a<s;++a)u=n[a],u.x-=f,u.y-=d}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function Ikn(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Yvt(this.cover(t,n),t,n,e)}function Yvt(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,s={data:r},u=e._x0,f=e._y0,d=e._x1,c=e._y1,h,p,v,m,y,w,_,S;if(!a)return e._root=s,e;for(;a.length;)if((y=t>=(h=(u+d)/2))?u=h:d=h,(w=n>=(p=(f+c)/2))?f=p:c=p,i=a,!(a=a[_=w<<1|y]))return i[_]=s,e;if(v=+e._x.call(null,a.data),m=+e._y.call(null,a.data),t===v&&n===m)return s.next=a,i?i[_]=s:e._root=s,e;do i=i?i[_]=new Array(4):e._root=new Array(4),(y=t>=(h=(u+d)/2))?u=h:d=h,(w=n>=(p=(f+c)/2))?f=p:c=p;while((_=w<<1|y)===(S=(m>=p)<<1|v>=h));return i[S]=a,i[_]=s,e}function Fkn(e){var t,n,r=e.length,i,a,s=new Array(r),u=new Array(r),f=1/0,d=1/0,c=-1/0,h=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(s[n]=i,u[n]=a,i<f&&(f=i),i>c&&(c=i),a<d&&(d=a),a>h&&(h=a));if(f>c||d>h)return this;for(this.cover(f,d).cover(c,h),n=0;n<r;++n)Yvt(this,s[n],u[n],e[n]);return this}function Nkn(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var s=i-n||1,u=this._root,f,d;n>e||e>=i||r>t||t>=a;)switch(d=(t<r)<<1|e<n,f=new Array(4),f[d]=u,u=f,s*=2,d){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s;break}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function zkn(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function jkn(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function nv(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Bkn(e,t,n){var r,i=this._x0,a=this._y0,s,u,f,d,c=this._x1,h=this._y1,p=[],v=this._root,m,y;for(v&&p.push(new nv(v,i,a,c,h)),n==null?n=1/0:(i=e-n,a=t-n,c=e+n,h=t+n,n*=n);m=p.pop();)if(!(!(v=m.node)||(s=m.x0)>c||(u=m.y0)>h||(f=m.x1)<i||(d=m.y1)<a))if(v.length){var w=(s+f)/2,_=(u+d)/2;p.push(new nv(v[3],w,_,f,d),new nv(v[2],s,_,w,d),new nv(v[1],w,u,f,_),new nv(v[0],s,u,w,_)),(y=(t>=_)<<1|e>=w)&&(m=p[p.length-1],p[p.length-1]=p[p.length-1-y],p[p.length-1-y]=m)}else{var S=e-+this._x.call(null,v.data),C=t-+this._y.call(null,v.data),$=S*S+C*C;if($<n){var k=Math.sqrt(n=$);i=e-k,a=t-k,c=e+k,h=t+k,r=v.data}}return r}function Hkn(e){if(isNaN(c=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,s=this._x0,u=this._y0,f=this._x1,d=this._y1,c,h,p,v,m,y,w,_;if(!n)return this;if(n.length)for(;;){if((m=c>=(p=(s+f)/2))?s=p:f=p,(y=h>=(v=(u+d)/2))?u=v:d=v,t=n,!(n=n[w=y<<1|m]))return this;if(!n.length)break;(t[w+1&3]||t[w+2&3]||t[w+3&3])&&(r=t,_=w)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[w]=a:delete t[w],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[_]=n:this._root=n),this):(this._root=a,this)}function Ukn(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Vkn(){return this._root}function Wkn(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Gkn(e){var t=[],n,r=this._root,i,a,s,u,f;for(r&&t.push(new nv(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,s=n.y0,u=n.x1,f=n.y1)&&r.length){var d=(a+u)/2,c=(s+f)/2;(i=r[3])&&t.push(new nv(i,d,c,u,f)),(i=r[2])&&t.push(new nv(i,a,c,d,f)),(i=r[1])&&t.push(new nv(i,d,s,u,c)),(i=r[0])&&t.push(new nv(i,a,s,d,c))}return this}function qkn(e){var t=[],n=[],r;for(this._root&&t.push(new nv(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,s=r.x0,u=r.y0,f=r.x1,d=r.y1,c=(s+f)/2,h=(u+d)/2;(a=i[0])&&t.push(new nv(a,s,u,c,h)),(a=i[1])&&t.push(new nv(a,c,u,f,h)),(a=i[2])&&t.push(new nv(a,s,h,c,d)),(a=i[3])&&t.push(new nv(a,c,h,f,d))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Ykn(e){return e[0]}function Kkn(e){return arguments.length?(this._x=e,this):this._x}function Xkn(e){return e[1]}function Zkn(e){return arguments.length?(this._y=e,this):this._y}function V3e(e,t,n){var r=new W3e(t??Ykn,n??Xkn,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function W3e(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function FKe(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var xv=V3e.prototype=W3e.prototype;xv.copy=function(){var e=new W3e(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=FKe(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=FKe(r));return e};xv.add=Ikn;xv.addAll=Fkn;xv.cover=Nkn;xv.data=zkn;xv.extent=jkn;xv.find=Bkn;xv.remove=Hkn;xv.removeAll=Ukn;xv.root=Vkn;xv.size=Wkn;xv.visit=Gkn;xv.visitAfter=qkn;xv.x=Kkn;xv.y=Zkn;function sv(e){return function(){return e}}function MR(e){return(e()-.5)*1e-6}function Qkn(e){return e.x+e.vx}function Jkn(e){return e.y+e.vy}function eOn(e){var t,n,r,i=1,a=1;typeof e!="function"&&(e=sv(e==null?1:+e));function s(){for(var d,c=t.length,h,p,v,m,y,w,_=0;_<a;++_)for(h=V3e(t,Qkn,Jkn).visitAfter(u),d=0;d<c;++d)p=t[d],y=n[p.index],w=y*y,v=p.x+p.vx,m=p.y+p.vy,h.visit(S);function S(C,$,k,M,A){var L=C.data,N=C.r,R=y+N;if(L){if(L.index>p.index){var D=v-L.x-L.vx,j=m-L.y-L.vy,U=D*D+j*j;U<R*R&&(D===0&&(D=MR(r),U+=D*D),j===0&&(j=MR(r),U+=j*j),U=(R-(U=Math.sqrt(U)))/U*i,p.vx+=(D*=U)*(R=(N*=N)/(w+N)),p.vy+=(j*=U)*R,L.vx-=D*(R=1-R),L.vy-=j*R)}return}return $>v+R||M<v-R||k>m+R||A<m-R}}function u(d){if(d.data)return d.r=n[d.data.index];for(var c=d.r=0;c<4;++c)d[c]&&d[c].r>d.r&&(d.r=d[c].r)}function f(){if(t){var d,c=t.length,h;for(n=new Array(c),d=0;d<c;++d)h=t[d],n[h.index]=+e(h,d,t)}}return s.initialize=function(d,c){t=d,r=c,f()},s.iterations=function(d){return arguments.length?(a=+d,s):a},s.strength=function(d){return arguments.length?(i=+d,s):i},s.radius=function(d){return arguments.length?(e=typeof d=="function"?d:sv(+d),f(),s):e},s}function tOn(e){return e.index}function NKe(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function nOn(e){var t=tOn,n=h,r,i=sv(30),a,s,u,f,d,c=1;e==null&&(e=[]);function h(w){return 1/Math.min(u[w.source.index],u[w.target.index])}function p(w){for(var _=0,S=e.length;_<c;++_)for(var C=0,$,k,M,A,L,N,R;C<S;++C)$=e[C],k=$.source,M=$.target,A=M.x+M.vx-k.x-k.vx||MR(d),L=M.y+M.vy-k.y-k.vy||MR(d),N=Math.sqrt(A*A+L*L),N=(N-a[C])/N*w*r[C],A*=N,L*=N,M.vx-=A*(R=f[C]),M.vy-=L*R,k.vx+=A*(R=1-R),k.vy+=L*R}function v(){if(s){var w,_=s.length,S=e.length,C=new Map(s.map((k,M)=>[t(k,M,s),k])),$;for(w=0,u=new Array(_);w<S;++w)$=e[w],$.index=w,typeof $.source!="object"&&($.source=NKe(C,$.source)),typeof $.target!="object"&&($.target=NKe(C,$.target)),u[$.source.index]=(u[$.source.index]||0)+1,u[$.target.index]=(u[$.target.index]||0)+1;for(w=0,f=new Array(S);w<S;++w)$=e[w],f[w]=u[$.source.index]/(u[$.source.index]+u[$.target.index]);r=new Array(S),m(),a=new Array(S),y()}}function m(){if(s)for(var w=0,_=e.length;w<_;++w)r[w]=+n(e[w],w,e)}function y(){if(s)for(var w=0,_=e.length;w<_;++w)a[w]=+i(e[w],w,e)}return p.initialize=function(w,_){s=w,d=_,v()},p.links=function(w){return arguments.length?(e=w,v(),p):e},p.id=function(w){return arguments.length?(t=w,p):t},p.iterations=function(w){return arguments.length?(c=+w,p):c},p.strength=function(w){return arguments.length?(n=typeof w=="function"?w:sv(+w),m(),p):n},p.distance=function(w){return arguments.length?(i=typeof w=="function"?w:sv(+w),y(),p):i},p}const rOn=1664525,iOn=1013904223,zKe=4294967296;function aOn(){let e=1;return()=>(e=(rOn*e+iOn)%zKe)/zKe}function oOn(e){return e.x}function sOn(e){return e.y}var uOn=10,lOn=Math.PI*(3-Math.sqrt(5));function cOn(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,s=.6,u=new Map,f=$ke(h),d=fG("tick","end"),c=aOn();e==null&&(e=[]);function h(){p(),d.call("tick",t),n<r&&(f.stop(),d.call("end",t))}function p(y){var w,_=e.length,S;y===void 0&&(y=1);for(var C=0;C<y;++C)for(n+=(a-n)*i,u.forEach(function($){$(n)}),w=0;w<_;++w)S=e[w],S.fx==null?S.x+=S.vx*=s:(S.x=S.fx,S.vx=0),S.fy==null?S.y+=S.vy*=s:(S.y=S.fy,S.vy=0);return t}function v(){for(var y=0,w=e.length,_;y<w;++y){if(_=e[y],_.index=y,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var S=uOn*Math.sqrt(.5+y),C=y*lOn;_.x=S*Math.cos(C),_.y=S*Math.sin(C)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function m(y){return y.initialize&&y.initialize(e,c),y}return v(),t={tick:p,restart:function(){return f.restart(h),t},stop:function(){return f.stop(),t},nodes:function(y){return arguments.length?(e=y,v(),u.forEach(m),t):e},alpha:function(y){return arguments.length?(n=+y,t):n},alphaMin:function(y){return arguments.length?(r=+y,t):r},alphaDecay:function(y){return arguments.length?(i=+y,t):+i},alphaTarget:function(y){return arguments.length?(a=+y,t):a},velocityDecay:function(y){return arguments.length?(s=1-y,t):1-s},randomSource:function(y){return arguments.length?(c=y,u.forEach(m),t):c},force:function(y,w){return arguments.length>1?(w==null?u.delete(y):u.set(y,m(w)),t):u.get(y)},find:function(y,w,_){var S=0,C=e.length,$,k,M,A,L;for(_==null?_=1/0:_*=_,S=0;S<C;++S)A=e[S],$=y-A.x,k=w-A.y,M=$*$+k*k,M<_&&(L=A,_=M);return L},on:function(y,w){return arguments.length>1?(d.on(y,w),t):d.on(y)}}}function fOn(){var e,t,n,r,i=sv(-30),a,s=1,u=1/0,f=.81;function d(v){var m,y=e.length,w=V3e(e,oOn,sOn).visitAfter(h);for(r=v,m=0;m<y;++m)t=e[m],w.visit(p)}function c(){if(e){var v,m=e.length,y;for(a=new Array(m),v=0;v<m;++v)y=e[v],a[y.index]=+i(y,v,e)}}function h(v){var m=0,y,w,_=0,S,C,$;if(v.length){for(S=C=$=0;$<4;++$)(y=v[$])&&(w=Math.abs(y.value))&&(m+=y.value,_+=w,S+=w*y.x,C+=w*y.y);v.x=S/_,v.y=C/_}else{y=v,y.x=y.data.x,y.y=y.data.y;do m+=a[y.data.index];while(y=y.next)}v.value=m}function p(v,m,y,w){if(!v.value)return!0;var _=v.x-t.x,S=v.y-t.y,C=w-m,$=_*_+S*S;if(C*C/f<$)return $<u&&(_===0&&(_=MR(n),$+=_*_),S===0&&(S=MR(n),$+=S*S),$<s&&($=Math.sqrt(s*$)),t.vx+=_*v.value*r/$,t.vy+=S*v.value*r/$),!0;if(v.length||$>=u)return;(v.data!==t||v.next)&&(_===0&&(_=MR(n),$+=_*_),S===0&&(S=MR(n),$+=S*S),$<s&&($=Math.sqrt(s*$)));do v.data!==t&&(C=a[v.data.index]*r/$,t.vx+=_*C,t.vy+=S*C);while(v=v.next)}return d.initialize=function(v,m){e=v,n=m,c()},d.strength=function(v){return arguments.length?(i=typeof v=="function"?v:sv(+v),c(),d):i},d.distanceMin=function(v){return arguments.length?(s=v*v,d):Math.sqrt(s)},d.distanceMax=function(v){return arguments.length?(u=v*v,d):Math.sqrt(u)},d.theta=function(v){return arguments.length?(f=v*v,d):Math.sqrt(f)},d}function dOn(e){var t=sv(.1),n,r,i;typeof e!="function"&&(e=sv(e==null?0:+e));function a(u){for(var f=0,d=n.length,c;f<d;++f)c=n[f],c.vx+=(i[f]-c.x)*r[f]*u}function s(){if(n){var u,f=n.length;for(r=new Array(f),i=new Array(f),u=0;u<f;++u)r[u]=isNaN(i[u]=+e(n[u],u,n))?0:+t(n[u],u,n)}}return a.initialize=function(u){n=u,s()},a.strength=function(u){return arguments.length?(t=typeof u=="function"?u:sv(+u),s(),a):t},a.x=function(u){return arguments.length?(e=typeof u=="function"?u:sv(+u),s(),a):e},a}function hOn(e){var t=sv(.1),n,r,i;typeof e!="function"&&(e=sv(e==null?0:+e));function a(u){for(var f=0,d=n.length,c;f<d;++f)c=n[f],c.vy+=(i[f]-c.y)*r[f]*u}function s(){if(n){var u,f=n.length;for(r=new Array(f),i=new Array(f),u=0;u<f;++u)r[u]=isNaN(i[u]=+e(n[u],u,n))?0:+t(n[u],u,n)}}return a.initialize=function(u){n=u,s()},a.strength=function(u){return arguments.length?(t=typeof u=="function"?u:sv(+u),s(),a):t},a.y=function(u){return arguments.length?(e=typeof u=="function"?u:sv(+u),s(),a):e},a}const jKe={center:Dkn,collide:eOn,nbody:fOn,link:nOn,x:dOn,y:hOn},PH="forces",vSe=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],gOn=["static","iterations"],Kvt=["x","y","vx","vy"];function G3e(e){dn.call(this,null,e)}G3e.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:Kvt}]};tr(G3e,dn,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(vSe),a=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&Xvt(n,e,0,t)):(this.value=n=vOn(t.source,e),n.on("tick",pOn(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(gOn)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/a)),e.static)for(n.stop();--a>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let u=this._argops,f=0,d=u.length,c;f<d;++f)if(c=u[f],!(c.name!==PH||c.op._argval.force!=="link")){for(var r=c.op._argops,i=0,a=r.length,s;i<a;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(Kvt)}});function pOn(e,t){return()=>e.touch(t).run()}function vOn(e,t){const n=cOn(e),r=n.stop,i=n.restart;let a=!1;return n.stopped=()=>a,n.restart=()=>(a=!1,i()),n.stop=()=>(a=!0,r()),Xvt(n,t,!0).on("end",()=>a=!0)}function Xvt(e,t,n,r){var i=Mr(t.forces),a,s,u,f;for(a=0,s=vSe.length;a<s;++a)u=vSe[a],u!==PH&&t.modified(u)&&e[u](t[u]);for(a=0,s=i.length;a<s;++a)f=PH+a,u=n||t.modified(PH,a)?yOn(i[a]):r&&mOn(i[a],r)?e.force(f):null,u&&e.force(f,u);for(s=e.numForces||0;a<s;++a)e.force(PH+a,null);return e.numForces=i.length,e}function mOn(e,t){var n,r;for(n in e)if(eo(r=e[n])&&t.modified(jp(r)))return 1;return 0}function yOn(e){var t,n;Ui(jKe,e.force)||xn("Unrecognized force: "+e.force),t=jKe[e.force]();for(n in e)eo(t[n])&&bOn(t[n],e[n],e);return t}function bOn(e,t,n){e(eo(t)?r=>t(r,n):t)}const wOn=Object.freeze(Object.defineProperty({__proto__:null,force:G3e},Symbol.toStringTag,{value:"Module"}));function _On(e,t){return e.parent===t.parent?1:2}function xOn(e){return e.reduce(SOn,0)/e.length}function SOn(e,t){return e+t.x}function EOn(e){return 1+e.reduce(COn,0)}function COn(e,t){return Math.max(e,t.y)}function $On(e){for(var t;t=e.children;)e=t[0];return e}function kOn(e){for(var t;t=e.children;)e=t[t.length-1];return e}function OOn(){var e=_On,t=1,n=1,r=!1;function i(a){var s,u=0;a.eachAfter(function(p){var v=p.children;v?(p.x=xOn(v),p.y=EOn(v)):(p.x=s?u+=e(p,s):0,p.y=0,s=p)});var f=$On(a),d=kOn(a),c=f.x-e(f,d)/2,h=d.x+e(d,f)/2;return a.eachAfter(r?function(p){p.x=(p.x-a.x)*t,p.y=(a.y-p.y)*n}:function(p){p.x=(p.x-c)/(h-c)*t,p.y=(1-(a.y?p.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function AOn(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function ROn(){return this.eachAfter(AOn)}function TOn(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function MOn(e,t){for(var n=this,r=[n],i,a,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function POn(e,t){for(var n=this,r=[n],i=[],a,s,u,f=-1;n=r.pop();)if(i.push(n),a=n.children)for(s=0,u=a.length;s<u;++s)r.push(a[s]);for(;n=i.pop();)e.call(t,n,++f,this);return this}function LOn(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function DOn(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function IOn(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function FOn(e){for(var t=this,n=NOn(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function NOn(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function zOn(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function jOn(){return Array.from(this)}function BOn(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function HOn(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*UOn(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function q3e(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=GOn)):t===void 0&&(t=WOn);for(var n=new XN(e),r,i=[n],a,s,u,f;r=i.pop();)if((s=t(r.data))&&(f=(s=Array.from(s)).length))for(r.children=s,u=f-1;u>=0;--u)i.push(a=s[u]=new XN(s[u])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(Zvt)}function VOn(){return q3e(this).eachBefore(qOn)}function WOn(e){return e.children}function GOn(e){return Array.isArray(e)?e[1]:null}function qOn(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Zvt(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function XN(e){this.data=e,this.depth=this.height=0,this.parent=null}XN.prototype=q3e.prototype={constructor:XN,count:ROn,each:TOn,eachAfter:POn,eachBefore:MOn,find:LOn,sum:DOn,sort:IOn,path:FOn,ancestors:zOn,descendants:jOn,leaves:BOn,links:HOn,copy:VOn,[Symbol.iterator]:UOn};function Wte(e){return e==null?null:Qvt(e)}function Qvt(e){if(typeof e!="function")throw new Error;return e}function d5(){return 0}function D6(e){return function(){return e}}const YOn=1664525,KOn=1013904223,BKe=4294967296;function XOn(){let e=1;return()=>(e=(YOn*e+KOn)%BKe)/BKe}function ZOn(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QOn(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function JOn(e,t){for(var n=0,r=(e=QOn(Array.from(e),t)).length,i=[],a,s;n<r;)a=e[n],s&&Jvt(s,a)?++n:(s=tAn(i=eAn(i,a)),n=0);return s}function eAn(e,t){var n,r;if(cye(t,e))return[t];for(n=0;n<e.length;++n)if(gee(t,e[n])&&cye(LH(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(gee(LH(e[n],e[r]),t)&&gee(LH(e[n],t),e[r])&&gee(LH(e[r],t),e[n])&&cye(emt(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function gee(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Jvt(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function cye(e,t){for(var n=0;n<t.length;++n)if(!Jvt(e,t[n]))return!1;return!0}function tAn(e){switch(e.length){case 1:return nAn(e[0]);case 2:return LH(e[0],e[1]);case 3:return emt(e[0],e[1],e[2])}}function nAn(e){return{x:e.x,y:e.y,r:e.r}}function LH(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,s=t.y,u=t.r,f=a-n,d=s-r,c=u-i,h=Math.sqrt(f*f+d*d);return{x:(n+a+f/h*c)/2,y:(r+s+d/h*c)/2,r:(h+i+u)/2}}function emt(e,t,n){var r=e.x,i=e.y,a=e.r,s=t.x,u=t.y,f=t.r,d=n.x,c=n.y,h=n.r,p=r-s,v=r-d,m=i-u,y=i-c,w=f-a,_=h-a,S=r*r+i*i-a*a,C=S-s*s-u*u+f*f,$=S-d*d-c*c+h*h,k=v*m-p*y,M=(m*$-y*C)/(k*2)-r,A=(y*w-m*_)/k,L=(v*C-p*$)/(k*2)-i,N=(p*_-v*w)/k,R=A*A+N*N-1,D=2*(a+M*A+L*N),j=M*M+L*L-a*a,U=-(Math.abs(R)>1e-6?(D+Math.sqrt(D*D-4*R*j))/(2*R):j/D);return{x:r+M+A*U,y:i+L+N*U,r:U}}function HKe(e,t,n){var r=e.x-t.x,i,a,s=e.y-t.y,u,f,d=r*r+s*s;d?(a=t.r+n.r,a*=a,f=e.r+n.r,f*=f,a>f?(i=(d+f-a)/(2*d),u=Math.sqrt(Math.max(0,f/d-i*i)),n.x=e.x-i*r-u*s,n.y=e.y-i*s+u*r):(i=(d+a-f)/(2*d),u=Math.sqrt(Math.max(0,a/d-i*i)),n.x=t.x+i*r-u*s,n.y=t.y+i*s+u*r)):(n.x=t.x+n.r,n.y=t.y)}function UKe(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function VKe(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function pee(e){this._=e,this.next=null,this.previous=null}function rAn(e,t){if(!(a=(e=ZOn(e)).length))return 0;var n,r,i,a,s,u,f,d,c,h,p;if(n=e[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;HKe(r,n,i=e[2]),n=new pee(n),r=new pee(r),i=new pee(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(f=3;f<a;++f){HKe(n._,r._,i=e[f]),i=new pee(i),d=r.next,c=n.previous,h=r._.r,p=n._.r;do if(h<=p){if(UKe(d._,i._)){r=d,n.next=r,r.previous=n,--f;continue e}h+=d._.r,d=d.next}else{if(UKe(c._,i._)){n=c,n.next=r,r.previous=n,--f;continue e}p+=c._.r,c=c.previous}while(d!==c.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=VKe(n);(i=i.next)!==r;)(u=VKe(i))<s&&(n=i,s=u);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=JOn(n,t),f=0;f<a;++f)n=e[f],n.x-=i.x,n.y-=i.y;return i.r}function iAn(e){return Math.sqrt(e.value)}function aAn(){var e=null,t=1,n=1,r=d5;function i(a){const s=XOn();return a.x=t/2,a.y=n/2,e?a.eachBefore(WKe(e)).eachAfter(fye(r,.5,s)).eachBefore(GKe(1)):a.eachBefore(WKe(iAn)).eachAfter(fye(d5,1,s)).eachAfter(fye(r,a.r/Math.min(t,n),s)).eachBefore(GKe(Math.min(t,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=Wte(a),i):e},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:D6(+a),i):r},i}function WKe(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function fye(e,t,n){return function(r){if(i=r.children){var i,a,s=i.length,u=e(r)*t||0,f;if(u)for(a=0;a<s;++a)i[a].r+=u;if(f=rAn(i,n),u)for(a=0;a<s;++a)i[a].r-=u;r.r=f+u}}}function GKe(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function tmt(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function cq(e,t,n,r,i){for(var a=e.children,s,u=-1,f=a.length,d=e.value&&(r-t)/e.value;++u<f;)s=a[u],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*d}function oAn(){var e=1,t=1,n=0,r=!1;function i(s){var u=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/u,s.eachBefore(a(t,u)),r&&s.eachBefore(tmt),s}function a(s,u){return function(f){f.children&&cq(f,f.x0,s*(f.depth+1)/u,f.x1,s*(f.depth+2)/u);var d=f.x0,c=f.y0,h=f.x1-n,p=f.y1-n;h<d&&(d=h=(d+h)/2),p<c&&(c=p=(c+p)/2),f.x0=d,f.y0=c,f.x1=h,f.y1=p}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var sAn={depth:-1},qKe={},dye={};function uAn(e){return e.id}function lAn(e){return e.parentId}function YKe(){var e=uAn,t=lAn,n;function r(i){var a=Array.from(i),s=e,u=t,f,d,c,h,p,v,m,y,w=new Map;if(n!=null){const _=a.map(($,k)=>cAn(n($,k,i))),S=_.map(KKe),C=new Set(_).add("");for(const $ of S)C.has($)||(C.add($),_.push($),S.push(KKe($)),a.push(dye));s=($,k)=>_[k],u=($,k)=>S[k]}for(c=0,f=a.length;c<f;++c)d=a[c],v=a[c]=new XN(d),(m=s(d,c,i))!=null&&(m+="")&&(y=v.id=m,w.set(y,w.has(y)?qKe:v)),(m=u(d,c,i))!=null&&(m+="")&&(v.parent=m);for(c=0;c<f;++c)if(v=a[c],m=v.parent){if(p=w.get(m),!p)throw new Error("missing: "+m);if(p===qKe)throw new Error("ambiguous: "+m);p.children?p.children.push(v):p.children=[v],v.parent=p}else{if(h)throw new Error("multiple roots");h=v}if(!h)throw new Error("no root");if(n!=null){for(;h.data===dye&&h.children.length===1;)h=h.children[0],--f;for(let _=a.length-1;_>=0&&(v=a[_],v.data===dye);--_)v.data=null}if(h.parent=sAn,h.eachBefore(function(_){_.depth=_.parent.depth+1,--f}).eachBefore(Zvt),h.parent=null,f>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(e=Wte(i),r):e},r.parentId=function(i){return arguments.length?(t=Wte(i),r):t},r.path=function(i){return arguments.length?(n=Wte(i),r):n},r}function cAn(e){e=`${e}`;let t=e.length;return mSe(e,t-1)&&!mSe(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function KKe(e){let t=e.length;if(t<2)return"";for(;--t>1&&!mSe(e,t););return e.slice(0,t)}function mSe(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function fAn(e,t){return e.parent===t.parent?1:2}function hye(e){var t=e.children;return t?t[0]:e.t}function gye(e){var t=e.children;return t?t[t.length-1]:e.t}function dAn(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function hAn(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function gAn(e,t,n){return e.a.parent===t.parent?e.a:n}function Gte(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Gte.prototype=Object.create(XN.prototype);function pAn(e){for(var t=new Gte(e,0),n,r=[t],i,a,s,u;n=r.pop();)if(a=n._.children)for(n.children=new Array(u=a.length),s=u-1;s>=0;--s)r.push(i=n.children[s]=new Gte(a[s],s)),i.parent=n;return(t.parent=new Gte(null,0)).children=[t],t}function vAn(){var e=fAn,t=1,n=1,r=null;function i(d){var c=pAn(d);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(s),r)d.eachBefore(f);else{var h=d,p=d,v=d;d.eachBefore(function(S){S.x<h.x&&(h=S),S.x>p.x&&(p=S),S.depth>v.depth&&(v=S)});var m=h===p?1:e(h,p)/2,y=m-h.x,w=t/(p.x+m+y),_=n/(v.depth||1);d.eachBefore(function(S){S.x=(S.x+y)*w,S.y=S.depth*_})}return d}function a(d){var c=d.children,h=d.parent.children,p=d.i?h[d.i-1]:null;if(c){hAn(d);var v=(c[0].z+c[c.length-1].z)/2;p?(d.z=p.z+e(d._,p._),d.m=d.z-v):d.z=v}else p&&(d.z=p.z+e(d._,p._));d.parent.A=u(d,p,d.parent.A||h[0])}function s(d){d._.x=d.z+d.parent.m,d.m+=d.parent.m}function u(d,c,h){if(c){for(var p=d,v=d,m=c,y=p.parent.children[0],w=p.m,_=v.m,S=m.m,C=y.m,$;m=gye(m),p=hye(p),m&&p;)y=hye(y),v=gye(v),v.a=d,$=m.z+S-p.z-w+e(m._,p._),$>0&&(dAn(gAn(m,d,h),d,$),w+=$,_+=$),S+=m.m,w+=p.m,C+=y.m,_+=v.m;m&&!gye(v)&&(v.t=m,v.m+=S-_),p&&!hye(y)&&(y.t=p,y.m+=w-C,h=d)}return h}function f(d){d.x*=t,d.y=d.depth*n}return i.separation=function(d){return arguments.length?(e=d,i):e},i.size=function(d){return arguments.length?(r=!1,t=+d[0],n=+d[1],i):r?null:[t,n]},i.nodeSize=function(d){return arguments.length?(r=!0,t=+d[0],n=+d[1],i):r?[t,n]:null},i}function ile(e,t,n,r,i){for(var a=e.children,s,u=-1,f=a.length,d=e.value&&(i-n)/e.value;++u<f;)s=a[u],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*d}var nmt=(1+Math.sqrt(5))/2;function rmt(e,t,n,r,i,a){for(var s=[],u=t.children,f,d,c=0,h=0,p=u.length,v,m,y=t.value,w,_,S,C,$,k,M;c<p;){v=i-n,m=a-r;do w=u[h++].value;while(!w&&h<p);for(_=S=w,k=Math.max(m/v,v/m)/(y*e),M=w*w*k,$=Math.max(S/M,M/_);h<p;++h){if(w+=d=u[h].value,d<_&&(_=d),d>S&&(S=d),M=w*w*k,C=Math.max(S/M,M/_),C>$){w-=d;break}$=C}s.push(f={value:w,dice:v<m,children:u.slice(c,h)}),f.dice?cq(f,n,r,i,y?r+=m*w/y:a):ile(f,n,r,y?n+=v*w/y:i,a),y-=w,c=h}return s}const imt=function e(t){function n(r,i,a,s,u){rmt(t,r,i,a,s,u)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(nmt);function mAn(){var e=imt,t=!1,n=1,r=1,i=[0],a=d5,s=d5,u=d5,f=d5,d=d5;function c(p){return p.x0=p.y0=0,p.x1=n,p.y1=r,p.eachBefore(h),i=[0],t&&p.eachBefore(tmt),p}function h(p){var v=i[p.depth],m=p.x0+v,y=p.y0+v,w=p.x1-v,_=p.y1-v;w<m&&(m=w=(m+w)/2),_<y&&(y=_=(y+_)/2),p.x0=m,p.y0=y,p.x1=w,p.y1=_,p.children&&(v=i[p.depth+1]=a(p)/2,m+=d(p)-v,y+=s(p)-v,w-=u(p)-v,_-=f(p)-v,w<m&&(m=w=(m+w)/2),_<y&&(y=_=(y+_)/2),e(p,m,y,w,_))}return c.round=function(p){return arguments.length?(t=!!p,c):t},c.size=function(p){return arguments.length?(n=+p[0],r=+p[1],c):[n,r]},c.tile=function(p){return arguments.length?(e=Qvt(p),c):e},c.padding=function(p){return arguments.length?c.paddingInner(p).paddingOuter(p):c.paddingInner()},c.paddingInner=function(p){return arguments.length?(a=typeof p=="function"?p:D6(+p),c):a},c.paddingOuter=function(p){return arguments.length?c.paddingTop(p).paddingRight(p).paddingBottom(p).paddingLeft(p):c.paddingTop()},c.paddingTop=function(p){return arguments.length?(s=typeof p=="function"?p:D6(+p),c):s},c.paddingRight=function(p){return arguments.length?(u=typeof p=="function"?p:D6(+p),c):u},c.paddingBottom=function(p){return arguments.length?(f=typeof p=="function"?p:D6(+p),c):f},c.paddingLeft=function(p){return arguments.length?(d=typeof p=="function"?p:D6(+p),c):d},c}function yAn(e,t,n,r,i){var a=e.children,s,u=a.length,f,d=new Array(u+1);for(d[0]=f=s=0;s<u;++s)d[s+1]=f+=a[s].value;c(0,u,e.value,t,n,r,i);function c(h,p,v,m,y,w,_){if(h>=p-1){var S=a[h];S.x0=m,S.y0=y,S.x1=w,S.y1=_;return}for(var C=d[h],$=v/2+C,k=h+1,M=p-1;k<M;){var A=k+M>>>1;d[A]<$?k=A+1:M=A}$-d[k-1]<d[k]-$&&h+1<k&&--k;var L=d[k]-C,N=v-L;if(w-m>_-y){var R=v?(m*N+w*L)/v:w;c(h,k,L,m,y,R,_),c(k,p,N,R,y,w,_)}else{var D=v?(y*N+_*L)/v:_;c(h,k,L,m,y,w,D),c(k,p,N,m,D,w,_)}}}function bAn(e,t,n,r,i){(e.depth&1?ile:cq)(e,t,n,r,i)}const wAn=function e(t){function n(r,i,a,s,u){if((f=r._squarify)&&f.ratio===t)for(var f,d,c,h,p=-1,v,m=f.length,y=r.value;++p<m;){for(d=f[p],c=d.children,h=d.value=0,v=c.length;h<v;++h)d.value+=c[h].value;d.dice?cq(d,i,a,s,y?a+=(u-a)*d.value/y:u):ile(d,i,a,y?i+=(s-i)*d.value/y:s,u),y-=d.value}else r._squarify=f=rmt(t,r,i,a,s,u),f.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(nmt);function ySe(e,t,n){const r={};return e.each(i=>{const a=i.data;n(a)&&(r[t(a)]=i)}),e.lookup=r,e}function Y3e(e){dn.call(this,null,e)}Y3e.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const _An=e=>e.values;tr(Y3e,dn,{transform(e,t){t.source||xn("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),a=this.value;return(!a||r||t.changed())&&(a&&a.each(s=>{s.children&&xue(s.data)&&i.rem.push(s.data)}),this.value=a=q3e({values:Mr(e.keys).reduce((s,u)=>(s.key(u),s),xAn()).entries(i.source)},_An),n&&a.each(s=>{s.children&&(s=Gs(s.data),i.add.push(s),i.source.push(s))}),ySe(a,zi,zi)),i.source.root=a,i}});function xAn(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,a){if(a>=e.length)return i;const s=i.length,u=e[a++],f={},d={};let c=-1,h,p,v;for(;++c<s;)h=u(p=i[c])+"",(v=f[h])?v.push(p):f[h]=[p];for(h in f)d[h]=n(f[h],a);return d}function r(i,a){if(++a>e.length)return i;const s=[];for(const u in i)s.push({key:u,values:r(i[u],a)});return s}return t}function Dk(e){dn.call(this,null,e)}const SAn=(e,t)=>e.parent===t.parent?1:2;tr(Dk,dn,{transform(e,t){(!t.source||!t.source.root)&&xn(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(mL(e.sort,s=>s.data)),EAn(n,this.params,e),n.separation&&n.separation(e.separation!==!1?SAn:s7);try{this.value=n(i)}catch(s){xn(s)}return i.each(s=>CAn(s,r,a)),t.reflow(e.modified()).modifies(a).modifies("leaf")}});function EAn(e,t,n){for(let r,i=0,a=t.length;i<a;++i)r=t[i],r in n&&e[r](n[r])}function CAn(e,t,n){const r=e.data,i=t.length-1;for(let a=0;a<i;++a)r[n[a]]=e[t[a]];r[n[i]]=e.children?e.children.length:0}const bSe=["x","y","r","depth","children"];function K3e(e){Dk.call(this,e)}K3e.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:bSe.length,default:bSe}]};tr(K3e,Dk,{layout:aAn,params:["radius","size","padding"],fields:bSe});const wSe=["x0","y0","x1","y1","depth","children"];function X3e(e){Dk.call(this,e)}X3e.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:wSe.length,default:wSe}]};tr(X3e,Dk,{layout:oAn,params:["size","round","padding"],fields:wSe});function Z3e(e){dn.call(this,null,e)}Z3e.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};tr(Z3e,dn,{transform(e,t){t.source||xn("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),a=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),a&&(n=i.source.length?ySe(YKe().id(e.key).parentId(e.parentKey)(i.source),e.key,nw):ySe(YKe()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const XKe={tidy:vAn,cluster:OOn},_Se=["x","y","depth","children"];function Q3e(e){Dk.call(this,e)}Q3e.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:_Se.length,default:_Se}]};tr(Q3e,Dk,{layout(e){const t=e||"tidy";if(Ui(XKe,t))return XKe[t]();xn("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:_Se});function J3e(e){dn.call(this,[],e)}J3e.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};tr(J3e,dn,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),a={};return r||xn("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>a[zi(s)]=1),r.each(s=>{const u=s.data,f=s.parent&&s.parent.data;f&&a[zi(u)]&&a[zi(f)]&&i.add.push(Gs({source:f,target:u}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>a[zi(s)]=1),n.forEach(s=>{(a[zi(s.source)]||a[zi(s.target)])&&i.mod.push(s)})),i}});const ZKe={binary:yAn,dice:cq,slice:ile,slicedice:bAn,squarify:imt,resquarify:wAn},xSe=["x0","y0","x1","y1","depth","children"];function eTe(e){Dk.call(this,e)}eTe.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:xSe.length,default:xSe}]};tr(eTe,Dk,{layout(){const e=mAn();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Ui(ZKe,t)?e.tile(ZKe[t]):xn("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:xSe});const $An=Object.freeze(Object.defineProperty({__proto__:null,nest:Y3e,pack:K3e,partition:X3e,stratify:Z3e,tree:Q3e,treelinks:J3e,treemap:eTe},Symbol.toStringTag,{value:"Module"})),pye=4278190080;function kAn(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function OAn(e,t,n,r,i){const a=e.width,s=e.height,u=r||i,f=i3(a,s).getContext("2d"),d=i3(a,s).getContext("2d"),c=u&&i3(a,s).getContext("2d");n.forEach(L=>qte(f,L,!1)),qte(d,t,!1),u&&qte(c,t,!0);const h=vye(f,a,s),p=vye(d,a,s),v=u&&vye(c,a,s),m=e.bitmap(),y=u&&e.bitmap();let w,_,S,C,$,k,M,A;for(_=0;_<s;++_)for(w=0;w<a;++w)$=_*a+w,k=h[$]&pye,A=p[$]&pye,M=u&&v[$]&pye,(k||M||A)&&(S=e(w),C=e(_),!i&&(k||A)&&m.set(S,C),u&&(k||M)&&y.set(S,C));return[m,y]}function vye(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function qte(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(a=>qte(e,a.items,n))}):dy[r].draw(e,{items:n?t.map(AAn):t})}function AAn(e){const t=Sue(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const $$=5,z0=31,oW=32,uR=new Uint32Array(oW+1),W2=new Uint32Array(oW+1);W2[0]=0;uR[0]=~W2[0];for(let e=1;e<=oW;++e)W2[e]=W2[e-1]<<1|1,uR[e]=~W2[e];function RAn(e,t){const n=new Uint32Array(~~((e*t+oW)/oW));function r(a,s){n[a]|=s}function i(a,s){n[a]&=s}return{array:n,get:(a,s)=>{const u=s*e+a;return n[u>>>$$]&1<<(u&z0)},set:(a,s)=>{const u=s*e+a;r(u>>>$$,1<<(u&z0))},clear:(a,s)=>{const u=s*e+a;i(u>>>$$,~(1<<(u&z0)))},getRange:(a,s,u,f)=>{let d=f,c,h,p,v;for(;d>=s;--d)if(c=d*e+a,h=d*e+u,p=c>>>$$,v=h>>>$$,p===v){if(n[p]&uR[c&z0]&W2[(h&z0)+1])return!0}else{if(n[p]&uR[c&z0]||n[v]&W2[(h&z0)+1])return!0;for(let m=p+1;m<v;++m)if(n[m])return!0}return!1},setRange:(a,s,u,f)=>{let d,c,h,p,v;for(;s<=f;++s)if(d=s*e+a,c=s*e+u,h=d>>>$$,p=c>>>$$,h===p)r(h,uR[d&z0]&W2[(c&z0)+1]);else for(r(h,uR[d&z0]),r(p,W2[(c&z0)+1]),v=h+1;v<p;++v)r(v,4294967295)},clearRange:(a,s,u,f)=>{let d,c,h,p,v;for(;s<=f;++s)if(d=s*e+a,c=s*e+u,h=d>>>$$,p=c>>>$$,h===p)i(h,W2[d&z0]|uR[(c&z0)+1]);else for(i(h,W2[d&z0]),i(p,uR[(c&z0)+1]),v=h+1;v<p;++v)i(v,0)},outOfBounds:(a,s,u,f)=>a<0||s<0||f>=t||u>=e}}function TAn(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),a=~~((t+2*n+r)/r),s=u=>~~((u+n)/r);return s.invert=u=>u*r-n,s.bitmap=()=>RAn(i,a),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function MAn(e,t,n,r){const i=e.width,a=e.height;return function(s){const u=s.datum.datum.items[r].items,f=u.length,d=s.datum.fontSize,c=h_.width(s.datum,s.datum.text);let h=0,p,v,m,y,w,_,S;for(let C=0;C<f;++C)p=u[C].x,m=u[C].y,v=u[C].x2===void 0?p:u[C].x2,y=u[C].y2===void 0?m:u[C].y2,w=(p+v)/2,_=(m+y)/2,S=Math.abs(v-p+y-m),S>=h&&(h=S,s.x=w,s.y=_);return w=c/2,_=d/2,p=s.x-w,v=s.x+w,m=s.y-_,y=s.y+_,s.align="center",p<0&&v<=i?s.align="left":0<=p&&i<v&&(s.align="right"),s.baseline="middle",m<0&&y<=a?s.baseline="top":0<=m&&a<y&&(s.baseline="bottom"),!0}}function Vie(e,t,n,r,i,a){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>a}function PR(e,t,n,r,i,a,s,u){const f=i*a/(r*2),d=e(t-f),c=e(t+f),h=e(n-(a=a/2)),p=e(n+a);return s.outOfBounds(d,h,c,p)||s.getRange(d,h,c,p)||u&&u.getRange(d,h,c,p)}function PAn(e,t,n,r){const i=e.width,a=e.height,s=t[0],u=t[1];function f(d,c,h,p,v){const m=e.invert(d),y=e.invert(c);let w=h,_=a,S;if(!Vie(m,y,p,v,i,a)&&!PR(e,m,y,v,p,w,s,u)&&!PR(e,m,y,v,p,v,s,null)){for(;_-w>=1;)S=(w+_)/2,PR(e,m,y,v,p,S,s,u)?_=S:w=S;if(w>h)return[m,y,w,!0]}}return function(d){const c=d.datum.datum.items[r].items,h=c.length,p=d.datum.fontSize,v=h_.width(d.datum,d.datum.text);let m=n?p:0,y=!1,w=!1,_=0,S,C,$,k,M,A,L,N,R,D,j,U,H,Y,Z,Q,ee;for(let oe=0;oe<h;++oe){for(S=c[oe].x,$=c[oe].y,C=c[oe].x2===void 0?S:c[oe].x2,k=c[oe].y2===void 0?$:c[oe].y2,S>C&&(ee=S,S=C,C=ee),$>k&&(ee=$,$=k,k=ee),R=e(S),j=e(C),D=~~((R+j)/2),U=e($),Y=e(k),H=~~((U+Y)/2),L=D;L>=R;--L)for(N=H;N>=U;--N)Q=f(L,N,m,v,p),Q&&([d.x,d.y,m,y]=Q);for(L=D;L<=j;++L)for(N=H;N<=Y;++N)Q=f(L,N,m,v,p),Q&&([d.x,d.y,m,y]=Q);!y&&!n&&(Z=Math.abs(C-S+k-$),M=(S+C)/2,A=($+k)/2,Z>=_&&!Vie(M,A,v,p,i,a)&&!PR(e,M,A,p,v,p,s,null)&&(_=Z,d.x=M,d.y=A,w=!0))}return y||w?(M=v/2,A=p/2,s.setRange(e(d.x-M),e(d.y-A),e(d.x+M),e(d.y+A)),d.align="center",d.baseline="middle",!0):!1}}const LAn=[-1,-1,1,1],DAn=[-1,1,-1,1];function IAn(e,t,n,r){const i=e.width,a=e.height,s=t[0],u=t[1],f=e.bitmap();return function(d){const c=d.datum.datum.items[r].items,h=c.length,p=d.datum.fontSize,v=h_.width(d.datum,d.datum.text),m=[];let y=n?p:0,w=!1,_=!1,S=0,C,$,k,M,A,L,N,R,D,j,U,H;for(let Y=0;Y<h;++Y){for(C=c[Y].x,k=c[Y].y,$=c[Y].x2===void 0?C:c[Y].x2,M=c[Y].y2===void 0?k:c[Y].y2,m.push([e((C+$)/2),e((k+M)/2)]);m.length;)if([N,R]=m.pop(),!(s.get(N,R)||u.get(N,R)||f.get(N,R))){f.set(N,R);for(let Z=0;Z<4;++Z)A=N+LAn[Z],L=R+DAn[Z],f.outOfBounds(A,L,A,L)||m.push([A,L]);if(A=e.invert(N),L=e.invert(R),D=y,j=a,!Vie(A,L,v,p,i,a)&&!PR(e,A,L,p,v,D,s,u)&&!PR(e,A,L,p,v,p,s,null)){for(;j-D>=1;)U=(D+j)/2,PR(e,A,L,p,v,U,s,u)?j=U:D=U;D>y&&(d.x=A,d.y=L,y=D,w=!0)}}!w&&!n&&(H=Math.abs($-C+M-k),A=(C+$)/2,L=(k+M)/2,H>=S&&!Vie(A,L,v,p,i,a)&&!PR(e,A,L,p,v,p,s,null)&&(S=H,d.x=A,d.y=L,_=!0))}return w||_?(A=v/2,L=p/2,s.setRange(e(d.x-A),e(d.y-L),e(d.x+A),e(d.y+L)),d.align="center",d.baseline="middle",!0):!1}}const FAn=["right","center","left"],NAn=["bottom","middle","top"];function zAn(e,t,n,r){const i=e.width,a=e.height,s=t[0],u=t[1],f=r.length;return function(d){const c=d.boundary,h=d.datum.fontSize;if(c[2]<0||c[5]<0||c[0]>i||c[3]>a)return!1;let p=d.textWidth??0,v,m,y,w,_,S,C,$,k,M,A,L,N,R,D;for(let j=0;j<f;++j){if(v=(n[j]&3)-1,m=(n[j]>>>2&3)-1,y=v===0&&m===0||r[j]<0,w=v&&m?Math.SQRT1_2:1,_=r[j]<0?-1:1,S=c[1+v]+r[j]*v*w,A=c[4+m]+_*h*m/2+r[j]*m*w,$=A-h/2,k=A+h/2,L=e(S),R=e($),D=e(k),!p)if(QKe(L,L,R,D,s,u,S,S,$,k,c,y))p=h_.width(d.datum,d.datum.text);else continue;if(M=S+_*p*v/2,S=M-p/2,C=M+p/2,L=e(S),N=e(C),QKe(L,N,R,D,s,u,S,C,$,k,c,y))return d.x=v?v*_<0?C:S:M,d.y=m?m*_<0?k:$:A,d.align=FAn[v*_+1],d.baseline=NAn[m*_+1],s.setRange(L,R,N,D),!0}return!1}}function QKe(e,t,n,r,i,a,s,u,f,d,c,h){return!(i.outOfBounds(e,n,t,r)||(h&&a||i).getRange(e,n,t,r))}const mye=0,yye=4,bye=8,wye=0,_ye=1,xye=2,jAn={"top-left":mye+wye,top:mye+_ye,"top-right":mye+xye,left:yye+wye,middle:yye+_ye,right:yye+xye,"bottom-left":bye+wye,bottom:bye+_ye,"bottom-right":bye+xye},BAn={naive:MAn,"reduced-search":PAn,floodfill:IAn};function HAn(e,t,n,r,i,a,s,u,f,d,c){if(!e.length)return e;const h=Math.max(r.length,i.length),p=UAn(r,h),v=VAn(i,h),m=WAn(e[0].datum),y=m==="group"&&e[0].datum.items[f].marktype,w=y==="area",_=GAn(m,y,u,f),S=d===null||d===1/0,C=w&&c==="naive";let $=-1,k=-1;const M=e.map(R=>{const D=S?h_.width(R,R.text):void 0;return $=Math.max($,D),k=Math.max(k,R.fontSize),{datum:R,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:_(R),textWidth:D}});d=d===null||d===1/0?Math.max($,k)+Math.max(...r):d;const A=TAn(t[0],t[1],d);let L;if(!C){n&&M.sort((j,U)=>n(j.datum,U.datum));let R=!1;for(let j=0;j<v.length&&!R;++j)R=v[j]===5||p[j]<0;const D=(m&&s||w)&&e.map(j=>j.datum);L=a.length||D?OAn(A,D||[],a,R,w):kAn(A,s&&M)}const N=w?BAn[c](A,L,s,f):zAn(A,L,v,p);return M.forEach(R=>R.opacity=+N(R)),M}function UAn(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function VAn(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=jAn[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function WAn(e){return e&&e.mark&&e.mark.marktype}function GAn(e,t,n,r){const i=a=>[a.x,a.x,a.x,a.y,a.y,a.y];return e?e==="line"||e==="area"?a=>i(a.datum):t==="line"?a=>{const s=a.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:a=>{const s=a.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const SSe=["x","y","opacity","align","baseline"],amt=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function tTe(e){dn.call(this,null,e)}tTe.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:amt},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:SSe.length,default:SSe}]};tr(tTe,dn,{transform(e,t){function n(a){const s=e[a];return eo(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&xn("Size parameter should be specified as a [width, height] array.");const i=e.as||SSe;return HAn(t.materialize(t.SOURCE).source||[],e.size,e.sort,Mr(e.offset==null?1:e.offset),Mr(e.anchor||amt),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(a=>{const s=a.datum;s[i[0]]=a.x,s[i[1]]=a.y,s[i[2]]=a.opacity,s[i[3]]=a.align,s[i[4]]=a.baseline}),t.reflow(r).modifies(i)}});const qAn=Object.freeze(Object.defineProperty({__proto__:null,label:tTe},Symbol.toStringTag,{value:"Module"}));function omt(e,t){var n=[],r=function(c){return c(u)},i,a,s,u,f,d;if(t==null)n.push(e);else for(i={},a=0,s=e.length;a<s;++a)u=e[a],f=t.map(r),d=i[f],d||(i[f]=d=[],d.dims=f,n.push(d)),d.push(u);return n}function nTe(e){dn.call(this,null,e)}nTe.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};tr(nTe,dn,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=omt(r,e.groupby),a=(e.groupby||[]).map(vf),s=a.length,u=e.as||[vf(e.x),vf(e.y)],f=[];i.forEach(d=>{Xht(d,e.x,e.y,e.bandwidth||.3).forEach(c=>{const h={};for(let p=0;p<s;++p)h[a[p]]=d.dims[p];h[u[0]]=c[0],h[u[1]]=c[1],f.push(Gs(h))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const ESe={linear:BAe,log:Ght,exp:qht,pow:Yht,quad:HAe,poly:Kht},YAn=(e,t)=>e==="poly"?t:e==="quad"?2:1;function rTe(e){dn.call(this,null,e)}rTe.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(ESe)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};tr(rTe,dn,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=omt(r,e.groupby),a=(e.groupby||[]).map(vf),s=e.method||"linear",u=e.order||3,f=YAn(s,u),d=e.as||[vf(e.x),vf(e.y)],c=ESe[s],h=[];let p=e.extent;Ui(ESe,s)||xn("Invalid regression method: "+s),p!=null&&s==="log"&&p[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),p=null),i.forEach(v=>{if(v.length<=f){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const y=c(v,e.x,e.y,u);if(e.params){h.push(Gs({keys:v.dims,coef:y.coef,rSquared:y.rSquared}));return}const w=p||cE(v,e.x),_=S=>{const C={};for(let $=0;$<a.length;++$)C[a[$]]=v.dims[$];C[d[0]]=S[0],C[d[1]]=S[1],h.push(Gs(C))};s==="linear"?w.forEach(S=>_([S,y.predict(S)])):Rue(y.predict,w,25,200).forEach(_)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=h}return n}});const KAn=Object.freeze(Object.defineProperty({__proto__:null,loess:nTe,regression:rTe},Symbol.toStringTag,{value:"Module"})),ak=11102230246251565e-32,Cp=134217729,XAn=(3+8*ak)*ak;function Sye(e,t,n,r,i){let a,s,u,f,d=t[0],c=r[0],h=0,p=0;c>d==c>-d?(a=d,d=t[++h]):(a=c,c=r[++p]);let v=0;if(h<e&&p<n)for(c>d==c>-d?(s=d+a,u=a-(s-d),d=t[++h]):(s=c+a,u=a-(s-c),c=r[++p]),a=s,u!==0&&(i[v++]=u);h<e&&p<n;)c>d==c>-d?(s=a+d,f=s-a,u=a-(s-f)+(d-f),d=t[++h]):(s=a+c,f=s-a,u=a-(s-f)+(c-f),c=r[++p]),a=s,u!==0&&(i[v++]=u);for(;h<e;)s=a+d,f=s-a,u=a-(s-f)+(d-f),d=t[++h],a=s,u!==0&&(i[v++]=u);for(;p<n;)s=a+c,f=s-a,u=a-(s-f)+(c-f),c=r[++p],a=s,u!==0&&(i[v++]=u);return(a!==0||v===0)&&(i[v++]=a),v}function ZAn(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function fq(e){return new Float64Array(e)}const QAn=(3+16*ak)*ak,JAn=(2+12*ak)*ak,eRn=(9+64*ak)*ak*ak,_6=fq(4),JKe=fq(8),eXe=fq(12),tXe=fq(16),j0=fq(4);function tRn(e,t,n,r,i,a,s){let u,f,d,c,h,p,v,m,y,w,_,S,C,$,k,M,A,L;const N=e-i,R=n-i,D=t-a,j=r-a;$=N*j,p=Cp*N,v=p-(p-N),m=N-v,p=Cp*j,y=p-(p-j),w=j-y,k=m*w-($-v*y-m*y-v*w),M=D*R,p=Cp*D,v=p-(p-D),m=D-v,p=Cp*R,y=p-(p-R),w=R-y,A=m*w-(M-v*y-m*y-v*w),_=k-A,h=k-_,_6[0]=k-(_+h)+(h-A),S=$+_,h=S-$,C=$-(S-h)+(_-h),_=C-M,h=C-_,_6[1]=C-(_+h)+(h-M),L=S+_,h=L-S,_6[2]=S-(L-h)+(_-h),_6[3]=L;let U=ZAn(4,_6),H=JAn*s;if(U>=H||-U>=H||(h=e-N,u=e-(N+h)+(h-i),h=n-R,d=n-(R+h)+(h-i),h=t-D,f=t-(D+h)+(h-a),h=r-j,c=r-(j+h)+(h-a),u===0&&f===0&&d===0&&c===0)||(H=eRn*s+XAn*Math.abs(U),U+=N*c+j*u-(D*d+R*f),U>=H||-U>=H))return U;$=u*j,p=Cp*u,v=p-(p-u),m=u-v,p=Cp*j,y=p-(p-j),w=j-y,k=m*w-($-v*y-m*y-v*w),M=f*R,p=Cp*f,v=p-(p-f),m=f-v,p=Cp*R,y=p-(p-R),w=R-y,A=m*w-(M-v*y-m*y-v*w),_=k-A,h=k-_,j0[0]=k-(_+h)+(h-A),S=$+_,h=S-$,C=$-(S-h)+(_-h),_=C-M,h=C-_,j0[1]=C-(_+h)+(h-M),L=S+_,h=L-S,j0[2]=S-(L-h)+(_-h),j0[3]=L;const Y=Sye(4,_6,4,j0,JKe);$=N*c,p=Cp*N,v=p-(p-N),m=N-v,p=Cp*c,y=p-(p-c),w=c-y,k=m*w-($-v*y-m*y-v*w),M=D*d,p=Cp*D,v=p-(p-D),m=D-v,p=Cp*d,y=p-(p-d),w=d-y,A=m*w-(M-v*y-m*y-v*w),_=k-A,h=k-_,j0[0]=k-(_+h)+(h-A),S=$+_,h=S-$,C=$-(S-h)+(_-h),_=C-M,h=C-_,j0[1]=C-(_+h)+(h-M),L=S+_,h=L-S,j0[2]=S-(L-h)+(_-h),j0[3]=L;const Z=Sye(Y,JKe,4,j0,eXe);$=u*c,p=Cp*u,v=p-(p-u),m=u-v,p=Cp*c,y=p-(p-c),w=c-y,k=m*w-($-v*y-m*y-v*w),M=f*d,p=Cp*f,v=p-(p-f),m=f-v,p=Cp*d,y=p-(p-d),w=d-y,A=m*w-(M-v*y-m*y-v*w),_=k-A,h=k-_,j0[0]=k-(_+h)+(h-A),S=$+_,h=S-$,C=$-(S-h)+(_-h),_=C-M,h=C-_,j0[1]=C-(_+h)+(h-M),L=S+_,h=L-S,j0[2]=S-(L-h)+(_-h),j0[3]=L;const Q=Sye(Z,eXe,4,j0,tXe);return tXe[Q-1]}function vee(e,t,n,r,i,a){const s=(t-a)*(n-i),u=(e-i)*(r-a),f=s-u;if(s===0||u===0||s>0!=u>0)return f;const d=Math.abs(s+u);return Math.abs(f)>=QAn*d?f:-tRn(e,t,n,r,i,a,d)}const nXe=Math.pow(2,-52),mee=new Uint32Array(512);class Wie{static from(t,n=oRn,r=sRn){const i=t.length,a=new Float64Array(i*2);for(let s=0;s<i;s++){const u=t[s];a[2*s]=n(u),a[2*s+1]=r(u)}return new Wie(a)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,s=t.length>>1;let u=1/0,f=1/0,d=-1/0,c=-1/0;for(let R=0;R<s;R++){const D=t[2*R],j=t[2*R+1];D<u&&(u=D),j<f&&(f=j),D>d&&(d=D),j>c&&(c=j),this._ids[R]=R}const h=(u+d)/2,p=(f+c)/2;let v=1/0,m,y,w;for(let R=0;R<s;R++){const D=Eye(h,p,t[2*R],t[2*R+1]);D<v&&(m=R,v=D)}const _=t[2*m],S=t[2*m+1];v=1/0;for(let R=0;R<s;R++){if(R===m)continue;const D=Eye(_,S,t[2*R],t[2*R+1]);D<v&&D>0&&(y=R,v=D)}let C=t[2*y],$=t[2*y+1],k=1/0;for(let R=0;R<s;R++){if(R===m||R===y)continue;const D=iRn(_,S,C,$,t[2*R],t[2*R+1]);D<k&&(w=R,k=D)}let M=t[2*w],A=t[2*w+1];if(k===1/0){for(let j=0;j<s;j++)this._dists[j]=t[2*j]-t[0]||t[2*j+1]-t[1];cF(this._ids,this._dists,0,s-1);const R=new Uint32Array(s);let D=0;for(let j=0,U=-1/0;j<s;j++){const H=this._ids[j];this._dists[H]>U&&(R[D++]=H,U=this._dists[H])}this.hull=R.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(vee(_,S,C,$,M,A)<0){const R=y,D=C,j=$;y=w,C=M,$=A,w=R,M=D,A=j}const L=aRn(_,S,C,$,M,A);this._cx=L.x,this._cy=L.y;for(let R=0;R<s;R++)this._dists[R]=Eye(t[2*R],t[2*R+1],L.x,L.y);cF(this._ids,this._dists,0,s-1),this._hullStart=m;let N=3;r[m]=n[w]=y,r[y]=n[m]=w,r[w]=n[y]=m,i[m]=0,i[y]=1,i[w]=2,a.fill(-1),a[this._hashKey(_,S)]=m,a[this._hashKey(C,$)]=y,a[this._hashKey(M,A)]=w,this.trianglesLen=0,this._addTriangle(m,y,w,-1,-1,-1);for(let R=0,D,j;R<this._ids.length;R++){const U=this._ids[R],H=t[2*U],Y=t[2*U+1];if(R>0&&Math.abs(H-D)<=nXe&&Math.abs(Y-j)<=nXe||(D=H,j=Y,U===m||U===y||U===w))continue;let Z=0;for(let ve=0,le=this._hashKey(H,Y);ve<this._hashSize&&(Z=a[(le+ve)%this._hashSize],!(Z!==-1&&Z!==r[Z]));ve++);Z=n[Z];let Q=Z,ee;for(;ee=r[Q],vee(H,Y,t[2*Q],t[2*Q+1],t[2*ee],t[2*ee+1])>=0;)if(Q=ee,Q===Z){Q=-1;break}if(Q===-1)continue;let oe=this._addTriangle(Q,U,r[Q],-1,-1,i[Q]);i[U]=this._legalize(oe+2),i[Q]=oe,N++;let ue=r[Q];for(;ee=r[ue],vee(H,Y,t[2*ue],t[2*ue+1],t[2*ee],t[2*ee+1])<0;)oe=this._addTriangle(ue,U,ee,i[U],-1,i[ue]),i[U]=this._legalize(oe+2),r[ue]=ue,N--,ue=ee;if(Q===Z)for(;ee=n[Q],vee(H,Y,t[2*ee],t[2*ee+1],t[2*Q],t[2*Q+1])<0;)oe=this._addTriangle(ee,U,Q,-1,i[Q],i[ee]),this._legalize(oe+2),i[ee]=oe,r[Q]=Q,N--,Q=ee;this._hullStart=n[U]=Q,r[Q]=n[ue]=U,r[U]=ue,a[this._hashKey(H,Y)]=U,a[this._hashKey(t[2*Q],t[2*Q+1])]=Q}this.hull=new Uint32Array(N);for(let R=0,D=this._hullStart;R<N;R++)this.hull[R]=D,D=r[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(nRn(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,s=0;for(;;){const u=r[t],f=t-t%3;if(s=f+(t+2)%3,u===-1){if(a===0)break;t=mee[--a];continue}const d=u-u%3,c=f+(t+1)%3,h=d+(u+2)%3,p=n[s],v=n[t],m=n[c],y=n[h];if(rRn(i[2*p],i[2*p+1],i[2*v],i[2*v+1],i[2*m],i[2*m+1],i[2*y],i[2*y+1])){n[t]=y,n[u]=p;const _=r[h];if(_===-1){let C=this._hullStart;do{if(this._hullTri[C]===h){this._hullTri[C]=t;break}C=this._hullPrev[C]}while(C!==this._hullStart)}this._link(t,_),this._link(u,r[s]),this._link(s,h);const S=d+(u+1)%3;a<mee.length&&(mee[a++]=S)}else{if(a===0)break;t=mee[--a]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,a,s){const u=this.trianglesLen;return this._triangles[u]=t,this._triangles[u+1]=n,this._triangles[u+2]=r,this._link(u,i),this._link(u+1,a),this._link(u+2,s),this.trianglesLen+=3,u}}function nRn(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function Eye(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function rRn(e,t,n,r,i,a,s,u){const f=e-s,d=t-u,c=n-s,h=r-u,p=i-s,v=a-u,m=f*f+d*d,y=c*c+h*h,w=p*p+v*v;return f*(h*w-y*v)-d*(c*w-y*p)+m*(c*v-h*p)<0}function iRn(e,t,n,r,i,a){const s=n-e,u=r-t,f=i-e,d=a-t,c=s*s+u*u,h=f*f+d*d,p=.5/(s*d-u*f),v=(d*c-u*h)*p,m=(s*h-f*c)*p;return v*v+m*m}function aRn(e,t,n,r,i,a){const s=n-e,u=r-t,f=i-e,d=a-t,c=s*s+u*u,h=f*f+d*d,p=.5/(s*d-u*f),v=e+(d*c-u*h)*p,m=t+(s*h-f*c)*p;return{x:v,y:m}}function cF(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=e[i],s=t[a];let u=i-1;for(;u>=n&&t[e[u]]>s;)e[u+1]=e[u--];e[u+1]=a}else{const i=n+r>>1;let a=n+1,s=r;TB(e,i,a),t[e[n]]>t[e[r]]&&TB(e,n,r),t[e[a]]>t[e[r]]&&TB(e,a,r),t[e[n]]>t[e[a]]&&TB(e,n,a);const u=e[a],f=t[u];for(;;){do a++;while(t[e[a]]<f);do s--;while(t[e[s]]>f);if(s<a)break;TB(e,a,s)}e[n+1]=e[s],e[s]=u,r-a+1>=s-n?(cF(e,t,a,r),cF(e,t,n,s-1)):(cF(e,t,n,s-1),cF(e,t,a,r))}}function TB(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function oRn(e){return e[0]}function sRn(e){return e[1]}const rXe=1e-6;class A5{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>rXe||Math.abs(this._y1-a)>rXe)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class CSe{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let uRn=class{constructor(t,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let a,s;const u=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let y=0,w=0,_=r.length,S,C;y<_;y+=3,w+=2){const $=r[y]*2,k=r[y+1]*2,M=r[y+2]*2,A=t[$],L=t[$+1],N=t[k],R=t[k+1],D=t[M],j=t[M+1],U=N-A,H=R-L,Y=D-A,Z=j-L,Q=(U*Z-H*Y)*2;if(Math.abs(Q)<1e-9){if(a===void 0){a=s=0;for(const oe of n)a+=t[oe*2],s+=t[oe*2+1];a/=n.length,s/=n.length}const ee=1e9*Math.sign((a-A)*Z-(s-L)*Y);S=(A+D)/2-ee*Z,C=(L+j)/2+ee*Y}else{const ee=1/Q,oe=U*U+H*H,ue=Y*Y+Z*Z;S=A+(Z*oe-H*ue)*ee,C=L+(U*ue-Y*oe)*ee}u[w]=S,u[w+1]=C}let f=n[n.length-1],d,c=f*4,h,p=t[2*f],v,m=t[2*f+1];i.fill(0);for(let y=0;y<n.length;++y)f=n[y],d=c,h=p,v=m,c=f*4,p=t[2*f],m=t[2*f+1],i[d+2]=i[c]=v-m,i[d+3]=i[c+1]=p-h}render(t){const n=t==null?t=new A5:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:s,vectors:u}=this;if(a.length<=1)return null;for(let c=0,h=r.length;c<h;++c){const p=r[c];if(p<c)continue;const v=Math.floor(c/3)*2,m=Math.floor(p/3)*2,y=s[v],w=s[v+1],_=s[m],S=s[m+1];this._renderSegment(y,w,_,S,t)}let f,d=a[a.length-1];for(let c=0;c<a.length;++c){f=d,d=a[c];const h=Math.floor(i[d]/3)*2,p=s[h],v=s[h+1],m=f*4,y=this._project(p,v,u[m+2],u[m+3]);y&&this._renderSegment(p,v,y[0],y[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new A5:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new A5:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let s=2;s<a;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new CSe;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,a){let s;const u=this._regioncode(t,n),f=this._regioncode(r,i);u===0&&f===0?(a.moveTo(t,n),a.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,u,f))&&(a.moveTo(s[0],s[1]),a.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let a=0,s=n.length;a<s;a+=2)for(let u=0,f=i.length;u<f;u+=2)if(n[a]===i[u]&&n[a+1]===i[u+1]&&n[(a+2)%s]===i[(u+f-2)%f]&&n[(a+3)%s]===i[(u+f-1)%f]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,s=r[t];if(s===-1)return null;const u=[];let f=s;do{const d=Math.floor(f/3);if(u.push(n[d*2],n[d*2+1]),f=f%3===2?f-2:f+1,a[f]!==t)break;f=i[f]}while(f!==s&&f!==-1);return u}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,a,s,u=n[r-2],f=n[r-1],d,c=this._regioncode(u,f),h,p=0;for(let v=0;v<r;v+=2)if(a=u,s=f,u=n[v],f=n[v+1],d=c,c=this._regioncode(u,f),d===0&&c===0)h=p,p=0,i?i.push(u,f):i=[u,f];else{let m,y,w,_,S;if(d===0){if((m=this._clipSegment(a,s,u,f,d,c))===null)continue;[y,w,_,S]=m}else{if((m=this._clipSegment(u,f,a,s,c,d))===null)continue;[_,S,y,w]=m,h=p,p=this._edgecode(y,w),h&&p&&this._edge(t,h,p,i,i.length),i?i.push(y,w):i=[y,w]}h=p,p=this._edgecode(_,S),h&&p&&this._edge(t,h,p,i,i.length),i?i.push(_,S):i=[_,S]}if(i)h=p,p=this._edgecode(i[0],i[1]),h&&p&&this._edge(t,h,p,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,a,s){const u=a<s;for(u&&([t,n,r,i,a,s]=[r,i,t,n,s,a]);;){if(a===0&&s===0)return u?[r,i,t,n]:[t,n,r,i];if(a&s)return null;let f,d,c=a||s;c&8?(f=t+(r-t)*(this.ymax-n)/(i-n),d=this.ymax):c&4?(f=t+(r-t)*(this.ymin-n)/(i-n),d=this.ymin):c&2?(d=n+(i-n)*(this.xmax-t)/(r-t),f=this.xmax):(d=n+(i-n)*(this.xmin-t)/(r-t),f=this.xmin),a?(t=f,n=d,a=this._regioncode(t,n)):(r=f,i=d,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,a,s){let u=Array.from(n),f;if((f=this._project(u[0],u[1],r,i))&&u.unshift(f[0],f[1]),(f=this._project(u[u.length-2],u[u.length-1],a,s))&&u.push(f[0],f[1]),u=this._clipFinite(t,u))for(let d=0,c=u.length,h,p=this._edgecode(u[c-2],u[c-1]);d<c;d+=2)h=p,p=this._edgecode(u[d],u[d+1]),h&&p&&(d=this._edge(t,h,p,u,d),c=u.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}_edge(t,n,r,i,a){for(;n!==r;){let s,u;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,u=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,u=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,u=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,u=this.ymin;break}(i[a]!==s||i[a+1]!==u)&&this.contains(t,s,u)&&(i.splice(a,0,s,u),a+=2)}return a}_project(t,n,r,i){let a=1/0,s,u,f;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<a&&(f=this.ymin,u=t+(a=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<a&&(f=this.ymax,u=t+(a=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<a&&(u=this.xmax,f=n+(a=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<a&&(u=this.xmin,f=n+(a=s)*i)}return[u,f]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const lRn=2*Math.PI,x6=Math.pow;function cRn(e){return e[0]}function fRn(e){return e[1]}function dRn(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],a=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function hRn(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class iTe{static from(t,n=cRn,r=fRn,i){return new iTe("length"in t?gRn(t,n,r,i):Float64Array.from(pRn(t,n,r,i)))}constructor(t){this._delaunator=new Wie(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&dRn(t)){this.collinear=Int32Array.from({length:n.length/2},(p,v)=>v).sort((p,v)=>n[2*p]-n[2*v]||n[2*p+1]-n[2*v+1]);const f=this.collinear[0],d=this.collinear[this.collinear.length-1],c=[n[2*f],n[2*f+1],n[2*d],n[2*d+1]],h=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let p=0,v=n.length/2;p<v;++p){const m=hRn(n[2*p],n[2*p+1],h);n[2*p]=m[0],n[2*p+1]=m[1]}this._delaunator=new Wie(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let f=0,d=r.length;f<d;++f){const c=a[f%3===2?f-2:f+1];(r[f]===-1||s[c]===-1)&&(s[c]=f)}for(let f=0,d=i.length;f<d;++f)u[i[f]]=f;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new uRn(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:s,collinear:u}=this;if(u){const h=u.indexOf(t);h>0&&(yield u[h-1]),h<u.length-1&&(yield u[h+1]);return}const f=n[t];if(f===-1)return;let d=f,c=-1;do{if(yield c=s[d],d=d%3===2?d-2:d+1,s[d]!==t)return;if(d=a[d],d===-1){const h=r[(i[t]+1)%r.length];h!==c&&(yield h);return}}while(d!==f)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,t,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(t,n,r){const{inedges:i,hull:a,_hullIndex:s,halfedges:u,triangles:f,points:d}=this;if(i[t]===-1||!d.length)return(t+1)%(d.length>>1);let c=t,h=x6(n-d[t*2],2)+x6(r-d[t*2+1],2);const p=i[t];let v=p;do{let m=f[v];const y=x6(n-d[m*2],2)+x6(r-d[m*2+1],2);if(y<h&&(h=y,c=m),v=v%3===2?v-2:v+1,f[v]!==t)break;if(v=u[v],v===-1){if(v=a[(s[t]+1)%a.length],v!==m&&x6(n-d[v*2],2)+x6(r-d[v*2+1],2)<h)return v;break}}while(v!==p);return c}render(t){const n=t==null?t=new A5:void 0,{points:r,halfedges:i,triangles:a}=this;for(let s=0,u=i.length;s<u;++s){const f=i[s];if(f<s)continue;const d=a[s]*2,c=a[f]*2;t.moveTo(r[d],r[d+1]),t.lineTo(r[c],r[c+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new A5:void 0,{points:i}=this;for(let a=0,s=i.length;a<s;a+=2){const u=i[a],f=i[a+1];t.moveTo(u+n,f),t.arc(u,f,n,0,lRn)}return r&&r.value()}renderHull(t){const n=t==null?t=new A5:void 0,{hull:r,points:i}=this,a=r[0]*2,s=r.length;t.moveTo(i[a],i[a+1]);for(let u=1;u<s;++u){const f=2*r[u];t.lineTo(i[f],i[f+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new CSe;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new A5:void 0,{points:i,triangles:a}=this,s=a[t*=3]*2,u=a[t+1]*2,f=a[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[u],i[u+1]),n.lineTo(i[f],i[f+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new CSe;return this.renderTriangle(t,n),n.value()}}function gRn(e,t,n,r){const i=e.length,a=new Float64Array(i*2);for(let s=0;s<i;++s){const u=e[s];a[s*2]=t.call(r,u,s,e),a[s*2+1]=n.call(r,u,s,e)}return a}function*pRn(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}function aTe(e){dn.call(this,null,e)}aTe.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const vRn=[-1e5,-1e5,1e5,1e5];tr(aTe,dn,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:vRn;const a=this.value=iTe.from(r,e.x,e.y).voronoi(i);for(let s=0,u=r.length;s<u;++s){const f=a.cellPolygon(s);r[s][n]=f?mRn(f):null}return t.reflow(e.modified()).modifies(n)}});function mRn(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}const yRn=Object.freeze(Object.defineProperty({__proto__:null,voronoi:aTe},Symbol.toStringTag,{value:"Module"}));var Cye=Math.PI/180,DH=1<<11>>5,Yte=1<<11;function bRn(){var e=[256,256],t,n,r,i,a,s,u,f=smt,d=[],c=Math.random,h={};h.layout=function(){for(var m=p(i3()),y=CRn((e[0]>>5)*e[1]),w=null,_=d.length,S=-1,C=[],$=d.map(M=>({text:t(M),font:n(M),style:i(M),weight:a(M),rotate:s(M),size:~~(r(M)+1e-14),padding:u(M),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:M})).sort((M,A)=>A.size-M.size);++S<_;){var k=$[S];k.x=e[0]*(c()+.5)>>1,k.y=e[1]*(c()+.5)>>1,wRn(m,k,$,S),k.hasText&&v(y,k,w)&&(C.push(k),w?xRn(w,k):w=[{x:k.x+k.x0,y:k.y+k.y0},{x:k.x+k.x1,y:k.y+k.y1}],k.x-=e[0]>>1,k.y-=e[1]>>1)}return C};function p(m){m.width=m.height=1;var y=Math.sqrt(m.getContext("2d").getImageData(0,0,1,1).data.length>>2);m.width=(DH<<5)/y,m.height=Yte/y;var w=m.getContext("2d");return w.fillStyle=w.strokeStyle="red",w.textAlign="center",{context:w,ratio:y}}function v(m,y,w){for(var _=y.x,S=y.y,C=Math.sqrt(e[0]*e[0]+e[1]*e[1]),$=f(e),k=c()<.5?1:-1,M=-k,A,L,N;(A=$(M+=k))&&(L=~~A[0],N=~~A[1],!(Math.min(Math.abs(L),Math.abs(N))>=C));)if(y.x=_+L,y.y=S+N,!(y.x+y.x0<0||y.y+y.y0<0||y.x+y.x1>e[0]||y.y+y.y1>e[1])&&(!w||!_Rn(y,m,e[0]))&&(!w||SRn(y,w))){for(var R=y.sprite,D=y.width>>5,j=e[0]>>5,U=y.x-(D<<4),H=U&127,Y=32-H,Z=y.y1-y.y0,Q=(y.y+y.y0)*j+(U>>5),ee,oe=0;oe<Z;oe++){ee=0;for(var ue=0;ue<=D;ue++)m[Q+ue]|=ee<<Y|(ue<D?(ee=R[oe*D+ue])>>>H:0);Q+=j}return y.sprite=null,!0}return!1}return h.words=function(m){return arguments.length?(d=m,h):d},h.size=function(m){return arguments.length?(e=[+m[0],+m[1]],h):e},h.font=function(m){return arguments.length?(n=MM(m),h):n},h.fontStyle=function(m){return arguments.length?(i=MM(m),h):i},h.fontWeight=function(m){return arguments.length?(a=MM(m),h):a},h.rotate=function(m){return arguments.length?(s=MM(m),h):s},h.text=function(m){return arguments.length?(t=MM(m),h):t},h.spiral=function(m){return arguments.length?(f=$Rn[m]||m,h):f},h.fontSize=function(m){return arguments.length?(r=MM(m),h):r},h.padding=function(m){return arguments.length?(u=MM(m),h):u},h.random=function(m){return arguments.length?(c=m,h):c},h}function wRn(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(DH<<5)/a,Yte/a);var s=0,u=0,f=0,d=n.length,c,h,p,v,m;for(--r;++r<d;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,c=i.measureText(t.text+"m").width*a,p=t.size<<1,t.rotate){var y=Math.sin(t.rotate*Cye),w=Math.cos(t.rotate*Cye),_=c*w,S=c*y,C=p*w,$=p*y;c=Math.max(Math.abs(_+$),Math.abs(_-$))+31>>5<<5,p=~~Math.max(Math.abs(S+C),Math.abs(S-C))}else c=c+31>>5<<5;if(p>f&&(f=p),s+c>=DH<<5&&(s=0,u+=f,f=0),u+p>=Yte)break;i.translate((s+(c>>1))/a,(u+(p>>1))/a),t.rotate&&i.rotate(t.rotate*Cye),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=c,t.height=p,t.xoff=s,t.yoff=u,t.x1=c>>1,t.y1=p>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=c}for(var k=i.getImageData(0,0,(DH<<5)/a,Yte/a).data,M=[];--r>=0;)if(t=n[r],!!t.hasText){for(c=t.width,h=c>>5,p=t.y1-t.y0,v=0;v<p*h;v++)M[v]=0;if(s=t.xoff,s==null)return;u=t.yoff;var A=0,L=-1;for(m=0;m<p;m++){for(v=0;v<c;v++){var N=h*m+(v>>5),R=k[(u+m)*(DH<<5)+(s+v)<<2]?1<<31-v%32:0;M[N]|=R,A|=R}A?L=m:(t.y0++,p--,m--,u++)}t.y1=t.y0+L,t.sprite=M.slice(0,(t.y1-t.y0)*h)}}}function _Rn(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,a=e.x-(i<<4),s=a&127,u=32-s,f=e.y1-e.y0,d=(e.y+e.y0)*n+(a>>5),c,h=0;h<f;h++){c=0;for(var p=0;p<=i;p++)if((c<<u|(p<i?(c=r[h*i+p])>>>s:0))&t[d+p])return!0;d+=n}return!1}function xRn(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function SRn(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function smt(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function ERn(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(a){var s=a<0?-1:1;switch(Math.sqrt(1+4*s*a)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function CRn(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function MM(e){return typeof e=="function"?e:function(){return e}}var $Rn={archimedean:smt,rectangular:ERn};const umt=["x","y","font","fontSize","fontStyle","fontWeight","angle"],kRn=["text","font","rotate","fontSize","fontStyle","fontWeight"];function oTe(e){dn.call(this,bRn(),e)}oTe.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:umt}]};tr(oTe,dn,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&xn("Wordcloud size dimensions must be non-zero.");function n(m){const y=e[m];return eo(y)&&t.modified(y.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||kRn.some(n)))return;const i=t.materialize(t.SOURCE).source,a=this.value,s=e.as||umt;let u=e.fontSize||14,f;if(eo(u)?f=e.fontSizeRange:u=Qp(u),f){const m=u,y=Ms("sqrt")().domain(cE(i,m)).range(f);u=w=>y(m(w))}i.forEach(m=>{m[s[0]]=NaN,m[s[1]]=NaN,m[s[3]]=0});const d=a.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(u).random(iw).layout(),c=a.size(),h=c[0]>>1,p=c[1]>>1,v=d.length;for(let m=0,y,w;m<v;++m)y=d[m],w=y.datum,w[s[0]]=y.x+h,w[s[1]]=y.y+p,w[s[2]]=y.font,w[s[3]]=y.size,w[s[4]]=y.style,w[s[5]]=y.weight,w[s[6]]=y.rotate;return t.reflow(r).modifies(s)}});const ORn=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:oTe},Symbol.toStringTag,{value:"Module"})),ARn=e=>new Uint8Array(e),RRn=e=>new Uint16Array(e),_U=e=>new Uint32Array(e);function TRn(){let e=8,t=[],n=_U(0),r=yee(0,e),i=yee(0,e);return{data:()=>t,seen:()=>n=MRn(n,t.length),add(a){for(let s=0,u=t.length,f=a.length,d;s<f;++s)d=a[s],d._index=u++,t.push(d)},remove(a,s){const u=t.length,f=Array(u-a),d=t;let c,h,p;for(h=0;!s[h]&&h<u;++h)f[h]=t[h],d[h]=h;for(p=h;h<u;++h)c=t[h],s[h]?d[h]=-1:(d[h]=p,r[p]=r[h],i[p]=i[h],f[p]=c,c._index=p++),r[h]=0;return t=f,d},size:()=>t.length,curr:()=>r,prev:()=>i,reset:a=>i[a]=r[a],all:()=>e<257?255:e<65537?65535:4294967295,set(a,s){r[a]|=s},clear(a,s){r[a]&=~s},resize(a,s){const u=r.length;(a>u||s>e)&&(e=Math.max(s,e),r=yee(a,e,r),i=yee(a,e))}}}function MRn(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function yee(e,t,n){const r=(t<257?ARn:t<65537?RRn:_U)(e);return n&&r.set(n),r}function iXe(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,a){const s=this,u=s.bisect(s.range,i.value),f=i.index,d=u[0],c=u[1],h=f.length;let p;for(p=0;p<d;++p)a[f[p]]|=r;for(p=c;p<h;++p)a[f[p]]|=r;return s}}}function aXe(){let e=_U(0),t=[],n=0;function r(u,f,d){if(!f.length)return[];const c=n,h=f.length,p=_U(h);let v=Array(h),m,y,w;for(w=0;w<h;++w)v[w]=u(f[w]),p[w]=w;if(v=PRn(v,p),c)m=t,y=e,t=Array(c+h),e=_U(c+h),LRn(d,m,y,c,v,p,h,t,e);else{if(d>0)for(w=0;w<h;++w)p[w]+=d;t=v,e=p}return n=c+h,{index:p,value:v}}function i(u,f){const d=n;let c,h,p;for(h=0;!f[e[h]]&&h<d;++h);for(p=h;h<d;++h)f[c=e[h]]||(e[p]=c,t[p]=t[h],++p);n=d-u}function a(u){for(let f=0,d=n;f<d;++f)e[f]=u[e[f]]}function s(u,f){let d;return f?d=f.length:(f=t,d=n),[W1n(f,u[0],0,d),qre(f,u[1],0,d)]}return{insert:r,remove:i,bisect:s,reindex:a,index:()=>e,size:()=>n}}function PRn(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],a=e[r];return i<a?-1:i>a?1:0}),Y1n(e,t)}function LRn(e,t,n,r,i,a,s,u,f){let d=0,c=0,h;for(h=0;d<r&&c<s;++h)t[d]<i[c]?(u[h]=t[d],f[h]=n[d++]):(u[h]=i[c],f[h]=a[c++]+e);for(;d<r;++d,++h)u[h]=t[d],f[h]=n[d];for(;c<s;++c,++h)u[h]=i[c],f[h]=a[c]+e}function sTe(e){dn.call(this,TRn(),e),this._indices=null,this._dims=null}sTe.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};tr(sTe,dn,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},a=this._dims=[],s=r.length;let u=0,f,d;for(;u<s;++u)f=n[u].fname,d=i[f]||(i[f]=aXe()),a.push(iXe(d,u,r[u]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,a=this._indices,s=this._dims,u=this.value,f=u.curr(),d=u.prev(),c=u.all(),h=n.rem=n.add,p=n.mod,v=i.length,m={};let y,w,_,S,C,$,k,M,A;if(d.set(f),t.rem.length&&(C=this.remove(e,t,n)),t.add.length&&u.add(t.add),t.mod.length)for($={},S=t.mod,k=0,M=S.length;k<M;++k)$[S[k]._index]=1;for(k=0;k<v;++k)A=r[k],(!s[k]||e.modified("fields",k)||t.modified(A.fields))&&(_=A.fname,(y=m[_])||(a[_]=w=aXe(),m[_]=y=w.insert(A,t.source,0)),s[k]=iXe(w,k,i[k]).onAdd(y,f));for(k=0,M=u.data().length;k<M;++k)C[k]||(d[k]!==f[k]?h.push(k):$[k]&&f[k]!==c&&p.push(k));return u.mask=(1<<v)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,a=this._dims,s=this._indices,u=e.fields,f={},d=n.add,c=i.size()+r.length,h=a.length;let p=i.size(),v,m,y;i.resize(c,h),i.add(r);const w=i.curr(),_=i.prev(),S=i.all();for(v=0;v<h;++v)m=u[v].fname,y=f[m]||(f[m]=s[m].insert(u[v],r,p)),a[v].onAdd(y,w);for(;p<c;++p)_[p]=S,w[p]!==S&&d.push(p)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),a=r.all(),s=e.mod;let u,f,d;for(u=0,f=s.length;u<f;++u)d=s[u]._index,i[d]!==a&&n.push(d)},remove(e,t,n){const r=this._indices,i=this.value,a=i.curr(),s=i.prev(),u=i.all(),f={},d=n.rem,c=t.rem;let h,p,v,m;for(h=0,p=c.length;h<p;++h)v=c[h]._index,f[v]=1,s[v]=m=a[v],a[v]=u,m!==u&&d.push(v);for(v in r)r[v].remove(p,f);return this.reindex(t,p,f),f},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const a=i.remove(t,n);for(const s in r)r[s].reindex(a)})},update(e,t,n){const r=this._dims,i=e.query,a=t.stamp,s=r.length;let u=0,f,d;for(n.filters=0,d=0;d<s;++d)e.modified("query",d)&&(f=d,++u);if(u===1)u=r[f].one,this.incrementOne(r[f],i[f],n.add,n.rem);else for(d=0,u=0;d<s;++d)e.modified("query",d)&&(u|=r[d].one,this.incrementAll(r[d],i[d],a,n.add),n.rem=n.add);return u},incrementAll(e,t,n,r){const i=this.value,a=i.seen(),s=i.curr(),u=i.prev(),f=e.index(),d=e.bisect(e.range),c=e.bisect(t),h=c[0],p=c[1],v=d[0],m=d[1],y=e.one;let w,_,S;if(h<v)for(w=h,_=Math.min(v,p);w<_;++w)S=f[w],a[S]!==n&&(u[S]=s[S],a[S]=n,r.push(S)),s[S]^=y;else if(h>v)for(w=v,_=Math.min(h,m);w<_;++w)S=f[w],a[S]!==n&&(u[S]=s[S],a[S]=n,r.push(S)),s[S]^=y;if(p>m)for(w=Math.max(h,m),_=p;w<_;++w)S=f[w],a[S]!==n&&(u[S]=s[S],a[S]=n,r.push(S)),s[S]^=y;else if(p<m)for(w=Math.max(v,p),_=m;w<_;++w)S=f[w],a[S]!==n&&(u[S]=s[S],a[S]=n,r.push(S)),s[S]^=y;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,a=i.curr(),s=e.index(),u=e.bisect(e.range),f=e.bisect(t),d=f[0],c=f[1],h=u[0],p=u[1],v=e.one;let m,y,w;if(d<h)for(m=d,y=Math.min(h,c);m<y;++m)w=s[m],a[w]^=v,n.push(w);else if(d>h)for(m=h,y=Math.min(d,p);m<y;++m)w=s[m],a[w]^=v,r.push(w);if(c>p)for(m=Math.max(d,p),y=c;m<y;++m)w=s[m],a[w]^=v,n.push(w);else if(c<p)for(m=Math.max(h,c),y=p;m<y;++m)w=s[m],a[w]^=v,r.push(w);e.range=t.slice()}});function uTe(e){dn.call(this,null,e)}uTe.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};tr(uTe,dn,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const a=t.fork(t.ALL),s=r.data(),u=r.curr(),f=r.prev(),d=c=>u[c]&n?null:s[c];return a.filter(a.MOD,d),i&i-1?(a.filter(a.ADD,c=>{const h=u[c]&n;return!h&&h^f[c]&n?s[c]:null}),a.filter(a.REM,c=>{const h=u[c]&n;return h&&!(h^(h^f[c]&n))?s[c]:null})):(a.filter(a.ADD,d),a.filter(a.REM,c=>(u[c]&n)===i?s[c]:null)),a.filter(a.SOURCE,c=>d(c._index))}});const DRn=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:sTe,resolvefilter:uTe},Symbol.toStringTag,{value:"Module"})),IRn="RawCode",OP="Literal",FRn="Property",NRn="Identifier",zRn="ArrayExpression",jRn="BinaryExpression",lmt="CallExpression",BRn="ConditionalExpression",HRn="LogicalExpression",URn="MemberExpression",VRn="ObjectExpression",WRn="UnaryExpression";function T_(e){this.type=e}T_.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=GRn(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function GRn(e){switch(e.type){case zRn:return e.elements;case jRn:case HRn:return[e.left,e.right];case lmt:return[e.callee].concat(e.arguments);case BRn:return[e.test,e.consequent,e.alternate];case URn:return[e.object,e.property];case VRn:return e.properties;case FRn:return[e.key,e.value];case WRn:return[e.argument];case NRn:case OP:case IRn:default:return[]}}var DE,mi,wn,Hp,yu,ale=1,dq=2,AP=3,vT=4,ole=5,_L=6,sm=7,hq=8,qRn=9;DE={};DE[ale]="Boolean";DE[dq]="<end>";DE[AP]="Identifier";DE[vT]="Keyword";DE[ole]="Null";DE[_L]="Numeric";DE[sm]="Punctuator";DE[hq]="String";DE[qRn]="RegularExpression";var YRn="ArrayExpression",KRn="BinaryExpression",XRn="CallExpression",ZRn="ConditionalExpression",cmt="Identifier",QRn="Literal",JRn="LogicalExpression",e3n="MemberExpression",t3n="ObjectExpression",n3n="Property",r3n="UnaryExpression",Dh="Unexpected token %0",i3n="Unexpected number",a3n="Unexpected string",o3n="Unexpected identifier",s3n="Unexpected reserved word",u3n="Unexpected end of input",$Se="Invalid regular expression",$ye="Invalid regular expression: missing /",fmt="Octal literals are not allowed in strict mode.",l3n="Duplicate data property in object literal not allowed in strict mode",Lg="ILLEGAL",sW="Disabled.",c3n=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),f3n=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function sle(e,t){if(!e)throw new Error("ASSERT: "+t)}function N$(e){return e>=48&&e<=57}function lTe(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function xU(e){return"01234567".indexOf(e)>=0}function d3n(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function uW(e){return e===10||e===13||e===8232||e===8233}function gq(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&c3n.test(String.fromCharCode(e))}function Gie(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&f3n.test(String.fromCharCode(e))}const h3n={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function dmt(){for(;wn<Hp;){const e=mi.charCodeAt(wn);if(d3n(e)||uW(e))++wn;else break}}function kSe(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)wn<Hp&&lTe(mi[wn])?(r=mi[wn++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Os({},Dh,Lg);return String.fromCharCode(i)}function g3n(){var e,t,n,r;for(e=mi[wn],t=0,e==="}"&&Os({},Dh,Lg);wn<Hp&&(e=mi[wn++],!!lTe(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Os({},Dh,Lg),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function hmt(){var e,t;for(e=mi.charCodeAt(wn++),t=String.fromCharCode(e),e===92&&(mi.charCodeAt(wn)!==117&&Os({},Dh,Lg),++wn,e=kSe("u"),(!e||e==="\\"||!gq(e.charCodeAt(0)))&&Os({},Dh,Lg),t=e);wn<Hp&&(e=mi.charCodeAt(wn),!!Gie(e));)++wn,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),mi.charCodeAt(wn)!==117&&Os({},Dh,Lg),++wn,e=kSe("u"),(!e||e==="\\"||!Gie(e.charCodeAt(0)))&&Os({},Dh,Lg),t+=e);return t}function p3n(){var e,t;for(e=wn++;wn<Hp;){if(t=mi.charCodeAt(wn),t===92)return wn=e,hmt();if(Gie(t))++wn;else break}return mi.slice(e,wn)}function v3n(){var e,t,n;return e=wn,t=mi.charCodeAt(wn)===92?hmt():p3n(),t.length===1?n=AP:h3n.hasOwnProperty(t)?n=vT:t==="null"?n=ole:t==="true"||t==="false"?n=ale:n=AP,{type:n,value:t,start:e,end:wn}}function kye(){var e=wn,t=mi.charCodeAt(wn),n,r=mi[wn],i,a,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++wn,{type:sm,value:String.fromCharCode(t),start:e,end:wn};default:if(n=mi.charCodeAt(wn+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return wn+=2,{type:sm,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:wn};case 33:case 61:return wn+=2,mi.charCodeAt(wn)===61&&++wn,{type:sm,value:mi.slice(e,wn),start:e,end:wn}}}if(s=mi.substr(wn,4),s===">>>=")return wn+=4,{type:sm,value:s,start:e,end:wn};if(a=s.substr(0,3),a===">>>"||a==="<<="||a===">>=")return wn+=3,{type:sm,value:a,start:e,end:wn};if(i=a.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return wn+=2,{type:sm,value:i,start:e,end:wn};if(i==="//"&&Os({},Dh,Lg),"<>=!+-*%&|^/".indexOf(r)>=0)return++wn,{type:sm,value:r,start:e,end:wn};Os({},Dh,Lg)}function m3n(e){let t="";for(;wn<Hp&&lTe(mi[wn]);)t+=mi[wn++];return t.length===0&&Os({},Dh,Lg),gq(mi.charCodeAt(wn))&&Os({},Dh,Lg),{type:_L,value:parseInt("0x"+t,16),start:e,end:wn}}function y3n(e){let t="0"+mi[wn++];for(;wn<Hp&&xU(mi[wn]);)t+=mi[wn++];return(gq(mi.charCodeAt(wn))||N$(mi.charCodeAt(wn)))&&Os({},Dh,Lg),{type:_L,value:parseInt(t,8),octal:!0,start:e,end:wn}}function oXe(){var e,t,n;if(n=mi[wn],sle(N$(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=wn,e="",n!=="."){if(e=mi[wn++],n=mi[wn],e==="0"){if(n==="x"||n==="X")return++wn,m3n(t);if(xU(n))return y3n(t);n&&N$(n.charCodeAt(0))&&Os({},Dh,Lg)}for(;N$(mi.charCodeAt(wn));)e+=mi[wn++];n=mi[wn]}if(n==="."){for(e+=mi[wn++];N$(mi.charCodeAt(wn));)e+=mi[wn++];n=mi[wn]}if(n==="e"||n==="E")if(e+=mi[wn++],n=mi[wn],(n==="+"||n==="-")&&(e+=mi[wn++]),N$(mi.charCodeAt(wn)))for(;N$(mi.charCodeAt(wn));)e+=mi[wn++];else Os({},Dh,Lg);return gq(mi.charCodeAt(wn))&&Os({},Dh,Lg),{type:_L,value:parseFloat(e),start:t,end:wn}}function b3n(){var e="",t,n,r,i,a=!1;for(t=mi[wn],sle(t==="'"||t==='"',"String literal must starts with a quote"),n=wn,++wn;wn<Hp;)if(r=mi[wn++],r===t){t="";break}else if(r==="\\")if(r=mi[wn++],!r||!uW(r.charCodeAt(0)))switch(r){case"u":case"x":mi[wn]==="{"?(++wn,e+=g3n()):e+=kSe(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:xU(r)?(i="01234567".indexOf(r),i!==0&&(a=!0),wn<Hp&&xU(mi[wn])&&(a=!0,i=i*8+"01234567".indexOf(mi[wn++]),"0123".indexOf(r)>=0&&wn<Hp&&xU(mi[wn])&&(i=i*8+"01234567".indexOf(mi[wn++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&mi[wn]===`
`&&++wn;else{if(uW(r.charCodeAt(0)))break;e+=r}return t!==""&&Os({},Dh,Lg),{type:hq,value:e,octal:a,start:n,end:wn}}function w3n(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Os({},$Se)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Os({},$Se)}try{return new RegExp(e,t)}catch{return null}}function _3n(){var e,t,n,r,i;for(e=mi[wn],sle(e==="/","Regular expression literal must start with a slash"),t=mi[wn++],n=!1,r=!1;wn<Hp;)if(e=mi[wn++],t+=e,e==="\\")e=mi[wn++],uW(e.charCodeAt(0))&&Os({},$ye),t+=e;else if(uW(e.charCodeAt(0)))Os({},$ye);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Os({},$ye),i=t.substr(1,t.length-2),{value:i,literal:t}}function x3n(){var e,t,n;for(t="",n="";wn<Hp&&(e=mi[wn],!!Gie(e.charCodeAt(0)));)++wn,e==="\\"&&wn<Hp?Os({},Dh,Lg):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Os({},$Se,n),{value:n,literal:t}}function S3n(){var e,t,n,r;return yu=null,dmt(),e=wn,t=_3n(),n=x3n(),r=w3n(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:wn}}function E3n(e){return e.type===AP||e.type===vT||e.type===ale||e.type===ole}function gmt(){if(dmt(),wn>=Hp)return{type:dq,start:wn,end:wn};const e=mi.charCodeAt(wn);return gq(e)?v3n():e===40||e===41||e===59?kye():e===39||e===34?b3n():e===46?N$(mi.charCodeAt(wn+1))?oXe():kye():N$(e)?oXe():kye()}function vm(){const e=yu;return wn=e.end,yu=gmt(),wn=e.end,e}function pmt(){const e=wn;yu=gmt(),wn=e}function C3n(e){const t=new T_(YRn);return t.elements=e,t}function sXe(e,t,n){const r=new T_(e==="||"||e==="&&"?JRn:KRn);return r.operator=e,r.left=t,r.right=n,r}function $3n(e,t){const n=new T_(XRn);return n.callee=e,n.arguments=t,n}function k3n(e,t,n){const r=new T_(ZRn);return r.test=e,r.consequent=t,r.alternate=n,r}function cTe(e){const t=new T_(cmt);return t.name=e,t}function IH(e){const t=new T_(QRn);return t.value=e.value,t.raw=mi.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function uXe(e,t,n){const r=new T_(e3n);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function O3n(e){const t=new T_(t3n);return t.properties=e,t}function lXe(e,t,n){const r=new T_(n3n);return r.key=t,r.value=n,r.kind=e,r}function A3n(e,t){const n=new T_(r3n);return n.operator=e,n.argument=t,n.prefix=!0,n}function Os(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(a,s)=>(sle(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=wn,n.description=i,n}function ule(e){e.type===dq&&Os(e,u3n),e.type===_L&&Os(e,i3n),e.type===hq&&Os(e,a3n),e.type===AP&&Os(e,o3n),e.type===vT&&Os(e,s3n),Os(e,Dh,e.value)}function Up(e){const t=vm();(t.type!==sm||t.value!==e)&&ule(t)}function Al(e){return yu.type===sm&&yu.value===e}function Oye(e){return yu.type===vT&&yu.value===e}function R3n(){const e=[];for(wn=yu.start,Up("[");!Al("]");)Al(",")?(vm(),e.push(null)):(e.push(RP()),Al("]")||Up(","));return vm(),C3n(e)}function cXe(){wn=yu.start;const e=vm();return e.type===hq||e.type===_L?(e.octal&&Os(e,fmt),IH(e)):cTe(e.value)}function T3n(){var e,t,n,r;if(wn=yu.start,e=yu,e.type===AP)return n=cXe(),Up(":"),r=RP(),lXe("init",n,r);if(e.type===dq||e.type===sm)ule(e);else return t=cXe(),Up(":"),r=RP(),lXe("init",t,r)}function M3n(){var e=[],t,n,r,i={},a=String;for(wn=yu.start,Up("{");!Al("}");)t=T3n(),t.key.type===cmt?n=t.key.name:n=a(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Os({},l3n):i[r]=!0,e.push(t),Al("}")||Up(",");return Up("}"),O3n(e)}function P3n(){Up("(");const e=fTe();return Up(")"),e}const L3n={if:1};function D3n(){var e,t,n;if(Al("("))return P3n();if(Al("["))return R3n();if(Al("{"))return M3n();if(e=yu.type,wn=yu.start,e===AP||L3n[yu.value])n=cTe(vm().value);else if(e===hq||e===_L)yu.octal&&Os(yu,fmt),n=IH(vm());else{if(e===vT)throw new Error(sW);e===ale?(t=vm(),t.value=t.value==="true",n=IH(t)):e===ole?(t=vm(),t.value=null,n=IH(t)):Al("/")||Al("/=")?(n=IH(S3n()),pmt()):ule(vm())}return n}function I3n(){const e=[];if(Up("("),!Al(")"))for(;wn<Hp&&(e.push(RP()),!Al(")"));)Up(",");return Up(")"),e}function F3n(){wn=yu.start;const e=vm();return E3n(e)||ule(e),cTe(e.value)}function N3n(){return Up("."),F3n()}function z3n(){Up("[");const e=fTe();return Up("]"),e}function j3n(){var e,t,n;for(e=D3n();;)if(Al("."))n=N3n(),e=uXe(".",e,n);else if(Al("("))t=I3n(),e=$3n(e,t);else if(Al("["))n=z3n(),e=uXe("[",e,n);else break;return e}function fXe(){const e=j3n();if(yu.type===sm&&(Al("++")||Al("--")))throw new Error(sW);return e}function Kte(){var e,t;if(yu.type!==sm&&yu.type!==vT)t=fXe();else{if(Al("++")||Al("--"))throw new Error(sW);if(Al("+")||Al("-")||Al("~")||Al("!"))e=vm(),t=Kte(),t=A3n(e.value,t);else{if(Oye("delete")||Oye("void")||Oye("typeof"))throw new Error(sW);t=fXe()}}return t}function dXe(e){let t=0;if(e.type!==sm&&e.type!==vT)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function B3n(){var e,t,n,r,i,a,s,u,f,d;if(e=yu,f=Kte(),r=yu,i=dXe(r),i===0)return f;for(r.prec=i,vm(),t=[e,yu],s=Kte(),a=[f,r,s];(i=dXe(yu))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)s=a.pop(),u=a.pop().value,f=a.pop(),t.pop(),n=sXe(u,f,s),a.push(n);r=vm(),r.prec=i,a.push(r),t.push(yu),n=Kte(),a.push(n)}for(d=a.length-1,n=a[d],t.pop();d>1;)t.pop(),n=sXe(a[d-1].value,a[d-2],n),d-=2;return n}function RP(){var e,t,n;return e=B3n(),Al("?")&&(vm(),t=RP(),Up(":"),n=RP(),e=k3n(e,t,n)),e}function fTe(){const e=RP();if(Al(","))throw new Error(sW);return e}function dTe(e){mi=e,wn=0,Hp=mi.length,yu=null,pmt();const t=fTe();if(yu.type!==dq)throw new Error("Unexpect token after expression.");return t}var vmt={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function mmt(e){function t(s,u,f,d){let c=e(u[0]);return f&&(c=f+"("+c+")",f.lastIndexOf("new ",0)===0&&(c="("+c+")")),c+"."+s+(d<0?"":d===0?"()":"("+u.slice(1).map(e).join(",")+")")}function n(s,u,f){return d=>t(s,d,u,f)}const r="new Date",i="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&xn("Missing arguments to clamp function."),s.length>3&&xn("Too many arguments to clamp function.");const u=s.map(e);return"Math.max("+u[1]+", Math.min("+u[2]+","+u[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:a,test:n("test",a),if:function(s){s.length<3&&xn("Missing arguments to if function."),s.length>3&&xn("Too many arguments to if function.");const u=s.map(e);return"("+u[0]+"?"+u[1]+":"+u[2]+")"}}}function H3n(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function ymt(e){e=e||{};const t=e.allowed?C_(e.allowed):{},n=e.forbidden?C_(e.forbidden):{},r=e.constants||vmt,i=(e.functions||mmt)(h),a=e.globalvar,s=e.fieldvar,u=eo(a)?a:m=>`${a}["${m}"]`;let f={},d={},c=0;function h(m){if(Pr(m))return m;const y=p[m.type];return y==null&&xn("Unsupported type: "+m.type),y(m)}const p={Literal:m=>m.raw,Identifier:m=>{const y=m.name;return c>0?y:Ui(n,y)?xn("Illegal identifier: "+y):Ui(r,y)?r[y]:Ui(t,y)?y:(f[y]=1,u(y))},MemberExpression:m=>{const y=!m.computed,w=h(m.object);y&&(c+=1);const _=h(m.property);return w===s&&(d[H3n(_)]=1),y&&(c-=1),w+(y?"."+_:"["+_+"]")},CallExpression:m=>{m.callee.type!=="Identifier"&&xn("Illegal callee type: "+m.callee.type);const y=m.callee.name,w=m.arguments,_=Ui(i,y)&&i[y];return _||xn("Unrecognized function: "+y),eo(_)?_(w):_+"("+w.map(h).join(",")+")"},ArrayExpression:m=>"["+m.elements.map(h).join(",")+"]",BinaryExpression:m=>"("+h(m.left)+" "+m.operator+" "+h(m.right)+")",UnaryExpression:m=>"("+m.operator+h(m.argument)+")",ConditionalExpression:m=>"("+h(m.test)+"?"+h(m.consequent)+":"+h(m.alternate)+")",LogicalExpression:m=>"("+h(m.left)+m.operator+h(m.right)+")",ObjectExpression:m=>"{"+m.properties.map(h).join(",")+"}",Property:m=>{c+=1;const y=h(m.key);return c-=1,y+":"+h(m.value)}};function v(m){const y={code:h(m),globals:Object.keys(f),fields:Object.keys(d)};return f={},d={},y}return v.functions=i,v.constants=r,v}function Aye(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function U3n(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function V3n(e){let t,n,r;e.length!==2?(t=Aye,n=(u,f)=>Aye(e(u),f),r=(u,f)=>e(u)-f):(t=e===Aye||e===U3n?e:W3n,n=e,r=e);function i(u,f,d=0,c=u.length){if(d<c){if(t(f,f)!==0)return c;do{const h=d+c>>>1;n(u[h],f)<0?d=h+1:c=h}while(d<c)}return d}function a(u,f,d=0,c=u.length){if(d<c){if(t(f,f)!==0)return c;do{const h=d+c>>>1;n(u[h],f)<=0?d=h+1:c=h}while(d<c)}return d}function s(u,f,d=0,c=u.length){const h=i(u,f,d,c-1);return h>d&&r(u[h-1],f)>-r(u[h],f)?h-1:h}return{left:i,center:s,right:a}}function W3n(){return 0}function G3n(e,...t){e=new Yre(e),t=t.map(q3n);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function q3n(e){return e instanceof Yre?e:new Yre(e)}function Y3n(...e){const t=new Yre;for(const n of e)for(const r of n)t.add(r);return t}const hTe="intersect",hXe="union",K3n="vlMulti",X3n="vlPoint",gXe="or",Z3n="and",xS="_vgsid_",lW=Rm(xS),Q3n="E",J3n="R",eTn="R-E",tTn="R-LE",nTn="R-RE",qie="index:unit";function pXe(e,t){for(var n=t.fields,r=t.values,i=n.length,a=0,s,u;a<i;++a)if(u=n[a],u.getter=Rm.getter||Rm(u.field),s=u.getter(e),t3(s)&&(s=Ip(s)),t3(r[a])&&(r[a]=Ip(r[a])),t3(r[a][0])&&(r[a]=r[a].map(Ip)),u.type===Q3n){if(En(r[a])?r[a].indexOf(s)<0:s!==r[a])return!1}else if(u.type===J3n){if(!oF(s,r[a]))return!1}else if(u.type===nTn){if(!oF(s,r[a],!0,!1))return!1}else if(u.type===eTn){if(!oF(s,r[a],!1,!1))return!1}else if(u.type===tTn&&!oF(s,r[a],!1,!0))return!1;return!0}function rTn(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],a=r?r[qie]&&r[qie].value:void 0,s=n===hTe,u=i.length,f=0,d,c,h,p,v;f<u;++f)if(d=i[f],a&&s){if(c=c||{},h=c[p=d.unit]||0,h===-1)continue;if(v=pXe(t,d),c[p]=v?-1:++h,v&&a.size===1)return!0;if(!v&&h===a.get(p).count)return!1}else if(v=pXe(t,d),s^v)return v;return u&&s}const bmt=V3n(lW),iTn=bmt.left,aTn=bmt.right;function oTn(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],a=r?r[qie]&&r[qie].value:void 0,s=n===hTe,u=lW(t),f=iTn(i,u);if(f===i.length||lW(i[f])!==u)return!1;if(a&&s){if(a.size===1)return!0;if(aTn(i,u)-f<a.size)return!1}return!0}function sTn(e,t){return e.map(n=>Qa(t.fields?{values:t.fields.map(r=>(r.getter||(r.getter=Rm(r.field)))(n.datum))}:{[xS]:lW(n.datum)},t))}function uTn(e,t,n,r){for(var i=this.context.data[e],a=i?i.values.value:[],s={},u={},f={},d,c,h,p,v,m,y,w,_,S,C=a.length,$=0,k,M;$<C;++$)if(d=a[$],p=d.unit,c=d.fields,h=d.values,c&&h){for(k=0,M=c.length;k<M;++k)v=c[k],y=s[v.field]||(s[v.field]={}),w=y[p]||(y[p]=[]),f[v.field]=_=v.type.charAt(0),S=Rye[`${_}_union`],y[p]=S(w,Mr(h[k]));n&&(w=u[p]||(u[p]=[]),w.push(Mr(h).reduce((A,L,N)=>(A[c[N].field]=L,A),{})))}else v=xS,m=lW(d),y=s[v]||(s[v]={}),w=y[p]||(y[p]=[]),w.push(m),n&&(w=u[p]||(u[p]=[]),w.push({[xS]:m}));if(t=t||hXe,s[xS]?s[xS]=Rye[`${xS}_${t}`](...Object.values(s[xS])):Object.keys(s).forEach(A=>{s[A]=Object.keys(s[A]).map(L=>s[A][L]).reduce((L,N)=>L===void 0?N:Rye[`${f[A]}_${t}`](L,N))}),a=Object.keys(u),n&&a.length){const A=r?X3n:K3n;s[A]=t===hXe?{[gXe]:a.reduce((L,N)=>(L.push(...u[N]),L),[])}:{[Z3n]:a.map(L=>({[gXe]:u[L]}))}}return s}var Rye={[`${xS}_union`]:Y3n,[`${xS}_intersect`]:G3n,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=Ip(t[0]),r=Ip(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=Ip(t[0]),r=Ip(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const lTn=":",cTn="@";function gTe(e,t,n,r){t[0].type!==OP&&xn("First argument to selection functions must be a string literal.");const i=t[0].value,a=t.length>=2&&es(t).value,s="unit",u=cTn+s,f=lTn+i;a===hTe&&!Ui(r,u)&&(r[u]=n.getData(i).indataRef(n,s)),Ui(r,f)||(r[f]=n.getData(i).tuplesRef())}function wmt(e){const t=this.context.data[e];return t?t.values.value:[]}function fTn(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function dTn(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(nw).insert(t)),1}function hTn(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const pq=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},gTn=pq("format"),_mt=pq("timeFormat"),pTn=pq("utcFormat"),vTn=pq("timeParse"),mTn=pq("utcParse"),bee=new Date(2e3,0,1);function lle(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(bee.setYear(2e3),bee.setMonth(e),bee.setDate(t),_mt.call(this,bee,n))}function yTn(e){return lle.call(this,e,1,"%B")}function bTn(e){return lle.call(this,e,1,"%b")}function wTn(e){return lle.call(this,0,2+e,"%A")}function _Tn(e){return lle.call(this,0,2+e,"%a")}const xTn=":",STn="@",OSe="%",xmt="$";function pTe(e,t,n,r){t[0].type!==OP&&xn("First argument to data functions must be a string literal.");const i=t[0].value,a=xTn+i;if(!Ui(a,r))try{r[a]=n.getData(i).tuplesRef()}catch{}}function ETn(e,t,n,r){t[0].type!==OP&&xn("First argument to indata must be a string literal."),t[1].type!==OP&&xn("Second argument to indata must be a string literal.");const i=t[0].value,a=t[1].value,s=STn+a;Ui(s,r)||(r[s]=n.getData(i).indataRef(n,a))}function Sm(e,t,n,r){if(t[0].type===OP)vXe(n,r,t[0].value);else for(e in n.scales)vXe(n,r,e)}function vXe(e,t,n){const r=OSe+n;if(!Ui(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Ik(e,t){if(eo(e))return e;if(Pr(e)){const n=t.scales[e];return n&&N_n(n.value)?n.value:void 0}}function CTn(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Sm,n._range=Sm,n._scale=Sm;const r=i=>"_["+(i.type===OP?ar(OSe+i.value):ar(OSe)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function vTe(e,t){return function(n,r,i){if(n){const a=Ik(n,(i||this).context);return a&&a.path[e](r)}else return t(r)}}const $Tn=vTe("area",QCn),kTn=vTe("bounds",n$n),OTn=vTe("centroid",u$n);function ATn(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function mTe(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function RTn(){return mTe(this.context.dataflow,"warn",arguments)}function TTn(){return mTe(this.context.dataflow,"info",arguments)}function MTn(){return mTe(this.context.dataflow,"debug",arguments)}function Tye(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ASe(e){const t=x3(e),n=Tye(t.r),r=Tye(t.g),i=Tye(t.b);return .2126*n+.7152*r+.0722*i}function PTn(e,t){const n=ASe(e),r=ASe(t),i=Math.max(n,r),a=Math.min(n,r);return(i+.05)/(a+.05)}function LTn(){const e=[].slice.call(arguments);return e.unshift({}),Qa(...e)}function Smt(e,t){return e===t||e!==e&&t!==t?!0:En(e)?En(t)&&e.length===t.length?DTn(e,t):!1:Gr(e)&&Gr(t)?Emt(e,t):!1}function DTn(e,t){for(let n=0,r=e.length;n<r;++n)if(!Smt(e[n],t[n]))return!1;return!0}function Emt(e,t){for(const n in e)if(!Smt(e[n],t[n]))return!1;return!0}function mXe(e){return t=>Emt(e,t)}function ITn(e,t,n,r,i,a){const s=this.context.dataflow,u=this.context.data[e],f=u.input,d=s.stamp();let c=u.changes,h,p;if(s._trigger===!1||!(f.value.length||t||r))return 0;if((!c||c.stamp<d)&&(u.changes=c=s.changeset(),c.stamp=d,s.runAfter(()=>{u.modified=!0,s.pulse(f,c).run()},!0,1)),n&&(h=n===!0?nw:En(n)||xue(n)?n:mXe(n),c.remove(h)),t&&c.insert(t),r&&(h=mXe(r),f.value.some(h)?c.remove(h):c.insert(r)),i)for(p in a)c.modify(i,p,a[p]);return 1}function FTn(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+r*r)}function NTn(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const yXe={};function zTn(e,t){const n=yXe[t]||(yXe[t]=Rm(t));return En(e)?e.map(n):n(e)}function yTe(e){return En(e)||ArrayBuffer.isView(e)?e:null}function bTe(e){return yTe(e)||(Pr(e)?e:null)}function jTn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return yTe(e).join(...n)}function BTn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bTe(e).indexOf(...n)}function HTn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bTe(e).lastIndexOf(...n)}function UTn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return bTe(e).slice(...n)}function VTn(e,t,n){return eo(n)&&xn("Function argument passed to replace."),String(e).replace(t,n)}function WTn(e){return yTe(e).slice().reverse()}function GTn(e,t,n){return ARe(e||0,t||0,n||0)}function qTn(e,t){const n=Ik(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function YTn(e,t){const n=Ik(e,(t||this).context);return n?n.copy():void 0}function KTn(e,t){const n=Ik(e,(t||this).context);return n?n.domain():[]}function XTn(e,t,n){const r=Ik(e,(n||this).context);return r?En(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function ZTn(e,t){const n=Ik(e,(t||this).context);return n&&n.range?n.range():[]}function QTn(e,t,n){const r=Ik(e,(n||this).context);return r?r(t):void 0}function JTn(e,t,n,r,i){e=Ik(e,(i||this).context);const a=$pt(t,n);let s=e.domain(),u=s[0],f=es(s),d=Zp;return f-u?d=gpt(e,u,f):e=(e.interpolator?Ms("sequential")().interpolator(e.interpolator()):Ms("linear")().interpolate(e.interpolate()).range(e.range())).domain([u=0,f=1]),e.ticks&&(s=e.ticks(+r||15),u!==s[0]&&s.unshift(u),f!==es(s)&&s.push(f)),s.forEach(c=>a.stop(d(c),e(c))),a}function e4n(e,t,n){const r=Ik(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function t4n(e){let t=null;return function(n){return n?eW(n,t=t||UN(e)):e}}const Cmt=e=>e.data;function $mt(e,t){const n=wmt.call(t,e);return n.root&&n.root.lookup||{}}function n4n(e,t,n){const r=$mt(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(Cmt):void 0}function r4n(e,t){const n=$mt(e,this)[t];return n?n.ancestors().map(Cmt):void 0}const kmt=()=>typeof window<"u"&&window||null;function i4n(){const e=kmt();return e?e.screen:{}}function a4n(){const e=kmt();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function o4n(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function Omt(e,t,n){if(!e)return[];const[r,i]=e,a=new vd().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return v0t(s,a,s4n(t))}function s4n(e){let t=null;if(e){const n=Mr(e.marktype),r=Mr(e.markname);t=i=>(!n.length||n.some(a=>i.marktype===a))&&(!r.length||r.some(a=>i.name===a))}return t}function u4n(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=Mr(e);const i=e[e.length-1];return i===void 0||Math.sqrt((i[0]-t)**2+(i[1]-n)**2)>r?[...e,[t,n]]:e}function l4n(e){return Mr(e).reduce((t,n,r)=>{let[i,a]=n;return t+=r==0?`M ${i},${a} `:r===e.length-1?" Z":`L ${i},${a} `},"")}function c4n(e,t,n){const{x:r,y:i,mark:a}=n,s=new vd().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[f,d]of t)f<s.x1&&(s.x1=f),f>s.x2&&(s.x2=f),d<s.y1&&(s.y1=d),d>s.y2&&(s.y2=d);return s.translate(r,i),Omt([[s.x1,s.y1],[s.x2,s.y2]],e,a).filter(f=>f4n(f.x,f.y,t))}function f4n(e,t,n){let r=0;for(let i=0,a=n.length-1;i<n.length;a=i++){const[s,u]=n[a],[f,d]=n[i];d>t!=u>t&&e<(s-f)*(t-d)/(u-d)+f&&r++}return r&1}const cW={random(){return iw()},cumulativeNormal:kue,cumulativeLogNormal:DAe,cumulativeUniform:zAe,densityNormal:RAe,densityLogNormal:LAe,densityUniform:NAe,quantileNormal:Oue,quantileLogNormal:IAe,quantileUniform:jAe,sampleNormal:$ue,sampleLogNormal:PAe,sampleUniform:FAe,isArray:En,isBoolean:hT,isDate:t3,isDefined(e){return e!==void 0},isNumber:Mu,isObject:Gr,isRegExp:bdt,isString:Pr,isTuple:xue,isValid(e){return e!=null&&e===e},toBoolean:lAe,toDate(e){return cAe(e)},toNumber:Ip,toString:fAe,indexof:BTn,join:jTn,lastindexof:HTn,replace:VTn,reverse:WTn,slice:UTn,flush:mdt,lerp:wdt,merge:LTn,pad:Sdt,peek:es,pluck:zTn,span:UG,inrange:oF,truncate:Edt,rgb:x3,lab:bre,hcl:wre,hsl:mre,luminance:ASe,contrast:PTn,sequence:ny,format:gTn,utcFormat:pTn,utcParse:mTn,utcOffset:rht,utcSequence:oht,timeFormat:_mt,timeParse:vTn,timeOffset:nht,timeSequence:aht,timeUnitSpecifier:Wdt,monthFormat:yTn,monthAbbrevFormat:bTn,dayFormat:wTn,dayAbbrevFormat:_Tn,quarter:hdt,utcquarter:gdt,week:qdt,utcweek:Xdt,dayofyear:Gdt,utcdayofyear:Kdt,warn:RTn,info:TTn,debug:MTn,extent(e){return cE(e)},inScope:ATn,intersect:Omt,clampRange:pdt,pinchDistance:FTn,pinchAngle:NTn,screen:i4n,containerSize:o4n,windowSize:a4n,bandspace:GTn,setdata:dTn,pathShape:t4n,panLinear:ldt,panLog:cdt,panPow:fdt,panSymlog:ddt,zoomLinear:rAe,zoomLog:iAe,zoomPow:Gre,zoomSymlog:aAe,encode:hTn,modify:ITn,lassoAppend:u4n,lassoPath:l4n,intersectLasso:c4n},d4n=["view","item","group","xy","x","y"],h4n="event.vega.",Amt="this.",wTe={},Rmt={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${ar(xmt+e)}]`,functions:g4n,constants:vmt,visitors:wTe},RSe=ymt(Rmt);function g4n(e){const t=mmt(e);d4n.forEach(n=>t[n]=h4n+n);for(const n in cW)t[n]=Amt+n;return Qa(t,CTn(e,cW,wTe)),t}function bd(e,t,n){return arguments.length===1?cW[e]:(cW[e]=t,n&&(wTe[e]=n),RSe&&(RSe.functions[e]=Amt+e),this)}bd("bandwidth",qTn,Sm);bd("copy",YTn,Sm);bd("domain",KTn,Sm);bd("range",ZTn,Sm);bd("invert",XTn,Sm);bd("scale",QTn,Sm);bd("gradient",JTn,Sm);bd("geoArea",$Tn,Sm);bd("geoBounds",kTn,Sm);bd("geoCentroid",OTn,Sm);bd("geoShape",e4n,Sm);bd("indata",fTn,ETn);bd("data",wmt,pTe);bd("treePath",n4n,pTe);bd("treeAncestors",r4n,pTe);bd("vlSelectionTest",rTn,gTe);bd("vlSelectionIdTest",oTn,gTe);bd("vlSelectionResolve",uTn,gTe);bd("vlSelectionTuples",sTn);function pE(e,t){const n={};let r;try{e=Pr(e)?e:ar(e)+"",r=dTe(e)}catch{xn("Expression parse error: "+e)}r.visit(a=>{if(a.type!==lmt)return;const s=a.callee.name,u=Rmt.visitors[s];u&&u(s,a.arguments,t,n)});const i=RSe(r);return i.globals.forEach(a=>{const s=xmt+a;!Ui(n,s)&&t.getSignal(a)&&(n[s]=t.signalRef(a))}),{$expr:Qa({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function p4n(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const v4n=C_(["rule"]),bXe=C_(["group","image","rect"]);function m4n(e,t){let n="";return v4n[t]||(e.x2&&(e.x?(bXe[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(bXe[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function _Te(e){return(e+"").toLowerCase()}function y4n(e){return _Te(e)==="operator"}function b4n(e){return _Te(e)==="collect"}function MB(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function w4n(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var _4n={operator:(e,t)=>MB(e,["_"],t.code),parameter:(e,t)=>MB(e,["datum","_"],t.code),event:(e,t)=>MB(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return MB(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const a in r){const s="o["+ar(a)+"]";i+=`$=${r[a].code};if(${s}!==$)${s}=$,m=1;`}return i+=m4n(r,n),i+="return m;",MB(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(ar).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(a,s)=>{const u=t[s];let f,d;return a.path?(f=`a${a.path}`,d=`b${a.path}`):((n=n||{})["f"+s]=a,f=`this.f${s}(a)`,d=`this.f${s}(b)`),w4n(f,d,-u,u)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function x4n(e){const t=this;y4n(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function S4n(e){const t=this;if(e.params){const n=t.get(e.id);n||xn("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function E4n(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=En(i)?i.map(a=>wXe(a,n,t)):wXe(i,n,t)}return t}function wXe(e,t,n){if(!e||!Gr(e))return e;for(let r=0,i=_Xe.length,a;r<i;++r)if(a=_Xe[r],Ui(e,a.key))return a.parse(e,t,n);return e}var _Xe=[{key:"$ref",parse:C4n},{key:"$key",parse:k4n},{key:"$expr",parse:$4n},{key:"$field",parse:O4n},{key:"$encode",parse:R4n},{key:"$compare",parse:A4n},{key:"$context",parse:T4n},{key:"$subflow",parse:M4n},{key:"$tupleid",parse:P4n}];function C4n(e,t){return t.get(e.$ref)||xn("Operator not defined: "+e.$ref)}function $4n(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=jm(t.parameterExpression(e.$expr),e.$fields))}function k4n(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=uAe(e.$key,e.$flat,t.expr.codegen))}function O4n(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Rm(e.$field,e.$name,t.expr.codegen))}function A4n(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Mr(e.$compare).map(i=>i&&i.$tupleid?zi:i);return t.fn[n]||(t.fn[n]=oAe(r,e.$order,t.expr.codegen))}function R4n(e,t){const n=e.$encode,r={};for(const i in n){const a=n[i];r[i]=jm(t.encodeExpression(a.$expr),a.$fields),r[i].output=a.$output}return r}function T4n(e,t){return t}function M4n(e,t){const n=e.$subflow;return function(r,i,a){const s=t.fork().parse(n),u=s.get(n.operators[0].id),f=s.signals.parent;return f&&f.set(a),u.detachSubflow=()=>t.detach(s),u}}function P4n(){return zi}function L4n(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(a=>t.get(a)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(a=>t.get(a)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&xn("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function D4n(e){var t=this,n=Gr(n=e.source)?n.$ref:n,r=t.get(n),i=null,a=e.update,s=void 0;r||xn("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),a&&a.$expr&&(a.$params&&(s=t.parseParameters(a.$params)),a=t.handlerExpression(a.$expr)),t.update(e,r,i,a,s)}const I4n={skip:!0};function F4n(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(a=>{const s=t.signals[a];e.signals(a,s)&&(r[a]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(a=>{const s=t.data[a];e.data(a,s)&&(i[a]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(a=>a.getState(e))),n}function N4n(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(a=>{n.update(t.signals[a],i[a],I4n)}),Object.keys(r||{}).forEach(a=>{n.pulse(t.data[a].input,n.changeset().remove(nw).insert(r[a]))}),(e.subcontext||[]).forEach((a,s)=>{const u=t.subcontext[s];u&&u.setState(a)})}function Tmt(e,t,n,r){return new Mmt(e,t,n,r)}function Mmt(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||_4n,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function xXe(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}Mmt.prototype=xXe.prototype={fork(){const e=new xXe(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),b4n(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let a=n.get(e.parent.$ref);a?(r.connect(a,[t]),t.targets().add(a)):(n.unresolved=n.unresolved||[]).push(()=>{a=n.get(e.parent.$ref),r.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const a in e.data){const s=n.data[a]||(n.data[a]={});e.data[a].forEach(u=>s[u]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[_Te(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:p4n,parseOperator:x4n,parseOperatorParameters:S4n,parseParameters:E4n,parseStream:L4n,parseUpdate:D4n,getState:F4n,setState:N4n};function z4n(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),Pmt(t,e.description()))}function Pmt(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function j4n(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const Mye="default";function B4n(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:Mye,item:null}));e.on(e.events("view","mousemove"),t,(n,r)=>{const i=t.value,a=i?Pr(i)?i:i.user:Mye,s=r.item&&r.item.cursor||null;return i&&a===i.user&&s==i.item?i:{user:a,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Pr(r)||(i=r.item,r=r.user),TSe(e,r&&r!==Mye?r:i||r),i},{cursor:t})}function TSe(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function Yie(e,t){var n=e._runtime.data;return Ui(n,t)||xn("Unrecognized data set: "+t),n[t]}function H4n(e,t){return arguments.length<2?Yie(this,e).values.value:cle.call(this,e,yL().remove(nw).insert(t))}function cle(e,t){Pht(t)||xn("Second argument to changes must be a changeset.");const n=Yie(this,e);return n.modified=!0,this.pulse(n.input,t)}function U4n(e,t){return cle.call(this,e,yL().insert(t))}function V4n(e,t){return cle.call(this,e,yL().remove(t))}function Lmt(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function Dmt(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function fle(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function W4n(e){var t=fle(e),n=Lmt(e),r=Dmt(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(a){e.error(a)}})}function G4n(e,t,n){var r=e._renderer,i=r&&r.canvas(),a,s,u;return i&&(u=fle(e),s=t.changedTouches?t.changedTouches[0]:t,a=Que(s,i),a[0]-=u[0],a[1]-=u[1]),t.dataflow=e,t.item=n,t.vega=q4n(e,n,a),t}function q4n(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var u=r,f;if(s){for(f=t;f;f=f.mark.group)if(f.mark.name===s){u=f;break}}return u&&u.mark&&u.mark.interactive?u:{}}function a(s){if(!s)return n;Pr(s)&&(s=i(s));const u=n.slice();for(;s;)u[0]-=s.x||0,u[1]-=s.y||0,s=s.mark&&s.mark.group;return u}return{view:Qp(e),item:Qp(t||{}),group:i,xy:a,x:s=>a(s)[0],y:s=>a(s)[1]}}const SXe="view",Y4n="timer",K4n="window",X4n={trap:!1};function Z4n(e){const t=Qa({defaults:{}},e),n=(r,i)=>{i.forEach(a=>{En(r[a])&&(r[a]=C_(r[a]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function Imt(e,t,n,r){e._eventListeners.push({type:n,sources:Mr(t),handler:r})}function Q4n(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function wee(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||Gr(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function J4n(e,t,n){var r=this,i=new Cue(n),a=function(d,c){r.runAsync(null,()=>{e===SXe&&Q4n(r,t)&&d.preventDefault(),i.receive(G4n(r,d,c))})},s;if(e===Y4n)wee(r,"timer",t)&&r.timer(a,t);else if(e===SXe)wee(r,"view",t)&&r.addEventListener(t,a,X4n);else if(e===K4n?wee(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&wee(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var u=0,f=s.length;u<f;++u)s[u].addEventListener(t,a);Imt(r,s,t,a)}return i}function EXe(e){return e.item}function CXe(e){return e.item.mark.source}function $Xe(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function eMn(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","mouseover",EXe),CXe,$Xe(e)),this.on(this.events("view","mouseout",EXe),CXe,$Xe(t)),this}function tMn(){var e=this._tooltip,t=this._timers,n=this._eventListeners,r,i,a;for(r=t.length;--r>=0;)t[r].stop();for(r=n.length;--r>=0;)for(a=n[r],i=a.sources.length;--i>=0;)a.sources[i].removeEventListener(a.type,a.handler);return e&&e.call(this,this._handler,null,null,null),this}function sy(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const nMn="vega-bind",rMn="vega-bind-name",iMn="vega-bind-radio";function aMn(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=sAe(r.debounce,i.update))),(r.input==null&&r.element?oMn:uMn)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function oMn(e,t,n,r){const i=n.event||"input",a=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,a),Imt(r,t,i,a),e.set=s=>{t.value=s,t.dispatchEvent(sMn(i))}}function sMn(e){return typeof Event<"u"?new Event(e):{type:e}}function uMn(e,t,n,r){const i=r.signal(n.signal),a=sy("div",{class:nMn}),s=n.input==="radio"?a:a.appendChild(sy("label"));s.appendChild(sy("span",{class:rMn},n.name||n.signal)),t.appendChild(a);let u=lMn;switch(n.input){case"checkbox":u=cMn;break;case"select":u=fMn;break;case"radio":u=dMn;break;case"range":u=hMn;break}u(e,s,n,i)}function lMn(e,t,n,r){const i=sy("input");for(const a in n)a!=="signal"&&a!=="element"&&i.setAttribute(a==="input"?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=a=>i.value=a}function cMn(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const a=sy("input",i);t.appendChild(a),a.addEventListener("change",()=>e.update(a.checked)),e.elements=[a],e.set=s=>a.checked=!!s||null}function fMn(e,t,n,r){const i=sy("select",{name:n.signal}),a=n.labels||[];n.options.forEach((s,u)=>{const f={value:s};Kie(s,r)&&(f.selected=!0),i.appendChild(sy("option",f,(a[u]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let u=0,f=n.options.length;u<f;++u)if(Kie(n.options[u],s)){i.selectedIndex=u;return}}}function dMn(e,t,n,r){const i=sy("span",{class:iMn}),a=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,u)=>{const f={type:"radio",name:n.signal,value:s};Kie(s,r)&&(f.checked=!0);const d=sy("input",f);d.addEventListener("change",()=>e.update(s));const c=sy("label",{},(a[u]||s)+"");return c.prepend(d),i.appendChild(c),d}),e.set=s=>{const u=e.elements,f=u.length;for(let d=0;d<f;++d)Kie(u[d].value,s)&&(u[d].checked=!0)}}function hMn(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,i,+r)||0,s=n.step||T3(a,i,100),u=sy("input",{type:"range",name:n.signal,min:a,max:i,step:s});u.value=r;const f=sy("span",{},+r);t.appendChild(u),t.appendChild(f);const d=()=>{f.textContent=u.value,e.update(+u.value)};u.addEventListener("input",d),u.addEventListener("change",d),e.elements=[u],e.set=c=>{u.value=c,f.textContent=c}}function Kie(e,t){return e===t||e+""==t+""}function Fmt(e,t,n,r,i,a){return t=t||new r(e.loader()),t.initialize(n,Lmt(e),Dmt(e),fle(e),i,a).background(e.background())}function xTe(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function gMn(e,t,n,r){const i=new r(e.loader(),xTe(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,fle(e),e);return t&&t.handlers().forEach(a=>{i.on(a.type,a.handler)}),i}function pMn(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,a=Jue(r);e=n._el=e?Pye(n,e,!0):null,z4n(n),a||n.error("Unrecognized renderer type: "+r);const s=a.handler||sq,u=e?a.renderer:a.headless;return n._renderer=u?Fmt(n,n._renderer,e,u):null,n._handler=gMn(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=Pye(n,t,!0):e.appendChild(sy("form",{class:"vega-bindings"})),n._bind.forEach(f=>{f.param.element&&i!=="container"&&(f.element=Pye(n,f.param.element,!!f.param.input))}),n._bind.forEach(f=>{aMn(n,f.element||t,f)})),n}function Pye(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const PB=e=>+e||0,vMn=e=>({top:e,bottom:e,left:e,right:e});function kXe(e){return Gr(e)?{top:PB(e.top),bottom:PB(e.bottom),left:PB(e.left),right:PB(e.right)}:vMn(PB(e))}async function STe(e,t,n,r){const i=Jue(t),a=i&&i.headless;return a||xn("Unrecognized renderer type: "+t),await e.runAsync(),Fmt(e,null,null,a,n,r).renderAsync(e._scenegraph.root)}async function mMn(e,t){e!==AR.Canvas&&e!==AR.SVG&&e!==AR.PNG&&xn("Unrecognized image type: "+e);const n=await STe(this,e,t);return e===AR.SVG?yMn(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function yMn(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function bMn(e,t){return(await STe(this,AR.Canvas,e,t)).canvas()}async function wMn(e){return(await STe(this,AR.SVG,e)).svg()}function _Mn(e,t,n){return Tmt(e,NN,cW,n).parse(t)}function xMn(e){var t=this._runtime.scales;return Ui(t,e)||xn("Unrecognized scale or projection: "+e),t[e].value}var Nmt="width",zmt="height",ETe="padding",OXe={skip:!0};function jmt(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===ETe?r.left+r.right:0)}function Bmt(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===ETe?r.top+r.bottom:0)}function SMn(e){var t=e._signals,n=t[Nmt],r=t[zmt],i=t[ETe];function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,u=>{e._width=u.size,e._viewWidth=jmt(e,u.size),a()},{size:n}),e._resizeHeight=e.add(null,u=>{e._height=u.size,e._viewHeight=Bmt(e,u.size),a()},{size:r});const s=e.add(null,a,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function EMn(e,t,n,r,i,a){this.runAfter(s=>{let u=0;s._autosize=0,s.width()!==n&&(u=1,s.signal(Nmt,n,OXe),s._resizeWidth.skip(!0)),s.height()!==r&&(u=1,s.signal(zmt,r,OXe),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),u&&s.run("enter"),a&&s.runAfter(f=>f.resize())},!1,1)}function CMn(e){return this._runtime.getState(e||{data:$Mn,signals:kMn,recurse:!0})}function $Mn(e,t){return t.modified&&En(t.input.value)&&e.indexOf("_:vega:_")}function kMn(e,t){return!(e==="parent"||t instanceof NN.proxy)}function OMn(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function AMn(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(nQt(n,t))}function RMn(e,t,n,r){const i=e.element();i&&i.setAttribute("title",TMn(r))}function TMn(e){return e==null?"":En(e)?Hmt(e):Gr(e)&&!t3(e)?MMn(e):e+""}function MMn(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(En(n)?Hmt(n):Umt(n))}).join(`
`)}function Hmt(e){return"["+e.map(Umt).join(", ")+"]"}function Umt(e){return En(e)?"[]":Gr(e)&&!t3(e)?"{}":e}function Vmt(e,t){const n=this;if(t=t||{},NF.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const a=Qa({},e.locale,t.locale);n.locale(Sht(a.number,a.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||AR.Canvas,n._scenegraph=new a3e;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||RMn,n._redraw=!0,n._handler=new sq().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=Z4n(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=_Mn(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(a=>({state:null,param:Qa({},a)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=jmt(n,n._width),n._viewHeight=Bmt(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,SMn(n),j4n(n),B4n(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function _ee(e,t){return Ui(e._signals,t)?e._signals[t]:xn("Unrecognized signal name: "+ar(t))}function Wmt(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function AXe(e,t,n,r){let i=Wmt(n,r);return i||(i=xTe(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function RXe(e,t,n){const r=Wmt(t,n);return r&&t._targets.remove(r),e}tr(Vmt,NF,{async evaluate(e,t,n){if(await NF.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,W4n(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&Lte(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&Pmt(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=_ee(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",kXe(e)):kXe(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(Jue(e)||xn("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(NF.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(_ee(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:EMn,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=xTe(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,a;--r>=0;)if(a=n[r].type,i=n[r].handler,e===a&&(t===i||t===i.raw)){this._handler.off(a,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return AXe(this,e,_ee(this,e),t)},removeSignalListener(e,t){return RXe(this,_ee(this,e),t)},addDataListener(e,t){return AXe(this,e,Yie(this,e).values,t)},removeDataListener(e,t){return RXe(this,Yie(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=TSe(this,null);this._globalCursor=!!e,t&&TSe(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:AMn,events:J4n,finalize:tMn,hover:eMn,data:H4n,change:cle,insert:U4n,remove:V4n,scale:xMn,initialize:pMn,toImageURL:mMn,toCanvas:bMn,toSVG:wMn,getState:CMn,setState:OMn});const PMn="view",Xie="[",Zie="]",Gmt="{",qmt="}",LMn=":",Ymt=",",DMn="@",IMn=">",FMn=/[[\]{}]/,NMn={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Kmt,Xmt;function mT(e,t,n){return Kmt=t||PMn,Xmt=n||NMn,Zmt(e.trim()).map(MSe)}function zMn(e){return Xmt[e]}function SU(e,t,n,r,i){const a=e.length;let s=0,u;for(;t<a;++t){if(u=e[t],!s&&u===n)return t;i&&i.indexOf(u)>=0?--s:r&&r.indexOf(u)>=0&&++s}return t}function Zmt(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=SU(e,i,Ymt,Xie+Gmt,Zie+qmt),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function MSe(e){return e[0]==="["?jMn(e):BMn(e)}function jMn(e){const t=e.length;let n=1,r;if(n=SU(e,n,Zie,Xie,Zie),n===t)throw"Empty between selector: "+e;if(r=Zmt(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==IMn)throw"Expected '>' after between selector: "+e;r=r.map(MSe);const i=MSe(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function BMn(e){const t={source:Kmt},n=[];let r=[0,0],i=0,a=0,s=e.length,u=0,f,d;if(e[s-1]===qmt){if(u=e.lastIndexOf(Gmt),u>=0){try{r=HMn(e.substring(u+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,u).trim(),s=e.length}else throw"Unmatched right brace: "+e;u=0}if(!s)throw e;if(e[0]===DMn&&(i=++u),f=SU(e,u,LMn),f<s&&(n.push(e.substring(a,f).trim()),a=u=++f),u=SU(e,u,Xie),u===s)n.push(e.substring(a,s).trim());else if(n.push(e.substring(a,u).trim()),d=[],a=++u,a===s)throw"Unmatched left bracket: "+e;for(;u<s;){if(u=SU(e,u,Zie),u===s)throw"Unmatched left bracket: "+e;if(d.push(e.substring(a,u).trim()),u<s-1&&e[++u]!==Xie)throw"Expected left bracket: "+e;a=++u}if(!(s=n.length)||FMn.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):zMn(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),d!=null&&(t.filter=d),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function HMn(e){const t=e.split(Ymt);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function UMn(e){return Gr(e)?e:{type:e||"pad"}}const LB=e=>+e||0,VMn=e=>({top:e,bottom:e,left:e,right:e});function WMn(e){return Gr(e)?e.signal?e:{top:LB(e.top),bottom:LB(e.bottom),left:LB(e.left),right:LB(e.right)}:VMn(LB(e))}const Ih=e=>Gr(e)&&!En(e)?Qa({},e):{value:e};function TXe(e,t,n,r){return n!=null?(Gr(n)&&!En(n)||En(n)&&n.length&&Gr(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Hg(e,t,n){for(const r in t)TXe(e,r,t[r]);for(const r in n)TXe(e,r,n[r],"update")}function b7(e,t,n){for(const r in t)n&&Ui(n,r)||(e[r]=Qa(e[r]||{},t[r]));return e}function I6(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const CTe="mark",$Te="frame",kTe="scope",GMn="axis",qMn="axis-domain",YMn="axis-grid",KMn="axis-label",XMn="axis-tick",ZMn="axis-title",QMn="legend",JMn="legend-band",e5n="legend-entry",t5n="legend-gradient",Qmt="legend-label",n5n="legend-symbol",r5n="legend-title",i5n="title",a5n="title-text",o5n="title-subtitle";function s5n(e,t,n,r,i){const a={},s={};let u,f,d,c;f="lineBreak",t==="text"&&i[f]!=null&&!I6(f,e)&&Lye(a,f,i[f]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),c=n===$Te?i.group:n===CTe?Qa({},i.mark,i[t]):null;for(f in c)d=I6(f,e)||(f==="fill"||f==="stroke")&&(I6("fill",e)||I6("stroke",e)),d||Lye(a,f,c[f]);Mr(r).forEach(h=>{const p=i.style&&i.style[h];for(const v in p)I6(v,e)||Lye(a,v,p[v])}),e=Qa({},e);for(f in a)c=a[f],c.signal?(u=u||{})[f]=c:s[f]=c;return e.enter=Qa(s,e.enter),u&&(e.update=Qa(u,e.update)),e}function Lye(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const Jmt=e=>Pr(e)?ar(e):e.signal?`(${e.signal})`:e1t(e);function dle(e){if(e.gradient!=null)return l5n(e);let t=e.signal?`(${e.signal})`:e.color?u5n(e.color):e.field!=null?e1t(e.field):e.value!==void 0?ar(e.value):void 0;return e.scale!=null&&(t=c5n(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${Xte(e.exponent)})`),e.mult!=null&&(t+=`*${Xte(e.mult)}`),e.offset!=null&&(t+=`+${Xte(e.offset)}`),e.round&&(t=`round(${t})`),t}const xee=(e,t,n,r)=>`(${e}(${[t,n,r].map(dle).join(",")})+'')`;function u5n(e){return e.c?xee("hcl",e.h,e.c,e.l):e.h||e.s?xee("hsl",e.h,e.s,e.l):e.l||e.a?xee("lab",e.l,e.a,e.b):e.r||e.g||e.b?xee("rgb",e.r,e.g,e.b):null}function l5n(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:ar(n));for(;t.length&&es(t)==null;)t.pop();return t.unshift(Jmt(e.gradient)),`gradient(${t.join(",")})`}function Xte(e){return Gr(e)?"("+dle(e)+")":e}function e1t(e){return t1t(Gr(e)?e:{datum:e})}function t1t(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):xn("Invalid field reference: "+ar(e));return e.signal||(r=Pr(r)?RE(r).map(ar).join("]["):t1t(r)),t+"["+r+"]"}function c5n(e,t){const n=Jmt(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+Xte(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function f5n(e){let t="";return e.forEach(n=>{const r=dle(n);t+=n.test?`(${n.test})?${r}:`:r}),es(t)===":"&&(t+="null"),t}function n1t(e,t,n,r,i,a){const s={};a=a||{},a.encoders={$encode:s},e=s5n(e,t,n,r,i.config);for(const u in e)s[u]=d5n(e[u],t,a,i);return a}function d5n(e,t,n,r){const i={},a={};for(const s in e)e[s]!=null&&(i[s]=g5n(h5n(e[s]),r,n,a));return{$expr:{marktype:t,channels:i},$fields:Object.keys(a),$output:Object.keys(e)}}function h5n(e){return En(e)?f5n(e):dle(e)}function g5n(e,t,n,r){const i=pE(e,t);return i.$fields.forEach(a=>r[a]=1),Qa(n,i.$params),i.$expr}const p5n="outer",v5n=["value","update","init","react","bind"];function MXe(e,t){xn(e+' for "outer" push: '+ar(t))}function r1t(e,t){const n=e.name;if(e.push===p5n)t.signals[n]||MXe("No prior signal definition",n),v5n.forEach(r=>{e[r]!==void 0&&MXe("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function PSe(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function hle(e,t,n,r){return new PSe(e,t,n,r)}function Qie(e,t){return hle("operator",e,t)}function Ni(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function fW(e,t){return t?{$field:e,$name:t}:{$field:e}}const LSe=fW("key");function PXe(e,t){return{$compare:e,$order:t}}function m5n(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const y5n="ascending",b5n="descending";function w5n(e){return Gr(e)?(e.order===b5n?"-":"+")+gle(e.op,e.field):""}function gle(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const OTe="scope",DSe="view";function Yd(e){return e&&e.signal}function _5n(e){return e&&e.expr}function Zte(e){if(Yd(e))return!0;if(Gr(e)){for(const t in e)if(Zte(e[t]))return!0}return!1}function H2(e,t){return e??t}function W5(e){return e&&e.signal||e}const LXe="timer";function dW(e,t){return(e.merge?S5n:e.stream?E5n:e.type?C5n:xn("Invalid stream specification: "+ar(e)))(e,t)}function x5n(e){return e===OTe?DSe:e||DSe}function S5n(e,t){const n=e.merge.map(i=>dW(i,t)),r=ATe({merge:n},e,t);return t.addStream(r).id}function E5n(e,t){const n=dW(e.stream,t),r=ATe({stream:n},e,t);return t.addStream(r).id}function C5n(e,t){let n;e.type===LXe?(n=t.event(LXe,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(x5n(e.source),e.type);const r=ATe({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function ATe(e,t,n){let r=t.between;return r&&(r.length!==2&&xn('Stream "between" parameter must have 2 entries: '+ar(t)),e.between=[dW(r[0],n),dW(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push($5n(t.marktype,t.markname,t.markrole)),t.source===OTe&&r.push("inScope(event.item)"),r.length&&(e.filter=pE("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function $5n(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const k5n={code:"_.$value",ast:{type:"Identifier",value:"value"}};function O5n(e,t,n){const r=e.encode,i={target:n};let a=e.events,s=e.update,u=[];a||xn("Signal update missing events specification."),Pr(a)&&(a=mT(a,t.isSubscope()?OTe:DSe)),a=Mr(a).filter(f=>f.signal||f.scale?(u.push(f),0):1),u.length>1&&(u=[R5n(u)]),a.length&&u.push(a.length>1?{merge:a}:a[0]),r!=null&&(s&&xn("Signal encode and update are mutually exclusive."),s="encode(item(),"+ar(r)+")"),i.update=Pr(s)?pE(s,t):s.expr!=null?pE(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:k5n,$params:{$value:t.signalRef(s.signal)}}:xn("Invalid signal update specification."),e.force&&(i.options={force:!0}),u.forEach(f=>t.addUpdate(Qa(A5n(f,t),i)))}function A5n(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):dW(e,t)}}function R5n(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function T5n(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?xn("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=pE(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>O5n(i,t,n.id))}const Pu=e=>(t,n,r)=>hle(e,n,t||void 0,r),i1t=Pu("aggregate"),M5n=Pu("axisticks"),a1t=Pu("bound"),M_=Pu("collect"),DXe=Pu("compare"),P5n=Pu("datajoin"),o1t=Pu("encode"),L5n=Pu("expression"),D5n=Pu("facet"),I5n=Pu("field"),F5n=Pu("key"),N5n=Pu("legendentries"),z5n=Pu("load"),j5n=Pu("mark"),B5n=Pu("multiextent"),H5n=Pu("multivalues"),U5n=Pu("overlap"),V5n=Pu("params"),s1t=Pu("prefacet"),W5n=Pu("projection"),G5n=Pu("proxy"),q5n=Pu("relay"),u1t=Pu("render"),Y5n=Pu("scale"),xL=Pu("sieve"),K5n=Pu("sortitems"),l1t=Pu("viewlayout"),X5n=Pu("values");let Z5n=0;const c1t={min:"min",max:"max",count:"sum"};function Q5n(e,t){const n=e.type||"linear";upt(n)||xn("Unrecognized scale type: "+ar(n)),t.addScale(e.name,{type:n,domain:void 0})}function J5n(e,t){const n=t.getScale(e.name).params;let r;n.domain=f1t(e.domain,e,t),e.range!=null&&(n.range=h1t(e,t,n)),e.interpolate!=null&&lPn(e.interpolate,n),e.nice!=null&&(n.nice=uPn(e.nice)),e.bins!=null&&(n.bins=sPn(e.bins,t));for(r in e)Ui(n,r)||r==="name"||(n[r]=Ub(e[r],t))}function Ub(e,t){return Gr(e)?e.signal?t.signalRef(e.signal):xn("Unsupported object: "+ar(e)):e}function Qte(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>Ub(n,t))}function ple(e){xn("Can not find data set: "+ar(e))}function f1t(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&xn("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(En(e)?ePn:e.fields?nPn:tPn)(e,t,n)}function ePn(e,t,n){return e.map(r=>Ub(r,n))}function tPn(e,t,n){const r=n.getData(e.data);return r||ple(e.data),HN(t.type)?r.valuesRef(n,e.field,d1t(e.sort,!1)):fpt(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function nPn(e,t,n){const r=e.data,i=e.fields.reduce((a,s)=>(s=Pr(s)?{data:r,field:s}:En(s)||s.signal?rPn(s,n):s,a.push(s),a),[]);return(HN(t.type)?iPn:fpt(t.type)?aPn:oPn)(e,n,i)}function rPn(e,t){const n="_:vega:_"+Z5n++,r=M_({});if(En(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+ar(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,xL({})]),{data:n,field:"data"}}function iPn(e,t,n){const r=d1t(e.sort,!0);let i,a;const s=n.map(d=>{const c=t.getData(d.data);return c||ple(d.data),c.countsRef(t,d.field,r)}),u={groupby:LSe,pulse:s};r&&(i=r.op||"count",a=r.field?gle(i,r.field):"count",u.ops=[c1t[i]],u.fields=[t.fieldRef(a)],u.as=[a]),i=t.add(i1t(u));const f=t.add(M_({pulse:Ni(i)}));return a=t.add(X5n({field:LSe,sort:t.sortRef(r),pulse:Ni(f)})),Ni(a)}function d1t(e,t){return e&&(!e.field&&!e.op?Gr(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?xn("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!c1t[e.op]&&xn("Multiple domain scales can not be sorted using "+e.op)),e}function aPn(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||ple(i.data),a.domainRef(t,i.field)});return Ni(t.add(H5n({values:r})))}function oPn(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||ple(i.data),a.extentRef(t,i.field)});return Ni(t.add(B5n({extents:r})))}function sPn(e,t){return e.signal||En(e)?Qte(e,t):t.objectProperty(e)}function uPn(e){return Gr(e)?{interval:Ub(e.interval),step:Ub(e.step)}:Ub(e)}function lPn(e,t){t.interpolate=Ub(e.type||e),e.gamma!=null&&(t.interpolateGamma=Ub(e.gamma))}function h1t(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Pr(i)){if(r&&Ui(r,i))return e=Qa({},e,{range:r[i]}),h1t(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=HN(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:xn("Unrecognized scale range value: "+ar(i))}else if(i.scheme){n.scheme=En(i.scheme)?Qte(i.scheme,t):Ub(i.scheme,t),i.extent&&(n.schemeExtent=Qte(i.extent,t)),i.count&&(n.schemeCount=Ub(i.count,t));return}else if(i.step){n.rangeStep=Ub(i.step,t);return}else{if(HN(e.type)&&!En(i))return f1t(i,e,t);En(i)||xn("Unsupported range type: "+ar(i))}return i.map(a=>(En(a)?Qte:Ub)(a,t))}function cPn(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=ISe(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=ISe(n[i],i,t));t.addProjection(e.name,r)}function ISe(e,t,n){return En(e)?e.map(r=>ISe(r,t,n)):Gr(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:xn("Unsupported parameter object: "+ar(e)):e}const P_="top",w7="left",_7="right",z3="bottom",g1t="center",fPn="vertical",dPn="start",hPn="middle",gPn="end",FSe="index",RTe="label",pPn="offset",ZN="perc",vPn="perc2",Yb="value",vq="guide-label",TTe="guide-title",mPn="group-title",yPn="group-subtitle",IXe="symbol",Jte="gradient",NSe="discrete",zSe="size",bPn="shape",wPn="fill",_Pn="stroke",xPn="strokeWidth",SPn="strokeDash",EPn="opacity",MTe=[zSe,bPn,wPn,_Pn,xPn,SPn,EPn],mq={name:1,style:1,interactive:1},ls={value:0},Kb={value:1},vle="group",p1t="rect",PTe="rule",CPn="symbol",SL="text";function hW(e){return e.type=vle,e.interactive=e.interactive||!1,e}function Bm(e,t){const n=(r,i)=>H2(e[r],H2(t[r],i));return n.isVertical=r=>fPn===H2(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>H2(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>H2(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>H2(e.columns,H2(t.columns,+n.isVertical(!0))),n}function v1t(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function $Pn(e,t,n){const r=t.config.style[n];return r&&r[e]}function mle(e,t,n){return`item.anchor === '${dPn}' ? ${e} : item.anchor === '${gPn}' ? ${t} : ${n}`}const LTe=mle(ar(w7),ar(_7),ar(g1t));function kPn(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},Gr(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function m1t(e,t){return t?e?Gr(e)?Object.assign({},e,{offset:m1t(e.offset,t)}):{value:e,offset:t}:t:e}function hy(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=b7(e.encode,t,mq)):e.interactive=!1,e}function OPn(e,t,n,r){const i=Bm(e,n),a=i.isVertical(),s=i.gradientThickness(),u=i.gradientLength();let f,d,c,h,p;a?(d=[0,1],c=[0,0],h=s,p=u):(d=[0,0],c=[1,0],h=u,p=s);const v={enter:f={opacity:ls,x:ls,y:ls,width:Ih(h),height:Ih(p)},update:Qa({},f,{opacity:Kb,fill:{gradient:t,start:d,stop:c}}),exit:{opacity:ls}};return Hg(v,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),hy({type:p1t,role:t5n,encode:v},r)}function APn(e,t,n,r,i){const a=Bm(e,n),s=a.isVertical(),u=a.gradientThickness(),f=a.gradientLength();let d,c,h,p,v="";s?(d="y",h="y2",c="x",p="width",v="1-"):(d="x",h="x2",c="y",p="height");const m={opacity:ls,fill:{scale:t,field:Yb}};m[d]={signal:v+"datum."+ZN,mult:f},m[c]=ls,m[h]={signal:v+"datum."+vPn,mult:f},m[p]=Ih(u);const y={enter:m,update:Qa({},m,{opacity:Kb}),exit:{opacity:ls}};return Hg(y,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")}),hy({type:p1t,role:JMn,key:Yb,from:i,encode:y},r)}const RPn=`datum.${ZN}<=0?"${w7}":datum.${ZN}>=1?"${_7}":"${g1t}"`,TPn=`datum.${ZN}<=0?"${z3}":datum.${ZN}>=1?"${P_}":"${hPn}"`;function FXe(e,t,n,r){const i=Bm(e,t),a=i.isVertical(),s=Ih(i.gradientThickness()),u=i.gradientLength();let f=i("labelOverlap"),d,c,h,p,v="";const m={enter:d={opacity:ls},update:c={opacity:Kb,text:{field:RTe}},exit:{opacity:ls}};return Hg(m,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:H2(e.labelLimit,t.gradientLabelLimit)}),a?(d.align={value:"left"},d.baseline=c.baseline={signal:TPn},h="y",p="x",v="1-"):(d.align=c.align={signal:RPn},d.baseline={value:"top"},h="x",p="y"),d[h]=c[h]={signal:v+"datum."+ZN,mult:u},d[p]=c[p]=s,s.offset=H2(e.labelOffset,t.gradientLabelOffset)||0,f=f?{separation:i("labelSeparation"),method:f,order:"datum."+FSe}:void 0,hy({type:SL,role:Qmt,style:vq,key:Yb,from:r,encode:m,overlap:f},n)}function MPn(e,t,n,r,i){const a=Bm(e,t),s=n.entries,u=!!(s&&s.interactive),f=s?s.name:void 0,d=a("clipHeight"),c=a("symbolOffset"),h={data:"value"},p=`(${i}) ? datum.${pPn} : datum.${zSe}`,v=d?Ih(d):{field:zSe},m=`datum.${FSe}`,y=`max(1, ${i})`;let w,_,S,C,$;v.mult=.5,w={enter:_={opacity:ls,x:{signal:p,mult:.5,offset:c},y:v},update:S={opacity:Kb,x:_.x,y:_.y},exit:{opacity:ls}};let k=null,M=null;e.fill||(k=t.symbolBaseFillColor,M=t.symbolBaseStrokeColor),Hg(w,{fill:a("symbolFillColor",k),shape:a("symbolType"),size:a("symbolSize"),stroke:a("symbolStrokeColor",M),strokeDash:a("symbolDash"),strokeDashOffset:a("symbolDashOffset"),strokeWidth:a("symbolStrokeWidth")},{opacity:a("symbolOpacity")}),MTe.forEach(R=>{e[R]&&(S[R]=_[R]={scale:e[R],field:Yb})});const A=hy({type:CPn,role:n5n,key:Yb,from:h,clip:d?!0:void 0,encode:w},n.symbols),L=Ih(c);L.offset=a("labelOffset"),w={enter:_={opacity:ls,x:{signal:p,offset:L},y:v},update:S={opacity:Kb,text:{field:RTe},x:_.x,y:_.y},exit:{opacity:ls}},Hg(w,{align:a("labelAlign"),baseline:a("labelBaseline"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontStyle:a("labelFontStyle"),fontWeight:a("labelFontWeight"),limit:a("labelLimit")});const N=hy({type:SL,role:Qmt,style:vq,key:Yb,from:h,encode:w},n.labels);return w={enter:{noBound:{value:!d},width:ls,height:d?Ih(d):ls,opacity:ls},exit:{opacity:ls},update:S={opacity:Kb,row:{signal:null},column:{signal:null}}},a.isVertical(!0)?(C=`ceil(item.mark.items.length / ${y})`,S.row.signal=`${m}%${C}`,S.column.signal=`floor(${m} / ${C})`,$={field:["row",m]}):(S.row.signal=`floor(${m} / ${y})`,S.column.signal=`${m} % ${y}`,$={field:m}),S.column.signal=`(${i})?${S.column.signal}:${m}`,r={facet:{data:r,name:"value",groupby:FSe}},hW({role:kTe,from:r,encode:b7(w,s,mq),marks:[A,N],name:f,interactive:u,sort:$})}function PPn(e,t){const n=Bm(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const DTe='item.orient === "left"',ITe='item.orient === "right"',yle=`(${DTe} || ${ITe})`,LPn=`datum.vgrad && ${yle}`,DPn=mle('"top"','"bottom"','"middle"'),IPn=mle('"right"','"left"','"center"'),FPn=`datum.vgrad && ${ITe} ? (${IPn}) : (${yle} && !(datum.vgrad && ${DTe})) ? "left" : ${LTe}`,NPn=`item._anchor || (${yle} ? "middle" : "start")`,zPn=`${LPn} ? (${DTe} ? -90 : 90) : 0`,jPn=`${yle} ? (datum.vgrad ? (${ITe} ? "bottom" : "top") : ${DPn}) : "top"`;function BPn(e,t,n,r){const i=Bm(e,t),a={enter:{opacity:ls},update:{opacity:Kb,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:ls}};return Hg(a,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:NPn},angle:{signal:zPn},align:{signal:FPn},baseline:{signal:jPn},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),hy({type:SL,role:r5n,style:TTe,from:r,encode:a},n)}function HPn(e,t){let n;return Gr(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+NXe(e.path)+")":e.sphere&&(n="geoShape("+NXe(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function NXe(e){return Gr(e)&&e.signal?e.signal:ar(e)}function y1t(e){const t=e.role||"";return!t.indexOf("axis")||!t.indexOf("legend")||!t.indexOf("title")?t:e.type===vle?kTe:t||CTe}function UPn(e){return{marktype:e.type,name:e.name||void 0,role:e.role||y1t(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function VPn(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function FTe(e,t){const n=Iht(e.type);n||xn("Unrecognized transform type: "+ar(e.type));const r=hle(n.type.toLowerCase(),null,b1t(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function b1t(e,t,n){const r={},i=e.params.length;for(let a=0;a<i;++a){const s=e.params[a];r[s.name]=WPn(s,t,n)}return r}function WPn(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return GPn(e,t,n);if(i===void 0){e.required&&xn("Missing required "+ar(t.type)+" parameter: "+ar(e.name));return}else{if(r==="param")return qPn(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Yd(i)?i.map(a=>zXe(e,a,n)):zXe(e,i,n)}function zXe(e,t,n){const r=e.type;if(Yd(t))return BXe(r)?xn("Expression references can not be signals."):Dye(r)?n.fieldRef(t):HXe(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||Dye(r);return i&&YPn(t)?n.exprRef(t.expr,t.as):i&&KPn(t)?fW(t.field,t.as):BXe(r)?pE(t,n):XPn(r)?Ni(n.getData(t).values):Dye(r)?fW(t):HXe(r)?n.compareRef(t):t}}function GPn(e,t,n){return Pr(t.from)||xn('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function qPn(e,t,n){const r=t[e.name];return e.array?(En(r)||xn("Expected an array of sub-parameters. Instead: "+ar(r)),r.map(i=>jXe(e,i,n))):jXe(e,r,n)}function jXe(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const u in i.key)if(i.key[u]!==t[u]){i=null;break}if(i)break}i||xn("Unsupported parameter: "+ar(t));const a=Qa(b1t(i,t,n),i.key);return Ni(n.add(V5n(a)))}const YPn=e=>e&&e.expr,KPn=e=>e&&e.field,XPn=e=>e==="data",BXe=e=>e==="expr",Dye=e=>e==="field",HXe=e=>e==="compare";function ZPn(e,t,n){let r,i,a,s,u;return e?(r=e.facet)&&(t||xn("Only group marks can be faceted."),r.field!=null?s=u=ene(r,n):(e.data?u=Ni(n.getData(e.data).aggregate):(a=FTe(Qa({type:"aggregate",groupby:Mr(r.groupby)},r.aggregate),n),a.params.key=n.keyRef(r.groupby),a.params.pulse=ene(r,n),s=u=Ni(n.add(a))),i=n.keyRef(r.groupby,!0))):s=Ni(n.add(M_(null,[{}]))),s||(s=ene(e,n)),{key:i,pulse:s,parent:u}}function ene(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:Ni(t.getData(e.data).output)}function TP(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}TP.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let a=t[0],s=null,u=1;for(a&&a.type==="load"&&(a=t[1]),e.add(t[0]);u<n;++u)t[u].params.pulse=Ni(t[u-1]),e.add(t[u]),t[u].type==="aggregate"&&(s=t[u]);return new TP(e,a,i,r,s)};function w1t(e){return Pr(e)?e:null}function UXe(e,t,n){const r=gle(n.op,n.field);let i;if(t.ops){for(let a=0,s=t.as.length;a<s;++a)if(t.as[a]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function DB(e,t,n,r,i,a,s){const u=t[n]||(t[n]={}),f=w5n(a);let d=w1t(i),c,h;if(d!=null&&(e=t.scope,d=d+(f?"|"+f:""),c=u[d]),!c){const p=a?{field:LSe,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:Ni(t.output)};f&&(p.sort=e.sortRef(a)),h=e.add(hle(r,void 0,p)),s&&(t.index[i]=h),c=Ni(h),d!=null&&(u[d]=c)}return c}TP.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),a=w1t(t);let s,u,f;return a!=null&&(e=r.scope,s=i[a]),s?n&&n.field&&UXe(e,s.agg.params,n):(f={groupby:e.fieldRef(t,"key"),pulse:Ni(r.output)},n&&n.field&&UXe(e,f,n),u=e.add(i1t(f)),s=e.add(M_({pulse:Ni(u)})),s={agg:u,ref:Ni(s)},a!=null&&(i[a]=s)),s.ref},tuplesRef(){return Ni(this.values)},extentRef(e,t){return DB(e,this,"extent","extent",t,!1)},domainRef(e,t){return DB(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return DB(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return DB(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return DB(e,this,"indata","tupleindex",t,!0,!0)}};function QPn(e,t,n){const r=e.from.facet,i=r.name,a=ene(r,t);let s;r.name||xn("Facet must have a name: "+ar(r)),r.data||xn("Facet must reference a data set: "+ar(r)),r.field?s=t.add(s1t({field:t.fieldRef(r.field),pulse:a})):r.groupby?s=t.add(D5n({key:t.keyRef(r.groupby),group:Ni(t.proxy(n.parent)),pulse:a})):xn("Facet must specify groupby or field: "+ar(r));const u=t.fork(),f=u.add(M_()),d=u.add(xL({pulse:Ni(f)}));u.addData(i,new TP(u,f,f,d)),u.addSignal("parent",null),s.params.subflow={$subflow:u.parse(e).toRuntime()}}function JPn(e,t,n){const r=t.add(s1t({pulse:n.pulse})),i=t.fork();i.add(xL()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function _1t(e,t,n){const r=e.remove,i=e.insert,a=e.toggle,s=e.modify,u=e.values,f=t.add(Qie()),d="if("+e.trigger+',modify("'+n+'",'+[i,r,a,s,u].map(h=>h??"null").join(",")+"),0)",c=pE(d,t);f.update=c.$expr,f.params=c.$params}function ble(e,t){const n=y1t(e),r=e.type===vle,i=e.from&&e.from.facet,a=e.overlap;let s=e.layout||n===kTe||n===$Te,u,f,d,c,h,p,v;const m=n===CTe||s||i,y=ZPn(e.from,r,t);f=t.add(P5n({key:y.key||(e.key?fW(e.key):void 0),pulse:y.pulse,clean:!r}));const w=Ni(f);f=d=t.add(M_({pulse:w})),f=t.add(j5n({markdef:UPn(e),interactive:VPn(e.interactive,t),clip:HPn(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:Ni(f)}));const _=Ni(f);f=c=t.add(o1t(n1t(e.encode,e.type,n,e.style,t,{mod:!1,pulse:_}))),f.params.parent=t.encode(),e.transform&&e.transform.forEach(M=>{const A=FTe(M,t),L=A.metadata;(L.generates||L.changes)&&xn("Mark transforms should not generate new data."),L.nomod||(c.params.mod=!0),A.params.pulse=Ni(f),t.add(f=A)}),e.sort&&(f=t.add(K5n({sort:t.compareRef(e.sort),pulse:Ni(f)})));const S=Ni(f);(i||s)&&(s=t.add(l1t({layout:t.objectProperty(e.layout),legends:t.legends,mark:_,pulse:S})),p=Ni(s));const C=t.add(a1t({mark:_,pulse:p||S}));v=Ni(C),r&&(m&&(u=t.operators,u.pop(),s&&u.pop()),t.pushState(S,p||v,w),i?QPn(e,t,y):m?JPn(e,t,y):t.parse(e),t.popState(),m&&(s&&u.push(s),u.push(C))),a&&(v=eLn(a,v,t));const $=t.add(u1t({pulse:v})),k=t.add(xL({pulse:Ni($)},void 0,t.parent()));e.name!=null&&(h=e.name,t.addData(h,new TP(t,d,$,k)),e.on&&e.on.forEach(M=>{(M.insert||M.remove||M.toggle)&&xn("Marks only support modify triggers."),_1t(M,t,h)}))}function eLn(e,t,n){const r=e.method,i=e.bound,a=e.separation,s={separation:Yd(a)?n.signalRef(a.signal):a,method:Yd(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const u=i.tolerance;s.boundTolerance=Yd(u)?n.signalRef(u.signal):+u,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return Ni(n.add(U5n(s)))}function tLn(e,t){const n=t.config.legend,r=e.encode||{},i=Bm(e,n),a=r.legend||{},s=a.name||void 0,u=a.interactive,f=a.style,d={};let c=0,h,p,v;MTe.forEach(C=>e[C]?(d[C]=e[C],c=c||e[C]):0),c||xn("Missing valid scale for legend.");const m=nLn(e,t.scaleType(c)),y={title:e.title!=null,scales:d,type:m,vgrad:m!=="symbol"&&i.isVertical()},w=Ni(t.add(M_(null,[y]))),_={enter:{x:{value:0},y:{value:0}}},S=Ni(t.add(N5n(p={type:m,scale:t.scaleRef(c),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return m===Jte?(v=[OPn(e,c,n,r.gradient),FXe(e,n,r.labels,S)],p.count=p.count||t.signalRef(`max(2,2*floor((${W5(i.gradientLength())})/100))`)):m===NSe?v=[APn(e,c,n,r.gradient,S),FXe(e,n,r.labels,S)]:(h=PPn(e,n),v=[MPn(e,n,r,S,W5(h.columns))],p.size=aLn(e,t,v[0].marks)),v=[hW({role:e5n,from:w,encode:_,marks:v,layout:h,interactive:u})],y.title&&v.push(BPn(e,n,r.title,w)),ble(hW({role:QMn,from:w,encode:b7(iLn(i,e,n),a,mq),marks:v,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:u,style:f}),t)}function nLn(e,t){let n=e.type||IXe;return!e.type&&rLn(e)===1&&(e.fill||e.stroke)&&(n=LRe(t)?Jte:Txe(t)?NSe:IXe),n!==Jte?n:Txe(t)?NSe:Jte}function rLn(e){return MTe.reduce((t,n)=>t+(e[n]?1:0),0)}function iLn(e,t,n){const r={enter:{},update:{}};return Hg(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function aLn(e,t,n){const r=W5(VXe("size",e,n)),i=W5(VXe("strokeWidth",e,n)),a=W5(oLn(n[1].encode,t,vq));return pE(`max(ceil(sqrt(${r})+${i}),${a})`,t)}function VXe(e,t,n){return t[e]?`scale("${t[e]}",datum)`:v1t(e,n[0].encode)}function oLn(e,t,n){return v1t("fontSize",e)||$Pn("fontSize",t,n)}const sLn=`item.orient==="${w7}"?-90:item.orient==="${_7}"?90:0`;function uLn(e,t){e=Pr(e)?{text:e}:e;const n=Bm(e,t.config.title),r=e.encode||{},i=r.group||{},a=i.name||void 0,s=i.interactive,u=i.style,f=[],d={},c=Ni(t.add(M_(null,[d])));return f.push(fLn(e,n,lLn(e),c)),e.subtitle&&f.push(dLn(e,n,r.subtitle,c)),ble(hW({role:i5n,from:c,encode:cLn(n,i),marks:f,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:a,interactive:s,style:u}),t)}function lLn(e){const t=e.encode;return t&&t.title||Qa({name:e.name,interactive:e.interactive,style:e.style},t)}function cLn(e,t){const n={enter:{},update:{}};return Hg(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:LTe},angle:{signal:sLn},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),b7(n,t,mq)}function fLn(e,t,n,r){const i={value:0},a=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Hg(s,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),hy({type:SL,role:a5n,style:mPn,from:r,encode:s},n)}function dLn(e,t,n,r){const i={value:0},a=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Hg(s,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),hy({type:SL,role:o5n,style:yPn,from:r,encode:s},n)}function hLn(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(FTe(r,t))}),e.on&&e.on.forEach(r=>{_1t(r,t,e.name)}),t.addDataPipeline(e.name,gLn(e,t,n))}function gLn(e,t,n){const r=[];let i=null,a=!1,s=!1,u,f,d,c,h;for(e.values?Yd(e.values)||Zte(e.format)?(r.push(WXe(t,e)),r.push(i=PM())):r.push(i=PM({$ingest:e.values,$format:e.format})):e.url?Zte(e.url)||Zte(e.format)?(r.push(WXe(t,e)),r.push(i=PM())):r.push(i=PM({$request:e.url,$format:e.format})):e.source&&(i=u=Mr(e.source).map(p=>Ni(t.getData(p).output)),r.push(null)),f=0,d=n.length;f<d;++f)c=n[f],h=c.metadata,!i&&!h.source&&r.push(i=PM()),r.push(c),h.generates&&(s=!0),h.modifies&&!s&&(a=!0),h.source?i=c:h.changes&&(i=null);return u&&(d=u.length-1,r[0]=q5n({derive:a,pulse:d?u:u[0]}),(a||d)&&r.splice(1,0,PM())),i||r.push(PM()),r.push(xL({})),r}function PM(e){const t=M_({},e);return t.metadata={source:!0},t}function WXe(e,t){return z5n({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const x1t=e=>e===z3||e===P_,wle=(e,t,n)=>Yd(e)?yLn(e.signal,t,n):e===w7||e===P_?t:n,Fh=(e,t,n)=>Yd(e)?vLn(e.signal,t,n):x1t(e)?t:n,g_=(e,t,n)=>Yd(e)?mLn(e.signal,t,n):x1t(e)?n:t,S1t=(e,t,n)=>Yd(e)?bLn(e.signal,t,n):e===P_?{value:t}:{value:n},pLn=(e,t,n)=>Yd(e)?wLn(e.signal,t,n):e===_7?{value:t}:{value:n},vLn=(e,t,n)=>E1t(`${e} === '${P_}' || ${e} === '${z3}'`,t,n),mLn=(e,t,n)=>E1t(`${e} !== '${P_}' && ${e} !== '${z3}'`,t,n),yLn=(e,t,n)=>NTe(`${e} === '${w7}' || ${e} === '${P_}'`,t,n),bLn=(e,t,n)=>NTe(`${e} === '${P_}'`,t,n),wLn=(e,t,n)=>NTe(`${e} === '${_7}'`,t,n),E1t=(e,t,n)=>(t=t!=null?Ih(t):t,n=n!=null?Ih(n):n,GXe(t)&&GXe(n)?(t=t?t.signal||ar(t.value):null,n=n?n.signal||ar(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[Qa({test:e},t)].concat(n||[])),GXe=e=>e==null||Object.keys(e).length===1,NTe=(e,t,n)=>({signal:`${e} ? (${fF(t)}) : (${fF(n)})`}),_Ln=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${w7}' ? (${fF(r)}) : `:"")+(n!=null?`${e} === '${z3}' ? (${fF(n)}) : `:"")+(i!=null?`${e} === '${_7}' ? (${fF(i)}) : `:"")+(t!=null?`${e} === '${P_}' ? (${fF(t)}) : `:"")+"(null)"}),fF=e=>Yd(e)?e.signal:e==null?null:ar(e),xLn=(e,t)=>t===0?0:Yd(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},jF=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function S6(e,t,n,r){let i;if(t&&Ui(t,e))return t[e];if(Ui(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[TTe][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[vq][i]}return null}function qXe(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function SLn(e,t){var n=t.config,r=n.style,i=n.axis,a=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,u,f,d;if(Yd(s)){const h=qXe([n.axisX,n.axisY]),p=qXe([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);u={};for(d of h)u[d]=Fh(s,S6(d,n.axisX,i,r),S6(d,n.axisY,i,r));f={};for(d of p)f[d]=_Ln(s.signal,S6(d,n.axisTop,i,r),S6(d,n.axisBottom,i,r),S6(d,n.axisLeft,i,r),S6(d,n.axisRight,i,r))}else u=s===P_||s===z3?n.axisX:n.axisY,f=n["axis"+s[0].toUpperCase()+s.slice(1)];return u||f||a?Qa({},i,u,f,a):i}function ELn(e,t,n,r){const i=Bm(e,t),a=e.orient;let s,u;const f={enter:s={opacity:ls},update:u={opacity:Kb},exit:{opacity:ls}};Hg(f,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const d=YXe(e,0),c=YXe(e,1);return s.x=u.x=Fh(a,d,ls),s.x2=u.x2=Fh(a,c),s.y=u.y=g_(a,d,ls),s.y2=u.y2=g_(a,c),hy({type:PTe,role:qMn,from:r,encode:f},n)}function YXe(e,t){return{scale:e.scale,range:t}}function CLn(e,t,n,r,i){const a=Bm(e,t),s=e.orient,u=e.gridScale,f=wle(s,1,-1),d=$Ln(e.offset,f);let c,h,p;const v={enter:c={opacity:ls},update:p={opacity:Kb},exit:h={opacity:ls}};Hg(v,{stroke:a("gridColor"),strokeCap:a("gridCap"),strokeDash:a("gridDash"),strokeDashOffset:a("gridDashOffset"),strokeOpacity:a("gridOpacity"),strokeWidth:a("gridWidth")});const m={scale:e.scale,field:Yb,band:i.band,extra:i.extra,offset:i.offset,round:a("tickRound")},y=Fh(s,{signal:"height"},{signal:"width"}),w=u?{scale:u,range:0,mult:f,offset:d}:{value:0,offset:d},_=u?{scale:u,range:1,mult:f,offset:d}:Qa(y,{mult:f,offset:d});return c.x=p.x=Fh(s,m,w),c.y=p.y=g_(s,m,w),c.x2=p.x2=g_(s,_),c.y2=p.y2=Fh(s,_),h.x=Fh(s,m),h.y=g_(s,m),hy({type:PTe,role:YMn,key:Yb,from:r,encode:v},n)}function $Ln(e,t){if(t!==1)if(!Gr(e))e=Yd(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=Qa({},e);for(;n.mult!=null;)if(Gr(n.mult))n=n.mult=Qa({},n.mult);else return n.mult=Yd(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function kLn(e,t,n,r,i,a){const s=Bm(e,t),u=e.orient,f=wle(u,-1,1);let d,c,h;const p={enter:d={opacity:ls},update:h={opacity:Kb},exit:c={opacity:ls}};Hg(p,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const v=Ih(i);v.mult=f;const m={scale:e.scale,field:Yb,band:a.band,extra:a.extra,offset:a.offset,round:s("tickRound")};return h.y=d.y=Fh(u,ls,m),h.y2=d.y2=Fh(u,v),c.x=Fh(u,m),h.x=d.x=g_(u,ls,m),h.x2=d.x2=g_(u,v),c.y=g_(u,m),hy({type:PTe,role:XMn,key:Yb,from:r,encode:p},n)}function Iye(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function OLn(e,t,n,r,i,a){const s=Bm(e,t),u=e.orient,f=e.scale,d=wle(u,-1,1),c=W5(s("labelFlush")),h=W5(s("labelFlushOffset")),p=s("labelAlign"),v=s("labelBaseline");let m=c===0||!!c,y;const w=Ih(i);w.mult=d,w.offset=Ih(s("labelPadding")||0),w.offset.mult=d;const _={scale:f,field:Yb,band:.5,offset:m1t(a.offset,s("labelOffset"))},S=Fh(u,m?Iye(f,c,'"left"','"right"','"center"'):{value:"center"},pLn(u,"left","right")),C=Fh(u,S1t(u,"bottom","top"),m?Iye(f,c,'"top"','"bottom"','"middle"'):{value:"middle"}),$=Iye(f,c,`-(${h})`,h,0);m=m&&h;const k={opacity:ls,x:Fh(u,_,w),y:g_(u,_,w)},M={enter:k,update:y={opacity:Kb,text:{field:RTe},x:k.x,y:k.y,align:S,baseline:C},exit:{opacity:ls,x:k.x,y:k.y}};Hg(M,{dx:!p&&m?Fh(u,$):null,dy:!v&&m?g_(u,$):null}),Hg(M,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:p,baseline:v});const A=s("labelBound");let L=s("labelOverlap");return L=L||A?{separation:s("labelSeparation"),method:L,order:"datum.index",bound:A?{scale:f,orient:u,tolerance:A}:null}:void 0,y.align!==S&&(y.align=jF(y.align,S)),y.baseline!==C&&(y.baseline=jF(y.baseline,C)),hy({type:SL,role:KMn,style:vq,key:Yb,from:r,encode:M,overlap:L},n)}function ALn(e,t,n,r){const i=Bm(e,t),a=e.orient,s=wle(a,-1,1);let u,f;const d={enter:u={opacity:ls,anchor:Ih(i("titleAnchor",null)),align:{signal:LTe}},update:f=Qa({},u,{opacity:Kb,text:Ih(e.title)}),exit:{opacity:ls}},c={signal:`lerp(range("${e.scale}"), ${mle(0,1,.5)})`};return f.x=Fh(a,c),f.y=g_(a,c),u.angle=Fh(a,ls,xLn(s,90)),u.baseline=Fh(a,S1t(a,z3,P_),{value:z3}),f.angle=u.angle,f.baseline=u.baseline,Hg(d,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),RLn(i,a,d,n),d.update.align=jF(d.update.align,u.align),d.update.angle=jF(d.update.angle,u.angle),d.update.baseline=jF(d.update.baseline,u.baseline),hy({type:SL,role:ZMn,style:TTe,from:r,encode:d},n)}function RLn(e,t,n,r){const i=(u,f)=>u!=null?(n.update[f]=jF(Ih(u),n.update[f]),!1):!I6(f,r),a=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===a?Ih(s):Fh(t,Ih(s),Ih(a))}function TLn(e,t){const n=SLn(e,t),r=e.encode||{},i=r.axis||{},a=i.name||void 0,s=i.interactive,u=i.style,f=Bm(e,n),d=kPn(f),c={scale:e.scale,ticks:!!f("ticks"),labels:!!f("labels"),grid:!!f("grid"),domain:!!f("domain"),title:e.title!=null},h=Ni(t.add(M_({},[c]))),p=Ni(t.add(M5n({scale:t.scaleRef(e.scale),extra:t.property(d.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),v=[];let m;return c.grid&&v.push(CLn(e,n,r.grid,p,d)),c.ticks&&(m=f("tickSize"),v.push(kLn(e,n,r.ticks,p,m,d))),c.labels&&(m=c.ticks?m:0,v.push(OLn(e,n,r.labels,p,m,d))),c.domain&&v.push(ELn(e,n,r.domain,h)),c.title&&v.push(ALn(e,n,r.title,h)),ble(hW({role:GMn,from:h,encode:b7(MLn(f,e),i,mq),marks:v,aria:f("aria"),description:f("description"),zindex:f("zindex"),name:a,interactive:s,style:u}),t)}function MLn(e,t){const n={enter:{},update:{}};return Hg(n,{orient:e("orient"),offset:e("offset")||0,position:H2(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function C1t(e,t,n){const r=Mr(e.signals),i=Mr(e.scales);return n||r.forEach(a=>r1t(a,t)),Mr(e.projections).forEach(a=>cPn(a,t)),i.forEach(a=>Q5n(a,t)),Mr(e.data).forEach(a=>hLn(a,t)),i.forEach(a=>J5n(a,t)),(n||r).forEach(a=>T5n(a,t)),Mr(e.axes).forEach(a=>TLn(a,t)),Mr(e.marks).forEach(a=>ble(a,t)),Mr(e.legends).forEach(a=>tLn(a,t)),e.title&&uLn(e.title,t),t.parseLambdas(),t}const PLn=e=>b7({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function LLn(e,t){const n=t.config,r=Ni(t.root=t.add(Qie())),i=DLn(e,n);i.forEach(d=>r1t(d,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const a=t.add(M_()),s=t.add(o1t(n1t(PLn(e.encode),vle,$Te,e.style,t,{pulse:Ni(a)}))),u=t.add(l1t({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:Ni(s)}));t.operators.pop(),t.pushState(Ni(s),Ni(u),null),C1t(e,t,i),t.operators.push(u);let f=t.add(a1t({mark:r,pulse:Ni(u)}));return f=t.add(u1t({pulse:Ni(f)})),f=t.add(xL({pulse:Ni(f)})),t.addData("root",new TP(t,a,a,f)),t}function IB(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function DLn(e,t){const n=s=>H2(e[s],t[s]),r=[IB("background",n("background")),IB("autosize",UMn(n("autosize"))),IB("padding",WMn(n("padding"))),IB("width",n("width")||0),IB("height",n("height")||0)],i=r.reduce((s,u)=>(s[u.name]=u,s),{}),a={};return Mr(e.signals).forEach(s=>{Ui(i,s.name)?s=Qa(i[s.name],s):r.push(s),a[s.name]=s}),Mr(t.signals).forEach(s=>{!Ui(a,s.name)&&!Ui(i,s.name)&&r.push(s)}),r}function $1t(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function KXe(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}$1t.prototype=KXe.prototype={parse(e){return C1t(e,this)},fork(){return new KXe(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof PSe?Ni(e):e;return this.add(G5n({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,a){let s,u;r&&(s=r.data||(r.data={}),u=s[i]||(s[i]=[]),u.push(a))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(Ni(this.add(xL({pulse:e})))),this._parent.push(t),this._lookup.push(n?Ni(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return es(this._parent)},encode(){return es(this._encode)},lookup(){return es(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Pr(e))return fW(e,t);e.signal||xn("Unsupported field reference: "+ar(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=Ni(this.add(I5n(i)))}return r},compareRef(e){let t=!1;const n=a=>Yd(a)?(t=!0,this.signalRef(a.signal)):_5n(a)?(t=!0,this.exprRef(a.expr)):a,r=Mr(e.field).map(n),i=Mr(e.order).map(n);return t?Ni(this.add(DXe({fields:r,orders:i}))):PXe(r,i)},keyRef(e,t){let n=!1;const r=a=>Yd(a)?(n=!0,Ni(i[a.signal])):a,i=this.signals;return e=Mr(e).map(r),n?Ni(this.add(F5n({fields:e,flat:t}))):m5n(e,t)},sortRef(e){if(!e)return e;const t=gle(e.op,e.field),n=e.order||y5n;return n.signal?Ni(this.add(DXe({fields:t,orders:this.signalRef(n.signal)}))):PXe(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Ui(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&xn("Duplicate signal name: "+ar(e));const n=t instanceof PSe?t:this.add(Qie(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||xn("Unrecognized signal name: "+ar(e)),this.signals[e]},signalRef(e){return this.signals[e]?Ni(this.signals[e]):(Ui(this.lambdas,e)||(this.lambdas[e]=this.add(Qie(null))),Ni(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=pE(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!Gr(e)?e:this.signalRef(e.signal||zTe(e))},exprRef(e,t){const n={expr:pE(e,this)};return t&&(n.expr.$name=t),Ni(this.add(L5n(n)))},addBinding(e,t){this.bindings||xn("Nested signals do not support binding: "+ar(e)),this.bindings.push(Qa({signal:e},t))},addScaleProj(e,t){Ui(this.scales,e)&&xn("Duplicate scale or projection name: "+ar(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,Y5n(t))},addProjection(e,t){this.addScaleProj(e,W5n(t))},getScale(e){return this.scales[e]||xn("Unrecognized scale name: "+ar(e)),this.scales[e]},scaleRef(e){return Ni(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Ui(this.data,e)&&xn("Duplicate data set name: "+ar(e)),this.data[e]=t},getData(e){return this.data[e]||xn("Undefined data set name: "+ar(e)),this.data[e]},addDataPipeline(e,t){return Ui(this.data,e)&&xn("Duplicate data set name: "+ar(e)),this.addData(e,TP.fromEntries(this,t))}};function zTe(e){return(En(e)?ILn:FLn)(e)}function ILn(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(Gr(i)?i.signal||zTe(i):ar(i))}return n+"]"}function FLn(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+ar(r)+":"+(Gr(i)?i.signal||zTe(i):ar(i));return t+"}"}function NLn(){const e="sans-serif",r="#4c78a8",i="#000",a="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:a,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:a,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:a,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function zLn(e,t,n){return Gr(e)||xn("Input Vega specification must be an object."),t=u7(NLn(),t,e.config),LLn(e,new $1t(t,n)).toRuntime()}var jLn="5.24.0";Qa(NN,D2n,vCn,YCn,Lkn,wOn,qAn,$An,KAn,yRn,ORn,DRn);const BLn=Object.freeze(Object.defineProperty({__proto__:null,Bounds:vd,CanvasHandler:sq,CanvasRenderer:gie,DATE:Mm,DAY:Lp,DAYOFYEAR:hE,Dataflow:NF,Debug:idt,Error:eAe,EventStream:Cue,Gradient:$pt,GroupItem:Wue,HOURS:cy,Handler:F3,Info:rdt,Item:Vue,MILLISECONDS:$_,MINUTES:fy,MONTH:Bp,Marks:dy,MultiPulse:CAe,None:ndt,Operator:Wu,Parameters:Eue,Pulse:r3,QUARTER:Tm,RenderType:AR,Renderer:PE,ResourceLoader:URe,SECONDS:rw,SVGHandler:s3e,SVGRenderer:h3e,SVGStringRenderer:g3e,Scenegraph:a3e,TIME_UNITS:pAe,Transform:dn,View:Vmt,WEEK:Wd,Warn:tAe,YEAR:jg,accessor:jm,accessorFields:jp,accessorName:vf,array:Mr,ascending:hue,bandwidthNRD:AAe,bin:zht,bootstrapCI:jht,boundClip:w0t,boundContext:rq,boundItem:Nxe,boundMark:Wpt,boundStroke:Lk,changeset:yL,clampRange:pdt,codegenExpression:ymt,compare:oAe,constant:Qp,cumulativeLogNormal:DAe,cumulativeNormal:kue,cumulativeUniform:zAe,dayofyear:Gdt,debounce:sAe,defaultLocale:wAe,definition:Iht,densityLogNormal:LAe,densityNormal:RAe,densityUniform:NAe,domChild:pm,domClear:Q2,domCreate:kR,domFind:o3e,dotbin:Bht,error:xn,expressionFunction:bd,extend:Qa,extent:cE,extentIndex:vdt,falsy:YA,fastmap:c7,field:Rm,flush:mdt,font:Xue,fontFamily:oq,fontSize:ME,format:Pte,formatLocale:Jre,formats:SAe,hasOwnProperty:Ui,id:HG,identity:Zp,inferType:Cht,inferTypes:$ht,ingest:Gs,inherits:tr,inrange:oF,interpolate:DRe,interpolateColors:Hue,interpolateRange:dpt,intersect:v0t,intersectBoxLine:sF,intersectPath:VRe,intersectPoint:WRe,intersectRule:Lpt,isArray:En,isBoolean:hT,isDate:t3,isFunction:eo,isIterable:ydt,isNumber:Mu,isObject:Gr,isRegExp:bdt,isString:Pr,isTuple:xue,key:uAe,lerp:wdt,lineHeight:D3,loader:wue,locale:Sht,logger:nAe,lruCache:_dt,markup:d3e,merge:xdt,mergeConfig:u7,multiLineOffset:n3e,one:s7,pad:Sdt,panLinear:ldt,panLog:cdt,panPow:fdt,panSymlog:ddt,parse:zLn,parseExpression:dTe,parseSelector:mT,path:Mue,pathCurves:jRe,pathEqual:_0t,pathParse:UN,pathRectangle:Apt,pathRender:eW,pathSymbols:Opt,pathTrail:Rpt,peek:es,point:Que,projection:P3e,quantileLogNormal:IAe,quantileNormal:Oue,quantileUniform:jAe,quantiles:kAe,quantizeInterpolator:hpt,quarter:hdt,quartiles:OAe,get random(){return iw},randomInteger:zwn,randomKDE:MAe,randomLCG:Nwn,randomLogNormal:Uht,randomMixture:Vht,randomNormal:TAe,randomUniform:Wht,read:Aht,regressionExp:qht,regressionLinear:BAe,regressionLoess:Xht,regressionLog:Ght,regressionPoly:Kht,regressionPow:Yht,regressionQuad:HAe,renderModule:Jue,repeat:bH,resetDefaultLocale:Dbn,resetSVGClipId:Mpt,resetSVGDefIds:LEn,responseType:Oht,runtimeContext:Tmt,sampleCurve:Rue,sampleLogNormal:PAe,sampleNormal:$ue,sampleUniform:FAe,scale:Ms,sceneEqual:p3e,sceneFromJSON:qpt,scenePickVisit:uie,sceneToJSON:Gpt,sceneVisit:k_,sceneZOrder:GRe,scheme:IRe,serializeXML:u0t,setRandom:Iwn,span:UG,splitAccessPath:RE,stringValue:ar,textMetrics:h_,timeBin:lht,timeFloor:Jdt,timeFormatLocale:ZV,timeInterval:h7,timeOffset:nht,timeSequence:aht,timeUnitSpecifier:Wdt,timeUnits:vAe,toBoolean:lAe,toDate:cAe,toNumber:Ip,toSet:C_,toString:fAe,transform:Fht,transforms:NN,truncate:Edt,truthy:nw,tupleid:zi,typeParsers:Sxe,utcFloor:eht,utcInterval:g7,utcOffset:rht,utcSequence:oht,utcdayofyear:Kdt,utcquarter:gdt,utcweek:Xdt,version:jLn,visitArray:aR,week:qdt,writeConfig:l7,zero:pR,zoomLinear:rAe,zoomLog:iAe,zoomPow:Gre,zoomSymlog:aAe},Symbol.toStringTag,{value:"Module"}));function HLn(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var ULn={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},VLn={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},WLn={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const GLn=Array.prototype.slice,LM=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,GLn.call(t,1))},qLn=(e,t,n,r,i,a,s)=>new Date(e,t||0,n??1,r||0,i||0,a||0,s||0);var YLn={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:qLn,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return LM("join",arguments)},indexof:function(){return LM("indexOf",arguments)},lastindexof:function(){return LM("lastIndexOf",arguments)},slice:function(){return LM("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return LM("substring",arguments,String)},split:function(){return LM("split",arguments,String)},replace:function(){return LM("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const KLn=["view","item","group","xy","x","y"],jSe=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&jSe.add(setImmediate);const XLn={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:ULn[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),jSe.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||YLn[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>VLn[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>WLn[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,jSe.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function FB(e,t,n,r,i,a){const s=u=>XLn[u.type](s,u);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=a,KLn.forEach(u=>s.fn[u]=function(){return i.vega[u](...arguments)}),s(e)}var ZLn={operator(e,t){const n=t.ast,r=e.functions;return i=>FB(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,a)=>FB(n,r,a,i)},event(e,t){const n=t.ast,r=e.functions;return i=>FB(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,a)=>{const s=a.item&&a.item.datum;return FB(n,r,i,s,a)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,a=n==="group"||n==="image"||n==="rect";return(s,u)=>{const f=s.datum;let d=0,c;for(const h in r)c=FB(r[h].ast,i,u,f,void 0,s),s[h]!==c&&(s[h]=c,d=1);return n!=="rule"&&HLn(s,r,a),d}}};const QLn="vega-lite",JLn='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',eDn="5.6.1",tDn=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],nDn="https://vega.github.io/vega-lite/",rDn="Vega-Lite is a concise high-level language for interactive visualization.",iDn=["vega","chart","visualization"],aDn="build/vega-lite.js",oDn="build/vega-lite.min.js",sDn="build/vega-lite.min.js",uDn="build/src/index",lDn="build/src/index.d.ts",cDn={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},fDn=["bin","build","src","vega-lite*","tsconfig.json"],dDn={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json","predeploy:site":"yarn presite","deploy:site":"gh-pages -d site",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",eslintbase:"eslint .",format:"yarn eslintbase --fix && yarn prettierbase --write",lint:"yarn eslintbase && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"yarn release-it"},hDn={type:"git",url:"https://github.com/vega/vega-lite.git"},gDn="BSD-3-Clause",pDn={url:"https://github.com/vega/vega-lite/issues"},vDn={"@babel/core":"^7.20.12","@babel/preset-env":"^7.20.2","@babel/preset-typescript":"^7.18.6","@release-it/conventional-changelog":"^5.1.1","@rollup/plugin-alias":"^4.0.3","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.1","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-terser":"^0.4.0","@types/chai":"^4.3.4","@types/d3":"^7.4.0","@types/jest":"^27.4.1","@types/mkdirp":"^1.0.2","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^5.52.0","@typescript-eslint/parser":"^5.52.0","ajv-formats":"^2.1.1",ajv:"^8.12.0",chai:"^4.3.7",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^2.2.2",d3:"^7.8.2","del-cli":"^5.0.0","eslint-config-prettier":"^8.6.0","eslint-plugin-jest":"^27.2.1","eslint-plugin-prettier":"^4.2.1",eslint:"^8.34.0","gh-pages":"^5.0.0","highlight.js":"^11.7.0","jest-dev-server":"^6.1.1",jest:"^27.5.1",mkdirp:"^2.1.3",pako:"^2.1.0",prettier:"^2.8.4",puppeteer:"^15.0.0","release-it":"^15.6.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3",rollup:"^3.15.0",serve:"^14.2.0",terser:"^5.16.3","ts-jest":"^29.0.5","ts-json-schema-generator":"^1.2.0",typescript:"~4.9.5","vega-cli":"^5.22.1","vega-datasets":"~2.5.4","vega-embed":"^6.21.2","vega-tooltip":"^0.30.1","yaml-front-matter":"^4.1.1"},mDn={"@types/clone":"~2.1.1",clone:"~2.1.2","fast-deep-equal":"~3.1.3","fast-json-stable-stringify":"~2.1.0","json-stringify-pretty-compact":"~3.0.0",tslib:"~2.5.0","vega-event-selector":"~3.0.0","vega-expression":"~5.0.0","vega-util":"~1.17.0",yargs:"~17.6.2"},yDn={vega:"^5.22.0"},bDn={node:">=12"},wDn={name:QLn,author:JLn,version:eDn,collaborators:tDn,homepage:nDn,description:rDn,keywords:iDn,main:aDn,unpkg:oDn,jsdelivr:sDn,module:uDn,types:lDn,bin:cDn,files:fDn,scripts:dDn,repository:hDn,license:gDn,bugs:pDn,devDependencies:vDn,dependencies:mDn,peerDependencies:yDn,engines:bDn};var BSe={},_Dn={get exports(){return BSe},set exports(e){BSe=e}};(function(e){var t=function(){function n(p,v){return v!=null&&p instanceof v}var r;try{r=Map}catch{r=function(){}}var i;try{i=Set}catch{i=function(){}}var a;try{a=Promise}catch{a=function(){}}function s(p,v,m,y,w){typeof v=="object"&&(m=v.depth,y=v.prototype,w=v.includeNonEnumerable,v=v.circular);var _=[],S=[],C=typeof Buffer<"u";typeof v>"u"&&(v=!0),typeof m>"u"&&(m=1/0);function $(k,M){if(k===null)return null;if(M===0)return k;var A,L;if(typeof k!="object")return k;if(n(k,r))A=new r;else if(n(k,i))A=new i;else if(n(k,a))A=new a(function(Q,ee){k.then(function(oe){Q($(oe,M-1))},function(oe){ee($(oe,M-1))})});else if(s.__isArray(k))A=[];else if(s.__isRegExp(k))A=new RegExp(k.source,h(k)),k.lastIndex&&(A.lastIndex=k.lastIndex);else if(s.__isDate(k))A=new Date(k.getTime());else{if(C&&Buffer.isBuffer(k))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(k.length):A=new Buffer(k.length),k.copy(A),A;n(k,Error)?A=Object.create(k):typeof y>"u"?(L=Object.getPrototypeOf(k),A=Object.create(L)):(A=Object.create(y),L=y)}if(v){var N=_.indexOf(k);if(N!=-1)return S[N];_.push(k),S.push(A)}n(k,r)&&k.forEach(function(Q,ee){var oe=$(ee,M-1),ue=$(Q,M-1);A.set(oe,ue)}),n(k,i)&&k.forEach(function(Q){var ee=$(Q,M-1);A.add(ee)});for(var R in k){var D;L&&(D=Object.getOwnPropertyDescriptor(L,R)),!(D&&D.set==null)&&(A[R]=$(k[R],M-1))}if(Object.getOwnPropertySymbols)for(var j=Object.getOwnPropertySymbols(k),R=0;R<j.length;R++){var U=j[R],H=Object.getOwnPropertyDescriptor(k,U);H&&!H.enumerable&&!w||(A[U]=$(k[U],M-1),H.enumerable||Object.defineProperty(A,U,{enumerable:!1}))}if(w)for(var Y=Object.getOwnPropertyNames(k),R=0;R<Y.length;R++){var Z=Y[R],H=Object.getOwnPropertyDescriptor(k,Z);H&&H.enumerable||(A[Z]=$(k[Z],M-1),Object.defineProperty(A,Z,{enumerable:!1}))}return A}return $(p,m)}s.clonePrototype=function(v){if(v===null)return null;var m=function(){};return m.prototype=v,new m};function u(p){return Object.prototype.toString.call(p)}s.__objToStr=u;function f(p){return typeof p=="object"&&u(p)==="[object Date]"}s.__isDate=f;function d(p){return typeof p=="object"&&u(p)==="[object Array]"}s.__isArray=d;function c(p){return typeof p=="object"&&u(p)==="[object RegExp]"}s.__isRegExp=c;function h(p){var v="";return p.global&&(v+="g"),p.ignoreCase&&(v+="i"),p.multiline&&(v+="m"),v}return s.__getRegExpFlags=h,s}();e.exports&&(e.exports=t)})(_Dn);const xDn=BSe;var SDn=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var s=a[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const k1t=SDn;var jTe=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,r=t.cmp&&function(a){return function(s){return function(u,f){var d={key:u,value:s[u]},c={key:f,value:s[f]};return a(d,c)}}}(t.cmp),i=[];return function a(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s!==void 0){if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);var u,f;if(Array.isArray(s)){for(f="[",u=0;u<s.length;u++)u&&(f+=","),f+=a(s[u])||"null";return f+"]"}if(s===null)return"null";if(i.indexOf(s)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var d=i.push(s)-1,c=Object.keys(s).sort(r&&r(s));for(f="",u=0;u<c.length;u++){var h=c[u],p=a(s[h]);p&&(f&&(f+=","),f+=JSON.stringify(h)+":"+p)}return i.splice(d,1),"{"+f+"}"}}(e)};function BTe(e){return!!e.or}function HTe(e){return!!e.and}function UTe(e){return!!e.not}function tne(e,t){if(UTe(e))tne(e.not,t);else if(HTe(e))for(const n of e.and)tne(n,t);else if(BTe(e))for(const n of e.or)tne(n,t);else t(e)}function BF(e,t){return UTe(e)?{not:BF(e.not,t)}:HTe(e)?{and:e.and.map(n=>BF(n,t))}:BTe(e)?{or:e.or.map(n=>BF(n,t))}:t(e)}const NS=k1t,Va=xDn;function O1t(e){throw new Error(e)}function QN(e,t){const n={};for(const r of t)Ui(e,r)&&(n[r]=e[r]);return n}function Em(e,t){const n=Object.assign({},e);for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>jTe(e)).join(",")})`};const al=jTe;function ts(e){if(Mu(e))return e;const t=Pr(e)?e:jTe(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function HSe(e){return e===!1||e===null}function Vo(e,t){return e.includes(t)}function MP(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function VTe(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function A1t(e,...t){for(const n of t)EDn(e,n??{});return e}function EDn(e,t){for(const n of Vn(t))l7(e,n,t[n],!0)}function zS(e,t){const n=[],r={};let i;for(const a of e)i=t(a),!(i in r)&&(r[i]=1,n.push(a));return n}function CDn(e,t){const n=Vn(e),r=Vn(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function R1t(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function WTe(e,t){for(const n of e)if(t.has(n))return!0;return!1}function USe(e){const t=new Set;for(const n of e){const i=RE(n).map((s,u)=>u===0?s:`[${s}]`),a=i.map((s,u)=>i.slice(0,u+1).join(""));for(const s of a)t.add(s)}return t}function GTe(e,t){return e===void 0||t===void 0?!0:WTe(USe(e),USe(t))}function Tu(e){return Vn(e).length===0}const Vn=Object.keys,Vp=Object.values,j3=Object.entries;function gW(e){return e===!0||e===!1}function ec(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function EU(e,t){return UTe(e)?`!(${EU(e.not,t)})`:HTe(e)?`(${e.and.map(n=>EU(n,t)).join(") && (")})`:BTe(e)?`(${e.or.map(n=>EU(n,t)).join(") || (")})`:t(e)}function Jie(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&Jie(e[n],t)&&delete e[n],Tu(e)}function yq(e){return e.charAt(0).toUpperCase()+e.substr(1)}function qTe(e,t="datum"){const n=RE(e),r=[];for(let i=1;i<=n.length;i++){const a=`[${n.slice(0,i).map(ar).join("][")}]`;r.push(`${t}${a}`)}return r.join(" && ")}function T1t(e,t="datum"){return`${t}[${ar(RE(e).join("."))}]`}function $Dn(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ow(e){return`${RE(e).map($Dn).join("\\.")}`}function PP(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function YTe(e){return`${RE(e).join(".")}`}function JN(e){return e?RE(e).length:0}function md(...e){for(const t of e)if(t!==void 0)return t}let M1t=42;function P1t(e){const t=++M1t;return e?String(e)+t:t}function kDn(){M1t=42}function L1t(e){return D1t(e)?e:`__${e}`}function D1t(e){return e.startsWith("__")}function pW(e){if(e!==void 0)return(e%360+360)%360}function _le(e){return Mu(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}var bq=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const ok="row",sk="column",xle="facet",zc="x",Hh="y",L_="x2",IE="y2",yT="xOffset",x7="yOffset",D_="radius",Fk="radius2",gw="theta",Nk="theta2",FE="latitude",NE="longitude",I_="latitude2",sw="longitude2",Lm="color",zE="fill",jE="stroke",Dm="shape",zk="size",EL="angle",jk="opacity",bT="fillOpacity",wT="strokeOpacity",_T="strokeWidth",xT="strokeDash",wq="text",_q="order",xq="detail",Sle="key",LP="tooltip",Ele="href",Cle="url",$le="description",ODn={x:1,y:1,x2:1,y2:1},I1t={theta:1,theta2:1,radius:1,radius2:1};function F1t(e){return e in I1t}const KTe={longitude:1,longitude2:1,latitude:1,latitude2:1};function ADn(e){switch(e){case FE:return"y";case I_:return"y2";case NE:return"x";case sw:return"x2"}}function RDn(e){return e in KTe}const TDn=Vn(KTe),XTe=Object.assign(Object.assign(Object.assign(Object.assign({},ODn),I1t),KTe),{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1});function HF(e){return e===Lm||e===zE||e===jE}const N1t={row:1,column:1,facet:1},Vb=Vn(N1t),ZTe=Object.assign(Object.assign({},XTe),N1t),MDn=Vn(ZTe),PDn=bq(ZTe,["order","detail","tooltip"]),LDn=bq(PDn,["row","column","facet"]);function DDn(e){return!!LDn[e]}function z1t(e){return!!ZTe[e]}const IDn=[L_,IE,I_,sw,Nk,Fk];function j1t(e){return CL(e)!==e}function CL(e){switch(e){case L_:return zc;case IE:return Hh;case I_:return FE;case sw:return NE;case Nk:return gw;case Fk:return D_}return e}function B3(e){if(F1t(e))switch(e){case gw:return"startAngle";case Nk:return"endAngle";case D_:return"outerRadius";case Fk:return"innerRadius"}return e}function BE(e){switch(e){case zc:return L_;case Hh:return IE;case FE:return I_;case NE:return sw;case gw:return Nk;case D_:return Fk}}function Im(e){switch(e){case zc:case L_:return"width";case Hh:case IE:return"height"}}function FDn(e){switch(e){case zc:return"xOffset";case Hh:return"yOffset";case L_:return"x2Offset";case IE:return"y2Offset";case gw:return"thetaOffset";case D_:return"radiusOffset";case Nk:return"theta2Offset";case Fk:return"radius2Offset"}}function B1t(e){switch(e){case zc:return"xOffset";case Hh:return"yOffset"}}function H1t(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const NDn=Vn(XTe),QTe=bq(XTe,["x","y","x2","y2","xOffset","yOffset","latitude","longitude","latitude2","longitude2","theta","theta2","radius","radius2"]),zDn=Vn(QTe),JTe={x:1,y:1},HE=Vn(JTe);function Uh(e){return e in JTe}const e4e={theta:1,radius:1},jDn=Vn(e4e);function kle(e){return e==="width"?zc:Hh}const U1t={xOffset:1,yOffset:1};function S7(e){return e in U1t}const V1t=bq(QTe,["text","tooltip","href","url","description","detail","key","order"]),BDn=Vn(V1t);function HDn(e){return!!QTe[e]}function UDn(e){switch(e){case Lm:case zE:case jE:case zk:case Dm:case jk:case _T:case xT:return!0;case bT:case wT:case EL:return!1}}const W1t=Object.assign(Object.assign(Object.assign(Object.assign({},JTe),e4e),U1t),V1t),Ole=Vn(W1t);function ST(e){return!!W1t[e]}function VDn(e,t){return GDn(e)[t]}const G1t={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},WDn=bq(G1t,["geoshape"]);function GDn(e){switch(e){case Lm:case zE:case jE:case $le:case xq:case Sle:case LP:case Ele:case _q:case jk:case bT:case wT:case _T:case xle:case ok:case sk:return G1t;case zc:case Hh:case yT:case x7:case FE:case NE:return WDn;case L_:case IE:case I_:case sw:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case zk:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case xT:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case Dm:return{point:"always",geoshape:"always"};case wq:return{text:"always"};case EL:return{point:"always",square:"always",text:"always"};case Cle:return{image:"always"};case gw:return{text:"always",arc:"always"};case D_:return{text:"always",arc:"always"};case Nk:case Fk:return{arc:"always"}}}function Fye(e){switch(e){case zc:case Hh:case gw:case D_:case yT:case x7:case zk:case EL:case _T:case jk:case bT:case wT:case L_:case IE:case Nk:case Fk:return;case xle:case ok:case sk:case Dm:case xT:case wq:case LP:case Ele:case Cle:case $le:return"discrete";case Lm:case zE:case jE:return"flexible";case FE:case NE:case I_:case sw:case xq:case Sle:case _q:return}}const qDn={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},YDn={count:1,min:1,max:1};function $k(e){return!!e&&!!e.argmin}function ET(e){return!!e&&!!e.argmax}function t4e(e){return Pr(e)&&!!qDn[e]}const KDn=new Set(["count","valid","missing","distinct"]);function q1t(e){return Pr(e)&&KDn.has(e)}function XDn(e){return Pr(e)&&Vo(["min","max"],e)}const ZDn=new Set(["count","sum","distinct","valid","missing"]),QDn=new Set(["mean","average","median","q1","q3","min","max"]);function Y1t(e){return hT(e)&&(e=zle(e,void 0)),"bin"+Vn(e).map(t=>Ale(e[t])?ec(`_${t}_${j3(e[t])}`):ec(`_${t}_${e[t]}`)).join("")}function ul(e){return e===!0||$L(e)&&!e.binned}function Tg(e){return e==="binned"||$L(e)&&e.binned===!0}function $L(e){return Gr(e)}function Ale(e){return e==null?void 0:e.param}function XXe(e){switch(e){case ok:case sk:case zk:case Lm:case zE:case jE:case _T:case jk:case bT:case wT:case Dm:return 6;case xT:return 4;default:return 10}}function Sq(e){return!!(e!=null&&e.expr)}function dm(e){const t=Vn(e||{}),n={};for(const r of t)n[r]=Z1(e[r]);return n}var JDn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function K1t(e){const{anchor:t,frame:n,offset:r,orient:i,angle:a,limit:s,color:u,subtitleColor:f,subtitleFont:d,subtitleFontSize:c,subtitleFontStyle:h,subtitleFontWeight:p,subtitleLineHeight:v,subtitlePadding:m}=e,y=JDn(e,["anchor","frame","offset","orient","angle","limit","color","subtitleColor","subtitleFont","subtitleFontSize","subtitleFontStyle","subtitleFontWeight","subtitleLineHeight","subtitlePadding"]),w=Object.assign(Object.assign({},y),u?{fill:u}:{}),_=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t?{anchor:t}:{}),n?{frame:n}:{}),r?{offset:r}:{}),i?{orient:i}:{}),a!==void 0?{angle:a}:{}),s!==void 0?{limit:s}:{}),S=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},f?{subtitleColor:f}:{}),d?{subtitleFont:d}:{}),c?{subtitleFontSize:c}:{}),h?{subtitleFontStyle:h}:{}),p?{subtitleFontWeight:p}:{}),v?{subtitleLineHeight:v}:{}),m?{subtitlePadding:m}:{}),C=QN(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:w,subtitleMarkConfig:C,nonMarkTitleProperties:_,subtitle:S}}function lR(e){return Pr(e)||En(e)&&Pr(e[0])}function Mi(e){return!!(e!=null&&e.signal)}function CT(e){return!!e.step}function eIn(e){return En(e)?!1:"fields"in e&&!("data"in e)}function tIn(e){return En(e)?!1:"fields"in e&&"data"in e}function Z$(e){return En(e)?!1:"field"in e&&"data"in e}const nIn={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},rIn=Vn(nIn),iIn={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},VSe=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];var n4e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function X1t(e){const t=En(e.condition)?e.condition.map(ZXe):ZXe(e.condition);return Object.assign(Object.assign({},Z1(e)),{condition:t})}function Z1(e){if(Sq(e)){const{expr:t}=e,n=n4e(e,["expr"]);return Object.assign({signal:t},n)}return e}function ZXe(e){if(Sq(e)){const{expr:t}=e,n=n4e(e,["expr"]);return Object.assign({signal:t},n)}return e}function Rl(e){if(Sq(e)){const{expr:t}=e,n=n4e(e,["expr"]);return Object.assign({signal:t},n)}return Mi(e)?e:e!==void 0?{value:e}:void 0}function aIn(e){return Mi(e)?e.signal:ar(e)}function QXe(e){return Mi(e)?e.signal:ar(e.value)}function uk(e){return Mi(e)?e.signal:e==null?null:ar(e)}function oIn(e,t,n){for(const r of n){const i=DP(r,t.markDef,t.config);i!==void 0&&(e[r]=Rl(i))}return e}function Z1t(e){var t;return[].concat(e.type,(t=e.style)!==null&&t!==void 0?t:[])}function uu(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:a}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:a&&(!i||i===e)?void 0:DP(e,t,n,r)}function DP(e,t,n,{vgChannel:r}={}){return md(r?eae(e,t,n.style):void 0,eae(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function eae(e,t,n){return Q1t(e,Z1t(t),n)}function Q1t(e,t,n){t=Mr(t);let r;for(const i of t){const a=n[i];a&&a[e]!==void 0&&(r=a[e])}return r}function J1t(e,t){return Mr(e).reduce((n,r)=>{var i;return n.field.push(xr(r,t)),n.order.push((i=r.sort)!==null&&i!==void 0?i:"ascending"),n},{field:[],order:[]})}function eyt(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(NS(i,r))return;n.push(r)}),n}function tyt(e,t){return NS(e,t)||!t?e:e?[...Mr(e),...Mr(t)].join(", "):t}function nyt(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((lR(n)||Mi(n))&&(lR(r)||Mi(r)))return{explicit:e.explicit,value:tyt(n,r)};if(lR(n)||Mi(n))return{explicit:e.explicit,value:n};if(lR(r)||Mi(r))return{explicit:e.explicit,value:r};if(!lR(n)&&!Mi(n)&&!lR(r)&&!Mi(r))return{explicit:e.explicit,value:eyt(n,r)};throw new Error("It should never reach here")}function r4e(e){return`Invalid specification ${al(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const sIn='Autosize "fit" only works for single views and layered views.';function JXe(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function eZe(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function tZe(e){return e?`Dropping "fit-${e}" because spec has discrete ${Im(e)}.`:'Dropping "fit" because spec has discrete size.'}function i4e(e){return`Unknown field for ${e}. Cannot calculate view size.`}function nZe(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function uIn(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function lIn(e){return`The "nearest" transform is not supported for ${e} marks.`}function ryt(e){return`Selection not supported for ${e} yet.`}function cIn(e){return`Cannot find a selection named "${e}".`}const fIn="Scale bindings are currently only supported for scales with unbinned, continuous domains.",dIn="Legend bindings are only supported for selections over an individual field or encoding channel.";function hIn(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function gIn(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const pIn="The same selection must be used to override scale domains in a layered view.",vIn='Interval selections should be initialized using "x" and/or "y" keys.';function mIn(e){return`Unknown repeated value "${e}".`}function rZe(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const yIn="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function bIn(e){return`Unrecognized parse "${e}".`}function iZe(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const wIn="Attempt to add the same child twice.";function _In(e){return`Ignoring an invalid transform: ${al(e)}.`}const xIn='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function aZe(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function SIn(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${al(t)} is overridden by a child projection ${al(n)}.`}const EIn="Arc marks uses theta channel rather than angle, replacing angle with theta.";function CIn(e){return`${e}Offset dropped because ${e} is continuous`}function $In(e){return`There is no ${e} encoding. Replacing ${e}Offset encoding as ${e}.`}function kIn(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${al(n)}}.`}function iyt(e){return`Invalid field type "${e}".`}function OIn(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function AIn(e){return`Invalid aggregation operator "${e}".`}function ayt(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function RIn(e){return`Position range does not support relative band size for ${e}.`}function WSe(e,t){return`Dropping ${al(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const TIn="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function Rle(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function MIn(e){return`${e} encoding has no scale, so specified scale is ignored.`}function PIn(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function LIn(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function DIn(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function IIn(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function Nye(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function FIn(e){return`The ${e} for range marks cannot be an expression`}function NIn(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function zIn(e,t){return`Specified orient "${e}" overridden with "${t}".`}function jIn(e){return`Cannot use the scale property "${e}" with non-color channel.`}function BIn(e){return`Cannot use the relative band size with ${e} scale.`}function HIn(e){return`Using unaggregated domain with raw field has no effect (${al(e)}).`}function UIn(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function VIn(e){return`Unaggregated domain is currently unsupported for log scale (${al(e)}).`}function WIn(e){return`Cannot apply size to non-oriented mark "${e}".`}function GIn(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function qIn(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function oyt(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function syt(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function YIn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${al(n)} and ${al(r)}). Using ${al(n)}.`}function KIn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${al(n)} and ${al(r)}). Using the union of the two domains.`}function XIn(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function ZIn(e){return`Dropping sort property ${al(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const oZe="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",QIn="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",JIn="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",e6n="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function t6n(e){return`Cannot stack "${e}" if there is already "${e}2".`}function n6n(e){return`Cannot stack non-linear scale (${e}).`}function r6n(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function tae(e,t){return`Invalid ${e}: ${al(t)}.`}function i6n(e){return`Dropping day from datetime ${al(e)} as day cannot be combined with other units.`}function a6n(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function o6n(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function s6n(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function sZe(e){return`1D error band does not support ${e}.`}function uyt(e){return`Channel ${e} is required for "binned" bin.`}function u6n(e){return`Channel ${e} should not be used with "binned" bin.`}function l6n(e){return`Domain for ${e} is required for threshold scale.`}globalThis&&globalThis.__classPrivateFieldSet;globalThis&&globalThis.__classPrivateFieldGet;const lyt=nAe(tAe);let e8=lyt;function c6n(e){return e8=e,e8}function f6n(){return e8=lyt,e8}function qn(...e){e8.warn(...e)}function d6n(...e){e8.debug(...e)}function kL(e){if(e&&Gr(e)){for(const t of o4e)if(t in e)return!0}return!1}const cyt=["january","february","march","april","may","june","july","august","september","october","november","december"],h6n=cyt.map(e=>e.substr(0,3)),fyt=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],g6n=fyt.map(e=>e.substr(0,3));function p6n(e){if(_le(e)&&(e=+e),Mu(e))return e>4&&qn(tae("quarter",e)),e-1;throw new Error(tae("quarter",e))}function v6n(e){if(_le(e)&&(e=+e),Mu(e))return e-1;{const t=e.toLowerCase(),n=cyt.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=h6n.indexOf(r);if(i!==-1)return i;throw new Error(tae("month",e))}}function m6n(e){if(_le(e)&&(e=+e),Mu(e))return e%7;{const t=e.toLowerCase(),n=fyt.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=g6n.indexOf(r);if(i!==-1)return i;throw new Error(tae("day",e))}}function a4e(e,t){const n=[];if(t&&e.day!==void 0&&Vn(e).length>1&&(qn(i6n(e)),e=Va(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?v6n(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?p6n(e.quarter):e.quarter;n.push(Mu(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?m6n(e.day):e.day;n.push(Mu(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function vW(e){const n=a4e(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function y6n(e){const n=a4e(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function b6n(e){const t=a4e(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}var w6n=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const dyt={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},o4e=Vn(dyt);function _6n(e){return!!dyt[e]}function s4e(e){return e.startsWith("utc")}function x6n(e){return e.substr(3)}const S6n={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function u4e(e){return o4e.filter(t=>hyt(e,t))}function hyt(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function E6n(e,t,{end:n}={end:!1}){const r=qTe(t),i=s4e(e)?"utc":"";function a(f){return f==="quarter"?`(${i}quarter(${r})-1)`:`${i}${f}(${r})`}let s;const u={};for(const f of o4e)hyt(e,f)&&(u[f]=a(f),s=f);return n&&(u[s]+="+1"),y6n(u)}function gyt(e){if(!e)return;const t=u4e(e);return`timeUnitSpecifier(${al(t)}, ${al(S6n)})`}function C6n(e,t,n){if(!e)return;const r=gyt(e);return`${n||s4e(e)?"utc":"time"}Format(${t}, ${r})`}function Jp(e){if(!e)return;let t;return Pr(e)?t={unit:e}:Gr(e)&&(t=Object.assign(Object.assign({},e),e.unit?{unit:e.unit}:{})),s4e(t.unit)&&(t.utc=!0,t.unit=x6n(t.unit)),t}function $6n(e){const t=Jp(e),{utc:n}=t,r=w6n(t,["utc"]);return r.unit?(n?"utc":"")+Vn(r).map(i=>ec(`${i==="unit"?"":`_${i}_`}${r[i]}`)).join(""):(n?"utc":"")+"timeunit"+Vn(r).map(i=>ec(`_${i}_${r[i]}`)).join("")}function k6n(e){return e==null?void 0:e.param}function l4e(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function c4e(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function f4e(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function d4e(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function h4e(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function g4e(e){if(e!=null&&e.field){if(En(e.range)&&e.range.length===2)return!0;if(Mi(e.range))return!0}return!1}function p4e(e){return!!(e!=null&&e.field)&&(En(e.oneOf)||En(e.in))}function O6n(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function pyt(e){return p4e(e)||l4e(e)||g4e(e)||c4e(e)||d4e(e)||f4e(e)||h4e(e)}function dS(e,t){return jle(e,{timeUnit:t,wrapTime:!0})}function A6n(e,t){return e.map(n=>dS(n,t))}function vyt(e,t=!0){var n;const{field:r}=e,i=(n=Jp(e.timeUnit))===null||n===void 0?void 0:n.unit,a=i?`time(${E6n(i,r)})`:xr(e,{expr:"datum"});if(l4e(e))return`${a}===${dS(e.equal,i)}`;if(c4e(e)){const s=e.lt;return`${a}<${dS(s,i)}`}else if(d4e(e)){const s=e.gt;return`${a}>${dS(s,i)}`}else if(f4e(e)){const s=e.lte;return`${a}<=${dS(s,i)}`}else if(h4e(e)){const s=e.gte;return`${a}>=${dS(s,i)}`}else{if(p4e(e))return`indexof([${A6n(e.oneOf,i).join(",")}], ${a}) !== -1`;if(O6n(e))return v4e(a,e.valid);if(g4e(e)){const{range:s}=e,u=Mi(s)?{signal:`${s.signal}[0]`}:s[0],f=Mi(s)?{signal:`${s.signal}[1]`}:s[1];if(u!==null&&f!==null&&t)return"inrange("+a+", ["+dS(u,i)+", "+dS(f,i)+"])";const d=[];return u!==null&&d.push(`${a} >= ${dS(u,i)}`),f!==null&&d.push(`${a} <= ${dS(f,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${al(e)}`)}function v4e(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function R6n(e){var t;return pyt(e)&&e.timeUnit?Object.assign(Object.assign({},e),{timeUnit:(t=Jp(e.timeUnit))===null||t===void 0?void 0:t.unit}):e}const Eq={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function T6n(e){return e==="quantitative"||e==="temporal"}function myt(e){return e==="ordinal"||e==="nominal"}const IP=Eq.quantitative,m4e=Eq.ordinal,t8=Eq.temporal,y4e=Eq.nominal,E7=Eq.geojson;function M6n(e){if(e)switch(e=e.toLowerCase(),e){case"q":case IP:return"quantitative";case"t":case t8:return"temporal";case"o":case m4e:return"ordinal";case"n":case y4e:return"nominal";case E7:return"geojson"}}var P6n=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Cm={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},GSe={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function L6n(e,t){const n=GSe[e],r=GSe[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const D6n={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function uZe(e){return D6n[e]}const yyt=new Set(["linear","log","pow","sqrt","symlog"]),byt=new Set([...yyt,"time","utc"]);function wyt(e){return yyt.has(e)}const _yt=new Set(["quantile","quantize","threshold"]),I6n=new Set([...byt,..._yt,"sequential","identity"]),F6n=new Set(["ordinal","bin-ordinal","point","band"]);function Vh(e){return F6n.has(e)}function gy(e){return I6n.has(e)}function a_(e){return byt.has(e)}function n8(e){return _yt.has(e)}const N6n={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function z6n(e){return!Pr(e)&&!!e.name}function xyt(e){return e==null?void 0:e.param}function j6n(e){return e==null?void 0:e.unionWith}function B6n(e){return Gr(e)&&"field"in e}const H6n={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},U6n=P6n(H6n,["type","domain","range","rangeMax","rangeMin","scheme"]),V6n=Vn(U6n);function qSe(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return a_(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return a_(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"clamp":return a_(e);case"nice":return a_(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return gy(e)&&!Vo(["log","time","utc","threshold","quantile"],e)}}function Syt(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return HF(e)?void 0:jIn(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function W6n(e,t){return Vo([m4e,y4e],t)?e===void 0||Vh(e):t===t8?Vo([Cm.TIME,Cm.UTC,void 0],e):t===IP?wyt(e)||n8(e)||e===void 0:!0}function G6n(e,t,n=!1){if(!ST(e))return!1;switch(e){case zc:case Hh:case yT:case x7:case gw:case D_:return a_(t)||t==="band"?!0:t==="point"?!n:!1;case zk:case _T:case jk:case bT:case wT:case EL:return a_(t)||n8(t)||Vo(["band","point","ordinal"],t);case Lm:case zE:case jE:return t!=="band";case xT:case Dm:return t==="ordinal"||n8(t)}}const Sv={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Eyt=Sv.arc,Tle=Sv.area,Mle=Sv.bar,q6n=Sv.image,Ple=Sv.line,Lle=Sv.point,Y6n=Sv.rect,nae=Sv.rule,Cyt=Sv.text,b4e=Sv.tick,K6n=Sv.trail,w4e=Sv.circle,_4e=Sv.square,$yt=Sv.geoshape;function $T(e){return["line","area","trail"].includes(e)}function kyt(e){return["rect","bar","image","arc"].includes(e)}const X6n=new Set(Vn(Sv));function vE(e){return e.type}const Z6n=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],Q6n=["fill","fillOpacity"],J6n=[...Z6n,...Q6n],eFn={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},lZe=Vn(eFn),tFn={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]},nFn={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},rFn={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},Oyt=Vn(rFn);function FP(e){return e&&e.band!=null}const iFn={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Ayt=5,aFn={binSpacing:1,continuousBandSize:Ayt,timeUnitBandPosition:.5},oFn={binSpacing:0,continuousBandSize:Ayt,timeUnitBandPosition:.5},sFn={thickness:1};function uFn(e){return vE(e)?e.type:e}function x4e(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:a}=e,s=E4e(e);return er(n)&&!q1t(n.aggregate)&&i&&a_(i.get("type"))?lFn({fieldDef:n,channel:t,markDef:r,ref:s,config:a}):s}function lFn({fieldDef:e,channel:t,markDef:n,ref:r,config:i}){return $T(n.type)?r:uu("invalid",n,i)===null?[cFn(e,t),r]:r}function cFn(e,t){const n=S4e(e,!0),i=CL(t)==="y"?{field:{group:"height"}}:{value:0};return Object.assign({test:n},i)}function S4e(e,t=!0){return v4e(Pr(e)?e:xr(e,{expr:"datum"}),!t)}function fFn(e){const{datum:t}=e;return kL(t)?vW(t):`${al(t)}`}function G5(e,t,n,r){const i={};if(t&&(i.scale=t),UE(e)){const{datum:a}=e;kL(a)?i.signal=vW(a):Mi(a)?i.signal=a.signal:Sq(a)?i.signal=a.expr:i.value=a}else i.field=xr(e,n);if(r){const{offset:a,band:s}=r;a&&(i.offset=a),s&&(i.band=s)}return i}function rae({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,bandPosition:a=.5}){const s=0<a&&a<1?"datum":void 0,u=xr(t,{expr:s,suffix:i}),f=n!==void 0?xr(n,{expr:s}):xr(t,{suffix:"end",expr:s}),d={};if(a===0||a===1){d.scale=e;const c=a===0?u:f;d.field=c}else{const c=Mi(a)?`${a.signal} * ${u} + (1-${a.signal}) * ${f}`:`${a} * ${u} + ${1-a} * ${f}`;d.signal=`scale("${e}", ${c})`}return r&&(d.offset=r),d}function E4e({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:s,stack:u,offset:f,defaultRef:d,bandPosition:c}){var h;if(t){if(Pa(t)){const p=s==null?void 0:s.get("type");if(uw(t)){c??(c=Fyt({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:v,timeUnit:m,type:y}=t;if(ul(v)||c&&m&&y===t8)return u!=null&&u.impute?G5(t,a,{binSuffix:"mid"},{offset:f}):c&&!Vh(p)?rae({scaleName:a,fieldOrDatumDef:t,bandPosition:c,offset:f}):G5(t,a,Oq(t,e)?{binSuffix:"range"}:{},{offset:f});if(Tg(v)){if(er(n))return rae({scaleName:a,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:c,offset:f});qn(uyt(e===zc?L_:IE))}}return G5(t,a,Vh(p)?{binSuffix:"range"}:{},{offset:f,band:p==="band"?(h=c??t.bandPosition)!==null&&h!==void 0?h:.5:void 0})}else if(O_(t)){const p=t.value,v=f?{offset:f}:{};return Object.assign(Object.assign({},CU(e,p)),v)}}return eo(d)&&(d=d()),d&&Object.assign(Object.assign({},d),f?{offset:f}:{})}function CU(e,t){return Vo(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:Vo(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:Rl(t)}function NP(e){return e&&e!=="number"&&e!=="time"}function Ryt(e,t,n){return`${e}(${t}${n?`, ${al(n)}`:""})`}const dFn="  ";function C4e({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a}){var s,u;if(NP(n))return o_({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:a});const f=Tyt(e,r,i),d=r8(e);if(t===void 0&&n===void 0&&a.customFormatTypes){if(d==="quantitative"){if(i&&a.normalizedNumberFormatType)return o_({fieldOrDatumDef:e,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:r,config:a});if(a.numberFormatType)return o_({fieldOrDatumDef:e,format:a.numberFormat,formatType:a.numberFormatType,expr:r,config:a})}if(d==="temporal"&&a.timeFormatType&&er(e)&&e.timeUnit===void 0)return o_({fieldOrDatumDef:e,format:a.timeFormat,formatType:a.timeFormatType,expr:r,config:a})}if(a8(e)){const c=gFn({field:f,timeUnit:er(e)?(s=Jp(e.timeUnit))===null||s===void 0?void 0:s.unit:void 0,format:t,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:OL(e)&&((u=e.scale)===null||u===void 0?void 0:u.type)===Cm.UTC});return c?{signal:c}:void 0}if(t=YSe({type:d,specifiedFormat:t,config:a,normalizeStack:i}),er(e)&&ul(e.bin)){const c=xr(e,{expr:r,binSuffix:"end"});return{signal:Cq(f,c,t,n,a)}}else return t||r8(e)==="quantitative"?{signal:`${Lyt(f,t)}`}:{signal:`isValid(${f}) ? ${f} : ""+${f}`}}function Tyt(e,t,n){return er(e)?n?`${xr(e,{expr:t,suffix:"end"})}-${xr(e,{expr:t,suffix:"start"})}`:xr(e,{expr:t}):fFn(e)}function o_({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a,field:s}){if(s??(s=Tyt(e,r,i)),s!=="datum.value"&&er(e)&&ul(e.bin)){const u=xr(e,{expr:r,binSuffix:"end"});return{signal:Cq(s,u,t,n,a)}}return{signal:Ryt(n,s,t)}}function Myt(e,t,n,r,i,a){var s;if(!NP(r)&&!(n===void 0&&r===void 0&&i.customFormatTypes&&r8(e)==="quantitative"&&(i.normalizedNumberFormatType&&i8(e)&&e.stack==="normalize"||i.numberFormatType))){if(i8(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return YSe({type:"quantitative",config:i,normalizeStack:!0});if(a8(e)){const u=er(e)?(s=Jp(e.timeUnit))===null||s===void 0?void 0:s.unit:void 0;return u===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:hFn({specifiedFormat:n,timeUnit:u,config:i,omitTimeFormatConfig:a})}return YSe({type:t,specifiedFormat:n,config:i})}}function Pyt(e,t,n){var r;if(e&&(Mi(e)||e==="number"||e==="time"))return e;if(a8(t)&&n!=="time"&&n!=="utc")return er(t)&&(!((r=Jp(t==null?void 0:t.timeUnit))===null||r===void 0)&&r.utc)?"utc":"time"}function YSe({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Pr(t))return t;if(e===IP)return r?n.normalizedNumberFormat:n.numberFormat}function hFn({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:gyt(t)}:r?void 0:n.timeFormat)}function Lyt(e,t){return`format(${e}, "${t||""}")`}function cZe(e,t,n,r){var i;return NP(n)?Ryt(n,e,t):Lyt(e,(i=Pr(t)?t:void 0)!==null&&i!==void 0?i:r.numberFormat)}function Cq(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return Cq(e,t,i.numberFormat,i.numberFormatType,i);const a=cZe(e,n,r,i),s=cZe(t,n,r,i);return`${v4e(e,!1)} ? "null" : ${a} + "${dFn}" + ${s}`}function gFn({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:a}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=Pr(n)?n:i,`${a?"utc":"time"}Format(${e}, '${n}')`):C6n(t,e,a)}const Dle="min",pFn={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function fZe(e){return e in pFn}function Dyt(e){return!!(e!=null&&e.encoding)}function tE(e){return e&&(e.op==="count"||!!e.field)}function Iyt(e){return e&&En(e)}function $q(e){return"row"in e||"column"in e}function $4e(e){return!!e&&"header"in e}function Ile(e){return"facet"in e}var KSe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function vFn(e){return e.param}function mFn(e){return e&&!Pr(e)&&"repeat"in e}function dZe(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return Object.assign(Object.assign(Object.assign(Object.assign({},n?{timeUnit:n}:{}),r?{bin:r}:{}),i?{aggregate:i}:{}),{field:t})}function k4e(e){return"sort"in e}function Fyt({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Pa(e)&&e.bandPosition!==void 0)return e.bandPosition;if(er(e)){const{timeUnit:i,bin:a}=e;if(i&&!t)return kyt(n.type)?0:DP("timeUnitBandPosition",n,r);if(ul(a))return .5}}function Nyt({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:a,useVlSizeChannel:s}){var u,f,d;const c=Im(e),h=uu(s?"size":c,r,i,{vgChannel:c});if(h!==void 0)return h;if(er(t)){const{timeUnit:p,bin:v}=t;if(p&&!n)return{band:DP("timeUnitBandSize",r,i)};if(ul(v)&&!Vh(a))return{band:1}}if(kyt(r.type))return a?Vh(a)?((u=i[r.type])===null||u===void 0?void 0:u.discreteBandSize)||{band:1}:(f=i[r.type])===null||f===void 0?void 0:f.continuousBandSize:(d=i[r.type])===null||d===void 0?void 0:d.discreteBandSize}function zyt(e,t,n,r){return ul(e.bin)||e.timeUnit&&uw(e)&&e.type==="temporal"?Fyt({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function Fle(e){return e&&"condition"in e}function Nle(e){const t=e==null?void 0:e.condition;return!!t&&!En(t)&&er(t)}function kq(e){const t=e==null?void 0:e.condition;return!!t&&!En(t)&&Pa(t)}function yFn(e){const t=e==null?void 0:e.condition;return!!t&&(En(t)||O_(t))}function er(e){return e&&(!!e.field||e.aggregate==="count")}function r8(e){return e==null?void 0:e.type}function UE(e){return e&&"datum"in e}function jS(e){return uw(e)&&!iae(e)||XSe(e)}function XSe(e){return UE(e)&&Mu(e.datum)}function Pa(e){return er(e)||UE(e)}function uw(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function O_(e){return e&&"value"in e&&"value"in e}function OL(e){return e&&("scale"in e||"sort"in e)}function i8(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function jyt(e){return e&&"legend"in e}function Byt(e){return e&&("format"in e||"formatType"in e)}function bFn(e){return Em(e,["legend","axis","header","scale"])}function wFn(e){return"op"in e}function xr(e,t={}){var n,r,i;let a=e.field;const s=t.prefix;let u=t.suffix,f="";if(xFn(e))a=L1t("count");else{let d;if(!t.nofn)if(wFn(e))d=e.op;else{const{bin:c,aggregate:h,timeUnit:p}=e;ul(c)?(d=Y1t(c),u=((n=t.binSuffix)!==null&&n!==void 0?n:"")+((r=t.suffix)!==null&&r!==void 0?r:"")):h?ET(h)?(f=`["${a}"]`,a=`argmax_${h.argmax}`):$k(h)?(f=`["${a}"]`,a=`argmin_${h.argmin}`):d=String(h):p&&(d=$6n(p),u=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+((i=t.suffix)!==null&&i!==void 0?i:""))}d&&(a=a?`${d}_${a}`:d)}return u&&(a=`${a}_${u}`),s&&(a=`${s}_${a}`),t.forAs?YTe(a):t.expr?T1t(a,t.expr)+f:ow(a)+f}function iae(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return er(e)&&!!e.bin;case"temporal":return!1}throw new Error(iyt(e.type))}function _Fn(e){var t;return OL(e)&&n8((t=e.scale)===null||t===void 0?void 0:t.type)}function xFn(e){return e.aggregate==="count"}function SFn(e,t){var n;const{field:r,bin:i,timeUnit:a,aggregate:s}=e;if(s==="count")return t.countTitle;if(ul(i))return`${r} (binned)`;if(a){const u=(n=Jp(a))===null||n===void 0?void 0:n.unit;if(u)return`${r} (${u4e(u).join("-")})`}else if(s)return ET(s)?`${r} for max ${s.argmax}`:$k(s)?`${r} for min ${s.argmin}`:`${yq(s)} of ${r}`;return r}function EFn(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(ET(t))return`${i} for argmax(${t.argmax})`;if($k(t))return`${i} for argmin(${t.argmin})`;const a=Jp(r),s=t||(a==null?void 0:a.unit)||(a==null?void 0:a.maxbins)&&"timeunit"||ul(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const Hyt=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return EFn(e);default:return SFn(e,t)}};let Uyt=Hyt;function Vyt(e){Uyt=e}function CFn(){Vyt(Hyt)}function UF(e,t,{allowDisabling:n,includeDefault:r=!0}){var i,a;const s=(i=O4e(e))===null||i===void 0?void 0:i.title;if(!er(e))return s??e.title;const u=e,f=r?A4e(u,t):void 0;return n?md(s,u.title,f):(a=s??u.title)!==null&&a!==void 0?a:f}function O4e(e){if(i8(e)&&e.axis)return e.axis;if(jyt(e)&&e.legend)return e.legend;if($4e(e)&&e.header)return e.header}function A4e(e,t){return Uyt(e,t)}function aae(e){var t;if(Byt(e)){const{format:n,formatType:r}=e;return{format:n,formatType:r}}else{const n=(t=O4e(e))!==null&&t!==void 0?t:{},{format:r,formatType:i}=n;return{format:r,formatType:i}}}function $Fn(e,t){var n;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(k4e(e)&&En(e.sort))return"ordinal";const{aggregate:r,bin:i,timeUnit:a}=e;if(a)return"temporal";if(i||r&&!ET(r)&&!$k(r))return"quantitative";if(OL(e)&&(!((n=e.scale)===null||n===void 0)&&n.type))switch(GSe[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function mE(e){if(er(e))return e;if(Nle(e))return e.condition}function Gd(e){if(Pa(e))return e;if(kq(e))return e.condition}function Wyt(e,t,n,r={}){if(Pr(e)||Mu(e)||hT(e)){const i=Pr(e)?"string":Mu(e)?"number":"boolean";return qn(kIn(t,i,e)),{value:e}}return Pa(e)?oae(e,t,n,r):kq(e)?Object.assign(Object.assign({},e),{condition:oae(e.condition,t,n,r)}):e}function oae(e,t,n,r){if(Byt(e)){const{format:i,formatType:a}=e,s=KSe(e,["format","formatType"]);if(NP(a)&&!n.customFormatTypes)return qn(aZe(t)),oae(s,t,n,r)}else{const i=i8(e)?"axis":jyt(e)?"legend":$4e(e)?"header":null;if(i&&e[i]){const a=e[i],{format:s,formatType:u}=a,f=KSe(a,["format","formatType"]);if(NP(u)&&!n.customFormatTypes)return qn(aZe(t)),oae(Object.assign(Object.assign({},e),{[i]:f}),t,n,r)}}return er(e)?R4e(e,t,r):kFn(e)}function kFn(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Mu(n)?"quantitative":Pr(n)?"nominal":kL(n)?"temporal":void 0,Object.assign(Object.assign({},e),{type:t})}function R4e(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:a,field:s}=e,u=Object.assign({},e);if(!n&&r&&!t4e(r)&&!ET(r)&&!$k(r)&&(qn(AIn(r)),delete u.aggregate),i&&(u.timeUnit=Jp(i)),s&&(u.field=`${s}`),ul(a)&&(u.bin=zle(a,t)),Tg(a)&&!Uh(t)&&qn(u6n(t)),uw(u)){const{type:f}=u,d=M6n(f);f!==d&&(u.type=d),f!=="quantitative"&&q1t(r)&&(qn(OIn(f,r)),u.type="quantitative")}else if(!j1t(t)){const f=$Fn(u,t);u.type=f}if(uw(u)){const{compatible:f,warning:d}=OFn(u,t)||{};f===!1&&qn(d)}if(k4e(u)&&Pr(u.sort)){const{sort:f}=u;if(fZe(f))return Object.assign(Object.assign({},u),{sort:{encoding:f}});const d=f.substr(1);if(f.charAt(0)==="-"&&fZe(d))return Object.assign(Object.assign({},u),{sort:{encoding:d,order:"descending"}})}if($4e(u)){const{header:f}=u;if(f){const{orient:d}=f,c=KSe(f,["orient"]);if(d)return Object.assign(Object.assign({},u),{header:Object.assign(Object.assign({},c),{labelOrient:f.labelOrient||d,titleOrient:f.titleOrient||d})})}}return u}function zle(e,t){return hT(e)?{maxbins:XXe(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?Object.assign(Object.assign({},e),{maxbins:XXe(t)}):e}const E6={compatible:!0};function OFn(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case ok:case sk:case xle:return iae(e)?E6:{compatible:!1,warning:LIn(t)};case zc:case Hh:case yT:case x7:case Lm:case zE:case jE:case wq:case xq:case Sle:case LP:case Ele:case Cle:case EL:case gw:case D_:case $le:return E6;case NE:case sw:case FE:case I_:return n!==IP?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:E6;case jk:case bT:case wT:case _T:case zk:case Nk:case Fk:case L_:case IE:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:E6;case Dm:case xT:return!iae(e)&&!_Fn(e)?{compatible:!1,warning:DIn(t)}:E6;case _q:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:E6}}function a8(e){const{formatType:t}=aae(e);return t==="time"||!t&&AFn(e)}function AFn(e){return e&&(e.type==="temporal"||er(e)&&!!e.timeUnit)}function jle(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var a;const s=t&&((a=Jp(t))===null||a===void 0?void 0:a.unit);let u=s||n==="temporal",f;return Sq(e)?f=e.expr:Mi(e)?f=e.signal:kL(e)?(u=!0,f=vW(e)):(Pr(e)||Mu(e))&&u&&(f=`datetime(${al(e)})`,_6n(s)&&(Mu(e)&&e<1e4||Pr(e)&&isNaN(Date.parse(e)))&&(f=vW({[s]:e}))),f?r&&u?`time(${f})`:f:i?void 0:al(e)}function Gyt(e,t){const{type:n}=e;return t.map(r=>{const i=jle(r,{timeUnit:er(e)?e.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return i!==void 0?{signal:i}:r})}function Oq(e,t){return ul(e.bin)?ST(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const hZe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function Aq(e){return e==null?void 0:e.condition}const qyt=["domain","grid","labels","ticks","title"],RFn={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Yyt={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},TFn=Object.assign(Object.assign({},Yyt),{style:1,labelExpr:1,encoding:1});function gZe(e){return!!TFn[e]}const MFn={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},Kyt=Vn(MFn);function Bk(e){return"mark"in e}class Ble{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Bk(t)?uFn(t.mark)===this.name:!1}}var PFn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function q5(e,t){const n=e&&e[t];return n?En(n)?MP(n,r=>!!r.field):er(n)||Nle(n):!1}function Xyt(e,t){const n=e&&e[t];return n?En(n)?MP(n,r=>!!r.field):er(n)||UE(n)||kq(n):!1}function ZSe(e,t){if(Uh(t)){const n=e[t];if((er(n)||UE(n))&&myt(n.type)){const r=B1t(t);return Xyt(e,r)}}return!1}function T4e(e){return MP(MDn,t=>{if(q5(e,t)){const n=e[t];if(En(n))return MP(n,r=>!!r.aggregate);{const r=mE(n);return r&&!!r.aggregate}}return!1})}function Zyt(e,t){const n=[],r=[],i=[],a=[],s={};return M4e(e,(u,f)=>{if(er(u)){const{field:d,aggregate:c,bin:h,timeUnit:p}=u,v=PFn(u,["field","aggregate","bin","timeUnit"]);if(c||p||h){const m=O4e(u),y=m==null?void 0:m.title;let w=xr(u,{forAs:!0});const _=Object.assign(Object.assign(Object.assign({},y?[]:{title:UF(u,t,{allowDisabling:!0})}),v),{field:w});if(c){let S;if(ET(c)?(S="argmax",w=xr({op:"argmax",field:c.argmax},{forAs:!0}),_.field=`${w}.${d}`):$k(c)?(S="argmin",w=xr({op:"argmin",field:c.argmin},{forAs:!0}),_.field=`${w}.${d}`):c!=="boxplot"&&c!=="errorbar"&&c!=="errorband"&&(S=c),S){const C={op:S,as:w};d&&(C.field=d),a.push(C)}}else if(n.push(w),uw(u)&&ul(h)){if(r.push({bin:h,field:d,as:w}),n.push(xr(u,{binSuffix:"end"})),Oq(u,f)&&n.push(xr(u,{binSuffix:"range"})),Uh(f)){const S={field:`${w}_end`};s[`${f}2`]=S}_.bin="binned",j1t(f)||(_.type=IP)}else if(p){i.push({timeUnit:p,field:d,as:w});const S=uw(u)&&u.type!==t8&&"time";S&&(f===wq||f===LP?_.formatType=S:HDn(f)?_.legend=Object.assign({formatType:S},_.legend):Uh(f)&&(_.axis=Object.assign({formatType:S},_.axis)))}s[f]=_}else n.push(d),s[f]=e[f]}else s[f]=e[f]}),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:s}}function LFn(e,t,n){const r=VDn(t,n);if(r){if(r==="binned"){const i=e[t===L_?zc:Hh];return!!(er(i)&&er(e[t])&&Tg(i.bin))}}else return!1;return!0}function DFn(e,t,n,r){const i={};for(const a of Vn(e))z1t(a)||qn(PIn(a));for(let a of NDn){if(!e[a])continue;const s=e[a];if(S7(a)){const u=H1t(a),f=i[u];if(er(f)){if(T6n(f.type)&&er(s)){qn(CIn(u));continue}}else a=u,qn($In(u))}if(a==="angle"&&t==="arc"&&!e.theta&&(qn(EIn),a=gw),!LFn(e,a,t)){qn(Rle(a,t));continue}if(a===zk&&t==="line"){const u=mE(e[a]);if(u!=null&&u.aggregate){qn(TIn);continue}}if(a===Lm&&(n?"fill"in e:"stroke"in e)){qn(ayt("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(a===xq||a===_q&&!En(s)&&!O_(s)||a===LP&&En(s))s&&(i[a]=Mr(s).reduce((u,f)=>(er(f)?u.push(R4e(f,a)):qn(WSe(f,a)),u),[]));else{if(a===LP&&s===null)i[a]=null;else if(!er(s)&&!UE(s)&&!O_(s)&&!Fle(s)&&!Mi(s)){qn(WSe(s,a));continue}i[a]=Wyt(s,a,r)}}return i}function Hle(e,t){const n={};for(const r of Vn(e)){const i=Wyt(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function IFn(e){const t=[];for(const n of Vn(e))if(q5(e,n)){const r=e[n],i=Mr(r);for(const a of i)er(a)?t.push(a):Nle(a)&&t.push(a.condition)}return t}function M4e(e,t,n){if(e)for(const r of Vn(e)){const i=e[r];if(En(i))for(const a of i)t.call(n,a,r);else t.call(n,i,r)}}function FFn(e,t,n,r){return e?Vn(e).reduce((i,a)=>{const s=e[a];return En(s)?s.reduce((u,f)=>t.call(r,u,f,a),i):t.call(r,i,s,a)},n):n}function Qyt(e,t){return Vn(t).reduce((n,r)=>{switch(r){case zc:case Hh:case Ele:case $le:case Cle:case L_:case IE:case yT:case x7:case gw:case Nk:case D_:case Fk:case FE:case NE:case I_:case sw:case wq:case Dm:case EL:case LP:return n;case _q:if(e==="line"||e==="trail")return n;case xq:case Sle:{const i=t[r];if(En(i)||er(i))for(const a of Mr(i))a.aggregate||n.push(xr(a,{}));return n}case zk:if(e==="trail")return n;case Lm:case zE:case jE:case jk:case bT:case wT:case xT:case _T:{const i=mE(t[r]);return i&&!i.aggregate&&n.push(xr(i,{})),n}}},[])}var Jyt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function NFn(e){const{tooltip:t}=e,n=Jyt(e,["tooltip"]);if(!t)return{filteredEncoding:n};let r,i;if(En(t)){for(const a of t)a.aggregate?(r||(r=[]),r.push(a)):(i||(i=[]),i.push(a));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return En(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function QSe(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:u})=>{const f=r?` of ${P4e(t)}`:"";return{field:s+t.field,type:t.type,title:Mi(u)?{signal:`${u}"${escape(f)}"`}:u+f}}),a=IFn(n).map(bFn);return{tooltip:[...i,...zS(a,ts)]}}function P4e(e){const{title:t,field:n}=e;return md(t,n)}function L4e(e,t,n,r,i){const{scale:a,axis:s}=n;return({partName:u,mark:f,positionPrefix:d,endPositionPrefix:c=void 0,extraEncoding:h={}})=>{const p=P4e(n);return ebt(e,u,i,{mark:f,encoding:Object.assign(Object.assign(Object.assign({[t]:Object.assign(Object.assign(Object.assign({field:`${d}_${n.field}`,type:n.type},p!==void 0?{title:p}:{}),a!==void 0?{scale:a}:{}),s!==void 0?{axis:s}:{})},Pr(c)?{[`${t}2`]:{field:`${c}_${n.field}`}}:{}),r),h)})}}function ebt(e,t,n,r){const{clip:i,color:a,opacity:s}=e,u=e.type;return e[t]||e[t]===void 0&&n[t]?[Object.assign(Object.assign({},r),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n[t]),i?{clip:i}:{}),a?{color:a}:{}),s?{opacity:s}:{}),vE(r.mark)?r.mark:{type:r.mark}),{style:`${u}-${String(t)}`}),hT(e[t])?{}:e[t])})]:[]}function tbt(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",a=r[i],s=r[`${i}2`],u=r[`${i}Error`],f=r[`${i}Error2`];return{continuousAxisChannelDef:See(a,n),continuousAxisChannelDef2:See(s,n),continuousAxisChannelDefError:See(u,n),continuousAxisChannelDefError2:See(f,n),continuousAxis:i}}function See(e,t){if(e!=null&&e.aggregate){const{aggregate:n}=e,r=Jyt(e,["aggregate"]);return n!==t&&qn(s6n(n,t)),r}else return e}function nbt(e,t){const{mark:n,encoding:r}=e,{x:i,y:a}=r;if(vE(n)&&n.orient)return n.orient;if(jS(i)){if(jS(a)){const s=er(i)&&i.aggregate,u=er(a)&&a.aggregate;if(!s&&u===t)return"vertical";if(!u&&s===t)return"horizontal";if(s===t&&u===t)throw new Error("Both x and y cannot have aggregate");return a8(a)&&!a8(i)?"horizontal":"vertical"}return"horizontal"}else{if(jS(a))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}var nne=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const sae="boxplot",zFn=["box","median","outliers","rule","ticks"],jFn=new Ble(sae,ibt);function rbt(e){return Mu(e)?"tukey":e}function ibt(e,{config:t}){var n,r;e=Object.assign(Object.assign({},e),{encoding:Hle(e.encoding,t)});const{mark:i,encoding:a,params:s,projection:u}=e,f=nne(e,["mark","encoding","params","projection"]),d=vE(i)?i:{type:i};s&&qn(ryt("boxplot"));const c=(n=d.extent)!==null&&n!==void 0?n:t.boxplot.extent,h=uu("size",d,t),p=d.invalid,v=rbt(c),{bins:m,timeUnits:y,transform:w,continuousAxisChannelDef:_,continuousAxis:S,groupby:C,aggregate:$,encodingWithoutContinuousAxis:k,ticksOrient:M,boxOrient:A,customTooltipWithoutAggregatedField:L}=BFn(e,c,t),{color:N,size:R}=k,D=nne(k,["color","size"]),j=st=>L4e(d,S,_,st,t.boxplot),U=j(D),H=j(k),Y=j(Object.assign(Object.assign({},D),R?{size:R}:{})),Z=QSe([{fieldPrefix:v==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:v==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],_,k),Q={type:"tick",color:"black",opacity:1,orient:M,invalid:p,aria:!1},ee=v==="min-max"?Z:QSe([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],_,k),oe=[...U({partName:"rule",mark:{type:"rule",invalid:p,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:ee}),...U({partName:"rule",mark:{type:"rule",invalid:p,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:ee}),...U({partName:"ticks",mark:Q,positionPrefix:"lower_whisker",extraEncoding:ee}),...U({partName:"ticks",mark:Q,positionPrefix:"upper_whisker",extraEncoding:ee})],ue=[...v!=="tukey"?oe:[],...H({partName:"box",mark:Object.assign(Object.assign({type:"bar"},h?{size:h}:{}),{orient:A,invalid:p,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Z}),...Y({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:p},Gr(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{}),h?{size:h}:{}),{orient:M,aria:!1}),positionPrefix:"mid_box",extraEncoding:Z})];if(v==="min-max")return Object.assign(Object.assign({},f),{transform:((r=f.transform)!==null&&r!==void 0?r:[]).concat(w),layer:ue});const ve=`datum["lower_box_${_.field}"]`,le=`datum["upper_box_${_.field}"]`,de=`(${le} - ${ve})`,me=`${ve} - ${c} * ${de}`,Se=`${le} + ${c} * ${de}`,Ee=`datum["${_.field}"]`,xe={joinaggregate:abt(_.field),groupby:C},Ie={transform:[{filter:`(${me} <= ${Ee}) && (${Ee} <= ${Se})`},{aggregate:[{op:"min",field:_.field,as:`lower_whisker_${_.field}`},{op:"max",field:_.field,as:`upper_whisker_${_.field}`},{op:"min",field:`lower_box_${_.field}`,as:`lower_box_${_.field}`},{op:"max",field:`upper_box_${_.field}`,as:`upper_box_${_.field}`},...$],groupby:C}],layer:oe},Ne=nne(D,["tooltip"]),{scale:We,axis:Me}=_,He=P4e(_),gt=Em(Me,["title"]),Ye=ebt(d,"outliers",t.boxplot,{transform:[{filter:`(${Ee} < ${me}) || (${Ee} > ${Se})`}],mark:"point",encoding:Object.assign(Object.assign(Object.assign({[S]:Object.assign(Object.assign(Object.assign({field:_.field,type:_.type},He!==void 0?{title:He}:{}),We!==void 0?{scale:We}:{}),Tu(gt)?{}:{axis:gt})},Ne),N?{color:N}:{}),L?{tooltip:L}:{})})[0];let ot;const Ue=[...m,...y,xe];return Ye?ot={transform:Ue,layer:[Ye,Ie]}:(ot=Ie,ot.transform.unshift(...Ue)),Object.assign(Object.assign({},f),{layer:[ot,{transform:w,layer:ue}]})}function abt(e){return[{op:"q1",field:e,as:`lower_box_${e}`},{op:"q3",field:e,as:`upper_box_${e}`}]}function BFn(e,t,n){const r=nbt(e,sae),{continuousAxisChannelDef:i,continuousAxis:a}=tbt(e,r,sae),s=i.field,u=rbt(t),f=[...abt(s),{op:"median",field:s,as:`mid_box_${s}`},{op:"min",field:s,as:(u==="min-max"?"lower_whisker_":"min_")+s},{op:"max",field:s,as:(u==="min-max"?"upper_whisker_":"max_")+s}],d=u==="min-max"||u==="tukey"?[]:[{calculate:`datum["upper_box_${s}"] - datum["lower_box_${s}"]`,as:`iqr_${s}`},{calculate:`min(datum["upper_box_${s}"] + datum["iqr_${s}"] * ${t}, datum["max_${s}"])`,as:`upper_whisker_${s}`},{calculate:`max(datum["lower_box_${s}"] - datum["iqr_${s}"] * ${t}, datum["min_${s}"])`,as:`lower_whisker_${s}`}],c=e.encoding,h=a;c[h];const p=nne(c,[typeof h=="symbol"?h:h+""]),{customTooltipWithoutAggregatedField:v,filteredEncoding:m}=NFn(p),{bins:y,timeUnits:w,aggregate:_,groupby:S,encoding:C}=Zyt(m,n),$=r==="vertical"?"horizontal":"vertical",k=r,M=[...y,...w,{aggregate:[..._,...f],groupby:S},...d];return{bins:y,timeUnits:w,transform:M,groupby:S,aggregate:_,continuousAxisChannelDef:i,continuousAxis:a,encodingWithoutContinuousAxis:C,ticksOrient:$,boxOrient:k,customTooltipWithoutAggregatedField:v}}var pZe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const D4e="errorbar",HFn=["ticks","rule"],UFn=new Ble(D4e,obt);function obt(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:Hle(e.encoding,t)});const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,ticksOrient:s,markDef:u,outerSpec:f,tooltipEncoding:d}=sbt(e,D4e,t);delete a.size;const c=L4e(u,i,r,a,t.errorbar),h=u.thickness,p=u.size,v=Object.assign(Object.assign({type:"tick",orient:s,aria:!1},h!==void 0?{thickness:h}:{}),p!==void 0?{size:p}:{}),m=[...c({partName:"ticks",mark:v,positionPrefix:"lower",extraEncoding:d}),...c({partName:"ticks",mark:v,positionPrefix:"upper",extraEncoding:d}),...c({partName:"rule",mark:Object.assign({type:"rule",ariaRoleDescription:"errorbar"},h!==void 0?{size:h}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:d})];return Object.assign(Object.assign(Object.assign({},f),{transform:n}),m.length>1?{layer:m}:Object.assign({},m[0]))}function VFn(e,t){const{encoding:n}=e;if(WFn(n))return{orient:nbt(e,t),inputType:"raw"};const r=GFn(n),i=qFn(n),a=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const u=n.x2,f=n.y2;if(Pa(u)&&Pa(f))throw new Error(`${t} cannot have both x2 and y2`);if(Pa(u)){if(jS(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Pa(f)){if(jS(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const u=n.xError,f=n.xError2,d=n.yError,c=n.yError2;if(Pa(f)&&!Pa(u))throw new Error(`${t} cannot have xError2 without xError`);if(Pa(c)&&!Pa(d))throw new Error(`${t} cannot have yError2 without yError`);if(Pa(u)&&Pa(d))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Pa(u)){if(jS(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Pa(d)){if(jS(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function WFn(e){return(Pa(e.x)||Pa(e.y))&&!Pa(e.x2)&&!Pa(e.y2)&&!Pa(e.xError)&&!Pa(e.xError2)&&!Pa(e.yError)&&!Pa(e.yError2)}function GFn(e){return Pa(e.x2)||Pa(e.y2)}function qFn(e){return Pa(e.xError)||Pa(e.xError2)||Pa(e.yError)||Pa(e.yError2)}function sbt(e,t,n){var r;const{mark:i,encoding:a,params:s,projection:u}=e,f=pZe(e,["mark","encoding","params","projection"]),d=vE(i)?i:{type:i};s&&qn(ryt(t));const{orient:c,inputType:h}=VFn(e,t),{continuousAxisChannelDef:p,continuousAxisChannelDef2:v,continuousAxisChannelDefError:m,continuousAxisChannelDefError2:y,continuousAxis:w}=tbt(e,c,t),{errorBarSpecificAggregate:_,postAggregateCalculates:S,tooltipSummary:C,tooltipTitleWithFieldName:$}=YFn(d,p,v,m,y,h,t,n),k=a,M=w;k[M];const A=w==="x"?"x2":"y2";k[A];const L=w==="x"?"xError":"yError";k[L];const N=w==="x"?"xError2":"yError2";k[N];const R=pZe(k,[typeof M=="symbol"?M:M+"",typeof A=="symbol"?A:A+"",typeof L=="symbol"?L:L+"",typeof N=="symbol"?N:N+""]),{bins:D,timeUnits:j,aggregate:U,groupby:H,encoding:Y}=Zyt(R,n),Z=[...U,..._],Q=h!=="raw"?[]:H,ee=QSe(C,p,Y,$);return{transform:[...(r=f.transform)!==null&&r!==void 0?r:[],...D,...j,...Z.length===0?[]:[{aggregate:Z,groupby:Q}],...S],groupby:Q,continuousAxisChannelDef:p,continuousAxis:w,encodingWithoutContinuousAxis:Y,ticksOrient:c==="vertical"?"horizontal":"vertical",markDef:d,outerSpec:f,tooltipEncoding:ee}}function YFn(e,t,n,r,i,a,s,u){let f=[],d=[];const c=t.field;let h,p=!1;if(a==="raw"){const v=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":u.errorbar.center,m=e.extent?e.extent:v==="mean"?"stderr":"iqr";if(v==="median"!=(m==="iqr")&&qn(o6n(v,m,s)),m==="stderr"||m==="stdev")f=[{op:m,field:c,as:`extent_${c}`},{op:v,field:c,as:`center_${c}`}],d=[{calculate:`datum["center_${c}"] + datum["extent_${c}"]`,as:`upper_${c}`},{calculate:`datum["center_${c}"] - datum["extent_${c}"]`,as:`lower_${c}`}],h=[{fieldPrefix:"center_",titlePrefix:yq(v)},{fieldPrefix:"upper_",titlePrefix:vZe(v,m,"+")},{fieldPrefix:"lower_",titlePrefix:vZe(v,m,"-")}],p=!0;else{let y,w,_;m==="ci"?(y="mean",w="ci0",_="ci1"):(y="median",w="q1",_="q3"),f=[{op:w,field:c,as:`lower_${c}`},{op:_,field:c,as:`upper_${c}`},{op:y,field:c,as:`center_${c}`}],h=[{fieldPrefix:"upper_",titlePrefix:UF({field:c,aggregate:_,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:UF({field:c,aggregate:w,type:"quantitative"},u,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:UF({field:c,aggregate:y,type:"quantitative"},u,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&qn(a6n(e.center,e.extent)),a==="aggregated-upper-lower"?(h=[],d=[{calculate:`datum["${n.field}"]`,as:`upper_${c}`},{calculate:`datum["${c}"]`,as:`lower_${c}`}]):a==="aggregated-error"&&(h=[{fieldPrefix:"",titlePrefix:c}],d=[{calculate:`datum["${c}"] + datum["${r.field}"]`,as:`upper_${c}`}],i?d.push({calculate:`datum["${c}"] + datum["${i.field}"]`,as:`lower_${c}`}):d.push({calculate:`datum["${c}"] - datum["${r.field}"]`,as:`lower_${c}`}));for(const v of d)h.push({fieldPrefix:v.as.substring(0,6),titlePrefix:PP(PP(v.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:d,errorBarSpecificAggregate:f,tooltipSummary:h,tooltipTitleWithFieldName:p}}function vZe(e,t,n){return`${yq(e)} ${n} ${t}`}const I4e="errorband",KFn=["band","borders"],XFn=new Ble(I4e,ubt);function ubt(e,{config:t}){e=Object.assign(Object.assign({},e),{encoding:Hle(e.encoding,t)});const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,markDef:s,outerSpec:u,tooltipEncoding:f}=sbt(e,I4e,t),d=s,c=L4e(d,i,r,a,t.errorband),h=e.encoding.x!==void 0&&e.encoding.y!==void 0;let p={type:h?"area":"rect"},v={type:h?"line":"rule"};const m=Object.assign(Object.assign({},d.interpolate?{interpolate:d.interpolate}:{}),d.tension&&d.interpolate?{tension:d.tension}:{});return h?(p=Object.assign(Object.assign(Object.assign({},p),m),{ariaRoleDescription:"errorband"}),v=Object.assign(Object.assign(Object.assign({},v),m),{aria:!1})):d.interpolate?qn(sZe("interpolate")):d.tension&&qn(sZe("tension")),Object.assign(Object.assign({},u),{transform:n,layer:[...c({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:f}),...c({partName:"borders",mark:v,positionPrefix:"lower",extraEncoding:f}),...c({partName:"borders",mark:v,positionPrefix:"upper",extraEncoding:f})]})}const lbt={};function F4e(e,t,n){const r=new Ble(e,t);lbt[e]={normalizer:r,parts:n}}function ZFn(){return Vn(lbt)}F4e(sae,ibt,zFn);F4e(D4e,obt,HFn);F4e(I4e,ubt,KFn);const QFn=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],cbt={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},fbt={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},JFn=Vn(cbt),eNn=Vn(fbt),tNn={header:1,headerRow:1,headerColumn:1,headerFacet:1},dbt=Vn(tNn),hbt=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],nNn={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},rNn={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},yE="_vgsid_",iNn={point:{on:"click",fields:[yE],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] > window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] > window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function N4e(e){return e==="legend"||!!(e!=null&&e.legend)}function zye(e){return N4e(e)&&Gr(e)}function z4e(e){return!!(e!=null&&e.select)}var aNn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function gbt(e){const t=[];for(const n of e||[]){if(z4e(n))continue;const{expr:r,bind:i}=n,a=aNn(n,["expr","bind"]);if(i&&r){const s=Object.assign(Object.assign({},a),{bind:i,init:r});t.push(s)}else{const s=Object.assign(Object.assign(Object.assign({},a),r?{update:r}:{}),i?{bind:i}:{});t.push(s)}}return t}function oNn(e){return Ule(e)||B4e(e)||j4e(e)}function j4e(e){return"concat"in e}function Ule(e){return"vconcat"in e}function B4e(e){return"hconcat"in e}function pbt({step:e,offsetIsDiscrete:t}){var n;return t?(n=e.for)!==null&&n!==void 0?n:"offset":"position"}function bE(e){return Gr(e)&&e.step!==void 0}function mZe(e){return e.view||e.width||e.height}const yZe=20,sNn={align:1,bounds:1,center:1,columns:1,spacing:1},uNn=Vn(sNn);function lNn(e,t,n){var r,i;const a=n[t],s={},{spacing:u,columns:f}=a;u!==void 0&&(s.spacing=u),f!==void 0&&(Ile(e)&&!$q(e.facet)||j4e(e))&&(s.columns=f),Ule(e)&&(s.columns=1);for(const d of uNn)if(e[d]!==void 0)if(d==="spacing"){const c=e[d];s[d]=Mu(c)?c:{row:(r=c.row)!==null&&r!==void 0?r:u,column:(i=c.column)!==null&&i!==void 0?i:u}}else s[d]=e[d];return s}var cNn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function JSe(e,t){var n;return(n=e[t])!==null&&n!==void 0?n:e[t==="width"?"continuousWidth":"continuousHeight"]}function uae(e,t){const n=lae(e,t);return bE(n)?n.step:vbt}function lae(e,t){var n;const r=(n=e[t])!==null&&n!==void 0?n:e[t==="width"?"discreteWidth":"discreteHeight"];return md(r,{step:e.step})}const vbt=20,fNn={continuousWidth:200,continuousHeight:200,step:vbt},dNn={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:fNn,mark:nFn,arc:{},area:{},bar:aFn,circle:{},geoshape:{},image:{},line:{},point:{},rect:oFn,rule:{color:"black"},square:{},text:{color:"black"},tick:sFn,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:N6n,projection:{},legend:nNn,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:iNn,style:{},title:{},facet:{spacing:yZe},concat:{spacing:yZe},normalizedNumberFormat:".0%"},k$=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],bZe={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},wZe={blue:k$[0],orange:k$[1],red:k$[2],teal:k$[3],green:k$[4],yellow:k$[5],purple:k$[6],pink:k$[7],brown:k$[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function hNn(e={}){return{signals:[{name:"color",value:Gr(e)?Object.assign(Object.assign({},wZe),e):wZe}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function gNn(e){return{signals:[{name:"fontSize",value:Gr(e)?Object.assign(Object.assign({},bZe),e):bZe}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function pNn(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function mbt(e){const t=Vn(e||{}),n={};for(const r of t){const i=e[r];n[r]=Aq(i)?X1t(i):Z1(i)}return n}function vNn(e){const t=Vn(e),n={};for(const r of t)n[r]=mbt(e[r]);return n}const mNn=[...Oyt,...Kyt,...dbt,"background","padding","legend","lineBreak","scale","style","title","view"];function ybt(e={}){const{color:t,font:n,fontSize:r,selection:i}=e,a=cNn(e,["color","font","fontSize","selection"]),s=u7({},Va(dNn),n?pNn(n):{},t?hNn(t):{},r?gNn(r):{},a||{});i&&l7(s,"selection",i,!0);const u=Em(s,mNn);for(const f of["background","lineBreak","padding"])s[f]&&(u[f]=Z1(s[f]));for(const f of Oyt)s[f]&&(u[f]=dm(s[f]));for(const f of Kyt)s[f]&&(u[f]=mbt(s[f]));for(const f of dbt)s[f]&&(u[f]=dm(s[f]));return s.legend&&(u.legend=dm(s.legend)),s.scale&&(u.scale=dm(s.scale)),s.style&&(u.style=vNn(s.style)),s.title&&(u.title=dm(s.title)),s.view&&(u.view=dm(s.view)),u}const yNn=new Set(["view",...X6n]),bNn=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],wNn=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},tFn);function _Nn(e){e=Va(e);for(const t of bNn)delete e[t];if(e.axis)for(const t in e.axis)Aq(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of QFn)delete e.legend[t];if(e.mark){for(const t of lZe)delete e.mark[t];e.mark.tooltip&&Gr(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(gbt(e.params)),delete e.params);for(const t of yNn){for(const r of lZe)delete e[t][r];const n=wNn[t];if(n)for(const r of n)delete e[t][r];SNn(e,t)}for(const t of ZFn())delete e[t];xNn(e);for(const t in e)Gr(e[t])&&Tu(e[t])&&delete e[t];return Tu(e)?void 0:e}function xNn(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=K1t(e.title);Tu(t)||(e.style["group-title"]=Object.assign(Object.assign({},e.style["group-title"]),t)),Tu(n)||(e.style["group-subtitle"]=Object.assign(Object.assign({},e.style["group-subtitle"]),n)),Tu(r)?delete e.title:e.title=r}function SNn(e,t,n,r){const i=r?e[t][r]:e[t];t==="view"&&(n="cell");const a=Object.assign(Object.assign({},i),e.style[n??t]);Tu(a)||(e.style[n??t]=a),r||delete e[t]}function Vle(e){return"layer"in e}function ENn(e){return"repeat"in e}function CNn(e){return!En(e.repeat)&&e.repeat.layer}var $Nn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class H4e{map(t,n){return Ile(t)?this.mapFacet(t,n):ENn(t)?this.mapRepeat(t,n):B4e(t)?this.mapHConcat(t,n):Ule(t)?this.mapVConcat(t,n):j4e(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(Vle(t))return this.mapLayer(t,n);if(Bk(t))return this.mapUnit(t,n);throw new Error(r4e(t))}mapLayer(t,n){return Object.assign(Object.assign({},t),{layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))})}mapHConcat(t,n){return Object.assign(Object.assign({},t),{hconcat:t.hconcat.map(r=>this.map(r,n))})}mapVConcat(t,n){return Object.assign(Object.assign({},t),{vconcat:t.vconcat.map(r=>this.map(r,n))})}mapConcat(t,n){const{concat:r}=t,i=$Nn(t,["concat"]);return Object.assign(Object.assign({},i),{concat:r.map(a=>this.map(a,n))})}mapFacet(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}mapRepeat(t,n){return Object.assign(Object.assign({},t),{spec:this.map(t.spec,n)})}}const kNn={zero:1,center:1,normalize:1};function ONn(e){return e in kNn}const ANn=new Set([Eyt,Mle,Tle,nae,Lle,w4e,_4e,Ple,Cyt,b4e]),RNn=new Set([Mle,Tle,Eyt]);function C6(e){return er(e)&&r8(e)==="quantitative"&&!e.bin}function _Ze(e,t){var n,r;const i=t==="x"?"y":"radius",a=e[t],s=e[i];if(er(a)&&er(s))if(C6(a)&&C6(s)){if(a.stack)return t;if(s.stack)return i;const u=er(a)&&!!a.aggregate,f=er(s)&&!!s.aggregate;if(u!==f)return u?t:i;{const d=(n=a.scale)===null||n===void 0?void 0:n.type,c=(r=s.scale)===null||r===void 0?void 0:r.type;if(d&&d!=="linear")return i;if(c&&c!=="linear")return t}}else{if(C6(a))return t;if(C6(s))return i}else{if(C6(a))return t;if(C6(s))return i}}function TNn(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function bbt(e,t){var n,r;const i=vE(e)?e.type:e;if(!ANn.has(i))return null;const a=_Ze(t,"x")||_Ze(t,"theta");if(!a)return null;const s=t[a],u=er(s)?xr(s,{}):void 0,f=TNn(a),d=[],c=new Set;if(t[f]){const v=t[f],m=er(v)?xr(v,{}):void 0;m&&m!==u&&(d.push(f),c.add(m));const y=f==="x"?"xOffset":"yOffset",w=t[y],_=er(w)?xr(w,{}):void 0;_&&_!==u&&(d.push(y),c.add(_))}const h=zDn.reduce((v,m)=>{if(m!=="tooltip"&&q5(t,m)){const y=t[m];for(const w of Mr(y)){const _=mE(w);if(_.aggregate)continue;const S=xr(_,{});(!S||!c.has(S))&&v.push({channel:m,fieldDef:_})}}return v},[]);let p;return s.stack!==void 0?hT(s.stack)?p=s.stack?"zero":null:p=s.stack:RNn.has(i)&&(p="zero"),!p||!ONn(p)||T4e(t)&&h.length===0?null:!((n=s==null?void 0:s.scale)===null||n===void 0)&&n.type&&((r=s==null?void 0:s.scale)===null||r===void 0?void 0:r.type)!==Cm.LINEAR?(qn(n6n(s.scale.type)),null):Pa(t[BE(a)])?(s.stack!==void 0&&qn(t6n(a)),null):(er(s)&&s.aggregate&&!ZDn.has(s.aggregate)&&qn(r6n(s.aggregate)),{groupbyChannels:d,groupbyFields:c,fieldChannel:a,impute:s.impute===null?!1:$T(i),stackBy:h,offset:p})}var wbt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function MNn(e){const t=wbt(e,["point","line"]);return Vn(t).length>1?t:t.type}function PNn(e){for(const t of["line","area","rule","trail"])e[t]&&(e=Object.assign(Object.assign({},e),{[t]:Em(e[t],["point","line"])}));return e}function jye(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?Gr(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?Gr(t.point)?t.point:{}:void 0}function xZe(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class LNn{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Bk(t)){const{mark:r,encoding:i}=t,a=vE(r)?r:{type:r};switch(a.type){case"line":case"rule":case"trail":return!!jye(a,n[a.type],i);case"area":return!!jye(a,n[a.type],i)||!!xZe(a,n[a.type])}}return!1}run(t,n,r){const{config:i}=n,{params:a,projection:s,mark:u,encoding:f}=t,d=wbt(t,["params","projection","mark","encoding"]),c=Hle(f,i),h=vE(u)?u:{type:u},p=jye(h,i[h.type],c),v=h.type==="area"&&xZe(h,i[h.type]),m=[Object.assign(Object.assign({},a?{params:a}:{}),{mark:MNn(Object.assign(Object.assign({},h.type==="area"&&h.opacity===void 0&&h.fillOpacity===void 0?{opacity:.7}:{}),h)),encoding:Em(c,["shape"])})],y=bbt(h,c);let w=c;if(y){const{fieldChannel:_,offset:S}=y;w=Object.assign(Object.assign({},c),{[_]:Object.assign(Object.assign({},c[_]),S?{stack:S}:{})})}return w=Em(w,["y2","x2"]),v&&m.push(Object.assign(Object.assign({},s?{projection:s}:{}),{mark:Object.assign(Object.assign({type:"line"},QN(h,["clip","interpolate","tension","tooltip"])),v),encoding:w})),p&&m.push(Object.assign(Object.assign({},s?{projection:s}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},QN(h,["clip","tooltip"])),p),encoding:w})),r(Object.assign(Object.assign({},d),{layer:m}),Object.assign(Object.assign({},n),{config:PNn(i)}))}}var DNn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function INn(e,t){return t?$q(e)?xbt(e,t):_bt(e,t):e}function Bye(e,t){return t?xbt(e,t):e}function eEe(e,t,n){const r=t[e];if(mFn(r)){if(r.repeat in n)return Object.assign(Object.assign({},t),{[e]:n[r.repeat]});qn(mIn(r.repeat));return}return t}function _bt(e,t){if(e=eEe("field",e,t),e!==void 0){if(e===null)return null;if(k4e(e)&&tE(e.sort)){const n=eEe("field",e.sort,t);e=Object.assign(Object.assign({},e),n?{sort:n}:{})}return e}}function SZe(e,t){if(er(e))return _bt(e,t);{const n=eEe("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function EZe(e,t){if(Pa(e)){const n=SZe(e,t);if(n)return n;if(Fle(e))return{condition:e.condition}}else{if(kq(e)){const n=SZe(e.condition,t);return n?Object.assign(Object.assign({},e),{condition:n}):DNn(e,["condition"])}return e}}function xbt(e,t){const n={};for(const r in e)if(Ui(e,r)){const i=e[r];if(En(i))n[r]=i.map(a=>EZe(a,t)).filter(a=>a);else{const a=EZe(i,t);a!==void 0&&(n[r]=a)}}return n}class FNn{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Bk(t)){const{encoding:n,mark:r}=t;if(r==="line"||vE(r)&&r.type==="line")for(const i of IDn){const a=CL(i),s=n[a];if(n[i]&&(er(s)&&!Tg(s.bin)||UE(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:a}=t;return qn(NIn(!!i.x2,!!i.y2)),r(Object.assign(Object.assign({},t),{mark:Gr(a)?Object.assign(Object.assign({},a),{type:"rule"}):"rule"}),n)}}var HA=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class NNn extends H4e{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[jFn,UFn,XFn,new LNn,new FNn]}map(t,n){if(Bk(t)){const r=q5(t.encoding,ok),i=q5(t.encoding,sk),a=q5(t.encoding,xle);if(r||i||a)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,a=Bye(t.encoding,n.repeater),s=Object.assign(Object.assign({},t),a?{encoding:a}:{});if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const u=this.mapLayerOrUnit.bind(this);for(const f of this.nonFacetUnitNormalizers)if(f.hasMatchingType(s,n.config))return f.run(s,n,u);return s}mapRepeat(t,n){return CNn(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i}=t,a=HA(t,["repeat","spec"]),{row:s,column:u,layer:f}=r,{repeater:d={},repeaterPrefix:c=""}=n;return s||u?this.mapRepeat(Object.assign(Object.assign({},t),{repeat:Object.assign(Object.assign({},s?{row:s}:{}),u?{column:u}:{}),spec:{repeat:{layer:f},spec:i}}),n):Object.assign(Object.assign({},a),{layer:f.map(h=>{const p=Object.assign(Object.assign({},d),{layer:h}),v=`${(i.name||"")+c}child__layer_${ec(h)}`,m=this.mapLayerOrUnit(i,Object.assign(Object.assign({},n),{repeater:p,repeaterPrefix:v}));return m.name=v,m})})}mapNonLayerRepeat(t,n){var r;const{repeat:i,spec:a,data:s}=t,u=HA(t,["repeat","spec","data"]);!En(i)&&t.columns&&(t=Em(t,["columns"]),qn(rZe("repeat")));const f=[],{repeater:d={},repeaterPrefix:c=""}=n,h=!En(i)&&i.row||[d?d.row:null],p=!En(i)&&i.column||[d?d.column:null],v=En(i)&&i||[d?d.repeat:null];for(const y of v)for(const w of h)for(const _ of p){const S={repeat:y,row:w,column:_,layer:d.layer},C=(a.name||"")+c+"child__"+(En(i)?`${ec(y)}`:(i.row?`row_${ec(w)}`:"")+(i.column?`column_${ec(_)}`:"")),$=this.map(a,Object.assign(Object.assign({},n),{repeater:S,repeaterPrefix:C}));$.name=C,f.push(Em($,["data"]))}const m=En(i)?t.columns:i.column?i.column.length:1;return Object.assign(Object.assign({data:(r=a.data)!==null&&r!==void 0?r:s,align:"all"},u),{columns:m,concat:f})}mapFacet(t,n){const{facet:r}=t;return $q(r)&&t.columns&&(t=Em(t,["columns"]),qn(rZe("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:a,parentProjection:s,config:u}=n,f=$Ze({parentProjection:s,projection:i}),d=CZe({parentEncoding:a,encoding:Bye(r,n.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},t),f?{projection:f}:{}),d?{encoding:d}:{}),{config:u})}mapFacetedUnit(t,n){const r=t.encoding,{row:i,column:a,facet:s}=r,u=HA(r,["row","column","facet"]),{mark:f,width:d,projection:c,height:h,view:p,params:v,encoding:m}=t,y=HA(t,["mark","width","projection","height","view","params","encoding"]),{facetMapping:w,layout:_}=this.getFacetMappingAndLayout({row:i,column:a,facet:s},n),S=Bye(u,n.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},y),_),{facet:w,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d?{width:d}:{}),h?{height:h}:{}),p?{view:p}:{}),c?{projection:c}:{}),{mark:f,encoding:S}),v?{params:v}:{})}),n)}getFacetMappingAndLayout(t,n){var r;const{row:i,column:a,facet:s}=t;if(i||a){s&&qn(IIn([...i?[ok]:[],...a?[sk]:[]]));const u={},f={};for(const d of[ok,sk]){const c=t[d];if(c){const h=HA(c,["align","center","spacing","columns"]);u[d]=h;for(const p of["align","center","spacing"])c[p]!==void 0&&((r=f[p])!==null&&r!==void 0||(f[p]={}),f[p][d]=c[p])}}return{facetMapping:u,layout:f}}else{const{align:u,center:f,spacing:d,columns:c}=s,h=HA(s,["align","center","spacing","columns"]);return{facetMapping:INn(h,n.repeater),layout:Object.assign(Object.assign(Object.assign(Object.assign({},u?{align:u}:{}),f?{center:f}:{}),d?{spacing:d}:{}),c?{columns:c}:{})}}}mapLayer(t,n){var{parentEncoding:r,parentProjection:i}=n,a=HA(n,["parentEncoding","parentProjection"]);const{encoding:s,projection:u}=t,f=HA(t,["encoding","projection"]),d=Object.assign(Object.assign({},a),{parentEncoding:CZe({parentEncoding:r,encoding:s,layer:!0}),parentProjection:$Ze({parentProjection:i,projection:u})});return super.mapLayer(f,d)}}function CZe({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...Vn(e),...Vn(t)]);for(const a of i){const s=t[a],u=e[a];if(Pa(s)){const f=Object.assign(Object.assign({},u),s);r[a]=f}else kq(s)?r[a]=Object.assign(Object.assign({},s),{condition:Object.assign(Object.assign({},u),s.condition)}):s||s===null?r[a]=s:(n||O_(u)||Mi(u)||Pa(u)||En(u))&&(r[a]=u)}}else r=t;return!r||Tu(r)?void 0:r}function $Ze(e){const{parentProjection:t,projection:n}=e;return t&&n&&qn(SIn({parentProjection:t,projection:n})),n??t}function U4e(e){return"filter"in e}function zNn(e){return(e==null?void 0:e.stop)!==void 0}function Sbt(e){return"lookup"in e}function jNn(e){return"data"in e}function BNn(e){return"param"in e}function HNn(e){return"pivot"in e}function UNn(e){return"density"in e}function VNn(e){return"quantile"in e}function WNn(e){return"regression"in e}function GNn(e){return"loess"in e}function qNn(e){return"sample"in e}function YNn(e){return"window"in e}function KNn(e){return"joinaggregate"in e}function XNn(e){return"flatten"in e}function ZNn(e){return"calculate"in e}function Ebt(e){return"bin"in e}function QNn(e){return"impute"in e}function JNn(e){return"timeUnit"in e}function e8n(e){return"aggregate"in e}function t8n(e){return"stack"in e}function n8n(e){return"fold"in e}function r8n(e){return e.map(t=>U4e(t)?{filter:BF(t.filter,R6n)}:t)}var o3=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class i8n extends H4e{map(t,n){var r,i;return(r=n.emptySelections)!==null&&r!==void 0||(n.emptySelections={}),(i=n.selectionPredicates)!==null&&i!==void 0||(n.selectionPredicates={}),t=kZe(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=kZe(t,n),t.encoding){const r={};for(const[i,a]of j3(t.encoding))r[i]=Cbt(a,n);t=Object.assign(Object.assign({},t),{encoding:r})}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const r=t,{selection:i}=r,a=o3(r,["selection"]);return i?Object.assign(Object.assign({},a),{params:j3(i).map(([s,u])=>{var f;const d=u,{init:c,bind:h,empty:p}=d,v=o3(d,["init","bind","empty"]);v.type==="single"?(v.type="point",v.toggle=!1):v.type==="multi"&&(v.type="point"),n.emptySelections[s]=p!=="none";for(const m of Vp((f=n.selectionPredicates[s])!==null&&f!==void 0?f:{}))m.empty=p!=="none";return{name:s,value:c,select:v,bind:h}})}):t}}function kZe(e,t){const{transform:n}=e,r=o3(e,["transform"]);if(n){const i=n.map(a=>{if(U4e(a))return{filter:tEe(a,t)};if(Ebt(a)&&$L(a.bin))return Object.assign(Object.assign({},a),{bin:$bt(a.bin)});if(Sbt(a)){const s=a.from,{selection:u}=s,f=o3(s,["selection"]);return u?Object.assign(Object.assign({},a),{from:Object.assign({param:u},f)}):a}return a});return Object.assign(Object.assign({},r),{transform:i})}return e}function Cbt(e,t){var n,r;const i=Va(e);if(er(i)&&$L(i.bin)&&(i.bin=$bt(i.bin)),OL(i)&&(!((r=(n=i.scale)===null||n===void 0?void 0:n.domain)===null||r===void 0)&&r.selection)){const a=i.scale.domain,{selection:s}=a,u=o3(a,["selection"]);i.scale.domain=Object.assign(Object.assign({},u),s?{param:s}:{})}if(Fle(i))if(En(i.condition))i.condition=i.condition.map(a=>{const{selection:s,param:u,test:f}=a,d=o3(a,["selection","param","test"]);return u?a:Object.assign(Object.assign({},d),{test:tEe(a,t)})});else{const a=Cbt(i.condition,t),{selection:s,param:u,test:f}=a,d=o3(a,["selection","param","test"]);i.condition=u?i.condition:Object.assign(Object.assign({},d),{test:tEe(i.condition,t)})}return i}function $bt(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n}=t,r=o3(t,["selection"]);return Object.assign(Object.assign({},e),{extent:Object.assign(Object.assign({},r),{param:n})})}return e}function tEe(e,t){const n=r=>BF(r,i=>{var a,s,u;const f=(a=t.emptySelections[i])!==null&&a!==void 0?a:!0,d={param:i,empty:f};return(s=(u=t.selectionPredicates)[i])!==null&&s!==void 0||(u[i]=[]),t.selectionPredicates[i].push(d),d});return e.selection?n(e.selection):BF(e.test||e.filter,r=>r.selection?n(r.selection):r)}class nEe extends H4e{map(t,n){var r;const i=(r=n.selections)!==null&&r!==void 0?r:[];if(t.params&&!Bk(t)){const a=[];for(const s of t.params)z4e(s)?i.push(s):a.push(s);t.params=a}return n.selections=i,super.map(t,kbt(t,n))}mapUnit(t,n){var r;const i=n.selections;if(!i||!i.length)return t;const a=((r=n.path)!==null&&r!==void 0?r:[]).concat(t.name),s=[];for(const u of i)if(!u.views||!u.views.length)s.push(u);else for(const f of u.views)(Pr(f)&&(f===t.name||a.indexOf(f)>=0)||En(f)&&f.map(d=>a.indexOf(d)).every((d,c,h)=>d!==-1&&(c===0||d>h[c-1])))&&s.push(u);return s.length&&(t.params=s),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=nEe.prototype[e];nEe.prototype[e]=function(n,r){return t.call(this,n,kbt(n,r))}}function kbt(e,t){var n;return e.name?Object.assign(Object.assign({},t),{path:((n=t.path)!==null&&n!==void 0?n:[]).concat(e.name)}):t}function Obt(e,t){t===void 0&&(t=ybt(e.config));const n=u8n(e,t),{width:r,height:i}=e,a=l8n(n,{width:r,height:i,autosize:e.autosize},t);return Object.assign(Object.assign({},n),a?{autosize:a}:{})}const a8n=new NNn,o8n=new i8n,s8n=new nEe;function u8n(e,t={}){const n={config:t};return s8n.map(a8n.map(o8n.map(e,n),n),n)}function OZe(e){return Pr(e)?{type:e}:e??{}}function l8n(e,t,n){let{width:r,height:i}=t;const a=Bk(e)||Vle(e),s={};a?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(qn(JXe("width")),r=void 0),i=="container"&&(qn(JXe("height")),i=void 0));const u=Object.assign(Object.assign(Object.assign({type:"pad"},s),n?OZe(n.autosize):{}),OZe(e.autosize));if(u.type==="fit"&&!a&&(qn(sIn),u.type="pad"),r=="container"&&!(u.type=="fit"||u.type=="fit-x")&&qn(eZe("width")),i=="container"&&!(u.type=="fit"||u.type=="fit-y")&&qn(eZe("height")),!NS(u,{type:"pad"}))return u}function c8n(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function f8n(e){return e?`fit-${kle(e)}`:"fit"}const d8n=["background","padding"];function AZe(e,t){const n={};for(const r of d8n)e&&e[r]!==void 0&&(n[r]=Z1(e[r]));return t&&(n.params=e.params),n}class Hk{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Hk(Va(this.explicit),Va(this.implicit))}combine(){return Object.assign(Object.assign({},this.explicit),this.implicit)}get(t){return md(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of Vn(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function _S(e){return{explicit:!0,value:e}}function W1(e){return{explicit:!1,value:e}}function Abt(e){return(t,n,r,i)=>{const a=e(t.value,n.value);return a>0?t:a<0?n:Wle(t,n,r,i)}}function Wle(e,t,n,r){return e.explicit&&t.explicit&&qn(YIn(n,r,e.value,t.value)),e}function H3(e,t,n,r,i=Wle){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:NS(e.value,t.value)?e:i(e,t,n,r)}class h8n extends Hk{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function o8(e){return"url"in e}function mW(e){return"values"in e}function Rbt(e){return"name"in e&&!o8(e)&&!mW(e)&&!s3(e)}function s3(e){return e&&(Tbt(e)||Mbt(e)||V4e(e))}function Tbt(e){return"sequence"in e}function Mbt(e){return"sphere"in e}function V4e(e){return"graticule"in e}var nl;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"})(nl||(nl={}));var g8n=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zP(e,t=!0,n=Zp){if(En(e)){const r=e.map(i=>zP(i,t,n));return t?`[${r.join(", ")}]`:r}else if(kL(e))return n(t?vW(e):b6n(e));return t?n(al(e)):e}function p8n(e,t){var n;for(const r of Vp((n=e.component.selection)!==null&&n!==void 0?n:{})){const i=r.name;let a=`${i}${W3}, ${r.resolve==="global"?"true":`{unit: ${s8(e)}}`}`;for(const s of qle)s.defined(r)&&(s.signals&&(t=s.signals(e,r,t)),s.modifyExpr&&(a=s.modifyExpr(e,r,a)));t.push({name:i+Y8n,on:[{events:{signal:r.name+W3},update:`modify(${ar(r.name+jP)}, ${a})`}]})}return W4e(t)}function v8n(e,t){if(e.component.selection&&Vn(e.component.selection).length){const n=ar(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:mT("mousemove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return W4e(t)}function m8n(e,t){var n;let r=!1;for(const i of Vp((n=e.component.selection)!==null&&n!==void 0?n:{})){const a=i.name,s=ar(a+jP);if(t.filter(f=>f.name===a).length===0){const f=i.resolve==="global"?"union":i.resolve,d=i.type==="point"?", true, true)":")";t.push({name:i.name,update:`${Ybt}(${s}, ${ar(f)}${d}`})}r=!0;for(const f of qle)f.defined(i)&&f.topLevelSignals&&(t=f.topLevelSignals(e,i,t))}return r&&t.filter(a=>a.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]}),W4e(t)}function y8n(e,t){var n;const r=[...t],i=s8(e,{escape:!1});for(const a of Vp((n=e.component.selection)!==null&&n!==void 0?n:{})){const s={name:a.name+jP};if(a.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:yE}}]),a.init){const f=a.project.items.map(d=>g8n(d,["signals"]));s.values=a.project.hasSelectionId?a.init.map(d=>({unit:i,[yE]:zP(d,!1)[0]})):a.init.map(d=>({unit:i,fields:f,values:zP(d,!1)}))}r.filter(f=>f.name===a.name+jP).length||r.push(s)}return r}function Pbt(e,t){var n;for(const r of Vp((n=e.component.selection)!==null&&n!==void 0?n:{}))for(const i of qle)i.defined(r)&&i.marks&&(t=i.marks(e,r,t));return t}function b8n(e,t){for(const n of e.children)fd(n)&&(t=Pbt(n,t));return t}function w8n(e,t,n,r){const i=Jbt(e,t.param,t);return{signal:gy(n.get("type"))&&En(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function W4e(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class Lu{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){qn(wIn);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class fv extends Lu{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${P1t()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}var RZe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class nE extends Lu{clone(){return new nE(null,Va(this.formula))}constructor(t,n){super(t),this.formula=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a)=>{const{field:s,timeUnit:u}=a;if(u){const f=xr(a,{forAs:!0});i[ts({as:f,field:s,timeUnit:u})]={as:f,field:s,timeUnit:u}}return i},{});return Tu(r)?null:new nE(t,r)}static makeFromTransform(t,n){const r=Object.assign({},n),{timeUnit:i}=r,a=RZe(r,["timeUnit"]),s=Jp(i),u=Object.assign(Object.assign({},a),{timeUnit:s});return new nE(t,{[ts(u)]:u})}merge(t){this.formula=Object.assign({},this.formula);for(const n in t.formula)this.formula[n]||(this.formula[n]=t.formula[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of j3(this.formula))t.has(i.as)||(n[r]=i);this.formula=n}producedFields(){return new Set(Vp(this.formula).map(t=>t.as))}dependentFields(){return new Set(Vp(this.formula).map(t=>t.field))}hash(){return`TimeUnit ${ts(this.formula)}`}assemble(){const t=[];for(const n of Vp(this.formula)){const{field:r,as:i,timeUnit:a}=n,s=Jp(a),{unit:u,utc:f}=s,d=RZe(s,["unit","utc"]);t.push(Object.assign(Object.assign(Object.assign(Object.assign({field:ow(r),type:"timeunit"},u?{units:u4e(u)}:{}),f?{timezone:"utc"}:{}),d),{as:[i,`${i}_end`]}))}return t}}var _8n=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Rq="_tuple_fields";class x8n{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const S8n={defined:()=>!0,parse:(e,t,n)=>{var r;const i=t.name,a=(r=t.project)!==null&&r!==void 0?r:t.project=new x8n,s={},u={},f=new Set,d=(y,w)=>{const _=w==="visual"?y.channel:y.field;let S=ec(`${i}_${_}`);for(let C=1;f.has(S);C++)S=ec(`${i}_${_}_${C}`);return f.add(S),{[w]:S}},c=t.type,h=e.config.selection[c],p=n.value!==void 0?Mr(n.value):null;let{fields:v,encodings:m}=Gr(n.select)?n.select:{};if(!v&&!m&&p){for(const y of p)if(Gr(y))for(const w of Vn(y))DDn(w)?(m||(m=[])).push(w):c==="interval"?(qn(vIn),m=h.encodings):(v||(v=[])).push(w)}!v&&!m&&(m=h.encodings,"fields"in h&&(v=h.fields));for(const y of m??[]){const w=e.fieldDef(y);if(w){let _=w.field;if(w.aggregate){qn(uIn(y,w.aggregate));continue}else if(!_){qn(nZe(y));continue}if(w.timeUnit){_=e.vgField(y);const S={timeUnit:w.timeUnit,as:_,field:w.field};u[ts(S)]=S}if(!s[_]){let S="E";if(c==="interval"){const $=e.getScaleComponent(y).get("type");gy($)&&(S="R")}else w.bin&&(S="R-RE");const C={field:_,channel:y,type:S};C.signals=Object.assign(Object.assign({},d(C,"data")),d(C,"visual")),a.items.push(s[_]=C),a.hasField[_]=a.hasChannel[y]=s[_],a.hasSelectionId=a.hasSelectionId||_===yE}}else qn(nZe(y))}for(const y of v??[]){if(a.hasField[y])continue;const w={type:"E",field:y};w.signals=Object.assign({},d(w,"data")),a.items.push(w),a.hasField[y]=w,a.hasSelectionId=a.hasSelectionId||y===yE}p&&(t.init=p.map(y=>a.items.map(w=>Gr(y)?y[w.channel]!==void 0?y[w.channel]:y[w.field]:y))),Tu(u)||(a.timeUnit=new nE(null,u))},signals:(e,t,n)=>{const r=t.name+Rq;return n.filter(a=>a.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(a=>{const s=_8n(a,["signals","hasLegend"]);return s.field=ow(s.field),s})})}},U3={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!ST(i))continue;const a=e.getScaleComponent(i),s=a?a.get("type"):void 0;if(!a||!gy(s)){qn(fIn);continue}a.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(u=>u.name===s.signals.data).length===0);if(!e.parent||iEe(e)||r.length===0)return n;const i=n.filter(s=>s.name===t.name)[0];let a=i.update;if(a.indexOf(Ybt)>=0)i.update=`{${r.map(s=>`${ar(ow(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const u=`${ar(ow(s.field))}: ${s.signals.data}`;a.includes(u)||(a=`${a.substring(0,a.length-1)}, ${u}}`)}i.update=a}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!iEe(e))for(const r of t.scales){const i=n.filter(a=>a.name===r.signals.data)[0];i.push="outer",delete i.value,delete i.update}return n}};function rEe(e,t){return`domain(${ar(e.scaleName(t))})`}function iEe(e){var t;return e.parent&&A7(e.parent)&&((t=!e.parent.parent)!==null&&t!==void 0?t:iEe(e.parent.parent))}var E8n=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const VF="_brush",aEe="_scale_trigger",C8n={defined:e=>e.type==="interval",signals:(e,t,n)=>{const r=t.name,i=r+Rq,a=U3.defined(t),s=t.init?t.init[0]:null,u=[],f=[];if(t.translate&&!a){const c=`!event.item || event.item.mark.name !== ${ar(r+VF)}`;Lbt(t,(h,p)=>{var v,m;const y=Mr((v=(m=p.between[0]).filter)!==null&&v!==void 0?v:m.filter=[]);return y.includes(c)||y.push(c),h})}t.project.items.forEach((c,h)=>{const p=c.channel;if(p!==zc&&p!==Hh){qn("Interval selections only support x and y encoding channels.");return}const v=s?s[h]:null,m=$8n(e,t,c,v),y=c.signals.data,w=c.signals.visual,_=ar(e.scaleName(p)),S=e.getScaleComponent(p).get("type"),C=gy(S)?"+":"";n.push(...m),u.push(y),f.push({scaleName:e.scaleName(p),expr:`(!isArray(${y}) || (${C}invert(${_}, ${w})[0] === ${C}${y}[0] && ${C}invert(${_}, ${w})[1] === ${C}${y}[1]))`})}),!a&&f.length&&n.push({name:r+aEe,value:{},on:[{events:f.map(c=>({scale:c.scaleName})),update:`${f.map(c=>c.expr).join(" && ")} ? ${r+aEe} : {}`}]});const d=`unit: ${s8(e)}, fields: ${i}, values`;return n.concat(Object.assign(Object.assign({name:r+W3},s?{init:`{${d}: ${zP(s)}}`}:{}),u.length?{on:[{events:[{signal:u.join(" || ")}],update:`${u.join(" && ")} ? {${d}: [${u}]} : null`}]}:{}))},marks:(e,t,n)=>{const r=t.name,{x:i,y:a}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,u=a==null?void 0:a.signals.visual,f=`data(${ar(t.name+jP)})`;if(U3.defined(t)||!i&&!a)return n;const d={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:a!==void 0?{signal:`${u}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:a!==void 0?{signal:`${u}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const w of Vn(d))d[w]=[Object.assign({test:`${f}.length && ${f}[0].unit === ${s8(e)}`},d[w]),{value:0}];const c=t.mark,{fill:h,fillOpacity:p,cursor:v}=c,m=E8n(c,["fill","fillOpacity","cursor"]),y=Vn(m).reduce((w,_)=>(w[_]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,a!==void 0&&`${u}[0] !== ${u}[1]`].filter(S=>S).join(" && "),value:m[_]},{value:null}],w),{});return[{name:`${r+VF}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:h},fillOpacity:{value:p}},update:d}},...n,{name:r+VF,type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},v?{cursor:{value:v}}:{}),{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},d),y)}}]}};function $8n(e,t,n,r){const i=n.channel,a=n.signals.visual,s=n.signals.data,u=U3.defined(t),f=ar(e.scaleName(i)),d=e.getScaleComponent(i),c=d?d.get("type"):void 0,h=y=>`scale(${f}, ${y})`,p=e.getSizeSignalRef(i===zc?"width":"height").signal,v=`${i}(unit)`,m=Lbt(t,(y,w)=>[...y,{events:w.between[0],update:`[${v}, ${v}]`},{events:w,update:`[${a}[0], clamp(${v}, 0, ${p})]`}]);return m.push({events:{signal:t.name+aEe},update:gy(c)?`[${h(`${s}[0]`)}, ${h(`${s}[1]`)}]`:"[0, 0]"}),u?[{name:s,on:[]}]:[Object.assign(Object.assign({name:a},r?{init:zP(r,!0,h)}:{value:[]}),{on:m}),Object.assign(Object.assign({name:s},r?{init:zP(r)}:{}),{on:[{events:{signal:a},update:`${a}[0] === ${a}[1] ? null : invert(${f}, ${a})`}]})]}function Lbt(e,t){return e.events.reduce((n,r)=>r.between?t(n,r):(qn(`${r} is not an ordered event stream for interval selections.`),n),[])}const k8n={defined:e=>e.type==="point",signals:(e,t,n)=>{var r;const i=t.name,a=i+Rq,s=t.project,u="(item().isVoronoi ? datum.datum : datum)",f=Vp((r=e.component.selection)!==null&&r!==void 0?r:{}).reduce((p,v)=>v.type==="interval"?p.concat(v.name+VF):p,[]).map(p=>`indexof(item().mark.name, '${p}') < 0`).join(" && "),d=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${f?` && ${f}`:""}`;let c=`unit: ${s8(e)}, `;if(t.project.hasSelectionId)c+=`${yE}: ${u}[${ar(yE)}]`;else{const p=s.items.map(v=>{const m=e.fieldDef(v.channel);return m!=null&&m.bin?`[${u}[${ar(e.vgField(v.channel,{}))}], ${u}[${ar(e.vgField(v.channel,{binSuffix:"end"}))}]]`:`${u}[${ar(v.field)}]`}).join(", ");c+=`fields: ${a}, values: [${p}]`}const h=t.events;return n.concat([{name:i+W3,on:h?[{events:h,update:`${d} ? {${c}} : null`,force:!0}]:[]}])}};function C7(e,t,n,r){const i=Fle(t)&&t.condition,a=r(t);if(i){const u=Mr(i).map(f=>{const d=r(f);if(vFn(f)){const{param:c,empty:h}=f,p=Qbt(e,{param:c,empty:h});return Object.assign({test:p},d)}else{const c=dae(e,f.test);return Object.assign({test:c},d)}});return{[n]:[...u,...a!==void 0?[a]:[]]}}else return a!==void 0?{[n]:a}:{}}function G4e(e,t="text"){const n=e.encoding[t];return C7(e,n,t,r=>Gle(r,e.config))}function Gle(e,t,n="datum"){if(e){if(O_(e))return Rl(e.value);if(Pa(e)){const{format:r,formatType:i}=aae(e);return C4e({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function Dbt(e,t={}){const{encoding:n,markDef:r,config:i,stack:a}=e,s=n.tooltip;if(En(s))return{tooltip:TZe({tooltip:s},a,i,t)};{const u=t.reactiveGeom?"datum.datum":"datum";return C7(e,s,"tooltip",f=>{const d=Gle(f,i,u);if(d)return d;if(f===null)return;let c=uu("tooltip",r,i);if(c===!0&&(c={content:"encoding"}),Pr(c))return{value:c};if(Gr(c))return Mi(c)?c:c.content==="encoding"?TZe(n,a,i,t):{signal:u}})}}function Ibt(e,t,n,{reactiveGeom:r}={}){const i={},a=r?"datum.datum":"datum",s=[];function u(d,c){const h=CL(c),p=uw(d)?d:Object.assign(Object.assign({},d),{type:e[h].type}),v=p.title||A4e(p,n),m=Mr(v).join(", ");let y;if(Uh(c)){const w=c==="x"?"x2":"y2",_=mE(e[w]);if(Tg(p.bin)&&_){const S=xr(p,{expr:a}),C=xr(_,{expr:a}),{format:$,formatType:k}=aae(p);y=Cq(S,C,$,k,n),i[w]=!0}}if((Uh(c)||c===gw||c===D_)&&t&&t.fieldChannel===c&&t.offset==="normalize"){const{format:w,formatType:_}=aae(p);y=C4e({fieldOrDatumDef:p,format:w,formatType:_,expr:a,config:n,normalizeStack:!0}).signal}y??(y=Gle(p,n,a).signal),s.push({channel:c,key:m,value:y})}M4e(e,(d,c)=>{er(d)?u(d,c):Nle(d)&&u(d.condition,c)});const f={};for(const{channel:d,key:c,value:h}of s)!i[d]&&!f[c]&&(f[c]=h);return f}function TZe(e,t,n,{reactiveGeom:r}={}){const i=Ibt(e,t,n,{reactiveGeom:r}),a=j3(i).map(([s,u])=>`"${s}": ${u}`);return a.length>0?{signal:`{${a.join(", ")}}`}:void 0}function O8n(e){const{markDef:t,config:n}=e,r=uu("aria",t,n);return r===!1?{}:Object.assign(Object.assign(Object.assign({},r?{aria:r}:{}),A8n(e)),R8n(e))}function A8n(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=uu("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in iIn?{}:{ariaRoleDescription:{value:t}}}function R8n(e){const{encoding:t,markDef:n,config:r,stack:i}=e,a=t.description;if(a)return C7(e,a,"description",f=>Gle(f,e.config));const s=uu("description",n,r);if(s!=null)return{description:Rl(s)};if(r.aria===!1)return{};const u=Ibt(t,i,r);if(!Tu(u))return{description:{signal:j3(u).map(([f,d],c)=>`"${c>0?"; ":""}${f}: " + (${d})`).join(" + ")}}}function Mh(e,t,n={}){const{markDef:r,encoding:i,config:a}=t,{vgChannel:s}=n;let{defaultRef:u,defaultValue:f}=n;u===void 0&&(f??(f=uu(e,r,a,{vgChannel:s,ignoreVgConfig:!0})),f!==void 0&&(u=Rl(f)));const d=i[e];return C7(t,d,s??e,c=>E4e({channel:e,channelDef:c,markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:u}))}function Fbt(e,t={filled:void 0}){var n,r,i,a;const{markDef:s,encoding:u,config:f}=e,{type:d}=s,c=(n=t.filled)!==null&&n!==void 0?n:uu("filled",s,f),h=Vo(["bar","point","circle","square","geoshape"],d)?"transparent":void 0,p=(i=(r=uu(c===!0?"color":void 0,s,f,{vgChannel:"fill"}))!==null&&r!==void 0?r:f.mark[c===!0&&"color"])!==null&&i!==void 0?i:h,v=(a=uu(c===!1?"color":void 0,s,f,{vgChannel:"stroke"}))!==null&&a!==void 0?a:f.mark[c===!1&&"color"],m=c?"fill":"stroke",y=Object.assign(Object.assign({},p?{fill:Rl(p)}:{}),v?{stroke:Rl(v)}:{});return s.color&&(c?s.fill:s.stroke)&&qn(ayt("property",{fill:"fill"in s,stroke:"stroke"in s})),Object.assign(Object.assign(Object.assign(Object.assign({},y),Mh("color",e,{vgChannel:m,defaultValue:c?p:v})),Mh("fill",e,{defaultValue:u.fill?p:void 0})),Mh("stroke",e,{defaultValue:u.stroke?v:void 0}))}function T8n(e){const{encoding:t,mark:n}=e,r=t.order;return!$T(n)&&O_(r)?C7(e,r,"zindex",i=>Rl(i.value)):{}}function yW({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const a=`${e}Offset`,s=t[a],u=n[a];if((a==="xOffset"||a==="yOffset")&&u)return{offsetType:"encoding",offset:E4e({channel:a,channelDef:u,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(a),scale:r.getScaleComponent(a),stack:null,defaultRef:Rl(s),bandPosition:i})};const f=t[a];return f?{offsetType:"visual",offset:f}:{}}function Fp(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:a,config:s,stack:u}=t,f=i[e],d=i[BE(e)],c=t.scaleName(e),h=t.getScaleComponent(e),{offset:p,offsetType:v}=yW({channel:e,markDef:a,encoding:i,model:t,bandPosition:.5}),m=q4e({model:t,defaultPos:n,channel:e,scaleName:c,scale:h}),y=!f&&Uh(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:M8n({channel:e,channelDef:f,channel2Def:d,markDef:a,config:s,scaleName:c,scale:h,stack:u,offset:p,defaultRef:m,bandPosition:v==="encoding"?0:void 0});return y?{[r||e]:y}:void 0}function M8n(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:a,markDef:s}=e;if(Pa(n)&&i&&t===i.fieldChannel){if(er(n)){let u=n.bandPosition;if(u===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(u=.5),u!==void 0)return rae({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:u,offset:a})}return G5(n,r,{suffix:"end"},{offset:a})}return x4e(e)}function q4e({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:a,config:s}=e;return()=>{const u=CL(n),f=B3(n),d=uu(n,a,s,{vgChannel:f});if(d!==void 0)return CU(n,d);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const c=i.get("type");if(!Vo([Cm.LOG,Cm.TIME,Cm.UTC],c)){if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return u==="y"?{field:{group:"height"}}:{value:0};switch(u){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":{const c=e[Im(n)];return Object.assign(Object.assign({},c),{mult:.5})}}}}const P8n={left:"x",center:"xc",right:"x2"},L8n={top:"y",middle:"yc",bottom:"y2"};function Nbt(e,t,n,r="middle"){if(e==="radius"||e==="theta")return B3(e);const i=e==="x"?"align":"baseline",a=uu(i,t,n);let s;return Mi(a)?(qn(FIn(i)),s=void 0):s=a,e==="x"?P8n[s||(r==="top"?"left":"center")]:L8n[s||r]}function cae(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?zbt(e,t,{defaultPos:n,defaultPos2:r}):Fp(e,t,{defaultPos:n})}function zbt(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:a}=t,s=BE(e),u=Im(e),f=D8n(t,r,s),d=f[u]?Nbt(e,i,a):B3(e);return Object.assign(Object.assign({},Fp(e,t,{defaultPos:n,vgChannel:d})),f)}function D8n(e,t,n){const{encoding:r,mark:i,markDef:a,stack:s,config:u}=e,f=CL(n),d=Im(n),c=B3(n),h=r[f],p=e.scaleName(f),v=e.getScaleComponent(f),{offset:m}=n in r||n in a?yW({channel:n,markDef:a,encoding:r,model:e}):yW({channel:f,markDef:a,encoding:r,model:e});if(!h&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const w=Im(n),_=e.markDef[w];return _!=null?{[w]:{value:_}}:{[c]:{field:e.getName(n)}}}const y=I8n({channel:n,channelDef:h,channel2Def:r[n],markDef:a,config:u,scaleName:p,scale:v,stack:s,offset:m,defaultRef:void 0});return y!==void 0?{[c]:y}:Eee(n,a)||Eee(n,{[n]:eae(n,a,u.style),[d]:eae(d,a,u.style)})||Eee(n,u[i])||Eee(n,u.mark)||{[c]:q4e({model:e,defaultPos:t,channel:n,scaleName:p,scale:v})()}}function I8n({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:s,stack:u,offset:f,defaultRef:d}){return Pa(t)&&u&&e.charAt(0)===u.fieldChannel.charAt(0)?G5(t,a,{suffix:"start"},{offset:f}):x4e({channel:e,channelDef:n,scaleName:a,scale:s,stack:u,markDef:r,config:i,offset:f,defaultRef:d})}function Eee(e,t){const n=Im(e),r=B3(e);if(t[r]!==void 0)return{[r]:CU(e,t[r])};if(t[e]!==void 0)return{[r]:CU(e,t[e])};if(t[n]){const i=t[n];if(FP(i))qn(RIn(n));else return{[n]:CU(e,i)}}}function V3(e,t){var n,r;const{config:i,encoding:a,markDef:s}=e,u=s.type,f=BE(t),d=Im(t),c=a[t],h=a[f],p=e.getScaleComponent(t),v=p?p.get("type"):void 0,m=s.orient,y=(r=(n=a[d])!==null&&n!==void 0?n:a.size)!==null&&r!==void 0?r:uu("size",s,i,{vgChannel:d}),w=u==="bar"&&(t==="x"?m==="vertical":m==="horizontal");return er(c)&&(ul(c.bin)||Tg(c.bin)||c.timeUnit&&!h)&&!(y&&!FP(y))&&!Vh(v)?z8n({fieldDef:c,fieldDef2:h,channel:t,model:e}):(Pa(c)&&Vh(v)||w)&&!h?N8n(c,t,e):zbt(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function F8n(e,t,n,r,i){if(FP(i))if(n){const s=n.get("type");if(s==="band"){let u=`bandwidth('${t}')`;return i.band!==1&&(u=`${i.band} * ${u}`),{signal:`max(0.25, ${u})`}}else i.band!==1&&(qn(BIn(s)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(Mi(i))return i;if(i)return{value:i}}if(n){const s=n.get("range");if(CT(s)&&Mu(s.step))return{value:s.step-2}}return{value:uae(r.view,e)-2}}function N8n(e,t,n){const{markDef:r,encoding:i,config:a,stack:s}=n,u=r.orient,f=n.scaleName(t),d=n.getScaleComponent(t),c=Im(t),h=BE(t),p=FDn(t),v=n.scaleName(p),m=u==="horizontal"&&t==="y"||u==="vertical"&&t==="x";let y;(i.size||r.size)&&(m?y=Mh("size",n,{vgChannel:c,defaultRef:Rl(r.size)}):qn(WIn(r.type)));const w=!!y,_=Nyt({channel:t,fieldDef:e,markDef:r,config:a,scaleType:d==null?void 0:d.get("type"),useVlSizeChannel:m});y=y||{[c]:F8n(c,v||f,d,a,_)};const S=(d==null?void 0:d.get("type"))==="band"&&FP(_)&&!w?"top":"middle",C=Nbt(t,r,a,S),$=C==="xc"||C==="yc",{offset:k,offsetType:M}=yW({channel:t,markDef:r,encoding:i,model:n,bandPosition:$?.5:0}),A=x4e({channel:t,channelDef:e,markDef:r,config:a,scaleName:f,scale:d,stack:s,offset:k,defaultRef:q4e({model:n,defaultPos:"mid",channel:t,scaleName:f,scale:d}),bandPosition:$?M==="encoding"?0:.5:Mi(_)?{signal:`(1-${_})/2`}:FP(_)?(1-_.band)/2:0});if(c)return Object.assign({[C]:A},y);{const L=B3(h),N=y[c],R=k?Object.assign(Object.assign({},N),{offset:k}):N;return{[C]:A,[L]:En(A)?[A[0],Object.assign(Object.assign({},A[1]),{offset:R})]:Object.assign(Object.assign({},A),{offset:R})}}}function NB(e,t,n,r,i){if(F1t(e))return 0;const a=e==="x"||e==="y2"?-t/2:t/2;if(Mi(n)||Mi(i)||Mi(r)){const s=uk(n),u=uk(i),f=uk(r),d=f?`${f} + `:"",c=s?`(${s} ? -1 : 1) * `:"",h=u?`(${u} + ${a})`:a;return{signal:d+c+h}}else return i=i||0,r+(n?-i-a:+i+a)}function z8n({fieldDef:e,fieldDef2:t,channel:n,model:r}){var i,a,s;const{config:u,markDef:f,encoding:d}=r,c=r.getScaleComponent(n),h=r.scaleName(n),p=c?c.get("type"):void 0,v=c.get("reverse"),m=Nyt({channel:n,fieldDef:e,markDef:f,config:u,scaleType:p}),y=(i=r.component.axes[n])===null||i===void 0?void 0:i[0],w=(a=y==null?void 0:y.get("translate"))!==null&&a!==void 0?a:.5,_=Uh(n)&&(s=uu("binSpacing",f,u))!==null&&s!==void 0?s:0,S=BE(n),C=B3(n),$=B3(S),{offset:k}=yW({channel:n,markDef:f,encoding:d,model:r,bandPosition:0}),M=Mi(m)?{signal:`(1-${m.signal})/2`}:FP(m)?(1-m.band)/2:.5;if(ul(e.bin)||e.timeUnit)return{[$]:MZe({fieldDef:e,scaleName:h,bandPosition:M,offset:NB(S,_,v,w,k)}),[C]:MZe({fieldDef:e,scaleName:h,bandPosition:Mi(M)?{signal:`1-${M.signal}`}:1-M,offset:NB(n,_,v,w,k)})};if(Tg(e.bin)){const A=G5(e,h,{},{offset:NB(S,_,v,w,k)});if(er(t))return{[$]:A,[C]:G5(t,h,{},{offset:NB(n,_,v,w,k)})};if($L(e.bin)&&e.bin.step)return{[$]:A,[C]:{signal:`scale("${h}", ${xr(e,{expr:"datum"})} + ${e.bin.step})`,offset:NB(n,_,v,w,k)}}}qn(uyt(S))}function MZe({fieldDef:e,scaleName:t,bandPosition:n,offset:r}){return rae({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r})}const j8n=new Set(["aria","width","height"]);function pw(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?Fbt(e):{};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},B8n(e.markDef,t)),PZe(e,"fill",n)),PZe(e,"stroke",r)),Mh("opacity",e)),Mh("fillOpacity",e)),Mh("strokeOpacity",e)),Mh("strokeWidth",e)),Mh("strokeDash",e)),T8n(e)),Dbt(e)),G4e(e,"href")),O8n(e))}function PZe(e,t,n){const{config:r,mark:i,markDef:a}=e;if(uu("invalid",a,r)==="hide"&&n&&!$T(i)){const u=H8n(e,{invalid:!0,channels:Ole});if(u)return{[t]:[{test:u,value:null},...Mr(n)]}}return n?{[t]:n}:{}}function B8n(e,t){return rIn.reduce((n,r)=>(!j8n.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=Rl(e[r])),n),{})}function H8n(e,{invalid:t=!1,channels:n}){const r=n.reduce((a,s)=>{const u=e.getScaleComponent(s);if(u){const f=u.get("type"),d=e.vgField(s,{expr:"datum"});d&&gy(f)&&(a[d]=!0)}return a},{}),i=Vn(r);if(i.length>0){const a=t?"||":"&&";return i.map(s=>S4e(s,t)).join(` ${a} `)}}function Y4e(e){const{config:t,markDef:n}=e;if(uu("invalid",n,t)){const i=U8n(e,{channels:HE});if(i)return{defined:{signal:i}}}return{}}function U8n(e,{invalid:t=!1,channels:n}){const r=n.reduce((a,s)=>{var u;const f=e.getScaleComponent(s);if(f){const d=f.get("type"),c=e.vgField(s,{expr:"datum",binSuffix:!((u=e.stack)===null||u===void 0)&&u.impute?"mid":void 0});c&&gy(d)&&(a[c]=!0)}return a},{}),i=Vn(r);if(i.length>0){const a=t?"||":"&&";return i.map(s=>S4e(s,t)).join(` ${a} `)}}function LZe(e,t){if(t!==void 0)return{[e]:Rl(t)}}const Hye="voronoi",jbt={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(Hye)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,a=e.mark;if($T(a))return qn(lIn(a)),n;const s={name:e.getName(Hye),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Dbt(e,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let u=0,f=!1;return n.forEach((d,c)=>{var h;const p=(h=d.name)!==null&&h!==void 0?h:"";p===e.component.mark[0].name?u=c:p.indexOf(Hye)>=0&&(f=!0)}),f||n.splice(u+1,0,s),n}},Bbt={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!N4e(e.bind),parse:(e,t,n)=>Kbt(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,a=t.bind,s=t.init&&t.init[0],u=jbt.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((f,d)=>{var c,h;const p=ec(`${r}_${f.field}`);n.filter(m=>m.name===p).length||n.unshift(Object.assign(Object.assign({name:p},s?{init:zP(s[d])}:{value:null}),{on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${u}[${ar(f.field)}] : null`}]:[],bind:(h=(c=a[f.field])!==null&&c!==void 0?c:a[f.channel])!==null&&h!==void 0?h:a}))}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.filter(d=>d.name===r+W3)[0],s=r+Rq,u=i.items.map(d=>ec(`${r}_${d.field}`)),f=u.map(d=>`${d} !== null`).join(" && ");return u.length&&(a.update=`${f} ? {fields: ${s}, values: [${u.join(", ")}]} : null`),delete a.value,delete a.on,n}},fae="_toggle",Hbt={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+fae,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+W3,r=t.name+fae;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${s8(e)}}, `)+`${r} ? ${n} : null`}},V8n={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=Pr(t.clear)?mT(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(Bbt.defined(t))for(const r of t.project.items){const i=n.findIndex(a=>a.name===ec(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,a){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:a})}if(t.type==="interval")for(const i of t.project.items){const a=n.findIndex(s=>s.name===i.signals.visual);if(r(a,"[0, 0]"),a===-1){const s=n.findIndex(u=>u.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(a=>a.name===t.name+W3);r(i,"null"),Hbt.defined(t)&&(i=n.findIndex(a=>a.name===t.name+fae),r(i,"false"))}return n}},Ubt={defined:e=>{const t=e.resolve==="global"&&e.bind&&N4e(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==yE;return t&&!n&&qn(dIn),t&&n},parse:(e,t,n)=>{var r;const i=Va(n);if(i.select=Pr(i.select)?{type:i.select,toggle:t.toggle}:Object.assign(Object.assign({},i.select),{toggle:t.toggle}),Kbt(t,i),Gr(n.select)&&(n.select.on||n.select.clear)){const u='event.item && indexof(event.item.mark.role, "legend") < 0';for(const f of t.events)f.filter=Mr((r=f.filter)!==null&&r!==void 0?r:[]),f.filter.includes(u)||f.filter.push(u)}const a=zye(t.bind)?t.bind.legend:"click",s=Pr(a)?mT(a,"view"):Mr(a);t.bind={legend:{merge:s}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=zye(t.bind)&&t.bind.legend,a=s=>u=>{const f=Va(u);return f.markname=s,f};for(const s of t.project.items){if(!s.hasLegend)continue;const u=`${ec(s.field)}_legend`,f=`${r}_${u}`;if(n.filter(c=>c.name===f).length===0){const c=i.merge.map(a(`${u}_symbols`)).concat(i.merge.map(a(`${u}_labels`))).concat(i.merge.map(a(`${u}_entries`)));n.unshift(Object.assign(Object.assign({name:f},t.init?{}:{value:null}),{on:[{events:c,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${f}`,force:!0}]}))}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.find(p=>p.name===r+W3),s=r+Rq,u=i.items.filter(p=>p.hasLegend).map(p=>ec(`${r}_${ec(p.field)}_legend`)),d=`${u.map(p=>`${p} !== null`).join(" && ")} ? {fields: ${s}, values: [${u.join(", ")}]} : null`;t.events&&u.length>0?a.on.push({events:u.map(p=>({signal:p})),update:d}):u.length>0&&(a.update=d,delete a.value,delete a.on);const c=n.find(p=>p.name===r+fae),h=zye(t.bind)&&t.bind.legend;return c&&(t.events?c.on.push(Object.assign(Object.assign({},c.on[0]),{events:h})):c.on[0].events=h),n}};function W8n(e,t,n){var r,i,a,s;const u=(r=e.fieldDef(t))===null||r===void 0?void 0:r.field;for(const f of Vp((i=e.component.selection)!==null&&i!==void 0?i:{})){const d=(a=f.project.hasField[u])!==null&&a!==void 0?a:f.project.hasChannel[t];if(d&&Ubt.defined(f)){const c=(s=n.get("selections"))!==null&&s!==void 0?s:[];c.push(f.name),n.set("selections",c,!1),d.hasLegend=!0}}}const Vbt="_translate_anchor",Wbt="_translate_delta",G8n={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=U3.defined(t),a=r+Vbt,{x:s,y:u}=t.project.hasChannel;let f=mT(t.translate,"scope");return i||(f=f.map(d=>(d.between[0].markname=r+VF,d))),n.push({name:a,value:{},on:[{events:f.map(d=>d.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?rEe(e,zc):`slice(${s.signals.visual})`}`:"")+(u!==void 0?`, extent_y: ${i?rEe(e,Hh):`slice(${u.signals.visual})`}`:"")+"}"}]},{name:r+Wbt,value:{},on:[{events:f,update:`{x: ${a}.x - x(unit), y: ${a}.y - y(unit)}`}]}),s!==void 0&&DZe(e,t,s,"width",n),u!==void 0&&DZe(e,t,u,"height",n),n}};function DZe(e,t,n,r,i){var a,s;const u=t.name,f=u+Vbt,d=u+Wbt,c=n.channel,h=U3.defined(t),p=i.filter(A=>A.name===n.signals[h?"data":"visual"])[0],v=e.getSizeSignalRef(r).signal,m=e.getScaleComponent(c),y=m.get("type"),w=m.get("reverse"),_=h?c===zc?w?"":"-":w?"-":"":"",S=`${f}.extent_${c}`,C=`${_}${d}.${c} / ${h?`${v}`:`span(${S})`}`,$=h?y==="log"?"panLog":y==="symlog"?"panSymlog":y==="pow"?"panPow":"panLinear":"panLinear",k=h?y==="pow"?`, ${(a=m.get("exponent"))!==null&&a!==void 0?a:1}`:y==="symlog"?`, ${(s=m.get("constant"))!==null&&s!==void 0?s:1}`:"":"",M=`${$}(${S}, ${C}${k})`;p.on.push({events:{signal:d},update:h?M:`clampRange(${M}, 0, ${v})`})}const Gbt="_zoom_anchor",qbt="_zoom_delta",q8n={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=U3.defined(t),a=r+qbt,{x:s,y:u}=t.project.hasChannel,f=ar(e.scaleName(zc)),d=ar(e.scaleName(Hh));let c=mT(t.zoom,"scope");return i||(c=c.map(h=>(h.markname=r+VF,h))),n.push({name:r+Gbt,on:[{events:c,update:i?"{"+[f?`x: invert(${f}, x(unit))`:"",d?`y: invert(${d}, y(unit))`:""].filter(h=>!!h).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:c,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&IZe(e,t,s,"width",n),u!==void 0&&IZe(e,t,u,"height",n),n}};function IZe(e,t,n,r,i){var a,s;const u=t.name,f=n.channel,d=U3.defined(t),c=i.filter($=>$.name===n.signals[d?"data":"visual"])[0],h=e.getSizeSignalRef(r).signal,p=e.getScaleComponent(f),v=p.get("type"),m=d?rEe(e,f):c.name,y=u+qbt,w=`${u}${Gbt}.${f}`,_=d?v==="log"?"zoomLog":v==="symlog"?"zoomSymlog":v==="pow"?"zoomPow":"zoomLinear":"zoomLinear",S=d?v==="pow"?`, ${(a=p.get("exponent"))!==null&&a!==void 0?a:1}`:v==="symlog"?`, ${(s=p.get("constant"))!==null&&s!==void 0?s:1}`:"":"",C=`${_}(${m}, ${w}, ${y}${S})`;c.on.push({events:{signal:y},update:d?C:`clampRange(${C}, 0, ${h})`})}const jP="_store",W3="_tuple",Y8n="_modify",Ybt="vlSelectionResolve",qle=[k8n,C8n,S8n,Hbt,Bbt,U3,Ubt,V8n,G8n,q8n,jbt];function K8n(e){let t=e.parent;for(;t&&!v_(t);)t=t.parent;return t}function s8(e,{escape:t}={escape:!0}){let n=t?ar(e.name):e.name;const r=K8n(e);if(r){const{facet:i}=r;for(const a of Vb)i[a]&&(n+=` + '__facet_${a}_' + (facet[${ar(r.vgField(a))}])`)}return n}function K4e(e){var t;return Vp((t=e.component.selection)!==null&&t!==void 0?t:{}).reduce((n,r)=>n||r.project.hasSelectionId,!1)}function Kbt(e,t){(Pr(t.select)||!t.select.on)&&delete e.events,(Pr(t.select)||!t.select.clear)&&delete e.clear,(Pr(t.select)||!t.select.toggle)&&delete e.toggle}function oEe(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...oEe(e.object)),t.push(...oEe(e.property))),t)}function Xbt(e){return e.object.type==="MemberExpression"?Xbt(e.object):e.object.name==="datum"}function Zbt(e){const t=dTe(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&Xbt(r)&&n.add(oEe(r).slice(1).join("."))}),n}class $7 extends Lu{clone(){return new $7(null,this.model,Va(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=dae(this.model,this.filter,this),this._dependentFields=Zbt(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function X8n(e,t){var n;const r={},i=e.config.selection;if(!t||!t.length)return r;for(const a of t){const s=ec(a.name),u=a.select,f=Pr(u)?u:u.type,d=Gr(u)?Va(u):{type:f},c=i[f];for(const p in c)p==="fields"||p==="encodings"||(p==="mark"&&(d[p]=Object.assign(Object.assign({},c[p]),d[p])),(d[p]===void 0||d[p]===!0)&&(d[p]=(n=c[p])!==null&&n!==void 0?n:d[p]));const h=r[s]=Object.assign(Object.assign({},d),{name:s,type:f,init:a.value,bind:a.bind,events:Pr(d.on)?mT(d.on,"scope"):Mr(Va(d.on))});for(const p of qle)p.defined(h)&&p.parse&&p.parse(e,h,a)}return r}function Qbt(e,t,n,r="datum"){const i=Pr(t)?t:t.param,a=ec(i),s=ar(a+jP);let u;try{u=e.getSelectionComponent(a,i)}catch{return`!!${a}`}if(u.project.timeUnit){const p=n??e.component.data.raw,v=u.project.timeUnit.clone();p.parent?v.insertAsParentOf(p):p.parent=v}const f=u.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",d=u.resolve==="global"?")":`, ${ar(u.resolve)})`,c=`${f}${s}, ${r}${d}`,h=`length(data(${s}))`;return t.empty===!1?`${h} && ${c}`:`!${h} || ${c}`}function Jbt(e,t,n){const r=ec(t),i=n.encoding;let a=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!a)a=s.project.items[0].field,s.project.items.length>1&&qn(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${ar(a)}.`);else if(i&&!a){const u=s.project.items.filter(f=>f.channel===i);!u.length||u.length>1?(a=s.project.items[0].field,qn((u.length?"Multiple ":"No ")+`matching ${ar(i)} encoding found for selection ${ar(n.param)}. Using "field": ${ar(a)}.`)):a=u[0].field}return`${s.name}[${ar(ow(a))}]`}function Z8n(e,t){var n;for(const[r,i]of j3((n=e.component.selection)!==null&&n!==void 0?n:{})){const a=e.getName(`lookup_${r}`);e.component.data.outputNodes[a]=i.materialized=new fv(new $7(t,e,{param:r}),a,nl.Lookup,e.component.data.outputNodeRefCounts)}}function dae(e,t,n){return EU(t,r=>Pr(r)?r:k6n(r)?Qbt(e,r,n):vyt(r))}var Cee=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Q8n(e,t){if(e)return En(e)&&!lR(e)?e.map(n=>A4e(n,t)).join(", "):e}function Uye(e,t,n,r){var i,a,s,u,f;(i=e.encode)!==null&&i!==void 0||(e.encode={}),(a=(u=e.encode)[t])!==null&&a!==void 0||(u[t]={}),(s=(f=e.encode[t]).update)!==null&&s!==void 0||(f.update={}),e.encode[t].update[n]=r}function FH(e,t,n,r={header:!1}){var i,a;const s=e.combine(),{disable:u,orient:f,scale:d,labelExpr:c,title:h,zindex:p}=s,v=Cee(s,["disable","orient","scale","labelExpr","title","zindex"]);if(!u){for(const m in v){const y=RFn[m],w=v[m];if(y&&y!==t&&y!=="both")delete v[m];else if(Aq(w)){const{condition:_}=w,S=Cee(w,["condition"]),C=Mr(_),$=hZe[m];if($){const{vgProp:k,part:M}=$,A=[...C.map(L=>{const{test:N}=L,R=Cee(L,["test"]);return Object.assign({test:dae(null,N)},R)}),S];Uye(v,M,k,A),delete v[m]}else if($===null){const k={signal:C.map(M=>{const{test:A}=M,L=Cee(M,["test"]);return`${dae(null,A)} ? ${QXe(L)} : `}).join("")+QXe(S)};v[m]=k}}else if(Mi(w)){const _=hZe[m];if(_){const{vgProp:S,part:C}=_;Uye(v,C,S,w),delete v[m]}}Vo(["labelAlign","labelBaseline"],m)&&v[m]===null&&delete v[m]}if(t==="grid"){if(!v.grid)return;if(v.encode){const{grid:m}=v.encode;v.encode=Object.assign({},m?{grid:m}:{}),Tu(v.encode)&&delete v.encode}return Object.assign(Object.assign({scale:d,orient:f},v),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:md(p,0)})}else{if(!r.header&&e.mainExtracted)return;if(c!==void 0){let y=c;!((a=(i=v.encode)===null||i===void 0?void 0:i.labels)===null||a===void 0)&&a.update&&Mi(v.encode.labels.update.text)&&(y=PP(c,"datum.label",v.encode.labels.update.text.signal)),Uye(v,"labels","text",{signal:y})}if(v.labelAlign===null&&delete v.labelAlign,v.encode){for(const y of qyt)e.hasAxisPart(y)||delete v.encode[y];Tu(v.encode)&&delete v.encode}const m=Q8n(h,n);return Object.assign(Object.assign(Object.assign(Object.assign({scale:d,orient:f,grid:!1},m?{title:m}:{}),v),n.aria===!1?{aria:!1}:{}),{zindex:md(p,0)})}}}function ewt(e){const{axes:t}=e.component,n=[];for(const r of HE)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const a=r==="x"?"height":"width",s=e.getSizeSignalRef(a).signal;a!==s&&n.push({name:a,update:s})}}return n}function J8n(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>FH(i,"grid",t)),...r.map(i=>FH(i,"grid",t)),...n.map(i=>FH(i,"main",t)),...r.map(i=>FH(i,"main",t))].filter(i=>i)}function FZe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const a=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},u=t[n==="x"?"axisTop":"axisRight"]||{},f=new Set([...Vn(s),...Vn(u)]),d={};for(const c of f.values())d[c]={signal:`${r.signal} === "${a}" ? ${uk(s[c])} : ${uk(u[c])}`};return d}return t[i]})])}function e7n(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:wyt(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],a=e==="x"?"axisX":"axisY",s=Mi(n)?"axisOrient":`axis${yq(n)}`,u=[...i,...i.map(d=>a+d.substr(4))],f=["axis",s,a];return{vlOnlyAxisConfig:FZe(u,r,e,n),vgAxisConfig:FZe(f,r,e,n),axisConfigStyle:t7n([...f,...u],r)}}function t7n(e,t){var n;const r=[{}];for(const i of e){let a=(n=t[i])===null||n===void 0?void 0:n.style;if(a){a=Mr(a);for(const s of a)r.push(t.style[s])}}return Object.assign.apply(null,r)}function sEe(e,t,n,r={}){var i;const a=Q1t(e,n,t);if(a!==void 0)return{configFrom:"style",configValue:a};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((i=r[s])===null||i===void 0?void 0:i[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const NZe={scale:({model:e,channel:t})=>e.scaleName(t),format:({fieldOrDatumDef:e,config:t,axis:n})=>{const{format:r,formatType:i}=n;return Myt(e,e.type,r,i,t,!0)},formatType:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return Pyt(r,t,n)},grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>{var r;return(r=t.grid)!==null&&r!==void 0?r:n7n(n,e)},gridScale:({model:e,channel:t})=>r7n(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||nwt(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||twt(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>{var r;return(r=e.labelFlush)!==null&&r!==void 0?r:a7n(t.type,n)},labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>{var r;return(r=e.labelOverlap)!==null&&r!==void 0?r:o7n(t.type,n,er(t)&&!!t.timeUnit,er(t)?t.sort:void 0)},orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{var a;const s=e==="x"?"width":e==="y"?"height":void 0,u=s?t.getSizeSignalRef(s):void 0;return(a=n.tickCount)!==null&&a!==void 0?a:u7n({fieldOrDatumDef:r,scaleType:i,size:u,values:n.values})},title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=rwt(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),a=n==="x"?"x2":"y2",s=t.fieldDef(a);return eyt(i?[dZe(i)]:[],er(s)?[dZe(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>l7n(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>{var r;return(r=e.zindex)!==null&&r!==void 0?r:c7n(n,t)}};function n7n(e,t){return!Vh(e)&&er(t)&&!ul(t==null?void 0:t.bin)&&!Tg(t==null?void 0:t.bin)}function r7n(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function i7n(e,t,n,r,i){const a=t==null?void 0:t.labelAngle;if(a!==void 0)return Mi(a)?a:pW(a);{const{configValue:s}=sEe("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?pW(s):n===zc&&Vo([y4e,m4e],e.type)&&!(er(e)&&e.timeUnit)?270:void 0}}function uEe(e){return`(((${e.signal} % 360) + 360) % 360)`}function twt(e,t,n,r){if(e!==void 0)if(n==="x"){if(Mi(e)){const i=uEe(e),a=Mi(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${a} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(Mi(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(Mi(e)){const i=uEe(e),a=Mi(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${a} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(Mi(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function nwt(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,a=r?"bottom":"left";if(Mi(e)){const s=uEe(e),u=Mi(t)?`(${t.signal} === "${a}")`:t===a;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${u} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(Mi(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${a}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===a)?"left":"right"}function a7n(e,t){if(t==="x"&&Vo(["quantitative","temporal"],e))return!0}function o7n(e,t,n,r){if(n&&!Gr(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function s7n(e){return e==="x"?"bottom":"left"}function u7n({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!Vh(t)&&t!=="log"){if(er(e)){if(ul(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&Vo(["month","hours","day","quarter"],(i=Jp(e.timeUnit))===null||i===void 0?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function rwt(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,s=i?i.title:void 0;if(a&&s)return tyt(a,s);if(a)return a;if(s)return s;if(a!==void 0)return a;if(s!==void 0)return s}function l7n(e,t){const n=e.values;if(En(n))return Gyt(t,n);if(Mi(n))return n}function c7n(e,t){return e==="rect"&&iae(t)?1:0}class u8 extends Lu{clone(){return new u8(null,Va(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=Zbt(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(OL(r)&&Iyt(r.sort)){const{field:a,timeUnit:s}=r,u=r.sort,f=u.map((d,c)=>`${vyt({field:a,timeUnit:s,equal:d})} ? ${c} : `).join("")+u.length;t=new u8(t,{calculate:f,as:l8(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${ts(this.transform)}`}}function l8(e,t,n){return xr(e,Object.assign({prefix:t,suffix:"sort_index"},n??{}))}function Yle(e,t){return Vo(["top","bottom"],t)?"column":Vo(["left","right"],t)||e==="row"?"row":"column"}function c8(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return md((t||{})[e],i[e],n.header[e])}function Kle(e,t,n,r){const i={};for(const a of e){const s=c8(a,t||{},n,r);s!==void 0&&(i[a]=s)}return i}const X4e=["row","column"],Z4e=["header","footer"];function f7n(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:a,titleAngle:s,titleOrient:u}=Kle(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),f=Yle(t,u),d=pW(s);return{name:`${t}-title`,type:"group",role:`${f}-title`,title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:n},t==="row"?{orient:"left"}:{}),{style:"guide-title"}),awt(d,f)),iwt(f,d,a)),owt(r,i,t,JFn,cbt))}}function iwt(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=nwt(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function awt(e,t){const n=twt(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function d7n(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of Z4e)if(n[i])for(const a of n[i]){const s=g7n(e,t,i,n,a);s!=null&&r.push(s)}return r}function h7n(e,t){var n;const{sort:r}=e;return tE(r)?{field:xr(r,{expr:"datum"}),order:(n=r.order)!==null&&n!==void 0?n:"ascending"}:En(r)?{field:l8(e,t,{expr:"datum"}),order:"ascending"}:{field:xr(e,{expr:"datum"}),order:r??"ascending"}}function lEe(e,t,n){const{format:r,formatType:i,labelAngle:a,labelAnchor:s,labelOrient:u,labelExpr:f}=Kle(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),d=C4e({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,c=Yle(t,u);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:f?PP(PP(f,"datum.label",d),"datum.value",xr(e,{expr:"parent"})):d}},t==="row"?{orient:"left"}:{}),{style:"guide-label",frame:"group"}),awt(a,c)),iwt(c,a,s)),owt(n,e,t,eNn,fbt))}function g7n(e,t,n,r,i){if(i){let a=null;const{facetFieldDef:s}=r,u=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:h}=Kle(["labelOrient"],s.header,u,t);(t==="row"&&!Vo(["top","bottom"],h)||t==="column"&&!Vo(["left","right"],h))&&(a=lEe(s,t,u))}const f=v_(e)&&!$q(e.facet),d=i.axes,c=(d==null?void 0:d.length)>0;if(a||c){const h=t==="row"?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`},r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:h7n(s,t)}:{}),c&&f?{from:{data:e.getName(`facet_domain_${t}`)}}:{}),a?{title:a}:{}),i.sizeSignal?{encode:{update:{[h]:i.sizeSignal}}}:{}),c?{axes:d}:{})}}return null}const p7n={column:{start:0,end:1},row:{start:1,end:0}};function v7n(e,t){return p7n[t][e]}function m7n(e,t){const n={};for(const r of Vb){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:a,titleOrient:s}=Kle(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),u=Yle(r,s),f=v7n(a,u);f!==void 0&&(n[u]=f)}}return Tu(n)?void 0:n}function owt(e,t,n,r,i){const a={};for(const s of r){if(!i[s])continue;const u=c8(s,t==null?void 0:t.header,e,n);u!==void 0&&(a[i[s]]=u)}return a}function Q4e(e){return[...$ee(e,"width"),...$ee(e,"height"),...$ee(e,"childWidth"),...$ee(e,"childHeight")]}function $ee(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const a=e.getScaleComponent(n);if(a){const s=a.get("type"),u=a.get("range");if(Vh(s)&&CT(u)){const f=e.scaleName(n);return v_(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[zZe(f,u)]:[zZe(f,u),{name:i,update:swt(f,a,`domain('${f}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const a=i.endsWith("width"),s=a?"containerSize()[0]":"containerSize()[1]",u=JSe(e.config.view,a?"width":"height"),f=`isFinite(${s}) ? ${s} : ${u}`;return[{name:i,init:f,on:[{update:f,events:"window:resize"}]}]}else return[{name:i,value:r}]}function zZe(e,t){const n=`${e}_step`;return Mi(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function swt(e,t,n){const r=t.get("type"),i=t.get("padding"),a=md(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${uk(s)}, ${uk(a)}) * ${e}_step`}function uwt(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function lwt(e,t){return Vn(e).reduce((n,r)=>{const i=e[r];return Object.assign(Object.assign({},n),C7(t,i,r,a=>Rl(a.value)))},{})}function cwt(e,t){if(v_(t))return e==="theta"?"independent":"shared";if(A7(t))return"shared";if(aMe(t))return Uh(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function J4e(e,t){const n=e.scale[t],r=Uh(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&qn(XIn(t)),"independent"):e[r][t]||"shared"}const y7n=Object.assign(Object.assign({},rNn),{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),fwt=Vn(y7n);class b7n extends Hk{}const jZe={symbols:w7n,gradient:_7n,labels:x7n,entries:S7n};function w7n(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:a}){var s,u,f,d,c,h,p,v;if(a!=="symbol")return;const{markDef:m,encoding:y,config:w,mark:_}=n,S=m.filled&&_!=="trail";let C=Object.assign(Object.assign({},oIn({},n,J6n)),Fbt(n,{filled:S}));const $=(s=i.get("symbolOpacity"))!==null&&s!==void 0?s:w.legend.symbolOpacity,k=(u=i.get("symbolFillColor"))!==null&&u!==void 0?u:w.legend.symbolFillColor,M=(f=i.get("symbolStrokeColor"))!==null&&f!==void 0?f:w.legend.symbolStrokeColor,A=$===void 0?(d=dwt(y.opacity))!==null&&d!==void 0?d:m.opacity:void 0;if(C.fill){if(r==="fill"||S&&r===Lm)delete C.fill;else if(C.fill.field)k?delete C.fill:(C.fill=Rl((c=w.legend.symbolBaseFillColor)!==null&&c!==void 0?c:"black"),C.fillOpacity=Rl(A??1));else if(En(C.fill)){const L=(v=(p=cEe((h=y.fill)!==null&&h!==void 0?h:y.color))!==null&&p!==void 0?p:m.fill)!==null&&v!==void 0?v:S&&m.color;L&&(C.fill=Rl(L))}}if(C.stroke){if(r==="stroke"||!S&&r===Lm)delete C.stroke;else if(C.stroke.field||M)delete C.stroke;else if(En(C.stroke)){const L=md(cEe(y.stroke||y.color),m.stroke,S?m.color:void 0);L&&(C.stroke={value:L})}}if(r!==jk){const L=er(t)&&gwt(n,i,t);L?C.opacity=[Object.assign({test:L},Rl(A??1)),Rl(w.legend.unselectedOpacity)]:A&&(C.opacity=Rl(A))}return C=Object.assign(Object.assign({},C),e),Tu(C)?void 0:C}function _7n(e,{model:t,legendType:n,legendCmpt:r}){var i;if(n!=="gradient")return;const{config:a,markDef:s,encoding:u}=t;let f={};const c=((i=r.get("gradientOpacity"))!==null&&i!==void 0?i:a.legend.gradientOpacity)===void 0?dwt(u.opacity)||s.opacity:void 0;return c&&(f.opacity=Rl(c)),f=Object.assign(Object.assign({},f),e),Tu(f)?void 0:f}function x7n(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const a=n.legend(r)||{},s=n.config,u=er(t)?gwt(n,i,t):void 0,f=u?[{test:u,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:d,formatType:c}=a;let h;NP(c)?h=o_({fieldOrDatumDef:t,field:"datum.value",format:d,formatType:c,config:s}):d===void 0&&c===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?h=o_({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&er(t)&&t.timeUnit===void 0&&(h=o_({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const p=Object.assign(Object.assign(Object.assign({},f?{opacity:f}:{}),h?{text:h}:{}),e);return Tu(p)?void 0:p}function S7n(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?Object.assign(Object.assign({},e),{fill:{value:"transparent"}}):e}function dwt(e){return hwt(e,(t,n)=>Math.max(t,n.value))}function cEe(e){return hwt(e,(t,n)=>md(t,n.value))}function hwt(e,t){if(yFn(e))return Mr(e.condition).reduce(t,e.value);if(O_(e))return e.value}function gwt(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=ar(n.field);return r.map(a=>`(!length(data(${ar(ec(a)+jP)})) || (${a}[${i}] && indexof(${a}[${i}], datum.value) >= 0))`).join(" || ")}const BZe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return Myt(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return Pyt(r,t,n)},gradientLength:e=>{var t,n;const{legend:r,legendConfig:i}=e;return(n=(t=r.gradientLength)!==null&&t!==void 0?t:i.gradientLength)!==null&&n!==void 0?n:R7n(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>{var r,i;return(i=(r=e.labelOverlap)!==null&&r!==void 0?r:t.labelOverlap)!==null&&i!==void 0?i:T7n(n)},symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>{var i;return(i=e.symbolType)!==null&&i!==void 0?i:C7n(t.type,n,r.shape,t.shape)},title:({fieldOrDatumDef:e,config:t})=>UF(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(HF(n)&&a_(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>E7n(t,e)};function E7n(e,t){const n=e.values;if(En(n))return Gyt(t,n);if(Mi(n))return n}function C7n(e,t,n,r){var i;if(t!=="shape"){const a=(i=cEe(n))!==null&&i!==void 0?i:r;if(a)return a}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function $7n(e){const{legend:t}=e;return md(t.type,k7n(e))}function k7n({channel:e,timeUnit:t,scaleType:n}){if(HF(e)){if(Vo(["quarter","month","day"],t))return"symbol";if(a_(n))return"gradient"}return"symbol"}function O7n({legendConfig:e,legendType:t,orient:n,legend:r}){var i,a;return(a=(i=r.direction)!==null&&i!==void 0?i:e[t?"gradientDirection":"symbolDirection"])!==null&&a!==void 0?a:A7n(n,t)}function A7n(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function R7n({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:s,gradientVerticalMaxLength:u,gradientVerticalMinLength:f}=e;if(a_(i))return n==="horizontal"?r==="top"||r==="bottom"?HZe(t,"width",s,a):s:HZe(t,"height",f,u)}function HZe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function T7n(e){if(Vo(["quantile","threshold","log","symlog"],e))return"greedy"}function pwt(e){const t=fd(e)?M7n(e):I7n(e);return e.component.legends=t,t}function M7n(e){const{encoding:t}=e,n={};for(const r of[Lm,...hbt]){const i=Gd(t[r]);!i||!e.getScaleComponent(r)||r===Dm&&er(i)&&i.type===E7||(n[r]=D7n(e,r))}return n}function P7n(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function L7n(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function D7n(e,t){var n,r,i;let a=e.legend(t);const{markDef:s,encoding:u,config:f}=e,d=f.legend,c=new b7n({},P7n(e,t));W8n(e,t,c);const h=a!==void 0?!a:d.disable;if(c.set("disable",h,a!==void 0),h)return c;a=a||{};const p=e.getScaleComponent(t).get("type"),v=Gd(u[t]),m=er(v)?(n=Jp(v.timeUnit))===null||n===void 0?void 0:n.unit:void 0,y=a.orient||f.legend.orient||"right",w=$7n({legend:a,channel:t,timeUnit:m,scaleType:p}),_=O7n({legend:a,legendType:w,orient:y,legendConfig:d}),S={legend:a,channel:t,model:e,markDef:s,encoding:u,fieldOrDatumDef:v,legendConfig:d,config:f,scaleType:p,orient:y,legendType:w,direction:_};for(const A of fwt){if(w==="gradient"&&A.startsWith("symbol")||w==="symbol"&&A.startsWith("gradient"))continue;const L=A in BZe?BZe[A](S):a[A];if(L!==void 0){const N=L7n(L,A,a,e.fieldDef(t));(N||f.legend[A]===void 0)&&c.set(A,L,N)}}const C=(r=a==null?void 0:a.encoding)!==null&&r!==void 0?r:{},$=c.get("selections"),k={},M={fieldOrDatumDef:v,model:e,channel:t,legendCmpt:c,legendType:w};for(const A of["labels","legend","title","symbols","gradient","entries"]){const L=lwt((i=C[A])!==null&&i!==void 0?i:{},e),N=A in jZe?jZe[A](L,M):L;N!==void 0&&!Tu(N)&&(k[A]=Object.assign(Object.assign(Object.assign({},$!=null&&$.length&&er(v)?{name:`${ec(v.field)}_legend_${A}`}:{}),$!=null&&$.length?{interactive:!!$}:{}),{update:N}))}return Tu(k)||c.set("encode",k,!!(a!=null&&a.encoding)),c}function I7n(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){pwt(r);for(const i of Vn(r.component.legends))n.legend[i]=J4e(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=vwt(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of Vn(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function vwt(e,t){var n,r,i,a;if(!e)return t.clone();const s=e.getWithExplicit("orient"),u=t.getWithExplicit("orient");if(s.explicit&&u.explicit&&s.value!==u.value)return;let f=!1;for(const d of fwt){const c=H3(e.getWithExplicit(d),t.getWithExplicit(d),d,"legend",(h,p)=>{switch(d){case"symbolType":return F7n(h,p);case"title":return nyt(h,p);case"type":return f=!0,W1("symbol")}return Wle(h,p,d,"legend")});e.setWithExplicit(d,c)}return f&&(!((r=(n=e.implicit)===null||n===void 0?void 0:n.encode)===null||r===void 0)&&r.gradient&&Jie(e.implicit,["encode","gradient"]),!((a=(i=e.explicit)===null||i===void 0?void 0:i.encode)===null||a===void 0)&&a.gradient&&Jie(e.explicit,["encode","gradient"])),e}function F7n(e,t){return t.value==="circle"?t:e}var N7n=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function z7n(e,t,n,r){var i,a,s,u,f;(i=e.encode)!==null&&i!==void 0||(e.encode={}),(a=(u=e.encode)[t])!==null&&a!==void 0||(u[t]={}),(s=(f=e.encode[t]).update)!==null&&s!==void 0||(f.update={}),e.encode[t].update[n]=r}function mwt(e){const t=e.component.legends,n={};for(const i of Vn(t)){const a=e.getScaleComponent(i),s=al(a.get("domains"));if(n[s])for(const u of n[s])vwt(u,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return Vp(n).flat().map(i=>j7n(i,e.config)).filter(i=>i!==void 0)}function j7n(e,t){var n,r,i;const a=e.combine(),{disable:s,labelExpr:u,selections:f}=a,d=N7n(a,["disable","labelExpr","selections"]);if(!s){if(t.aria===!1&&d.aria==null&&(d.aria=!1),!((n=d.encode)===null||n===void 0)&&n.symbols){const c=d.encode.symbols.update;c.fill&&c.fill.value!=="transparent"&&!c.stroke&&!d.stroke&&(c.stroke={value:"transparent"});for(const h of hbt)d[h]&&delete c[h]}if(d.title||delete d.title,u!==void 0){let c=u;!((i=(r=d.encode)===null||r===void 0?void 0:r.labels)===null||i===void 0)&&i.update&&Mi(d.encode.labels.update.text)&&(c=PP(u,"datum.label",d.encode.labels.update.text.signal)),z7n(d,"labels","text",{signal:c})}return d}}function B7n(e){return A7(e)||aMe(e)?H7n(e):ywt(e)}function H7n(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),ywt(e))}function ywt(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},a=t.data.reduce((s,u)=>{const f=Mi(u)?u.signal:`data('${e.lookupDataSource(u)}')`;return Vo(s,f)||s.push(f),s},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[Object.assign({name:r,size:i,fit:{signal:a.length>1?`[${a.join(", ")}]`:a[0]}},n)]}else return[Object.assign(Object.assign({name:r},{translate:{signal:"[width / 2, height / 2]"}}),n)]}const U7n=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class bwt extends Hk{constructor(t,n,r,i){super(Object.assign({},n),{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function wwt(e){e.component.projection=fd(e)?V7n(e):q7n(e)}function V7n(e){var t;if(e.hasProjection){const n=dm(e.specifiedProjection),r=!(n&&(n.scale!=null||n.translate!=null)),i=r?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,a=r?W7n(e):void 0,s=new bwt(e.projectionName(!0),Object.assign(Object.assign({},(t=dm(e.config.projection))!==null&&t!==void 0?t:{}),n??{}),i,a);return s.get("type")||s.set("type","equalEarth",!1),s}}function W7n(e){const t=[],{encoding:n}=e;for(const r of[[NE,FE],[sw,I_]])(Gd(n[r[0]])||Gd(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(Dm)&&e.typedFieldDef(Dm).type===E7&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(nl.Main)),t}function G7n(e,t){const n=VTe(U7n,i=>!!(!Ui(e.explicit,i)&&!Ui(t.explicit,i)||Ui(e.explicit,i)&&Ui(t.explicit,i)&&NS(e.get(i),t.get(i))));if(NS(e.size,t.size)){if(n)return e;if(NS(e.explicit,{}))return t;if(NS(t.explicit,{}))return e}return null}function q7n(e){if(e.children.length===0)return;let t;for(const r of e.children)wwt(r);const n=VTe(e.children,r=>{const i=r.component.projection;if(i)if(t){const a=G7n(t,i);return a&&(t=a),!!a}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new bwt(r,t.specifiedProjection,t.size,Va(t.data));for(const a of e.children){const s=a.component.projection;s&&(s.isFit&&i.data.push(...a.component.projection.data),a.renameProjection(s.get("name"),r),s.merged=!0)}return i}}var Y7n=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function K7n(e,t,n,r){var i,a;if(Oq(t,n)){const s=fd(e)?(a=(i=e.axis(n))!==null&&i!==void 0?i:e.legend(n))!==null&&a!==void 0?a:{}:{},u=xr(t,{expr:"datum"}),f=xr(t,{expr:"datum",binSuffix:"end"});return{formulaAs:xr(t,{binSuffix:"range",forAs:!0}),formula:Cq(u,f,s.format,s.formatType,r)}}return{}}function _wt(e,t){return`${Y1t(e)}_${t}`}function X7n(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function eMe(e,t,n){var r;const i=(r=zle(n,void 0))!==null&&r!==void 0?r:{},a=_wt(i,t);return e.getName(`${a}_bins`)}function Z7n(e){return"as"in e}function UZe(e,t,n){let r,i;Z7n(e)?r=Pr(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[xr(e,{forAs:!0}),xr(e,{binSuffix:"end",forAs:!0})];const a=Object.assign({},zle(t,void 0)),s=_wt(a,e.field),{signal:u,extentSignal:f}=X7n(n,s);if(Ale(a.extent)){const c=a.extent;i=Jbt(n,c.param,c),delete a.extent}const d=Object.assign(Object.assign(Object.assign({bin:a,field:e.field,as:[r]},u?{signal:u}:{}),f?{extentSignal:f}:{}),i?{span:i}:{});return{key:s,binComponent:d}}class rE extends Lu{clone(){return new rE(null,Va(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a,s)=>{if(uw(a)&&ul(a.bin)){const{key:u,binComponent:f}=UZe(a,a.bin,n);i[u]=Object.assign(Object.assign(Object.assign({},f),i[u]),K7n(n,a,s,n.config))}return i},{});return Tu(r)?null:new rE(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:a}=UZe(n,n.bin,r);return new rE(t,{[i]:a})}merge(t,n){for(const r of Vn(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=zS([...this.bins[r].as,...t.bins[r].as],ts)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Vp(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Vp(this.bins).map(t=>t.field))}hash(){return`Bin ${ts(this.bins)}`}assemble(){return Vp(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,a=t.bin,{extent:s}=a,u=Y7n(a,["extent"]),f=Object.assign(Object.assign(Object.assign({type:"bin",field:ow(t.field),as:r,signal:t.signal},Ale(s)?{extent:null}:{extent:s}),t.span?{span:{signal:`span(${t.span})`}}:{}),u);!s&&t.extentSignal&&(n.push({type:"extent",field:ow(t.field),signal:t.extentSignal}),f.extent={signal:t.extentSignal}),n.push(f);for(const d of i)for(let c=0;c<2;c++)n.push({type:"formula",expr:xr({field:r[c]},{expr:"datum"}),as:d[c]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function Q7n(e,t,n,r){var i;const a=fd(r)?r.encoding[BE(t)]:void 0;if(uw(n)&&fd(r)&&zyt(n,a,r.markDef,r.config))e.add(xr(n,{})),e.add(xr(n,{suffix:"end"})),n.bin&&Oq(n,t)&&e.add(xr(n,{binSuffix:"range"}));else if(RDn(t)){const s=ADn(t);e.add(r.getName(s))}else e.add(xr(n));return OL(n)&&B6n((i=n.scale)===null||i===void 0?void 0:i.range)&&e.add(n.scale.range.field),e}function J7n(e,t){var n;for(const r of Vn(t)){const i=t[r];for(const a of Vn(i))r in e?e[r][a]=new Set([...(n=e[r][a])!==null&&n!==void 0?n:[],...i[a]]):e[r]={[a]:i[a]}}}class p_ extends Lu{clone(){return new p_(null,new Set(this.dimensions),Va(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},a=new Set;return!r||(n.forEachFieldDef((s,u)=>{var f,d,c,h;const{aggregate:p,field:v}=s;if(p)if(p==="count")(f=i["*"])!==null&&f!==void 0||(i["*"]={}),i["*"].count=new Set([xr(s,{forAs:!0})]);else{if($k(p)||ET(p)){const m=$k(p)?"argmin":"argmax",y=p[m];(d=i[y])!==null&&d!==void 0||(i[y]={}),i[y][m]=new Set([xr({op:m,field:y},{forAs:!0})])}else(c=i[v])!==null&&c!==void 0||(i[v]={}),i[v][p]=new Set([xr(s,{forAs:!0})]);ST(u)&&n.scaleDomain(u)==="unaggregated"&&((h=i[v])!==null&&h!==void 0||(i[v]={}),i[v].min=new Set([xr({field:v,aggregate:"min"},{forAs:!0})]),i[v].max=new Set([xr({field:v,aggregate:"max"},{forAs:!0})]))}else Q7n(a,u,s,n)}),a.size+Vn(i).length===0)?null:new p_(t,a,i)}static makeFromTransform(t,n){var r,i,a;const s=new Set,u={};for(const f of n.aggregate){const{op:d,field:c,as:h}=f;d&&(d==="count"?((r=u["*"])!==null&&r!==void 0||(u["*"]={}),u["*"].count=new Set([h||xr(f,{forAs:!0})])):((i=u[c])!==null&&i!==void 0||(u[c]={}),u[c][d]=new Set([h||xr(f,{forAs:!0})])))}for(const f of(a=n.groupby)!==null&&a!==void 0?a:[])s.add(f);return s.size+Vn(u).length===0?null:new p_(t,s,u)}merge(t){return R1t(this.dimensions,t.dimensions)?(J7n(this.measures,t.measures),!0):(d6n("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Vn(this.measures)])}producedFields(){const t=new Set;for(const n of Vn(this.measures))for(const r of Vn(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${ts({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const a of Vn(this.measures))for(const s of Vn(this.measures[a]))for(const u of this.measures[a][s])r.push(u),t.push(s),n.push(a==="*"?null:ow(a));return{type:"aggregate",groupby:[...this.dimensions].map(ow),ops:t,fields:n,as:r}}}class k7 extends Lu{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const a of Vb){const s=n.facet[a];if(s){const{bin:u,sort:f}=s;this[a]=Object.assign({name:n.getName(`${a}_domain`),fields:[xr(s),...ul(u)?[xr(s,{binSuffix:"end"})]:[]]},tE(f)?{sortField:f}:En(f)?{sortIndexField:l8(s,a)}:{})}}this.childModel=n.child}hash(){let t="Facet";for(const n of Vb)this[n]&&(t+=` ${n.charAt(0)}:${ts(this[n])}`);return t}get fields(){var t;const n=[];for(const r of Vb)!((t=this[r])===null||t===void 0)&&t.fields&&n.push(...this[r].fields);return n}dependentFields(){const t=new Set(this.fields);for(const n of Vb)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of HE){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),a=r.get("range");if(Vh(i)&&CT(a)){const s=Xle(this.childModel,n),u=iMe(s);u?t[n]=u:qn(i4e(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],a=[],s=[],u=[];i&&r&&r[i]&&(n?(a.push(`distinct_${r[i]}`),s.push("max")):(a.push(r[i]),s.push("distinct")),u.push(`distinct_${r[i]}`));const{sortField:f,sortIndexField:d}=this[t];if(f){const{op:c=Dle,field:h}=f;a.push(h),s.push(c),u.push(xr(f,{forAs:!0}))}else d&&(a.push(d),s.push("max"),u.push(d));return{name:this[t].name,source:n??this.data,transform:[Object.assign({type:"aggregate",groupby:this[t].fields},a.length?{fields:a,ops:s,as:u}:{})]}}assembleFacetHeaderData(t){var n,r;const{columns:i}=this.model.layout,{layoutHeaders:a}=this.model.component,s=[],u={};for(const c of X4e){for(const h of Z4e){const p=(n=a[c]&&a[c][h])!==null&&n!==void 0?n:[];for(const v of p)if(((r=v.axes)===null||r===void 0?void 0:r.length)>0){u[c]=!0;break}}if(u[c]){const h=`length(data("${this.facet.name}"))`,p=c==="row"?i?{signal:`ceil(${h} / ${i})`}:1:i?{signal:`min(${h}, ${i})`}:{signal:h};s.push({name:`${this.facet.name}_${c}`,transform:[{type:"sequence",start:0,stop:p}]})}}const{row:f,column:d}=u;return(f||d)&&s.unshift(this.assembleRowColumnHeaderData("facet",null,t)),s}assemble(){var t,n;const r=[];let i=null;const a=this.getChildIndependentFieldsWithStep(),{column:s,row:u,facet:f}=this;if(s&&u&&(a.x||a.y)){i=`cross_${this.column.name}_${this.row.name}`;const d=[].concat((t=a.x)!==null&&t!==void 0?t:[],(n=a.y)!==null&&n!==void 0?n:[]),c=d.map(()=>"distinct");r.push({name:i,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:d,ops:c}]})}for(const d of[sk,ok])this[d]&&r.push(this.assembleRowColumnHeaderData(d,i,a));if(f){const d=this.assembleFacetHeaderData(a);d&&r.push(...d)}return r}}function VZe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function e9n(e,t){const n=qTe(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=VZe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=VZe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return qn(bIn(t)),null}function t9n(e){const t={};return tne(e.filter,n=>{var r;if(pyt(n)){let i=null;l4e(n)?i=Z1(n.equal):f4e(n)?i=Z1(n.lte):c4e(n)?i=Z1(n.lt):d4e(n)?i=Z1(n.gt):h4e(n)?i=Z1(n.gte):g4e(n)?i=n.range[0]:p4e(n)&&(i=((r=n.oneOf)!==null&&r!==void 0?r:n.in)[0]),i&&(kL(i)?t[n.field]="date":Mu(i)?t[n.field]="number":Pr(i)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function n9n(e){const t={};function n(r){a8(r)?t[r.field]="date":r.type==="quantitative"&&XDn(r.aggregate)?t[r.field]="number":JN(r.field)>1?r.field in t||(t[r.field]="flatten"):OL(r)&&tE(r.sort)&&JN(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((fd(e)||v_(e))&&e.forEachFieldDef((r,i)=>{if(uw(r))n(r);else{const a=CL(i),s=e.fieldDef(a);n(Object.assign(Object.assign({},r),{type:s.type}))}}),fd(e)){const{mark:r,markDef:i,encoding:a}=e;if($T(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",u=a[s];er(u)&&u.type==="quantitative"&&!(u.field in t)&&(t[u.field]="number")}}return t}function r9n(e){const t={};if(fd(e)&&e.component.selection)for(const n of Vn(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&JN(i.field)>1&&(t[i.field]="flatten")}return t}class Np extends Lu{clone(){return new Np(null,Va(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${ts(this._parse)}`}static makeExplicit(t,n,r){var i;let a={};const s=n.data;return!s3(s)&&(!((i=s==null?void 0:s.format)===null||i===void 0)&&i.parse)&&(a=s.format.parse),this.makeWithAncestors(t,a,{},r)}static makeWithAncestors(t,n,r,i){for(const u of Vn(r)){const f=i.getWithExplicit(u);f.value!==void 0&&(f.explicit||f.value===r[u]||f.value==="derived"||r[u]==="flatten"?delete r[u]:qn(iZe(u,r[u],f.value)))}for(const u of Vn(n)){const f=i.get(u);f!==void 0&&(f===n[u]?delete n[u]:qn(iZe(u,n[u],f)))}const a=new Hk(n,r);i.copyAll(a);const s={};for(const u of Vn(a.combine())){const f=a.get(u);f!==null&&(s[u]=f)}return Vn(s).length===0||i.parseNothing?null:new Np(t,s)}get parse(){return this._parse}merge(t){this._parse=Object.assign(Object.assign({},this._parse),t.parse),t.remove()}assembleFormatParse(){const t={};for(const n of Vn(this._parse)){const r=this._parse[n];JN(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(Vn(this._parse))}dependentFields(){return new Set(Vn(this._parse))}assembleTransforms(t=!1){return Vn(this._parse).filter(n=>t?JN(n)>1:!0).map(n=>{const r=e9n(n,this._parse[n]);return r?{type:"formula",expr:r,as:YTe(n)}:null}).filter(n=>n!==null)}}class G3 extends Lu{clone(){return new G3(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([yE])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:yE}}}class Tq extends Lu{clone(){return new Tq(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${ts(this.params)}`}assemble(){return Object.assign({type:"graticule"},this.params===!0?{}:this.params)}}class Mq extends Lu{clone(){return new Mq(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){var t;return new Set([(t=this.params.as)!==null&&t!==void 0?t:"data"])}hash(){return`Hash ${ts(this.params)}`}assemble(){return Object.assign({type:"sequence"},this.params)}}class BP extends Lu{constructor(t){super(null),t??(t={name:"source"});let n;if(s3(t)||(n=t.format?Object.assign({},Em(t.format,["parse"])):{}),mW(t))this._data={values:t.values};else if(o8(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];Vo(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else Mbt(t)?this._data={values:[{type:"Sphere"}]}:(Rbt(t)||s3(t))&&(this._data={});this._generator=s3(t),t.name&&(this._name=t.name),n&&!Tu(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return Object.assign(Object.assign({name:this._name},this._data),{transform:[]})}}var WZe=globalThis&&globalThis.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},i9n=globalThis&&globalThis.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},NH;function tMe(e){return e instanceof BP||e instanceof Tq||e instanceof Mq}class nMe{constructor(){NH.set(this,void 0),WZe(this,NH,!1,"f")}setModified(){WZe(this,NH,!0,"f")}get modifiedFlag(){return i9n(this,NH,"f")}}NH=new WeakMap;class AL extends nMe{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,a)=>a[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class rMe extends nMe{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class a9n extends rMe{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of Vn(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class o9n extends rMe{constructor(t){super(),this.requiresSelectionId=t&&K4e(t)}run(t){t instanceof G3&&(this.requiresSelectionId&&(tMe(t.parent)||t.parent instanceof p_||t.parent instanceof Np)||(this.setModified(),t.remove()))}}class s9n extends nMe{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof nE&&(r=t.producedFields(),WTe(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class u9n extends rMe{constructor(){super()}run(t){t instanceof fv&&!t.isRequired()&&(this.setModified(),t.remove())}}class l9n extends AL{run(t){if(!tMe(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof Np)if(t instanceof Np)this.setModified(),t.merge(n);else{if(GTe(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class c9n extends AL{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof Np);if(t.numChildren()>1&&r.length>=1){const i={},a=new Set;for(const s of r){const u=s.parse;for(const f of Vn(u))f in i?i[f]!==u[f]&&a.add(f):i[f]=u[f]}for(const s of a)delete i[s];if(!Tu(i)){this.setModified();const s=new Np(t,i);for(const u of n){if(u instanceof Np)for(const f of Vn(i))delete u.parse[f];t.removeChild(u),u.parent=s,u instanceof Np&&Vn(u.parse).length===0&&u.remove()}}}}}class f9n extends AL{run(t){t instanceof fv||t.numChildren()>0||t instanceof k7||t instanceof BP||(this.setModified(),t.remove())}}class d9n extends AL{run(t){const n=t.children.filter(i=>i instanceof nE),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class h9n extends AL{run(t){const n=t.children.filter(i=>i instanceof p_),r={};for(const i of n){const a=ts(i.groupBy);a in r||(r[a]=[]),r[a].push(i)}for(const i of Vn(r)){const a=r[i];if(a.length>1){const s=a.pop();for(const u of a)s.merge(u)&&(t.removeChild(u),u.parent=s,u.remove(),this.setModified())}}}}class g9n extends AL{constructor(t){super(),this.model=t}run(t){const n=!(tMe(t)||t instanceof $7||t instanceof Np||t instanceof G3),r=[],i=[];for(const a of t.children)a instanceof rE&&(n&&!GTe(t.producedFields(),a.dependentFields())?r.push(a):i.push(a));if(r.length>0){const a=r.pop();for(const s of r)a.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof rE?t.merge(a,this.model.renameSignal.bind(this.model)):a.swapWithParent()}if(i.length>1){const a=i.pop();for(const s of i)a.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class p9n extends AL{run(t){const n=[...t.children];if(!MP(n,s=>s instanceof fv)||t.numChildren()<=1)return;const i=[];let a;for(const s of n)if(s instanceof fv){let u=s;for(;u.numChildren()===1;){const[f]=u.children;if(f instanceof fv)u=f;else break}i.push(...u.children),a?(t.removeChild(s),s.parent=a.parent,a.parent.removeChild(a),a.parent=u,this.setModified()):a=u}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=a}}}class RL extends Lu{clone(){return new RL(null,Va(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=zS(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){var n;return(n=t.as)!==null&&n!==void 0?n:xr(t)}hash(){return`JoinAggregateTransform ${ts(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const a of this.transform.joinaggregate)n.push(a.op),r.push(this.getDefaultName(a)),t.push(a.field===void 0?null:a.field);const i=this.transform.groupby;return Object.assign({type:"joinaggregate",as:r,ops:n,fields:t},i!==void 0?{groupby:i}:{})}}function v9n(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=xr(r);return i&&t.push(i),t},[])}function m9n(e){return En(e)&&e.every(t=>Pr(t))&&e.length>1}class lk extends Lu{clone(){return new lk(null,Va(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:a,offset:s="zero"}=n,u=[],f=[];if(n.sort!==void 0)for(const h of n.sort)u.push(h.field),f.push(md(h.order,"ascending"));const d={field:u,order:f};let c;return m9n(a)?c=a:Pr(a)?c=[a,`${a}_end`]:c=[`${n.stack}_start`,`${n.stack}_end`],new lk(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:d,facetby:[],as:c})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:a,fieldChannel:s,offset:u,impute:f}=r,d=a.map(v=>{const m=i[v];return mE(m)}).filter(v=>!!v),c=v9n(n),h=n.encoding.order;let p;return En(h)||er(h)?p=J1t(h):p=c.reduce((v,m)=>(v.field.push(m),v.order.push(s==="y"?"descending":"ascending"),v),{field:[],order:[]}),new lk(t,{dimensionFieldDefs:d,stackField:n.vgField(s),facetby:[],stackby:c,sort:p,offset:u,impute:f,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${ts(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[xr(i,{binSuffix:"mid"})]:[xr(i,{}),xr(i,{binSuffix:"end"})]:[xr(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:a,sort:s,offset:u,impute:f,as:d}=this._stack;if(f)for(const c of r){const{bandPosition:h=.5,bin:p}=c;if(p){const v=xr(c,{expr:"datum"}),m=xr(c,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${h}*${v}+${1-h}*${m}`,as:xr(c,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...a,...n],key:xr(c,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:d,offset:u}),t}}class O7 extends Lu{clone(){return new O7(null,Va(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=zS(this.transform.groupby.concat(t),n=>n)}dependentFields(){var t,n;const r=new Set;return((t=this.transform.groupby)!==null&&t!==void 0?t:[]).forEach(r.add,r),((n=this.transform.sort)!==null&&n!==void 0?n:[]).forEach(i=>r.add(i.field)),this.transform.window.map(i=>i.field).filter(i=>i!==void 0).forEach(r.add,r),r}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){var n;return(n=t.as)!==null&&n!==void 0?n:xr(t)}hash(){return`WindowTransform ${ts(this.transform)}`}assemble(){var t;const n=[],r=[],i=[],a=[];for(const p of this.transform.window)r.push(p.op),i.push(this.getDefaultName(p)),a.push(p.param===void 0?null:p.param),n.push(p.field===void 0?null:p.field);const s=this.transform.frame,u=this.transform.groupby;if(s&&s[0]===null&&s[1]===null&&r.every(p=>t4e(p)))return Object.assign({type:"joinaggregate",as:i,ops:r,fields:n},u!==void 0?{groupby:u}:{});const f=[],d=[];if(this.transform.sort!==void 0)for(const p of this.transform.sort)f.push(p.field),d.push((t=p.order)!==null&&t!==void 0?t:"ascending");const c={field:f,order:d},h=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:a,as:i,ops:r,fields:n,sort:c},h!==void 0?{ignorePeers:h}:{}),u!==void 0?{groupby:u}:{}),s!==void 0?{frame:s}:{})}}function y9n(e){function t(n){if(!(n instanceof k7)){const r=n.clone();if(r instanceof fv){const i=dEe+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof p_||r instanceof lk||r instanceof O7||r instanceof RL)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function fEe(e){if(e instanceof k7)if(e.numChildren()===1&&!(e.children[0]instanceof fv)){const t=e.children[0];(t instanceof p_||t instanceof lk||t instanceof O7||t instanceof RL)&&t.addDimensions(e.fields),t.swapWithParent(),fEe(e)}else{const t=e.model.component.data.main;xwt(t);const n=y9n(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(fEe)}function xwt(e){if(e instanceof fv&&e.type===nl.Main&&e.numChildren()===1){const t=e.children[0];t instanceof k7||(t.swapWithParent(),xwt(e))}}const dEe="scale_",kee=5;function hEe(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!hEe(t.children))return!1}return!0}function T2(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function GZe(e,t,n){let r=e.sources,i=!1;return i=T2(new u9n,r)||i,i=T2(new o9n(t),r)||i,r=r.filter(a=>a.numChildren()>0),i=T2(new f9n,r)||i,r=r.filter(a=>a.numChildren()>0),n||(i=T2(new l9n,r)||i,i=T2(new g9n(t),r)||i,i=T2(new s9n,r)||i,i=T2(new c9n,r)||i,i=T2(new h9n,r)||i,i=T2(new d9n,r)||i,i=T2(new a9n,r)||i,i=T2(new p9n,r)||i),e.sources=r,i}function b9n(e,t){hEe(e.sources);let n=0,r=0;for(let i=0;i<kee&&GZe(e,t,!0);i++)n++;e.sources.map(fEe);for(let i=0;i<kee&&GZe(e,t,!1);i++)r++;hEe(e.sources),Math.max(n,r)===kee&&qn(`Maximum optimization runs(${kee}) reached.`)}class $m{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new $m(()=>t(n))}}var w9n=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Swt(e){fd(e)?_9n(e):x9n(e)}function _9n(e){const t=e.component.scales;for(const n of Vn(t)){const r=E9n(e,n);if(t[n].setWithExplicit("domains",r),$9n(e,n),e.component.data.isFaceted){let a=e;for(;!v_(a)&&a.parent;)a=a.parent;if(a.component.resolve.scale[n]==="shared")for(const u of r.value)Z$(u)&&(u.data=dEe+u.data.replace(dEe,""))}}}function x9n(e){for(const n of e.children)Swt(n);const t=e.component.scales;for(const n of Vn(t)){let r,i=null;for(const a of e.children){const s=a.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=H3(r,s.getWithExplicit("domains"),"domains","scale",gEe);const u=s.get("selectionExtent");i&&u&&i.param!==u.param&&qn(pIn),i=u}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function S9n(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:a}=qZe(t,n);if(!i){qn(a);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=qZe(t,n);if(i)return"unaggregated"}return e}function E9n(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=S9n(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]=Object.assign(Object.assign({},e.specifiedScales[t]),{domain:i})),t==="x"&&Gd(r.x2)?Gd(r.x)?H3(XA(n,i,e,"x"),XA(n,i,e,"x2"),"domain","scale",gEe):XA(n,i,e,"x2"):t==="y"&&Gd(r.y2)?Gd(r.y)?H3(XA(n,i,e,"y"),XA(n,i,e,"y2"),"domain","scale",gEe):XA(n,i,e,"y2"):XA(n,i,e,t)}function C9n(e,t,n){return e.map(r=>({signal:`{data: ${jle(r,{timeUnit:n,type:t})}}`}))}function Vye(e,t,n){var r;const i=(r=Jp(n))===null||r===void 0?void 0:r.unit;return t==="temporal"||i?C9n(e,t,i):[e]}function XA(e,t,n,r){const{encoding:i}=n,a=Gd(i[r]),{type:s}=a,u=a.timeUnit;if(j6n(t)){const h=XA(e,void 0,n,r),p=Vye(t.unionWith,s,u);return _S([...p,...h.value])}else{if(Mi(t))return _S([t]);if(t&&t!=="unaggregated"&&!xyt(t))return _S(Vye(t,s,u))}const f=n.stack;if(f&&r===f.fieldChannel){if(f.offset==="normalize")return W1([[0,1]]);const h=n.requestDataName(nl.Main);return W1([{data:h,field:n.vgField(r,{suffix:"start"})},{data:h,field:n.vgField(r,{suffix:"end"})}])}const d=ST(r)&&er(a)?k9n(n,r,e):void 0;if(UE(a)){const h=Vye([a.datum],s,u);return W1(h)}const c=a;if(t==="unaggregated"){const h=n.requestDataName(nl.Main),{field:p}=a;return W1([{data:h,field:xr({field:p,aggregate:"min"})},{data:h,field:xr({field:p,aggregate:"max"})}])}else if(ul(c.bin)){if(Vh(e))return W1(e==="bin-ordinal"?[]:[{data:gW(d)?n.requestDataName(nl.Main):n.requestDataName(nl.Raw),field:n.vgField(r,Oq(c,r)?{binSuffix:"range"}:{}),sort:d===!0||!Gr(d)?{field:n.vgField(r,{}),op:"min"}:d}]);{const{bin:h}=c;if(ul(h)){const p=eMe(n,c.field,h);return W1([new $m(()=>{const v=n.getSignalName(p);return`[${v}.start, ${v}.stop]`})])}else return W1([{data:n.requestDataName(nl.Main),field:n.vgField(r,{})}])}}else if(c.timeUnit&&Vo(["time","utc"],e)&&zyt(c,fd(n)?n.encoding[BE(r)]:void 0,n.markDef,n.config)){const h=n.requestDataName(nl.Main);return W1([{data:h,field:n.vgField(r)},{data:h,field:n.vgField(r,{suffix:"end"})}])}else return W1(d?[{data:gW(d)?n.requestDataName(nl.Main):n.requestDataName(nl.Raw),field:n.vgField(r),sort:d}]:[{data:n.requestDataName(nl.Main),field:n.vgField(r)}])}function Wye(e,t){const{op:n,field:r,order:i}=e;return Object.assign(Object.assign({op:n??(t?"sum":Dle)},r?{field:ow(r)}:{}),i?{order:i}:{})}function $9n(e,t){var n;const r=e.component.scales[t],i=e.specifiedScales[t].domain,a=(n=e.fieldDef(t))===null||n===void 0?void 0:n.bin,s=xyt(i)&&i,u=$L(a)&&Ale(a.extent)&&a.extent;(s||u)&&r.set("selectionExtent",s??u,!0)}function k9n(e,t,n){if(!Vh(n))return;const r=e.fieldDef(t),i=r.sort;if(Iyt(i))return{op:"min",field:l8(r,t),order:"ascending"};const{stack:a}=e,s=a?new Set([...a.groupbyFields,...a.stackBy.map(u=>u.fieldDef.field)]):void 0;if(tE(i)){const u=a&&!s.has(i.field);return Wye(i,u)}else if(Dyt(i)){const{encoding:u,order:f}=i,d=e.fieldDef(u),{aggregate:c,field:h}=d,p=a&&!s.has(h);if($k(c)||ET(c))return Wye({field:xr(d),order:f},p);if(t4e(c)||!c)return Wye({op:c,field:h,order:f},p)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(Vo(["ascending",void 0],i))return!0}}function qZe(e,t){const{aggregate:n,type:r}=e;return n?Pr(n)&&!QDn.has(n)?{valid:!1,reason:UIn(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:VIn(e)}:{valid:!0}:{valid:!1,reason:HIn(e)}}function gEe(e,t,n,r){return e.explicit&&t.explicit&&qn(KIn(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function O9n(e){const t=zS(e.map(s=>Z$(s)?w9n(s,["sort"]):s),ts),n=zS(e.map(s=>{if(Z$(s)){const u=s.sort;return u!==void 0&&!gW(u)&&("op"in u&&u.op==="count"&&delete u.field,u.order==="ascending"&&delete u.order),u}}).filter(s=>s!==void 0),ts);if(t.length===0)return;if(t.length===1){const s=e[0];if(Z$(s)&&n.length>0){let u=n[0];if(n.length>1)qn(oZe),u=!0;else if(Gr(u)&&"field"in u){const f=u.field;s.field===f&&(u=u.order?{order:u.order}:!0)}return Object.assign(Object.assign({},s),{sort:u})}return s}const r=zS(n.map(s=>gW(s)||!("op"in s)||Pr(s.op)&&s.op in YDn?s:(qn(ZIn(s)),!0)),ts);let i;r.length===1?i=r[0]:r.length>1&&(qn(oZe),i=!0);const a=zS(e.map(s=>Z$(s)?s.data:null),s=>s);return a.length===1&&a[0]!==null?Object.assign({data:a[0],fields:t.map(u=>u.field)},i?{sort:i}:{}):Object.assign({fields:t},i?{sort:i}:{})}function iMe(e){if(Z$(e)&&Pr(e.field))return e.field;if(eIn(e)){let t;for(const n of e.fields)if(Z$(n)&&Pr(n.field)){if(!t)t=n.field;else if(t!==n.field)return qn(QIn),t}return qn(JIn),t}else if(tIn(e)){qn(e6n);const t=e.fields[0];return Pr(t)?t:void 0}}function Xle(e,t){const r=e.component.scales[t].get("domains").map(i=>(Z$(i)&&(i.data=e.lookupDataSource(i.data)),i));return O9n(r)}var A9n=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Ewt(e){return A7(e)||aMe(e)?e.children.reduce((t,n)=>t.concat(Ewt(n)),YZe(e)):YZe(e)}function YZe(e){return Vn(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:a,type:s,selectionExtent:u,domains:f,range:d,reverse:c}=i,h=A9n(i,["name","type","selectionExtent","domains","range","reverse"]),p=R9n(i.range,a,n,e),v=Xle(e,n),m=u?w8n(e,u,r,v):null;return t.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:a,type:s},v?{domain:v}:{}),m?{domainRaw:m}:{}),{range:p}),c!==void 0?{reverse:c}:{}),h)),t},[])}function R9n(e,t,n,r){if(Uh(n)){if(CT(e))return{step:{signal:`${t}_step`}}}else if(Gr(e)&&Z$(e))return Object.assign(Object.assign({},e),{data:r.lookupDataSource(e.data)});return e}class Cwt extends Hk{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:MP(this.get("domains"),t=>En(t)&&t.length===2&&t[0]<=0&&t[1]>=0)}}const T9n=["range","scheme"];function M9n(e){const t=e.component.scales;for(const n of Ole){const r=t[n];if(!r)continue;const i=P9n(n,e);r.setWithExplicit("range",i)}}function KZe(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,a=Im(t),s=e.getName(a);if(Gr(r)&&r.binned&&r.step!==void 0)return new $m(()=>{const u=e.scaleName(t),f=`(domain("${u}")[1] - domain("${u}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${f})`});if(ul(r)){const u=eMe(e,i,r);return new $m(()=>{const f=e.getSignalName(u),d=`(${f}.stop - ${f}.start) / ${f}.step`;return`${e.getSignalName(s)} / (${d})`})}}}function P9n(e,t){const n=t.specifiedScales[e],{size:r}=t,a=t.getScaleComponent(e).get("type");for(const h of T9n)if(n[h]!==void 0){const p=qSe(a,h),v=Syt(e,h);if(!p)qn(oyt(a,h,e));else if(v)qn(v);else switch(h){case"range":{const m=n.range;if(En(m)){if(Uh(e))return _S(m.map(y=>{if(y==="width"||y==="height"){const w=t.getName(y),_=t.getSignalName.bind(t);return $m.fromName(_,w)}return y}))}else if(Gr(m))return _S({data:t.requestDataName(nl.Main),field:m.field,sort:{op:"min",field:t.vgField(e)}});return _S(m)}case"scheme":return _S(L9n(n[h]))}}const s=e===zc||e==="xOffset"?"width":"height",u=r[s];if(bE(u)){if(Uh(e))if(Vh(a)){const h=$wt(u,t,e);if(h)return _S({step:h})}else qn(syt(s));else if(S7(e)){const h=e===yT?"x":"y";if(t.getScaleComponent(h).get("type")==="band"){const m=kwt(u,a);if(m)return _S(m)}}}const{rangeMin:f,rangeMax:d}=n,c=D9n(e,t);return(f!==void 0||d!==void 0)&&qSe(a,"rangeMin")&&En(c)&&c.length===2?_S([f??c[0],d??c[1]]):W1(c)}function L9n(e){return z6n(e)?Object.assign({scheme:e.name},Em(e,["name"])):{scheme:e}}function D9n(e,t){const{size:n,config:r,mark:i,encoding:a}=t,s=t.getSignalName.bind(t),{type:u}=Gd(a[e]),d=t.getScaleComponent(e).get("type"),{domain:c,domainMid:h}=t.specifiedScales[e];switch(e){case zc:case Hh:{if(Vo(["point","band"],d)){const m=Owt(e,n,r.view);if(bE(m))return{step:$wt(m,t,e)}}const p=Im(e),v=t.getName(p);return e===Hh&&gy(d)?[$m.fromName(s,v),0]:[0,$m.fromName(s,v)]}case yT:case x7:return I9n(e,t,d);case zk:{const p=t.component.scales[e].get("zero"),v=Awt(i,p,r),m=z9n(i,n,t,r);return n8(d)?N9n(v,m,F9n(d,r,c,e)):[v,m]}case gw:return[0,Math.PI*2];case EL:return[0,360];case D_:return[0,new $m(()=>{const p=t.getSignalName("width"),v=t.getSignalName("height");return`min(${p},${v})/2`})];case _T:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case xT:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case Dm:return"symbol";case Lm:case zE:case jE:return d==="ordinal"?u==="nominal"?"category":"ordinal":h!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case jk:case bT:case wT:return[r.scale.minOpacity,r.scale.maxOpacity]}}function $wt(e,t,n){var r,i,a,s,u;const{encoding:f}=t,d=t.getScaleComponent(n),c=B1t(n),h=f[c];if(pbt({step:e,offsetIsDiscrete:Pa(h)&&myt(h.type)})==="offset"&&Xyt(f,c)){const v=t.getScaleComponent(c);let y=`domain('${t.scaleName(c)}').length`;if(v.get("type")==="band"){const _=(i=(r=v.get("paddingInner"))!==null&&r!==void 0?r:v.get("padding"))!==null&&i!==void 0?i:0,S=(s=(a=v.get("paddingOuter"))!==null&&a!==void 0?a:v.get("padding"))!==null&&s!==void 0?s:0;y=`bandspace(${y}, ${_}, ${S})`}const w=(u=d.get("paddingInner"))!==null&&u!==void 0?u:d.get("padding");return{signal:`${e.step} * ${y} / (1-${aIn(w)})`}}else return e.step}function kwt(e,t){if(pbt({step:e,offsetIsDiscrete:Vh(t)})==="offset")return{step:e.step}}function I9n(e,t,n){const r=e===yT?"x":"y",a=t.getScaleComponent(r).get("type"),s=t.scaleName(r);if(a==="band"){const u=Owt(r,t.size,t.config.view);if(bE(u)){const f=kwt(u,n);if(f)return f}return[0,{signal:`bandwidth('${s}')`}]}else return O1t(`Cannot use ${e} scale if ${r} scale is not discrete.`)}function Owt(e,t,n){const r=e===zc?"width":"height",i=t[r];return i||lae(n,r)}function F9n(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&En(n)?n.length+1:(qn(l6n(r)),3)}}function N9n(e,t,n){const r=()=>{const i=uk(t),a=uk(e),s=`(${i} - ${a}) / (${n} - 1)`;return`sequence(${a}, ${i} + ${s}, ${s})`};return Mi(t)?new $m(r):{signal:r()}}function Awt(e,t,n){if(t)return Mi(t)?{signal:`${t.signal} ? 0 : ${Awt(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(Rle("size",e))}const XZe=.95;function z9n(e,t,n,r){const i={x:KZe(n,"x"),y:KZe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const a=ZZe(t,i,r.view);return Mu(a)?a-1:new $m(()=>`${a.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const a=ZZe(t,i,r.view);return Mu(a)?Math.pow(XZe*a,2):new $m(()=>`pow(${XZe} * ${a.signal}, 2)`)}}throw new Error(Rle("size",e))}function ZZe(e,t,n){const r=bE(e.width)?e.width.step:uae(n,"width"),i=bE(e.height)?e.height.step:uae(n,"height");return t.x||t.y?new $m(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function Rwt(e,t){fd(e)?j9n(e,t):Mwt(e,t)}function j9n(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:a,specifiedScales:s}=e;for(const u of Vn(n)){const f=s[u],d=n[u],c=e.getScaleComponent(u),h=Gd(i[u]),p=f[t],v=c.get("type"),m=c.get("padding"),y=c.get("paddingInner"),w=qSe(v,t),_=Syt(u,t);if(p!==void 0&&(w?_&&qn(_):qn(oyt(v,t,u))),w&&_===void 0)if(p!==void 0){const S=h.timeUnit,C=h.type;switch(t){case"domainMax":case"domainMin":kL(f[t])||C==="temporal"||S?d.set(t,{signal:jle(f[t],{type:C,timeUnit:S})},!0):d.set(t,f[t],!0);break;default:d.copyKeyFromObject(t,f)}}else{const S=t in QZe?QZe[t]({model:e,channel:u,fieldOrDatumDef:h,scaleType:v,scalePadding:m,scalePaddingInner:y,domain:f.domain,domainMin:f.domainMin,domainMax:f.domainMax,markDef:a,config:r,hasNestedOffsetScale:ZSe(i,u),hasSecondaryRangeChannel:!!i[BE(u)]}):r.scale[t];S!==void 0&&d.set(t,S,!1)}}}const QZe={bins:({model:e,fieldOrDatumDef:t})=>er(t)?B9n(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>H9n(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:a})=>U9n(e,t,n,r,i,a),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>V9n(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:a})=>W9n(e,t,n.type,r,i.scale,a),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:a})=>G9n(e,t,n,r,i.scale,a),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=er(e)?e.sort:void 0;return q9n(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:a,hasSecondaryRangeChannel:s})=>Y9n(e,t,n,r,i,a.scale,s)};function Twt(e){fd(e)?M9n(e):Mwt(e,"range")}function Mwt(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?Twt(r):Rwt(r,t);for(const r of Vn(n)){let i;for(const a of e.children){const s=a.component.scales[r];if(s){const u=s.getWithExplicit(t);i=H3(i,u,t,"scale",Abt((f,d)=>{switch(t){case"range":return f.step&&d.step?f.step-d.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function B9n(e,t){const n=t.bin;if(ul(n)){const r=eMe(e,t.field,n);return new $m(()=>e.getSignalName(r))}else if(Tg(n)&&$L(n)&&n.step!==void 0)return{step:n.step}}function H9n(e,t){if(Vo([Lm,zE,jE],e)&&t!=="nominal")return"hcl"}function U9n(e,t,n,r,i,a){var s;if(!(!((s=mE(a))===null||s===void 0)&&s.bin||En(n)||i!=null||r!=null||Vo([Cm.TIME,Cm.UTC],e)))return Uh(t)?!0:void 0}function V9n(e,t,n,r,i,a){if(Uh(e)){if(a_(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:u}=i;if(s==="bar"&&!(er(r)&&(r.bin||r.timeUnit))&&(u==="vertical"&&e==="x"||u==="horizontal"&&e==="y"))return a.continuousBandSize}if(t===Cm.POINT)return n.pointPadding}}function W9n(e,t,n,r,i,a=!1){if(e===void 0){if(Uh(t)){const{bandPaddingInner:s,barBandPaddingInner:u,rectBandPaddingInner:f,bandWithNestedOffsetPaddingInner:d}=i;return a?d:md(s,n==="bar"?u:f)}else if(S7(t)&&r===Cm.BAND)return i.offsetBandPaddingInner}}function G9n(e,t,n,r,i,a=!1){if(e===void 0){if(Uh(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:u}=i;if(a)return u;if(n===Cm.BAND)return md(s,Mi(r)?{signal:`${r.signal}/2`}:r/2)}else if(S7(t)){if(n===Cm.POINT)return .5;if(n===Cm.BAND)return i.offsetBandPaddingOuter}}}function q9n(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return gy(e)&&t==="descending"?Mi(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(gy(e)&&t==="descending")return!0}function Y9n(e,t,n,r,i,a,s){if(!!n&&n!=="unaggregated"&&gy(i)){if(En(n)){const f=n[0],d=n[n.length-1];if(f<=0&&d>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!n8(i))return!0;if(!(er(t)&&t.bin)&&Vo([...HE,...jDn],e)){const{orient:f,type:d}=r;return Vo(["bar","area","line","trail"],d)&&(f==="horizontal"&&e==="y"||f==="vertical"&&e==="x")?!1:Vo(["bar","area"],d)&&!s?!0:a==null?void 0:a.zero}return!1}function K9n(e,t,n,r,i=!1){const a=X9n(t,n,r,i),{type:s}=e;return ST(t)?s!==void 0?G6n(t,s)?er(n)&&!W6n(s,n.type)?(qn(qIn(s,a)),a):s:(qn(GIn(t,s,a)),a):a:null}function X9n(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(HF(e)||Fye(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&qn(Nye(e,"ordinal")),"ordinal";if(Uh(e)||S7(e)){if(Vo(["rect","bar","image","rule"],n.type)||r)return"band"}else if(n.type==="arc"&&e in e4e)return"band";const a=n[Im(e)];return FP(a)||i8(t)&&(!((i=t.axis)===null||i===void 0)&&i.tickBand)?"band":"point"}case"temporal":return HF(e)?"time":Fye(e)==="discrete"?(qn(Nye(e,"temporal")),"ordinal"):er(t)&&t.timeUnit&&Jp(t.timeUnit).utc?"utc":"time";case"quantitative":return HF(e)?er(t)&&ul(t.bin)?"bin-ordinal":"linear":Fye(e)==="discrete"?(qn(Nye(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(iyt(t.type))}function Z9n(e,{ignoreRange:t}={}){Pwt(e),Swt(e);for(const n of V6n)Rwt(e,n);t||Twt(e)}function Pwt(e){fd(e)?e.component.scales=Q9n(e):e.component.scales=ezn(e)}function Q9n(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const a of Ole){const s=Gd(t[a]);if(s&&n===$yt&&a===Dm&&s.type===E7)continue;let u=s&&s.scale;if(S7(a)){const f=H1t(a);if(!ZSe(t,f)){u&&qn(MIn(a));continue}}if(s&&u!==null&&u!==!1){u??(u={});const f=ZSe(t,a),d=K9n(u,a,s,r,f);i[a]=new Cwt(e.scaleName(`${a}`,!0),{value:d,explicit:u.type===d})}}return i}const J9n=Abt((e,t)=>uZe(e)-uZe(t));function ezn(e){var t,n;const r=e.component.scales={},i={},a=e.component.resolve;for(const s of e.children){Pwt(s);for(const u of Vn(s.component.scales))if((t=(n=a.scale)[u])!==null&&t!==void 0||(n[u]=cwt(u,e)),a.scale[u]==="shared"){const f=i[u],d=s.component.scales[u].getWithExplicit("type");f?L6n(f.value,d.value)?i[u]=H3(f,d,"type","scale",J9n):(a.scale[u]="independent",delete i[u]):i[u]=d}}for(const s of Vn(i)){const u=e.scaleName(s,!0),f=i[s];r[s]=new Cwt(u,f);for(const d of e.children){const c=d.component.scales[s];c&&(d.renameScale(c.get("name"),u),c.merged=!0)}}return r}var Gye=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class qye{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function fd(e){return(e==null?void 0:e.type)==="unit"}function v_(e){return(e==null?void 0:e.type)==="facet"}function aMe(e){return(e==null?void 0:e.type)==="concat"}function A7(e){return(e==null?void 0:e.type)==="layer"}class oMe{constructor(t,n,r,i,a,s,u){var f,d;this.type=n,this.parent=r,this.config=a,this.correctDataNames=c=>{var h,p,v;return!((h=c.from)===null||h===void 0)&&h.data&&(c.from.data=this.lookupDataSource(c.from.data)),!((v=(p=c.from)===null||p===void 0?void 0:p.facet)===null||v===void 0)&&v.data&&(c.from.facet.data=this.lookupDataSource(c.from.facet.data)),c},this.parent=r,this.config=a,this.view=dm(u),this.name=(f=t.name)!==null&&f!==void 0?f:i,this.title=lR(t.title)?{text:t.title}:t.title?dm(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new qye,this.projectionNameMap=r?r.projectionNameMap:new qye,this.signalNameMap=r?r.signalNameMap:new qye,this.data=t.data,this.description=t.description,this.transforms=r8n((d=t.transform)!==null&&d!==void 0?d:[]),this.layout=n==="layer"||n==="unit"?{}:lNn(t,n,a),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:Ile(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Hk,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},axis:{},legend:{}},s?Va(s):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){Z9n(this)}parseProjection(){wwt(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){pwt(this)}assembleEncodeFromView(t){const n=Gye(t,["style"]),r={};for(const i of Vn(n)){const a=n[i];a!==void 0&&(r[i]=Rl(a))}return r}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=Rl(this.description)),this.type==="unit"||this.type==="layer")?Object.assign({width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},n??{}):Tu(n)?void 0:n}assembleLayout(){if(!this.layout)return;const t=this.layout,{spacing:n}=t,r=Gye(t,["spacing"]),{component:i,config:a}=this,s=m7n(i.layoutHeaders,a);return Object.assign(Object.assign(Object.assign({padding:n},this.assembleDefaultLayout()),r),s?{titleBand:s}:{})}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Vb)t[r].title&&n.push(f7n(this,r));for(const r of X4e)n=n.concat(d7n(this,r));return n}assembleAxes(){return J8n(this.component.axes,this.config)}assembleLegends(){return mwt(this)}assembleProjections(){return B7n(this)}assembleTitle(){var t,n,r;const i=(t=this.title)!==null&&t!==void 0?t:{},{encoding:a}=i,s=Gye(i,["encoding"]),u=Object.assign(Object.assign(Object.assign({},K1t(this.config.title).nonMarkTitleProperties),s),a?{encode:{update:a}}:{});if(u.text)return Vo(["unit","layer"],this.type)?Vo(["middle",void 0],u.anchor)&&((n=u.frame)!==null&&n!==void 0||(u.frame="group")):(r=u.anchor)!==null&&r!==void 0||(u.anchor="start"),Tu(u)?void 0:u}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||v_(this.parent)?Ewt(this):[];i.length>0&&(n.scales=i);const a=this.assembleAxes();a.length>0&&(n.axes=a);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return ec((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(nl[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(v_(this.parent)){const n=uwt(t),r=kle(n),i=this.component.scales[r];if(i&&!i.merged){const a=i.get("type"),s=i.get("range");if(Vh(a)&&CT(s)){const u=i.get("name"),f=Xle(this,r),d=iMe(f);if(d){const c=xr({aggregate:"distinct",field:d},{expr:"datum"});return{signal:swt(u,i,c)}}else return qn(i4e(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(z1t(t)&&ST(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(cIn(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)===null||t===void 0?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)===null||n===void 0?void 0:n.some(r=>r.hasOrientSignalRef()))}}class Lwt extends oMe{vgField(t,n={}){const r=this.fieldDef(t);if(r)return xr(r,n)}reduceFieldDef(t,n){return FFn(this.getMapping(),(r,i,a)=>{const s=mE(i);return s?t(r,s,a):r},n)}forEachFieldDef(t,n){M4e(this.getMapping(),(r,i)=>{const a=mE(r);a&&t(a,i)},n)}}var tzn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class Zle extends Lu{clone(){return new Zle(null,Va(this.transform))}constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=Va(n);const s=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=s[0])!==null&&i!==void 0?i:"value",(a=s[1])!==null&&a!==void 0?a:"density"],n.groupby&&n.minsteps==null&&n.maxsteps==null&&n.steps==null&&(this.transform.steps=200)}dependentFields(){var t;return new Set([this.transform.density,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${ts(this.transform)}`}assemble(){const t=this.transform,{density:n}=t,r=tzn(t,["density"]);return Object.assign({type:"kde",field:n},r)}}class bW extends Lu{clone(){return new bW(null,Object.assign({},this.filter))}constructor(t,n){super(t),this.filter=n}static make(t,n){const{config:r,mark:i,markDef:a}=n;if(uu("invalid",a,r)!=="filter")return null;const u=n.reduceFieldDef((f,d,c)=>{const h=ST(c)&&n.getScaleComponent(c);if(h){const p=h.get("type");gy(p)&&d.aggregate!=="count"&&!$T(i)&&(f[d.field]=d)}return f},{});return Vn(u).length?new bW(t,u):null}dependentFields(){return new Set(Vn(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${ts(this.filter)}`}assemble(){const t=Vn(this.filter).reduce((n,r)=>{const i=this.filter[r],a=xr(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${a}) || (isValid(${a}) && isFinite(+${a})))`):i.type==="quantitative"&&(n.push(`isValid(${a})`),n.push(`isFinite(+${a})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class Qle extends Lu{clone(){return new Qle(this.parent,Va(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=Va(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((a,s)=>{var u;return(u=i[s])!==null&&u!==void 0?u:a})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${ts(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class Jle extends Lu{clone(){return new Jle(null,Va(this.transform))}constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=Va(n);const s=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=s[0])!==null&&i!==void 0?i:"key",(a=s[1])!==null&&a!==void 0?a:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${ts(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class WF extends Lu{clone(){return new WF(null,Va(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[NE,FE],[sw,I_]]){const a=i.map(s=>{const u=Gd(n.encoding[s]);return er(u)?u.field:UE(u)?{expr:`${u.datum}`}:O_(u)?{expr:`${u.value}`}:void 0});(a[0]||a[1])&&(t=new WF(t,a,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(Dm)){const i=n.typedFieldDef(Dm);i.type===E7&&(t=new WF(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){var t;const n=((t=this.fields)!==null&&t!==void 0?t:[]).filter(Pr);return new Set([...this.geojson?[this.geojson]:[],...n])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${ts(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:{}),{signal:this.signal})]}}class wW extends Lu{clone(){return new wW(null,this.projection,Va(this.fields),Va(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[NE,FE],[sw,I_]]){const i=r.map(s=>{const u=Gd(n.encoding[s]);return er(u)?u.field:UE(u)?{expr:`${u.datum}`}:O_(u)?{expr:`${u.value}`}:void 0}),a=r[0]===sw?"2":"";(i[0]||i[1])&&(t=new wW(t,n.projectionName(),i,[n.getName(`x${a}`),n.getName(`y${a}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Pr))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${ts(this.fields)} ${ts(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Y5 extends Lu{clone(){return new Y5(null,Va(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){var t;return new Set([this.transform.impute,this.transform.key,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Y5(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,a=r.y;if(er(i)&&er(a)){const s=i.impute?i:a.impute?a:void 0;if(s===void 0)return;const u=i.impute?a:a.impute?i:void 0,{method:f,value:d,frame:c,keyvals:h}=s.impute,p=Qyt(n.mark,r);return new Y5(t,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:s.field,key:u.field},f?{method:f}:{}),d!==void 0?{value:d}:{}),c?{frame:c}:{}),h!==void 0?{keyvals:h}:{}),p.length?{groupby:p}:{}))}return null}hash(){return`Impute ${ts(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:a,value:s,frame:u=[null,null]}=this.transform,f=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:t,key:n},r?{keyvals:zNn(r)?this.processSequence(r):r}:{}),{method:"value"}),a?{groupby:a}:{}),{value:!i||i==="value"?s:null});if(i&&i!=="value"){const d=Object.assign({type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:u,ignorePeers:!1},a?{groupby:a}:{}),c={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[f,d,c]}else return[f]}}var nzn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class ece extends Lu{clone(){return new ece(null,Va(this.transform))}constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=Va(n);const s=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=s[0])!==null&&i!==void 0?i:n.on,(a=s[1])!==null&&a!==void 0?a:n.loess]}dependentFields(){var t;return new Set([this.transform.loess,this.transform.on,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${ts(this.transform)}`}assemble(){const t=this.transform,{loess:n,on:r}=t,i=nzn(t,["loess","on"]);return Object.assign({type:"loess",x:r,y:n},i)}}class _W extends Lu{clone(){return new _W(null,Va(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const a=n.component.data.sources,{from:s}=r;let u=null;if(jNn(s)){let f=Fwt(s.data,a);f||(f=new BP(s.data),a.push(f));const d=n.getName(`lookup_${i}`);u=new fv(f,d,nl.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[d]=u}else if(BNn(s)){const f=s.param;r=Object.assign({as:f},r);let d;try{d=n.getSelectionComponent(ec(f),f)}catch{throw new Error(hIn(f))}if(u=d.materialized,!u)throw new Error(gIn(f))}return new _W(t,r,u.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Mr(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${ts({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t=Object.assign({values:this.transform.from.fields},this.transform.as?{as:Mr(this.transform.as)}:{});else{let n=this.transform.as;Pr(n)||(qn(xIn),n="_lookup"),t={as:[n]}}return Object.assign(Object.assign({type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},t),this.transform.default?{default:this.transform.default}:{})}}var rzn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class tce extends Lu{clone(){return new tce(null,Va(this.transform))}constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=Va(n);const s=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=s[0])!==null&&i!==void 0?i:"prob",(a=s[1])!==null&&a!==void 0?a:"value"]}dependentFields(){var t;return new Set([this.transform.quantile,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${ts(this.transform)}`}assemble(){const t=this.transform,{quantile:n}=t,r=rzn(t,["quantile"]);return Object.assign({type:"quantile",field:n},r)}}var izn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class nce extends Lu{clone(){return new nce(null,Va(this.transform))}constructor(t,n){var r,i,a;super(t),this.transform=n,this.transform=Va(n);const s=(r=this.transform.as)!==null&&r!==void 0?r:[void 0,void 0];this.transform.as=[(i=s[0])!==null&&i!==void 0?i:n.on,(a=s[1])!==null&&a!==void 0?a:n.regression]}dependentFields(){var t;return new Set([this.transform.regression,this.transform.on,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${ts(this.transform)}`}assemble(){const t=this.transform,{regression:n,on:r}=t,i=izn(t,["regression","on"]);return Object.assign({type:"regression",x:r,y:n},i)}}class rce extends Lu{clone(){return new rce(null,Va(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){var n;this.transform.groupby=zS(((n=this.transform.groupby)!==null&&n!==void 0?n:[]).concat(t),r=>r)}producedFields(){}dependentFields(){var t;return new Set([this.transform.pivot,this.transform.value,...(t=this.transform.groupby)!==null&&t!==void 0?t:[]])}hash(){return`PivotTransform ${ts(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:a}=this.transform;return Object.assign(Object.assign(Object.assign({type:"pivot",field:t,value:n},i!==void 0?{limit:i}:{}),a!==void 0?{op:a}:{}),r!==void 0?{groupby:r}:{})}}class ice extends Lu{clone(){return new ice(null,Va(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${ts(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function Dwt(e){let t=0;function n(r,i){var a;if(r instanceof BP&&!r.isGenerator&&!o8(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof Np&&(r.parent instanceof BP&&!i.source?(i.format=Object.assign(Object.assign({},(a=i.format)!==null&&a!==void 0?a:{}),{parse:r.assembleFormatParse()}),i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof k7){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof Tq||r instanceof Mq||r instanceof bW||r instanceof $7||r instanceof u8||r instanceof wW||r instanceof p_||r instanceof _W||r instanceof O7||r instanceof RL||r instanceof Jle||r instanceof Qle||r instanceof Zle||r instanceof ece||r instanceof tce||r instanceof nce||r instanceof G3||r instanceof ice||r instanceof rce)&&i.transform.push(r.assemble()),(r instanceof rE||r instanceof nE||r instanceof Y5||r instanceof lk||r instanceof WF)&&i.transform.push(...r.assemble()),r instanceof fv&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof fv?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof fv&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let s=i.name;!i.source||i.transform.length>0?e.push(i):s=i.source;for(const u of r.children)n(u,{name:null,source:s,transform:[]});break}}}return n}function azn(e){const t=[],n=Dwt(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function ozn(e,t){var n,r;const i=[],a=Dwt(i);let s=0;for(const f of e.sources){f.hasName()||(f.dataName=`source_${s++}`);const d=f.assemble();a(f,d)}for(const f of i)f.transform.length===0&&delete f.transform;let u=0;for(const[f,d]of i.entries())((n=d.transform)!==null&&n!==void 0?n:[]).length===0&&!d.source&&i.splice(u++,0,i.splice(f,1)[0]);for(const f of i)for(const d of(r=f.transform)!==null&&r!==void 0?r:[])d.type==="lookup"&&(d.from=e.outputNodes[d.from].getSource());for(const f of i)f.name in t&&(f.values=t[f.name]);return i}function szn(e){return e==="top"||e==="left"||Mi(e)?"header":"footer"}function uzn(e){for(const t of Vb)lzn(e,t);JZe(e,"x"),JZe(e,"y")}function lzn(e,t){var n;const{facet:r,config:i,child:a,component:s}=e;if(e.channelHasField(t)){const u=r[t],f=c8("title",null,i,t);let d=UF(u,i,{allowDisabling:!0,includeDefault:f===void 0||!!f});a.component.layoutHeaders[t].title&&(d=En(d)?d.join(", "):d,d+=` / ${a.component.layoutHeaders[t].title}`,a.component.layoutHeaders[t].title=null);const c=c8("labelOrient",u.header,i,t),h=u.header!==null?md((n=u.header)===null||n===void 0?void 0:n.labels,i.header.labels,!0):!1,p=Vo(["bottom","right"],c)?"footer":"header";s.layoutHeaders[t]={title:u.header!==null?d:null,facetFieldDef:u,[p]:t==="facet"?[]:[Iwt(e,t,h)]}}}function Iwt(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function JZe(e,t){var n;const{child:r}=e;if(r.component.axes[t]){const{layoutHeaders:i,resolve:a}=e.component;if(a.axis[t]=J4e(a,t),a.axis[t]==="shared"){const s=t==="x"?"column":"row",u=i[s];for(const f of r.component.axes[t]){const d=szn(f.get("orient"));(n=u[d])!==null&&n!==void 0||(u[d]=[Iwt(e,s,!1)]);const c=FH(f,"main",e.config,{header:!0});c&&u[d][0].axes.push(c),f.mainExtracted=!0}}}}function czn(e){sMe(e),hae(e,"width"),hae(e,"height")}function fzn(e){sMe(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";hae(e,t),hae(e,n)}function sMe(e){for(const t of e.children)t.parseLayoutSize()}function hae(e,t){var n;const r=uwt(t),i=kle(r),a=e.component.resolve,s=e.component.layoutSize;let u;for(const f of e.children){const d=f.component.layoutSize.getWithExplicit(r),c=(n=a.scale[i])!==null&&n!==void 0?n:cwt(i,e);if(c==="independent"&&d.value==="step"){u=void 0;break}if(u){if(c==="independent"&&u.value!==d.value){u=void 0;break}u=H3(u,d,r,"")}else u=d}if(u){for(const f of e.children)e.renameSignal(f.getName(r),e.getName(t)),f.component.layoutSize.set(r,"merged",!1);s.setWithExplicit(t,u)}else s.setWithExplicit(t,{explicit:!1,value:void 0})}function dzn(e){const{size:t,component:n}=e;for(const r of HE){const i=Im(r);if(t[i]){const a=t[i];n.layoutSize.set(i,bE(a)?"step":a,!0)}else{const a=hzn(e,i);n.layoutSize.set(i,a,!1)}}}function hzn(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const a=i.get("type"),s=i.get("range");if(Vh(a)){const u=lae(r.view,t);return CT(s)||bE(u)?"step":u}else return JSe(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return JSe(r.view,t);{const a=lae(r.view,t);return bE(a)?a.step:a}}}function pEe(e,t,n){return xr(t,Object.assign({suffix:`by_${xr(e)}`},n??{}))}class $U extends Lwt{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=dMe(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!$q(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=Vn(t),r={};for(const i of n){if(![ok,sk].includes(i)){qn(Rle(i,"facet"));break}const a=t[i];if(a.field===void 0){qn(WSe(a,i));break}r[i]=this.initFacetFieldDef(a,i)}return r}initFacetFieldDef(t,n){const r=R4e(t,n);return r.header?r.header=dm(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=oce(this),this.child.parseData()}parseLayoutSize(){sMe(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),uzn(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){var t,n,r;const i={};for(const a of Vb)for(const s of Z4e){const u=this.component.layoutHeaders[a],f=u[s],{facetFieldDef:d}=u;if(d){const c=c8("titleOrient",d.header,this.config,a);if(["right","bottom"].includes(c)){const h=Yle(a,c);(t=i.titleAnchor)!==null&&t!==void 0||(i.titleAnchor={}),i.titleAnchor[h]="end"}}if(f!=null&&f[0]){const c=a==="row"?"height":"width",h=s==="header"?"headerBand":"footerBand";a!=="facet"&&!this.child.component.layoutSize.get(c)&&((n=i[h])!==null&&n!==void 0||(i[h]={}),i[h][a]=.5),u.title&&((r=i.offset)!==null&&r!==void 0||(i.offset={}),i.offset[a==="row"?"rowTitle":"columnTitle"]=10)}}return i}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),r?{columns:r}:{}),{bounds:"full",align:i})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof $U))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof $U?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:xr(this.facet.column,{prefix:"distinct"})}}}}:{}),super.assembleGroup(t)):super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof $U){if(this.child.channelHasField("column")){const i=xr(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of HE){const a=this.child.component.scales[i];if(a&&!a.merged){const s=a.get("type"),u=a.get("range");if(Vh(s)&&CT(u)){const f=Xle(this.child,i),d=iMe(f);d?(t.push(d),n.push("distinct"),r.push(`distinct_${d}`)):qn(i4e(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:a,ops:s,as:u}=this.getCardinalityAggregateForChild(),f=[];for(const c of Vb){const h=this.facet[c];if(h){f.push(xr(h));const{bin:p,sort:v}=h;if(ul(p)&&f.push(xr(h,{binSuffix:"end"})),tE(v)){const{field:m,op:y=Dle}=v,w=pEe(h,v);r&&i?(a.push(w),s.push("max"),u.push(w)):(a.push(m),s.push(y),u.push(w))}else if(En(v)){const m=l8(h,c);a.push(m),s.push("max"),u.push(m)}}}const d=!!r&&!!i;return Object.assign({name:t,data:n,groupby:f},d||a.length>0?{aggregate:Object.assign(Object.assign({},d?{cross:d}:{}),a.length?{fields:a,ops:s,as:u}:{})}:{})}facetSortFields(t){const{facet:n}=this,r=n[t];return r?tE(r.sort)?[pEe(r,r.sort,{expr:"datum"})]:En(r.sort)?[l8(r,t,{expr:"datum"})]:[xr(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(tE(i)?i.order:!En(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var t;const{facet:n,config:r}=this;if(n.facet)return lEe(n.facet,"facet",r);const i={row:["top","bottom"],column:["left","right"]};for(const a of X4e)if(n[a]){const s=c8("labelOrient",(t=n[a])===null||t===void 0?void 0:t.header,r,a);if(i[a].includes(s))return lEe(n[a],a,r)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=azn(n),i=t.assembleGroupEncodeEntry(!1),a=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},a?{title:a}:{}),s?{style:s}:{}),{from:{facet:this.assembleFacet()},sort:{field:Vb.map(f=>this.facetSortFields(f)).flat(),order:Vb.map(f=>this.facetSortOrder(f)).flat()}}),r.length>0?{data:r}:{}),i?{encode:{update:i}}:{}),t.assembleGroup(v8n(this,[])))]}getMapping(){return this.facet}}function gzn(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const a of[n,r])if(tE(a.sort)){const{field:s,op:u=Dle}=a.sort;e=i=new RL(e,{joinaggregate:[{op:u,field:s,as:pEe(a,a.sort,{forAs:!0})}],groupby:[xr(a)]})}return i}return null}function Fwt(e,t){var n,r,i,a;for(const s of t){const u=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const f=(n=e.format)===null||n===void 0?void 0:n.mesh,d=(r=u.format)===null||r===void 0?void 0:r.feature;if(f&&d)continue;const c=(i=e.format)===null||i===void 0?void 0:i.feature;if((c||d)&&c!==d)continue;const h=(a=u.format)===null||a===void 0?void 0:a.mesh;if(!((f||h)&&f!==h)){if(mW(e)&&mW(u)){if(NS(e.values,u.values))return s}else if(o8(e)&&o8(u)){if(e.url===u.url)return s}else if(Rbt(e)&&e.name===s.dataName)return s}}return null}function pzn(e,t){if(e.data||!e.parent){if(e.data===null){const r=new BP({values:[]});return t.push(r),r}const n=Fwt(e.data,t);if(n)return s3(e.data)||(n.data.format=A1t({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new BP(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function vzn(e,t,n){var r,i;let a=0;for(const s of t.transforms){let u,f;if(ZNn(s))f=e=new u8(e,s),u="derived";else if(U4e(s)){const d=t9n(s);f=e=(r=Np.makeWithAncestors(e,{},d,n))!==null&&r!==void 0?r:e,e=new $7(e,t,s.filter)}else if(Ebt(s))f=e=rE.makeFromTransform(e,s,t),u="number";else if(JNn(s))u="date",n.getWithExplicit(s.field).value===void 0&&(e=new Np(e,{[s.field]:u}),n.set(s.field,u,!1)),f=e=nE.makeFromTransform(e,s);else if(e8n(s))f=e=p_.makeFromTransform(e,s),u="number",K4e(t)&&(e=new G3(e));else if(Sbt(s))f=e=_W.make(e,t,s,a++),u="derived";else if(YNn(s))f=e=new O7(e,s),u="number";else if(KNn(s))f=e=new RL(e,s),u="number";else if(t8n(s))f=e=lk.makeFromTransform(e,s),u="derived";else if(n8n(s))f=e=new Jle(e,s),u="derived";else if(XNn(s))f=e=new Qle(e,s),u="derived";else if(HNn(s))f=e=new rce(e,s),u="derived";else if(qNn(s))e=new ice(e,s);else if(QNn(s))f=e=Y5.makeFromTransform(e,s),u="derived";else if(UNn(s))f=e=new Zle(e,s),u="derived";else if(VNn(s))f=e=new tce(e,s),u="derived";else if(WNn(s))f=e=new nce(e,s),u="derived";else if(GNn(s))f=e=new ece(e,s),u="derived";else{qn(_In(s));continue}if(f&&u!==void 0)for(const d of(i=f.producedFields())!==null&&i!==void 0?i:[])n.set(d,u,!1)}return e}function oce(e){var t,n,r,i,a,s,u,f,d,c;let h=pzn(e,e.component.data.sources);const{outputNodes:p,outputNodeRefCounts:v}=e.component.data,m=e.data,w=!(m&&(s3(m)||o8(m)||mW(m)))&&e.parent?e.parent.component.data.ancestorParse.clone():new h8n;s3(m)?(Tbt(m)?h=new Mq(h,m.sequence):V4e(m)&&(h=new Tq(h,m.graticule)),w.parseNothing=!0):((t=m==null?void 0:m.format)===null||t===void 0?void 0:t.parse)===null&&(w.parseNothing=!0),h=(n=Np.makeExplicit(h,e,w))!==null&&n!==void 0?n:h,h=new G3(h);const _=e.parent&&A7(e.parent);(fd(e)||v_(e))&&_&&(h=(r=rE.makeFromEncoding(h,e))!==null&&r!==void 0?r:h),e.transforms.length>0&&(h=vzn(h,e,w));const S=r9n(e),C=n9n(e);h=(i=Np.makeWithAncestors(h,{},Object.assign(Object.assign({},S),C),w))!==null&&i!==void 0?i:h,fd(e)&&(h=WF.parseAll(h,e),h=wW.parseAll(h,e)),(fd(e)||v_(e))&&(_||(h=(a=rE.makeFromEncoding(h,e))!==null&&a!==void 0?a:h),h=(s=nE.makeFromEncoding(h,e))!==null&&s!==void 0?s:h,h=u8.parseAllForSortIndex(h,e));const $=e.getDataName(nl.Raw),k=new fv(h,$,nl.Raw,v);if(p[$]=k,h=k,fd(e)){const N=p_.makeFromEncoding(h,e);N&&(h=N,K4e(e)&&(h=new G3(h))),h=(u=Y5.makeFromEncoding(h,e))!==null&&u!==void 0?u:h,h=(f=lk.makeFromEncoding(h,e))!==null&&f!==void 0?f:h}fd(e)&&(h=(d=bW.make(h,e))!==null&&d!==void 0?d:h);const M=e.getDataName(nl.Main),A=new fv(h,M,nl.Main,v);p[M]=A,h=A,fd(e)&&Z8n(e,A);let L=null;if(v_(e)){const N=e.getName("facet");h=(c=gzn(h,e.facet))!==null&&c!==void 0?c:h,L=new k7(h,e,N,A.getSource()),p[N]=L}return Object.assign(Object.assign({},e.component.data),{outputNodes:p,outputNodeRefCounts:v,raw:k,main:A,facetRoot:L,ancestorParse:w})}class mzn extends oMe{constructor(t,n,r,i){var a,s,u,f;super(t,"concat",n,r,i,t.resolve),(((s=(a=t.resolve)===null||a===void 0?void 0:a.axis)===null||s===void 0?void 0:s.x)==="shared"||((f=(u=t.resolve)===null||u===void 0?void 0:u.axis)===null||f===void 0?void 0:f.y)==="shared")&&qn(yIn),this.children=this.getChildren(t).map((d,c)=>dMe(d,this,this.getName(`concat_${c}`),void 0,i))}parseData(){this.component.data=oce(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Vn(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return Ule(t)?t.vconcat:B4e(t)?t.hconcat:t.concat}parseLayoutSize(){fzn(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=Q4e(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",name:t.getName("group")},n?{title:n}:{}),r?{style:r}:{}),i?{encode:{update:i}}:{}),t.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return Object.assign(Object.assign({},t!=null?{columns:t}:{}),{bounds:"full",align:"each"})}}function yzn(e){return e===!1||e===null}const bzn=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},Yyt),{labelExpr:1,encode:1}),Nwt=Vn(bzn);class uMe extends Hk{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new uMe(Va(this.explicit),Va(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!yzn(this.get(t))}hasOrientSignalRef(){return Mi(this.explicit.orient)}}function wzn(e,t,n){var r;const{encoding:i,config:a}=e,s=(r=Gd(i[t]))!==null&&r!==void 0?r:Gd(i[BE(t)]),u=e.axis(t)||{},{format:f,formatType:d}=u;if(NP(d))return Object.assign({text:o_({fieldOrDatumDef:s,field:"datum.value",format:f,formatType:d,config:a})},n);if(f===void 0&&d===void 0&&a.customFormatTypes){if(r8(s)==="quantitative"){if(i8(s)&&s.stack==="normalize"&&a.normalizedNumberFormatType)return Object.assign({text:o_({fieldOrDatumDef:s,field:"datum.value",format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,config:a})},n);if(a.numberFormatType)return Object.assign({text:o_({fieldOrDatumDef:s,field:"datum.value",format:a.numberFormat,formatType:a.numberFormatType,config:a})},n)}if(r8(s)==="temporal"&&a.timeFormatType&&er(s)&&!s.timeUnit)return Object.assign({text:o_({fieldOrDatumDef:s,field:"datum.value",format:a.timeFormat,formatType:a.timeFormatType,config:a})},n)}return n}function _zn(e){return HE.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[Ozn(n,e)]),t),{})}const xzn={bottom:"top",top:"bottom",left:"right",right:"left"};function Szn(e){var t;const{axes:n,resolve:r}=e.component,i={top:0,bottom:0,right:0,left:0};for(const a of e.children){a.parseAxesAndHeaders();for(const s of Vn(a.component.axes))r.axis[s]=J4e(e.component.resolve,s),r.axis[s]==="shared"&&(n[s]=Ezn(n[s],a.component.axes[s]),n[s]||(r.axis[s]="independent",delete n[s]))}for(const a of HE){for(const s of e.children)if(s.component.axes[a]){if(r.axis[a]==="independent"){n[a]=((t=n[a])!==null&&t!==void 0?t:[]).concat(s.component.axes[a]);for(const u of s.component.axes[a]){const{value:f,explicit:d}=u.getWithExplicit("orient");if(!Mi(f)){if(i[f]>0&&!d){const c=xzn[f];i[f]>i[c]&&u.set("orient",c,!1)}i[f]++}}}delete s.component.axes[a]}if(r.axis[a]==="independent"&&n[a]&&n[a].length>1)for(const s of n[a])s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function Ezn(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],a=t[r];if(!!i!=!!a)return;if(i&&a){const s=i.getWithExplicit("orient"),u=a.getWithExplicit("orient");if(s.explicit&&u.explicit&&s.value!==u.value)return;e[r]=Czn(i,a)}}}else return t.map(n=>n.clone());return e}function Czn(e,t){for(const n of Nwt){const r=H3(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,a)=>{switch(n){case"title":return nyt(i,a);case"gridScale":return{explicit:i.explicit,value:md(i.value,a.value)}}return Wle(i,a,n,"axis")});e.setWithExplicit(n,r)}return e}function $zn(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(Mi(n.labelAngle)?n.labelAngle:pW(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===rwt(r,i))return!0}return e===n[t]}const kzn=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function Ozn(e,t){var n,r,i;let a=t.axis(e);const s=new uMe,u=Gd(t.encoding[e]),{mark:f,config:d}=t,c=(a==null?void 0:a.orient)||((n=d[e==="x"?"axisX":"axisY"])===null||n===void 0?void 0:n.orient)||((r=d.axis)===null||r===void 0?void 0:r.orient)||s7n(e),h=t.getScaleComponent(e).get("type"),p=e7n(e,h,c,t.config),v=a!==void 0?!a:sEe("disable",d.style,a==null?void 0:a.style,p).configValue;if(s.set("disable",v,a!==void 0),v)return s;a=a||{};const m=i7n(u,a,e,d.style,p),y={fieldOrDatumDef:u,axis:a,channel:e,model:t,scaleType:h,orient:c,labelAngle:m,mark:f,config:d};for(const S of Nwt){const C=S in NZe?NZe[S](y):gZe(S)?a[S]:void 0,$=C!==void 0,k=$zn(C,S,a,t,e);if($&&k)s.set(S,C,k);else{const{configValue:M=void 0,configFrom:A=void 0}=gZe(S)&&S!=="values"?sEe(S,d.style,a.style,p):{},L=M!==void 0;$&&!L?s.set(S,C,k):(A!=="vgAxisConfig"||kzn.has(S)&&L||Aq(M)||Mi(M))&&s.set(S,M,!1)}}const w=(i=a.encoding)!==null&&i!==void 0?i:{},_=qyt.reduce((S,C)=>{var $;if(!s.hasAxisPart(C))return S;const k=lwt(($=w[C])!==null&&$!==void 0?$:{},t),M=C==="labels"?wzn(t,e,k):k;return M!==void 0&&!Tu(M)&&(S[C]={update:M}),S},{});return Tu(_)||s.set("encode",_,!!a.encoding||a.labelAngle!==void 0),s}function Azn({encoding:e,size:t}){for(const n of HE){const r=Im(n);bE(t[r])&&jS(e[n])&&(delete t[r],qn(syt(r)))}return t}function Rzn(e,t,n){const r=dm(e),i=uu("orient",r,n);if(r.orient=Lzn(r.type,t,i),i!==void 0&&i!==r.orient&&qn(zIn(r.orient,i)),r.type==="bar"&&r.orient){const u=uu("cornerRadiusEnd",r,n);if(u!==void 0){const f=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:iFn[r.orient];for(const d of f)r[d]=u;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}return uu("opacity",r,n)===void 0&&(r.opacity=Mzn(r.type,t)),uu("cursor",r,n)===void 0&&(r.cursor=Tzn(r,t,n)),r}function Tzn(e,t,n){return t.href||e.href||uu("href",e,n)?"pointer":e.cursor}function Mzn(e,t){if(Vo([Lle,b4e,w4e,_4e],e)&&!T4e(t))return .7}function Pzn(e,t,{graticule:n}){if(n)return!1;const r=DP("filled",e,t),i=e.type;return md(r,i!==Lle&&i!==Ple&&i!==nae)}function Lzn(e,t,n){switch(e){case Lle:case w4e:case _4e:case Cyt:case Y6n:case q6n:return}const{x:r,y:i,x2:a,y2:s}=t;switch(e){case Mle:if(er(r)&&(Tg(r.bin)||er(i)&&i.aggregate&&!r.aggregate))return"vertical";if(er(i)&&(Tg(i.bin)||er(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||a){if(n)return n;if(!a)return(er(r)&&r.type===IP&&!ul(r.bin)||XSe(r))&&er(i)&&Tg(i.bin)?"horizontal":"vertical";if(!s)return(er(i)&&i.type===IP&&!ul(i.bin)||XSe(i))&&er(r)&&Tg(r.bin)?"vertical":"horizontal"}case nae:if(a&&!(er(r)&&Tg(r.bin))&&s&&!(er(i)&&Tg(i.bin)))return;case Tle:if(s)return er(i)&&Tg(i.bin)?"horizontal":"vertical";if(a)return er(r)&&Tg(r.bin)?"vertical":"horizontal";if(e===nae){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case Ple:case b4e:{const u=jS(r),f=jS(i);if(n)return n;if(u&&!f)return e!=="tick"?"horizontal":"vertical";if(!u&&f)return e!=="tick"?"vertical":"horizontal";if(u&&f){const d=r,c=i,h=d.type===t8,p=c.type===t8;return h&&!p?e!=="tick"?"vertical":"horizontal":!h&&p?e!=="tick"?"horizontal":"vertical":!d.aggregate&&c.aggregate?e!=="tick"?"vertical":"horizontal":d.aggregate&&!c.aggregate&&e!=="tick"?"horizontal":"vertical"}else return}}return"vertical"}const Dzn={vgMark:"arc",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pw(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Fp("x",e,{defaultPos:"mid"})),Fp("y",e,{defaultPos:"mid"})),V3(e,"radius")),V3(e,"theta"))},Izn={vgMark:"area",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},pw(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"})),cae("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"})),cae("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"})),Y4e(e))},Fzn={vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},pw(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),V3(e,"x")),V3(e,"y"))},Nzn={vgMark:"shape",encodeEntry:e=>Object.assign({},pw(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[Object.assign({type:"geoshape",projection:e.projectionName()},n&&er(n)&&n.type===E7?{field:xr(n,{expr:"datum"})}:{})]}},zzn={vgMark:"image",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign({},pw(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),V3(e,"x")),V3(e,"y")),G4e(e,"url"))},jzn={vgMark:"line",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pw(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Fp("x",e,{defaultPos:"mid"})),Fp("y",e,{defaultPos:"mid"})),Mh("size",e,{vgChannel:"strokeWidth"})),Y4e(e))},Bzn={vgMark:"trail",encodeEntry:e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pw(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Fp("x",e,{defaultPos:"mid"})),Fp("y",e,{defaultPos:"mid"})),Mh("size",e)),Y4e(e))};function lMe(e,t){const{config:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pw(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Fp("x",e,{defaultPos:"mid"})),Fp("y",e,{defaultPos:"mid"})),Mh("size",e)),Mh("angle",e)),Hzn(e,n,t))}function Hzn(e,t,n){return n?{shape:{value:n}}:Mh("shape",e)}const Uzn={vgMark:"symbol",encodeEntry:e=>lMe(e)},Vzn={vgMark:"symbol",encodeEntry:e=>lMe(e,"circle")},Wzn={vgMark:"symbol",encodeEntry:e=>lMe(e,"square")},Gzn={vgMark:"rect",encodeEntry:e=>Object.assign(Object.assign(Object.assign({},pw(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),V3(e,"x")),V3(e,"y"))},qzn={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:Object.assign(Object.assign(Object.assign(Object.assign({},pw(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),cae("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"})),cae("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"})),Mh("size",e,{vgChannel:"strokeWidth"}))}},Yzn={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pw(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),Fp("x",e,{defaultPos:"mid"})),Fp("y",e,{defaultPos:"mid"})),G4e(e)),Mh("size",e,{vgChannel:"fontSize"})),Mh("angle",e)),LZe("align",Kzn(e.markDef,n,t))),LZe("baseline",Xzn(e.markDef,n,t))),Fp("radius",e,{defaultPos:null})),Fp("theta",e,{defaultPos:null}))}};function Kzn(e,t,n){if(uu("align",e,n)===void 0)return"center"}function Xzn(e,t,n){if(uu("baseline",e,n)===void 0)return"middle"}const Zzn={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",a=r==="horizontal"?"height":"width";return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},pw(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Fp("x",e,{defaultPos:"mid",vgChannel:"xc"})),Fp("y",e,{defaultPos:"mid",vgChannel:"yc"})),Mh("size",e,{defaultValue:Qzn(e),vgChannel:i})),{[a]:Rl(uu("thickness",n,t))})}};function Qzn(e){var t;const{config:n,markDef:r}=e,{orient:i}=r,a=i==="horizontal"?"width":"height",s=e.getScaleComponent(i==="horizontal"?"x":"y"),u=(t=uu("size",r,n,{vgChannel:a}))!==null&&t!==void 0?t:n.tick.bandSize;if(u!==void 0)return u;{const f=s?s.get("range"):void 0;return f&&CT(f)&&Mu(f.step)?f.step*3/4:uae(n.view,a)*3/4}}const Oee={arc:Dzn,area:Izn,bar:Fzn,circle:Vzn,geoshape:Nzn,image:zzn,line:jzn,point:Uzn,rect:Gzn,rule:qzn,square:Wzn,text:Yzn,tick:Zzn,trail:Bzn};function Jzn(e){if(Vo([Ple,Tle,K6n],e.mark)){const t=Qyt(e.mark,e.encoding);if(t.length>0)return ejn(e,t)}else if(e.mark===Mle){const t=VSe.some(n=>uu(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return tjn(e)}return cMe(e)}const eQe="faceted_path_";function ejn(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:eQe+e.requestDataName(nl.Main),data:e.requestDataName(nl.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:cMe(e,{fromPrefix:eQe})}]}const tQe="stack_group_";function tjn(e){var t;const[n]=cMe(e,{fromPrefix:tQe}),r=e.scaleName(e.stack.fieldChannel),i=(c={})=>e.vgField(e.stack.fieldChannel,c),a=(c,h)=>{const p=[i({prefix:"min",suffix:"start",expr:h}),i({prefix:"max",suffix:"start",expr:h}),i({prefix:"min",suffix:"end",expr:h}),i({prefix:"max",suffix:"end",expr:h})];return`${c}(${p.map(v=>`scale('${r}',${v})`).join(",")})`};let s,u;e.stack.fieldChannel==="x"?(s=Object.assign(Object.assign({},QN(n.encode.update,["y","yc","y2","height",...VSe])),{x:{signal:a("min","datum")},x2:{signal:a("max","datum")},clip:{value:!0}}),u={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},n.encode.update=Object.assign(Object.assign({},Em(n.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})):(s=Object.assign(Object.assign({},QN(n.encode.update,["x","xc","x2","width"])),{y:{signal:a("min","datum")},y2:{signal:a("max","datum")},clip:{value:!0}}),u={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},n.encode.update=Object.assign(Object.assign({},Em(n.encode.update,["x","xc","x2"])),{width:{field:{group:"width"}}}));for(const c of VSe){const h=DP(c,e.markDef,e.config);n.encode.update[c]?(s[c]=n.encode.update[c],delete n.encode.update[c]):h&&(s[c]=Rl(h)),h&&(n.encode.update[c]={value:0})}const f=[];if(((t=e.stack.groupbyChannels)===null||t===void 0?void 0:t.length)>0)for(const c of e.stack.groupbyChannels){const h=e.fieldDef(c),p=xr(h);p&&f.push(p),(h!=null&&h.bin||h!=null&&h.timeUnit)&&f.push(xr(h,{binSuffix:"end"}))}return s=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,h)=>{if(n.encode.update[h])return Object.assign(Object.assign({},c),{[h]:n.encode.update[h]});{const p=DP(h,e.markDef,e.config);return p!==void 0?Object.assign(Object.assign({},c),{[h]:Rl(p)}):c}},s),s.stroke&&(s.strokeForeground={value:!0},s.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(nl.Main),name:tQe+e.requestDataName(nl.Main),groupby:f,aggregate:{fields:[i({suffix:"start"}),i({suffix:"start"}),i({suffix:"end"}),i({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:s},marks:[{type:"group",encode:{update:u},marks:[n]}]}]}function njn(e){var t;const{encoding:n,stack:r,mark:i,markDef:a,config:s}=e,u=n.order;if(!(!En(u)&&O_(u)&&HSe(u.value)||!u&&HSe(uu("order",a,s)))){if((En(u)||er(u))&&!r)return J1t(u,{expr:"datum"});if($T(i)){const f=a.orient==="horizontal"?"y":"x",d=n[f];if(er(d)){const c=d.sort;if(En(c))return{field:xr(d,{prefix:f,suffix:"sort_index",expr:"datum"})};if(tE(c))return{field:xr({aggregate:T4e(e.encoding)?c.op:void 0,field:c.field},{expr:"datum"})};if(Dyt(c)){const h=e.fieldDef(c.encoding);return{field:xr(h,{expr:"datum"}),order:c.order}}else return c===null?void 0:{field:xr(d,{binSuffix:!((t=e.stack)===null||t===void 0)&&t.impute?"mid":void 0,expr:"datum"})}}return}}}function cMe(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:a}=e,s=md(r.clip,rjn(e),ijn(e)),u=Z1t(r),f=i.key,d=njn(e),c=ajn(e),h=uu("aria",r,a),p=Oee[n].postEncodingTransform?Oee[n].postEncodingTransform(e):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName("marks"),type:Oee[n].vgMark},s?{clip:!0}:{}),u?{style:u}:{}),f?{key:f.field}:{}),d?{sort:d}:{}),c||{}),h===!1?{aria:h}:{}),{from:{data:t.fromPrefix+e.requestDataName(nl.Main)},encode:{update:Oee[n].encodeEntry(e)}}),p?{transform:p}:{})]}function rjn(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function ijn(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function ajn(e){if(!e.component.selection)return null;const t=Vn(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=Vn(r.component.selection).length,r=r.parent;return n?{interactive:t>0||!!e.encoding.tooltip}:null}class zwt extends Lwt{constructor(t,n,r,i={},a){var s;super(t,"unit",n,r,a,void 0,mZe(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const u=vE(t.mark)?Object.assign({},t.mark):{type:t.mark},f=u.type;u.filled===void 0&&(u.filled=Pzn(u,a,{graticule:t.data&&V4e(t.data)}));const d=this.encoding=DFn(t.encoding||{},f,u.filled,a);this.markDef=Rzn(u,d,a),this.size=Azn({encoding:d,size:mZe(t)?Object.assign(Object.assign(Object.assign({},i),t.width?{width:t.width}:{}),t.height?{height:t.height}:{}):i}),this.stack=bbt(f,d),this.specifiedScales=this.initScales(f,d),this.specifiedAxes=this.initAxes(d),this.specifiedLegends=this.initLegends(d),this.specifiedProjection=t.projection,this.selection=((s=t.params)!==null&&s!==void 0?s:[]).filter(c=>z4e(c))}get hasProjection(){const{encoding:t}=this,n=this.mark===$yt,r=t&&TDn.some(i=>Pa(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return Ole.reduce((r,i)=>{var a;const s=Gd(n[i]);return s&&(r[i]=this.initScale((a=s.scale)!==null&&a!==void 0?a:{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=dm(t);return En(n)&&(i.domain=n.map(Z1)),En(r)&&(i.range=r.map(Z1)),i}initAxes(t){return HE.reduce((n,r)=>{const i=t[r];if(Pa(i)||r===zc&&Pa(t.x2)||r===Hh&&Pa(t.y2)){const a=Pa(i)?i.axis:void 0;n[r]=a&&this.initAxis(Object.assign({},a))}return n},{})}initAxis(t){const n=Vn(t),r={};for(const i of n){const a=t[i];r[i]=Aq(a)?X1t(a):Z1(a)}return r}initLegends(t){return BDn.reduce((n,r)=>{const i=Gd(t[r]);if(i&&UDn(r)){const a=i.legend;n[r]=a&&dm(a)}return n},{})}parseData(){this.component.data=oce(this)}parseLayoutSize(){dzn(this)}parseSelections(){this.component.selection=X8n(this,this.selection)}parseMarkGroup(){this.component.mark=Jzn(this)}parseAxesAndHeaders(){this.component.axes=_zn(this)}assembleSelectionTopLevelSignals(t){return m8n(this,t)}assembleSignals(){return[...ewt(this),...p8n(this,[])]}assembleSelectionData(t){return y8n(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return Q4e(this)}assembleMarks(){var t;let n=(t=this.component.mark)!==null&&t!==void 0?t:[];return(!this.parent||!A7(this.parent))&&(n=Pbt(this,n)),n.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};if(t!==void 0)return t;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return q5(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return mE(n)}typedFieldDef(t){const n=this.fieldDef(t);return uw(n)?n:null}}class fMe extends oMe{constructor(t,n,r,i,a){super(t,"layer",n,r,a,t.resolve,t.view);const s=Object.assign(Object.assign(Object.assign({},i),t.width?{width:t.width}:{}),t.height?{height:t.height}:{});this.children=t.layer.map((u,f)=>{if(Vle(u))return new fMe(u,this,this.getName(`layer_${f}`),s,a);if(Bk(u))return new zwt(u,this,this.getName(`layer_${f}`),s,a);throw new Error(r4e(u))})}parseData(){this.component.data=oce(this);for(const t of this.children)t.parseData()}parseLayoutSize(){czn(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Vn(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){Szn(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),ewt(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),Q4e(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Mr(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return b8n(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),mwt(this))}}function dMe(e,t,n,r,i){if(Ile(e))return new $U(e,t,n,i);if(Vle(e))return new fMe(e,t,n,r,i);if(Bk(e))return new zwt(e,t,n,r,i);if(oNn(e))return new mzn(e,t,n,i);throw new Error(r4e(e))}var ojn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function sjn(e,t={}){t.logger&&c6n(t.logger),t.fieldTitle&&Vyt(t.fieldTitle);try{const n=ybt(u7(t.config,e.config)),r=Obt(e,n),i=dMe(r,null,"",void 0,n);return i.parse(),b9n(i.component.data,i),{spec:ljn(i,ujn(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&f6n(),t.fieldTitle&&CFn()}}function ujn(e,t,n,r){const i=r.component.layoutSize.get("width"),a=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Pr(t)&&(t={type:t}),i&&a&&c8n(t.type)){if(i==="step"&&a==="step")qn(tZe()),t.type="pad";else if(i==="step"||a==="step"){const s=i==="step"?"width":"height";qn(tZe(kle(s)));const u=s==="width"?"height":"width";t.type=f8n(u)}}return Object.assign(Object.assign(Object.assign({},Vn(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t}),AZe(n,!1)),AZe(e,!0))}function ljn(e,t,n={},r){const i=e.config?_Nn(e.config):void 0,a=[].concat(e.assembleSelectionData([]),ozn(e.component.data,n)),s=e.assembleProjections(),u=e.assembleTitle(),f=e.assembleGroupStyle(),d=e.assembleGroupEncodeEntry(!0);let c=e.assembleLayoutSignals();c=c.filter(v=>(v.name==="width"||v.name==="height")&&v.value!==void 0?(t[v.name]=+v.value,!1):!0);const{params:h}=t,p=ojn(t,["params"]);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},e.description?{description:e.description}:{}),p),u?{title:u}:{}),f?{style:f}:{}),d?{encode:{update:d}}:{}),{data:a}),s.length>0?{projections:s}:{}),e.assembleGroup([...c,...e.assembleSelectionTopLevelSignals([]),...gbt(h)])),i?{config:i}:{}),r?{usermeta:r}:{})}const cjn=wDn.version,fjn=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:JN,accessPathWithDatum:qTe,compile:sjn,contains:Vo,deepEqual:NS,deleteNestedProperty:Jie,duplicate:Va,entries:j3,every:VTe,fieldIntersection:GTe,flatAccessWithDatum:T1t,getFirstDefined:md,hasIntersection:WTe,hash:ts,internalField:L1t,isBoolean:gW,isEmpty:Tu,isEqual:CDn,isInternalField:D1t,isNullOrFalse:HSe,isNumeric:_le,keys:Vn,logicalExpr:EU,mergeDeep:A1t,never:O1t,normalize:Obt,normalizeAngle:pW,omit:Em,pick:QN,prefixGenerator:USe,removePathFromField:YTe,replaceAll:PP,replacePathInField:ow,resetIdCounter:kDn,setEqual:R1t,some:MP,stringify:al,titleCase:yq,unique:zS,uniqueId:P1t,vals:Vp,varName:ec,version:cjn},Symbol.toStringTag,{value:"Module"}));function jwt(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var djn="vega-themes",hjn="2.12.1",gjn="Themes for stylized Vega and Vega-Lite visualizations.",pjn=["vega","vega-lite","themes","style"],vjn="BSD-3-Clause",mjn={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},yjn=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],bjn="build/vega-themes.js",hMe="build/vega-themes.module.js",wjn="build/vega-themes.min.js",_jn="build/vega-themes.min.js",xjn="build/vega-themes.module.d.ts",Sjn={type:"git",url:"https://github.com/vega/vega-themes.git"},Ejn=["src","build"],Cjn={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",prepare:"beemo create-config",eslintbase:"beemo eslint .",format:"yarn eslintbase --fix",lint:"yarn eslintbase",release:"release-it"},$jn={"@release-it/conventional-changelog":"^5.1.1","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-terser":"^0.4.0","browser-sync":"^2.27.10",concurrently:"^7.3.0","gh-pages":"^5.0.0","release-it":"^15.6.0","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.0.2",rollup:"^3.15.0",typescript:"^4.7.4","vega-lite-dev-config":"^0.21.0","vega-lite":"^5.0.0",vega:"^5.19.1"},kjn={vega:"*","vega-lite":"*"},Ojn={},Ajn={name:djn,version:hjn,description:gjn,keywords:pjn,license:vjn,author:mjn,contributors:yjn,main:bjn,module:hMe,unpkg:wjn,jsdelivr:_jn,types:xjn,repository:Sjn,files:Ejn,scripts:Cjn,devDependencies:$jn,peerDependencies:kjn,dependencies:Ojn};const $6="#fff",nQe="#888",Rjn={background:"#333",view:{stroke:nQe},title:{color:$6,subtitleColor:$6},style:{"guide-label":{fill:$6},"guide-title":{fill:$6}},axis:{domainColor:$6,gridColor:nQe,tickColor:$6}},DM="#4572a7",Tjn={background:"#fff",arc:{fill:DM},area:{fill:DM},line:{stroke:DM,strokeWidth:2},path:{stroke:DM},rect:{fill:DM},shape:{stroke:DM},symbol:{fill:DM,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},IM="#30a2da",Yye="#cbcbcb",Mjn="#999",Pjn="#333",rQe="#f0f0f0",iQe="#333",Ljn={arc:{fill:IM},area:{fill:IM},axis:{domainColor:Yye,grid:!0,gridColor:Yye,gridWidth:1,labelColor:Mjn,labelFontSize:10,titleColor:Pjn,tickColor:Yye,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:rQe,group:{fill:rQe},legend:{labelColor:iQe,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:iQe,titleFontSize:14,titlePadding:10},line:{stroke:IM,strokeWidth:2},path:{stroke:IM,strokeWidth:.5},rect:{fill:IM},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:IM},bar:{binSpacing:2,fill:IM,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},FM="#000",Djn={group:{fill:"#e5e5e5"},arc:{fill:FM},area:{fill:FM},line:{stroke:FM},path:{stroke:FM},rect:{fill:FM},shape:{stroke:FM},symbol:{fill:FM,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},Ijn=22,Fjn="normal",aQe="Benton Gothic, sans-serif",oQe=11.5,Njn="normal",NM="#82c6df",Kye="Benton Gothic Bold, sans-serif",sQe="normal",uQe=13,zB={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},zjn={background:"#ffffff",title:{anchor:"start",color:"#000000",font:Kye,fontSize:Ijn,fontWeight:Fjn},arc:{fill:NM},area:{fill:NM},line:{stroke:NM,strokeWidth:2},path:{stroke:NM},rect:{fill:NM},shape:{stroke:NM},symbol:{fill:NM,size:30},axis:{labelFont:aQe,labelFontSize:oQe,labelFontWeight:Njn,titleFont:Kye,titleFontSize:uQe,titleFontWeight:sQe},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:aQe,labelFontSize:oQe,symbolType:"square",titleFont:Kye,titleFontSize:uQe,titleFontWeight:sQe},range:{category:zB["category-6"],diverging:zB["fireandice-6"],heatmap:zB["fire-7"],ordinal:zB["fire-7"],ramp:zB["fire-7"]}},zM="#ab5787",Aee="#979797",jjn={background:"#f9f9f9",arc:{fill:zM},area:{fill:zM},line:{stroke:zM},path:{stroke:zM},rect:{fill:zM},shape:{stroke:zM},symbol:{fill:zM,size:30},axis:{domainColor:Aee,domainWidth:.5,gridWidth:.2,labelColor:Aee,tickColor:Aee,tickWidth:.2,titleColor:Aee},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},jM="#3e5c69",Bjn={background:"#fff",arc:{fill:jM},area:{fill:jM},line:{stroke:jM},path:{stroke:jM},rect:{fill:jM},shape:{stroke:jM},symbol:{fill:jM},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},xb="#1696d2",lQe="#000000",Hjn="#FFFFFF",Ree="Lato",Xye="Lato",Ujn="Lato",Vjn="#DEDDDD",Wjn=18,jB={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},Gjn={background:Hjn,title:{anchor:"start",fontSize:Wjn,font:Ree},axisX:{domain:!0,domainColor:lQe,domainWidth:1,grid:!1,labelFontSize:12,labelFont:Xye,labelAngle:0,tickColor:lQe,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:Ree},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:Vjn,gridWidth:1,labelFontSize:12,labelFont:Xye,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:Ree,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:Xye,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:Ree,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:jB["six-groups-cat-1"],diverging:jB["diverging-colors"],heatmap:jB["diverging-colors"],ordinal:jB["six-groups-seq"],ramp:jB["shades-blue"]},area:{fill:xb},rect:{fill:xb},line:{color:xb,stroke:xb,strokeWidth:5},trail:{color:xb,stroke:xb,strokeWidth:0,size:1},path:{stroke:xb,strokeWidth:.5},point:{filled:!0},text:{font:Ujn,color:xb,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:xb,stroke:null}},arc:{fill:xb},shape:{stroke:xb},symbol:{fill:xb,size:30}},BM="#3366CC",cQe="#ccc",Tee="Arial, sans-serif",qjn={arc:{fill:BM},area:{fill:BM},path:{stroke:BM},rect:{fill:BM},shape:{stroke:BM},symbol:{stroke:BM},circle:{fill:BM},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:Tee,fontSize:12},"guide-title":{font:Tee,fontSize:12},"group-title":{font:Tee,fontSize:12}},title:{font:Tee,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:cQe,tickColor:cQe,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},gMe=e=>e*(1/3+1),fQe=gMe(9),dQe=gMe(10),hQe=gMe(12),BB="Segoe UI",gQe="wf_standard-font, helvetica, arial, sans-serif",pQe="#252423",HB="#605E5C",vQe="transparent",Yjn="#C8C6C4",D2="#118DFF",Kjn="#12239E",Xjn="#E66C37",Zjn="#6B007B",Qjn="#E044A7",Jjn="#744EC2",eBn="#D9B300",tBn="#D64550",Bwt=D2,Hwt="#DEEFFF",mQe=[Hwt,Bwt],nBn=[Hwt,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",Bwt],rBn={view:{stroke:vQe},background:vQe,font:BB,header:{titleFont:gQe,titleFontSize:hQe,titleColor:pQe,labelFont:BB,labelFontSize:dQe,labelColor:HB},axis:{ticks:!1,grid:!1,domain:!1,labelColor:HB,labelFontSize:fQe,titleFont:gQe,titleColor:pQe,titleFontSize:hQe,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:Yjn,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:D2},line:{stroke:D2,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:BB,fontSize:fQe,fill:HB},arc:{fill:D2},area:{fill:D2,line:!0,opacity:.6},path:{stroke:D2},rect:{fill:D2},point:{fill:D2,filled:!0,size:75},shape:{stroke:D2},symbol:{fill:D2,strokeWidth:1.5,size:50},legend:{titleFont:BB,titleFontWeight:"bold",titleColor:HB,labelFont:BB,labelFontSize:dQe,labelColor:HB,symbolType:"circle",symbolSize:75},range:{category:[D2,Kjn,Xjn,Zjn,Qjn,Jjn,eBn,tBn],diverging:mQe,heatmap:mQe,ordinal:nBn}},iBn=Ajn.version,aBn=Object.freeze(Object.defineProperty({__proto__:null,dark:Rjn,excel:Tjn,fivethirtyeight:Ljn,ggplot2:Djn,googlecharts:qjn,latimes:zjn,powerbi:rBn,quartz:jjn,urbaninstitute:Gjn,version:iBn,vox:Bjn},Symbol.toStringTag,{value:"Module"}));function oBn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function sBn(e,t,n){if(En(e))return`[${e.map(r=>t(Pr(r)?r:yQe(r,n))).join(", ")}]`;if(Gr(e)){let r="";const i=e,{title:a,image:s}=i,u=oBn(i,["title","image"]);a&&(r+=`<h2>${t(a)}</h2>`),s&&(r+=`<img src="${t(s)}">`);const f=Object.keys(u);if(f.length>0){r+="<table>";for(const d of f){let c=u[d];c!==void 0&&(Gr(c)&&(c=yQe(c,n)),r+=`<tr><td class="key">${t(d)}:</td><td class="value">${t(c)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function uBn(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function yQe(e,t){return JSON.stringify(e,uBn(t))}var lBn=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element img {
  max-width: 200px;
  max-height: 200px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const Uwt="vg-tooltip-element",cBn={offsetX:10,offsetY:10,id:Uwt,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:fBn,maxDepth:2,formatTooltip:sBn};function fBn(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function dBn(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return lBn.toString().replace(Uwt,e)}function hBn(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let a=e.clientY+r;return a+t.height>window.innerHeight&&(a=+e.clientY-r-t.height),{x:i,y:a}}class gBn{constructor(t){this.options=Object.assign(Object.assign({},cBn),t);const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=dBn(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){var a;if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),((a=document.fullscreenElement)!==null&&a!==void 0?a:document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:s,y:u}=hBn(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${u}px`,this.el.style.left=`${s}px`}}function xW(e){return xW=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xW(e)}function pBn(e,t){if(xW(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xW(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vBn(e){var t=pBn(e,"string");return xW(t)==="symbol"?t:String(t)}function mBn(e,t,n){return t=vBn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bQe(e,t,n,r,i,a,s){try{var u=e[a](s),f=u.value}catch(d){n(d);return}u.done?t(f):Promise.resolve(f).then(r,i)}function gae(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function s(f){bQe(a,r,i,s,u,"next",f)}function u(f){bQe(a,r,i,s,u,"throw",f)}s(void 0)})}}var Vwt=Object.prototype,R5=Vwt.hasOwnProperty,TS,pMe=typeof Symbol=="function"?Symbol:{},sce=pMe.iterator||"@@iterator",yBn=pMe.asyncIterator||"@@asyncIterator",pae=pMe.toStringTag||"@@toStringTag";function Wwt(e,t,n,r){var i=t&&t.prototype instanceof vEe?t:vEe,a=Object.create(i.prototype),s=new mEe(r||[]);return a._invoke=SBn(e,n,s),a}function vMe(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}var wQe="suspendedStart",bBn="suspendedYield",_Qe="executing",Mee="completed",t_={};function vEe(){}function uce(){}function f8(){}var mMe={};mMe[sce]=function(){return this};var Zye=Object.getPrototypeOf,Pee=Zye&&Zye(Zye(yMe([])));Pee&&Pee!==Vwt&&R5.call(Pee,sce)&&(mMe=Pee);var R7=f8.prototype=vEe.prototype=Object.create(mMe);uce.prototype=R7.constructor=f8;f8.constructor=uce;f8[pae]=uce.displayName="GeneratorFunction";function Gwt(e){["next","throw","return"].forEach(function(t){e[t]=function(n){return this._invoke(t,n)}})}function qwt(e){var t=typeof e=="function"&&e.constructor;return t?t===uce||(t.displayName||t.name)==="GeneratorFunction":!1}function wBn(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f8):(e.__proto__=f8,pae in e||(e[pae]="GeneratorFunction")),e.prototype=Object.create(R7),e}function _Bn(e){return{__await:e}}function lce(e,t){function n(a,s,u,f){var d=vMe(e[a],e,s);if(d.type==="throw")f(d.arg);else{var c=d.arg,h=c.value;return h&&typeof h=="object"&&R5.call(h,"__await")?t.resolve(h.__await).then(function(p){n("next",p,u,f)},function(p){n("throw",p,u,f)}):t.resolve(h).then(function(p){c.value=p,u(c)},function(p){return n("throw",p,u,f)})}}var r;function i(a,s){function u(){return new t(function(f,d){n(a,s,f,d)})}return r=r?r.then(u,u):u()}this._invoke=i}Gwt(lce.prototype);lce.prototype[yBn]=function(){return this};function xBn(e,t,n,r,i){i===void 0&&(i=Promise);var a=new lce(Wwt(e,t,n,r),i);return qwt(t)?a:a.next().then(function(s){return s.done?s.value:a.next()})}function SBn(e,t,n){var r=wQe;return function(a,s){if(r===_Qe)throw new Error("Generator is already running");if(r===Mee){if(a==="throw")throw s;return Kwt()}for(n.method=a,n.arg=s;;){var u=n.delegate;if(u){var f=Ywt(u,n);if(f){if(f===t_)continue;return f}}if(n.method==="next")n.sent=n._sent=n.arg;else if(n.method==="throw"){if(r===wQe)throw r=Mee,n.arg;n.dispatchException(n.arg)}else n.method==="return"&&n.abrupt("return",n.arg);r=_Qe;var d=vMe(e,t,n);if(d.type==="normal"){if(r=n.done?Mee:bBn,d.arg===t_)continue;return{value:d.arg,done:n.done}}else d.type==="throw"&&(r=Mee,n.method="throw",n.arg=d.arg)}}}function Ywt(e,t){var n=e.iterator[t.method];if(n===TS){if(t.delegate=null,t.method==="throw"){if(e.iterator.return&&(t.method="return",t.arg=TS,Ywt(e,t),t.method==="throw"))return t_;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return t_}var r=vMe(n,e.iterator,t.arg);if(r.type==="throw")return t.method="throw",t.arg=r.arg,t.delegate=null,t_;var i=r.arg;if(!i)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,t_;if(i.done)t[e.resultName]=i.value,t.next=e.nextLoc,t.method!=="return"&&(t.method="next",t.arg=TS);else return i;return t.delegate=null,t_}Gwt(R7);R7[pae]="Generator";R7[sce]=function(){return this};R7.toString=function(){return"[object Generator]"};function EBn(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function Qye(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function mEe(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(EBn,this),this.reset(!0)}function CBn(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}}function yMe(e){if(e){var t=e[sce];if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var n=-1,r=function i(){for(;++n<e.length;)if(R5.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=TS,i.done=!0,i};return r.next=r}}return{next:Kwt}}function Kwt(){return{value:TS,done:!0}}mEe.prototype={constructor:mEe,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=TS,this.done=!1,this.delegate=null,this.method="next",this.arg=TS,this.tryEntries.forEach(Qye),!t)for(var n in this)n.charAt(0)==="t"&&R5.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=TS)},stop:function(){this.done=!0;var t=this.tryEntries[0],n=t.completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(d,c){return s.type="throw",s.arg=t,n.next=d,c&&(n.method="next",n.arg=TS),!!c}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if(a.tryLoc==="root")return r("end");if(a.tryLoc<=this.prev){var u=R5.call(a,"catchLoc"),f=R5.call(a,"finallyLoc");if(u&&f){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else if(f){if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&R5.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&(t==="break"||t==="continue")&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=t,s.arg=n,a?(this.method="next",this.next=a.finallyLoc,t_):this.complete(s)},complete:function(t,n){if(t.type==="throw")throw t.arg;return t.type==="break"||t.type==="continue"?this.next=t.arg:t.type==="return"?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):t.type==="normal"&&n&&(this.next=n),t_},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),Qye(r),t_}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var i=r.completion;if(i.type==="throw"){var a=i.arg;Qye(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:yMe(t),resultName:n,nextLoc:r},this.method==="next"&&(this.arg=TS),t_}};var Rb={wrap:Wwt,isGeneratorFunction:qwt,AsyncIterator:lce,mark:wBn,awrap:_Bn,async:xBn,keys:CBn,values:yMe},Jye,xQe;function $Bn(){return xQe||(xQe=1,Jye=function(t){t.prototype[Symbol.iterator]=Rb.mark(function n(){var r;return Rb.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:r=this.head;case 1:if(!r){a.next=7;break}return a.next=4,r.value;case 4:r=r.next,a.next=1;break;case 7:case"end":return a.stop()}},n,this)})}),Jye}var kBn=Ps;Ps.Node=HP;Ps.create=Ps;function Ps(e){var t=this;if(t instanceof Ps||(t=new Ps),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}Ps.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Ps.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Ps.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Ps.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)ABn(this,arguments[e]);return this.length};Ps.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)RBn(this,arguments[e]);return this.length};Ps.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Ps.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Ps.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};Ps.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};Ps.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};Ps.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};Ps.prototype.map=function(e,t){t=t||this;for(var n=new Ps,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};Ps.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Ps,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};Ps.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};Ps.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};Ps.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};Ps.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};Ps.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Ps;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};Ps.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Ps;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};Ps.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,r=this.head;r!==null&&n<e;n++)r=r.next;for(var i=[],n=0;r&&n<t;n++)i.push(r.value),r=this.removeNode(r);r===null&&(r=this.tail),r!==this.head&&r!==this.tail&&(r=r.prev);for(var n=0;n<(arguments.length<=2?0:arguments.length-2);n++)r=OBn(this,r,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return i};Ps.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function OBn(e,t,n){var r=t===e.head?new HP(n,null,t,e):new HP(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function ABn(e,t){e.tail=new HP(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function RBn(e,t){e.head=new HP(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function HP(e,t,n,r){if(!(this instanceof HP))return new HP(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{$Bn()(Ps)}catch{}var TBn=kBn,h5=Symbol("max"),z$=Symbol("length"),k6=Symbol("lengthCalculator"),kU=Symbol("allowStale"),T5=Symbol("maxAge"),P$=Symbol("dispose"),SQe=Symbol("noDisposeOnSet"),kh=Symbol("lruList"),I2=Symbol("cache"),Xwt=Symbol("updateAgeOnGet"),ebe=()=>1;class MBn{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[h5]=t.max||1/0;var n=t.length||ebe;if(this[k6]=typeof n!="function"?ebe:n,this[kU]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[T5]=t.maxAge||0,this[P$]=t.dispose,this[SQe]=t.noDisposeOnSet||!1,this[Xwt]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[h5]=t||1/0,UB(this)}get max(){return this[h5]}set allowStale(t){this[kU]=!!t}get allowStale(){return this[kU]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[T5]=t,UB(this)}get maxAge(){return this[T5]}set lengthCalculator(t){typeof t!="function"&&(t=ebe),t!==this[k6]&&(this[k6]=t,this[z$]=0,this[kh].forEach(n=>{n.length=this[k6](n.value,n.key),this[z$]+=n.length})),UB(this)}get lengthCalculator(){return this[k6]}get length(){return this[z$]}get itemCount(){return this[kh].length}rforEach(t,n){n=n||this;for(var r=this[kh].tail;r!==null;){var i=r.prev;EQe(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(var r=this[kh].head;r!==null;){var i=r.next;EQe(this,t,r,n),r=i}}keys(){return this[kh].toArray().map(t=>t.key)}values(){return this[kh].toArray().map(t=>t.value)}reset(){this[P$]&&this[kh]&&this[kh].length&&this[kh].forEach(t=>this[P$](t.key,t.value)),this[I2]=new Map,this[kh]=new TBn,this[z$]=0}dump(){return this[kh].map(t=>vae(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[kh]}set(t,n,r){if(r=r||this[T5],r&&typeof r!="number")throw new TypeError("maxAge must be a number");var i=r?Date.now():0,a=this[k6](n,t);if(this[I2].has(t)){if(a>this[h5])return GF(this,this[I2].get(t)),!1;var s=this[I2].get(t),u=s.value;return this[P$]&&(this[SQe]||this[P$](t,u.value)),u.now=i,u.maxAge=r,u.value=n,this[z$]+=a-u.length,u.length=a,this.get(t),UB(this),!0}var f=new PBn(t,n,a,i,r);return f.length>this[h5]?(this[P$]&&this[P$](t,n),!1):(this[z$]+=f.length,this[kh].unshift(f),this[I2].set(t,this[kh].head),UB(this),!0)}has(t){if(!this[I2].has(t))return!1;var n=this[I2].get(t).value;return!vae(this,n)}get(t){return tbe(this,t,!0)}peek(t){return tbe(this,t,!1)}pop(){var t=this[kh].tail;return t?(GF(this,t),t.value):null}del(t){GF(this,this[I2].get(t))}load(t){this.reset();for(var n=Date.now(),r=t.length-1;r>=0;r--){var i=t[r],a=i.e||0;if(a===0)this.set(i.k,i.v);else{var s=a-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[I2].forEach((t,n)=>tbe(this,n,!1))}}var tbe=(e,t,n)=>{var r=e[I2].get(t);if(r){var i=r.value;if(vae(e,i)){if(GF(e,r),!e[kU])return}else n&&(e[Xwt]&&(r.value.now=Date.now()),e[kh].unshiftNode(r));return i.value}},vae=(e,t)=>{if(!t||!t.maxAge&&!e[T5])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[T5]&&n>e[T5]},UB=e=>{if(e[z$]>e[h5])for(var t=e[kh].tail;e[z$]>e[h5]&&t!==null;){var n=t.prev;GF(e,t),t=n}},GF=(e,t)=>{if(t){var n=t.value;e[P$]&&e[P$](n.key,n.value),e[z$]-=n.length,e[I2].delete(n.key),e[kh].removeNode(t)}};class PBn{constructor(t,n,r,i,a){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=a||0}}var EQe=(e,t,n,r)=>{var i=n.value;vae(e,i)&&(GF(e,n),e[kU]||(i=void 0)),i&&t.call(r,i.value,i.key,e)},LBn=MBn,DBn=["includePrerelease","loose","rtl"],IBn=e=>e?typeof e!="object"?{loose:!0}:DBn.filter(t=>e[t]).reduce((t,n)=>(t[n]=!0,t),{}):{},bMe=IBn,Mb={},FBn={get exports(){return Mb},set exports(e){Mb=e}},NBn="2.0.0",zBn=256,jBn=Number.MAX_SAFE_INTEGER||9007199254740991,BBn=16,wMe={SEMVER_SPEC_VERSION:NBn,MAX_LENGTH:zBn,MAX_SAFE_INTEGER:jBn,MAX_SAFE_COMPONENT_LENGTH:BBn},HBn=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error("SEMVER",...t)}:()=>{},cce=HBn;(function(e,t){var n=wMe.MAX_SAFE_COMPONENT_LENGTH,r=cce;t=e.exports={};var i=t.re=[],a=t.src=[],s=t.t={},u=0,f=(d,c,h)=>{var p=u++;r(d,p,c),s[d]=p,a[p]=c,i[p]=new RegExp(c,h?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","[0-9]+"),f("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),f("MAINVERSION","(".concat(a[s.NUMERICIDENTIFIER],")\\.")+"(".concat(a[s.NUMERICIDENTIFIER],")\\.")+"(".concat(a[s.NUMERICIDENTIFIER],")")),f("MAINVERSIONLOOSE","(".concat(a[s.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[s.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(a[s.NUMERICIDENTIFIERLOOSE],")")),f("PRERELEASEIDENTIFIER","(?:".concat(a[s.NUMERICIDENTIFIER],"|").concat(a[s.NONNUMERICIDENTIFIER],")")),f("PRERELEASEIDENTIFIERLOOSE","(?:".concat(a[s.NUMERICIDENTIFIERLOOSE],"|").concat(a[s.NONNUMERICIDENTIFIER],")")),f("PRERELEASE","(?:-(".concat(a[s.PRERELEASEIDENTIFIER],"(?:\\.").concat(a[s.PRERELEASEIDENTIFIER],")*))")),f("PRERELEASELOOSE","(?:-?(".concat(a[s.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(a[s.PRERELEASEIDENTIFIERLOOSE],")*))")),f("BUILDIDENTIFIER","[0-9A-Za-z-]+"),f("BUILD","(?:\\+(".concat(a[s.BUILDIDENTIFIER],"(?:\\.").concat(a[s.BUILDIDENTIFIER],")*))")),f("FULLPLAIN","v?".concat(a[s.MAINVERSION]).concat(a[s.PRERELEASE],"?").concat(a[s.BUILD],"?")),f("FULL","^".concat(a[s.FULLPLAIN],"$")),f("LOOSEPLAIN","[v=\\s]*".concat(a[s.MAINVERSIONLOOSE]).concat(a[s.PRERELEASELOOSE],"?").concat(a[s.BUILD],"?")),f("LOOSE","^".concat(a[s.LOOSEPLAIN],"$")),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE","".concat(a[s.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),f("XRANGEIDENTIFIER","".concat(a[s.NUMERICIDENTIFIER],"|x|X|\\*")),f("XRANGEPLAIN","[v=\\s]*(".concat(a[s.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIER],")")+"(?:".concat(a[s.PRERELEASE],")?").concat(a[s.BUILD],"?")+")?)?"),f("XRANGEPLAINLOOSE","[v=\\s]*(".concat(a[s.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(a[s.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(a[s.PRERELEASELOOSE],")?").concat(a[s.BUILD],"?")+")?)?"),f("XRANGE","^".concat(a[s.GTLT],"\\s*").concat(a[s.XRANGEPLAIN],"$")),f("XRANGELOOSE","^".concat(a[s.GTLT],"\\s*").concat(a[s.XRANGEPLAINLOOSE],"$")),f("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(n,"})")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:\\.(\\d{1,".concat(n,"}))?")+"(?:$|[^\\d])"),f("COERCERTL",a[s.COERCE],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM","(\\s*)".concat(a[s.LONETILDE],"\\s+"),!0),t.tildeTrimReplace="$1~",f("TILDE","^".concat(a[s.LONETILDE]).concat(a[s.XRANGEPLAIN],"$")),f("TILDELOOSE","^".concat(a[s.LONETILDE]).concat(a[s.XRANGEPLAINLOOSE],"$")),f("LONECARET","(?:\\^)"),f("CARETTRIM","(\\s*)".concat(a[s.LONECARET],"\\s+"),!0),t.caretTrimReplace="$1^",f("CARET","^".concat(a[s.LONECARET]).concat(a[s.XRANGEPLAIN],"$")),f("CARETLOOSE","^".concat(a[s.LONECARET]).concat(a[s.XRANGEPLAINLOOSE],"$")),f("COMPARATORLOOSE","^".concat(a[s.GTLT],"\\s*(").concat(a[s.LOOSEPLAIN],")$|^$")),f("COMPARATOR","^".concat(a[s.GTLT],"\\s*(").concat(a[s.FULLPLAIN],")$|^$")),f("COMPARATORTRIM","(\\s*)".concat(a[s.GTLT],"\\s*(").concat(a[s.LOOSEPLAIN],"|").concat(a[s.XRANGEPLAIN],")"),!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE","^\\s*(".concat(a[s.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(a[s.XRANGEPLAIN],")")+"\\s*$"),f("HYPHENRANGELOOSE","^\\s*(".concat(a[s.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(a[s.XRANGEPLAINLOOSE],")")+"\\s*$"),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(FBn,Mb);var CQe=/^[0-9]+$/,Zwt=(e,t)=>{var n=CQe.test(e),r=CQe.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},UBn=(e,t)=>Zwt(t,e),VBn={compareIdentifiers:Zwt,rcompareIdentifiers:UBn},Lee=cce,$Qe=wMe.MAX_LENGTH,Dee=wMe.MAX_SAFE_INTEGER,kQe=Mb.re,OQe=Mb.t,WBn=bMe,O6=VBn.compareIdentifiers;let GBn=class hS{constructor(t,n){if(n=WBn(n),t instanceof hS){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: ".concat(t));if(t.length>$Qe)throw new TypeError("version is longer than ".concat($Qe," characters"));Lee("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;var r=t.trim().match(n.loose?kQe[OQe.LOOSE]:kQe[OQe.FULL]);if(!r)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Dee||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Dee||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Dee||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){var a=+i;if(a>=0&&a<Dee)return a}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(t){if(Lee("SemVer.compare",this.version,this.options,t),!(t instanceof hS)){if(typeof t=="string"&&t===this.version)return 0;t=new hS(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof hS||(t=new hS(t,this.options)),O6(this.major,t.major)||O6(this.minor,t.minor)||O6(this.patch,t.patch)}comparePre(t){if(t instanceof hS||(t=new hS(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var n=0;do{var r=this.prerelease[n],i=t.prerelease[n];if(Lee("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return O6(r,i)}while(++n)}compareBuild(t){t instanceof hS||(t=new hS(t,this.options));var n=0;do{var r=this.build[n],i=t.build[n];if(Lee("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return O6(r,i)}while(++n)}inc(t,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(O6(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error("invalid increment argument: ".concat(t))}return this.format(),this.raw=this.version,this}};var _Me=GBn,AQe=_Me,qBn=(e,t,n)=>new AQe(e,n).compare(new AQe(t,n)),T7=qBn,YBn=T7,KBn=(e,t,n)=>YBn(e,t,n)===0,XBn=KBn,ZBn=T7,QBn=(e,t,n)=>ZBn(e,t,n)!==0,JBn=QBn,eHn=T7,tHn=(e,t,n)=>eHn(e,t,n)>0,nHn=tHn,rHn=T7,iHn=(e,t,n)=>rHn(e,t,n)>=0,aHn=iHn,oHn=T7,sHn=(e,t,n)=>oHn(e,t,n)<0,uHn=sHn,lHn=T7,cHn=(e,t,n)=>lHn(e,t,n)<=0,fHn=cHn,dHn=XBn,hHn=JBn,gHn=nHn,pHn=aHn,vHn=uHn,mHn=fHn,yHn=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return dHn(e,n,r);case"!=":return hHn(e,n,r);case">":return gHn(e,n,r);case">=":return pHn(e,n,r);case"<":return vHn(e,n,r);case"<=":return mHn(e,n,r);default:throw new TypeError("Invalid operator: ".concat(t))}},bHn=yHn,nbe,RQe;function wHn(){if(RQe)return nbe;RQe=1;var e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(c,h){if(h=n(h),c instanceof t){if(c.loose===!!h.loose)return c;c=c.value}s("comparator",c,h),this.options=h,this.loose=!!h.loose,this.parse(c),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(c){var h=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],p=c.match(h);if(!p)throw new TypeError("Invalid comparator: ".concat(c));this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new u(p[2],this.options.loose):this.semver=e}toString(){return this.value}test(c){if(s("Comparator.test",c,this.options.loose),this.semver===e||c===e)return!0;if(typeof c=="string")try{c=new u(c,this.options)}catch{return!1}return a(c,this.operator,this.semver,this.options)}intersects(c,h){if(!(c instanceof t))throw new TypeError("a Comparator is required");if((!h||typeof h!="object")&&(h={loose:!!h,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new f(c.value,h).test(this.value);if(c.operator==="")return c.value===""?!0:new f(this.value,h).test(c.semver);var p=(this.operator===">="||this.operator===">")&&(c.operator===">="||c.operator===">"),v=(this.operator==="<="||this.operator==="<")&&(c.operator==="<="||c.operator==="<"),m=this.semver.version===c.semver.version,y=(this.operator===">="||this.operator==="<=")&&(c.operator===">="||c.operator==="<="),w=a(this.semver,"<",c.semver,h)&&(this.operator===">="||this.operator===">")&&(c.operator==="<="||c.operator==="<"),_=a(this.semver,">",c.semver,h)&&(this.operator==="<="||this.operator==="<")&&(c.operator===">="||c.operator===">");return p||v||m&&y||w||_}}nbe=t;var n=bMe,r=Mb.re,i=Mb.t,a=bHn,s=cce,u=_Me,f=Qwt();return nbe}function TQe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_Hn(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,u;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return a=d.done,d},e:function(d){s=!0,u=d},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(s)throw u}}}}function _Hn(e,t){if(e){if(typeof e=="string")return MQe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MQe(e,t)}}function MQe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rbe,PQe;function Qwt(){if(PQe)return rbe;PQe=1;class e{constructor(j,U){if(U=r(U),j instanceof e)return j.loose===!!U.loose&&j.includePrerelease===!!U.includePrerelease?j:new e(j.raw,U);if(j instanceof i)return this.raw=j.value,this.set=[[j]],this.format(),this;if(this.options=U,this.loose=!!U.loose,this.includePrerelease=!!U.includePrerelease,this.raw=j,this.set=j.split("||").map(ee=>this.parseRange(ee.trim())).filter(ee=>ee.length),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(j));if(this.set.length>1){var H=this.set[0];if(this.set=this.set.filter(ee=>!p(ee[0])),this.set.length===0)this.set=[H];else if(this.set.length>1){var Y=TQe(this.set),Z;try{for(Y.s();!(Z=Y.n()).done;){var Q=Z.value;if(Q.length===1&&v(Q[0])){this.set=[Q];break}}}catch(ee){Y.e(ee)}finally{Y.f()}}}this.format()}format(){return this.range=this.set.map(j=>j.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(j){j=j.trim();var U=Object.keys(this.options).join(","),H="parseRange:".concat(U,":").concat(j),Y=n.get(H);if(Y)return Y;var Z=this.options.loose,Q=Z?u[f.HYPHENRANGELOOSE]:u[f.HYPHENRANGE];j=j.replace(Q,N(this.options.includePrerelease)),a("hyphen replace",j),j=j.replace(u[f.COMPARATORTRIM],d),a("comparator trim",j),j=j.replace(u[f.TILDETRIM],c),j=j.replace(u[f.CARETTRIM],h),j=j.split(/\s+/).join(" ");var ee=j.split(" ").map(Se=>y(Se,this.options)).join(" ").split(/\s+/).map(Se=>L(Se,this.options));Z&&(ee=ee.filter(Se=>(a("loose invalid filter",Se,this.options),!!Se.match(u[f.COMPARATORLOOSE])))),a("range list",ee);var oe=new Map,ue=ee.map(Se=>new i(Se,this.options)),ve=TQe(ue),le;try{for(ve.s();!(le=ve.n()).done;){var de=le.value;if(p(de))return[de];oe.set(de.value,de)}}catch(Se){ve.e(Se)}finally{ve.f()}oe.size>1&&oe.has("")&&oe.delete("");var me=[...oe.values()];return n.set(H,me),me}intersects(j,U){if(!(j instanceof e))throw new TypeError("a Range is required");return this.set.some(H=>m(H,U)&&j.set.some(Y=>m(Y,U)&&H.every(Z=>Y.every(Q=>Z.intersects(Q,U)))))}test(j){if(!j)return!1;if(typeof j=="string")try{j=new s(j,this.options)}catch{return!1}for(var U=0;U<this.set.length;U++)if(R(this.set[U],j,this.options))return!0;return!1}}rbe=e;var t=LBn,n=new t({max:1e3}),r=bMe,i=wHn(),a=cce,s=_Me,u=Mb.re,f=Mb.t,d=Mb.comparatorTrimReplace,c=Mb.tildeTrimReplace,h=Mb.caretTrimReplace,p=D=>D.value==="<0.0.0-0",v=D=>D.value==="",m=(D,j)=>{for(var U=!0,H=D.slice(),Y=H.pop();U&&H.length;)U=H.every(Z=>Y.intersects(Z,j)),Y=H.pop();return U},y=(D,j)=>(a("comp",D,j),D=C(D,j),a("caret",D),D=_(D,j),a("tildes",D),D=k(D,j),a("xrange",D),D=A(D,j),a("stars",D),D),w=D=>!D||D.toLowerCase()==="x"||D==="*",_=(D,j)=>D.trim().split(/\s+/).map(U=>S(U,j)).join(" "),S=(D,j)=>{var U=j.loose?u[f.TILDELOOSE]:u[f.TILDE];return D.replace(U,(H,Y,Z,Q,ee)=>{a("tilde",D,H,Y,Z,Q,ee);var oe;return w(Y)?oe="":w(Z)?oe=">=".concat(Y,".0.0 <").concat(+Y+1,".0.0-0"):w(Q)?oe=">=".concat(Y,".").concat(Z,".0 <").concat(Y,".").concat(+Z+1,".0-0"):ee?(a("replaceTilde pr",ee),oe=">=".concat(Y,".").concat(Z,".").concat(Q,"-").concat(ee," <").concat(Y,".").concat(+Z+1,".0-0")):oe=">=".concat(Y,".").concat(Z,".").concat(Q," <").concat(Y,".").concat(+Z+1,".0-0"),a("tilde return",oe),oe})},C=(D,j)=>D.trim().split(/\s+/).map(U=>$(U,j)).join(" "),$=(D,j)=>{a("caret",D,j);var U=j.loose?u[f.CARETLOOSE]:u[f.CARET],H=j.includePrerelease?"-0":"";return D.replace(U,(Y,Z,Q,ee,oe)=>{a("caret",D,Y,Z,Q,ee,oe);var ue;return w(Z)?ue="":w(Q)?ue=">=".concat(Z,".0.0").concat(H," <").concat(+Z+1,".0.0-0"):w(ee)?Z==="0"?ue=">=".concat(Z,".").concat(Q,".0").concat(H," <").concat(Z,".").concat(+Q+1,".0-0"):ue=">=".concat(Z,".").concat(Q,".0").concat(H," <").concat(+Z+1,".0.0-0"):oe?(a("replaceCaret pr",oe),Z==="0"?Q==="0"?ue=">=".concat(Z,".").concat(Q,".").concat(ee,"-").concat(oe," <").concat(Z,".").concat(Q,".").concat(+ee+1,"-0"):ue=">=".concat(Z,".").concat(Q,".").concat(ee,"-").concat(oe," <").concat(Z,".").concat(+Q+1,".0-0"):ue=">=".concat(Z,".").concat(Q,".").concat(ee,"-").concat(oe," <").concat(+Z+1,".0.0-0")):(a("no pr"),Z==="0"?Q==="0"?ue=">=".concat(Z,".").concat(Q,".").concat(ee).concat(H," <").concat(Z,".").concat(Q,".").concat(+ee+1,"-0"):ue=">=".concat(Z,".").concat(Q,".").concat(ee).concat(H," <").concat(Z,".").concat(+Q+1,".0-0"):ue=">=".concat(Z,".").concat(Q,".").concat(ee," <").concat(+Z+1,".0.0-0")),a("caret return",ue),ue})},k=(D,j)=>(a("replaceXRanges",D,j),D.split(/\s+/).map(U=>M(U,j)).join(" ")),M=(D,j)=>{D=D.trim();var U=j.loose?u[f.XRANGELOOSE]:u[f.XRANGE];return D.replace(U,(H,Y,Z,Q,ee,oe)=>{a("xRange",D,H,Y,Z,Q,ee,oe);var ue=w(Z),ve=ue||w(Q),le=ve||w(ee),de=le;return Y==="="&&de&&(Y=""),oe=j.includePrerelease?"-0":"",ue?Y===">"||Y==="<"?H="<0.0.0-0":H="*":Y&&de?(ve&&(Q=0),ee=0,Y===">"?(Y=">=",ve?(Z=+Z+1,Q=0,ee=0):(Q=+Q+1,ee=0)):Y==="<="&&(Y="<",ve?Z=+Z+1:Q=+Q+1),Y==="<"&&(oe="-0"),H="".concat(Y+Z,".").concat(Q,".").concat(ee).concat(oe)):ve?H=">=".concat(Z,".0.0").concat(oe," <").concat(+Z+1,".0.0-0"):le&&(H=">=".concat(Z,".").concat(Q,".0").concat(oe," <").concat(Z,".").concat(+Q+1,".0-0")),a("xRange return",H),H})},A=(D,j)=>(a("replaceStars",D,j),D.trim().replace(u[f.STAR],"")),L=(D,j)=>(a("replaceGTE0",D,j),D.trim().replace(u[j.includePrerelease?f.GTE0PRE:f.GTE0],"")),N=D=>(j,U,H,Y,Z,Q,ee,oe,ue,ve,le,de,me)=>(w(H)?U="":w(Y)?U=">=".concat(H,".0.0").concat(D?"-0":""):w(Z)?U=">=".concat(H,".").concat(Y,".0").concat(D?"-0":""):Q?U=">=".concat(U):U=">=".concat(U).concat(D?"-0":""),w(ue)?oe="":w(ve)?oe="<".concat(+ue+1,".0.0-0"):w(le)?oe="<".concat(ue,".").concat(+ve+1,".0-0"):de?oe="<=".concat(ue,".").concat(ve,".").concat(le,"-").concat(de):D?oe="<".concat(ue,".").concat(ve,".").concat(+le+1,"-0"):oe="<=".concat(oe),"".concat(U," ").concat(oe).trim()),R=(D,j,U)=>{for(var H=0;H<D.length;H++)if(!D[H].test(j))return!1;if(j.prerelease.length&&!U.includePrerelease){for(var Y=0;Y<D.length;Y++)if(a(D[Y].semver),D[Y].semver!==i.ANY&&D[Y].semver.prerelease.length>0){var Z=D[Y].semver;if(Z.major===j.major&&Z.minor===j.minor&&Z.patch===j.patch)return!0}return!1}return!0};return rbe}var xHn=Qwt(),SHn=(e,t,n)=>{try{t=new xHn(t,n)}catch{return!1}return t.test(e)},Jwt=SHn;function EHn(e,t,n){var r=e.open(t),i=1e4,a=250,s=new URL(t),u=s.origin,f=~~(i/a);function d(h){h.source===r&&(f=0,e.removeEventListener("message",d,!1))}e.addEventListener("message",d,!1);function c(){f<=0||(r.postMessage(n,u),setTimeout(c,a),f-=1)}setTimeout(c,a)}var CHn=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});function e2t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var s=a[i];$Hn(e,s)}return e}function $Hn(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];l7(e,i,t[i],!0)}}var ibe;function kHn(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=OHn(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,u;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return a=d.done,d},e:function(d){s=!0,u=d},f:function(){try{!a&&n.return!=null&&n.return()}finally{if(s)throw u}}}}function OHn(e,t){if(e){if(typeof e=="string")return LQe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LQe(e,t)}}function LQe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DQe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DQe(Object(n),!0).forEach(function(r){mBn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DQe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var N2=BLn,SW=fjn,Iee=typeof window<"u"?window:void 0;SW===void 0&&Iee!==null&&Iee!==void 0&&(ibe=Iee.vl)!==null&&ibe!==void 0&&ibe.compile&&(SW=Iee.vl);var AHn={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},RHn={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},zH={vega:"Vega","vega-lite":"Vega-Lite"},mae={vega:N2.version,"vega-lite":SW?SW.version:"not available"},THn={vega:e=>e,"vega-lite":(e,t)=>SW.compile(e,{config:t}).spec},MHn=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,PHn="chart-wrapper";function LHn(e){return typeof e=="function"}function IQe(e,t,n,r){var i="<html><head>".concat(t,'</head><body><pre><code class="json">'),a="</code></pre>".concat(n,"</body></html>"),s=window.open("");s.document.write(i+e+a),s.document.title="".concat(zH[r]," JSON Source")}function DHn(e,t){if(e.$schema){var n=jwt(e.$schema);if(t&&t!==n.library){var r;console.warn("The given visualization spec is written in ".concat(zH[n.library],", but mode argument sets ").concat((r=zH[t])!==null&&r!==void 0?r:t,"."))}var i=n.library;return Jwt(mae[i],"^".concat(n.version.slice(1)))||console.warn("The input spec uses ".concat(zH[i]," ").concat(n.version,", but the current version of ").concat(zH[i]," is v").concat(mae[i],".")),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function IHn(e){return!!(e&&"load"in e)}function FQe(e){return IHn(e)?e:N2.loader(e)}function FHn(e){var t,n,r=(t=(n=e.usermeta)===null||n===void 0?void 0:n.embedOptions)!==null&&t!==void 0?t:{};return Pr(r.defaultStyle)&&(r.defaultStyle=!1),r}function NHn(e,t){return yEe.apply(this,arguments)}function yEe(){return yEe=gae(Rb.mark(function e(t,n){var r,i,a,s,u,f,d,c,h,p,v,m=arguments;return Rb.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(a=m.length>2&&m[2]!==void 0?m[2]:{},!Pr(n)){w.next=10;break}return u=FQe(a.loader),w.t0=JSON,w.next=6,u.load(n);case 6:w.t1=w.sent,s=w.t0.parse.call(w.t0,w.t1),w.next=11;break;case 10:s=n;case 11:return f=FHn(s),d=f.loader,(!u||d)&&(u=FQe((c=a.loader)!==null&&c!==void 0?c:d)),w.next=16,NQe(f,u);case 16:return h=w.sent,w.next=19,NQe(a,u);case 19:return p=w.sent,v=u3(u3({},e2t(p,h)),{},{config:u7((r=p.config)!==null&&r!==void 0?r:{},(i=h.config)!==null&&i!==void 0?i:{})}),w.next=23,jHn(t,s,v,u);case 23:return w.abrupt("return",w.sent);case 24:case"end":return w.stop()}},e)})),yEe.apply(this,arguments)}function NQe(e,t){return bEe.apply(this,arguments)}function bEe(){return bEe=gae(Rb.mark(function e(t,n){var r,i,a;return Rb.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!Pr(t.config)){u.next=8;break}return u.t1=JSON,u.next=4,n.load(t.config);case 4:u.t2=u.sent,u.t0=u.t1.parse.call(u.t1,u.t2),u.next=9;break;case 8:u.t0=(r=t.config)!==null&&r!==void 0?r:{};case 9:if(i=u.t0,!Pr(t.patch)){u.next=18;break}return u.t4=JSON,u.next=14,n.load(t.patch);case 14:u.t5=u.sent,u.t3=u.t4.parse.call(u.t4,u.t5),u.next=19;break;case 18:u.t3=t.patch;case 19:return a=u.t3,u.abrupt("return",u3(u3(u3({},t),a?{patch:a}:{}),i?{config:i}:{}));case 21:case"end":return u.stop()}},e)})),bEe.apply(this,arguments)}function zHn(e){var t,n=e.getRootNode?e.getRootNode():document;return n instanceof ShadowRoot?{root:n,rootContainer:n}:{root:document,rootContainer:(t=document.head)!==null&&t!==void 0?t:document.body}}function jHn(e,t){return wEe.apply(this,arguments)}function wEe(){return wEe=gae(Rb.mark(function e(t,n){var r,i,a,s,u,f,d,c,h,p,v,m,y,w,_,S,C,$,k,M,A,L,N,R,D,j,U,H,Y,Z,Q,ee,oe,ue,ve,le,de,me,Se,Ee,xe,Ie,Ne,We,Me,He,gt,Ye,ot,Ue,st,at=arguments;return Rb.wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:if(st=function(){me&&document.removeEventListener("click",me),ee.finalize()},c=at.length>2&&at[2]!==void 0?at[2]:{},h=at.length>3?at[3]:void 0,p=c.theme?u7(aBn[c.theme],(r=c.config)!==null&&r!==void 0?r:{}):c.config,v=hT(c.actions)?c.actions:e2t({},AHn,(i=c.actions)!==null&&i!==void 0?i:{}),m=u3(u3({},RHn),c.i18n),y=(a=c.renderer)!==null&&a!==void 0?a:"canvas",w=(s=c.logLevel)!==null&&s!==void 0?s:N2.Warn,_=(u=c.downloadFileName)!==null&&u!==void 0?u:"visualization",S=typeof t=="string"?document.querySelector(t):t,S){Vt.next=12;break}throw new Error("".concat(t," does not exist"));case 12:if(c.defaultStyle!==!1&&(C="vega-embed-style",$=zHn(S),k=$.root,M=$.rootContainer,k.getElementById(C)||(A=document.createElement("style"),A.id=C,A.innerHTML=c.defaultStyle===void 0||c.defaultStyle===!0?CHn.toString():c.defaultStyle,M.appendChild(A))),L=DHn(n,c.mode),N=THn[L](n,p),L==="vega-lite"&&N.$schema&&(R=jwt(N.$schema),Jwt(mae.vega,"^".concat(R.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(R.version,", but current version is v").concat(mae.vega,"."))),S.classList.add("vega-embed"),v&&S.classList.add("has-actions"),S.innerHTML="",D=S,v&&(j=document.createElement("div"),j.classList.add(PHn),S.appendChild(j),D=j),U=c.patch,U&&(N=U instanceof Function?U(N):cue(N,U,!0,!1).newDocument),c.formatLocale&&N2.formatLocale(c.formatLocale),c.timeFormatLocale&&N2.timeFormatLocale(c.timeFormatLocale),c.expressionFunctions)for(H in c.expressionFunctions)Y=c.expressionFunctions[H],"fn"in Y?N2.expressionFunction(H,Y.fn,Y.visitor):Y instanceof Function&&N2.expressionFunction(H,Y);return Z=c.ast,Q=N2.parse(N,L==="vega-lite"?{}:p,{ast:Z}),ee=new(c.viewClass||N2.View)(Q,u3({loader:h,logLevel:w,renderer:y},Z?{expr:(f=(d=N2.expressionInterpreter)!==null&&d!==void 0?d:c.expr)!==null&&f!==void 0?f:ZLn}:{})),ee.addSignalListener("autosize",(tt,wt)=>{var vt=wt.type;vt=="fit-x"?(D.classList.add("fit-x"),D.classList.remove("fit-y")):vt=="fit-y"?(D.classList.remove("fit-x"),D.classList.add("fit-y")):vt=="fit"?D.classList.add("fit-x","fit-y"):D.classList.remove("fit-x","fit-y")}),c.tooltip!==!1&&(oe=LHn(c.tooltip)?c.tooltip:new gBn(c.tooltip===!0?{}:c.tooltip).call,ee.tooltip(oe)),ue=c.hover,ue===void 0&&(ue=L==="vega"),ue&&(ve=typeof ue=="boolean"?{}:ue,le=ve.hoverSet,de=ve.updateSet,ee.hover(le,de)),c&&(c.width!=null&&ee.width(c.width),c.height!=null&&ee.height(c.height),c.padding!=null&&ee.padding(c.padding)),Vt.next=37,ee.initialize(D,c.bind).runAsync();case 37:if(v===!1){Vt.next=63;break}if(Se=S,c.defaultStyle!==!1&&(Ee=document.createElement("details"),Ee.title=m.CLICK_TO_VIEW_ACTIONS,S.append(Ee),Se=Ee,xe=document.createElement("summary"),xe.innerHTML=MHn,Ee.append(xe),me=tt=>{Ee.contains(tt.target)||Ee.removeAttribute("open")},document.addEventListener("click",me)),Ie=document.createElement("div"),Se.append(Ie),Ie.classList.add("vega-actions"),!(v===!0||v.export!==!1)){Vt.next=60;break}Ne=kHn(["svg","png"]),Vt.prev=45,Me=Rb.mark(function tt(){var wt,vt,Le,ft;return Rb.wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:wt=We.value,(v===!0||v.export===!0||v.export[wt])&&(vt=m["".concat(wt.toUpperCase(),"_ACTION")],Le=document.createElement("a"),ft=Gr(c.scaleFactor)?c.scaleFactor[wt]:c.scaleFactor,Le.text=vt,Le.href="#",Le.target="_blank",Le.download="".concat(_,".").concat(wt),Le.addEventListener("mousedown",function(){var Ct=gae(Rb.mark(function jt(At){var Bt;return Rb.wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:return At.preventDefault(),qt.next=3,ee.toImageURL(wt,ft);case 3:Bt=qt.sent,this.href=Bt;case 5:case"end":return qt.stop()}},jt,this)}));return function(jt){return Ct.apply(this,arguments)}}()),Ie.append(Le));case 2:case"end":return yt.stop()}},tt)}),Ne.s();case 48:if((We=Ne.n()).done){Vt.next=52;break}return Vt.delegateYield(Me(),"t0",50);case 50:Vt.next=48;break;case 52:Vt.next=57;break;case 54:Vt.prev=54,Vt.t1=Vt.catch(45),Ne.e(Vt.t1);case 57:return Vt.prev=57,Ne.f(),Vt.finish(57);case 60:(v===!0||v.source!==!1)&&(He=document.createElement("a"),He.text=m.SOURCE_ACTION,He.href="#",He.addEventListener("click",function(tt){var wt,vt;IQe(I1e(n),(wt=c.sourceHeader)!==null&&wt!==void 0?wt:"",(vt=c.sourceFooter)!==null&&vt!==void 0?vt:"",L),tt.preventDefault()}),Ie.append(He)),L==="vega-lite"&&(v===!0||v.compiled!==!1)&&(gt=document.createElement("a"),gt.text=m.COMPILED_ACTION,gt.href="#",gt.addEventListener("click",function(tt){var wt,vt;IQe(I1e(N),(wt=c.sourceHeader)!==null&&wt!==void 0?wt:"",(vt=c.sourceFooter)!==null&&vt!==void 0?vt:"","vega"),tt.preventDefault()}),Ie.append(gt)),(v===!0||v.editor!==!1)&&(ot=(Ye=c.editorUrl)!==null&&Ye!==void 0?Ye:"https://vega.github.io/editor/",Ue=document.createElement("a"),Ue.text=m.EDITOR_ACTION,Ue.href="#",Ue.addEventListener("click",function(tt){EHn(window,ot,{config:p,mode:L,renderer:y,spec:I1e(n)}),tt.preventDefault()}),Ie.append(Ue));case 63:return Vt.abrupt("return",{view:ee,spec:n,vgSpec:N,finalize:st,embedOptions:c});case 64:case"end":return Vt.stop()}},e,null,[[45,54,57,60]])})),wEe.apply(this,arguments)}function BHn(e){return!!e&&{}.toString.call(e)==="[object Function]"}function HHn(e,t,n){n&&(BHn(n)?n(e.data(t)):e.change(t,N2.changeset().remove(()=>!0).insert(n)))}function UHn(e,t){Object.keys(t).forEach(n=>{HHn(e,n,t[n])})}function t2t(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const n2t=()=>{};function abe(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}function VHn(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=t2t([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!k1t(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function zQe(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function obe(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function jH(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r2t extends Xe.PureComponent{constructor(){super(...arguments),jH(this,"containerRef",Xe.createRef()),jH(this,"resultPromise",void 0),jH(this,"handleError",t=>{const{onError:n=n2t}=this.props;n(t,this.containerRef.current),console.warn(t)}),jH(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=t2t([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=VHn(obe(this.props),obe(t)),{signalListeners:i}=this.props,{signalListeners:a}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!ixe(i,a);this.modifyView(u=>{r.width!==!1&&u.width(r.width),r.height!==!1&&u.height(r.height),s&&(a&&zQe(u,a),i&&abe(u,i)),u.run()})}else ixe(i,a)||this.modifyView(s=>{a&&zQe(s,a),i&&abe(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:a,...s}=this.props;if(this.containerRef.current){const u=obe(this.props);this.resultPromise=NHn(this.containerRef.current,u,s).then(f=>{if(f){const{view:d}=f;abe(d,r)&&d.run()}return f}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return Xe.createElement("div",{ref:this.containerRef,className:t,style:n})}}jH(r2t,"propTypes",{className:Yr.string,onError:Yr.func});function _Ee(){return _Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_Ee.apply(this,arguments)}function xEe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const WHn={};class fce extends Xe.PureComponent{constructor(){super(...arguments),xEe(this,"vegaEmbed",Xe.createRef()),xEe(this,"handleNewView",t=>{this.update();const{onNewView:n=n2t}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){ixe(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{UHn(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return Xe.createElement(r2t,_Ee({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}xEe(fce,"defaultProps",{data:WHn});function SEe(){return SEe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SEe.apply(this,arguments)}function GHn(e){return Xe.createElement(fce,SEe({},e,{mode:"vega-lite"}))}function EEe(){return EEe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EEe.apply(this,arguments)}function qHn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YHn(e){let{mode:t,spec:n}=e;class r extends Xe.PureComponent{render(){return Xe.createElement(fce,EEe({mode:t,spec:n},this.props))}}return qHn(r,"getSpec",function(){return n}),r}const KHn=Object.freeze(Object.defineProperty({__proto__:null,Vega:fce,VegaLite:GHn,createClassFromSpec:YHn},Symbol.toStringTag,{value:"Module"})),xMe=A_(KHn);var TL={};function XHn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"}))}const ZHn=z.forwardRef(XHn),QHn=ZHn;function JHn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"}))}const eUn=z.forwardRef(JHn),tUn=eUn;function nUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z",clipRule:"evenodd"}))}const rUn=z.forwardRef(nUn),iUn=rUn;function aUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M4 3a2 2 0 100 4h12a2 2 0 100-4H4z"}),z.createElement("path",{fillRule:"evenodd",d:"M3 8h14v7a2 2 0 01-2 2H5a2 2 0 01-2-2V8zm5 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z",clipRule:"evenodd"}))}const oUn=z.forwardRef(aUn),sUn=oUn;function uUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v3.586L7.707 9.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 10.586V7z",clipRule:"evenodd"}))}const lUn=z.forwardRef(uUn),cUn=lUn;function fUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd"}))}const dUn=z.forwardRef(fUn),hUn=dUn;function gUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z",clipRule:"evenodd"}))}const pUn=z.forwardRef(gUn),vUn=pUn;function mUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z",clipRule:"evenodd"}))}const yUn=z.forwardRef(mUn),bUn=yUn;function wUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}const _Un=z.forwardRef(wUn),xUn=_Un;function SUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}))}const EUn=z.forwardRef(SUn),CUn=EUn;function $Un(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l2.293-2.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}const kUn=z.forwardRef($Un),OUn=kUn;function AUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"}))}const RUn=z.forwardRef(AUn),TUn=RUn;function MUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}))}const PUn=z.forwardRef(MUn),LUn=PUn;function DUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const IUn=z.forwardRef(DUn),FUn=IUn;function NUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"}))}const zUn=z.forwardRef(NUn),jUn=zUn;function BUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M14.707 10.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 12.586V5a1 1 0 012 0v7.586l2.293-2.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}const HUn=z.forwardRef(BUn),UUn=HUn;function VUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"}))}const WUn=z.forwardRef(VUn),GUn=WUn;function qUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}))}const YUn=z.forwardRef(qUn),KUn=YUn;function XUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const ZUn=z.forwardRef(XUn),QUn=ZUn;function JUn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const eVn=z.forwardRef(JUn),tVn=eVn;function nVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 01-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 110-2h4a1 1 0 011 1v4a1 1 0 11-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12zm-9 7a1 1 0 112 0v1.586l2.293-2.293a1 1 0 011.414 1.414L6.414 15H8a1 1 0 110 2H4a1 1 0 01-1-1v-4zm13-1a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 110-2h1.586l-2.293-2.293a1 1 0 011.414-1.414L15 13.586V12a1 1 0 011-1z",clipRule:"evenodd"}))}const rVn=z.forwardRef(nVn),iVn=rVn;function aVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M14.243 5.757a6 6 0 10-.986 9.284 1 1 0 111.087 1.678A8 8 0 1118 10a3 3 0 01-4.8 2.401A4 4 0 1114 10a1 1 0 102 0c0-1.537-.586-3.07-1.757-4.243zM12 10a2 2 0 10-4 0 2 2 0 004 0z",clipRule:"evenodd"}))}const oVn=z.forwardRef(aVn),sVn=oVn;function uVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6.707 4.879A3 3 0 018.828 4H15a3 3 0 013 3v6a3 3 0 01-3 3H8.828a3 3 0 01-2.12-.879l-4.415-4.414a1 1 0 010-1.414l4.414-4.414zm4 2.414a1 1 0 00-1.414 1.414L10.586 10l-1.293 1.293a1 1 0 101.414 1.414L12 11.414l1.293 1.293a1 1 0 001.414-1.414L13.414 10l1.293-1.293a1 1 0 00-1.414-1.414L12 8.586l-1.293-1.293z",clipRule:"evenodd"}))}const lVn=z.forwardRef(uVn),cVn=lVn;function fVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))}const dVn=z.forwardRef(fVn),hVn=dVn;function gVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"}))}const pVn=z.forwardRef(gVn),vVn=pVn;function mVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M7 2a1 1 0 00-.707 1.707L7 4.414v3.758a1 1 0 01-.293.707l-4 4C.817 14.769 2.156 18 4.828 18h10.343c2.673 0 4.012-3.231 2.122-5.121l-4-4A1 1 0 0113 8.172V4.414l.707-.707A1 1 0 0013 2H7zm2 6.172V4h2v4.172a3 3 0 00.879 2.12l1.027 1.028a4 4 0 00-2.171.102l-.47.156a4 4 0 01-2.53 0l-.563-.187a1.993 1.993 0 00-.114-.035l1.063-1.063A3 3 0 009 8.172z",clipRule:"evenodd"}))}const yVn=z.forwardRef(mVn),bVn=yVn;function wVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"}))}const _Vn=z.forwardRef(wVn),xVn=_Vn;function SVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"}))}const EVn=z.forwardRef(SVn),CVn=EVn;function $Vn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 5a2 2 0 012-2h10a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5zm11 1H6v8l4-2 4 2V6z",clipRule:"evenodd"}))}const kVn=z.forwardRef($Vn),OVn=kVn;function AVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"}))}const RVn=z.forwardRef(AVn),TVn=RVn;function MVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6 6V5a3 3 0 013-3h2a3 3 0 013 3v1h2a2 2 0 012 2v3.57A22.952 22.952 0 0110 13a22.95 22.95 0 01-8-1.43V8a2 2 0 012-2h2zm2-1a1 1 0 011-1h2a1 1 0 011 1v1H8V5zm1 5a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z",clipRule:"evenodd"}),z.createElement("path",{d:"M2 13.692V16a2 2 0 002 2h12a2 2 0 002-2v-2.308A24.974 24.974 0 0110 15c-2.796 0-5.487-.46-8-1.308z"}))}const PVn=z.forwardRef(MVn),LVn=PVn;function DVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6 3a1 1 0 011-1h.01a1 1 0 010 2H7a1 1 0 01-1-1zm2 3a1 1 0 00-2 0v1a2 2 0 00-2 2v1a2 2 0 00-2 2v.683a3.7 3.7 0 011.055.485 1.704 1.704 0 001.89 0 3.704 3.704 0 014.11 0 1.704 1.704 0 001.89 0 3.704 3.704 0 014.11 0 1.704 1.704 0 001.89 0A3.7 3.7 0 0118 12.683V12a2 2 0 00-2-2V9a2 2 0 00-2-2V6a1 1 0 10-2 0v1h-1V6a1 1 0 10-2 0v1H8V6zm10 8.868a3.704 3.704 0 01-4.055-.036 1.704 1.704 0 00-1.89 0 3.704 3.704 0 01-4.11 0 1.704 1.704 0 00-1.89 0A3.704 3.704 0 012 14.868V17a1 1 0 001 1h14a1 1 0 001-1v-2.132zM9 3a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1zm3 0a1 1 0 011-1h.01a1 1 0 110 2H13a1 1 0 01-1-1z",clipRule:"evenodd"}))}const IVn=z.forwardRef(DVn),FVn=IVn;function NVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 100 2h.01a1 1 0 100-2H10zm-4 1a1 1 0 011-1h.01a1 1 0 110 2H7a1 1 0 01-1-1zm1-4a1 1 0 100 2h.01a1 1 0 100-2H7zm2 1a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1zm4-4a1 1 0 100 2h.01a1 1 0 100-2H13zM9 9a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1zM7 8a1 1 0 000 2h.01a1 1 0 000-2H7z",clipRule:"evenodd"}))}const zVn=z.forwardRef(NVn),jVn=zVn;function BVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"}))}const HVn=z.forwardRef(BVn),UVn=HVn;function VVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}))}const WVn=z.forwardRef(VVn),GVn=WVn;function qVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}))}const YVn=z.forwardRef(qVn),KVn=YVn;function XVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"}))}const ZVn=z.forwardRef(XVn),QVn=ZVn;function JVn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"}),z.createElement("path",{d:"M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"}))}const eWn=z.forwardRef(JVn),tWn=eWn;function nWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5 3a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V5a2 2 0 00-2-2H5zm9 4a1 1 0 10-2 0v6a1 1 0 102 0V7zm-3 2a1 1 0 10-2 0v4a1 1 0 102 0V9zm-3 3a1 1 0 10-2 0v1a1 1 0 102 0v-1z",clipRule:"evenodd"}))}const rWn=z.forwardRef(nWn),iWn=rWn;function aWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),z.createElement("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"}))}const oWn=z.forwardRef(aWn),sWn=oWn;function uWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z",clipRule:"evenodd"}))}const lWn=z.forwardRef(uWn),cWn=lWn;function fWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"}))}const dWn=z.forwardRef(fWn),hWn=dWn;function gWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))}const pWn=z.forwardRef(gWn),vWn=pWn;function mWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}const yWn=z.forwardRef(mWn),bWn=yWn;function wWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M15.707 4.293a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 011.414-1.414L10 8.586l4.293-4.293a1 1 0 011.414 0zm0 6a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 111.414-1.414L10 14.586l4.293-4.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}const _Wn=z.forwardRef(wWn),xWn=_Wn;function SWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 010 1.414zm-6 0a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 011.414 1.414L5.414 10l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"}))}const EWn=z.forwardRef(SWn),CWn=EWn;function $Wn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-4.293a1 1 0 111.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"}),z.createElement("path",{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 5.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const kWn=z.forwardRef($Wn),OWn=kWn;function AWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4.293 15.707a1 1 0 010-1.414l5-5a1 1 0 011.414 0l5 5a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414 0zm0-6a1 1 0 010-1.414l5-5a1 1 0 011.414 0l5 5a1 1 0 01-1.414 1.414L10 5.414 5.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const RWn=z.forwardRef(AWn),TWn=RWn;function MWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))}const PWn=z.forwardRef(MWn),LWn=PWn;function DWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))}const IWn=z.forwardRef(DWn),FWn=IWn;function NWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const zWn=z.forwardRef(NWn),jWn=zWn;function BWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"}))}const HWn=z.forwardRef(BWn),UWn=HWn;function VWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M13 7H7v6h6V7z"}),z.createElement("path",{fillRule:"evenodd",d:"M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z",clipRule:"evenodd"}))}const WWn=z.forwardRef(VWn),GWn=WWn;function qWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),z.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))}const YWn=z.forwardRef(qWn),KWn=YWn;function XWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M8 2a1 1 0 000 2h2a1 1 0 100-2H8z"}),z.createElement("path",{d:"M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM15 11h2a1 1 0 110 2h-2v-2z"}))}const ZWn=z.forwardRef(XWn),QWn=ZWn;function JWn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),z.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"}))}const eGn=z.forwardRef(JWn),tGn=eGn;function nGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),z.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))}const rGn=z.forwardRef(nGn),iGn=rGn;function aGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"}))}const oGn=z.forwardRef(aGn),sGn=oGn;function uGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M2 9.5A3.5 3.5 0 005.5 13H9v2.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 15.586V13h2.5a4.5 4.5 0 10-.616-8.958 4.002 4.002 0 10-7.753 1.977A3.5 3.5 0 002 9.5zm9 3.5H9V8a1 1 0 012 0v5z",clipRule:"evenodd"}))}const lGn=z.forwardRef(uGn),cGn=lGn;function fGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M5.5 13a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.977A4.5 4.5 0 1113.5 13H11V9.413l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13H5.5z"}),z.createElement("path",{d:"M9 13h2v5a1 1 0 11-2 0v-5z"}))}const dGn=z.forwardRef(fGn),hGn=dGn;function gGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M5.5 16a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.977A4.5 4.5 0 1113.5 16h-8z"}))}const pGn=z.forwardRef(gGn),vGn=pGn;function mGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}))}const yGn=z.forwardRef(mGn),bGn=yGn;function wGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}))}const _Gn=z.forwardRef(wGn),xGn=_Gn;function SGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"}))}const EGn=z.forwardRef(SGn),CGn=EGn;function $Gn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 2a2 2 0 00-2 2v11a3 3 0 106 0V4a2 2 0 00-2-2H4zm1 14a1 1 0 100-2 1 1 0 000 2zm5-1.757l4.9-4.9a2 2 0 000-2.828L13.485 5.1a2 2 0 00-2.828 0L10 5.757v8.486zM16 18H9.071l6-6H16a2 2 0 012 2v2a2 2 0 01-2 2z",clipRule:"evenodd"}))}const kGn=z.forwardRef($Gn),OGn=kGn;function AGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}),z.createElement("path",{fillRule:"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z",clipRule:"evenodd"}))}const RGn=z.forwardRef(AGn),TGn=RGn;function MGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M9.504 1.132a1 1 0 01.992 0l1.75 1a1 1 0 11-.992 1.736L10 3.152l-1.254.716a1 1 0 11-.992-1.736l1.75-1zM5.618 4.504a1 1 0 01-.372 1.364L5.016 6l.23.132a1 1 0 11-.992 1.736L4 7.723V8a1 1 0 01-2 0V6a.996.996 0 01.52-.878l1.734-.99a1 1 0 011.364.372zm8.764 0a1 1 0 011.364-.372l1.733.99A1.002 1.002 0 0118 6v2a1 1 0 11-2 0v-.277l-.254.145a1 1 0 11-.992-1.736l.23-.132-.23-.132a1 1 0 01-.372-1.364zm-7 4a1 1 0 011.364-.372L10 8.848l1.254-.716a1 1 0 11.992 1.736L11 10.58V12a1 1 0 11-2 0v-1.42l-1.246-.712a1 1 0 01-.372-1.364zM3 11a1 1 0 011 1v1.42l1.246.712a1 1 0 11-.992 1.736l-1.75-1A1 1 0 012 14v-2a1 1 0 011-1zm14 0a1 1 0 011 1v2a1 1 0 01-.504.868l-1.75 1a1 1 0 11-.992-1.736L16 13.42V12a1 1 0 011-1zm-9.618 5.504a1 1 0 011.364-.372l.254.145V16a1 1 0 112 0v.277l.254-.145a1 1 0 11.992 1.736l-1.735.992a.995.995 0 01-1.022 0l-1.735-.992a1 1 0 01-.372-1.364z",clipRule:"evenodd"}))}const PGn=z.forwardRef(MGn),LGn=PGn;function DGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M11 17a1 1 0 001.447.894l4-2A1 1 0 0017 15V9.236a1 1 0 00-1.447-.894l-4 2a1 1 0 00-.553.894V17zM15.211 6.276a1 1 0 000-1.788l-4.764-2.382a1 1 0 00-.894 0L4.789 4.488a1 1 0 000 1.788l4.764 2.382a1 1 0 00.894 0l4.764-2.382zM4.447 8.342A1 1 0 003 9.236V15a1 1 0 00.553.894l4 2A1 1 0 009 17v-5.764a1 1 0 00-.553-.894l-4-2z"}))}const IGn=z.forwardRef(DGn),FGn=IGn;function NGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 4a1 1 0 000 2 1 1 0 011 1v1H7a1 1 0 000 2h1v3a3 3 0 106 0v-1a1 1 0 10-2 0v1a1 1 0 11-2 0v-3h3a1 1 0 100-2h-3V7a3 3 0 00-3-3z",clipRule:"evenodd"}))}const zGn=z.forwardRef(NGn),jGn=zGn;function BGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"}))}const HGn=z.forwardRef(BGn),UGn=HGn;function VGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.736 6.979C9.208 6.193 9.696 6 10 6c.304 0 .792.193 1.264.979a1 1 0 001.715-1.029C12.279 4.784 11.232 4 10 4s-2.279.784-2.979 1.95c-.285.475-.507 1-.67 1.55H6a1 1 0 000 2h.013a9.358 9.358 0 000 1H6a1 1 0 100 2h.351c.163.55.385 1.075.67 1.55C7.721 15.216 8.768 16 10 16s2.279-.784 2.979-1.95a1 1 0 10-1.715-1.029c-.472.786-.96.979-1.264.979-.304 0-.792-.193-1.264-.979a4.265 4.265 0 01-.264-.521H10a1 1 0 100-2H8.017a7.36 7.36 0 010-1H10a1 1 0 100-2H8.472c.08-.185.167-.36.264-.521z",clipRule:"evenodd"}))}const WGn=z.forwardRef(VGn),GGn=WGn;function qGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-14a3 3 0 00-3 3v2H7a1 1 0 000 2h1v1a1 1 0 01-1 1 1 1 0 100 2h6a1 1 0 100-2H9.83c.11-.313.17-.65.17-1v-1h1a1 1 0 100-2h-1V7a1 1 0 112 0 1 1 0 102 0 3 3 0 00-3-3z",clipRule:"evenodd"}))}const YGn=z.forwardRef(qGn),KGn=YGn;function XGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 5a1 1 0 100 2h1a2 2 0 011.732 1H7a1 1 0 100 2h2.732A2 2 0 018 11H7a1 1 0 00-.707 1.707l3 3a1 1 0 001.414-1.414l-1.483-1.484A4.008 4.008 0 0011.874 10H13a1 1 0 100-2h-1.126a3.976 3.976 0 00-.41-1H13a1 1 0 100-2H7z",clipRule:"evenodd"}))}const ZGn=z.forwardRef(XGn),QGn=ZGn;function JGn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7.858 5.485a1 1 0 00-1.715 1.03L7.633 9H7a1 1 0 100 2h1.834l.166.277V12H7a1 1 0 100 2h2v1a1 1 0 102 0v-1h2a1 1 0 100-2h-2v-.723l.166-.277H13a1 1 0 100-2h-.634l1.492-2.486a1 1 0 10-1.716-1.029L10.034 9h-.068L7.858 5.485z",clipRule:"evenodd"}))}const eqn=z.forwardRef(JGn),tqn=eqn;function nqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6.672 1.911a1 1 0 10-1.932.518l.259.966a1 1 0 001.932-.518l-.26-.966zM2.429 4.74a1 1 0 10-.517 1.932l.966.259a1 1 0 00.517-1.932l-.966-.26zm8.814-.569a1 1 0 00-1.415-1.414l-.707.707a1 1 0 101.415 1.415l.707-.708zm-7.071 7.072l.707-.707A1 1 0 003.465 9.12l-.708.707a1 1 0 001.415 1.415zm3.2-5.171a1 1 0 00-1.3 1.3l4 10a1 1 0 001.823.075l1.38-2.759 3.018 3.02a1 1 0 001.414-1.415l-3.019-3.02 2.76-1.379a1 1 0 00-.076-1.822l-10-4z",clipRule:"evenodd"}))}const rqn=z.forwardRef(nqn),iqn=rqn;function aqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"}),z.createElement("path",{d:"M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"}),z.createElement("path",{d:"M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"}))}const oqn=z.forwardRef(aqn),sqn=oqn;function uqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 5a2 2 0 012-2h10a2 2 0 012 2v8a2 2 0 01-2 2h-2.22l.123.489.804.804A1 1 0 0113 18H7a1 1 0 01-.707-1.707l.804-.804L7.22 15H5a2 2 0 01-2-2V5zm5.771 7H5V5h10v7H8.771z",clipRule:"evenodd"}))}const lqn=z.forwardRef(uqn),cqn=lqn;function fqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M7 2a2 2 0 00-2 2v12a2 2 0 002 2h6a2 2 0 002-2V4a2 2 0 00-2-2H7zm3 14a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))}const dqn=z.forwardRef(fqn),hqn=dqn;function gqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm4 14a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))}const pqn=z.forwardRef(gqn),vqn=pqn;function mqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V8z",clipRule:"evenodd"}))}const yqn=z.forwardRef(mqn),bqn=yqn;function wqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z",clipRule:"evenodd"}))}const _qn=z.forwardRef(wqn),xqn=_qn;function Sqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M9 2a2 2 0 00-2 2v8a2 2 0 002 2h6a2 2 0 002-2V6.414A2 2 0 0016.414 5L14 2.586A2 2 0 0012.586 2H9z"}),z.createElement("path",{d:"M3 8a2 2 0 012-2v10h8a2 2 0 01-2 2H5a2 2 0 01-2-2V8z"}))}const Eqn=z.forwardRef(Sqn),Cqn=Eqn;function $qn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm1 8a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"}))}const kqn=z.forwardRef($qn),Oqn=kqn;function Aqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v7a1 1 0 102 0V8z",clipRule:"evenodd"}))}const Rqn=z.forwardRef(Aqn),Tqn=Rqn;function Mqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2h-1.528A6 6 0 004 9.528V4z"}),z.createElement("path",{fillRule:"evenodd",d:"M8 10a4 4 0 00-3.446 6.032l-1.261 1.26a1 1 0 101.414 1.415l1.261-1.261A4 4 0 108 10zm-2 4a2 2 0 114 0 2 2 0 01-4 0z",clipRule:"evenodd"}))}const Pqn=z.forwardRef(Mqn),Lqn=Pqn;function Dqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"}))}const Iqn=z.forwardRef(Dqn),Fqn=Iqn;function Nqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"}))}const zqn=z.forwardRef(Nqn),jqn=zqn;function Bqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"}))}const Hqn=z.forwardRef(Bqn),Uqn=Hqn;function Vqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"}))}const Wqn=z.forwardRef(Vqn),Gqn=Wqn;function qqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"}))}const Yqn=z.forwardRef(qqn),Kqn=Yqn;function Xqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"}))}const Zqn=z.forwardRef(Xqn),Qqn=Zqn;function Jqn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M7 9a2 2 0 012-2h6a2 2 0 012 2v6a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}),z.createElement("path",{d:"M5 3a2 2 0 00-2 2v6a2 2 0 002 2V5h8a2 2 0 00-2-2H5z"}))}const eYn=z.forwardRef(Jqn),tYn=eYn;function nYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-.464 5.535a1 1 0 10-1.415-1.414 3 3 0 01-4.242 0 1 1 0 00-1.415 1.414 5 5 0 007.072 0z",clipRule:"evenodd"}))}const rYn=z.forwardRef(nYn),iYn=rYn;function aYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-7.536 5.879a1 1 0 001.415 0 3 3 0 014.242 0 1 1 0 001.415-1.415 5 5 0 00-7.072 0 1 1 0 000 1.415z",clipRule:"evenodd"}))}const oYn=z.forwardRef(aYn),sYn=oYn;function uYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))}const lYn=z.forwardRef(uYn),cYn=lYn;function fYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))}const dYn=z.forwardRef(fYn),hYn=dYn;function gYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),z.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}))}const pYn=z.forwardRef(gYn),vYn=pYn;function mYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),z.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))}const yYn=z.forwardRef(mYn),bYn=yYn;function wYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),z.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))}const _Yn=z.forwardRef(wYn),xYn=_Yn;function SYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M4.555 5.168A1 1 0 003 6v8a1 1 0 001.555.832L10 11.202V14a1 1 0 001.555.832l6-4a1 1 0 000-1.664l-6-4A1 1 0 0010 6v2.798l-5.445-3.63z"}))}const EYn=z.forwardRef(SYn),CYn=EYn;function $Yn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm3 2h6v4H7V5zm8 8v2h1v-2h-1zm-2-2H7v4h6v-4zm2 0h1V9h-1v2zm1-4V5h-1v2h1zM5 5v2H4V5h1zm0 4H4v2h1V9zm-1 4h1v2H4v-2z",clipRule:"evenodd"}))}const kYn=z.forwardRef($Yn),OYn=kYn;function AYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z",clipRule:"evenodd"}))}const RYn=z.forwardRef(AYn),TYn=RYn;function MYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M6.625 2.655A9 9 0 0119 11a1 1 0 11-2 0 7 7 0 00-9.625-6.492 1 1 0 11-.75-1.853zM4.662 4.959A1 1 0 014.75 6.37 6.97 6.97 0 003 11a1 1 0 11-2 0 8.97 8.97 0 012.25-5.953 1 1 0 011.412-.088z",clipRule:"evenodd"}),z.createElement("path",{fillRule:"evenodd",d:"M5 11a5 5 0 1110 0 1 1 0 11-2 0 3 3 0 10-6 0c0 1.677-.345 3.276-.968 4.729a1 1 0 11-1.838-.789A9.964 9.964 0 005 11zm8.921 2.012a1 1 0 01.831 1.145 19.86 19.86 0 01-.545 2.436 1 1 0 11-1.92-.558c.207-.713.371-1.445.49-2.192a1 1 0 011.144-.83z",clipRule:"evenodd"}),z.createElement("path",{fillRule:"evenodd",d:"M10 10a1 1 0 011 1c0 2.236-.46 4.368-1.29 6.304a1 1 0 01-1.838-.789A13.952 13.952 0 009 11a1 1 0 011-1z",clipRule:"evenodd"}))}const PYn=z.forwardRef(MYn),LYn=PYn;function DYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z",clipRule:"evenodd"}))}const IYn=z.forwardRef(DYn),FYn=IYn;function NYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 00-1 1v3a1 1 0 11-2 0V6z",clipRule:"evenodd"}))}const zYn=z.forwardRef(NYn),jYn=zYn;function BYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-5L9 4H4zm7 5a1 1 0 10-2 0v1H8a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V9z"}))}const HYn=z.forwardRef(BYn),UYn=HYn;function VYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-5L9 4H4zm7 5a1 1 0 10-2 0v1.586l-.293-.293a1 1 0 10-1.414 1.414l2 2 .002.002a.997.997 0 001.41 0l.002-.002 2-2a1 1 0 00-1.414-1.414l-.293.293V9z"}))}const WYn=z.forwardRef(VYn),GYn=WYn;function qYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1H8a3 3 0 00-3 3v1.5a1.5 1.5 0 01-3 0V6z",clipRule:"evenodd"}),z.createElement("path",{d:"M6 12a2 2 0 012-2h8a2 2 0 012 2v2a2 2 0 01-2 2H2h2a2 2 0 002-2v-2z"}))}const YYn=z.forwardRef(qYn),KYn=YYn;function XYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V8a2 2 0 00-2-2h-5L9 4H4zm4 6a1 1 0 100 2h4a1 1 0 100-2H8z"}))}const ZYn=z.forwardRef(XYn),QYn=ZYn;function JYn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"}))}const eKn=z.forwardRef(JYn),tKn=eKn;function nKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5 5a3 3 0 015-2.236A3 3 0 0114.83 6H16a2 2 0 110 4h-5V9a1 1 0 10-2 0v1H4a2 2 0 110-4h1.17C5.06 5.687 5 5.35 5 5zm4 1V5a1 1 0 10-1 1h1zm3 0a1 1 0 10-1-1v1h1z",clipRule:"evenodd"}),z.createElement("path",{d:"M9 11H3v5a2 2 0 002 2h4v-7zM11 18h4a2 2 0 002-2v-5h-6v7z"}))}const rKn=z.forwardRef(nKn),iKn=rKn;function aKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4.083 9h1.946c.089-1.546.383-2.97.837-4.118A6.004 6.004 0 004.083 9zM10 2a8 8 0 100 16 8 8 0 000-16zm0 2c-.076 0-.232.032-.465.262-.238.234-.497.623-.737 1.182-.389.907-.673 2.142-.766 3.556h3.936c-.093-1.414-.377-2.649-.766-3.556-.24-.56-.5-.948-.737-1.182C10.232 4.032 10.076 4 10 4zm3.971 5c-.089-1.546-.383-2.97-.837-4.118A6.004 6.004 0 0115.917 9h-1.946zm-2.003 2H8.032c.093 1.414.377 2.649.766 3.556.24.56.5.948.737 1.182.233.23.389.262.465.262.076 0 .232-.032.465-.262.238-.234.498-.623.737-1.182.389-.907.673-2.142.766-3.556zm1.166 4.118c.454-1.147.748-2.572.837-4.118h1.946a6.004 6.004 0 01-2.783 4.118zm-6.268 0C6.412 13.97 6.118 12.546 6.03 11H4.083a6.004 6.004 0 002.783 4.118z",clipRule:"evenodd"}))}const oKn=z.forwardRef(aKn),sKn=oKn;function uKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.523-1.943A5.977 5.977 0 0116 10c0 .34-.028.675-.083 1H15a2 2 0 00-2 2v2.197A5.973 5.973 0 0110 16v-2a2 2 0 00-2-2 2 2 0 01-2-2 2 2 0 00-1.668-1.973z",clipRule:"evenodd"}))}const lKn=z.forwardRef(uKn),cKn=lKn;function fKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M9 3a1 1 0 012 0v5.5a.5.5 0 001 0V4a1 1 0 112 0v4.5a.5.5 0 001 0V6a1 1 0 112 0v5a7 7 0 11-14 0V9a1 1 0 012 0v2.5a.5.5 0 001 0V4a1 1 0 012 0v4.5a.5.5 0 001 0V3z",clipRule:"evenodd"}))}const dKn=z.forwardRef(fKn),hKn=dKn;function gKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M9.243 3.03a1 1 0 01.727 1.213L9.53 6h2.94l.56-2.243a1 1 0 111.94.486L14.53 6H17a1 1 0 110 2h-2.97l-1 4H15a1 1 0 110 2h-2.47l-.56 2.242a1 1 0 11-1.94-.485L10.47 14H7.53l-.56 2.242a1 1 0 11-1.94-.485L5.47 14H3a1 1 0 110-2h2.97l1-4H5a1 1 0 110-2h2.47l.56-2.243a1 1 0 011.213-.727zM9.03 8l-1 4h2.938l1-4H9.031z",clipRule:"evenodd"}))}const pKn=z.forwardRef(gKn),vKn=pKn;function mKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}))}const yKn=z.forwardRef(mKn),bKn=yKn;function wKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}))}const _Kn=z.forwardRef(wKn),xKn=_Kn;function SKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 2a1 1 0 00-1 1v1a1 1 0 002 0V3a1 1 0 00-1-1zM4 4h3a3 3 0 006 0h3a2 2 0 012 2v9a2 2 0 01-2 2H4a2 2 0 01-2-2V6a2 2 0 012-2zm2.5 7a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm2.45 4a2.5 2.5 0 10-4.9 0h4.9zM12 9a1 1 0 100 2h3a1 1 0 100-2h-3zm-1 4a1 1 0 011-1h2a1 1 0 110 2h-2a1 1 0 01-1-1z",clipRule:"evenodd"}))}const EKn=z.forwardRef(SKn),CKn=EKn;function $Kn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M8.707 7.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l2-2a1 1 0 00-1.414-1.414L11 7.586V3a1 1 0 10-2 0v4.586l-.293-.293z"}),z.createElement("path",{d:"M3 5a2 2 0 012-2h1a1 1 0 010 2H5v7h2l1 2h4l1-2h2V5h-1a1 1 0 110-2h1a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5z"}))}const kKn=z.forwardRef($Kn),OKn=kKn;function AKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5 3a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2V5a2 2 0 00-2-2H5zm0 2h10v7h-2l-1 2H8l-1-2H5V5z",clipRule:"evenodd"}))}const RKn=z.forwardRef(AKn),TKn=RKn;function MKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}))}const PKn=z.forwardRef(MKn),LKn=PKn;function DKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M18 8a6 6 0 01-7.743 5.743L10 14l-1 1-1 1H6v2H2v-4l4.257-4.257A6 6 0 1118 8zm-6-4a1 1 0 100 2 2 2 0 012 2 1 1 0 102 0 4 4 0 00-4-4z",clipRule:"evenodd"}))}const IKn=z.forwardRef(DKn),FKn=IKn;function NKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10.496 2.132a1 1 0 00-.992 0l-7 4A1 1 0 003 8v7a1 1 0 100 2h14a1 1 0 100-2V8a1 1 0 00.496-1.868l-7-4zM6 9a1 1 0 00-1 1v3a1 1 0 102 0v-3a1 1 0 00-1-1zm3 1a1 1 0 012 0v3a1 1 0 11-2 0v-3zm5-1a1 1 0 00-1 1v3a1 1 0 102 0v-3a1 1 0 00-1-1z",clipRule:"evenodd"}))}const zKn=z.forwardRef(NKn),jKn=zKn;function BKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z"}))}const HKn=z.forwardRef(BKn),UKn=HKn;function VKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"}))}const WKn=z.forwardRef(VKn),GKn=WKn;function qKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"}))}const YKn=z.forwardRef(qKn),KKn=YKn;function XKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"}))}const ZKn=z.forwardRef(XKn),QKn=ZKn;function JKn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"}))}const eXn=z.forwardRef(JKn),tXn=eXn;function nXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"}))}const rXn=z.forwardRef(nXn),iXn=rXn;function aXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 011 1v12a1 1 0 11-2 0V4a1 1 0 011-1zm7.707 3.293a1 1 0 010 1.414L9.414 9H17a1 1 0 110 2H9.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0z",clipRule:"evenodd"}))}const oXn=z.forwardRef(aXn),sXn=oXn;function uXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"}))}const lXn=z.forwardRef(uXn),cXn=lXn;function fXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M2.94 6.412A2 2 0 002 8.108V16a2 2 0 002 2h12a2 2 0 002-2V8.108a2 2 0 00-.94-1.696l-6-3.75a2 2 0 00-2.12 0l-6 3.75zm2.615 2.423a1 1 0 10-1.11 1.664l5 3.333a1 1 0 001.11 0l5-3.333a1 1 0 00-1.11-1.664L10 11.798 5.555 8.835z",clipRule:"evenodd"}))}const dXn=z.forwardRef(fXn),hXn=dXn;function gXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),z.createElement("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}))}const pXn=z.forwardRef(gXn),vXn=pXn;function mXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M12 1.586l-4 4v12.828l4-4V1.586zM3.707 3.293A1 1 0 002 4v10a1 1 0 00.293.707L6 18.414V5.586L3.707 3.293zM17.707 5.293L14 1.586v12.828l2.293 2.293A1 1 0 0018 16V6a1 1 0 00-.293-.707z",clipRule:"evenodd"}))}const yXn=z.forwardRef(mXn),bXn=yXn;function wXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}))}const _Xn=z.forwardRef(wXn),xXn=_Xn;function SXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h6a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}))}const EXn=z.forwardRef(SXn),CXn=EXn;function $Xn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z",clipRule:"evenodd"}))}const kXn=z.forwardRef($Xn),OXn=kXn;function AXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 7a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 13a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}))}const RXn=z.forwardRef(AXn),TXn=RXn;function MXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}))}const PXn=z.forwardRef(MXn),LXn=PXn;function DXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"}))}const IXn=z.forwardRef(DXn),FXn=IXn;function NXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z",clipRule:"evenodd"}))}const zXn=z.forwardRef(NXn),jXn=zXn;function BXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"}))}const HXn=z.forwardRef(BXn),UXn=HXn;function VXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}))}const WXn=z.forwardRef(VXn),GXn=WXn;function qXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"}))}const YXn=z.forwardRef(qXn),KXn=YXn;function XXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v9.114A4.369 4.369 0 005 14c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.37 4.37 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z"}))}const ZXn=z.forwardRef(XXn),QXn=ZXn;function JXn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M2 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 002 2H4a2 2 0 01-2-2V5zm3 1h6v4H5V6zm6 6H5v2h6v-2z",clipRule:"evenodd"}),z.createElement("path",{d:"M15 7h1a2 2 0 012 2v5.5a1.5 1.5 0 01-3 0V7z"}))}const eZn=z.forwardRef(JXn),tZn=eZn;function nZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z",clipRule:"evenodd"}))}const rZn=z.forwardRef(nZn),iZn=rZn;function aZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"}))}const oZn=z.forwardRef(aZn),sZn=oZn;function uZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"}))}const lZn=z.forwardRef(uZn),cZn=lZn;function fZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}))}const dZn=z.forwardRef(fZn),hZn=dZn;function gZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),z.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"}))}const pZn=z.forwardRef(gZn),vZn=pZn;function mZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"}))}const yZn=z.forwardRef(mZn),bZn=yZn;function wZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M14.414 7l3.293-3.293a1 1 0 00-1.414-1.414L13 5.586V4a1 1 0 10-2 0v4.003a.996.996 0 00.617.921A.997.997 0 0012 9h4a1 1 0 100-2h-1.586z"}),z.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}))}const _Zn=z.forwardRef(wZn),xZn=_Zn;function SZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}),z.createElement("path",{d:"M16.707 3.293a1 1 0 010 1.414L15.414 6l1.293 1.293a1 1 0 01-1.414 1.414L14 7.414l-1.293 1.293a1 1 0 11-1.414-1.414L12.586 6l-1.293-1.293a1 1 0 011.414-1.414L14 4.586l1.293-1.293a1 1 0 011.414 0z"}))}const EZn=z.forwardRef(SZn),CZn=EZn;function $Zn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M17.924 2.617a.997.997 0 00-.215-.322l-.004-.004A.997.997 0 0017 2h-4a1 1 0 100 2h1.586l-3.293 3.293a1 1 0 001.414 1.414L16 5.414V7a1 1 0 102 0V3a.997.997 0 00-.076-.383z"}),z.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}))}const kZn=z.forwardRef($Zn),OZn=kZn;function AZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"}))}const RZn=z.forwardRef(AZn),TZn=RZn;function MZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"}))}const PZn=z.forwardRef(MZn),LZn=PZn;function DZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"}))}const IZn=z.forwardRef(DZn),FZn=IZn;function NZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"}))}const zZn=z.forwardRef(NZn),jZn=zZn;function BZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"}))}const HZn=z.forwardRef(BZn),UZn=HZn;function VZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}))}const WZn=z.forwardRef(VZn),GZn=WZn;function qZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11 4a1 1 0 10-2 0v4a1 1 0 102 0V7zm-3 1a1 1 0 10-2 0v3a1 1 0 102 0V8zM8 9a1 1 0 00-2 0v2a1 1 0 102 0V9z",clipRule:"evenodd"}))}const YZn=z.forwardRef(qZn),KZn=YZn;function XZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 0l-2 2a1 1 0 101.414 1.414L8 10.414l1.293 1.293a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))}const ZZn=z.forwardRef(XZn),QZn=ZZn;function JZn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z",clipRule:"evenodd"}))}const eQn=z.forwardRef(JZn),tQn=eQn;function nQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M10 3.5a1.5 1.5 0 013 0V4a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-.5a1.5 1.5 0 000 3h.5a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-.5a1.5 1.5 0 00-3 0v.5a1 1 0 01-1 1H6a1 1 0 01-1-1v-3a1 1 0 00-1-1h-.5a1.5 1.5 0 010-3H4a1 1 0 001-1V6a1 1 0 011-1h3a1 1 0 001-1v-.5z"}))}const rQn=z.forwardRef(nQn),iQn=rQn;function aQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm2 2V5h1v1H5zM3 13a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1H4a1 1 0 01-1-1v-3zm2 2v-1h1v1H5zM13 3a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1V4a1 1 0 00-1-1h-3zm1 2v1h1V5h-1z",clipRule:"evenodd"}),z.createElement("path",{d:"M11 4a1 1 0 10-2 0v1a1 1 0 002 0V4zM10 7a1 1 0 011 1v1h2a1 1 0 110 2h-3a1 1 0 01-1-1V8a1 1 0 011-1zM16 9a1 1 0 100 2 1 1 0 000-2zM9 13a1 1 0 011-1h1a1 1 0 110 2v2a1 1 0 11-2 0v-3zM7 11a1 1 0 100-2H4a1 1 0 100 2h3zM17 13a1 1 0 01-1 1h-2a1 1 0 110-2h2a1 1 0 011 1zM16 17a1 1 0 100-2h-3a1 1 0 100 2h3z"}))}const oQn=z.forwardRef(aQn),sQn=oQn;function uQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))}const lQn=z.forwardRef(uQn),cQn=lQn;function fQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5 2a2 2 0 00-2 2v14l3.5-2 3.5 2 3.5-2 3.5 2V4a2 2 0 00-2-2H5zm4.707 3.707a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L8.414 9H10a3 3 0 013 3v1a1 1 0 102 0v-1a5 5 0 00-5-5H8.414l1.293-1.293z",clipRule:"evenodd"}))}const dQn=z.forwardRef(fQn),hQn=dQn;function gQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5 2a2 2 0 00-2 2v14l3.5-2 3.5 2 3.5-2 3.5 2V4a2 2 0 00-2-2H5zm2.5 3a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm6.207.293a1 1 0 00-1.414 0l-6 6a1 1 0 101.414 1.414l6-6a1 1 0 000-1.414zM12.5 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3z",clipRule:"evenodd"}))}const pQn=z.forwardRef(gQn),vQn=pQn;function mQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}))}const yQn=z.forwardRef(mQn),bQn=yQn;function wQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M7.707 3.293a1 1 0 010 1.414L5.414 7H11a7 7 0 017 7v2a1 1 0 11-2 0v-2a5 5 0 00-5-5H5.414l2.293 2.293a1 1 0 11-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"}))}const _Qn=z.forwardRef(wQn),xQn=_Qn;function SQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M8.445 14.832A1 1 0 0010 14v-2.798l5.445 3.63A1 1 0 0017 14V6a1 1 0 00-1.555-.832L10 8.798V6a1 1 0 00-1.555-.832l-6 4a1 1 0 000 1.664l6 4z"}))}const EQn=z.forwardRef(SQn),CQn=EQn;function $Qn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M5 3a1 1 0 000 2c5.523 0 10 4.477 10 10a1 1 0 102 0C17 8.373 11.627 3 5 3z"}),z.createElement("path",{d:"M4 9a1 1 0 011-1 7 7 0 017 7 1 1 0 11-2 0 5 5 0 00-5-5 1 1 0 01-1-1zM3 15a2 2 0 114 0 2 2 0 01-4 0z"}))}const kQn=z.forwardRef($Qn),OQn=kQn;function AQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M9.707 7.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L13 8.586V5h3a2 2 0 012 2v5a2 2 0 01-2 2H8a2 2 0 01-2-2V7a2 2 0 012-2h3v3.586L9.707 7.293zM11 3a1 1 0 112 0v2h-2V3z"}),z.createElement("path",{d:"M4 9a2 2 0 00-2 2v5a2 2 0 002 2h8a2 2 0 002-2H4V9z"}))}const RQn=z.forwardRef(AQn),TQn=RQn;function MQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M7.707 10.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V6h5a2 2 0 012 2v7a2 2 0 01-2 2H4a2 2 0 01-2-2V8a2 2 0 012-2h5v5.586l-1.293-1.293zM9 4a1 1 0 012 0v2H9V4z"}))}const PQn=z.forwardRef(MQn),LQn=PQn;function DQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.715-5.349L11 6.477V16h2a1 1 0 110 2H7a1 1 0 110-2h2V6.477L6.237 7.582l1.715 5.349a1 1 0 01-.285 1.05A3.989 3.989 0 015 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.738-5.42-1.233-.617a1 1 0 01.894-1.788l1.599.799L9 4.323V3a1 1 0 011-1zm-5 8.274l-.818 2.552c.25.112.526.174.818.174.292 0 .569-.062.818-.174L5 10.274zm10 0l-.818 2.552c.25.112.526.174.818.174.292 0 .569-.062.818-.174L15 10.274z",clipRule:"evenodd"}))}const IQn=z.forwardRef(DQn),FQn=IQn;function NQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5.5 2a3.5 3.5 0 101.665 6.58L8.585 10l-1.42 1.42a3.5 3.5 0 101.414 1.414l8.128-8.127a1 1 0 00-1.414-1.414L10 8.586l-1.42-1.42A3.5 3.5 0 005.5 2zM4 5.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 9a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z",clipRule:"evenodd"}),z.createElement("path",{d:"M12.828 11.414a1 1 0 00-1.414 1.414l3.879 3.88a1 1 0 001.414-1.415l-3.879-3.879z"}))}const zQn=z.forwardRef(NQn),jQn=zQn;function BQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"}))}const HQn=z.forwardRef(BQn),UQn=HQn;function VQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))}const WQn=z.forwardRef(VQn),GQn=WQn;function qQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"}))}const YQn=z.forwardRef(qQn),KQn=YQn;function XQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm14 1a1 1 0 11-2 0 1 1 0 012 0zM2 13a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 01-2 2H4a2 2 0 01-2-2v-2zm14 1a1 1 0 11-2 0 1 1 0 012 0z",clipRule:"evenodd"}))}const ZQn=z.forwardRef(XQn),QQn=ZQn;function JQn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"}))}const eJn=z.forwardRef(JQn),tJn=eJn;function nJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"}))}const rJn=z.forwardRef(nJn),iJn=rJn;function aJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 1.944A11.954 11.954 0 012.166 5C2.056 5.649 2 6.319 2 7c0 5.225 3.34 9.67 8 11.317C14.66 16.67 18 12.225 18 7c0-.682-.057-1.35-.166-2.001A11.954 11.954 0 0110 1.944zM11 14a1 1 0 11-2 0 1 1 0 012 0zm0-7a1 1 0 10-2 0v3a1 1 0 102 0V7z",clipRule:"evenodd"}))}const oJn=z.forwardRef(aJn),sJn=oJn;function uJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zm2 5V6a2 2 0 10-4 0v1h4zm-6 3a1 1 0 112 0 1 1 0 01-2 0zm7-1a1 1 0 100 2 1 1 0 000-2z",clipRule:"evenodd"}))}const lJn=z.forwardRef(uJn),cJn=lJn;function fJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"}))}const dJn=z.forwardRef(fJn),hJn=dJn;function gJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z"}))}const pJn=z.forwardRef(gJn),vJn=pJn;function mJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h7a1 1 0 100-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"}))}const yJn=z.forwardRef(mJn),bJn=yJn;function wJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5 2a1 1 0 011 1v1h1a1 1 0 010 2H6v1a1 1 0 01-2 0V6H3a1 1 0 010-2h1V3a1 1 0 011-1zm0 10a1 1 0 011 1v1h1a1 1 0 110 2H6v1a1 1 0 11-2 0v-1H3a1 1 0 110-2h1v-1a1 1 0 011-1zM12 2a1 1 0 01.967.744L14.146 7.2 17.5 9.134a1 1 0 010 1.732l-3.354 1.935-1.18 4.455a1 1 0 01-1.933 0L9.854 12.8 6.5 10.866a1 1 0 010-1.732l3.354-1.935 1.18-4.455A1 1 0 0112 2z",clipRule:"evenodd"}))}const _Jn=z.forwardRef(wJn),xJn=_Jn;function SJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M18 3a1 1 0 00-1.447-.894L8.763 6H5a3 3 0 000 6h.28l1.771 5.316A1 1 0 008 18h1a1 1 0 001-1v-4.382l6.553 3.276A1 1 0 0018 15V3z",clipRule:"evenodd"}))}const EJn=z.forwardRef(SJn),CJn=EJn;function $Jn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}))}const kJn=z.forwardRef($Jn),OJn=kJn;function AJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M3.707 2.293a1 1 0 00-1.414 1.414l6.921 6.922c.05.062.105.118.168.167l6.91 6.911a1 1 0 001.415-1.414l-.675-.675a9.001 9.001 0 00-.668-11.982A1 1 0 1014.95 5.05a7.002 7.002 0 01.657 9.143l-1.435-1.435a5.002 5.002 0 00-.636-6.294A1 1 0 0012.12 7.88c.924.923 1.12 2.3.587 3.415l-1.992-1.992a.922.922 0 00-.018-.018l-6.99-6.991zM3.238 8.187a1 1 0 00-1.933-.516c-.8 3-.025 6.336 2.331 8.693a1 1 0 001.414-1.415 6.997 6.997 0 01-1.812-6.762zM7.4 11.5a1 1 0 10-1.73 1c.214.371.48.72.795 1.035a1 1 0 001.414-1.414c-.191-.191-.35-.4-.478-.622z"}))}const RJn=z.forwardRef(AJn),TJn=RJn;function MJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5.05 3.636a1 1 0 010 1.414 7 7 0 000 9.9 1 1 0 11-1.414 1.414 9 9 0 010-12.728 1 1 0 011.414 0zm9.9 0a1 1 0 011.414 0 9 9 0 010 12.728 1 1 0 11-1.414-1.414 7 7 0 000-9.9 1 1 0 010-1.414zM7.879 6.464a1 1 0 010 1.414 3 3 0 000 4.243 1 1 0 11-1.415 1.414 5 5 0 010-7.07 1 1 0 011.415 0zm4.242 0a1 1 0 011.415 0 5 5 0 010 7.072 1 1 0 01-1.415-1.415 3 3 0 000-4.242 1 1 0 010-1.415zM10 9a1 1 0 011 1v.01a1 1 0 11-2 0V10a1 1 0 011-1z",clipRule:"evenodd"}))}const PJn=z.forwardRef(MJn),LJn=PJn;function DJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"}))}const IJn=z.forwardRef(DJn),FJn=IJn;function NJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"}))}const zJn=z.forwardRef(NJn),jJn=zJn;function BJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-2 0c0 .993-.241 1.929-.668 2.754l-1.524-1.525a3.997 3.997 0 00.078-2.183l1.562-1.562C15.802 8.249 16 9.1 16 10zm-5.165 3.913l1.58 1.58A5.98 5.98 0 0110 16a5.976 5.976 0 01-2.516-.552l1.562-1.562a4.006 4.006 0 001.789.027zm-4.677-2.796a4.002 4.002 0 01-.041-2.08l-.08.08-1.53-1.533A5.98 5.98 0 004 10c0 .954.223 1.856.619 2.657l1.54-1.54zm1.088-6.45A5.974 5.974 0 0110 4c.954 0 1.856.223 2.657.619l-1.54 1.54a4.002 4.002 0 00-2.346.033L7.246 4.668zM12 10a2 2 0 11-4 0 2 2 0 014 0z",clipRule:"evenodd"}))}const HJn=z.forwardRef(BJn),UJn=HJn;function VJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M8 5a1 1 0 100 2h5.586l-1.293 1.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L13.586 5H8zM12 15a1 1 0 100-2H6.414l1.293-1.293a1 1 0 10-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L6.414 15H12z"}))}const WJn=z.forwardRef(VJn),GJn=WJn;function qJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M5 12a1 1 0 102 0V6.414l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L5 6.414V12zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"}))}const YJn=z.forwardRef(qJn),KJn=YJn;function XJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M5 4a3 3 0 00-3 3v6a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3H5zm-1 9v-1h5v2H5a1 1 0 01-1-1zm7 1h4a1 1 0 001-1v-1h-5v2zm0-4h5V8h-5v2zM9 8H4v2h5V8z",clipRule:"evenodd"}))}const ZJn=z.forwardRef(XJn),QJn=ZJn;function JJn(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}))}const eer=z.forwardRef(JJn),ter=eer;function ner(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"}))}const rer=z.forwardRef(ner),ier=rer;function aer(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M2 5a2 2 0 012-2h12a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V5zm3.293 1.293a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L7.586 10 5.293 7.707a1 1 0 010-1.414zM11 12a1 1 0 100 2h3a1 1 0 100-2h-3z",clipRule:"evenodd"}))}const oer=z.forwardRef(aer),ser=oer;function uer(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.105-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"}))}const ler=z.forwardRef(uer),cer=ler;function fer(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"}))}const der=z.forwardRef(fer),her=der;function ger(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M2 6a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 100 4v2a2 2 0 01-2 2H4a2 2 0 01-2-2v-2a2 2 0 100-4V6z"}))}const per=z.forwardRef(ger),ver=per;function mer(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M7 2a1 1 0 011 1v1h3a1 1 0 110 2H9.578a18.87 18.87 0 01-1.724 4.78c.29.354.596.696.914 1.026a1 1 0 11-1.44 1.389c-.188-.196-.373-.396-.554-.6a19.098 19.098 0 01-3.107 3.567 1 1 0 01-1.334-1.49 17.087 17.087 0 003.13-3.733 18.992 18.992 0 01-1.487-2.494 1 1 0 111.79-.89c.234.47.489.928.764 1.372.417-.934.752-1.913.997-2.927H3a1 1 0 110-2h3V3a1 1 0 011-1zm6 6a1 1 0 01.894.553l2.991 5.982a.869.869 0 01.02.037l.99 1.98a1 1 0 11-1.79.895L15.383 16h-4.764l-.724 1.447a1 1 0 11-1.788-.894l.99-1.98.019-.038 2.99-5.982A1 1 0 0113 8zm-1.382 6h2.764L13 11.236 11.618 14z",clipRule:"evenodd"}))}const yer=z.forwardRef(mer),ber=yer;function wer(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}))}const _er=z.forwardRef(wer),xer=_er;function Ser(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M12 13a1 1 0 100 2h5a1 1 0 001-1V9a1 1 0 10-2 0v2.586l-4.293-4.293a1 1 0 00-1.414 0L8 9.586 3.707 5.293a1 1 0 00-1.414 1.414l5 5a1 1 0 001.414 0L11 9.414 14.586 13H12z",clipRule:"evenodd"}))}const Eer=z.forwardRef(Ser),Cer=Eer;function $er(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M12 7a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0V8.414l-4.293 4.293a1 1 0 01-1.414 0L8 10.414l-4.293 4.293a1 1 0 01-1.414-1.414l5-5a1 1 0 011.414 0L11 10.586 14.586 7H12z",clipRule:"evenodd"}))}const ker=z.forwardRef($er),Oer=ker;function Aer(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),z.createElement("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1v-5a1 1 0 00-.293-.707l-2-2A1 1 0 0015 7h-1z"}))}const Rer=z.forwardRef(Aer),Ter=Rer;function Mer(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z",clipRule:"evenodd"}))}const Per=z.forwardRef(Mer),Ler=Per;function Der(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"}))}const Ier=z.forwardRef(Der),Fer=Ier;function Ner(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"}))}const zer=z.forwardRef(Ner),jer=zer;function Ber(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"}))}const Her=z.forwardRef(Ber),Uer=Her;function Ver(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M11 6a3 3 0 11-6 0 3 3 0 016 0zM14 17a6 6 0 00-12 0h12zM13 8a1 1 0 100 2h4a1 1 0 100-2h-4z"}))}const Wer=z.forwardRef(Ver),Ger=Wer;function qer(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"}))}const Yer=z.forwardRef(qer),Ker=Yer;function Xer(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}))}const Zer=z.forwardRef(Xer),Qer=Zer;function Jer(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4.649 3.084A1 1 0 015.163 4.4 13.95 13.95 0 004 10c0 1.993.416 3.886 1.164 5.6a1 1 0 01-1.832.8A15.95 15.95 0 012 10c0-2.274.475-4.44 1.332-6.4a1 1 0 011.317-.516zM12.96 7a3 3 0 00-2.342 1.126l-.328.41-.111-.279A2 2 0 008.323 7H8a1 1 0 000 2h.323l.532 1.33-1.035 1.295a1 1 0 01-.781.375H7a1 1 0 100 2h.039a3 3 0 002.342-1.126l.328-.41.111.279A2 2 0 0011.677 14H12a1 1 0 100-2h-.323l-.532-1.33 1.035-1.295A1 1 0 0112.961 9H13a1 1 0 100-2h-.039zm1.874-2.6a1 1 0 011.833-.8A15.95 15.95 0 0118 10c0 2.274-.475 4.44-1.332 6.4a1 1 0 11-1.832-.8A13.949 13.949 0 0016 10c0-1.993-.416-3.886-1.165-5.6z",clipRule:"evenodd"}))}const etr=z.forwardRef(Jer),ttr=etr;function ntr(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"}))}const rtr=z.forwardRef(ntr),itr=rtr;function atr(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M2 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1H3a1 1 0 01-1-1V4zM8 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1H9a1 1 0 01-1-1V4zM15 3a1 1 0 00-1 1v12a1 1 0 001 1h2a1 1 0 001-1V4a1 1 0 00-1-1h-2z"}))}const otr=z.forwardRef(atr),str=otr;function utr(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM14 11a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z"}))}const ltr=z.forwardRef(utr),ctr=ltr;function ftr(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"}))}const dtr=z.forwardRef(ftr),htr=dtr;function gtr(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}))}const ptr=z.forwardRef(gtr),vtr=ptr;function mtr(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z",clipRule:"evenodd"}))}const ytr=z.forwardRef(mtr),btr=ytr;function wtr(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"}))}const _tr=z.forwardRef(wtr),xtr=_tr;function Str(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M17.778 8.222c-4.296-4.296-11.26-4.296-15.556 0A1 1 0 01.808 6.808c5.076-5.077 13.308-5.077 18.384 0a1 1 0 01-1.414 1.414zM14.95 11.05a7 7 0 00-9.9 0 1 1 0 01-1.414-1.414 9 9 0 0112.728 0 1 1 0 01-1.414 1.414zM12.12 13.88a3 3 0 00-4.242 0 1 1 0 01-1.415-1.415 5 5 0 017.072 0 1 1 0 01-1.415 1.415zM9 16a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1z",clipRule:"evenodd"}))}const Etr=z.forwardRef(Str),Ctr=Etr;function $tr(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))}const ktr=z.forwardRef($tr),Otr=ktr;function Atr(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))}const Rtr=z.forwardRef(Atr),Ttr=Rtr;function Mtr(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{d:"M5 8a1 1 0 011-1h1V6a1 1 0 012 0v1h1a1 1 0 110 2H9v1a1 1 0 11-2 0V9H6a1 1 0 01-1-1z"}),z.createElement("path",{fillRule:"evenodd",d:"M2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8zm6-4a4 4 0 100 8 4 4 0 000-8z",clipRule:"evenodd"}))}const Ptr=z.forwardRef(Mtr),Ltr=Ptr;function Dtr(e,t){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),z.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}),z.createElement("path",{fillRule:"evenodd",d:"M5 8a1 1 0 011-1h4a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"}))}const Itr=z.forwardRef(Dtr),Ftr=Itr,Ntr=Object.freeze(Object.defineProperty({__proto__:null,AcademicCapIcon:QHn,AdjustmentsIcon:tUn,AnnotationIcon:iUn,ArchiveIcon:sUn,ArrowCircleDownIcon:cUn,ArrowCircleLeftIcon:hUn,ArrowCircleRightIcon:vUn,ArrowCircleUpIcon:bUn,ArrowDownIcon:xUn,ArrowLeftIcon:CUn,ArrowNarrowDownIcon:OUn,ArrowNarrowLeftIcon:TUn,ArrowNarrowRightIcon:LUn,ArrowNarrowUpIcon:FUn,ArrowRightIcon:jUn,ArrowSmDownIcon:UUn,ArrowSmLeftIcon:GUn,ArrowSmRightIcon:KUn,ArrowSmUpIcon:QUn,ArrowUpIcon:tVn,ArrowsExpandIcon:iVn,AtSymbolIcon:sVn,BackspaceIcon:cVn,BadgeCheckIcon:hVn,BanIcon:vVn,BeakerIcon:bVn,BellIcon:xVn,BookOpenIcon:CVn,BookmarkAltIcon:OVn,BookmarkIcon:TVn,BriefcaseIcon:LVn,CakeIcon:FVn,CalculatorIcon:jVn,CalendarIcon:UVn,CameraIcon:GVn,CashIcon:KVn,ChartBarIcon:QVn,ChartPieIcon:tWn,ChartSquareBarIcon:iWn,ChatAlt2Icon:sWn,ChatAltIcon:cWn,ChatIcon:hWn,CheckCircleIcon:vWn,CheckIcon:bWn,ChevronDoubleDownIcon:xWn,ChevronDoubleLeftIcon:CWn,ChevronDoubleRightIcon:OWn,ChevronDoubleUpIcon:TWn,ChevronDownIcon:LWn,ChevronLeftIcon:FWn,ChevronRightIcon:jWn,ChevronUpIcon:UWn,ChipIcon:GWn,ClipboardCheckIcon:KWn,ClipboardCopyIcon:QWn,ClipboardIcon:iGn,ClipboardListIcon:tGn,ClockIcon:sGn,CloudDownloadIcon:cGn,CloudIcon:vGn,CloudUploadIcon:hGn,CodeIcon:bGn,CogIcon:xGn,CollectionIcon:CGn,ColorSwatchIcon:OGn,CreditCardIcon:TGn,CubeIcon:FGn,CubeTransparentIcon:LGn,CurrencyBangladeshiIcon:jGn,CurrencyDollarIcon:UGn,CurrencyEuroIcon:GGn,CurrencyPoundIcon:KGn,CurrencyRupeeIcon:QGn,CurrencyYenIcon:tqn,CursorClickIcon:iqn,DatabaseIcon:sqn,DesktopComputerIcon:cqn,DeviceMobileIcon:hqn,DeviceTabletIcon:vqn,DocumentAddIcon:bqn,DocumentDownloadIcon:xqn,DocumentDuplicateIcon:Cqn,DocumentIcon:jqn,DocumentRemoveIcon:Oqn,DocumentReportIcon:Tqn,DocumentSearchIcon:Lqn,DocumentTextIcon:Fqn,DotsCircleHorizontalIcon:Uqn,DotsHorizontalIcon:Gqn,DotsVerticalIcon:Kqn,DownloadIcon:Qqn,DuplicateIcon:tYn,EmojiHappyIcon:iYn,EmojiSadIcon:sYn,ExclamationCircleIcon:cYn,ExclamationIcon:hYn,ExternalLinkIcon:vYn,EyeIcon:xYn,EyeOffIcon:bYn,FastForwardIcon:CYn,FilmIcon:OYn,FilterIcon:TYn,FingerPrintIcon:LYn,FireIcon:FYn,FlagIcon:jYn,FolderAddIcon:UYn,FolderDownloadIcon:GYn,FolderIcon:tKn,FolderOpenIcon:KYn,FolderRemoveIcon:QYn,GiftIcon:iKn,GlobeAltIcon:sKn,GlobeIcon:cKn,HandIcon:hKn,HashtagIcon:vKn,HeartIcon:bKn,HomeIcon:xKn,IdentificationIcon:CKn,InboxIcon:TKn,InboxInIcon:OKn,InformationCircleIcon:LKn,KeyIcon:FKn,LibraryIcon:jKn,LightBulbIcon:UKn,LightningBoltIcon:GKn,LinkIcon:KKn,LocationMarkerIcon:QKn,LockClosedIcon:tXn,LockOpenIcon:iXn,LoginIcon:sXn,LogoutIcon:cXn,MailIcon:vXn,MailOpenIcon:hXn,MapIcon:bXn,MenuAlt1Icon:xXn,MenuAlt2Icon:CXn,MenuAlt3Icon:OXn,MenuAlt4Icon:TXn,MenuIcon:LXn,MicrophoneIcon:FXn,MinusCircleIcon:jXn,MinusIcon:GXn,MinusSmIcon:UXn,MoonIcon:KXn,MusicNoteIcon:QXn,NewspaperIcon:tZn,OfficeBuildingIcon:iZn,PaperAirplaneIcon:sZn,PaperClipIcon:cZn,PauseIcon:hZn,PencilAltIcon:vZn,PencilIcon:bZn,PhoneIcon:TZn,PhoneIncomingIcon:xZn,PhoneMissedCallIcon:CZn,PhoneOutgoingIcon:OZn,PhotographIcon:LZn,PlayIcon:FZn,PlusCircleIcon:jZn,PlusIcon:GZn,PlusSmIcon:UZn,PresentationChartBarIcon:KZn,PresentationChartLineIcon:QZn,PrinterIcon:tQn,PuzzleIcon:iQn,QrcodeIcon:sQn,QuestionMarkCircleIcon:cQn,ReceiptRefundIcon:hQn,ReceiptTaxIcon:vQn,RefreshIcon:bQn,ReplyIcon:xQn,RewindIcon:CQn,RssIcon:OQn,SaveAsIcon:TQn,SaveIcon:LQn,ScaleIcon:FQn,ScissorsIcon:jQn,SearchCircleIcon:UQn,SearchIcon:GQn,SelectorIcon:KQn,ServerIcon:QQn,ShareIcon:tJn,ShieldCheckIcon:iJn,ShieldExclamationIcon:sJn,ShoppingBagIcon:cJn,ShoppingCartIcon:hJn,SortAscendingIcon:vJn,SortDescendingIcon:bJn,SparklesIcon:xJn,SpeakerphoneIcon:CJn,StarIcon:OJn,StatusOfflineIcon:TJn,StatusOnlineIcon:LJn,StopIcon:FJn,SunIcon:jJn,SupportIcon:UJn,SwitchHorizontalIcon:GJn,SwitchVerticalIcon:KJn,TableIcon:QJn,TagIcon:ter,TemplateIcon:ier,TerminalIcon:ser,ThumbDownIcon:cer,ThumbUpIcon:her,TicketIcon:ver,TranslateIcon:ber,TrashIcon:xer,TrendingDownIcon:Cer,TrendingUpIcon:Oer,TruckIcon:Ter,UploadIcon:Ler,UserAddIcon:Fer,UserCircleIcon:jer,UserGroupIcon:Uer,UserIcon:Ker,UserRemoveIcon:Ger,UsersIcon:Qer,VariableIcon:ttr,VideoCameraIcon:itr,ViewBoardsIcon:str,ViewGridAddIcon:ctr,ViewGridIcon:htr,ViewListIcon:vtr,VolumeOffIcon:btr,VolumeUpIcon:xtr,WifiIcon:Ctr,XCircleIcon:Otr,XIcon:Ttr,ZoomInIcon:Ltr,ZoomOutIcon:Ftr},Symbol.toStringTag,{value:"Module"})),ML=A_(Ntr);function i2t(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i2t(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function jQe(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i2t(e))&&(r&&(r+=" "),r+=t);return r}const ztr=Object.freeze(Object.defineProperty({__proto__:null,clsx:jQe,default:jQe},Symbol.toStringTag,{value:"Module"})),kT=A_(ztr);(function(e){var t=$e&&$e.__assign||function(){return t=Object.assign||function(v){for(var m,y=1,w=arguments.length;y<w;y++){m=arguments[y];for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(v[_]=m[_])}return v},t.apply(this,arguments)},n=$e&&$e.__createBinding||(Object.create?function(v,m,y,w){w===void 0&&(w=y);var _=Object.getOwnPropertyDescriptor(m,y);(!_||("get"in _?!m.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(v,w,_)}:function(v,m,y,w){w===void 0&&(w=y),v[w]=m[y]}),r=$e&&$e.__setModuleDefault||(Object.create?function(v,m){Object.defineProperty(v,"default",{enumerable:!0,value:m})}:function(v,m){v.default=m}),i=$e&&$e.__importStar||function(v){if(v&&v.__esModule)return v;var m={};if(v!=null)for(var y in v)y!=="default"&&Object.prototype.hasOwnProperty.call(v,y)&&n(m,v,y);return r(m,v),m},a=$e&&$e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};e.__esModule=!0,e.SuccessAlert=e.MessageAlert=e.ErrorAlert=e.Alert=void 0;var s=i(z),u=ML,f=a(kT),d=function(v){var m=v.heading,y=m===void 0?"Error":m,w=v.backgroundColor,_=v.headingColor,S=v.bodyColor,C=v.icon,$=v.iconColor,k=v.children;return s.createElement("div",{className:(0,f.default)("rounded-md p-4",w),role:"status"},s.createElement("div",{className:"flex"},s.createElement(C,{className:(0,f.default)("h-5 w-5 flex-shrink-0",$),"aria-hidden":"true"}),s.createElement("div",{className:"ml-3 grow"},s.createElement("header",{className:(0,f.default)("text-sm font-medium",_)},y),k&&s.Children.count(k)?s.createElement("div",{className:(0,f.default)("mt-2 text-sm",S)},k):null)))};e.Alert=d;var c=function(v){return s.createElement(e.Alert,t({},v,{backgroundColor:"bg-red-100",headingColor:"text-red-800",bodyColor:"text-red-700",icon:u.XCircleIcon,iconColor:"text-red-400"}))};e.ErrorAlert=c;var h=function(v){return s.createElement(e.Alert,t({},v,{backgroundColor:"bg-slate-100",headingColor:"text-slate-700",bodyColor:"text-slate-700",icon:u.InformationCircleIcon,iconColor:"text-slate-400"}))};e.MessageAlert=h;var p=function(v){return s.createElement(e.Alert,t({},v,{backgroundColor:"bg-green-50",headingColor:"text-green-800",bodyColor:"text-green-700",icon:u.CheckCircleIcon,iconColor:"text-green-400"}))};e.SuccessAlert=p})(TL);var jtr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return z.useMemo(function(){return e.apply(void 0,t)},t)}};const Btr=jtr;var Htr=function(e,t){var n=z.createContext(void 0),r=function(s,u){return z.createElement(n.Provider,s,u)},i=function(s){var u=s.children,f=s.initialState,d=z.useReducer(e,f!==void 0?f:t);return r({value:d},u)},a=function(){var s=z.useContext(n);if(s==null)throw new Error("useReducerContext must be used inside a ReducerProvider.");return s};return[a,i,n]};const Utr=Htr;function dce(){var e=z.useRef(!0);return e.current?(e.current=!1,!0):e.current}var Vtr=function(e,t){var n=dce();z.useEffect(function(){if(!n)return e()},t)};const Pq=Vtr;function Wtr(e){return function(t,n){return e.reduceRight(function(r,i){return i(t)(r)},n)}}var Gtr=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Wtr(e);return function(r,i,a){a===void 0&&(a=function(h){return h});var s=z.useRef(a(i)),u=z.useState(s.current),f=u[1],d=z.useCallback(function(h){return s.current=r(s.current,h),f(s.current),h},[r]),c=z.useRef(n({getState:function(){return s.current},dispatch:function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return c.current.apply(c,h)}},d));return Pq(function(){c.current=n({getState:function(){return s.current},dispatch:function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return c.current.apply(c,h)}},d)},[d]),[s.current,c.current]}};const qtr=Gtr;var Ytr=function(e){var t=z.createContext(void 0),n=function(a,s){return z.createElement(t.Provider,a,s)},r=function(a){var s=a.children,u=a.initialValue,f=z.useState(u!==void 0?u:e);return n({value:f},s)},i=function(){var a=z.useContext(t);if(a==null)throw new Error("useStateContext must be used inside a StateProvider.");return a};return[i,r,t]};const Ktr=Ytr;function PL(){var e=z.useRef(!1),t=z.useCallback(function(){return e.current},[]);return z.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),t}function a2t(e,t,n){t===void 0&&(t=[]),n===void 0&&(n={loading:!1});var r=z.useRef(0),i=PL(),a=z.useState(n),s=a[0],u=a[1],f=z.useCallback(function(){for(var d=[],c=0;c<arguments.length;c++)d[c]=arguments[c];var h=++r.current;return s.loading||u(function(p){return wo(wo({},p),{loading:!0})}),e.apply(void 0,d).then(function(p){return i()&&h===r.current&&u({value:p,loading:!1}),p},function(p){return i()&&h===r.current&&u({error:p,loading:!1}),p})},t);return[s,f]}function o2t(e,t){t===void 0&&(t=[]);var n=a2t(e,t,{loading:!0}),r=n[0],i=n[1];return z.useEffect(function(){i()},[i]),r}var Xtr=function(e,t){t===void 0&&(t=[]);var n=z.useState(0),r=n[0],i=n[1],a=o2t(e,w_(t,[r])),s=a.loading,u=z.useCallback(function(){s||i(function(f){return f+1})},w_(t,[s]));return wo(wo({},a),{retry:u})};const Ztr=Xtr;var Qtr=function(e){e===void 0&&(e={});var t=z.useState(e),n=t[0],r=t[1],i=z.useCallback(function(a){r(function(s){return Object.assign({},s,a instanceof Function?a(s):a)})},[]);return[n,i]};const hce=Qtr;function BQe(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function s2t(e){return function(t){var n,r;z.isValidElement(t)?(n=t,r=n.props):r=t;var i=hce({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1,playing:!1}),a=i[0],s=i[1],u=z.useRef(null),f=function(C,$){return function(k){try{$&&$(k)}finally{C&&C(k)}}},d=function(){return s({paused:!1})},c=function(){return s({playing:!0})},h=function(){return s({playing:!1})},p=function(){return s({paused:!0,playing:!1})},v=function(){var C=u.current;C&&s({muted:C.muted,volume:C.volume})},m=function(){var C=u.current;if(C){var $=C.duration,k=C.buffered;s({duration:$,buffered:BQe(k)})}},y=function(){var C=u.current;C&&s({time:C.currentTime})},w=function(){var C=u.current;C&&s({buffered:BQe(C.buffered)})};n?n=z.cloneElement(n,wo(wo({controls:!1},r),{ref:u,onPlay:f(r.onPlay,d),onPlaying:f(r.onPlaying,c),onWaiting:f(r.onWaiting,h),onPause:f(r.onPause,p),onVolumeChange:f(r.onVolumeChange,v),onDurationChange:f(r.onDurationChange,m),onTimeUpdate:f(r.onTimeUpdate,y),onProgress:f(r.onProgress,w)})):n=z.createElement(e,wo(wo({controls:!1},r),{ref:u,onPlay:f(r.onPlay,d),onPlaying:f(r.onPlaying,c),onWaiting:f(r.onWaiting,h),onPause:f(r.onPause,p),onVolumeChange:f(r.onVolumeChange,v),onDurationChange:f(r.onDurationChange,m),onTimeUpdate:f(r.onTimeUpdate,y),onProgress:f(r.onProgress,w)}));var _=!1,S={play:function(){var C=u.current;if(C&&!_){var $=C.play(),k=typeof $=="object";if(k){_=!0;var M=function(){_=!1};$.then(M,M)}return $}},pause:function(){var C=u.current;if(C&&!_)return C.pause()},seek:function(C){var $=u.current;!$||a.duration===void 0||(C=Math.min(a.duration,Math.max(0,C)),$.currentTime=C)},volume:function(C){var $=u.current;$&&(C=Math.min(1,Math.max(0,C)),$.volume=C,s({volume:C}))},mute:function(){var C=u.current;C&&(C.muted=!0)},unmute:function(){var C=u.current;C&&(C.muted=!1)}};return z.useEffect(function(){var C=u.current;C&&(s({volume:C.volume,muted:C.muted,paused:C.paused}),r.autoPlay&&C.paused&&S.play())},[r.src]),[n,a,S,u]}}var Jtr=s2t("audio");const enr=Jtr;var mf=function(){};function Pi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function yi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var jh=typeof window<"u",gce=typeof navigator<"u",tnr=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var s=a[i];if(!(s==="_owner"&&t.$$typeof)&&!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const u2t=tnr;var CEe=gce?navigator:void 0,nnr=CEe&&typeof CEe.getBattery=="function";function rnr(){return{isSupported:!1}}function inr(){var e=z.useState({isSupported:!0,fetched:!1}),t=e[0],n=e[1];return z.useEffect(function(){var r=!0,i=null,a=function(){if(!(!r||!i)){var s={isSupported:!0,fetched:!0,level:i.level,charging:i.charging,dischargingTime:i.dischargingTime,chargingTime:i.chargingTime};!u2t(t,s)&&n(s)}};return CEe.getBattery().then(function(s){r&&(i=s,Pi(i,"chargingchange",a),Pi(i,"chargingtimechange",a),Pi(i,"dischargingtimechange",a),Pi(i,"levelchange",a),a())}),function(){r=!1,i&&(yi(i,"chargingchange",a),yi(i,"chargingtimechange",a),yi(i,"dischargingtimechange",a),yi(i,"levelchange",a))}},[]),t}const anr=nnr?inr:rnr;var onr=function(e,t){e===void 0&&(e=!0);var n=z.useCallback(function(r){var i=typeof e=="function"?e():!0;if(i)return r.preventDefault(),t&&(r.returnValue=t),t},[e,t]);z.useEffect(function(){if(e)return Pi(window,"beforeunload",n),function(){return yi(window,"beforeunload",n)}},[e,n])};const snr=onr;var unr=function(e,t){return typeof t=="boolean"?t:!e},lnr=function(e){return z.useReducer(unr,e)};const HQe=lnr;var cnr=["mousedown","touchstart"],fnr=function(e,t,n){n===void 0&&(n=cnr);var r=z.useRef(t);z.useEffect(function(){r.current=t},[t]),z.useEffect(function(){for(var i=function(f){var d=e.current;d&&!d.contains(f.target)&&r.current(f)},a=0,s=n;a<s.length;a++){var u=s[a];Pi(document,u,i)}return function(){for(var f=0,d=n;f<d.length;f++){var c=d[f];yi(document,c,i)}}},[n,e])};const dnr=fnr;var $Ee={},hnr={get exports(){return $Ee},set exports(e){$Ee=e}};/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(e,t){(function(n){var r;if(e.exports=n(),r=!0,!r){var i=window.Cookies,a=window.Cookies=n();a.noConflict=function(){return window.Cookies=i,a}}})(function(){function n(){for(var a=0,s={};a<arguments.length;a++){var u=arguments[a];for(var f in u)s[f]=u[f]}return s}function r(a){return a.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(a){function s(){}function u(d,c,h){if(!(typeof document>"u")){h=n({path:"/"},s.defaults,h),typeof h.expires=="number"&&(h.expires=new Date(new Date*1+h.expires*864e5)),h.expires=h.expires?h.expires.toUTCString():"";try{var p=JSON.stringify(c);/^[\{\[]/.test(p)&&(c=p)}catch{}c=a.write?a.write(c,d):encodeURIComponent(String(c)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),d=encodeURIComponent(String(d)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var v="";for(var m in h)h[m]&&(v+="; "+m,h[m]!==!0&&(v+="="+h[m].split(";")[0]));return document.cookie=d+"="+c+v}}function f(d,c){if(!(typeof document>"u")){for(var h={},p=document.cookie?document.cookie.split("; "):[],v=0;v<p.length;v++){var m=p[v].split("="),y=m.slice(1).join("=");!c&&y.charAt(0)==='"'&&(y=y.slice(1,-1));try{var w=r(m[0]);if(y=(a.read||a)(y,w)||r(y),c)try{y=JSON.parse(y)}catch{}if(h[w]=y,d===w)break}catch{}}return d?h[d]:h}}return s.set=u,s.get=function(d){return f(d,!1)},s.getJSON=function(d){return f(d,!0)},s.remove=function(d,c){u(d,"",n(c,{expires:-1}))},s.defaults={},s.withConverter=i,s}return i(function(){})})})(hnr);const sbe=$Ee;var gnr=function(e){var t=z.useState(function(){return sbe.get(e)||null}),n=t[0],r=t[1],i=z.useCallback(function(s,u){sbe.set(e,s,u),r(s)},[e]),a=z.useCallback(function(){sbe.remove(e),r(null)},[e]);return[n,i,a]};const pnr=gnr;var vnr=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}},mnr=vnr,UQe={"text/plain":"Text","text/html":"Url",default:"Text"},ynr="Copy to clipboard: #{key}, Enter";function bnr(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function wnr(e,t){var n,r,i,a,s,u,f=!1;t||(t={}),n=t.debug||!1;try{i=mnr(),a=document.createRange(),s=document.getSelection(),u=document.createElement("span"),u.textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(c){if(c.stopPropagation(),t.format)if(c.preventDefault(),typeof c.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=UQe[t.format]||UQe.default;window.clipboardData.setData(h,e)}else c.clipboardData.clearData(),c.clipboardData.setData(t.format,e);t.onCopy&&(c.preventDefault(),t.onCopy(c.clipboardData))}),document.body.appendChild(u),a.selectNodeContents(u),s.addRange(a);var d=document.execCommand("copy");if(!d)throw new Error("copy command was unsuccessful");f=!0}catch(c){n&&console.error("unable to copy using execCommand: ",c),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),f=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),r=bnr("message"in t?t.message:ynr),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(a):s.removeAllRanges()),u&&document.body.removeChild(u),i()}return f}var _nr=wnr,xnr=function(){var e=PL(),t=hce({value:void 0,error:void 0,noUserInteraction:!0}),n=t[0],r=t[1],i=z.useCallback(function(a){if(e()){var s,u;try{if(typeof a!="string"&&typeof a!="number"){var f=new Error("Cannot copy typeof "+typeof a+" to clipboard, must be a string");r({value:a,error:f,noUserInteraction:!0});return}else if(a===""){var f=new Error("Cannot copy empty string to clipboard.");r({value:a,error:f,noUserInteraction:!0});return}u=a.toString(),s=_nr(u),r({value:u,error:void 0,noUserInteraction:s})}catch(d){r({value:u,error:d,noUserInteraction:s})}}},[]);return[n,i]};const Snr=xnr;var Enr=function(e){return(e+1)%1e6};function M7(){var e=z.useReducer(Enr,0),t=e[1];return t}function Pb(e,t){return typeof e=="function"?e.length?e(t):e():e}function l2t(e){var t=z.useRef(Pb(e)),n=M7();return z.useMemo(function(){return[function(){return t.current},function(r){t.current=Pb(r,t.current),n()}]},[])}function VQe(e,t,n){e===void 0&&(e=0),t===void 0&&(t=null),n===void 0&&(n=null);var r=Pb(e);typeof r!="number"&&console.error("initialValue has to be a number, got "+typeof e),typeof n=="number"?r=Math.max(r,n):n!==null&&console.error("min has to be a number, got "+typeof n),typeof t=="number"?r=Math.min(r,t):t!==null&&console.error("max has to be a number, got "+typeof t);var i=l2t(r),a=i[0],s=i[1];return[a(),z.useMemo(function(){var u=function(f){var d=a(),c=Pb(f,d);d!==c&&(typeof n=="number"&&(c=Math.max(c,n)),typeof t=="number"&&(c=Math.min(c,t)),d!==c&&s(c))};return{get:a,set:u,inc:function(f){f===void 0&&(f=1);var d=Pb(f,a());typeof d!="number"&&console.error("delta has to be a number or function returning a number, got "+typeof d),u(function(c){return c+d})},dec:function(f){f===void 0&&(f=1);var d=Pb(f,a());typeof d!="number"&&console.error("delta has to be a number or function returning a number, got "+typeof d),u(function(c){return c-d})},reset:function(f){f===void 0&&(f=r);var d=Pb(f,a());typeof d!="number"&&console.error("value has to be a number or function returning a number, got "+typeof d),r=d,u(d)}}},[r,n,t])]}var Cnr=/[A-Z]/g,$nr=function(e){for(var t=5381,n=e.length;n;)t=t*33^e.charCodeAt(--n);return"_"+(t>>>0).toString(36)},knr=function(e){e=e||{};var t=e.assign||Object.assign,n=typeof window=="object",r=t({raw:"",pfx:"_",client:n,assign:t,stringify:JSON.stringify,kebab:function(i){return i.replace(Cnr,"-$&").toLowerCase()},decl:function(i,a){return i=r.kebab(i),i+":"+a+";"},hash:function(i){return $nr(r.stringify(i))},selector:function(i,a){return i+(a[0]===":"?"":" ")+a},putRaw:function(i){r.raw+=i}},e);return r.client&&(r.sh||document.head.appendChild(r.sh=document.createElement("style")),r.putRaw=function(i){{var a=r.sh.sheet;try{a.insertRule(i,a.cssRules.length)}catch{}}}),r.put=function(i,a,s){var u="",f,d,c=[];for(f in a)d=a[f],d instanceof Object&&!(d instanceof Array)?c.push(f):u+=r.decl(f,d,i,s);u&&(u=i+"{"+u+"}",r.putRaw(s?s+"{"+u+"}":u));for(var h=0;h<c.length;h++)f=c[h],f[0]==="@"&&f!=="@font-face"?r.putAt(i,a[f],f):r.put(r.selector(i,f),a[f],s)},r.putAt=r.put,r},Onr=function(e){e.client&&(document.head.appendChild(e.msh=document.createElement("style")),e.createRule=function(t,n){var r=t+"{}";n&&(r=n+"{"+r+"}");var i=n?e.msh.sheet:e.sh.sheet,a=i.insertRule(r,i.cssRules.length),s=(i.cssRules||i.rules)[a];if(s.index=a,n){var u=(s.cssRules||s.rules)[0];s.style=u.style,s.styleMap=u.styleMap}return s})},c2t={};function Anr(e){var t=e.index,n=e.parentStyleSheet,r=n.cssRules||n.rules;for(t=Math.max(t,r.length-1);t>=0;){if(r[t]===e){n.deleteRule(t);break}t--}}c2t.removeRule=Anr;var Rnr=c2t.removeRule,Tnr=function(e){if(!e.client)return;var t=e.kebab;function n(i,a){this.rule=e.createRule(i,a),this.decl={}}n.prototype.diff=function(i){var a=this.decl,s=this.rule.style,u;for(u in a)i[u]===void 0&&s.removeProperty(u);for(u in i)i[u]!==a[u]&&s.setProperty(t(u),i[u]);this.decl=i},n.prototype.del=function(){Rnr(this.rule)};function r(){this.tree={}}r.prototype.diff=function(i){var a=this.tree;for(var s in a)if(i[s]===void 0){var u=a[s];for(var f in u)u[f].del()}for(var s in i)if(a[s]===void 0)for(var f in i[s]){var d=new n(f,s);d.diff(i[s][f]),i[s][f]=d}else{var c=a[s],h=i[s];for(var f in c)h[f]||c[f].del();for(var f in h){var d=c[f];d?(d.diff(h[f]),h[f]=d):(d=new n(f,s),d.diff(h[f]),h[f]=d)}}this.tree=i},e.VRule=n,e.VSheet=r};function kEe(e,t,n,r){var i={},a=!1,s,u;for(s in t)u=t[s],typeof u!="object"&&(a=!0,i[s]=u);a&&(e[r]||(e[r]={}),e[r][n]=i);for(s in t)if(u=t[s],typeof u=="object")if(s[0]==="@")kEe(e,u,n,s);else{var f=s.indexOf("&")>-1,d=n.split(",");if(f)for(var c=0;c<d.length;c++)d[c]=s.replace(/&/g,d[c]);else for(var c=0;c<d.length;c++)d[c]=d[c]+" "+s;kEe(e,u,d.join(","),r)}}var Mnr=kEe,Pnr=jh?z.useLayoutEffect:z.useEffect;const OT=Pnr;var SMe=knr();Onr(SMe);Tnr(SMe);var Lnr=0,Dnr=function(e){var t=z.useMemo(function(){return"react-use-css-"+(Lnr++).toString(36)},[]),n=z.useMemo(function(){return new SMe.VSheet},[]);return OT(function(){var r={};return Mnr(r,e,"."+t,""),n.diff(r),function(){n.diff({})}}),t};const Inr=Dnr;var Fnr=function(e,t,n){var r=z.useRef(void 0);(!r.current||!n(t,r.current))&&(r.current=t),z.useEffect(e,r.current)};const EMe=Fnr;function CMe(e,t){t===void 0&&(t=0);var n=z.useRef(!1),r=z.useRef(),i=z.useRef(e),a=z.useCallback(function(){return n.current},[]),s=z.useCallback(function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout(function(){n.current=!0,i.current()},t)},[t]),u=z.useCallback(function(){n.current=null,r.current&&clearTimeout(r.current)},[]);return z.useEffect(function(){i.current=e},[e]),z.useEffect(function(){return s(),u},[t]),[a,u,s]}function Nnr(e,t,n){t===void 0&&(t=0),n===void 0&&(n=[]);var r=CMe(e,t),i=r[0],a=r[1],s=r[2];return z.useEffect(s,n),[i,a]}var znr=function(e,t){EMe(e,t,u2t)};const jnr=znr;var Bnr=function(e,t){var n=z.useState(t),r=n[0],i=n[1];return r==null?[e,i]:[r,i]};const Hnr=Bnr;var Unr=function(e){return function(t,n){var r=t.getData("text/uri-list");if(r){(e.onUri||mf)(r,n);return}if(t.files&&t.files.length){(e.onFiles||mf)(Array.from(t.files),n);return}if(n.clipboardData){var i=n.clipboardData.getData("text");(e.onText||mf)(i,n);return}}},Vnr=function(e,t){e===void 0&&(e={}),t===void 0&&(t=[]);var n=e.onFiles,r=e.onText,i=e.onUri,a=z.useState(!1),s=a[0],u=a[1],f=z.useCallback(u,[]),d=z.useMemo(function(){return Unr(e)},[n,r,i]);return z.useEffect(function(){var c=function(w){w.preventDefault(),f(!0)},h=function(w){w.preventDefault(),f(!0)},p=function(){f(!1)},v=function(){f(!1)},m=function(w){w.preventDefault(),f(!1),d(w.dataTransfer,w)},y=function(w){d(w.clipboardData,w)};return Pi(document,"dragover",c),Pi(document,"dragenter",h),Pi(document,"dragleave",p),Pi(document,"dragexit",v),Pi(document,"drop",m),r&&Pi(document,"paste",y),function(){yi(document,"dragover",c),yi(document,"dragenter",h),yi(document,"dragleave",p),yi(document,"dragexit",v),yi(document,"drop",m),yi(document,"paste",y)}},w_([d],t)),{over:s}};const Wnr=Vnr;var Gnr=function(e,t){return function(n,r){var i=n.getData("text/uri-list");if(i){(e.onUri||mf)(i,r);return}if(n.files&&n.files.length){(e.onFiles||mf)(Array.from(n.files),r);return}n.items&&n.items.length&&n.items[0].getAsString(function(a){t&&(e.onText||mf)(a,r)})}},qnr=function(e,t){return{onDragOver:function(n){n.preventDefault()},onDragEnter:function(n){n.preventDefault(),t(!0)},onDragLeave:function(){t(!1)},onDrop:function(n){n.preventDefault(),n.persist(),t(!1),e(n.dataTransfer,n)},onPaste:function(n){n.persist(),e(n.clipboardData,n)}}},Ynr=function(e){e===void 0&&(e={});var t=e.onFiles,n=e.onText,r=e.onUri,i=PL(),a=z.useState(!1),s=a[0],u=a[1],f=z.useMemo(function(){return Gnr(e,i())},[t,n,r]),d=z.useMemo(function(){return qnr(f,u)},[f,u]);return[d,{over:s}]};const Knr=Ynr;var Xnr=function(e){z.useEffect(e,[])};const P7=Xnr;function f2t(e){var t=z.useRef(e&&e.current);return z.useEffect(function(){e&&(e.current=t.current)},[e]),t}function Znr(e){return z.forwardRef(function(t,n){var r=f2t(n);return e(t,r)})}var Qnr=jh?window:null,WQe=function(e){return!!e.addEventListener},GQe=function(e){return!!e.on},Jnr=function(e,t,n,r){n===void 0&&(n=Qnr),z.useEffect(function(){if(t&&n)return WQe(n)?Pi(n,e,t,r):GQe(n)&&n.on(e,t,r),function(){WQe(n)?yi(n,e,t,r):GQe(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])};const d2t=Jnr;var err=function(){var e=z.useState(null),t=e[0],n=e[1];z.useEffect(function(){if(t)throw t},[t]);var r=z.useCallback(function(i){n(i)},[]);return r};const trr=err;var nrr=function(e){z.useEffect(function(){var t=document.querySelector("link[rel*='icon']")||document.createElement("link");t.type="image/x-icon",t.rel="shortcut icon",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},[e])};const rrr=nrr;var OEe={},irr={get exports(){return OEe},set exports(e){OEe=e}};/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/(function(e){(function(){var t=typeof window<"u"&&typeof window.document<"u"?window.document:{},n=e.exports,r=function(){for(var s,u=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],f=0,d=u.length,c={};f<d;f++)if(s=u[f],s&&s[1]in t){for(f=0;f<s.length;f++)c[u[0][f]]=s[f];return c}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},a={request:function(s,u){return new Promise(function(f,d){var c=function(){this.off("change",c),f()}.bind(this);this.on("change",c),s=s||t.documentElement;var h=s[r.requestFullscreen](u);h instanceof Promise&&h.then(c).catch(d)}.bind(this))},exit:function(){return new Promise(function(s,u){if(!this.isFullscreen){s();return}var f=function(){this.off("change",f),s()}.bind(this);this.on("change",f);var d=t[r.exitFullscreen]();d instanceof Promise&&d.then(f).catch(u)}.bind(this))},toggle:function(s,u){return this.isFullscreen?this.exit():this.request(s,u)},onchange:function(s){this.on("change",s)},onerror:function(s){this.on("error",s)},on:function(s,u){var f=i[s];f&&t.addEventListener(f,u,!1)},off:function(s,u){var f=i[s];f&&t.removeEventListener(f,u,!1)},raw:r};if(!r){n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(a,{isFullscreen:{get:function(){return!!t[r.fullscreenElement]}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!t[r.fullscreenEnabled]}}}),n?e.exports=a:window.screenfull=a})()})(irr);const UA=OEe;var arr=function(e,t,n){n===void 0&&(n={});var r=n.video,i=n.onClose,a=i===void 0?mf:i,s=z.useState(t),u=s[0],f=s[1];return OT(function(){if(t&&e.current){var d=function(){r!=null&&r.current&&yi(r.current,"webkitendfullscreen",d),a()},c=function(){if(UA.isEnabled){var h=UA.isFullscreen;f(h),h||a()}};if(UA.isEnabled){try{UA.request(e.current),f(!0)}catch(h){a(h),f(!1)}UA.on("change",c)}else r&&r.current&&r.current.webkitEnterFullscreen?(r.current.webkitEnterFullscreen(),Pi(r.current,"webkitendfullscreen",d),f(!0)):(a(),f(!1));return function(){if(f(!1),UA.isEnabled)try{UA.off("change",c),UA.exit()}catch{}else r&&r.current&&r.current.webkitExitFullscreen&&(yi(r.current,"webkitendfullscreen",d),r.current.webkitExitFullscreen())}}},[t,r,e]),u};const orr=arr;var srr=function(e){var t=z.useState({loading:!0,accuracy:null,altitude:null,altitudeAccuracy:null,heading:null,latitude:null,longitude:null,speed:null,timestamp:Date.now()}),n=t[0],r=t[1],i=!0,a,s=function(f){i&&r({loading:!1,accuracy:f.coords.accuracy,altitude:f.coords.altitude,altitudeAccuracy:f.coords.altitudeAccuracy,heading:f.coords.heading,latitude:f.coords.latitude,longitude:f.coords.longitude,speed:f.coords.speed,timestamp:f.timestamp})},u=function(f){return i&&r(function(d){return wo(wo({},d),{loading:!1,error:f})})};return z.useEffect(function(){return navigator.geolocation.getCurrentPosition(s,u,e),a=navigator.geolocation.watchPosition(s,u,e),function(){i=!1,navigator.geolocation.clearWatch(a)}},[]),n};const urr=srr;var lrr=function(e){e===void 0&&(e={});var t=M7(),n=z.useRef(wo({},e)),r=z.useCallback(function(){return n.current},[]),i=z.useCallback(function(a){a&&(Object.assign(n.current,a),t())},[]);return[r,i]};const crr=lrr;var frr=0,F6={},drr=function(e,t){var n,r=frr++;if(F6[t])F6[t].listeners[r]=e;else{var i=setInterval(function(){for(var a=F6[t].listeners,s=!1,u,f=0,d=Object.values(a);f<d.length;f++){var c=d[f];try{c()}catch(h){s=!0,u=h}}if(s)throw u},t);F6[t]={ms:t,timer:i,listeners:(n={},n[r]=e,n)}}return{bucket:F6[t],id:r}},hrr=function(e){var t=e.bucket,n=e.id;delete t.listeners[n];var r=!1;for(var i in t.listeners){r=!0;break}r||(clearInterval(t.timer),delete F6[t.ms])},grr=function(e,t){t===void 0&&(t=0);var n=z.useRef(function(){});z.useEffect(function(){n.current=e}),z.useEffect(function(){if(t!==null){var r=drr(function(){return n.current()},t);return function(){return hrr(r)}}},[t])};const prr=grr;var vrr=z.useState,mrr=function(e){var t=vrr(!1),n=t[0],r=t[1],i=function(u){return function(f){(u||mf)(f),r(!0)}},a=function(u){return function(f){(u||mf)(f),r(!1)}};typeof e=="function"&&(e=e(n));var s=z.cloneElement(e,{onMouseEnter:i(e.props.onMouseEnter),onMouseLeave:a(e.props.onMouseLeave)});return[s,n]};const yrr=mrr;var brr=function(e,t){t===void 0&&(t=!0);var n=z.useState(!1),r=n[0],i=n[1];return z.useEffect(function(){var a=function(){return i(!0)},s=function(){return i(!1)};t&&e&&e.current&&(Pi(e.current,"mouseover",a),Pi(e.current,"mouseout",s));var u=e.current;return function(){t&&u&&(yi(u,"mouseover",a),yi(u,"mouseout",s))}},[t,e]),r};const h2t=brr;function wrr(e,t,n,r){var i,a=!1,s=0;function u(){i&&clearTimeout(i)}function f(){u(),a=!0}typeof t!="boolean"&&(r=n,n=t,t=void 0);function d(){for(var c=arguments.length,h=new Array(c),p=0;p<c;p++)h[p]=arguments[p];var v=this,m=Date.now()-s;if(a)return;function y(){s=Date.now(),n.apply(v,h)}function w(){i=void 0}r&&!i&&y(),u(),r===void 0&&m>e?y():t!==!0&&(i=setTimeout(r?w:y,r===void 0?e-m:e))}return d.cancel=f,d}var _rr=["mousemove","mousedown","resize","keydown","touchstart","wheel"],xrr=6e4,Srr=function(e,t,n){e===void 0&&(e=xrr),t===void 0&&(t=!1),n===void 0&&(n=_rr);var r=z.useState(t),i=r[0],a=r[1];return z.useEffect(function(){for(var s=!0,u,f=i,d=function(v){s&&(f=v,a(v))},c=wrr(50,function(){f&&d(!1),clearTimeout(u),u=setTimeout(function(){return d(!0)},e)}),h=function(){document.hidden||c()},p=0;p<n.length;p++)Pi(window,n[p],c);return Pi(document,"visibilitychange",h),u=setTimeout(function(){return d(!0)},e),function(){s=!1;for(var v=0;v<n.length;v++)yi(window,n[v],c);yi(document,"visibilitychange",h)}},[e,n]),i};const Err=Srr;var Crr=function(e,t){var n=z.useState(null),r=n[0],i=n[1];return z.useEffect(function(){if(e.current&&typeof IntersectionObserver=="function"){var a=function(u){i(u[0])},s=new IntersectionObserver(a,t);return s.observe(e.current),function(){i(null),s.disconnect()}}return function(){}},[e.current,t.threshold,t.root,t.rootMargin]),r};const $rr=Crr;var krr=function(e,t){var n=z.useRef(function(){});z.useEffect(function(){n.current=e}),z.useEffect(function(){if(t!==null){var r=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(r)}}},[t])};const Orr=krr;var Arr=function(e){return typeof e=="function"?e:typeof e=="string"?function(t){return t.key===e}:e?function(){return!0}:function(){return!1}},Rrr=function(e,t,n,r){t===void 0&&(t=mf),n===void 0&&(n={}),r===void 0&&(r=[e]);var i=n.event,a=i===void 0?"keydown":i,s=n.target,u=n.options,f=z.useMemo(function(){var d=Arr(e),c=function(h){if(d(h))return t(h)};return c},r);d2t(a,f,s,u)};const AEe=Rrr;var Trr=function(e){return e===void 0&&(e={laptopL:1440,laptop:1024,tablet:768}),function(){var t=z.useState(jh?window.innerWidth:0),n=t[0],r=t[1];z.useEffect(function(){var s=function(){r(window.innerWidth)};return s(),Pi(window,"resize",s),function(){yi(window,"resize",s)}});var i=z.useMemo(function(){return Object.entries(e).sort(function(s,u){return s[1]>=u[1]?1:-1})},[e]),a=i.reduce(function(s,u){var f=u[0],d=u[1];return n>=d?f:s},i[0][0]);return a}};const Mrr=Trr;var Prr=function(e){var t=z.useState([!1,null]),n=t[0],r=t[1];return AEe(e,function(i){return r([!0,i])},{event:"keydown"},[n]),AEe(e,function(i){return r([!1,i])},{event:"keyup"},[n]),n};const g2t=Prr;var Lrr=function(e,t,n,r){r===void 0&&(r=g2t);var i=r(e),a=i[0],s=i[1];Pq(function(){!a&&n?n(s):a&&t&&t(s)},[a])};const Drr=Lrr;var Irr=function(e){var t=z.useRef(e);return t.current=e,t};const p2t=Irr;var Frr=function(e,t){z.useEffect(function(){return e&&e(),function(){t&&t()}},[])};const v2t=Frr;function m2t(e){e===void 0&&(e=[]);var t=z.useRef(Pb(e)),n=M7(),r=z.useMemo(function(){var i={set:function(a){t.current=Pb(a,t.current),n()},push:function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];a.length&&r.set(function(u){return u.concat(a)})},updateAt:function(a,s){r.set(function(u){var f=u.slice();return f[a]=s,f})},insertAt:function(a,s){r.set(function(u){var f=u.slice();return a>f.length?f[a]=s:f.splice(a,0,s),f})},update:function(a,s){r.set(function(u){return u.map(function(f){return a(f,s)?s:f})})},updateFirst:function(a,s){var u=t.current.findIndex(function(f){return a(f,s)});u>=0&&r.updateAt(u,s)},upsert:function(a,s){var u=t.current.findIndex(function(f){return a(f,s)});u>=0?r.updateAt(u,s):r.push(s)},sort:function(a){r.set(function(s){return s.slice().sort(a)})},filter:function(a,s){r.set(function(u){return u.slice().filter(a,s)})},removeAt:function(a){r.set(function(s){var u=s.slice();return u.splice(a,1),u})},clear:function(){r.set([])},reset:function(){r.set(Pb(e).slice())}};return i.remove=i.removeAt,i},[]);return[t.current,r]}var Nrr=function(e,t,n){if(!jh)return[t,mf,mf];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=n?n.raw?function(c){return c}:n.deserializer:JSON.parse,i=z.useRef(function(c){try{var h=n?n.raw?String:n.serializer:JSON.stringify,p=localStorage.getItem(c);return p!==null?r(p):(t&&localStorage.setItem(c,h(t)),t)}catch{return t}}),a=z.useState(function(){return i.current(e)}),s=a[0],u=a[1];z.useLayoutEffect(function(){return u(i.current(e))},[e]);var f=z.useCallback(function(c){try{var h=typeof c=="function"?c(s):c;if(typeof h>"u")return;var p=void 0;n?n.raw?typeof h=="string"?p=h:p=JSON.stringify(h):n.serializer?p=n.serializer(h):p=JSON.stringify(h):p=JSON.stringify(h),localStorage.setItem(e,p),u(r(p))}catch{}},[e,u]),d=z.useCallback(function(){try{localStorage.removeItem(e),u(void 0)}catch{}},[e,u]);return[s,f,d]};const zrr=Nrr;var qQe=function(e){var t=window.history,n=t[e];t[e]=function(r){var i=n.apply(this,arguments),a=new Event(e.toLowerCase());return a.state=r,window.dispatchEvent(a),i}};jh&&(qQe("pushState"),qQe("replaceState"));var jrr=function(){return{trigger:"load",length:1}},Fee=function(e){var t=window.history,n=t.state,r=t.length,i=window.location,a=i.hash,s=i.host,u=i.hostname,f=i.href,d=i.origin,c=i.pathname,h=i.port,p=i.protocol,v=i.search;return{trigger:e,state:n,length:r,hash:a,host:s,hostname:u,href:f,origin:d,pathname:c,port:h,protocol:p,search:v}},Brr=function(){var e=z.useState(Fee("load")),t=e[0],n=e[1];return z.useEffect(function(){var r=function(){return n(Fee("popstate"))},i=function(){return n(Fee("pushstate"))},a=function(){return n(Fee("replacestate"))};return Pi(window,"popstate",r),Pi(window,"pushstate",i),Pi(window,"replacestate",a),function(){yi(window,"popstate",r),yi(window,"pushstate",i),yi(window,"replacestate",a)}},[]),t},Hrr=typeof Event=="function";const Urr=jh&&Hrr?Brr:jrr;function REe(e){if(e){if(e.tagName==="BODY")return e;if(e.tagName==="IFRAME"){var t=e.contentDocument;return t?t.body:null}else if(!e.offsetParent)return null}else return null;return REe(e.offsetParent)}function YQe(e){var t=e||window.event;return t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}var KQe=jh&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),A6=new Map,XQe=typeof document=="object"?document:void 0,Nee=!1;const Vrr=XQe?function(t,n){t===void 0&&(t=!0);var r=z.useRef(XQe.body);n=n||r;var i=function(s){var u=A6.get(s);u?A6.set(s,{counter:u.counter+1,initialOverflow:u.initialOverflow}):(A6.set(s,{counter:1,initialOverflow:s.style.overflow}),KQe?Nee||(Pi(document,"touchmove",YQe,{passive:!1}),Nee=!0):s.style.overflow="hidden")},a=function(s){var u=A6.get(s);u&&(u.counter===1?(A6.delete(s),KQe?(s.ontouchmove=null,Nee&&(yi(document,"touchmove",YQe),Nee=!1)):s.style.overflow=u.initialOverflow):A6.set(s,{counter:u.counter-1,initialOverflow:u.initialOverflow}))};z.useEffect(function(){var s=REe(n.current);s&&(t?i(s):a(s))},[t,n.current]),z.useEffect(function(){var s=REe(n.current);if(s)return function(){a(s)}},[])}:function(t,n){};var Wrr=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];P7(function(){return console.log.apply(console,w_([e+" mounted"],t)),function(){return console.log(e+" unmounted")}}),Pq(function(){console.log.apply(console,w_([e+" updated"],t))})};const Grr=Wrr;var qrr=function(e){return"touches"in e},ZQe=function(e){qrr(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},Yrr=function(e,t){var n=t===void 0?{}:t,r=n.isPreventDefault,i=r===void 0?!0:r,a=n.delay,s=a===void 0?300:a,u=z.useRef(),f=z.useRef(),d=z.useCallback(function(h){i&&h.target&&(Pi(h.target,"touchend",ZQe,{passive:!1}),f.current=h.target),u.current=setTimeout(function(){return e(h)},s)},[e,s,i]),c=z.useCallback(function(){u.current&&clearTimeout(u.current),i&&f.current&&yi(f.current,"touchend",ZQe)},[i]);return{onMouseDown:function(h){return d(h)},onTouchStart:function(h){return d(h)},onMouseUp:c,onMouseLeave:c,onTouchEnd:c}};const Krr=Yrr;var Xrr=function(e){e===void 0&&(e={});var t=z.useState(e),n=t[0],r=t[1],i=z.useMemo(function(){return{set:function(s,u){r(function(f){var d;return wo(wo({},f),(d={},d[s]=u,d))})},setAll:function(s){r(s)},remove:function(s){r(function(u){var f=u,d=s;f[d];var c=eT(f,[typeof d=="symbol"?d:d+""]);return c})},reset:function(){return r(e)}}},[r]),a=wo({get:z.useCallback(function(s){return n[s]},[n])},i);return[n,a]};const Zrr=Xrr;var Qrr=function(e,t){return t!==void 0?t:jh?window.matchMedia(e).matches:!1},Jrr=function(e,t){var n=z.useState(Qrr(e,t)),r=n[0],i=n[1];return z.useEffect(function(){var a=!0,s=window.matchMedia(e),u=function(){a&&i(!!s.matches)};return s.addListener(u),i(s.matches),function(){a=!1,s.removeListener(u)}},[e]),r};const eir=Jrr;var tir=function(){var e=z.useState({}),t=e[0],n=e[1];return z.useEffect(function(){var r=!0,i=function(){navigator.mediaDevices.enumerateDevices().then(function(a){r&&n({devices:a.map(function(s){var u=s.deviceId,f=s.groupId,d=s.kind,c=s.label;return{deviceId:u,groupId:f,kind:d,label:c}})})}).catch(mf)};return Pi(navigator.mediaDevices,"devicechange",i),i(),function(){r=!1,yi(navigator.mediaDevices,"devicechange",i)}},[]),t},nir=function(){return{}};const rir=gce&&navigator.mediaDevices?tir:nir;function iir(e,t){var n=z.useRef(e),r=z.useState(t),i=r[0],a=r[1],s=z.useCallback(function(u){n.current.length===2?n.current(u,a):a(n.current(u))},[i]);return[i,s]}var air=function(e,t){var n=z.useMemo(function(){return function(u,f){var d;return(d=e(u))[f.type].apply(d,f.payload)}},[e]),r=z.useReducer(n,t),i=r[0],a=r[1],s=z.useMemo(function(){var u=Object.keys(e(t));return u.reduce(function(f,d){return f[d]=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];return a({type:d,payload:c})},f},{})},[e,t]);return[i,s]};const oir=air;var sir={acceleration:{x:null,y:null,z:null},accelerationIncludingGravity:{x:null,y:null,z:null},rotationRate:{alpha:null,beta:null,gamma:null},interval:16},uir=function(e){e===void 0&&(e=sir);var t=z.useState(e),n=t[0],r=t[1];return z.useEffect(function(){var i=function(a){var s=a.acceleration,u=a.accelerationIncludingGravity,f=a.rotationRate,d=a.interval;r({acceleration:{x:s.x,y:s.y,z:s.z},accelerationIncludingGravity:{x:u.x,y:u.y,z:u.z},rotationRate:{alpha:f.alpha,beta:f.beta,gamma:f.gamma},interval:d})};return Pi(window,"devicemotion",i),function(){yi(window,"devicemotion",i)}},[]),n};const lir=uir;var cir=function(e){P7(function(){e()})};const fir=cir;var dir=function(e){var t=z.useRef(e);t.current=e,P7(function(){return function(){return t.current()}})};const pce=dir;var hir=function(e){var t=z.useRef(0),n=z.useState(e),r=n[0],i=n[1],a=z.useCallback(function(s){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(s)})},[]);return pce(function(){cancelAnimationFrame(t.current)}),[r,a]};const Lq=hir;var gir=function(e){var t=Lq({docX:0,docY:0,posX:0,posY:0,elX:0,elY:0,elH:0,elW:0}),n=t[0],r=t[1];return z.useEffect(function(){var i=function(a){if(e&&e.current){var s=e.current.getBoundingClientRect(),u=s.left,f=s.top,d=s.width,c=s.height,h=u+window.pageXOffset,p=f+window.pageYOffset,v=a.pageX-h,m=a.pageY-p;r({docX:a.pageX,docY:a.pageY,posX:h,posY:p,elX:v,elY:m,elH:c,elW:d})}};return Pi(document,"mousemove",i),function(){yi(document,"mousemove",i)}},[e]),n};const y2t=gir;var pir={current:null},vir=function(e,t){t===void 0&&(t={});var n=!!t.whenHovered,r=!!t.bound,i=h2t(e,n),a=y2t(n&&!i?pir:e);return r&&(a.elX=Math.max(0,Math.min(a.elX,a.elW)),a.elY=Math.max(0,Math.min(a.elY,a.elH))),a};const mir=vir,yir=function(){var e=z.useState(0),t=e[0],n=e[1];return z.useEffect(function(){var r=function(i){n(i.deltaY+t)};return Pi(window,"wheel",r,!1),function(){return yi(window,"wheel",r)}}),t};var M5=gce?navigator:void 0,af=M5&&(M5.connection||M5.mozConnection||M5.webkitConnection);function QQe(e){var t=M5==null?void 0:M5.onLine,n=e==null?void 0:e.online;return{online:t,previous:n,since:t!==n?new Date:e==null?void 0:e.since,downlink:af==null?void 0:af.downlink,downlinkMax:af==null?void 0:af.downlinkMax,effectiveType:af==null?void 0:af.effectiveType,rtt:af==null?void 0:af.rtt,saveData:af==null?void 0:af.saveData,type:af==null?void 0:af.type}}function bir(e){var t=z.useState(e??QQe),n=t[0],r=t[1];return z.useEffect(function(){var i=function(){r(QQe)};return Pi(window,"online",i,{passive:!0}),Pi(window,"offline",i,{passive:!0}),af&&Pi(af,"change",i,{passive:!0}),function(){yi(window,"online",i),yi(window,"offline",i),af&&yi(af,"change",i)}},[]),n}function wir(e,t){var n=z.useState(t),r=n[0],i=n[1];return OT(function(){var a=e.subscribe(i);return function(){return a.unsubscribe()}},[e]),r}var _ir={angle:0,type:"landscape-primary"},xir=function(e){e===void 0&&(e=_ir);var t=z.useState(e),n=t[0],r=t[1];return z.useEffect(function(){var i=window.screen,a=!0,s=function(){if(a){var u=i.orientation;if(u){var f=u.angle,d=u.type;r({angle:f,type:d})}else window.orientation!==void 0?r({angle:typeof window.orientation=="number"?window.orientation:0,type:""}):r(e)}};return Pi(window,"orientationchange",s),s(),function(){a=!1,yi(window,"orientationchange",s)}},[]),n};const Sir=xir;var Eir=function(e,t){t===void 0&&(t=[]),z.useEffect(function(){if(e){var n=function(r){r=r||window.event;var i=r.relatedTarget||r.toElement;(!i||i.nodeName==="HTML")&&e()};return Pi(document,"mouseout",n),function(){yi(document,"mouseout",n)}}},t)};const Cir=Eir;var $ir=function(e){var t=z.useState(""),n=t[0],r=t[1];return z.useEffect(function(){var i=!0,a=null,s=function(){i&&r(function(){var u;return(u=a==null?void 0:a.state)!==null&&u!==void 0?u:""})};return navigator.permissions.query(e).then(function(u){a=u,Pi(a,"change",s),s()}).catch(mf),function(){a&&yi(a,"change",s),i=!1,a=null}},[e]),n};const kir=$ir;function Oir(e){var t=z.useRef();return z.useEffect(function(){t.current=e}),t.current}var Air=function(e,t){return e===t};function Rir(e,t){t===void 0&&(t=Air);var n=z.useRef(),r=z.useRef(e),i=dce();return!i&&!t(r.current,e)&&(n.current=r.current,r.current=e),n.current}var Tir=function(){var e=PL();return z.useCallback(function(t){return new Promise(function(n,r){var i=function(s){e()&&n(s)},a=function(s){e()&&r(s)};t.then(i,a)})},[])};const Mir=Tir;var Pir=function(e){e===void 0&&(e=[]);var t=z.useState(e),n=t[0],r=t[1];return{add:function(i){r(function(a){return w_(a,[i])})},remove:function(){var i;return r(function(a){var s=a[0],u=a.slice(1);return i=s,u}),i},get first(){return n[0]},get last(){return n[n.length-1]},get size(){return n.length}}};const Lir=Pir;var Dir=function(e,t){e===void 0&&(e=1e12),t===void 0&&(t=0);var n=z.useState(0),r=n[0],i=n[1];return OT(function(){var a,s,u,f=function(){var p=Math.min(1,(Date.now()-u)/e);i(p),d()},d=function(){a=requestAnimationFrame(f)},c=function(){s=setTimeout(function(){cancelAnimationFrame(a),i(1)},e),u=Date.now(),d()},h=setTimeout(c,t);return function(){clearTimeout(s),clearTimeout(h),cancelAnimationFrame(a)}},[e,t]),r};const b2t=Dir;function Iir(e,t){t===void 0&&(t=!0);var n=z.useRef(null),r=z.useRef(!1),i=z.useRef(e);i.current=e;var a=z.useCallback(function(u){r.current&&(i.current(u),n.current=requestAnimationFrame(a))},[]),s=z.useMemo(function(){return[function(){r.current&&(r.current=!1,n.current&&cancelAnimationFrame(n.current))},function(){r.current||(r.current=!0,n.current=requestAnimationFrame(a))},function(){return r.current}]},[]);return z.useEffect(function(){return t&&s[1](),s[0]},[]),s}var JQe=function(e,t){return new URLSearchParams(e).get(t)},Fir=function(e){var t=window.location,n=z.useState(function(){return JQe(t.search,e)}),r=n[0],i=n[1];return z.useEffect(function(){var a=function(){i(JQe(t.search,e))};return Pi(window,"popstate",a),Pi(window,"pushstate",a),Pi(window,"replacestate",a),function(){yi(window,"popstate",a),yi(window,"pushstate",a),yi(window,"replacestate",a)}},[]),r},Nir=function(){return null};const zir=jh?Fir:Nir;var K5={};const L7=A_(qFt);var zee={},eJe;function w2t(){if(eJe)return zee;eJe=1,Object.defineProperty(zee,"__esModule",{value:!0});var e=L7,t=z,n=parseInt(t.version.substr(0,t.version.indexOf(".")))>15,r=function(a){return typeof a=="function"},i=function(a,s){for(var u=[],f=2;f<arguments.length;f++)u[f-2]=arguments[f];var d=a.render,c=a.children,h=c===void 0?d:c,p=a.component,v=a.comp,m=v===void 0?p:v;return r(h)?h.apply(void 0,e.__spreadArrays([s],u)):m?t.createElement(m,s):h instanceof Array?n?h:t.createElement.apply(void 0,e.__spreadArrays(["div",null],h)):h&&h instanceof Object?typeof h.type=="string"?h:t.cloneElement(h,Object.assign({},h.props,s)):h||null};return zee.default=i,zee}var R6={},jee={},Bee={},tJe;function jir(){if(tJe)return Bee;tJe=1,Object.defineProperty(Bee,"__esModule",{value:!0});var e=L7,t=e.__importStar(z),n=function(r){var i=function(a){e.__extends(s,a);function s(){return a!==null&&a.apply(this,arguments)||this}return s.prototype.render=function(){return r(this.props,this.context)},s}(t.Component);return i};return Bee.default=n,Bee}var nJe;function Bir(){if(nJe)return jee;nJe=1,Object.defineProperty(jee,"__esModule",{value:!0});var e=L7,t=e.__importDefault(jir()),n=function(r){var i=!r.prototype;return i?t.default(r):r};return jee.default=n,jee}var rJe;function Hir(){if(rJe)return R6;rJe=1,Object.defineProperty(R6,"__esModule",{value:!0}),R6.divWrapper=void 0;var e=L7,t=e.__importStar(z),n=e.__importDefault(Bir()),r=t.createElement,i=function(s,u,f,d){var c;return r(s,u?e.__assign((c={},c[u]=d,c),f):e.__assign(e.__assign({},d),f))};R6.divWrapper=function(s,u,f,d){return r("div",null,i(s,u,f,d))};var a=function(s,u,f){f===void 0&&(f=i);var d=function(c,h,p){h===void 0&&(h=u),p===void 0&&(p=null);var v=typeof c=="string";if(v)return function(y){return d(y,c||u,h)};var m=function(y){return r(s,p,function(w){return f(c,h,y,w)})};return v?n.default(m):m};return d};return R6.default=a,R6}var Hee={},iJe;function Uir(){if(iJe)return Hee;iJe=1,Object.defineProperty(Hee,"__esModule",{value:!0});var e=L7,t=e.__importDefault(w2t()),n=function(i){return[i]},r=function(i,a){return a===void 0&&(a=n),function(s){return t.default(s,i.apply(void 0,a(s)))}};return Hee.default=r,Hee}Object.defineProperty(K5,"__esModule",{value:!0});K5.hookToRenderProp=K5.createEnhancer=K5.render=void 0;var $Me=L7,Vir=$Me.__importDefault(w2t());K5.render=Vir.default;var Wir=$Me.__importDefault(Hir());K5.createEnhancer=Wir.default;var Gir=$Me.__importDefault(Uir());K5.hookToRenderProp=Gir.default;var qir=function(e){e===void 0&&(e={});var t=e.disabled,n=p2t(e),r=z.useState({isScratching:!1}),i=r[0],a=r[1],s=z.useRef(i),u=z.useRef(!1),f=z.useRef(null),d=z.useState(null),c=d[0],h=d[1];return z.useEffect(function(){if(!t&&c){var p=function(k,M){cancelAnimationFrame(f.current),f.current=requestAnimationFrame(function(){var A=c.getBoundingClientRect(),L=A.left,N=A.top,R=L+window.scrollX,D=N+window.scrollY,j=k-R,U=M-D;a(function(H){var Y=wo(wo({},H),{dx:j-(H.x||0),dy:U-(H.y||0),end:Date.now(),isScratching:!0});return s.current=Y,(n.current.onScratch||mf)(Y),Y})})},v=function(k){p(k.pageX,k.pageY)},m=function(k){p(k.changedTouches[0].pageX,k.changedTouches[0].pageY)},y,w,_=function(){u.current&&(u.current=!1,s.current=wo(wo({},s.current),{isScratching:!1}),(n.current.onScratchEnd||mf)(s.current),a({isScratching:!1}),yi(window,"mousemove",v),yi(window,"touchmove",m),yi(window,"mouseup",y),yi(window,"touchend",w))};y=_,w=_;var S=function(k,M){if(u.current){var A=c.getBoundingClientRect(),L=A.left,N=A.top,R=L+window.scrollX,D=N+window.scrollY,j=k-R,U=M-D,H=Date.now(),Y={isScratching:!0,start:H,end:H,docX:k,docY:M,x:j,y:U,dx:0,dy:0,elH:c.offsetHeight,elW:c.offsetWidth,elX:R,elY:D};s.current=Y,(n.current.onScratchStart||mf)(Y),a(Y),Pi(window,"mousemove",v),Pi(window,"touchmove",m),Pi(window,"mouseup",y),Pi(window,"touchend",w)}},C=function(k){u.current=!0,S(k.pageX,k.pageY)},$=function(k){u.current=!0,S(k.changedTouches[0].pageX,k.changedTouches[0].pageY)};return Pi(c,"mousedown",C),Pi(c,"touchstart",$),function(){yi(c,"mousedown",C),yi(c,"touchstart",$),yi(window,"mousemove",v),yi(window,"touchmove",m),yi(window,"mouseup",y),yi(window,"touchend",w),f.current&&cancelAnimationFrame(f.current),f.current=null,u.current=!1,s.current={isScratching:!1},a(s.current)}}},[c,t,n]),[h,i]};const Yir=qir;var Kir=function(e){var t=Lq({x:0,y:0}),n=t[0],r=t[1];return z.useEffect(function(){var i=function(){e.current&&r({x:e.current.scrollLeft,y:e.current.scrollTop})};return e.current&&Pi(e.current,"scroll",i,{capture:!1,passive:!0}),function(){e.current&&yi(e.current,"scroll",i)}},[e]),n};const Xir=Kir;var Zir=function(e){var t=z.useState(!1),n=t[0],r=t[1];return z.useEffect(function(){if(e.current){var i,a=function(){r(!1)},s=function(){r(!0),clearTimeout(i),i=setTimeout(function(){return a()},150)};return Pi(e.current,"scroll",s,!1),function(){e.current&&yi(e.current,"scroll",s,!1)}}return function(){}},[e]),n};const Qir=Zir;var Jir=function(e,t,n){if(!jh)return[t,function(){}];var r=z.useState(function(){try{var s=sessionStorage.getItem(e);return typeof s!="string"?(sessionStorage.setItem(e,n?String(t):JSON.stringify(t)),t):n?s:JSON.parse(s||"null")}catch{return t}}),i=r[0],a=r[1];return z.useEffect(function(){try{var s=n?String(i):JSON.stringify(i);sessionStorage.setItem(e,s)}catch{}}),[i,a]};const ear=Jir;var aJe=Object.keys,tar=function(t,n){if(t===n)return!0;if(!(t instanceof Object)||!(n instanceof Object))return!1;for(var r=aJe(t),i=r.length,a=0;a<i;a++)if(!(r[a]in n))return!1;for(var a=0;a<i;a++)if(t[r[a]]!==n[r[a]])return!1;return i===aJe(n).length},nar=function(e,t){return e.every(function(n,r){return tar(n,t[r])})},rar=function(e,t){EMe(e,t,nar)};const iar=rar;var aar=z.useState,oar=z.useEffect,sar=z.useRef,uar=function(e){return setTimeout(e,35)},lar=function(e,t){var n=t===void 0?{}:t,r=n.width,i=r===void 0?1/0:r,a=n.height,s=a===void 0?1/0:a;if(!jh)return[typeof e=="function"?e({width:i,height:s}):e,{width:i,height:s}];var u=aar({width:i,height:s}),f=u[0],d=u[1];typeof e=="function"&&(e=e(f));var c=e.props.style||{},h=sar(null),p=null,v=function(){var w=h.current,_=w?{width:w.offsetWidth,height:w.offsetHeight}:{width:i,height:s};d(_)},m=function(w){Pi(w,"resize",v),uar(v)};oar(function(){var w=h.current;if(w){if(w.contentWindow)p=w.contentWindow,m(p);else{var _=function(){Pi(w,"load",_),p=w.contentWindow,m(p)};yi(w,"load",_)}return function(){p&&p.removeEventListener&&yi(p,"resize",v)}}},[]),c.position="relative";var y=z.cloneElement.apply(Q5,w_([e,{style:c}],w_([z.createElement("iframe",{ref:h,style:{background:"transparent",border:"none",height:"100%",left:0,position:"absolute",top:0,width:"100%",zIndex:-1}})],z.Children.toArray(e.props.children))));return[y,f]};const car=lar;var far=function(e,t){t===void 0&&(t={});var n=PL(),r=z.useRef(!1),i=z.useRef(0),a=z.useRef(0),s=hce({isSliding:!1,value:0}),u=s[0],f=s[1];return i.current=u.value,z.useEffect(function(){if(jh){var d=t.styles===void 0?!0:t.styles,c=t.reverse===void 0?!1:t.reverse;e.current&&d&&(e.current.style.userSelect="none");var h=function(){!r.current&&n()&&((t.onScrubStart||mf)(),r.current=!0,f({isSliding:!0}),_())},p=function(){r.current&&n()&&((t.onScrubStop||mf)(i.current),r.current=!1,f({isSliding:!1}),S())},v=function($){h(),m($)},m=t.vertical?function($){return C($.clientY)}:function($){return C($.clientX)},y=function($){h(),w($)},w=t.vertical?function($){return C($.changedTouches[0].clientY)}:function($){return C($.changedTouches[0].clientX)},_=function(){Pi(document,"mousemove",m),Pi(document,"mouseup",p),Pi(document,"touchmove",w),Pi(document,"touchend",p)},S=function(){yi(document,"mousemove",m),yi(document,"mouseup",p),yi(document,"touchmove",w),yi(document,"touchend",p)},C=function($){cancelAnimationFrame(a.current),a.current=requestAnimationFrame(function(){if(n()&&e.current){var k=e.current.getBoundingClientRect(),M=t.vertical?k.top:k.left,A=t.vertical?k.height:k.width;if(!A)return;var L=($-M)/A;L>1?L=1:L<0&&(L=0),c&&(L=1-L),f({value:L}),(t.onScrub||mf)(L)}})};return Pi(e.current,"mousedown",v),Pi(e.current,"touchstart",y),function(){yi(e.current,"mousedown",v),yi(e.current,"touchstart",y)}}else return},[e,t.vertical]),u};const dar=far;var pS;(function(e){e[e.init=0]="init",e[e.play=1]="play",e[e.pause=2]="pause",e[e.end=3]="end"})(pS||(pS={}));var har=function(e,t){var n=z.useRef(!1),r=z.useState(function(){var d=t.voice||{},c=d.lang,h=c===void 0?"default":c,p=d.name,v=p===void 0?"":p;return{isPlaying:!1,status:pS[pS.init],lang:t.lang||"default",voiceInfo:{lang:h,name:v},rate:t.rate||1,pitch:t.pitch||1,volume:t.volume||1}}),i=r[0],a=r[1],s=z.useCallback(function(){n.current&&a(function(d){return wo(wo({},d),{isPlaying:!0,status:pS[pS.play]})})},[]),u=z.useCallback(function(){n.current&&a(function(d){return wo(wo({},d),{isPlaying:!1,status:pS[pS.pause]})})},[]),f=z.useCallback(function(){n.current&&a(function(d){return wo(wo({},d),{isPlaying:!1,status:pS[pS.end]})})},[]);return z.useEffect(function(){n.current=!0;var d=new SpeechSynthesisUtterance(e);return t.lang&&(d.lang=t.lang),t.voice&&(d.voice=t.voice),d.rate=t.rate||1,d.pitch=t.pitch||1,d.volume=t.volume||1,d.onstart=s,d.onpause=u,d.onresume=s,d.onend=f,window.speechSynthesis.speak(d),function(){n.current=!1}},[]),i};const gar=har;var par=function(){var e=document.activeElement,t=document.body;if(!e||e===t)return!1;switch(e.tagName){case"INPUT":case"TEXTAREA":return!0}return e.hasAttribute("contenteditable")},mar=function(e){var t=e.keyCode,n=e.metaKey,r=e.ctrlKey,i=e.altKey;return n||r||i?!1:t>=48&&t<=57||t>=65&&t<=90},yar=function(e){OT(function(){var t=function(n){!par()&&mar(n)&&e(n)};return Pi(document,"keydown",t),function(){yi(document,"keydown",t)}},[])};const bar=yar;function war(e,t,n){if(t===void 0&&(t=10),t<1)throw new Error("Capacity has to be greater than 1, got '"+t+"'");var r=dce(),i=z.useState(e),a=i[0],s=i[1],u=z.useRef(n??[]),f=z.useRef(0);r&&(u.current.length?(u.current[u.current.length-1]!==e&&u.current.push(e),u.current.length>t&&(u.current=u.current.slice(u.current.length-t))):u.current.push(e),f.current=u.current.length&&u.current.length-1);var d=z.useCallback(function(h){s(function(p){return h=Pb(h,p),h!==p&&(f.current<u.current.length-1&&(u.current=u.current.slice(0,f.current+1)),f.current=u.current.push(h)-1,u.current.length>t&&(u.current=u.current.slice(u.current.length-t))),h})},[a,t]),c=z.useMemo(function(){return{history:u.current,position:f.current,capacity:t,back:function(h){h===void 0&&(h=1),f.current&&s(function(){return f.current-=Math.min(h,f.current),u.current[f.current]})},forward:function(h){h===void 0&&(h=1),f.current!==u.current.length-1&&s(function(){return f.current=Math.min(f.current+h,u.current.length-1),u.current[f.current]})},go:function(h){h!==f.current&&s(function(){return f.current=h<0?Math.max(u.current.length+h,0):Math.min(u.current.length-1,h),u.current[f.current]})}}},[a]);return[a,d,c]}function _ar(e){e===void 0&&(e=[]);var t=PL(),n=M7(),r=z.useRef(0);Pq(function(){e.length<=r.current&&(r.current=e.length-1,n())},[e.length]);var i=z.useMemo(function(){return{next:function(){return i.setStateAt(r.current+1)},prev:function(){return i.setStateAt(r.current-1)},setStateAt:function(a){t()&&e.length&&a!==r.current&&(r.current=a>=0?a%e.length:e.length+a%e.length,n())},setState:function(a){if(t()){var s=e.length?e.indexOf(a):-1;if(s===-1)throw new Error("State '"+a+"' is not a valid state (does not exist in state list)");r.current=s,n()}}}},[e]);return wo({state:e[r.current],currentIndex:r.current},i)}var xar=function(e,t){t===void 0&&(t=200);var n=z.useState(e),r=n[0],i=n[1],a=z.useRef(),s=z.useRef(null),u=z.useRef(0);return z.useEffect(function(){if(a.current)s.current=e,u.current=!0;else{i(e);var f=function(){u.current?(u.current=!1,i(s.current),a.current=setTimeout(f,t)):a.current=void 0};a.current=setTimeout(f,t)}},[e]),pce(function(){a.current&&clearTimeout(a.current)}),r};const Sar=xar;var Ear=function(e,t,n){t===void 0&&(t=200);var r=z.useState(null),i=r[0],a=r[1],s=z.useRef(),u=z.useRef();return z.useEffect(function(){if(s.current)u.current=n;else{a(e.apply(void 0,n));var f=function(){u.current?(a(e.apply(void 0,u.current)),u.current=void 0,s.current=setTimeout(f,t)):s.current=void 0};s.current=setTimeout(f,t)}},n),pce(function(){s.current&&clearTimeout(s.current)}),i};const Car=Ear;function $ar(e){e===void 0&&(e=0);var t=M7();return CMe(t,e)}var kar={restoreOnUnmount:!1};function Oar(e,t){t===void 0&&(t=kar);var n=z.useRef(document.title);document.title!==e&&(document.title=e),z.useEffect(function(){if(t&&t.restoreOnUnmount)return function(){document.title=n.current}},[])}const Aar=typeof document<"u"?Oar:function(e){};var _2t={};Object.defineProperty(_2t,"__esModule",{value:!0});var Rar=_2t.easing={linear:function(e){return e},quadratic:function(e){return e*(-(e*e)*e+4*e*e-6*e+4)},cubic:function(e){return e*(4*e*e-9*e+6)},elastic:function(e){return e*(33*e*e*e*e-106*e*e*e+126*e*e-67*e+15)},inQuad:function(e){return e*e},outQuad:function(e){return e*(2-e)},inOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},inCubic:function(e){return e*e*e},outCubic:function(e){return--e*e*e+1},inOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},inQuart:function(e){return e*e*e*e},outQuart:function(e){return 1- --e*e*e*e},inOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},inQuint:function(e){return e*e*e*e*e},outQuint:function(e){return 1+--e*e*e*e*e},inOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},inSine:function(e){return-Math.cos(e*(Math.PI/2))+1},outSine:function(e){return Math.sin(e*(Math.PI/2))},inOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},inExpo:function(e){return Math.pow(2,10*(e-1))},outExpo:function(e){return-Math.pow(2,-10*e)+1},inOutExpo:function(e){return e/=.5,e<1?Math.pow(2,10*(e-1))/2:(e--,(-Math.pow(2,-10*e)+2)/2)},inCirc:function(e){return-Math.sqrt(1-e*e)+1},outCirc:function(e){return Math.sqrt(1-(e=e-1)*e)},inOutCirc:function(e){return e/=.5,e<1?-(Math.sqrt(1-e*e)-1)/2:(e-=2,(Math.sqrt(1-e*e)+1)/2)}},Tar=function(e,t,n){e===void 0&&(e="inCirc"),t===void 0&&(t=200),n===void 0&&(n=0);var r=Rar[e],i=b2t(t,n);return r(i)};const Mar=Tar;var Par=function(){var e=z.useRef(!1);P7(function(){return function(){e.current=!0}});var t=z.useMemo(function(){var n=function(r,i){var a=new Promise(function(s,u){r.then(function(f){e.current||s(f)},function(f){e.current?i?i(f):console.error("useUnmountPromise",f):u(f)})});return a};return n},[]);return t};const Lar=Par;function Dar(e,t){t===void 0&&(t=[]);var n=m2t(t),r=n[0],i=n[1];return[r,wo(wo({},i),{upsert:function(a){i.upsert(e,a)}})]}var Iar=gce&&"vibrate"in navigator;function Far(e,t,n){e===void 0&&(e=!0),t===void 0&&(t=[1e3,1e3]),n===void 0&&(n=!0),z.useEffect(function(){var r;if(e&&(navigator.vibrate(t),n)){var i=t instanceof Array?t.reduce(function(a,s){return a+s}):t;r=setInterval(function(){navigator.vibrate(t)},i)}return function(){e&&(navigator.vibrate(0),n&&clearInterval(r))}},[e])}const Nar=Iar?Far:mf;var zar=s2t("video");const jar=zar;function Bar(e,t,n){n===void 0&&(n=[void 0]);var r=z.useRef(t),i=z.useRef(e);r.current=t,i.current=e;var a=z.useState(n),s=a[0],u=a[1],f=z.useCallback(function(){r.current.length>=2?r.current(i.current,u):u(r.current(i.current))},[u]);return z.useEffect(function(){f()},[e]),[s,f]}var dF=function(e){if(typeof document>"u")return 0;if(document.body&&(!document.readyState||document.readyState!=="loading")){if(e!==!0&&typeof dF.__cache=="number")return dF.__cache;var t=document.createElement("div"),n=t.style;n.display="block",n.position="absolute",n.width="100px",n.height="100px",n.left="-999px",n.top="-999px",n.overflow="scroll",document.body.insertBefore(t,null);var r=t.clientWidth;if(r!==0)return dF.__cache=100-r,document.body.removeChild(t),dF.__cache;document.body.removeChild(t)}};function Har(){var e=z.useState(dF()),t=e[0],n=e[1];return z.useEffect(function(){if(!(typeof t<"u")){var r=requestAnimationFrame(function(){n(dF())});return function(){return cancelAnimationFrame(r)}}},[]),t}function Uar(e,t,n){if(n===void 0&&(n=[void 0]),typeof e!="object")throw new Error("states expected to be an object or array, got "+typeof e);var r=z.useRef(t),i=z.useRef(e);r.current=t,i.current=e;var a=z.useState(n),s=a[0],u=a[1],f=z.useCallback(function(){r.current.length>=2?r.current(i.current,u):u(r.current(i.current))},[u]);return z.useEffect(function(){f()},Object.values(e)),[s,f]}var Var=function(){var e=Lq(function(){return{x:jh?window.pageXOffset:0,y:jh?window.pageYOffset:0}}),t=e[0],n=e[1];return z.useEffect(function(){var r=function(){n(function(i){var a=window.pageXOffset,s=window.pageYOffset;return i.x!==a||i.y!==s?{x:a,y:s}:i})};return r(),Pi(window,"scroll",r,{capture:!1,passive:!0}),function(){yi(window,"scroll",r)}},[]),t};const War=Var;var Gar=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var n=Lq({width:jh?window.innerWidth:e,height:jh?window.innerHeight:t}),r=n[0],i=n[1];return z.useEffect(function(){if(jh){var a=function(){i({width:window.innerWidth,height:window.innerHeight})};return Pi(window,"resize",a),function(){yi(window,"resize",a)}}},[]),r};const qar=Gar;var x2t={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function Yar(){var e=z.useState(null),t=e[0],n=e[1],r=z.useState(x2t),i=r[0],a=r[1],s=z.useMemo(function(){return new window.ResizeObserver(function(u){if(u[0]){var f=u[0].contentRect,d=f.x,c=f.y,h=f.width,p=f.height,v=f.top,m=f.left,y=f.bottom,w=f.right;a({x:d,y:c,width:h,height:p,top:v,left:m,bottom:y,right:w})}})},[]);return OT(function(){if(t)return s.observe(t),function(){s.disconnect()}},[t]),[n,i]}const Kar=jh&&typeof window.ResizeObserver<"u"?Yar:function(){return[mf,x2t]};var yae;(function(e){e.ZOOMING_IN="ZOOMING_IN",e.ZOOMING_OUT="ZOOMING_OUT"})(yae||(yae={}));var Xar=function(e){var t=z.useMemo(function(){return{evCache:[],prevDiff:-1}},[e.current]),n=z.useState(),r=n[0],i=n[1],a=function(d){for(var c=0;c<t.evCache.length;c++)if(d.pointerId==t.evCache[c].pointerId){t.evCache[c]=d;break}if(t.evCache.length==2){var h=Math.abs(t.evCache[0].clientX-t.evCache[1].clientX);t.prevDiff>0&&(h>t.prevDiff&&i([yae.ZOOMING_IN,h]),h<t.prevDiff&&i([yae.ZOOMING_OUT,h])),t.prevDiff=h}},s=function(d){t.evCache.push(d)},u=function(d){f(d),t.evCache.length<2&&(t.prevDiff=-1)},f=function(d){for(var c=0;c<t.evCache.length;c++)if(t.evCache[c].pointerId==d.pointerId){t.evCache.splice(c,1);break}};return z.useEffect(function(){e!=null&&e.current&&(e.current.onpointerdown=s,e.current.onpointermove=a,e.current.onpointerup=u,e.current.onpointercancel=u,e.current.onpointerout=u,e.current.onpointerleave=u)},[e==null?void 0:e.current]),r?{zoomingState:r[0],pinchState:r[1]}:{zoomingState:null,pinchState:0}};const Zar=Xar;function Qar(){return++z.useRef(0).current}var Jar=function(e){e===void 0&&(e=new Set);var t=z.useState(e),n=t[0],r=t[1],i=z.useMemo(function(){var s=function(d){return r(function(c){return new Set(w_(Array.from(c),[d]))})},u=function(d){return r(function(c){return new Set(Array.from(c).filter(function(h){return h!==d}))})},f=function(d){return r(function(c){return c.has(d)?new Set(Array.from(c).filter(function(h){return h!==d})):new Set(w_(Array.from(c),[d]))})};return{add:s,remove:u,toggle:f,reset:function(){return r(e)}}},[r]),a=wo({has:z.useCallback(function(s){return n.has(s)},[n])},i);return[n,a]};const eor=Jar;function tor(e){var t={state:e instanceof Function?e():e,setState:function(n){t.state=Pb(n,t.state),t.setters.forEach(function(r){return r(t.state)})},setters:[]};return function(){var n=z.useState(t.state),r=n[0],i=n[1];return P7(function(){return function(){t.setters=t.setters.filter(function(a){return a!==i})}}),OT(function(){t.setters.includes(i)||t.setters.push(i)}),[r,t.setState]}}var nor=function(){var e=z.useState(function(){return window.location.hash}),t=e[0],n=e[1],r=z.useCallback(function(){n(window.location.hash)},[]);v2t(function(){Pi(window,"hashchange",r)},function(){yi(window,"hashchange",r)});var i=z.useCallback(function(a){a!==t&&(window.location.hash=a)},[t]);return[t,i]};const ror=Object.freeze(Object.defineProperty({__proto__:null,createBreakpoint:Mrr,createGlobalState:tor,createMemo:Btr,createReducer:qtr,createReducerContext:Utr,createStateContext:Ktr,ensuredForwardRef:Znr,useAsync:o2t,useAsyncFn:a2t,useAsyncRetry:Ztr,useAudio:enr,useBattery:anr,useBeforeUnload:snr,useBoolean:HQe,useClickAway:dnr,useCookie:pnr,useCopyToClipboard:Snr,useCounter:VQe,useCss:Inr,useCustomCompareEffect:EMe,useDebounce:Nnr,useDeepCompareEffect:jnr,useDefault:Hnr,useDrop:Wnr,useDropArea:Knr,useEffectOnce:P7,useEnsuredForwardedRef:f2t,useError:trr,useEvent:d2t,useFavicon:rrr,useFirstMountState:dce,useFullscreen:orr,useGeolocation:urr,useGetSet:l2t,useGetSetState:crr,useHarmonicIntervalFn:prr,useHash:nor,useHover:yrr,useHoverDirty:h2t,useIdle:Err,useIntersection:$rr,useInterval:Orr,useIsomorphicLayoutEffect:OT,useKey:AEe,useKeyPress:g2t,useKeyPressEvent:Drr,useLatest:p2t,useLifecycles:v2t,useList:m2t,useLocalStorage:zrr,useLocation:Urr,useLockBodyScroll:Vrr,useLogger:Grr,useLongPress:Krr,useMap:Zrr,useMeasure:Kar,useMedia:eir,useMediaDevices:rir,useMediatedState:iir,useMethods:oir,useMotion:lir,useMount:fir,useMountedState:PL,useMouse:y2t,useMouseHovered:mir,useMouseWheel:yir,useMultiStateValidator:Uar,useNetworkState:bir,useNumber:VQe,useObservable:wir,useOrientation:Sir,usePageLeave:Cir,usePermission:kir,usePinchZoom:Zar,usePrevious:Oir,usePreviousDistinct:Rir,usePromise:Mir,useQueue:Lir,useRaf:b2t,useRafLoop:Iir,useRafState:Lq,useRendersCount:Qar,useScratch:Yir,useScroll:Xir,useScrollbarWidth:Har,useScrolling:Qir,useSearchParam:zir,useSessionStorage:ear,useSet:eor,useSetState:hce,useShallowCompareEffect:iar,useSize:car,useSlider:dar,useSpeech:gar,useStartTyping:bar,useStateList:_ar,useStateValidator:Bar,useStateWithHistory:war,useThrottle:Sar,useThrottleFn:Car,useTimeout:$ar,useTimeoutFn:CMe,useTitle:Aar,useToggle:HQe,useTween:Mar,useUnmount:pce,useUnmountPromise:Lar,useUpdate:M7,useUpdateEffect:Pq,useUpsert:Dar,useVibrate:Nar,useVideo:jar,useWindowScroll:War,useWindowSize:qar},Symbol.toStringTag,{value:"Module"})),S2t=A_(ror);var E2t={};(function(e){var t=$e&&$e.__assign||function(){return t=Object.assign||function(f){for(var d,c=1,h=arguments.length;c<h;c++){d=arguments[c];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(f[p]=d[p])}return f},t.apply(this,arguments)},n=$e&&$e.__createBinding||(Object.create?function(f,d,c,h){h===void 0&&(h=c);var p=Object.getOwnPropertyDescriptor(d,c);(!p||("get"in p?!d.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return d[c]}}),Object.defineProperty(f,h,p)}:function(f,d,c,h){h===void 0&&(h=c),f[h]=d[c]}),r=$e&&$e.__setModuleDefault||(Object.create?function(f,d){Object.defineProperty(f,"default",{enumerable:!0,value:d})}:function(f,d){f.default=d}),i=$e&&$e.__importStar||function(f){if(f&&f.__esModule)return f;var d={};if(f!=null)for(var c in f)c!=="default"&&Object.prototype.hasOwnProperty.call(f,c)&&n(d,f,c);return r(d,f),d};e.__esModule=!0,e.buildVegaSpec=e.timeTickFormat=e.expYScale=e.linearYScale=e.timeXScale=e.logXScale=e.linearXScale=e.distributionChartSpecSchema=e.defaultTickFormat=void 0;var a=i(BG);e.defaultTickFormat=".9~s",e.distributionChartSpecSchema=a.object({}).shape({logX:a.boolean().required().default(!1),expY:a.boolean().required().default(!1),minX:a.number(),maxX:a.number(),title:a.string(),xAxisType:a.mixed().oneOf(["number","dateTime"]).default("number"),tickFormat:a.string().required().default(e.defaultTickFormat)}),e.linearXScale={name:"xscale",clamp:!0,type:"linear",range:"width",zero:!1,nice:!1},e.logXScale={name:"xscale",type:"log",range:"width",zero:!1,base:10,nice:!1,clamp:!0},e.timeXScale={name:"xscale",clamp:!0,type:"time",range:"width",nice:!1},e.linearYScale={name:"yscale",type:"linear",range:"height",zero:!0},e.expYScale={name:"yscale",type:"pow",exponent:.1,range:"height",zero:!0,nice:!1},e.timeTickFormat="%b %d, %Y %H:%M";var s=500;function u(f){var d=f.title,c=f.minX,h=f.maxX,p=f.logX,v=f.expY,m=f.xAxisType,y=f.maxY,w=f.showLegend,_=f.colorScheme,S=m==="dateTime",C=f!=null&&f.tickFormat?f.tickFormat:S?e.timeTickFormat:e.defaultTickFormat,$=S?e.timeXScale:p?e.logXScale:e.linearXScale;$=t(t({},$),{domain:[c??0,h??1],domainMin:c,domainMax:h});var k=v?e.expYScale:e.linearYScale;k=t(t({},k),{domain:[0,y??1],domainMin:0,domainMax:y});var M=t({$schema:"https://vega.github.io/schema/vega/v5.json",description:"Squiggle plot chart",width:s,height:100,padding:5,data:[{name:"data"},{name:"domain"},{name:"samples"}],signals:[{name:"hover",value:null,on:[{events:"mouseover",update:"datum"},{events:"mouseout",update:"null"}]},{name:"position",value:"[0, 0]",on:[{events:"mousemove",update:"xy() "},{events:"mouseout",update:"null"}]},{name:"position_scaled",value:null,update:"isArray(position) ? invert('xscale', position[0]) : ''"}],scales:[$,k,{name:"color",type:"ordinal",domain:{data:"data",field:"name"},range:{scheme:_}}],axes:[{orient:"bottom",scale:"xscale",labelColor:"#727d93",labelFlush:!0,tickSize:2,domainColor:"#727d93",domainOpacity:0,format:C,tickCount:S?3:10,labelOverlap:"greedy"}],marks:[{name:"all_distributions",type:"group",from:{facet:{name:"distribution_facet",data:"data",groupby:["name"]}},marks:[{name:"continuous_distribution",type:"group",from:{facet:{name:"continuous_facet",data:"distribution_facet",field:"continuous"}},encode:{update:{}},marks:[{name:"continuous_area",type:"area",from:{data:"continuous_facet"},encode:{update:{interpolate:{value:"linear"},x:{scale:"xscale",field:"x"},y:{scale:"yscale",field:"y"},stroke:{scale:"color",field:{parent:"name"}},fill:{scale:"color",field:{parent:"name"}},y2:{scale:"yscale",value:0},fillOpacity:{field:{parent:"opacity"}}}}}]},{name:"discrete_distribution",type:"group",from:{facet:{name:"discrete_facet",data:"distribution_facet",field:"discrete"}},marks:[{type:"rect",from:{data:"discrete_facet"},encode:{enter:{width:{value:1}},update:{x:{scale:"xscale",field:"x"},y:{scale:"yscale",field:"y"},y2:{scale:"yscale",value:0},fill:{scale:"color",field:{parent:"name"}}}}},{type:"symbol",from:{data:"discrete_facet"},encode:{enter:{shape:{value:"circle"},size:[{value:100}],tooltip:{signal:S?"{ probability: datum.y, value: datetime(datum.x) }":"{ probability: datum.y, value: datum.x }"}},update:{x:{scale:"xscale",field:"x",offset:.5},y:{scale:"yscale",field:"y"},fill:{scale:"color",field:{parent:"name"}}}}}]}]},{name:"sampleset",type:"rect",from:{data:"samples"},encode:{enter:{x:{scale:"xscale",field:"data"},width:{value:.1},y:{value:25,offset:{signal:"height"}},height:{value:5}}}},{type:"text",name:"announcer",interactive:!1,encode:{enter:{fill:{value:"black"},fontSize:{value:16},align:{value:"left"}},update:{text:{signal:S?"position_scaled ? utcyear(position_scaled) + '-' + utcmonth(position_scaled) + '-' + utcdate(position_scaled) + 'T' + utchours(position_scaled)+':' +utcminutes(position_scaled) : ''":"position_scaled ? format(position_scaled, ',.4r')  : ''"}}}},{type:"rule",interactive:!1,encode:{enter:{x:{value:0},y:{scale:"yscale",value:0},y2:{signal:"height",offset:2},strokeDash:{value:[5,5]}},update:{x:{signal:"position ? position[0] < 0 ? null : position[0] > width ? null : position[0]: null"},opacity:{signal:"position ? position[0] < 0 ? 0 : position[0] > width ? 0 : 1 : 0"}}}}],legends:w?[{fill:"color",orient:"top",labelFontSize:12,encode:{symbols:{update:{fill:{scale:"color",field:"value"}}},labels:{interactive:!0,update:{fill:{value:"black"}}}}}]:[]},d&&{title:{text:d}});return M}e.buildVegaSpec=u})(E2t);var Mg={};Mg.__esModule=!0;Mg.getErrorLocations=Mg.getValueToRender=Mg.some=Mg.all=Mg.resultBind=Mg.flattenResult=void 0;var ior=aT;function C2t(e){if(e.length===0)return{ok:!0,value:[]};if(!e[0].ok)return e[0];var t=C2t(e.splice(1));return t.ok?{ok:!0,value:[e[0].value].concat(t.value)}:t}Mg.flattenResult=C2t;function aor(e,t){return e.ok?t(e.value):e}Mg.resultBind=aor;function oor(e){return e.reduce(function(t,n){return t&&n},!0)}Mg.all=oor;function sor(e){return e.reduce(function(t,n){return t||n},!1)}Mg.some=sor;function uor(e){var t=e.result,n=e.bindings;return(0,ior.resultMap)(t,function(r){return r.tag==="Void"?n.asValue():r})}Mg.getValueToRender=uor;function lor(e){if(e.ok)return[];var t=e.value.location();return t?[t]:[]}Mg.getErrorLocations=lor;var Dq={};Dq.__esModule=!0;Dq.hasMassBelowZero=void 0;var cor=function(e){return e.continuous.some(function(t){return t.x<=0})||e.discrete.some(function(t){return t.x<=0})};Dq.hasMassBelowZero=cor;var Iq={},kMe={},dor=function(){},$2t=function(){};const hor=Object.freeze(Object.defineProperty({__proto__:null,invariant:$2t,warning:dor},Symbol.toStringTag,{value:"Module"})),gor=A_(hor);function k2t(e,t){e.indexOf(t)===-1&&e.push(t)}function O2t(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const A2t=(e,t,n)=>Math.min(Math.max(n,e),t),rv={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},wE=e=>typeof e=="number",qF=e=>Array.isArray(e)&&!wE(e[0]),por=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e};function R2t(e,t){return qF(e)?e[por(0,e.length,t)]:e}const OMe=(e,t,n)=>-n*e+n*t+e,AMe=()=>{},m_=e=>e,Fq=(e,t,n)=>t-e===0?1:(n-e)/(t-e);function RMe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Fq(0,t,r);e.push(OMe(n,1,i))}}function TMe(e){const t=[0];return RMe(t,e-1),t}function T2t(e,t=TMe(e.length),n=m_){const r=e.length,i=r-t.length;return i>0&&RMe(t,i),a=>{let s=0;for(;s<r-2&&!(a<t[s+1]);s++);let u=A2t(0,1,Fq(t[s],t[s+1],a));return u=R2t(n,s)(u),OMe(e[s],e[s+1],u)}}const M2t=e=>Array.isArray(e)&&wE(e[0]),bae=e=>typeof e=="object"&&!!e.createAnimation,q3=e=>typeof e=="function",Nq=e=>typeof e=="string",X5={ms:e=>e*1e3,s:e=>e/1e3};function P2t(e,t){return t?e*(1e3/t):0}const L2t=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,vor=1e-7,mor=12;function yor(e,t,n,r,i){let a,s,u=0;do s=t+(n-t)/2,a=L2t(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>vor&&++u<mor);return s}function BH(e,t,n,r){if(e===t&&n===r)return m_;const i=a=>yor(a,0,1,e,n);return a=>a===0||a===1?a:L2t(i(a),t,r)}const bor=(e,t="end")=>n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return A2t(0,1,i/e)},oJe={ease:BH(.25,.1,.25,1),"ease-in":BH(.42,0,1,1),"ease-in-out":BH(.42,0,.58,1),"ease-out":BH(0,0,.58,1)},wor=/\((.*?)\)/;function TEe(e){if(q3(e))return e;if(M2t(e))return BH(...e);if(oJe[e])return oJe[e];if(e.startsWith("steps")){const t=wor.exec(e);if(t){const n=t[1].split(",");return bor(parseFloat(n[0]),n[1].trim())}}return m_}class MMe{constructor(t,n=[0,1],{easing:r,duration:i=rv.duration,delay:a=rv.delay,endDelay:s=rv.endDelay,repeat:u=rv.repeat,offset:f,direction:d="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=m_,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((h,p)=>{this.resolve=h,this.reject=p}),r=r||rv.easing,bae(r)){const h=r.createAnimation(n);r=h.easing,n=h.keyframes||n,i=h.duration||i}this.repeat=u,this.easing=qF(r)?m_:TEe(r),this.updateDuration(i);const c=T2t(n,f,qF(r)?r.map(TEe):m_);this.tick=h=>{var p;a=a;let v=0;this.pauseTime!==void 0?v=this.pauseTime:v=(h-this.startTime)*this.rate,this.t=v,v/=1e3,v=Math.max(v-a,0),this.playState==="finished"&&this.pauseTime===void 0&&(v=this.totalDuration);const m=v/this.duration;let y=Math.floor(m),w=m%1;!w&&m>=1&&(w=1),w===1&&y--;const _=y%2;(d==="reverse"||d==="alternate"&&_||d==="alternate-reverse"&&!_)&&(w=1-w);const S=v>=this.totalDuration?1:Math.min(w,1),C=c(this.easing(S));t(C),this.pauseTime===void 0&&(this.playState==="finished"||v>=this.totalDuration+s)?(this.playState="finished",(p=this.resolve)===null||p===void 0||p.call(this,C)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}class _or{setAnimation(t){this.animation=t,t==null||t.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const ube=new WeakMap;function PMe(e){return ube.has(e)||ube.set(e,{transforms:[],values:new Map}),ube.get(e)}function xor(e,t){return e.has(t)||e.set(t,new _or),e.get(t)}const Sor=["","X","Y","Z"],Eor=["translate","scale","rotate","skew"],d8={x:"translateX",y:"translateY",z:"translateZ"},sJe={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},Cor={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:sJe,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:m_},skew:sJe},UP=new Map,vce=e=>`--motion-${e}`,wae=["x","y","z"];Eor.forEach(e=>{Sor.forEach(t=>{wae.push(e+t),UP.set(vce(e+t),Cor[e])})});const $or=(e,t)=>wae.indexOf(e)-wae.indexOf(t),kor=new Set(wae),LMe=e=>kor.has(e),Oor=(e,t)=>{d8[t]&&(t=d8[t]);const{transforms:n}=PMe(e);k2t(n,t),e.style.transform=D2t(n)},D2t=e=>e.sort($or).reduce(Aor,"").trim(),Aor=(e,t)=>`${e} ${t}(var(${vce(t)}))`,MEe=e=>e.startsWith("--"),uJe=new Set;function Ror(e){if(!uJe.has(e)){uJe.add(e);try{const{syntax:t,initialValue:n}=UP.has(e)?UP.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:n})}catch{}}}const lbe=(e,t)=>document.createElement("div").animate(e,t),lJe={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{lbe({opacity:[1]})}catch{return!1}return!0},finished:()=>!!lbe({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{lbe({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},cbe={},hF={};for(const e in lJe)hF[e]=()=>(cbe[e]===void 0&&(cbe[e]=lJe[e]()),cbe[e]);const Tor=.015,Mor=(e,t)=>{let n="";const r=Math.round(t/Tor);for(let i=0;i<r;i++)n+=e(Fq(0,r-1,i))+", ";return n.substring(0,n.length-2)},cJe=(e,t)=>q3(e)?hF.linearEasing()?`linear(${Mor(e,t)})`:rv.easing:M2t(e)?Por(e):e,Por=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`;function Lor(e,t){for(let n=0;n<e.length;n++)e[n]===null&&(e[n]=n?e[n-1]:t());return e}const I2t=e=>Array.isArray(e)?e:[e];function EW(e){return d8[e]&&(e=d8[e]),LMe(e)?vce(e):e}const gF={get:(e,t)=>{t=EW(t);let n=MEe(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!n&&n!==0){const r=UP.get(t);r&&(n=r.initialValue)}return n},set:(e,t,n)=>{t=EW(t),MEe(t)?e.style.setProperty(t,n):e.style[t]=n}};function F2t(e,t=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch{}}function N2t(e,t){var n;let r=(t==null?void 0:t.toDefaultUnit)||m_;const i=e[e.length-1];if(Nq(i)){const a=((n=i.match(/(-?[\d.]+)([a-z%]*)/))===null||n===void 0?void 0:n[2])||"";a&&(r=s=>s+a)}return r}function Dor(){return window.__MOTION_DEV_TOOLS_RECORD}function mce(e,t,n,r={},i){const a=Dor(),s=r.record!==!1&&a;let u,{duration:f=rv.duration,delay:d=rv.delay,endDelay:c=rv.endDelay,repeat:h=rv.repeat,easing:p=rv.easing,persist:v=!1,direction:m,offset:y,allowWebkitAcceleration:w=!1}=r;const _=PMe(e),S=LMe(t);let C=hF.waapi();S&&Oor(e,t);const $=EW(t),k=xor(_.values,$),M=UP.get($);return F2t(k.animation,!(bae(p)&&k.generator)&&r.record!==!1),()=>{const A=()=>{var R,D;return(D=(R=gF.get(e,$))!==null&&R!==void 0?R:M==null?void 0:M.initialValue)!==null&&D!==void 0?D:0};let L=Lor(I2t(n),A);const N=N2t(L,M);if(bae(p)){const R=p.createAnimation(L,t!=="opacity",A,$,k);p=R.easing,L=R.keyframes||L,f=R.duration||f}if(MEe($)&&(hF.cssRegisterProperty()?Ror($):C=!1),S&&!hF.linearEasing()&&(q3(p)||qF(p)&&p.some(q3))&&(C=!1),C){M&&(L=L.map(j=>wE(j)?M.toDefaultUnit(j):j)),L.length===1&&(!hF.partialKeyframes()||s)&&L.unshift(A());const R={delay:X5.ms(d),duration:X5.ms(f),endDelay:X5.ms(c),easing:qF(p)?void 0:cJe(p,f),direction:m,iterations:h+1,fill:"both"};u=e.animate({[$]:L,offset:y,easing:qF(p)?p.map(j=>cJe(j,f)):void 0},R),u.finished||(u.finished=new Promise((j,U)=>{u.onfinish=j,u.oncancel=U}));const D=L[L.length-1];u.finished.then(()=>{v||(gF.set(e,$,D),u.cancel())}).catch(AMe),w||(u.playbackRate=1.000001)}else if(i&&S)L=L.map(R=>typeof R=="string"?parseFloat(R):R),L.length===1&&L.unshift(parseFloat(A())),u=new i(R=>{gF.set(e,$,N?N(R):R)},L,Object.assign(Object.assign({},r),{duration:f,easing:p}));else{const R=L[L.length-1];gF.set(e,$,M&&wE(R)?M.toDefaultUnit(R):R)}return s&&a(e,t,L,{duration:f,delay:d,easing:p,repeat:h,offset:y},"motion-one"),k.setAnimation(u),u}}const DMe=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function yce(e,t){var n;return typeof e=="string"?t?((n=t[e])!==null&&n!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}const Ior=e=>e(),IMe=(e,t,n=rv.duration)=>new Proxy({animations:e.map(Ior).filter(Boolean),duration:n,options:t},Nor),For=e=>e.animations[0],Nor={get:(e,t)=>{const n=For(e);switch(t){case"duration":return e.duration;case"currentTime":return X5.s((n==null?void 0:n[t])||0);case"playbackRate":case"playState":return n==null?void 0:n[t];case"finished":return e.finished||(e.finished=Promise.all(e.animations.map(zor)).catch(AMe)),e.finished;case"stop":return()=>{e.animations.forEach(r=>F2t(r))};case"forEachNative":return r=>{e.animations.forEach(i=>r(i,e))};default:return typeof(n==null?void 0:n[t])>"u"?void 0:()=>e.animations.forEach(r=>r[t]())}},set:(e,t,n)=>{switch(t){case"currentTime":n=X5.ms(n);case"currentTime":case"playbackRate":for(let r=0;r<e.animations.length;r++)e.animations[r][t]=n;return!0}return!1}},zor=e=>e.finished;function jor(e=.1,{start:t=0,from:n=0,easing:r}={}){return(i,a)=>{const s=wE(n)?n:Bor(n,a),u=Math.abs(s-i);let f=e*u;if(r){const d=a*e;f=TEe(r)(f/d)*d}return t+f}}function Bor(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function z2t(e,t,n){return q3(e)?e(t,n):e}function j2t(e){return function(n,r,i={}){n=yce(n);const a=n.length,s=[];for(let u=0;u<a;u++){const f=n[u];for(const d in r){const c=DMe(i,d);c.delay=z2t(c.delay,u,a);const h=mce(f,d,r[d],c,e);s.push(h)}}return IMe(s,i,i.duration)}}const Hor=j2t(MMe);function fJe(e,t,n,r){var i;return wE(t)?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:(i=r.get(t))!==null&&i!==void 0?i:e}function Uor(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(O2t(e,i),r--)}}function Vor(e,t,n,r,i,a){Uor(e,i,a);for(let s=0;s<t.length;s++)e.push({value:t[s],at:OMe(i,a,r[s]),easing:R2t(n,s)})}function Wor(e,t){return e.at===t.at?e.value===null?1:-1:e.at-t.at}function Gor(e,t={}){var n;const r=qor(e,t),i=r.map(a=>mce(...a,MMe)).filter(Boolean);return IMe(i,t,(n=r[0])===null||n===void 0?void 0:n[3].duration)}function qor(e,t={}){var{defaultOptions:n={}}=t,r=eT(t,["defaultOptions"]);const i=[],a=new Map,s={},u=new Map;let f=0,d=0,c=0;for(let h=0;h<e.length;h++){const p=e[h];if(Nq(p)){u.set(p,d);continue}else if(!Array.isArray(p)){u.set(p.name,fJe(d,p.at,f,u));continue}const[v,m,y={}]=p;y.at!==void 0&&(d=fJe(d,y.at,f,u));let w=0;const _=yce(v,s),S=_.length;for(let C=0;C<S;C++){const $=_[C],k=Yor($,a);for(const M in m){const A=Kor(M,k);let L=I2t(m[M]);const N=DMe(y,M);let{duration:R=n.duration||rv.duration,easing:D=n.easing||rv.easing}=N;if(bae(D)){$2t(M==="opacity"||L.length>1);const Q=D.createAnimation(L,M!=="opacity",()=>0,M);D=Q.easing,L=Q.keyframes||L,R=Q.duration||R}const j=z2t(y.delay,C,S)||0,U=d+j,H=U+R;let{offset:Y=TMe(L.length)}=N;Y.length===1&&Y[0]===0&&(Y[1]=1);const Z=Y.length-L.length;Z>0&&RMe(Y,Z),L.length===1&&L.unshift(null),Vor(A,L,D,Y,U,H),w=Math.max(j+R,w),c=Math.max(H,c)}}f=d,d+=w}return a.forEach((h,p)=>{for(const v in h){const m=h[v];m.sort(Wor);const y=[],w=[],_=[];for(let S=0;S<m.length;S++){const{at:C,value:$,easing:k}=m[S];y.push($),w.push(Fq(0,c,C)),_.push(k||rv.easing)}w[0]!==0&&(w.unshift(0),y.unshift(y[0]),_.unshift("linear")),w[w.length-1]!==1&&(w.push(1),y.push(null)),i.push([p,v,y,Object.assign(Object.assign(Object.assign({},n),{duration:c,easing:_,offset:w}),r)])}}),i}function Yor(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Kor(e,t){return t[e]||(t[e]=[]),t[e]}const Xor=5;function FMe(e,t,n){const r=Math.max(t-Xor,0);return P2t(n-e(r),t-r)}const YF={stiffness:100,damping:10,mass:1},Zor=(e=YF.stiffness,t=YF.damping,n=YF.mass)=>t/(2*Math.sqrt(e*n));function Qor(e,t,n){return e<t&&n>=t||e>t&&n<=t}const B2t=({stiffness:e=YF.stiffness,damping:t=YF.damping,mass:n=YF.mass,from:r=0,to:i=1,velocity:a=0,restSpeed:s=2,restDistance:u=.5}={})=>{a=a?X5.s(a):0;const f={done:!1,hasReachedTarget:!1,current:r,target:i},d=i-r,c=Math.sqrt(e/n)/1e3,h=Zor(e,t,n);let p;if(h<1){const v=c*Math.sqrt(1-h*h);p=m=>i-Math.exp(-h*c*m)*((-a+h*c*d)/v*Math.sin(v*m)+d*Math.cos(v*m))}else p=v=>i-Math.exp(-c*v)*(d+(-a+c*d)*v);return v=>{f.current=p(v);const m=v===0?a:FMe(p,v,f.current),y=Math.abs(m)<=s,w=Math.abs(i-f.current)<=u;return f.done=y&&w,f.hasReachedTarget=Qor(r,i,f.current),f}},Jor=({from:e=0,velocity:t=0,power:n=.8,decay:r=.325,bounceDamping:i,bounceStiffness:a,changeTarget:s,min:u,max:f,restDistance:d=.5,restSpeed:c})=>{r=X5.ms(r);const h={hasReachedTarget:!1,done:!1,current:e,target:e},p=A=>u!==void 0&&A<u||f!==void 0&&A>f,v=A=>u===void 0?f:f===void 0||Math.abs(u-A)<Math.abs(f-A)?u:f;let m=n*t;const y=e+m,w=s===void 0?y:s(y);h.target=w,w!==y&&(m=w-e);const _=A=>-m*Math.exp(-A/r),S=A=>w+_(A),C=A=>{const L=_(A),N=S(A);h.done=Math.abs(L)<=d,h.current=h.done?w:N};let $,k;const M=A=>{p(h.current)&&($=A,k=B2t({from:h.current,to:v(h.current),velocity:FMe(S,A,h.current),damping:i,stiffness:a,restDistance:d,restSpeed:c}))};return M(0),A=>{let L=!1;return!k&&$===void 0&&(L=!0,C(A),M(A)),$!==void 0&&A>$?(h.hasReachedTarget=!0,k(A-$)):(h.hasReachedTarget=!1,!L&&C(A),h)}},fbe=10,esr=1e4;function tsr(e,t=m_){let n,r=fbe,i=e(0);const a=[t(i.current)];for(;!i.done&&r<esr;)i=e(r),a.push(t(i.done?i.target:i.current)),n===void 0&&i.hasReachedTarget&&(n=r),r+=fbe;const s=r-fbe;return a.length===1&&a.push(i.current),{keyframes:a,duration:s/1e3,overshootDuration:(n??s)/1e3}}function dJe(e){return wE(e)&&!isNaN(e)}function dbe(e){return Nq(e)?parseFloat(e):e}function H2t(e){const t=new WeakMap;return(n={})=>{const r=new Map,i=(s=0,u=100,f=0,d=!1)=>{const c=`${s}-${u}-${f}-${d}`;return r.has(c)||r.set(c,e(Object.assign({from:s,to:u,velocity:f,restSpeed:d?.05:2,restDistance:d?.01:.5},n))),r.get(c)},a=(s,u)=>(t.has(s)||t.set(s,tsr(s,u)),t.get(s));return{createAnimation:(s,u=!0,f,d,c)=>{let h,p,v,m=0,y=m_;const w=s.length;if(u){y=N2t(s,d?UP.get(EW(d)):void 0);const _=s[w-1];if(v=dbe(_),w>1&&s[0]!==null)p=dbe(s[0]);else{const S=c==null?void 0:c.generator;if(S){const{animation:C,generatorStartTime:$}=c,k=(C==null?void 0:C.startTime)||$||0,M=(C==null?void 0:C.currentTime)||performance.now()-k,A=S(M).current;p=A,m=FMe(L=>S(L).current,M,A)}else f&&(p=dbe(f()))}}if(dJe(p)&&dJe(v)){const _=i(p,v,m,d==null?void 0:d.includes("scale"));h=Object.assign(Object.assign({},a(_,y)),{easing:"linear"}),c&&(c.generator=_,c.generatorStartTime=performance.now())}return h||(h={easing:"ease",duration:a(i(0,100)).overshootDuration}),h}}}}const nsr=H2t(B2t),rsr=H2t(Jor),isr={any:0,all:1};function U2t(e,t,{root:n,margin:r,amount:i="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const a=yce(e),s=new WeakMap,u=d=>{d.forEach(c=>{const h=s.get(c.target);if(c.isIntersecting!==!!h)if(c.isIntersecting){const p=t(c);q3(p)?s.set(c.target,p):f.unobserve(c.target)}else h&&(h(c),s.delete(c.target))})},f=new IntersectionObserver(u,{root:n,rootMargin:r,threshold:typeof i=="number"?i:isr[i]});return a.forEach(d=>f.observe(d)),()=>f.disconnect()}const rne=new WeakMap;let ZA;function asr(e,t){if(t){const{inlineSize:n,blockSize:r}=t[0];return{width:n,height:r}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function osr({target:e,contentRect:t,borderBoxSize:n}){var r;(r=rne.get(e))===null||r===void 0||r.forEach(i=>{i({target:e,contentSize:t,get size(){return asr(e,n)}})})}function ssr(e){e.forEach(osr)}function usr(){typeof ResizeObserver>"u"||(ZA=new ResizeObserver(ssr))}function lsr(e,t){ZA||usr();const n=yce(e);return n.forEach(r=>{let i=rne.get(r);i||(i=new Set,rne.set(r,i)),i.add(t),ZA==null||ZA.observe(r)}),()=>{n.forEach(r=>{const i=rne.get(r);i==null||i.delete(t),i!=null&&i.size||ZA==null||ZA.unobserve(r)})}}const ine=new Set;let OU;function csr(){OU=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};ine.forEach(n=>n(t))},window.addEventListener("resize",OU)}function fsr(e){return ine.add(e),OU||csr(),()=>{ine.delete(e),!ine.size&&OU&&(OU=void 0)}}function V2t(e,t){return q3(e)?fsr(e):lsr(e,t)}const dsr=50,hJe=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),hsr=()=>({time:0,x:hJe(),y:hJe()}),gsr={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function gJe(e,t,n,r){const i=n[t],{length:a,position:s}=gsr[t],u=i.current,f=n.time;i.current=e["scroll"+s],i.scrollLength=e["scroll"+a]-e["client"+a],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Fq(0,i.scrollLength,i.current);const d=r-f;i.velocity=d>dsr?0:P2t(i.current-u,d)}function psr(e,t,n){gJe(e,"x",t,n),gJe(e,"y",t,n),t.time=n}function vsr(e,t){let n={x:0,y:0},r=e;for(;r&&r!==t;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r instanceof SVGGraphicsElement&&"getBBox"in r){const{top:i,left:a}=r.getBBox();for(n.x+=a,n.y+=i;r&&r.tagName!=="svg";)r=r.parentNode}return n}const W2t={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},PEe={start:0,center:.5,end:1};function pJe(e,t,n=0){let r=0;if(PEe[e]!==void 0&&(e=PEe[e]),Nq(e)){const i=parseFloat(e);e.endsWith("px")?r=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?r=i/100*document.documentElement.clientWidth:e.endsWith("vh")?r=i/100*document.documentElement.clientHeight:e=i}return wE(e)&&(r=t*e),n+r}const msr=[0,0];function ysr(e,t,n,r){let i=Array.isArray(e)?e:msr,a=0,s=0;return wE(e)?i=[e,e]:Nq(e)&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,PEe[e]?e:"0"]),a=pJe(i[0],n,r),s=pJe(i[1],t),a-s}const bsr={x:0,y:0};function wsr(e,t,n){let{offset:r=W2t.All}=n;const{target:i=e,axis:a="y"}=n,s=a==="y"?"height":"width",u=i!==e?vsr(i,e):bsr,f=i===e?{width:e.scrollWidth,height:e.scrollHeight}:{width:i.clientWidth,height:i.clientHeight},d={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let c=!t[a].interpolate;const h=r.length;for(let p=0;p<h;p++){const v=ysr(r[p],d[s],f[s],u[a]);!c&&v!==t[a].interpolatorOffsets[p]&&(c=!0),t[a].offset[p]=v}c&&(t[a].interpolate=T2t(TMe(h),t[a].offset),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=t[a].interpolate(t[a].current)}function _sr(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!=e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function xsr(e,t,n,r={}){const i=r.axis||"y";return{measure:()=>_sr(e,r.target,n),update:a=>{psr(e,n,a),(r.offset||r.target)&&wsr(e,n,r)},notify:q3(t)?()=>t(n):Ssr(t,n[i])}}function Ssr(e,t){return e.pause(),e.forEachNative((n,{easing:r})=>{var i,a;if(n.updateDuration)r||(n.easing=m_),n.updateDuration(1);else{const s={duration:1e3};r||(s.easing="linear"),(a=(i=n.effect)===null||i===void 0?void 0:i.updateTiming)===null||a===void 0||a.call(i,s)}}),()=>{e.currentTime=t.progress}}const VB=new WeakMap,vJe=new WeakMap,hbe=new WeakMap,mJe=e=>e===document.documentElement?window:e;function Esr(e,t={}){var{container:n=document.documentElement}=t,r=eT(t,["container"]);let i=hbe.get(n);i||(i=new Set,hbe.set(n,i));const a=hsr(),s=xsr(n,e,a,r);if(i.add(s),!VB.has(n)){const d=()=>{const h=performance.now();for(const p of i)p.measure();for(const p of i)p.update(h);for(const p of i)p.notify()};VB.set(n,d);const c=mJe(n);window.addEventListener("resize",d,{passive:!0}),n!==document.documentElement&&vJe.set(n,V2t(n,d)),c.addEventListener("scroll",d,{passive:!0})}const u=VB.get(n),f=requestAnimationFrame(u);return()=>{var d;typeof e!="function"&&e.stop(),cancelAnimationFrame(f);const c=hbe.get(n);if(!c||(c.delete(s),c.size))return;const h=VB.get(n);VB.delete(n),h&&(mJe(n).removeEventListener("scroll",h),(d=vJe.get(n))===null||d===void 0||d(),window.removeEventListener("resize",h))}}function Csr(e,t){return typeof e!=typeof t?!0:Array.isArray(e)&&Array.isArray(t)?!$sr(e,t):e!==t}function $sr(e,t){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ksr(e){return typeof e=="object"}function yJe(e,t){if(ksr(e))return e;if(e&&t)return t[e]}let l3;function Osr(){if(!l3)return;const e=l3.sort(Rsr).map(Tsr);e.forEach(bJe),e.forEach(bJe),l3=void 0}function gbe(e){l3?k2t(l3,e):(l3=[e],requestAnimationFrame(Osr))}function Asr(e){l3&&O2t(l3,e)}const Rsr=(e,t)=>e.getDepth()-t.getDepth(),Tsr=e=>e.animateUpdates(),bJe=e=>e.next(),wJe=(e,t)=>new CustomEvent(e,{detail:{target:t}});function LEe(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEvent:n}}))}function _Je(e,t,n){e.dispatchEvent(new CustomEvent(t,{detail:{originalEntry:n}}))}const Msr={isActive:e=>!!e.inView,subscribe:(e,{enable:t,disable:n},{inViewOptions:r={}})=>{const{once:i}=r,a=eT(r,["once"]);return U2t(e,s=>{if(t(),_Je(e,"viewenter",s),!i)return u=>{n(),_Je(e,"viewleave",u)}},a)}},xJe=(e,t,n)=>r=>{r.pointerType&&r.pointerType!=="mouse"||(n(),LEe(e,t,r))},Psr={isActive:e=>!!e.hover,subscribe:(e,{enable:t,disable:n})=>{const r=xJe(e,"hoverstart",t),i=xJe(e,"hoverend",n);return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",i),()=>{e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",i)}}},Lsr={isActive:e=>!!e.press,subscribe:(e,{enable:t,disable:n})=>{const r=a=>{n(),LEe(e,"pressend",a),window.removeEventListener("pointerup",r)},i=a=>{t(),LEe(e,"pressstart",a),window.addEventListener("pointerup",r)};return e.addEventListener("pointerdown",i),()=>{e.removeEventListener("pointerdown",i),window.removeEventListener("pointerup",r)}}},ane={inView:Msr,hover:Psr,press:Lsr},SJe=["initial","animate",...Object.keys(ane),"exit"],DEe=new WeakMap;function Dsr(e={},t){let n,r=t?t.getDepth()+1:0;const i={initial:!0,animate:!0},a={},s={};for(const y of SJe)s[y]=typeof e[y]=="string"?e[y]:t==null?void 0:t.getContext()[y];const u=e.initial===!1?"animate":"initial";let f=yJe(e[u]||s[u],e.variants)||{},d=eT(f,["transition"]);const c=Object.assign({},d);function*h(){var y,w;const _=d;d={};const S={};for(const A of SJe){if(!i[A])continue;const L=yJe(e[A]);if(L)for(const N in L)N!=="transition"&&(d[N]=L[N],S[N]=DMe((w=(y=L.transition)!==null&&y!==void 0?y:e.transition)!==null&&w!==void 0?w:{},N))}const C=new Set([...Object.keys(d),...Object.keys(_)]),$=[];C.forEach(A=>{var L;d[A]===void 0&&(d[A]=c[A]),Csr(_[A],d[A])&&((L=c[A])!==null&&L!==void 0||(c[A]=gF.get(n,A)),$.push(mce(n,A,d[A],S[A],MMe)))}),yield;const k=$.map(A=>A()).filter(Boolean);if(!k.length)return;const M=d;n.dispatchEvent(wJe("motionstart",M)),Promise.all(k.map(A=>A.finished)).then(()=>{n.dispatchEvent(wJe("motioncomplete",M))}).catch(AMe)}const p=(y,w)=>()=>{i[y]=w,gbe(m)},v=()=>{for(const y in ane){const w=ane[y].isActive(e),_=a[y];w&&!_?a[y]=ane[y].subscribe(n,{enable:p(y,!0),disable:p(y,!1)},e):!w&&_&&(_(),delete a[y])}},m={update:y=>{n&&(e=y,v(),gbe(m))},setActive:(y,w)=>{n&&(i[y]=w,gbe(m))},animateUpdates:h,getDepth:()=>r,getTarget:()=>d,getOptions:()=>e,getContext:()=>s,mount:y=>(n=y,DEe.set(n,m),v(),()=>{DEe.delete(n),Asr(m);for(const w in a)a[w]()}),isMounted:()=>!!n};return m}function G2t(e){const t={},n=[];for(let r in e){const i=e[r];LMe(r)&&(d8[r]&&(r=d8[r]),n.push(r),r=vce(r));let a=Array.isArray(i)?i[0]:i;const s=UP.get(r);s&&(a=wE(i)?s.toDefaultUnit(i):i),t[r]=a}return n.length&&(t.transform=D2t(n)),t}const Isr=e=>`-${e.toLowerCase()}`,Fsr=e=>e.replace(/[A-Z]/g,Isr);function Nsr(e={}){const t=G2t(e);let n="";for(const r in t)n+=r.startsWith("--")?r:Fsr(r),n+=`: ${t[r]}; `;return n}const zsr=Object.freeze(Object.defineProperty({__proto__:null,ScrollOffset:W2t,animate:Hor,animateStyle:mce,createAnimate:j2t,createMotionState:Dsr,createStyleString:Nsr,createStyles:G2t,getAnimationData:PMe,getStyleName:EW,glide:rsr,inView:U2t,mountedStates:DEe,resize:V2t,scroll:Esr,spring:nsr,stagger:jor,style:gF,timeline:Gor,withControls:IMe},Symbol.toStringTag,{value:"Module"})),jsr=A_(zsr);function Bsr(e){var t={};return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Hsr=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Usr=Bsr(function(e){return Hsr.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});const Vsr=Object.freeze(Object.defineProperty({__proto__:null,default:Usr},Symbol.toStringTag,{value:"Module"})),Wsr=A_(Vsr);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=z,n=gor,r=jsr;function i(G){return G&&typeof G=="object"&&"default"in G?G:{default:G}}function a(G){if(G&&G.__esModule)return G;var X=Object.create(null);return G&&Object.keys(G).forEach(function(ae){if(ae!=="default"){var se=Object.getOwnPropertyDescriptor(G,ae);Object.defineProperty(X,ae,se.get?se:{enumerable:!0,get:function(){return G[ae]}})}}),X.default=G,Object.freeze(X)}var s=i(t),u=a(t);const f=t.createContext({transformPagePoint:G=>G,isStatic:!1,reducedMotion:"never"}),d=t.createContext({});function c(){return t.useContext(d).visualElement}const h=t.createContext(null),p=typeof document<"u",v=p?t.useLayoutEffect:t.useEffect,m=t.createContext({strict:!1});function y(G,X,ae,se){const he=c(),Fe=t.useContext(m),Te=t.useContext(h),Ke=t.useContext(f).reducedMotion,Qe=t.useRef();se=se||Fe.renderer,!Qe.current&&se&&(Qe.current=se(G,{visualState:X,parent:he,props:ae,presenceId:Te?Te.id:void 0,blockInitialAnimation:Te?Te.initial===!1:!1,reducedMotionConfig:Ke}));const et=Qe.current;return v(()=>{et&&et.render()}),(window.HandoffAppearAnimations?v:t.useEffect)(()=>{et&&et.animationState&&et.animationState.animateChanges()}),et}function w(G){return typeof G=="object"&&Object.prototype.hasOwnProperty.call(G,"current")}function _(G,X,ae){return t.useCallback(se=>{se&&G.mount&&G.mount(se),X&&(se?X.mount(se):X.unmount()),ae&&(typeof ae=="function"?ae(se):w(ae)&&(ae.current=se))},[X])}function S(G){return typeof G=="string"||Array.isArray(G)}function C(G){return typeof G=="object"&&typeof G.start=="function"}const $=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function k(G){return C(G.animate)||$.some(X=>S(G[X]))}function M(G){return!!(k(G)||G.variants)}function A(G,X){if(k(G)){const{initial:ae,animate:se}=G;return{initial:ae===!1||S(ae)?ae:void 0,animate:S(se)?se:void 0}}return G.inherit!==!1?X:{}}function L(G){const{initial:X,animate:ae}=A(G,t.useContext(d));return t.useMemo(()=>({initial:X,animate:ae}),[N(X),N(ae)])}function N(G){return Array.isArray(G)?G.join(" "):G}const R=G=>({isEnabled:X=>G.some(ae=>!!X[ae])}),D={measureLayout:R(["layout","layoutId","drag"]),animation:R(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:R(["exit"]),drag:R(["drag","dragControls"]),focus:R(["whileFocus"]),hover:R(["whileHover","onHoverStart","onHoverEnd"]),tap:R(["whileTap","onTap","onTapStart","onTapCancel"]),pan:R(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:R(["whileInView","onViewportEnter","onViewportLeave"])};function j(G){for(const X in G)X==="projectionNodeConstructor"?D.projectionNodeConstructor=G[X]:D[X].Component=G[X]}function U(G){const X=t.useRef(null);return X.current===null&&(X.current=G()),X.current}const H={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Y=1;function Z(){return U(()=>{if(H.hasEverUpdated)return Y++})}const Q=t.createContext({});class ee extends s.default.Component{getSnapshotBeforeUpdate(){const{visualElement:X,props:ae}=this.props;return X&&X.setProps(ae),null}componentDidUpdate(){}render(){return this.props.children}}const oe=t.createContext({}),ue=Symbol.for("motionComponentSymbol");function ve({preloadedFeatures:G,createVisualElement:X,projectionNodeConstructor:ae,useRender:se,useVisualState:he,Component:Fe}){G&&j(G);function Te(Qe,et){const lt={...t.useContext(f),...Qe,layoutId:le(Qe)},{isStatic:zt}=lt;let It=null;const Kt=L(Qe),pn=zt?void 0:Z(),Bn=he(Qe,zt);if(!zt&&p){Kt.visualElement=y(Fe,Bn,lt,X);const Nr=t.useContext(m).strict,Cr=t.useContext(oe);Kt.visualElement&&(It=Kt.visualElement.loadFeatures(lt,Nr,G,pn,ae||D.projectionNodeConstructor,Cr))}return u.createElement(ee,{visualElement:Kt.visualElement,props:lt},It,u.createElement(d.Provider,{value:Kt},se(Fe,Qe,pn,_(Bn,Kt.visualElement,et),Bn,zt,Kt.visualElement)))}const Ke=t.forwardRef(Te);return Ke[ue]=Fe,Ke}function le({layoutId:G}){const X=t.useContext(Q).id;return X&&G!==void 0?X+"-"+G:G}function de(G){function X(se,he={}){return ve(G(se,he))}if(typeof Proxy>"u")return X;const ae=new Map;return new Proxy(X,{get:(se,he)=>(ae.has(he)||ae.set(he,X(he)),ae.get(he))})}const me=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Se(G){return typeof G!="string"||G.includes("-")?!1:!!(me.indexOf(G)>-1||/[A-Z]/.test(G))}const Ee={};function xe(G){Object.assign(Ee,G)}const Ie=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ne=new Set(Ie);function We(G,{layout:X,layoutId:ae}){return Ne.has(G)||G.startsWith("origin")||(X||ae!==void 0)&&(!!Ee[G]||G==="opacity")}const Me=G=>!!(G!=null&&G.getVelocity),He={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gt=(G,X)=>Ie.indexOf(G)-Ie.indexOf(X);function Ye({transform:G,transformKeys:X},{enableHardwareAcceleration:ae=!0,allowTransformNone:se=!0},he,Fe){let Te="";X.sort(gt);for(const Ke of X)Te+=`${He[Ke]||Ke}(${G[Ke]}) `;return ae&&!G.z&&(Te+="translateZ(0)"),Te=Te.trim(),Fe?Te=Fe(G,he?"":Te):se&&he&&(Te="none"),Te}function ot(G){return G.startsWith("--")}const Ue=(G,X)=>X&&typeof G=="number"?X.transform(G):G,st=(G,X,ae)=>Math.min(Math.max(ae,G),X),at={test:G=>typeof G=="number",parse:parseFloat,transform:G=>G},St={...at,transform:G=>st(0,1,G)},Vt={...at,default:1},tt=G=>Math.round(G*1e5)/1e5,wt=/(-)?([\d]*\.?[\d])+/g,vt=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Le=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ft(G){return typeof G=="string"}const Mt=G=>({test:X=>ft(X)&&X.endsWith(G)&&X.split(" ").length===1,parse:parseFloat,transform:X=>`${X}${G}`}),yt=Mt("deg"),Ct=Mt("%"),jt=Mt("px"),At=Mt("vh"),Bt=Mt("vw"),kt={...Ct,parse:G=>Ct.parse(G)/100,transform:G=>Ct.transform(G*100)},qt={...at,transform:Math.round},fn={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,size:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,rotate:yt,rotateX:yt,rotateY:yt,rotateZ:yt,scale:Vt,scaleX:Vt,scaleY:Vt,scaleZ:Vt,skew:yt,skewX:yt,skewY:yt,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:St,originX:kt,originY:kt,originZ:jt,zIndex:qt,fillOpacity:St,strokeOpacity:St,numOctaves:qt};function jn(G,X,ae,se){const{style:he,vars:Fe,transform:Te,transformKeys:Ke,transformOrigin:Qe}=G;Ke.length=0;let et=!1,lt=!1,zt=!0;for(const It in X){const Kt=X[It];if(ot(It)){Fe[It]=Kt;continue}const pn=fn[It],Bn=Ue(Kt,pn);if(Ne.has(It)){if(et=!0,Te[It]=Bn,Ke.push(It),!zt)continue;Kt!==(pn.default||0)&&(zt=!1)}else It.startsWith("origin")?(lt=!0,Qe[It]=Bn):he[It]=Bn}if(X.transform||(et||se?he.transform=Ye(G,ae,zt,se):he.transform&&(he.transform="none")),lt){const{originX:It="50%",originY:Kt="50%",originZ:pn=0}=Qe;he.transformOrigin=`${It} ${Kt} ${pn}`}}const Mn=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function Un(G,X,ae){for(const se in X)!Me(X[se])&&!We(se,ae)&&(G[se]=X[se])}function Kr({transformTemplate:G},X,ae){return t.useMemo(()=>{const se=Mn();return jn(se,X,{enableHardwareAcceleration:!ae},G),Object.assign({},se.vars,se.style)},[X])}function Wi(G,X,ae){const se=G.style||{},he={};return Un(he,se,G),Object.assign(he,Kr(G,X,ae)),G.transformValues?G.transformValues(he):he}function sa(G,X,ae){const se={},he=Wi(G,X,ae);return G.drag&&G.dragListener!==!1&&(se.draggable=!1,he.userSelect=he.WebkitUserSelect=he.WebkitTouchCallout="none",he.touchAction=G.drag===!0?"none":`pan-${G.drag==="x"?"y":"x"}`),se.style=he,se}const ga=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","viewport"]);function $i(G){return G.startsWith("while")||G.startsWith("drag")&&G!=="draggable"||G.startsWith("layout")||G.startsWith("onTap")||G.startsWith("onPan")||ga.has(G)}let Do=G=>!$i(G);function xo(G){G&&(Do=X=>X.startsWith("on")?!$i(X):G(X))}try{xo(Wsr.default)}catch{}function en(G,X,ae){const se={};for(const he in G)he==="values"&&typeof G.values=="object"||(Do(he)||ae===!0&&$i(he)||!X&&!$i(he)||G.draggable&&he.startsWith("onDrag"))&&(se[he]=G[he]);return se}function sn(G,X,ae){return typeof G=="string"?G:jt.transform(X+ae*G)}function On(G,X,ae){const se=sn(X,G.x,G.width),he=sn(ae,G.y,G.height);return`${se} ${he}`}const Kn={offset:"stroke-dashoffset",array:"stroke-dasharray"},kr={offset:"strokeDashoffset",array:"strokeDasharray"};function ti(G,X,ae=1,se=0,he=!0){G.pathLength=1;const Fe=he?Kn:kr;G[Fe.offset]=jt.transform(-se);const Te=jt.transform(X),Ke=jt.transform(ae);G[Fe.array]=`${Te} ${Ke}`}function Ji(G,{attrX:X,attrY:ae,originX:se,originY:he,pathLength:Fe,pathSpacing:Te=1,pathOffset:Ke=0,...Qe},et,lt,zt){if(jn(G,Qe,et,zt),lt){G.style.viewBox&&(G.attrs.viewBox=G.style.viewBox);return}G.attrs=G.style,G.style={};const{attrs:It,style:Kt,dimensions:pn}=G;It.transform&&(pn&&(Kt.transform=It.transform),delete It.transform),pn&&(se!==void 0||he!==void 0||Kt.transform)&&(Kt.transformOrigin=On(pn,se!==void 0?se:.5,he!==void 0?he:.5)),X!==void 0&&(It.x=X),ae!==void 0&&(It.y=ae),Fe!==void 0&&ti(It,Fe,Te,Ke,!1)}const Yi=()=>({...Mn(),attrs:{}}),ka=G=>typeof G=="string"&&G.toLowerCase()==="svg";function fo(G,X,ae,se){const he=t.useMemo(()=>{const Fe=Yi();return Ji(Fe,X,{enableHardwareAcceleration:!1},ka(se),G.transformTemplate),{...Fe.attrs,style:{...Fe.style}}},[X]);if(G.style){const Fe={};Un(Fe,G.style,G),he.style={...Fe,...he.style}}return he}function Il(G=!1){return(ae,se,he,Fe,{latestValues:Te},Ke)=>{const et=(Se(ae)?fo:sa)(se,Te,Ke,ae),zt={...en(se,typeof ae=="string",G),...et,ref:Fe},{children:It}=se,Kt=t.useMemo(()=>Me(It)?It.get():It,[It]);return he&&(zt["data-projection-id"]=he),t.createElement(ae,{...zt,children:Kt})}}const Oa=G=>G.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function rc(G,{style:X,vars:ae},se,he){Object.assign(G.style,X,he&&he.getProjectionStyles(se));for(const Fe in ae)G.style.setProperty(Fe,ae[Fe])}const Bf=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Hf(G,X,ae,se){rc(G,X,void 0,se);for(const he in X.attrs)G.setAttribute(Bf.has(he)?he:Oa(he),X.attrs[he])}function th(G,X){const{style:ae}=G,se={};for(const he in ae)(Me(ae[he])||X.style&&Me(X.style[he])||We(he,G))&&(se[he]=ae[he]);return se}function Gh(G,X){const ae=th(G,X);for(const se in G)if(Me(G[se])||Me(X[se])){const he=se==="x"||se==="y"?"attr"+se.toUpperCase():se;ae[he]=G[se]}return ae}function wu(G,X,ae,se={},he={}){return typeof X=="function"&&(X=X(ae!==void 0?ae:G.custom,se,he)),typeof X=="string"&&(X=G.variants&&G.variants[X]),typeof X=="function"&&(X=X(ae!==void 0?ae:G.custom,se,he)),X}const qs=G=>Array.isArray(G),ic=G=>!!(G&&typeof G=="object"&&G.mix&&G.toValue),wf=G=>qs(G)?G[G.length-1]||0:G;function Fl(G){const X=Me(G)?G.get():G;return ic(X)?X.toValue():X}function Du({scrapeMotionValuesFromProps:G,createRenderState:X,onMount:ae},se,he,Fe){const Te={latestValues:Uf(se,he,Fe,G),renderState:X()};return ae&&(Te.mount=Ke=>ae(se,Ke,Te)),Te}const Gu=G=>(X,ae)=>{const se=t.useContext(d),he=t.useContext(h),Fe=()=>Du(G,X,se,he);return ae?Fe():U(Fe)};function Uf(G,X,ae,se){const he={},Fe=se(G,{});for(const It in Fe)he[It]=Fl(Fe[It]);let{initial:Te,animate:Ke}=G;const Qe=k(G),et=M(G);X&&et&&!Qe&&G.inherit!==!1&&(Te===void 0&&(Te=X.initial),Ke===void 0&&(Ke=X.animate));let lt=ae?ae.initial===!1:!1;lt=lt||Te===!1;const zt=lt?Ke:Te;return zt&&typeof zt!="boolean"&&!C(zt)&&(Array.isArray(zt)?zt:[zt]).forEach(Kt=>{const pn=wu(G,Kt);if(!pn)return;const{transitionEnd:Bn,transition:Nr,...Cr}=pn;for(const Lr in Cr){let Rr=Cr[Lr];if(Array.isArray(Rr)){const Sr=lt?Rr.length-1:0;Rr=Rr[Sr]}Rr!==null&&(he[Lr]=Rr)}for(const Lr in Bn)he[Lr]=Bn[Lr]}),he}const Nl={useVisualState:Gu({scrapeMotionValuesFromProps:Gh,createRenderState:Yi,onMount:(G,X,{renderState:ae,latestValues:se})=>{try{ae.dimensions=typeof X.getBBox=="function"?X.getBBox():X.getBoundingClientRect()}catch{ae.dimensions={x:0,y:0,width:0,height:0}}Ji(ae,se,{enableHardwareAcceleration:!1},ka(X.tagName),G.transformTemplate),Hf(X,ae)}})},ja={useVisualState:Gu({scrapeMotionValuesFromProps:th,createRenderState:Mn})};function lu(G,{forwardMotionProps:X=!1},ae,se,he){return{...Se(G)?Nl:ja,preloadedFeatures:ae,useRender:Il(X),createVisualElement:se,projectionNodeConstructor:he,Component:G}}e.AnimationType=void 0,function(G){G.Animate="animate",G.Hover="whileHover",G.Tap="whileTap",G.Drag="whileDrag",G.Focus="whileFocus",G.InView="whileInView",G.Exit="exit"}(e.AnimationType||(e.AnimationType={}));function _f(G,X,ae,se={passive:!0}){return G.addEventListener(X,ae,se),()=>G.removeEventListener(X,ae)}function Iu(G,X,ae,se){t.useEffect(()=>{const he=G.current;if(ae&&he)return _f(he,X,ae,se)},[G,X,ae,se])}function _u({whileFocus:G,visualElement:X}){const{animationState:ae}=X,se=t.useCallback(()=>{ae&&ae.setActive(e.AnimationType.Focus,!0)},[ae]),he=t.useCallback(()=>{ae&&ae.setActive(e.AnimationType.Focus,!1)},[ae]);Iu(X,"focus",G?se:void 0),Iu(X,"blur",G?he:void 0)}const xf=G=>G.pointerType==="mouse"?typeof G.button!="number"||G.button<=0:G.isPrimary!==!1;function xu(G,X="page"){return{point:{x:G[X+"X"],y:G[X+"Y"]}}}const Ev=G=>X=>xf(X)&&G(X,xu(X));function wd(G,X,ae,se){return _f(G,X,Ev(ae),se)}function qh(G,X,ae,se){return Iu(G,X,ae&&Ev(ae),se)}function t0(G){let X=null;return()=>{const ae=()=>{X=null};return X===null?(X=G,ae):!1}}const n0=t0("dragHorizontal"),r0=t0("dragVertical");function Sf(G){let X=!1;if(G==="y")X=r0();else if(G==="x")X=n0();else{const ae=n0(),se=r0();ae&&se?X=()=>{ae(),se()}:(ae&&ae(),se&&se())}return X}function Yh(){const G=Sf(!0);return G?(G(),!1):!0}function nh(G,X,ae,se){return(he,Fe)=>{he.type==="touch"||Yh()||(ae&&G.animationState&&G.animationState.setActive(e.AnimationType.Hover,X),se&&se(he,Fe))}}function Yg({onHoverStart:G,onHoverEnd:X,whileHover:ae,visualElement:se}){qh(se,"pointerenter",t.useMemo(()=>G||ae?nh(se,!0,!!ae,G):void 0,[G,!!ae,se]),{passive:!G}),qh(se,"pointerleave",t.useMemo(()=>X||ae?nh(se,!1,!!ae,X):void 0,[G,!!ae,se]),{passive:!X})}const Vf=(G,X)=>X?G===X?!0:Vf(G,X.parentElement):!1;function Kh(G){return t.useEffect(()=>()=>G(),[])}const Hm=(G,X)=>ae=>X(G(ae)),Wf=(...G)=>G.reduce(Hm);function rh({onTap:G,onTapStart:X,onTapCancel:ae,whileTap:se,visualElement:he,...Fe}){const Te=G||X||ae||se,Ke=t.useRef(!1),Qe=t.useRef(null),et={passive:!(X||G||ae||Fe.onPointerDown)};function lt(){Qe.current&&Qe.current(),Qe.current=null}function zt(){return lt(),Ke.current=!1,he.getProps().whileTap&&he.animationState&&he.animationState.setActive(e.AnimationType.Tap,!1),!Yh()}function It(Bn,Nr){var Cr,Lr,Rr,Sr;zt()&&(Vf(he.current,Bn.target)?(Sr=(Rr=he.getProps()).onTap)===null||Sr===void 0||Sr.call(Rr,Bn,Nr):(Lr=(Cr=he.getProps()).onTapCancel)===null||Lr===void 0||Lr.call(Cr,Bn,Nr))}function Kt(Bn,Nr){var Cr,Lr;zt()&&((Lr=(Cr=he.getProps()).onTapCancel)===null||Lr===void 0||Lr.call(Cr,Bn,Nr))}const pn=t.useCallback((Bn,Nr)=>{var Cr;if(lt(),Ke.current)return;Ke.current=!0,Qe.current=Wf(wd(window,"pointerup",It,et),wd(window,"pointercancel",Kt,et));const Lr=he.getProps();Lr.whileTap&&he.animationState&&he.animationState.setActive(e.AnimationType.Tap,!0),(Cr=Lr.onTapStart)===null||Cr===void 0||Cr.call(Lr,Bn,Nr)},[!!X,he]);qh(he,"pointerdown",Te?pn:void 0,et),Kh(lt)}const Ef=new WeakMap,Xh=new WeakMap,Zh=G=>{const X=Ef.get(G.target);X&&X(G)},cs=G=>{G.forEach(Zh)};function Gf({root:G,...X}){const ae=G||document;Xh.has(ae)||Xh.set(ae,{});const se=Xh.get(ae),he=JSON.stringify(X);return se[he]||(se[he]=new IntersectionObserver(cs,{root:G,...X})),se[he]}function ac(G,X,ae){const se=Gf(X);return Ef.set(G,ae),se.observe(G),()=>{Ef.delete(G),se.unobserve(G)}}function Kg({visualElement:G,whileInView:X,onViewportEnter:ae,onViewportLeave:se,viewport:he={}}){const Fe=t.useRef({hasEnteredView:!1,isInView:!1});let Te=!!(X||ae||se);he.once&&Fe.current.hasEnteredView&&(Te=!1),(typeof IntersectionObserver>"u"?Xg:_d)(Te,Fe.current,G,he)}const Cv={some:0,all:1};function _d(G,X,ae,{root:se,margin:he,amount:Fe="some",once:Te}){t.useEffect(()=>{if(!G||!ae.current)return;const Ke={root:se==null?void 0:se.current,rootMargin:he,threshold:typeof Fe=="number"?Fe:Cv[Fe]},Qe=et=>{const{isIntersecting:lt}=et;if(X.isInView===lt||(X.isInView=lt,Te&&!lt&&X.hasEnteredView))return;lt&&(X.hasEnteredView=!0),ae.animationState&&ae.animationState.setActive(e.AnimationType.InView,lt);const zt=ae.getProps(),It=lt?zt.onViewportEnter:zt.onViewportLeave;It&&It(et)};return ac(ae.current,Ke,Qe)},[G,se,he,Fe])}function Xg(G,X,ae,{fallback:se=!0}){t.useEffect(()=>{!G||!se||requestAnimationFrame(()=>{X.hasEnteredView=!0;const{onViewportEnter:he}=ae.getProps();he&&he(null),ae.animationState&&ae.animationState.setActive(e.AnimationType.InView,!0)})},[G])}const Cf=G=>X=>(G(X),null),jc={inView:Cf(Kg),tap:Cf(rh),focus:Cf(_u),hover:Cf(Yg)};function i0(){const G=t.useContext(h);if(G===null)return[!0,null];const{isPresent:X,onExitComplete:ae,register:se}=G,he=t.useId();return t.useEffect(()=>se(he),[]),!X&&ae?[!1,()=>ae&&ae(he)]:[!0]}function Pe(){return ut(t.useContext(h))}function ut(G){return G===null?!0:G.isPresent}function rt(G,X){if(!Array.isArray(X))return!1;const ae=X.length;if(ae!==G.length)return!1;for(let se=0;se<ae;se++)if(X[se]!==G[se])return!1;return!0}const Ot=G=>/^\-?\d*\.?\d+$/.test(G),Dt=G=>/^0[^.\s]+$/.test(G),Tt={delta:0,timestamp:0},nn=1/60*1e3,Sn=typeof performance<"u"?()=>performance.now():()=>Date.now(),Fn=typeof window<"u"?G=>window.requestAnimationFrame(G):G=>setTimeout(()=>G(Sn()),nn);function gn(G){let X=[],ae=[],se=0,he=!1,Fe=!1;const Te=new WeakSet,Ke={schedule:(Qe,et=!1,lt=!1)=>{const zt=lt&&he,It=zt?X:ae;return et&&Te.add(Qe),It.indexOf(Qe)===-1&&(It.push(Qe),zt&&he&&(se=X.length)),Qe},cancel:Qe=>{const et=ae.indexOf(Qe);et!==-1&&ae.splice(et,1),Te.delete(Qe)},process:Qe=>{if(he){Fe=!0;return}if(he=!0,[X,ae]=[ae,X],ae.length=0,se=X.length,se)for(let et=0;et<se;et++){const lt=X[et];lt(Qe),Te.has(lt)&&(Ke.schedule(lt),G())}he=!1,Fe&&(Fe=!1,Ke.process(Qe))}};return Ke}const Xn=40;let or=!0,An=!1,cr=!1;const bn=["read","update","preRender","render","postRender"],Zn=bn.reduce((G,X)=>(G[X]=gn(()=>An=!0),G),{}),Ve=bn.reduce((G,X)=>{const ae=Zn[X];return G[X]=(se,he=!1,Fe=!1)=>(An||Yn(),ae.schedule(se,he,Fe)),G},{}),$t=bn.reduce((G,X)=>(G[X]=Zn[X].cancel,G),{}),an=bn.reduce((G,X)=>(G[X]=()=>Zn[X].process(Tt),G),{}),_n=G=>Zn[G].process(Tt),In=G=>{An=!1,Tt.delta=or?nn:Math.max(Math.min(G-Tt.timestamp,Xn),1),Tt.timestamp=G,cr=!0,bn.forEach(_n),cr=!1,An&&(or=!1,Fn(In))},Yn=()=>{An=!0,or=!0,cr||Fn(In)};function pi(G,X){G.indexOf(X)===-1&&G.push(X)}function ir(G,X){const ae=G.indexOf(X);ae>-1&&G.splice(ae,1)}function Cn([...G],X,ae){const se=X<0?G.length+X:X;if(se>=0&&se<G.length){const he=ae<0?G.length+ae:ae,[Fe]=G.splice(X,1);G.splice(he,0,Fe)}return G}class un{constructor(){this.subscriptions=[]}add(X){return pi(this.subscriptions,X),()=>ir(this.subscriptions,X)}notify(X,ae,se){const he=this.subscriptions.length;if(he)if(he===1)this.subscriptions[0](X,ae,se);else for(let Fe=0;Fe<he;Fe++){const Te=this.subscriptions[Fe];Te&&Te(X,ae,se)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Hr(G,X){return X?G*(1e3/X):0}const Xr=G=>!isNaN(parseFloat(G));class Ur{constructor(X,ae={}){this.version="8.5.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(se,he=!0)=>{this.prev=this.current,this.current=se;const{delta:Fe,timestamp:Te}=Tt;this.lastUpdated!==Te&&(this.timeDelta=Fe,this.lastUpdated=Te,Ve.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),he&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ve.postRender(this.velocityCheck),this.velocityCheck=({timestamp:se})=>{se!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=X,this.canTrackVelocity=Xr(this.current),this.owner=ae.owner}onChange(X){return this.on("change",X)}on(X,ae){this.events[X]||(this.events[X]=new un);const se=this.events[X].add(ae);return X==="change"?()=>{se(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:se}clearListeners(){for(const X in this.events)this.events[X].clear()}attach(X,ae){this.passiveEffect=X,this.stopPassiveEffect=ae}set(X,ae=!0){!ae||!this.passiveEffect?this.updateAndNotify(X,ae):this.passiveEffect(X,this.updateAndNotify)}setWithVelocity(X,ae,se){this.set(ae),this.prev=X,this.timeDelta=se}jump(X){this.updateAndNotify(X),this.prev=X,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Hr(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(X){return this.stop(),new Promise(ae=>{this.hasAnimated=!0,this.animation=X(ae)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gr(G,X){return new Ur(G,X)}const Er=(G,X)=>ae=>!!(ft(ae)&&Le.test(ae)&&ae.startsWith(G)||X&&Object.prototype.hasOwnProperty.call(ae,X)),pr=(G,X,ae)=>se=>{if(!ft(se))return se;const[he,Fe,Te,Ke]=se.match(wt);return{[G]:parseFloat(he),[X]:parseFloat(Fe),[ae]:parseFloat(Te),alpha:Ke!==void 0?parseFloat(Ke):1}},vr=G=>st(0,255,G),ri={...at,transform:G=>Math.round(vr(G))},ua={test:Er("rgb","red"),parse:pr("red","green","blue"),transform:({red:G,green:X,blue:ae,alpha:se=1})=>"rgba("+ri.transform(G)+", "+ri.transform(X)+", "+ri.transform(ae)+", "+tt(St.transform(se))+")"};function Ga(G){let X="",ae="",se="",he="";return G.length>5?(X=G.substring(1,3),ae=G.substring(3,5),se=G.substring(5,7),he=G.substring(7,9)):(X=G.substring(1,2),ae=G.substring(2,3),se=G.substring(3,4),he=G.substring(4,5),X+=X,ae+=ae,se+=se,he+=he),{red:parseInt(X,16),green:parseInt(ae,16),blue:parseInt(se,16),alpha:he?parseInt(he,16)/255:1}}const Fr={test:Er("#"),parse:Ga,transform:ua.transform},to={test:Er("hsl","hue"),parse:pr("hue","saturation","lightness"),transform:({hue:G,saturation:X,lightness:ae,alpha:se=1})=>"hsla("+Math.round(G)+", "+Ct.transform(tt(X))+", "+Ct.transform(tt(ae))+", "+tt(St.transform(se))+")"},Li={test:G=>ua.test(G)||Fr.test(G)||to.test(G),parse:G=>ua.test(G)?ua.parse(G):to.test(G)?to.parse(G):Fr.parse(G),transform:G=>ft(G)?G:G.hasOwnProperty("red")?ua.transform(G):to.transform(G)},ll="${c}",Vr="${n}";function oo(G){var X,ae;return isNaN(G)&&ft(G)&&(((X=G.match(wt))===null||X===void 0?void 0:X.length)||0)+(((ae=G.match(vt))===null||ae===void 0?void 0:ae.length)||0)>0}function Io(G){typeof G=="number"&&(G=`${G}`);const X=[];let ae=0,se=0;const he=G.match(vt);he&&(ae=he.length,G=G.replace(vt,ll),X.push(...he.map(Li.parse)));const Fe=G.match(wt);return Fe&&(se=Fe.length,G=G.replace(wt,Vr),X.push(...Fe.map(at.parse))),{values:X,numColors:ae,numNumbers:se,tokenised:G}}function qo(G){return Io(G).values}function Zr(G){const{values:X,numColors:ae,tokenised:se}=Io(G),he=X.length;return Fe=>{let Te=se;for(let Ke=0;Ke<he;Ke++)Te=Te.replace(Ke<ae?ll:Vr,Ke<ae?Li.transform(Fe[Ke]):tt(Fe[Ke]));return Te}}const cl=G=>typeof G=="number"?0:G;function Qh(G){const X=qo(G);return Zr(G)(X.map(cl))}const xd={test:oo,parse:qo,createTransformer:Zr,getAnimatableNone:Qh},vw=new Set(["brightness","contrast","saturate","opacity"]);function qk(G){const[X,ae]=G.slice(0,-1).split("(");if(X==="drop-shadow")return G;const[se]=ae.match(wt)||[];if(!se)return G;const he=ae.replace(se,"");let Fe=vw.has(X)?1:0;return se!==ae&&(Fe*=100),X+"("+Fe+he+")"}const WE=/([a-z-]*)\(.*?\)/g,F_={...xd,getAnimatableNone:G=>{const X=G.match(WE);return X?X.map(qk).join(" "):G}},GE={...fn,color:Li,backgroundColor:Li,outlineColor:Li,fill:Li,stroke:Li,borderColor:Li,borderTopColor:Li,borderRightColor:Li,borderBottomColor:Li,borderLeftColor:Li,filter:F_,WebkitFilter:F_},Um=G=>GE[G];function a0(G,X){var ae;let se=Um(G);return se!==F_&&(se=xd),(ae=se.getAnimatableNone)===null||ae===void 0?void 0:ae.call(se,X)}const qE=G=>X=>X.test(G),N_=[at,jt,Ct,yt,Bt,At,{test:G=>G==="auto",parse:G=>G}],li=G=>N_.find(qE(G)),qf=[...N_,Li,xd],o0=G=>qf.find(qE(G));function wi(G){const X={};return G.values.forEach((ae,se)=>X[se]=ae.get()),X}function _i(G){const X={};return G.values.forEach((ae,se)=>X[se]=ae.getVelocity()),X}function Jh(G,X,ae){const se=G.getProps();return wu(se,X,ae!==void 0?ae:se.custom,wi(G),_i(G))}function xy(G,X,ae){G.hasValue(X)?G.getValue(X).set(ae):G.addValue(X,gr(ae))}function Sy(G,X){const ae=Jh(G,X);let{transitionEnd:se={},transition:he={},...Fe}=ae?G.makeTargetAnimatable(ae,!1):{};Fe={...Fe,...se};for(const Te in Fe){const Ke=wf(Fe[Te]);xy(G,Te,Ke)}}function fl(G,X){[...X].reverse().forEach(se=>{var he;const Fe=G.getVariant(se);Fe&&Sy(G,Fe),(he=G.variantChildren)===null||he===void 0||he.forEach(Te=>{fl(Te,X)})})}function Vm(G,X){if(Array.isArray(X))return fl(G,X);if(typeof X=="string")return fl(G,[X]);Sy(G,X)}function ge(G,X,ae){var se,he;const Fe=Object.keys(X).filter(Ke=>!G.hasValue(Ke)),Te=Fe.length;if(Te)for(let Ke=0;Ke<Te;Ke++){const Qe=Fe[Ke],et=X[Qe];let lt=null;Array.isArray(et)&&(lt=et[0]),lt===null&&(lt=(he=(se=ae[Qe])!==null&&se!==void 0?se:G.readValue(Qe))!==null&&he!==void 0?he:X[Qe]),lt!=null&&(typeof lt=="string"&&(Ot(lt)||Dt(lt))?lt=parseFloat(lt):!o0(lt)&&xd.test(et)&&(lt=a0(Qe,et)),G.addValue(Qe,gr(lt,{owner:G})),ae[Qe]===void 0&&(ae[Qe]=lt),lt!==null&&G.setBaseTarget(Qe,lt))}}function zl(G,X){return X?(X[G]||X.default||X).from:void 0}function z_(G,X,ae){var se;const he={};for(const Fe in G){const Te=zl(Fe,X);he[Fe]=Te!==void 0?Te:(se=ae.getValue(Fe))===null||se===void 0?void 0:se.get()}return he}function mw(G){return!!(Me(G)&&G.add)}const Wm="framerAppearId",re="data-"+Oa(Wm),nr=G=>G*1e3,$v={current:!1},dl=G=>X=>X<=.5?G(2*X)/2:(2-G(2*(1-X)))/2,s0=G=>X=>1-G(1-X),pt=G=>G*G,Jt=s0(pt),eg=dl(pt),Ba=(G,X,ae)=>-ae*G+ae*X+G;function ki(G,X,ae){return ae<0&&(ae+=1),ae>1&&(ae-=1),ae<1/6?G+(X-G)*6*ae:ae<1/2?X:ae<2/3?G+(X-G)*(2/3-ae)*6:G}function Wr({hue:G,saturation:X,lightness:ae,alpha:se}){G/=360,X/=100,ae/=100;let he=0,Fe=0,Te=0;if(!X)he=Fe=Te=ae;else{const Ke=ae<.5?ae*(1+X):ae+X-ae*X,Qe=2*ae-Ke;he=ki(Qe,Ke,G+1/3),Fe=ki(Qe,Ke,G),Te=ki(Qe,Ke,G-1/3)}return{red:Math.round(he*255),green:Math.round(Fe*255),blue:Math.round(Te*255),alpha:se}}const hl=(G,X,ae)=>{const se=G*G;return Math.sqrt(Math.max(0,ae*(X*X-se)+se))},RT=[Fr,ua,to],cu=G=>RT.find(X=>X.test(G));function Sd(G){const X=cu(G);n.invariant(!!X,`'${G}' is not an animatable color. Use the equivalent color code instead.`);let ae=X.parse(G);return X===to&&(ae=Wr(ae)),ae}const yw=(G,X)=>{const ae=Sd(G),se=Sd(X),he={...ae};return Fe=>(he.red=hl(ae.red,se.red,Fe),he.green=hl(ae.green,se.green,Fe),he.blue=hl(ae.blue,se.blue,Fe),he.alpha=Ba(ae.alpha,se.alpha,Fe),ua.transform(he))};function Wt(G,X){return typeof G=="number"?ae=>Ba(G,X,ae):Li.test(G)?yw(G,X):KE(G,X)}const Yk=(G,X)=>{const ae=[...G],se=ae.length,he=G.map((Fe,Te)=>Wt(Fe,X[Te]));return Fe=>{for(let Te=0;Te<se;Te++)ae[Te]=he[Te](Fe);return ae}},Kk=(G,X)=>{const ae={...G,...X},se={};for(const he in ae)G[he]!==void 0&&X[he]!==void 0&&(se[he]=Wt(G[he],X[he]));return he=>{for(const Fe in se)ae[Fe]=se[Fe](he);return ae}},KE=(G,X)=>{const ae=xd.createTransformer(X),se=Io(G),he=Io(X);return se.numColors===he.numColors&&se.numNumbers>=he.numNumbers?Wf(Yk(se.values,he.values),ae):(n.warning(!0,`Complex values '${G}' and '${X}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),Te=>`${Te>0?X:G}`)},j_=(G,X,ae)=>{const se=X-G;return se===0?1:(ae-G)/se},Zg=(G,X)=>ae=>Ba(G,X,ae);function Ft(G){return typeof G=="number"?Zg:typeof G=="string"?Li.test(G)?yw:KE:Array.isArray(G)?Yk:typeof G=="object"?Kk:Zg}function hn(G,X,ae){const se=[],he=ae||Ft(G[0]),Fe=G.length-1;for(let Te=0;Te<Fe;Te++){let Ke=he(G[Te],G[Te+1]);if(X){const Qe=Array.isArray(X)?X[Te]:X;Ke=Wf(Qe,Ke)}se.push(Ke)}return se}function Rt(G,X,{clamp:ae=!0,ease:se,mixer:he}={}){const Fe=G.length;n.invariant(Fe===X.length,"Both input and output ranges must be the same length"),n.invariant(!se||!Array.isArray(se)||se.length===Fe-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),G[0]>G[Fe-1]&&(G=[...G].reverse(),X=[...X].reverse());const Te=hn(X,se,he),Ke=Te.length,Qe=et=>{let lt=0;if(Ke>1)for(;lt<G.length-2&&!(et<G[lt+1]);lt++);const zt=j_(G[lt],G[lt+1],et);return Te[lt](zt)};return ae?et=>Qe(st(G[0],G[Fe-1],et)):Qe}const Or=G=>G,na=(G,X,ae)=>(((1-3*ae+3*X)*G+(3*ae-6*X))*G+3*X)*G,So=1e-7,Ls=12;function so(G,X,ae,se,he){let Fe,Te,Ke=0;do Te=X+(ae-X)/2,Fe=na(Te,se,he)-G,Fe>0?ae=Te:X=Te;while(Math.abs(Fe)>So&&++Ke<Ls);return Te}function Mo(G,X,ae,se){if(G===X&&ae===se)return Or;const he=Fe=>so(Fe,0,1,G,ae);return Fe=>Fe===0||Fe===1?Fe:na(he(Fe),X,se)}const Gm=G=>1-Math.sin(Math.acos(G)),Bc=s0(Gm),u0=dl(Bc),B_=Mo(.33,1.53,.69,.99),tg=s0(B_),Ey=dl(tg),qm=G=>(G*=2)<1?.5*tg(G):.5*(2-Math.pow(2,-10*(G-1))),Fo={linear:Or,easeIn:pt,easeInOut:eg,easeOut:Jt,circIn:Gm,circInOut:u0,circOut:Bc,backIn:tg,backInOut:Ey,backOut:B_,anticipate:qm},H_=G=>{if(Array.isArray(G)){n.invariant(G.length===4,"Cubic bezier arrays must contain four numerical values.");const[X,ae,se,he]=G;return Mo(X,ae,se,he)}else if(typeof G=="string")return n.invariant(Fo[G]!==void 0,`Invalid easing type '${G}'`),Fo[G];return G},Xk=G=>Array.isArray(G)&&typeof G[0]!="number";function Ym(G,X){return G.map(()=>X||eg).splice(0,G.length-1)}function XE(G){const X=G.length;return G.map((ae,se)=>se!==0?se/(X-1):0)}function U_(G,X){return G.map(ae=>ae*X)}function bw({keyframes:G,ease:X=eg,times:ae,duration:se=300}){G=[...G];const he=Xk(X)?X.map(H_):H_(X),Fe={done:!1,value:G[0]},Te=U_(ae&&ae.length===G.length?ae:XE(G),se);function Ke(){return Rt(Te,G,{ease:Array.isArray(he)?he:Ym(G,he)})}let Qe=Ke();return{next:et=>(Fe.value=Qe(et),Fe.done=et>=se,Fe),flipTarget:()=>{G.reverse(),Qe=Ke()}}}const ng=.001,oc=.01,Ed=10,V_=.05,ns=1;function W_({duration:G=800,bounce:X=.25,velocity:ae=0,mass:se=1}){let he,Fe;n.warning(G<=Ed*1e3,"Spring duration must be 10 seconds or less");let Te=1-X;Te=st(V_,ns,Te),G=st(oc,Ed,G/1e3),Te<1?(he=et=>{const lt=et*Te,zt=lt*G,It=lt-ae,Kt=$y(et,Te),pn=Math.exp(-zt);return ng-It/Kt*pn},Fe=et=>{const zt=et*Te*G,It=zt*ae+ae,Kt=Math.pow(Te,2)*Math.pow(et,2)*G,pn=Math.exp(-zt),Bn=$y(Math.pow(et,2),Te);return(-he(et)+ng>0?-1:1)*((It-Kt)*pn)/Bn}):(he=et=>{const lt=Math.exp(-et*G),zt=(et-ae)*G+1;return-ng+lt*zt},Fe=et=>{const lt=Math.exp(-et*G),zt=(ae-et)*(G*G);return lt*zt});const Ke=5/G,Qe=l0(he,Fe,Ke);if(G=G*1e3,isNaN(Qe))return{stiffness:100,damping:10,duration:G};{const et=Math.pow(Qe,2)*se;return{stiffness:et,damping:Te*2*Math.sqrt(se*et),duration:G}}}const Cy=12;function l0(G,X,ae){let se=ae;for(let he=1;he<Cy;he++)se=se-G(se)/X(se);return se}function $y(G,X){return G*Math.sqrt(1-X*X)}const Km=["duration","bounce"],Cd=["stiffness","damping","mass"];function Xm(G,X){return X.some(ae=>G[ae]!==void 0)}function G_(G){let X={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...G};if(!Xm(G,Cd)&&Xm(G,Km)){const ae=W_(G);X={...X,...ae,velocity:0,mass:1},X.isResolvedFromDuration=!0}return X}const kv=5;function c0({keyframes:G,restDelta:X,restSpeed:ae,...se}){let he=G[0],Fe=G[G.length-1];const Te={done:!1,value:he},{stiffness:Ke,damping:Qe,mass:et,velocity:lt,duration:zt,isResolvedFromDuration:It}=G_(se);let Kt=ya,pn=lt?-(lt/1e3):0;const Bn=Qe/(2*Math.sqrt(Ke*et));function Nr(){const Cr=Fe-he,Lr=Math.sqrt(Ke/et)/1e3,Rr=Math.abs(Cr)<5;if(ae||(ae=Rr?.01:2),X||(X=Rr?.005:.5),Bn<1){const Sr=$y(Lr,Bn);Kt=as=>{const xs=Math.exp(-Bn*Lr*as);return Fe-xs*((pn+Bn*Lr*Cr)/Sr*Math.sin(Sr*as)+Cr*Math.cos(Sr*as))}}else if(Bn===1)Kt=Sr=>Fe-Math.exp(-Lr*Sr)*(Cr+(pn+Lr*Cr)*Sr);else{const Sr=Lr*Math.sqrt(Bn*Bn-1);Kt=as=>{const xs=Math.exp(-Bn*Lr*as),cc=Math.min(Sr*as,300);return Fe-xs*((pn+Bn*Lr*Cr)*Math.sinh(cc)+Sr*Cr*Math.cosh(cc))/Sr}}}return Nr(),{next:Cr=>{const Lr=Kt(Cr);if(It)Te.done=Cr>=zt;else{let Rr=pn;if(Cr!==0)if(Bn<1){const xs=Math.max(0,Cr-kv);Rr=Hr(Lr-Kt(xs),Cr-xs)}else Rr=0;const Sr=Math.abs(Rr)<=ae,as=Math.abs(Fe-Lr)<=X;Te.done=Sr&&as}return Te.value=Te.done?Fe:Lr,Te},flipTarget:()=>{pn=-pn,[he,Fe]=[Fe,he],Nr()}}}c0.needsInterpolation=(G,X)=>typeof G=="string"||typeof X=="string";const ya=G=>0;function ky({keyframes:G=[0],velocity:X=0,power:ae=.8,timeConstant:se=350,restDelta:he=.5,modifyTarget:Fe}){const Te=G[0],Ke={done:!1,value:Te};let Qe=ae*X;const et=Te+Qe,lt=Fe===void 0?et:Fe(et);return lt!==et&&(Qe=lt-Te),{next:zt=>{const It=-Qe*Math.exp(-zt/se);return Ke.done=!(It>he||It<-he),Ke.value=Ke.done?lt:lt+It,Ke},flipTarget:()=>{}}}const Zm={decay:ky,keyframes:bw,tween:bw,spring:c0};function ZE(G,X,ae=0){return G-X-ae}function QE(G,X=0,ae=0,se=!0){return se?ZE(X+-G,X,ae):X-(G-X)+ae}function Qg(G,X,ae,se){return se?G>=X+ae:G<=-ae}const q_=G=>{const X=({delta:ae})=>G(ae);return{start:()=>Ve.update(X,!0),stop:()=>$t.update(X)}};function Ys({duration:G,driver:X=q_,elapsed:ae=0,repeat:se=0,repeatType:he="loop",repeatDelay:Fe=0,keyframes:Te,autoplay:Ke=!0,onPlay:Qe,onStop:et,onComplete:lt,onRepeat:zt,onUpdate:It,type:Kt="keyframes",...pn}){var Bn,Nr;const Cr=ae;let Lr,Rr=0,Sr=G,as=!1,xs=!0,cc;const cg=Zm[Te.length>2?"keyframes":Kt]||bw,fg=Te[0],fc=Te[Te.length-1];let os={done:!1,value:fg};!((Nr=(Bn=cg).needsInterpolation)===null||Nr===void 0)&&Nr.call(Bn,fg,fc)&&(cc=Rt([0,100],[fg,fc],{clamp:!1}),Te=[0,100]);const Dv=cg({...pn,duration:G,keyframes:Te});function a4(){Rr++,he==="reverse"?(xs=Rr%2===0,ae=QE(ae,Sr,Fe,xs)):(ae=ZE(ae,Sr,Fe),he==="mirror"&&Dv.flipTarget()),as=!1,zt&&zt()}function kC(){Lr&&Lr.stop(),lt&&lt()}function vl(fs){xs||(fs=-fs),ae+=fs,as||(os=Dv.next(Math.max(0,ae)),cc&&(os.value=cc(os.value)),as=xs?os.done:ae<=0),It&&It(os.value),as&&(Rr===0&&(Sr=Sr!==void 0?Sr:ae),Rr<se?Qg(ae,Sr,Fe,xs)&&a4():kC())}function Gy(){Qe&&Qe(),Lr=X(vl),Lr.start()}return Ke&&Gy(),{stop:()=>{et&&et(),Lr&&Lr.stop()},set currentTime(fs){ae=Cr,vl(fs)},sample:fs=>{ae=Cr;const hD=G&&typeof G=="number"?Math.max(G*.5,50):50;let ox=0;for(vl(0);ox<=fs;){const gD=fs-ox;vl(Math.min(gD,hD)),ox+=hD}return os}}}function Hc(G){return!G||Array.isArray(G)||typeof G=="string"&&Y_[G]}const Qm=([G,X,ae,se])=>`cubic-bezier(${G}, ${X}, ${ae}, ${se})`,Y_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qm([0,.65,.55,1]),circOut:Qm([.55,0,1,.45]),backIn:Qm([.31,.01,.66,-.59]),backOut:Qm([.33,1.53,.69,.99])};function Gi(G){if(G)return Array.isArray(G)?Qm(G):Y_[G]}function gl(G,X,ae,{delay:se=0,duration:he,repeat:Fe=0,repeatType:Te="loop",ease:Ke,times:Qe}={}){return G.animate({[X]:ae,offset:Qe},{delay:se,duration:he,easing:Gi(Ke),fill:"both",iterations:Fe+1,direction:Te==="reverse"?"alternate":"normal"})}const ww={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},f0={},Jm={};for(const G in ww)Jm[G]=()=>(f0[G]===void 0&&(f0[G]=ww[G]()),f0[G]);function e1(G,{repeat:X,repeatType:ae="loop"}){const se=X&&ae!=="loop"&&X%2===1?0:G.length-1;return G[se]}const t1=new Set(["opacity"]),d0=10;function Oy(G,X,{onUpdate:ae,onComplete:se,...he}){if(!(Jm.waapi()&&t1.has(X)&&!he.repeatDelay&&he.repeatType!=="mirror"&&he.damping!==0))return!1;let{keyframes:Te,duration:Ke=300,elapsed:Qe=0,ease:et}=he;if(he.type==="spring"||!Hc(he.ease)){if(he.repeat===1/0)return;const zt=Ys({...he,elapsed:0});let It={done:!1,value:Te[0]};const Kt=[];let pn=0;for(;!It.done&&pn<2e4;)It=zt.sample(pn),Kt.push(It.value),pn+=d0;Te=Kt,Ke=pn-d0,et="linear"}const lt=gl(G.owner.current,X,Te,{...he,delay:-Qe,duration:Ke,ease:et});return lt.onfinish=()=>{G.set(e1(Te,he)),Ve.update(()=>lt.cancel()),se&&se()},{get currentTime(){return lt.currentTime||0},set currentTime(zt){lt.currentTime=zt},stop:()=>{const{currentTime:zt}=lt;if(zt){const It=Ys({...he,autoplay:!1});G.setWithVelocity(It.sample(zt-d0).value,It.sample(zt).value,d0)}Ve.update(()=>lt.cancel())}}}function Jg(G,X){const ae=performance.now(),se=({timestamp:he})=>{const Fe=he-ae;Fe>=X&&($t.read(se),G(Fe-X))};return Ve.read(se,!0),()=>$t.read(se)}function _w({keyframes:G,elapsed:X,onUpdate:ae,onComplete:se}){const he=()=>{ae&&ae(G[G.length-1]),se&&se()};return X?{stop:Jg(he,-X)}:he()}function qa({keyframes:G,velocity:X=0,min:ae,max:se,power:he=.8,timeConstant:Fe=750,bounceStiffness:Te=500,bounceDamping:Ke=10,restDelta:Qe=1,modifyTarget:et,driver:lt,onUpdate:zt,onComplete:It,onStop:Kt}){const pn=G[0];let Bn;function Nr(Sr){return ae!==void 0&&Sr<ae||se!==void 0&&Sr>se}function Cr(Sr){return ae===void 0?se:se===void 0||Math.abs(ae-Sr)<Math.abs(se-Sr)?ae:se}function Lr(Sr){Bn==null||Bn.stop(),Bn=Ys({keyframes:[0,1],velocity:0,...Sr,driver:lt,onUpdate:as=>{var xs;zt==null||zt(as),(xs=Sr.onUpdate)===null||xs===void 0||xs.call(Sr,as)},onComplete:It,onStop:Kt})}function Rr(Sr){Lr({type:"spring",stiffness:Te,damping:Ke,restDelta:Qe,...Sr})}if(Nr(pn))Rr({velocity:X,keyframes:[pn,Cr(pn)]});else{let Sr=he*X+pn;typeof et<"u"&&(Sr=et(Sr));const as=Cr(Sr),xs=as===ae?-1:1;let cc,cg;const fg=fc=>{cc=cg,cg=fc,X=Hr(fc-cc,Tt.delta),(xs===1&&fc>as||xs===-1&&fc<as)&&Rr({keyframes:[fc,as],velocity:X})};Lr({type:"decay",keyframes:[pn,0],velocity:X,timeConstant:Fe,power:he,restDelta:Qe,modifyTarget:et,onUpdate:Nr(Sr)?fg:void 0})}return{stop:()=>Bn==null?void 0:Bn.stop()}}const sr=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),Ay=G=>({type:"spring",stiffness:550,damping:G===0?2*Math.sqrt(550):30,restSpeed:10}),h0=()=>({type:"keyframes",ease:"linear",duration:.3}),$d={type:"keyframes",duration:.8},ih={x:sr,y:sr,z:sr,rotate:sr,rotateX:sr,rotateY:sr,rotateZ:sr,scaleX:Ay,scaleY:Ay,scale:Ay,opacity:h0,backgroundColor:h0,color:h0,default:Ay},Su=(G,{keyframes:X})=>X.length>2?$d:(ih[G]||ih.default)(X[1]),qe=(G,X)=>G==="zIndex"?!1:!!(typeof X=="number"||Array.isArray(X)||typeof X=="string"&&xd.test(X)&&!X.startsWith("url("));function n1({when:G,delay:X,delayChildren:ae,staggerChildren:se,staggerDirection:he,repeat:Fe,repeatType:Te,repeatDelay:Ke,from:Qe,elapsed:et,...lt}){return!!Object.keys(lt).length}function Ry(G){return G===0||typeof G=="string"&&parseFloat(G)===0&&G.indexOf(" ")===-1}function Yf(G){return typeof G=="number"?0:a0("",G)}function te(G,X){return G[X]||G.default||G}function ke(G,X,ae,se){const he=qe(X,ae);let Fe=se.from!==void 0?se.from:G.get();return Fe==="none"&&he&&typeof ae=="string"?Fe=a0(X,ae):Ry(Fe)&&typeof ae=="string"?Fe=Yf(ae):!Array.isArray(ae)&&Ry(ae)&&typeof Fe=="string"&&(ae=Yf(Fe)),Array.isArray(ae)?(ae[0]===null&&(ae[0]=Fe),ae):[Fe,ae]}const De=(G,X,ae,se={})=>he=>{const Fe=te(se,G)||{},Te=Fe.delay||se.delay||0;let{elapsed:Ke=0}=se;Ke=Ke-nr(Te);const Qe=ke(X,G,ae,Fe),et=Qe[0],lt=Qe[Qe.length-1],zt=qe(G,et),It=qe(G,lt);n.warning(zt===It,`You are trying to animate ${G} from "${et}" to "${lt}". ${et} is not an animatable value - to enable this animation set ${et} to a value animatable to ${lt} via the \`style\` property.`);let Kt={keyframes:Qe,velocity:X.getVelocity(),...Fe,elapsed:Ke,onUpdate:Nr=>{X.set(Nr),Fe.onUpdate&&Fe.onUpdate(Nr)},onComplete:()=>{he(),Fe.onComplete&&Fe.onComplete()}};if(!zt||!It||$v.current||Fe.type===!1)return _w(Kt);if(Fe.type==="inertia")return qa(Kt);n1(Fe)||(Kt={...Kt,...Su(G,Kt)}),Kt.duration&&(Kt.duration=nr(Kt.duration)),Kt.repeatDelay&&(Kt.repeatDelay=nr(Kt.repeatDelay));const pn=X.owner,Bn=pn&&pn.current;if(pn&&Bn instanceof HTMLElement&&!(pn!=null&&pn.getProps().onUpdate)){const Nr=Oy(X,G,Kt);if(Nr)return Nr}return Ys(Kt)};function Ae(G,X,ae={}){G.notify("AnimationStart",X);let se;if(Array.isArray(X)){const he=X.map(Fe=>Ge(G,Fe,ae));se=Promise.all(he)}else if(typeof X=="string")se=Ge(G,X,ae);else{const he=typeof X=="function"?Jh(G,X,ae.custom):X;se=Et(G,he,ae)}return se.then(()=>G.notify("AnimationComplete",X))}function Ge(G,X,ae={}){var se;const he=Jh(G,X,ae.custom);let{transition:Fe=G.getDefaultTransition()||{}}=he||{};ae.transitionOverride&&(Fe=ae.transitionOverride);const Te=he?()=>Et(G,he,ae):()=>Promise.resolve(),Ke=!((se=G.variantChildren)===null||se===void 0)&&se.size?(et=0)=>{const{delayChildren:lt=0,staggerChildren:zt,staggerDirection:It}=Fe;return Gt(G,X,lt+et,zt,It,ae)}:()=>Promise.resolve(),{when:Qe}=Fe;if(Qe){const[et,lt]=Qe==="beforeChildren"?[Te,Ke]:[Ke,Te];return et().then(lt)}else return Promise.all([Te(),Ke(ae.delay)])}function Et(G,X,{delay:ae=0,transitionOverride:se,type:he}={}){var Fe;let{transition:Te=G.getDefaultTransition(),transitionEnd:Ke,...Qe}=G.makeTargetAnimatable(X);const et=G.getValue("willChange");se&&(Te=se);const lt=[],zt=he&&((Fe=G.animationState)===null||Fe===void 0?void 0:Fe.getState()[he]);for(const It in Qe){const Kt=G.getValue(It),pn=Qe[It];if(!Kt||pn===void 0||zt&&Ia(zt,It))continue;const Bn={delay:ae,elapsed:0,...Te};if(window.HandoffAppearAnimations&&!Kt.hasAnimated){const Cr=G.getProps()[re];Cr&&(Bn.elapsed=window.HandoffAppearAnimations(Cr,It,Kt,Ve))}let Nr=Kt.start(De(It,Kt,pn,G.shouldReduceMotion&&Ne.has(It)?{type:!1}:Bn));mw(et)&&(et.add(It),Nr=Nr.then(()=>et.remove(It))),lt.push(Nr)}return Promise.all(lt).then(()=>{Ke&&Sy(G,Ke)})}function Gt(G,X,ae=0,se=0,he=1,Fe){const Te=[],Ke=(G.variantChildren.size-1)*se,Qe=he===1?(et=0)=>et*se:(et=0)=>Ke-et*se;return Array.from(G.variantChildren).sort(la).forEach((et,lt)=>{et.notify("AnimationStart",X),Te.push(Ge(et,X,{...Fe,delay:ae+Qe(lt)}).then(()=>et.notify("AnimationComplete",X)))}),Promise.all(Te)}function Pn(G){G.values.forEach(X=>X.stop())}function la(G,X){return G.sortNodePosition(X)}function Ia({protectedKeys:G,needsAnimating:X},ae){const se=G.hasOwnProperty(ae)&&X[ae]!==!0;return X[ae]=!1,se}const Ya=[e.AnimationType.Animate,e.AnimationType.InView,e.AnimationType.Focus,e.AnimationType.Hover,e.AnimationType.Tap,e.AnimationType.Drag,e.AnimationType.Exit],Uc=[...Ya].reverse(),$f=Ya.length;function Ty(G){return X=>Promise.all(X.map(({animation:ae,options:se})=>Ae(G,ae,se)))}function WL(G){let X=Ty(G);const ae=Zk();let se=!0;const he=(Qe,et)=>{const lt=Jh(G,et);if(lt){const{transition:zt,transitionEnd:It,...Kt}=lt;Qe={...Qe,...Kt,...It}}return Qe};function Fe(Qe){X=Qe(G)}function Te(Qe,et){const lt=G.getProps(),zt=G.getVariantContext(!0)||{},It=[],Kt=new Set;let pn={},Bn=1/0;for(let Cr=0;Cr<$f;Cr++){const Lr=Uc[Cr],Rr=ae[Lr],Sr=lt[Lr]!==void 0?lt[Lr]:zt[Lr],as=S(Sr),xs=Lr===et?Rr.isActive:null;xs===!1&&(Bn=Cr);let cc=Sr===zt[Lr]&&Sr!==lt[Lr]&&as;if(cc&&se&&G.manuallyAnimateOnMount&&(cc=!1),Rr.protectedKeys={...pn},!Rr.isActive&&xs===null||!Sr&&!Rr.prevProp||C(Sr)||typeof Sr=="boolean")continue;const cg=JE(Rr.prevProp,Sr);let fg=cg||Lr===et&&Rr.isActive&&!cc&&as||Cr>Bn&&as;const fc=Array.isArray(Sr)?Sr:[Sr];let os=fc.reduce(he,{});xs===!1&&(os={});const{prevResolvedValues:Dv={}}=Rr,a4={...Dv,...os},kC=vl=>{fg=!0,Kt.delete(vl),Rr.needsAnimating[vl]=!0};for(const vl in a4){const Gy=os[vl],fs=Dv[vl];pn.hasOwnProperty(vl)||(Gy!==fs?qs(Gy)&&qs(fs)?!rt(Gy,fs)||cg?kC(vl):Rr.protectedKeys[vl]=!0:Gy!==void 0?kC(vl):Kt.add(vl):Gy!==void 0&&Kt.has(vl)?kC(vl):Rr.protectedKeys[vl]=!0)}Rr.prevProp=Sr,Rr.prevResolvedValues=os,Rr.isActive&&(pn={...pn,...os}),se&&G.blockInitialAnimation&&(fg=!1),fg&&!cc&&It.push(...fc.map(vl=>({animation:vl,options:{type:Lr,...Qe}})))}if(Kt.size){const Cr={};Kt.forEach(Lr=>{const Rr=G.getBaseTarget(Lr);Rr!==void 0&&(Cr[Lr]=Rr)}),It.push({animation:Cr})}let Nr=!!It.length;return se&&lt.initial===!1&&!G.manuallyAnimateOnMount&&(Nr=!1),se=!1,Nr?X(It):Promise.resolve()}function Ke(Qe,et,lt){var zt;if(ae[Qe].isActive===et)return Promise.resolve();(zt=G.variantChildren)===null||zt===void 0||zt.forEach(Kt=>{var pn;return(pn=Kt.animationState)===null||pn===void 0?void 0:pn.setActive(Qe,et)}),ae[Qe].isActive=et;const It=Te(lt,Qe);for(const Kt in ae)ae[Kt].protectedKeys={};return It}return{animateChanges:Te,setActive:Ke,setAnimateFunction:Fe,getState:()=>ae}}function JE(G,X){return typeof X=="string"?X!==G:Array.isArray(X)?!rt(X,G):!1}function rs(G=!1){return{isActive:G,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zk(){return{[e.AnimationType.Animate]:rs(!0),[e.AnimationType.InView]:rs(),[e.AnimationType.Hover]:rs(),[e.AnimationType.Tap]:rs(),[e.AnimationType.Drag]:rs(),[e.AnimationType.Focus]:rs(),[e.AnimationType.Exit]:rs()}}const g0={animation:Cf(({visualElement:G,animate:X})=>{G.animationState||(G.animationState=WL(G)),C(X)&&t.useEffect(()=>X.subscribe(G),[X])}),exit:Cf(G=>{const{custom:X,visualElement:ae}=G,[se,he]=i0(),Fe=t.useContext(h);t.useEffect(()=>{ae.isPresent=se;const Te=ae.animationState&&ae.animationState.setActive(e.AnimationType.Exit,!se,{custom:Fe&&Fe.custom||X});Te&&!se&&Te.then(he)},[se])})},Qk=(G,X)=>Math.abs(G-X);function TT(G,X){const ae=Qk(G.x,X.x),se=Qk(G.y,X.y);return Math.sqrt(ae**2+se**2)}class GL{constructor(X,ae,{transformPagePoint:se}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const et=eC(this.lastMoveEventInfo,this.history),lt=this.startEvent!==null,zt=TT(et.offset,{x:0,y:0})>=3;if(!lt&&!zt)return;const{point:It}=et,{timestamp:Kt}=Tt;this.history.push({...It,timestamp:Kt});const{onStart:pn,onMove:Bn}=this.handlers;lt||(pn&&pn(this.lastMoveEvent,et),this.startEvent=this.lastMoveEvent),Bn&&Bn(this.lastMoveEvent,et)},this.handlePointerMove=(et,lt)=>{this.lastMoveEvent=et,this.lastMoveEventInfo=r1(lt,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(et,lt)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:zt,onSessionEnd:It}=this.handlers,Kt=eC(et.type==="pointercancel"?this.lastMoveEventInfo:r1(lt,this.transformPagePoint),this.history);this.startEvent&&zt&&zt(et,Kt),It&&It(et,Kt)},!xf(X))return;this.handlers=ae,this.transformPagePoint=se;const he=xu(X),Fe=r1(he,this.transformPagePoint),{point:Te}=Fe,{timestamp:Ke}=Tt;this.history=[{...Te,timestamp:Ke}];const{onSessionStart:Qe}=ae;Qe&&Qe(X,eC(Fe,this.history)),this.removeListeners=Wf(wd(window,"pointermove",this.handlePointerMove),wd(window,"pointerup",this.handlePointerUp),wd(window,"pointercancel",this.handlePointerUp))}updateHandlers(X){this.handlers=X}end(){this.removeListeners&&this.removeListeners(),$t.update(this.updatePoint)}}function r1(G,X){return X?{point:X(G.point)}:G}function qL(G,X){return{x:G.x-X.x,y:G.y-X.y}}function eC({point:G},X){return{point:G,delta:qL(G,MT(X)),offset:qL(G,ah(X)),velocity:YL(X,.1)}}function ah(G){return G[0]}function MT(G){return G[G.length-1]}function YL(G,X){if(G.length<2)return{x:0,y:0};let ae=G.length-1,se=null;const he=MT(G);for(;ae>=0&&(se=G[ae],!(he.timestamp-se.timestamp>nr(X)));)ae--;if(!se)return{x:0,y:0};const Fe=(he.timestamp-se.timestamp)/1e3;if(Fe===0)return{x:0,y:0};const Te={x:(he.x-se.x)/Fe,y:(he.y-se.y)/Fe};return Te.x===1/0&&(Te.x=0),Te.y===1/0&&(Te.y=0),Te}function Aa(G){return G.max-G.min}function tC(G,X=0,ae=.01){return Math.abs(G-X)<=ae}function Jk(G,X,ae,se=.5){G.origin=se,G.originPoint=Ba(X.min,X.max,G.origin),G.scale=Aa(ae)/Aa(X),(tC(G.scale,1,1e-4)||isNaN(G.scale))&&(G.scale=1),G.translate=Ba(ae.min,ae.max,G.origin)-G.originPoint,(tC(G.translate)||isNaN(G.translate))&&(G.translate=0)}function xw(G,X,ae,se){Jk(G.x,X.x,ae.x,se==null?void 0:se.originX),Jk(G.y,X.y,ae.y,se==null?void 0:se.originY)}function eO(G,X,ae){G.min=ae.min+X.min,G.max=G.min+Aa(X)}function zr(G,X,ae){eO(G.x,X.x,ae.x),eO(G.y,X.y,ae.y)}function Lt(G,X,ae){G.min=X.min-ae.min,G.max=G.min+Aa(X)}function Sw(G,X,ae){Lt(G.x,X.x,ae.x),Lt(G.y,X.y,ae.y)}function sc(G,{min:X,max:ae},se){return X!==void 0&&G<X?G=se?Ba(X,G,se.min):Math.max(G,X):ae!==void 0&&G>ae&&(G=se?Ba(ae,G,se.max):Math.min(G,ae)),G}function Oi(G,X,ae){return{min:X!==void 0?G.min+X:void 0,max:ae!==void 0?G.max+ae-(G.max-G.min):void 0}}function nC(G,{top:X,left:ae,bottom:se,right:he}){return{x:Oi(G.x,ae,he),y:Oi(G.y,X,se)}}function is(G,X){let ae=X.min-G.min,se=X.max-G.max;return X.max-X.min<G.max-G.min&&([ae,se]=[se,ae]),{min:ae,max:se}}function Ds(G,X){return{x:is(G.x,X.x),y:is(G.y,X.y)}}function Ov(G,X){let ae=.5;const se=Aa(G),he=Aa(X);return he>se?ae=j_(X.min,X.max-se,G.min):se>he&&(ae=j_(G.min,G.max-he,X.min)),st(0,1,ae)}function Ew(G,X){const ae={};return X.min!==void 0&&(ae.min=X.min-G.min),X.max!==void 0&&(ae.max=X.max-G.min),ae}const i1=.35;function rg(G=i1){return G===!1?G=0:G===!0&&(G=i1),{x:rC(G,"left","right"),y:rC(G,"top","bottom")}}function rC(G,X,ae){return{min:tO(G,X),max:tO(G,ae)}}function tO(G,X){return typeof G=="number"?G:G[X]||0}const nO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Av=()=>({x:nO(),y:nO()}),a1=()=>({min:0,max:0}),qu=()=>({x:a1(),y:a1()});function Rv(G){return[G("x"),G("y")]}function iC({top:G,left:X,right:ae,bottom:se}){return{x:{min:X,max:ae},y:{min:G,max:se}}}function KL({x:G,y:X}){return{top:X.min,right:G.max,bottom:X.max,left:G.min}}function XL(G,X){if(!X)return G;const ae=X({x:G.left,y:G.top}),se=X({x:G.right,y:G.bottom});return{top:ae.y,left:ae.x,bottom:se.y,right:se.x}}function uc(G){return G===void 0||G===1}function K_({scale:G,scaleX:X,scaleY:ae}){return!uc(G)||!uc(X)||!uc(ae)}function Vc(G){return K_(G)||ep(G)||G.z||G.rotate||G.rotateX||G.rotateY}function ep(G){return o1(G.x)||o1(G.y)}function o1(G){return G&&G!=="0%"}function oh(G,X,ae){const se=G-ae,he=X*se;return ae+he}function s1(G,X,ae,se,he){return he!==void 0&&(G=oh(G,he,se)),oh(G,ae,se)+X}function aC(G,X=0,ae=1,se,he){G.min=s1(G.min,X,ae,se,he),G.max=s1(G.max,X,ae,se,he)}function Yu(G,{x:X,y:ae}){aC(G.x,X.translate,X.scale,X.originPoint),aC(G.y,ae.translate,ae.scale,ae.originPoint)}function rO(G,X,ae,se=!1){var he,Fe;const Te=ae.length;if(!Te)return;X.x=X.y=1;let Ke,Qe;for(let et=0;et<Te;et++)Ke=ae[et],Qe=Ke.projectionDelta,((Fe=(he=Ke.instance)===null||he===void 0?void 0:he.style)===null||Fe===void 0?void 0:Fe.display)!=="contents"&&(se&&Ke.options.layoutScroll&&Ke.scroll&&Ke!==Ke.root&&kf(G,{x:-Ke.scroll.offset.x,y:-Ke.scroll.offset.y}),Qe&&(X.x*=Qe.x.scale,X.y*=Qe.y.scale,Yu(G,Qe)),se&&Vc(Ke.latestValues)&&kf(G,Ke.latestValues));X.x=ZL(X.x),X.y=ZL(X.y)}function ZL(G){return Number.isInteger(G)||G>1.0000000000001||G<.999999999999?G:1}function My(G,X){G.min=G.min+X,G.max=G.max+X}function PT(G,X,[ae,se,he]){const Fe=X[he]!==void 0?X[he]:.5,Te=Ba(G.min,G.max,Fe);aC(G,X[ae],X[se],Te,X.scale)}const nt=["x","scaleX","originX"],QL=["y","scaleY","originY"];function kf(G,X){PT(G.x,X,nt),PT(G.y,X,QL)}function X_(G,X){return iC(XL(G.getBoundingClientRect(),X))}function iO(G,X,ae){const se=X_(G,ae),{scroll:he}=X;return he&&(My(se.x,he.offset.x),My(se.y,he.offset.y)),se}const Py=new WeakMap;class tp{constructor(X){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qu(),this.visualElement=X}start(X,{snapToCursor:ae=!1}={}){if(this.visualElement.isPresent===!1)return;const se=Ke=>{this.stopAnimation(),ae&&this.snapToCursor(xu(Ke,"page").point)},he=(Ke,Qe)=>{var et;const{drag:lt,dragPropagation:zt,onDragStart:It}=this.getProps();lt&&!zt&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Sf(lt),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rv(Kt=>{var pn,Bn;let Nr=this.getAxisMotionValue(Kt).get()||0;if(Ct.test(Nr)){const Cr=(Bn=(pn=this.visualElement.projection)===null||pn===void 0?void 0:pn.layout)===null||Bn===void 0?void 0:Bn.layoutBox[Kt];Cr&&(Nr=Aa(Cr)*(parseFloat(Nr)/100))}this.originPoint[Kt]=Nr}),It==null||It(Ke,Qe),(et=this.visualElement.animationState)===null||et===void 0||et.setActive(e.AnimationType.Drag,!0))},Fe=(Ke,Qe)=>{const{dragPropagation:et,dragDirectionLock:lt,onDirectionLock:zt,onDrag:It}=this.getProps();if(!et&&!this.openGlobalLock)return;const{offset:Kt}=Qe;if(lt&&this.currentDirection===null){this.currentDirection=W7(Kt),this.currentDirection!==null&&(zt==null||zt(this.currentDirection));return}this.updateAxis("x",Qe.point,Kt),this.updateAxis("y",Qe.point,Kt),this.visualElement.render(),It==null||It(Ke,Qe)},Te=(Ke,Qe)=>this.stop(Ke,Qe);this.panSession=new GL(X,{onSessionStart:se,onStart:he,onMove:Fe,onSessionEnd:Te},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(X,ae){const se=this.isDragging;if(this.cancel(),!se)return;const{velocity:he}=ae;this.startAnimation(he);const{onDragEnd:Fe}=this.getProps();Fe==null||Fe(X,ae)}cancel(){var X,ae;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(X=this.panSession)===null||X===void 0||X.end(),this.panSession=void 0;const{dragPropagation:se}=this.getProps();!se&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(ae=this.visualElement.animationState)===null||ae===void 0||ae.setActive(e.AnimationType.Drag,!1)}updateAxis(X,ae,se){const{drag:he}=this.getProps();if(!se||!aO(X,he,this.currentDirection))return;const Fe=this.getAxisMotionValue(X);let Te=this.originPoint[X]+se[X];this.constraints&&this.constraints[X]&&(Te=sc(Te,this.constraints[X],this.elastic[X])),Fe.set(Te)}resolveConstraints(){const{dragConstraints:X,dragElastic:ae}=this.getProps(),{layout:se}=this.visualElement.projection||{},he=this.constraints;X&&w(X)?this.constraints||(this.constraints=this.resolveRefConstraints()):X&&se?this.constraints=nC(se.layoutBox,X):this.constraints=!1,this.elastic=rg(ae),he!==this.constraints&&se&&this.constraints&&!this.hasMutatedConstraints&&Rv(Fe=>{this.getAxisMotionValue(Fe)&&(this.constraints[Fe]=Ew(se.layoutBox[Fe],this.constraints[Fe]))})}resolveRefConstraints(){const{dragConstraints:X,onMeasureDragConstraints:ae}=this.getProps();if(!X||!w(X))return!1;const se=X.current;n.invariant(se!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:he}=this.visualElement;if(!he||!he.layout)return!1;const Fe=iO(se,he.root,this.visualElement.getTransformPagePoint());let Te=Ds(he.layout.layoutBox,Fe);if(ae){const Ke=ae(KL(Te));this.hasMutatedConstraints=!!Ke,Ke&&(Te=iC(Ke))}return Te}startAnimation(X){const{drag:ae,dragMomentum:se,dragElastic:he,dragTransition:Fe,dragSnapToOrigin:Te,onDragTransitionEnd:Ke}=this.getProps(),Qe=this.constraints||{},et=Rv(lt=>{if(!aO(lt,ae,this.currentDirection))return;let zt=(Qe==null?void 0:Qe[lt])||{};Te&&(zt={min:0,max:0});const It=he?200:1e6,Kt=he?40:1e7,pn={type:"inertia",velocity:se?X[lt]:0,bounceStiffness:It,bounceDamping:Kt,timeConstant:750,restDelta:1,restSpeed:10,...Fe,...zt};return this.startAxisValueAnimation(lt,pn)});return Promise.all(et).then(Ke)}startAxisValueAnimation(X,ae){const se=this.getAxisMotionValue(X);return se.start(De(X,se,0,ae))}stopAnimation(){Rv(X=>this.getAxisMotionValue(X).stop())}getAxisMotionValue(X){var ae;const se="_drag"+X.toUpperCase(),he=this.visualElement.getProps()[se];return he||this.visualElement.getValue(X,((ae=this.visualElement.getProps().initial)===null||ae===void 0?void 0:ae[X])||0)}snapToCursor(X){Rv(ae=>{const{drag:se}=this.getProps();if(!aO(ae,se,this.currentDirection))return;const{projection:he}=this.visualElement,Fe=this.getAxisMotionValue(ae);if(he&&he.layout){const{min:Te,max:Ke}=he.layout.layoutBox[ae];Fe.set(X[ae]-Ba(Te,Ke,.5))}})}scalePositionWithinConstraints(){var X;if(!this.visualElement.current)return;const{drag:ae,dragConstraints:se}=this.getProps(),{projection:he}=this.visualElement;if(!w(se)||!he||!this.constraints)return;this.stopAnimation();const Fe={x:0,y:0};Rv(Ke=>{const Qe=this.getAxisMotionValue(Ke);if(Qe){const et=Qe.get();Fe[Ke]=Ov({min:et,max:et},this.constraints[Ke])}});const{transformTemplate:Te}=this.visualElement.getProps();this.visualElement.current.style.transform=Te?Te({},""):"none",(X=he.root)===null||X===void 0||X.updateScroll(),he.updateLayout(),this.resolveConstraints(),Rv(Ke=>{if(!aO(Ke,ae,null))return;const Qe=this.getAxisMotionValue(Ke),{min:et,max:lt}=this.constraints[Ke];Qe.set(Ba(et,lt,Fe[Ke]))})}addListeners(){var X;if(!this.visualElement.current)return;Py.set(this.visualElement,this);const ae=this.visualElement.current,se=wd(ae,"pointerdown",et=>{const{drag:lt,dragListener:zt=!0}=this.getProps();lt&&zt&&this.start(et)}),he=()=>{const{dragConstraints:et}=this.getProps();w(et)&&(this.constraints=this.resolveRefConstraints())},{projection:Fe}=this.visualElement,Te=Fe.addEventListener("measure",he);Fe&&!Fe.layout&&((X=Fe.root)===null||X===void 0||X.updateScroll(),Fe.updateLayout()),he();const Ke=_f(window,"resize",()=>this.scalePositionWithinConstraints()),Qe=Fe.addEventListener("didUpdate",({delta:et,hasLayoutChanged:lt})=>{this.isDragging&&lt&&(Rv(zt=>{const It=this.getAxisMotionValue(zt);It&&(this.originPoint[zt]+=et[zt].translate,It.set(It.get()+et[zt].translate))}),this.visualElement.render())});return()=>{Ke(),se(),Te(),Qe==null||Qe()}}getProps(){const X=this.visualElement.getProps(),{drag:ae=!1,dragDirectionLock:se=!1,dragPropagation:he=!1,dragConstraints:Fe=!1,dragElastic:Te=i1,dragMomentum:Ke=!0}=X;return{...X,drag:ae,dragDirectionLock:se,dragPropagation:he,dragConstraints:Fe,dragElastic:Te,dragMomentum:Ke}}}function aO(G,X,ae){return(X===!0||X===G)&&(ae===null||ae===G)}function W7(G,X=10){let ae=null;return Math.abs(G.y)>X?ae="y":Math.abs(G.x)>X&&(ae="x"),ae}function LT(G){const{dragControls:X,visualElement:ae}=G,se=U(()=>new tp(ae));t.useEffect(()=>X&&X.subscribe(se),[se,X]),t.useEffect(()=>se.addListeners(),[se])}function JL({onPan:G,onPanStart:X,onPanEnd:ae,onPanSessionStart:se,visualElement:he}){const Fe=G||X||ae||se,Te=t.useRef(null),{transformPagePoint:Ke}=t.useContext(f),Qe={onSessionStart:se,onStart:X,onMove:G,onEnd:(lt,zt)=>{Te.current=null,ae&&ae(lt,zt)}};t.useEffect(()=>{Te.current!==null&&Te.current.updateHandlers(Qe)});function et(lt){Te.current=new GL(lt,Qe,{transformPagePoint:Ke})}qh(he,"pointerdown",Fe&&et),Kh(()=>Te.current&&Te.current.end())}const rn={pan:Cf(JL),drag:Cf(LT)};function oO(G){return typeof G=="string"&&G.startsWith("var(--")}const Is=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ri(G){const X=Is.exec(G);if(!X)return[,];const[,ae,se]=X;return[ae,se]}const DT=4;function ig(G,X,ae=1){n.invariant(ae<=DT,`Max CSS variable fallback depth detected in property "${G}". This may indicate a circular fallback dependency.`);const[se,he]=Ri(G);if(!se)return;const Fe=window.getComputedStyle(X).getPropertyValue(se);return Fe?Fe.trim():oO(he)?ig(he,X,ae+1):he}function ag(G,{...X},ae){const se=G.current;if(!(se instanceof Element))return{target:X,transitionEnd:ae};ae&&(ae={...ae}),G.values.forEach(he=>{const Fe=he.get();if(!oO(Fe))return;const Te=ig(Fe,se);Te&&he.set(Te)});for(const he in X){const Fe=X[he];if(!oO(Fe))continue;const Te=ig(Fe,se);Te&&(X[he]=Te,ae&&ae[he]===void 0&&(ae[he]=Fe))}return{target:X,transitionEnd:ae}}const IT=new Set(["width","height","top","left","right","bottom","x","y"]),FT=G=>IT.has(G),Cw=G=>Object.keys(G).some(FT),$w=G=>G===at||G===jt;var Ly;(function(G){G.width="width",G.height="height",G.left="left",G.right="right",G.top="top",G.bottom="bottom"})(Ly||(Ly={}));const NT=(G,X)=>parseFloat(G.split(", ")[X]),kw=(G,X)=>(ae,{transform:se})=>{if(se==="none"||!se)return 0;const he=se.match(/^matrix3d\((.+)\)$/);if(he)return NT(he[1],X);{const Fe=se.match(/^matrix\((.+)\)$/);return Fe?NT(Fe[1],G):0}},u1=new Set(["x","y","z"]),zT=Ie.filter(G=>!u1.has(G));function jT(G){const X=[];return zT.forEach(ae=>{const se=G.getValue(ae);se!==void 0&&(X.push([ae,se.get()]),se.set(ae.startsWith("scale")?1:0))}),X.length&&G.render(),X}const Tv={width:({x:G},{paddingLeft:X="0",paddingRight:ae="0"})=>G.max-G.min-parseFloat(X)-parseFloat(ae),height:({y:G},{paddingTop:X="0",paddingBottom:ae="0"})=>G.max-G.min-parseFloat(X)-parseFloat(ae),top:(G,{top:X})=>parseFloat(X),left:(G,{left:X})=>parseFloat(X),bottom:({y:G},{top:X})=>parseFloat(X)+(G.max-G.min),right:({x:G},{left:X})=>parseFloat(X)+(G.max-G.min),x:kw(4,13),y:kw(5,14)},oC=(G,X,ae)=>{const se=X.measureViewportBox(),he=X.current,Fe=getComputedStyle(he),{display:Te}=Fe,Ke={};Te==="none"&&X.setStaticValue("display",G.display||"block"),ae.forEach(et=>{Ke[et]=Tv[et](se,Fe)}),X.render();const Qe=X.measureViewportBox();return ae.forEach(et=>{const lt=X.getValue(et);lt&&lt.jump(Ke[et]),G[et]=Tv[et](Qe,Fe)}),G},Ow=(G,X,ae={},se={})=>{X={...X},se={...se};const he=Object.keys(X).filter(FT);let Fe=[],Te=!1;const Ke=[];if(he.forEach(Qe=>{const et=G.getValue(Qe);if(!G.hasValue(Qe))return;let lt=ae[Qe],zt=li(lt);const It=X[Qe];let Kt;if(qs(It)){const pn=It.length,Bn=It[0]===null?1:0;lt=It[Bn],zt=li(lt);for(let Nr=Bn;Nr<pn;Nr++)Kt?n.invariant(li(It[Nr])===Kt,"All keyframes must be of the same type"):(Kt=li(It[Nr]),n.invariant(Kt===zt||$w(zt)&&$w(Kt),"Keyframes must be of the same dimension as the current value"))}else Kt=li(It);if(zt!==Kt)if($w(zt)&&$w(Kt)){const pn=et.get();typeof pn=="string"&&et.set(parseFloat(pn)),typeof It=="string"?X[Qe]=parseFloat(It):Array.isArray(It)&&Kt===jt&&(X[Qe]=It.map(parseFloat))}else zt!=null&&zt.transform&&(Kt!=null&&Kt.transform)&&(lt===0||It===0)?lt===0?et.set(Kt.transform(lt)):X[Qe]=zt.transform(It):(Te||(Fe=jT(G),Te=!0),Ke.push(Qe),se[Qe]=se[Qe]!==void 0?se[Qe]:X[Qe],et.jump(It))}),Ke.length){const Qe=Ke.indexOf("height")>=0?window.pageYOffset:null,et=oC(X,G,Ke);return Fe.length&&Fe.forEach(([lt,zt])=>{G.getValue(lt).set(zt)}),G.render(),p&&Qe!==null&&window.scrollTo({top:Qe}),{target:et,transitionEnd:se}}else return{target:X,transitionEnd:se}};function eD(G,X,ae,se){return Cw(X)?Ow(G,X,ae,se):{target:X,transitionEnd:se}}const Eu=(G,X,ae,se)=>{const he=ag(G,X,se);return X=he.target,se=he.transitionEnd,eD(G,X,ae,se)},ba={current:null},BT={current:!1};function HT(){if(BT.current=!0,!!p)if(window.matchMedia){const G=window.matchMedia("(prefers-reduced-motion)"),X=()=>ba.current=G.matches;G.addListener(X),X()}else ba.current=!1}function Z_(G,X,ae){const{willChange:se}=X;for(const he in X){const Fe=X[he],Te=ae[he];if(Me(Fe))G.addValue(he,Fe),mw(se)&&se.add(he);else if(Me(Te))G.addValue(he,gr(Fe,{owner:G})),mw(se)&&se.remove(he);else if(Te!==Fe)if(G.hasValue(he)){const Ke=G.getValue(he);!Ke.hasAnimated&&Ke.set(Fe)}else{const Ke=G.getStaticValue(he);G.addValue(he,gr(Ke!==void 0?Ke:Fe,{owner:G}))}}for(const he in ae)X[he]===void 0&&G.removeValue(he);return X}const UT=Object.keys(D),sC=UT.length,VT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Cu{constructor({parent:X,props:ae,reducedMotionConfig:se,visualState:he},Fe={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ve.render(this.render,!1,!0);const{latestValues:Te,renderState:Ke}=he;this.latestValues=Te,this.baseTarget={...Te},this.initialValues=ae.initial?{...Te}:{},this.renderState=Ke,this.parent=X,this.props=ae,this.depth=X?X.depth+1:0,this.reducedMotionConfig=se,this.options=Fe,this.isControllingVariants=k(ae),this.isVariantNode=M(ae),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(X&&X.current);const{willChange:Qe,...et}=this.scrapeMotionValuesFromProps(ae,{});for(const lt in et){const zt=et[lt];Te[lt]!==void 0&&Me(zt)&&(zt.set(Te[lt],!1),mw(Qe)&&Qe.add(lt))}}scrapeMotionValuesFromProps(X,ae){return{}}mount(X){var ae;this.current=X,this.projection&&this.projection.mount(X),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(ae=this.parent)===null||ae===void 0?void 0:ae.addVariantChild(this)),this.values.forEach((se,he)=>this.bindToMotionValue(he,se)),BT.current||HT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ba.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var X,ae,se;(X=this.projection)===null||X===void 0||X.unmount(),$t.update(this.notifyUpdate),$t.render(this.render),this.valueSubscriptions.forEach(he=>he()),(ae=this.removeFromVariantTree)===null||ae===void 0||ae.call(this),(se=this.parent)===null||se===void 0||se.children.delete(this);for(const he in this.events)this.events[he].clear();this.current=null}bindToMotionValue(X,ae){const se=Ne.has(X),he=ae.on("change",Te=>{this.latestValues[X]=Te,this.props.onUpdate&&Ve.update(this.notifyUpdate,!1,!0),se&&this.projection&&(this.projection.isTransformDirty=!0)}),Fe=ae.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(X,()=>{he(),Fe()})}sortNodePosition(X){return!this.current||!this.sortInstanceNodePosition||this.type!==X.type?0:this.sortInstanceNodePosition(this.current,X.current)}loadFeatures({children:X,...ae},se,he,Fe,Te,Ke){const Qe=[];for(let et=0;et<sC;et++){const lt=UT[et],{isEnabled:zt,Component:It}=D[lt];zt(ae)&&It&&Qe.push(t.createElement(It,{key:lt,...ae,visualElement:this}))}if(!this.projection&&Te){this.projection=new Te(Fe,this.latestValues,this.parent&&this.parent.projection);const{layoutId:et,layout:lt,drag:zt,dragConstraints:It,layoutScroll:Kt,layoutRoot:pn}=ae;this.projection.setOptions({layoutId:et,layout:lt,alwaysMeasureLayout:!!zt||It&&w(It),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof lt=="string"?lt:"both",initialPromotionConfig:Ke,layoutScroll:Kt,layoutRoot:pn})}return Qe}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qu()}getStaticValue(X){return this.latestValues[X]}setStaticValue(X,ae){this.latestValues[X]=ae}makeTargetAnimatable(X,ae=!0){return this.makeTargetAnimatableFromInstance(X,this.props,ae)}setProps(X){(X.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const ae=this.props;this.props=X;for(let se=0;se<VT.length;se++){const he=VT[se];this.propEventSubscriptions[he]&&(this.propEventSubscriptions[he](),delete this.propEventSubscriptions[he]);const Fe=X["on"+he];Fe&&(this.propEventSubscriptions[he]=this.on(he,Fe))}this.prevMotionValues=Z_(this,this.scrapeMotionValuesFromProps(X,ae),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(X){var ae;return(ae=this.props.variants)===null||ae===void 0?void 0:ae[X]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var X;return this.isVariantNode?this:(X=this.parent)===null||X===void 0?void 0:X.getClosestVariantNode()}getVariantContext(X=!1){var ae,se;if(X)return(ae=this.parent)===null||ae===void 0?void 0:ae.getVariantContext();if(!this.isControllingVariants){const Fe=((se=this.parent)===null||se===void 0?void 0:se.getVariantContext())||{};return this.props.initial!==void 0&&(Fe.initial=this.props.initial),Fe}const he={};for(let Fe=0;Fe<uC;Fe++){const Te=WT[Fe],Ke=this.props[Te];(S(Ke)||Ke===!1)&&(he[Te]=Ke)}return he}addVariantChild(X){var ae;const se=this.getClosestVariantNode();if(se)return(ae=se.variantChildren)===null||ae===void 0||ae.add(X),()=>se.variantChildren.delete(X)}addValue(X,ae){ae!==this.values.get(X)&&(this.removeValue(X),this.bindToMotionValue(X,ae)),this.values.set(X,ae),this.latestValues[X]=ae.get()}removeValue(X){var ae;this.values.delete(X),(ae=this.valueSubscriptions.get(X))===null||ae===void 0||ae(),this.valueSubscriptions.delete(X),delete this.latestValues[X],this.removeValueFromRenderState(X,this.renderState)}hasValue(X){return this.values.has(X)}getValue(X,ae){if(this.props.values&&this.props.values[X])return this.props.values[X];let se=this.values.get(X);return se===void 0&&ae!==void 0&&(se=gr(ae,{owner:this}),this.addValue(X,se)),se}readValue(X){return this.latestValues[X]!==void 0||!this.current?this.latestValues[X]:this.readValueFromInstance(this.current,X,this.options)}setBaseTarget(X,ae){this.baseTarget[X]=ae}getBaseTarget(X){var ae;const{initial:se}=this.props,he=typeof se=="string"||typeof se=="object"?(ae=wu(this.props,se))===null||ae===void 0?void 0:ae[X]:void 0;if(se&&he!==void 0)return he;const Fe=this.getBaseTargetFromProps(this.props,X);return Fe!==void 0&&!Me(Fe)?Fe:this.initialValues[X]!==void 0&&he===void 0?void 0:this.baseTarget[X]}on(X,ae){return this.events[X]||(this.events[X]=new un),this.events[X].add(ae)}notify(X,...ae){var se;(se=this.events[X])===null||se===void 0||se.notify(...ae)}}const WT=["initial",...Ya],uC=WT.length;class sO extends Cu{sortInstanceNodePosition(X,ae){return X.compareDocumentPosition(ae)&2?1:-1}getBaseTargetFromProps(X,ae){var se;return(se=X.style)===null||se===void 0?void 0:se[ae]}removeValueFromRenderState(X,{vars:ae,style:se}){delete ae[X],delete se[X]}makeTargetAnimatableFromInstance({transition:X,transitionEnd:ae,...se},{transformValues:he},Fe){let Te=z_(se,X||{},this);if(he&&(ae&&(ae=he(ae)),se&&(se=he(se)),Te&&(Te=he(Te))),Fe){ge(this,se,Te);const Ke=Eu(this,se,Te,ae);ae=Ke.transitionEnd,se=Ke.target}return{transition:X,transitionEnd:ae,...se}}}function Aw(G){return window.getComputedStyle(G)}class l1 extends sO{readValueFromInstance(X,ae){if(Ne.has(ae)){const se=Um(ae);return se&&se.default||0}else{const se=Aw(X),he=(ot(ae)?se.getPropertyValue(ae):se[ae])||0;return typeof he=="string"?he.trim():he}}measureInstanceViewportBox(X,{transformPagePoint:ae}){return X_(X,ae)}build(X,ae,se,he){jn(X,ae,se,he.transformTemplate)}scrapeMotionValuesFromProps(X,ae){return th(X,ae)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:X}=this.props;Me(X)&&(this.childSubscription=X.on("change",ae=>{this.current&&(this.current.textContent=`${ae}`)}))}renderInstance(X,ae,se,he){rc(X,ae,se,he)}}class jl extends sO{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(X,ae){return X[ae]}readValueFromInstance(X,ae){var se;return Ne.has(ae)?((se=Um(ae))===null||se===void 0?void 0:se.default)||0:(ae=Bf.has(ae)?ae:Oa(ae),X.getAttribute(ae))}measureInstanceViewportBox(){return qu()}scrapeMotionValuesFromProps(X,ae){return Gh(X,ae)}build(X,ae,se,he){Ji(X,ae,se,this.isSVGTag,he.transformTemplate)}renderInstance(X,ae,se,he){Hf(X,ae,se,he)}mount(X){this.isSVGTag=ka(X.tagName),super.mount(X)}}const Of=(G,X)=>Se(G)?new jl(X,{enableHardwareAcceleration:!1}):new l1(X,{enableHardwareAcceleration:!0});function p0(G,X){return X.max===X.min?0:G/(X.max-X.min)*100}const Rw={correct:(G,X)=>{if(!X.target)return G;if(typeof G=="string")if(jt.test(G))G=parseFloat(G);else return G;const ae=p0(G,X.target.x),se=p0(G,X.target.y);return`${ae}% ${se}%`}},Tw="_$css",uO={correct:(G,{treeScale:X,projectionDelta:ae})=>{const se=G,he=G.includes("var("),Fe=[];he&&(G=G.replace(Is,Kt=>(Fe.push(Kt),Tw)));const Te=xd.parse(G);if(Te.length>5)return se;const Ke=xd.createTransformer(G),Qe=typeof Te[0]!="number"?1:0,et=ae.x.scale*X.x,lt=ae.y.scale*X.y;Te[0+Qe]/=et,Te[1+Qe]/=lt;const zt=Ba(et,lt,.5);typeof Te[2+Qe]=="number"&&(Te[2+Qe]/=zt),typeof Te[3+Qe]=="number"&&(Te[3+Qe]/=zt);let It=Ke(Te);if(he){let Kt=0;It=It.replace(Tw,()=>{const pn=Fe[Kt];return Kt++,pn})}return It}};class GT extends s.default.Component{componentDidMount(){const{visualElement:X,layoutGroup:ae,switchLayoutGroup:se,layoutId:he}=this.props,{projection:Fe}=X;xe(lO),Fe&&(ae.group&&ae.group.add(Fe),se&&se.register&&he&&se.register(Fe),Fe.root.didUpdate(),Fe.addEventListener("animationComplete",()=>{this.safeToRemove()}),Fe.setOptions({...Fe.options,onExitComplete:()=>this.safeToRemove()})),H.hasEverUpdated=!0}getSnapshotBeforeUpdate(X){const{layoutDependency:ae,visualElement:se,drag:he,isPresent:Fe}=this.props,Te=se.projection;return Te&&(Te.isPresent=Fe,he||X.layoutDependency!==ae||ae===void 0?Te.willUpdate():this.safeToRemove(),X.isPresent!==Fe&&(Fe?Te.promote():Te.relegate()||Ve.postRender(()=>{var Ke;!((Ke=Te.getStack())===null||Ke===void 0)&&Ke.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:X}=this.props.visualElement;X&&(X.root.didUpdate(),!X.currentAnimation&&X.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:X,layoutGroup:ae,switchLayoutGroup:se}=this.props,{projection:he}=X;he&&(he.scheduleCheckAfterUnmount(),ae!=null&&ae.group&&ae.group.remove(he),se!=null&&se.deregister&&se.deregister(he))}safeToRemove(){const{safeToRemove:X}=this.props;X==null||X()}render(){return null}}function qT(G){const[X,ae]=i0(),se=t.useContext(Q);return s.default.createElement(GT,{...G,layoutGroup:se,switchLayoutGroup:t.useContext(oe),isPresent:X,safeToRemove:ae})}const lO={borderRadius:{...Rw,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rw,borderTopRightRadius:Rw,borderBottomLeftRadius:Rw,borderBottomRightRadius:Rw,boxShadow:uO},og={measureLayout:qT};function v0(G,X,ae={}){const se=Me(G)?G:gr(G);return se.start(De("",se,X,ae)),{stop:()=>se.stop(),isAnimating:()=>se.isAnimating()}}const lC=["TopLeft","TopRight","BottomLeft","BottomRight"],Dy=lC.length,_s=G=>typeof G=="string"?parseFloat(G):G,cO=G=>typeof G=="number"||jt.test(G);function YT(G,X,ae,se,he,Fe){he?(G.opacity=Ba(0,ae.opacity!==void 0?ae.opacity:1,tD(se)),G.opacityExit=Ba(X.opacity!==void 0?X.opacity:1,0,nD(se))):Fe&&(G.opacity=Ba(X.opacity!==void 0?X.opacity:1,ae.opacity!==void 0?ae.opacity:1,se));for(let Te=0;Te<Dy;Te++){const Ke=`border${lC[Te]}Radius`;let Qe=cC(X,Ke),et=cC(ae,Ke);if(Qe===void 0&&et===void 0)continue;Qe||(Qe=0),et||(et=0),Qe===0||et===0||cO(Qe)===cO(et)?(G[Ke]=Math.max(Ba(_s(Qe),_s(et),se),0),(Ct.test(et)||Ct.test(Qe))&&(G[Ke]+="%")):G[Ke]=et}(X.rotate||ae.rotate)&&(G.rotate=Ba(X.rotate||0,ae.rotate||0,se))}function cC(G,X){return G[X]!==void 0?G[X]:G.borderRadius}const tD=Q_(0,.5,Bc),nD=Q_(.5,.95,Or);function Q_(G,X,ae){return se=>se<G?0:se>X?1:ae(j_(G,X,se))}function fO(G,X){G.min=X.min,G.max=X.max}function fi(G,X){fO(G.x,X.x),fO(G.y,X.y)}function J_(G,X,ae,se,he){return G-=X,G=oh(G,1/ae,se),he!==void 0&&(G=oh(G,1/he,se)),G}function KT(G,X=0,ae=1,se=.5,he,Fe=G,Te=G){if(Ct.test(X)&&(X=parseFloat(X),X=Ba(Te.min,Te.max,X/100)-Te.min),typeof X!="number")return;let Ke=Ba(Fe.min,Fe.max,se);G===Fe&&(Ke-=X),G.min=J_(G.min,X,ae,Ke,he),G.max=J_(G.max,X,ae,Ke,he)}function Af(G,X,[ae,se,he],Fe,Te){KT(G,X[ae],X[se],X[he],X.scale,Fe,Te)}const np=["x","scaleX","originX"],dO=["y","scaleY","originY"];function XT(G,X,ae,se){Af(G.x,X,np,ae==null?void 0:ae.x,se==null?void 0:se.x),Af(G.y,X,dO,ae==null?void 0:ae.y,se==null?void 0:se.y)}function Iy(G){return G.translate===0&&G.scale===1}function Fy(G){return Iy(G.x)&&Iy(G.y)}function hO(G,X){return G.x.min===X.x.min&&G.x.max===X.x.max&&G.y.min===X.y.min&&G.y.max===X.y.max}function gO(G){return Aa(G.x)/Aa(G.y)}class rD{constructor(){this.members=[]}add(X){pi(this.members,X),X.scheduleRender()}remove(X){if(ir(this.members,X),X===this.prevLead&&(this.prevLead=void 0),X===this.lead){const ae=this.members[this.members.length-1];ae&&this.promote(ae)}}relegate(X){const ae=this.members.findIndex(he=>X===he);if(ae===0)return!1;let se;for(let he=ae;he>=0;he--){const Fe=this.members[he];if(Fe.isPresent!==!1){se=Fe;break}}return se?(this.promote(se),!0):!1}promote(X,ae){var se;const he=this.lead;if(X!==he&&(this.prevLead=he,this.lead=X,X.show(),he)){he.instance&&he.scheduleRender(),X.scheduleRender(),X.resumeFrom=he,ae&&(X.resumeFrom.preserveOpacity=!0),he.snapshot&&(X.snapshot=he.snapshot,X.snapshot.latestValues=he.animationValues||he.latestValues),!((se=X.root)===null||se===void 0)&&se.isUpdating&&(X.isLayoutDirty=!0);const{crossfade:Fe}=X.options;Fe===!1&&he.hide()}}exitAnimationComplete(){this.members.forEach(X=>{var ae,se,he,Fe,Te;(se=(ae=X.options).onExitComplete)===null||se===void 0||se.call(ae),(Te=(he=X.resumingFrom)===null||he===void 0?void 0:(Fe=he.options).onExitComplete)===null||Te===void 0||Te.call(Fe)})}scheduleRender(){this.members.forEach(X=>{X.instance&&X.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZT(G,X,ae){let se="";const he=G.x.translate/X.x,Fe=G.y.translate/X.y;if((he||Fe)&&(se=`translate3d(${he}px, ${Fe}px, 0) `),(X.x!==1||X.y!==1)&&(se+=`scale(${1/X.x}, ${1/X.y}) `),ae){const{rotate:Qe,rotateX:et,rotateY:lt}=ae;Qe&&(se+=`rotate(${Qe}deg) `),et&&(se+=`rotateX(${et}deg) `),lt&&(se+=`rotateY(${lt}deg) `)}const Te=G.x.scale*X.x,Ke=G.y.scale*X.y;return(Te!==1||Ke!==1)&&(se+=`scale(${Te}, ${Ke})`),se||"none"}const Mw=(G,X)=>G.depth-X.depth;class Pw{constructor(){this.children=[],this.isDirty=!1}add(X){pi(this.children,X),this.isDirty=!0}remove(X){ir(this.children,X),this.isDirty=!0}forEach(X){this.isDirty&&this.children.sort(Mw),this.isDirty=!1,this.children.forEach(X)}}const QT=["","X","Y","Z"],pO=1e3;let Ny=0;function ex({attachResizeListener:G,defaultParent:X,measureScroll:ae,checkIsScrollRoot:se,resetTransform:he}){return class{constructor(Te,Ke={},Qe=X==null?void 0:X()){this.id=Ny++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(Po),this.nodes.forEach(fC),this.nodes.forEach(yO)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=Te,this.latestValues=Ke,this.root=Qe?Qe.root||Qe:this,this.path=Qe?[...Qe.path,Qe]:[],this.parent=Qe,this.depth=Qe?Qe.depth+1:0,Te&&this.root.registerPotentialNode(Te,this);for(let et=0;et<this.path.length;et++)this.path[et].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pw)}addEventListener(Te,Ke){return this.eventHandlers.has(Te)||this.eventHandlers.set(Te,new un),this.eventHandlers.get(Te).add(Ke)}notifyListeners(Te,...Ke){const Qe=this.eventHandlers.get(Te);Qe==null||Qe.notify(...Ke)}hasListeners(Te){return this.eventHandlers.has(Te)}registerPotentialNode(Te,Ke){this.potentialNodes.set(Te,Ke)}mount(Te,Ke=!1){var Qe;if(this.instance)return;this.isSVG=Te instanceof SVGElement&&Te.tagName!=="svg",this.instance=Te;const{layoutId:et,layout:lt,visualElement:zt}=this.options;if(zt&&!zt.current&&zt.mount(Te),this.root.nodes.add(this),(Qe=this.parent)===null||Qe===void 0||Qe.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),Ke&&(lt||et)&&(this.isLayoutDirty=!0),G){let It;const Kt=()=>this.root.updateBlockedByResize=!1;G(Te,()=>{this.root.updateBlockedByResize=!0,It&&It(),It=Jg(Kt,250),H.hasAnimatedSinceResize&&(H.hasAnimatedSinceResize=!1,this.nodes.forEach(sg))})}et&&this.root.registerSharedNode(et,this),this.options.animate!==!1&&zt&&(et||lt)&&this.addEventListener("didUpdate",({delta:It,hasLayoutChanged:Kt,hasRelativeTargetChanged:pn,layout:Bn})=>{var Nr,Cr,Lr,Rr,Sr;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const as=(Cr=(Nr=this.options.transition)!==null&&Nr!==void 0?Nr:zt.getDefaultTransition())!==null&&Cr!==void 0?Cr:m0,{onLayoutAnimationStart:xs,onLayoutAnimationComplete:cc}=zt.getProps(),cg=!this.targetLayout||!hO(this.targetLayout,Bn)||pn,fg=!Kt&&pn;if(this.options.layoutRoot||!((Lr=this.resumeFrom)===null||Lr===void 0)&&Lr.instance||fg||Kt&&(cg||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(It,fg);const fc={...te(as,"layout"),onPlay:xs,onComplete:cc};(zt.shouldReduceMotion||this.options.layoutRoot)&&(fc.delay=0,fc.type=!1),this.startAnimation(fc)}else!Kt&&this.animationProgress===0&&sg(this),this.isLead()&&((Sr=(Rr=this.options).onExitComplete)===null||Sr===void 0||Sr.call(Rr));this.targetLayout=Bn})}unmount(){var Te,Ke;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(Te=this.getStack())===null||Te===void 0||Te.remove(this),(Ke=this.parent)===null||Ke===void 0||Ke.children.delete(this),this.instance=void 0,$t.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var Te;return this.isAnimationBlocked||((Te=this.parent)===null||Te===void 0?void 0:Te.isTreeAnimationBlocked())||!1}startUpdate(){var Te;this.isUpdateBlocked()||(this.isUpdating=!0,(Te=this.nodes)===null||Te===void 0||Te.forEach(bO),this.animationId++)}getTransformTemplate(){var Te;return(Te=this.options.visualElement)===null||Te===void 0?void 0:Te.getProps().transformTemplate}willUpdate(Te=!0){var Ke,Qe,et;if(this.root.isUpdateBlocked()){(Qe=(Ke=this.options).onExitComplete)===null||Qe===void 0||Qe.call(Ke);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let It=0;It<this.path.length;It++){const Kt=this.path[It];Kt.shouldResetTransform=!0,Kt.updateScroll("snapshot"),Kt.options.layoutRoot&&Kt.willUpdate(!1)}const{layoutId:lt,layout:zt}=this.options;lt===void 0&&!zt||(this.prevTransformTemplateValue=(et=this.getTransformTemplate())===null||et===void 0?void 0:et(this.latestValues,""),this.updateSnapshot(),Te&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mO);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(tx),this.potentialNodes.clear()),this.nodes.forEach(iD),this.nodes.forEach(vO),this.nodes.forEach(Gn),this.clearAllSnapshots(),an.update(),an.preRender(),an.render())}clearAllSnapshots(){this.nodes.forEach(Mv),this.sharedNodes.forEach(Lw)}scheduleUpdateProjection(){Ve.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var Te;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Qe=0;Qe<this.path.length;Qe++)this.path[Qe].updateScroll();const Ke=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qu(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(Te=this.options.visualElement)===null||Te===void 0||Te.notify("LayoutMeasure",this.layout.layoutBox,Ke==null?void 0:Ke.layoutBox)}updateScroll(Te="measure"){let Ke=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Te&&(Ke=!1),Ke&&(this.scroll={animationId:this.root.animationId,phase:Te,isRoot:se(this.instance),offset:ae(this.instance)})}resetTransform(){var Te;if(!he)return;const Ke=this.isLayoutDirty||this.shouldResetTransform,Qe=this.projectionDelta&&!Fy(this.projectionDelta),et=(Te=this.getTransformTemplate())===null||Te===void 0?void 0:Te(this.latestValues,""),lt=et!==this.prevTransformTemplateValue;Ke&&(Qe||Vc(this.latestValues)||lt)&&(he(this.instance,et),this.shouldResetTransform=!1,this.scheduleRender())}measure(Te=!0){const Ke=this.measurePageBox();let Qe=this.removeElementScroll(Ke);return Te&&(Qe=this.removeTransform(Qe)),rp(Qe),{animationId:this.root.animationId,measuredBox:Ke,layoutBox:Qe,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:Te}=this.options;if(!Te)return qu();const Ke=Te.measureViewportBox(),{scroll:Qe}=this.root;return Qe&&(My(Ke.x,Qe.offset.x),My(Ke.y,Qe.offset.y)),Ke}removeElementScroll(Te){const Ke=qu();fi(Ke,Te);for(let Qe=0;Qe<this.path.length;Qe++){const et=this.path[Qe],{scroll:lt,options:zt}=et;if(et!==this.root&&lt&&zt.layoutScroll){if(lt.isRoot){fi(Ke,Te);const{scroll:It}=this.root;It&&(My(Ke.x,-It.offset.x),My(Ke.y,-It.offset.y))}My(Ke.x,lt.offset.x),My(Ke.y,lt.offset.y)}}return Ke}applyTransform(Te,Ke=!1){const Qe=qu();fi(Qe,Te);for(let et=0;et<this.path.length;et++){const lt=this.path[et];!Ke&&lt.options.layoutScroll&&lt.scroll&&lt!==lt.root&&kf(Qe,{x:-lt.scroll.offset.x,y:-lt.scroll.offset.y}),Vc(lt.latestValues)&&kf(Qe,lt.latestValues)}return Vc(this.latestValues)&&kf(Qe,this.latestValues),Qe}removeTransform(Te){var Ke;const Qe=qu();fi(Qe,Te);for(let et=0;et<this.path.length;et++){const lt=this.path[et];if(!lt.instance||!Vc(lt.latestValues))continue;K_(lt.latestValues)&&lt.updateSnapshot();const zt=qu(),It=lt.measurePageBox();fi(zt,It),XT(Qe,lt.latestValues,(Ke=lt.snapshot)===null||Ke===void 0?void 0:Ke.layoutBox,zt)}return Vc(this.latestValues)&&XT(Qe,this.latestValues),Qe}setTargetDelta(Te){this.targetDelta=Te,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(Te){this.options={...this.options,...Te,crossfade:Te.crossfade!==void 0?Te.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var Te;const Ke=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=Ke.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Ke.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:Qe,layoutId:et}=this.options;if(!(!this.layout||!(Qe||et))){if(!this.targetDelta&&!this.relativeTarget){const lt=this.getClosestProjectingParent();lt&&lt.layout?(this.relativeParent=lt,this.relativeTarget=qu(),this.relativeTargetOrigin=qu(),Sw(this.relativeTargetOrigin,this.layout.layoutBox,lt.layout.layoutBox),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qu(),this.targetWithTransforms=qu()),this.relativeTarget&&this.relativeTargetOrigin&&(!((Te=this.relativeParent)===null||Te===void 0)&&Te.target)?zr(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),Yu(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const lt=this.getClosestProjectingParent();lt&&!!lt.resumingFrom==!!this.resumingFrom&&!lt.options.layoutScroll&&lt.target?(this.relativeParent=lt,this.relativeTarget=qu(),this.relativeTargetOrigin=qu(),Sw(this.relativeTargetOrigin,this.target,lt.target),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||K_(this.parent.latestValues)||ep(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var Te;const{isProjectionDirty:Ke,isTransformDirty:Qe}=this;this.isProjectionDirty=this.isTransformDirty=!1;const et=this.getLead(),lt=!!this.resumingFrom||this!==et;let zt=!0;if(Ke&&(zt=!1),lt&&Qe&&(zt=!1),zt)return;const{layout:It,layoutId:Kt}=this.options;if(this.isTreeAnimating=!!(!((Te=this.parent)===null||Te===void 0)&&Te.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(It||Kt))return;fi(this.layoutCorrected,this.layout.layoutBox),rO(this.layoutCorrected,this.treeScale,this.path,lt);const{target:pn}=et;if(!pn)return;this.projectionDelta||(this.projectionDelta=Av(),this.projectionDeltaWithTransform=Av());const Bn=this.treeScale.x,Nr=this.treeScale.y,Cr=this.projectionTransform;xw(this.projectionDelta,this.layoutCorrected,pn,this.latestValues),this.projectionTransform=ZT(this.projectionDelta,this.treeScale),(this.projectionTransform!==Cr||this.treeScale.x!==Bn||this.treeScale.y!==Nr)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",pn))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Te=!0){var Ke,Qe,et;(Qe=(Ke=this.options).scheduleRender)===null||Qe===void 0||Qe.call(Ke),Te&&((et=this.getStack())===null||et===void 0||et.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(Te,Ke=!1){var Qe,et;const lt=this.snapshot,zt=(lt==null?void 0:lt.latestValues)||{},It={...this.latestValues},Kt=Av();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Ke;const pn=qu(),Bn=(lt==null?void 0:lt.source)!==((Qe=this.layout)===null||Qe===void 0?void 0:Qe.source),Nr=(((et=this.getStack())===null||et===void 0?void 0:et.members.length)||0)<=1,Cr=!!(Bn&&!Nr&&this.options.crossfade===!0&&!this.path.some(wO));this.animationProgress=0,this.mixTargetDelta=Lr=>{var Rr;const Sr=Lr/1e3;sh(Kt.x,Te.x,Sr),sh(Kt.y,Te.y,Sr),this.setTargetDelta(Kt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((Rr=this.relativeParent)===null||Rr===void 0)&&Rr.layout)&&(Sw(pn,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zy(this.relativeTarget,this.relativeTargetOrigin,pn,Sr)),Bn&&(this.animationValues=It,YT(It,zt,this.latestValues,Sr,Cr,Nr)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Sr},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Te){var Ke,Qe;this.notifyListeners("animationStart"),(Ke=this.currentAnimation)===null||Ke===void 0||Ke.stop(),this.resumingFrom&&((Qe=this.resumingFrom.currentAnimation)===null||Qe===void 0||Qe.stop()),this.pendingAnimation&&($t.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{H.hasAnimatedSinceResize=!0,this.currentAnimation=v0(0,pO,{...Te,onUpdate:et=>{var lt;this.mixTargetDelta(et),(lt=Te.onUpdate)===null||lt===void 0||lt.call(Te,et)},onComplete:()=>{var et;(et=Te.onComplete)===null||et===void 0||et.call(Te),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var Te;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(Te=this.getStack())===null||Te===void 0||Te.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var Te;this.currentAnimation&&((Te=this.mixTargetDelta)===null||Te===void 0||Te.call(this,pO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Te=this.getLead();let{targetWithTransforms:Ke,target:Qe,layout:et,latestValues:lt}=Te;if(!(!Ke||!Qe||!et)){if(this!==Te&&this.layout&&et&&c1(this.options.animationType,this.layout.layoutBox,et.layoutBox)){Qe=this.target||qu();const zt=Aa(this.layout.layoutBox.x);Qe.x.min=Te.target.x.min,Qe.x.max=Qe.x.min+zt;const It=Aa(this.layout.layoutBox.y);Qe.y.min=Te.target.y.min,Qe.y.max=Qe.y.min+It}fi(Ke,Qe),kf(Ke,lt),xw(this.projectionDeltaWithTransform,this.layoutCorrected,Ke,lt)}}registerSharedNode(Te,Ke){var Qe,et,lt;this.sharedNodes.has(Te)||this.sharedNodes.set(Te,new rD),this.sharedNodes.get(Te).add(Ke),Ke.promote({transition:(Qe=Ke.options.initialPromotionConfig)===null||Qe===void 0?void 0:Qe.transition,preserveFollowOpacity:(lt=(et=Ke.options.initialPromotionConfig)===null||et===void 0?void 0:et.shouldPreserveFollowOpacity)===null||lt===void 0?void 0:lt.call(et,Ke)})}isLead(){const Te=this.getStack();return Te?Te.lead===this:!0}getLead(){var Te;const{layoutId:Ke}=this.options;return Ke?((Te=this.getStack())===null||Te===void 0?void 0:Te.lead)||this:this}getPrevLead(){var Te;const{layoutId:Ke}=this.options;return Ke?(Te=this.getStack())===null||Te===void 0?void 0:Te.prevLead:void 0}getStack(){const{layoutId:Te}=this.options;if(Te)return this.root.sharedNodes.get(Te)}promote({needsReset:Te,transition:Ke,preserveFollowOpacity:Qe}={}){const et=this.getStack();et&&et.promote(this,Qe),Te&&(this.projectionDelta=void 0,this.needsReset=!0),Ke&&this.setOptions({transition:Ke})}relegate(){const Te=this.getStack();return Te?Te.relegate(this):!1}resetRotation(){const{visualElement:Te}=this.options;if(!Te)return;let Ke=!1;const{latestValues:Qe}=Te;if((Qe.rotate||Qe.rotateX||Qe.rotateY||Qe.rotateZ)&&(Ke=!0),!Ke)return;const et={};for(let lt=0;lt<QT.length;lt++){const zt="rotate"+QT[lt];Qe[zt]&&(et[zt]=Qe[zt],Te.setStaticValue(zt,0))}Te==null||Te.render();for(const lt in et)Te.setStaticValue(lt,et[lt]);Te.scheduleRender()}getProjectionStyles(Te={}){var Ke,Qe;const et={};if(!this.instance||this.isSVG)return et;if(this.isVisible)et.visibility="";else return{visibility:"hidden"};const lt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,et.opacity="",et.pointerEvents=Fl(Te.pointerEvents)||"",et.transform=lt?lt(this.latestValues,""):"none",et;const zt=this.getLead();if(!this.projectionDelta||!this.layout||!zt.target){const Bn={};return this.options.layoutId&&(Bn.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Bn.pointerEvents=Fl(Te.pointerEvents)||""),this.hasProjected&&!Vc(this.latestValues)&&(Bn.transform=lt?lt({},""):"none",this.hasProjected=!1),Bn}const It=zt.animationValues||zt.latestValues;this.applyTransformsToTarget(),et.transform=ZT(this.projectionDeltaWithTransform,this.treeScale,It),lt&&(et.transform=lt(It,et.transform));const{x:Kt,y:pn}=this.projectionDelta;et.transformOrigin=`${Kt.origin*100}% ${pn.origin*100}% 0`,zt.animationValues?et.opacity=zt===this?(Qe=(Ke=It.opacity)!==null&&Ke!==void 0?Ke:this.latestValues.opacity)!==null&&Qe!==void 0?Qe:1:this.preserveOpacity?this.latestValues.opacity:It.opacityExit:et.opacity=zt===this?It.opacity!==void 0?It.opacity:"":It.opacityExit!==void 0?It.opacityExit:0;for(const Bn in Ee){if(It[Bn]===void 0)continue;const{correct:Nr,applyTo:Cr}=Ee[Bn],Lr=et.transform==="none"?It[Bn]:Nr(It[Bn],zt);if(Cr){const Rr=Cr.length;for(let Sr=0;Sr<Rr;Sr++)et[Cr[Sr]]=Lr}else et[Bn]=Lr}return this.options.layoutId&&(et.pointerEvents=zt===this?Fl(Te.pointerEvents)||"":"none"),et}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Te=>{var Ke;return(Ke=Te.currentAnimation)===null||Ke===void 0?void 0:Ke.stop()}),this.root.nodes.forEach(mO),this.root.sharedNodes.clear()}}}function vO(G){G.updateLayout()}function Gn(G){var X,ae,se;const he=((X=G.resumeFrom)===null||X===void 0?void 0:X.snapshot)||G.snapshot;if(G.isLead()&&G.layout&&he&&G.hasListeners("didUpdate")){const{layoutBox:Fe,measuredBox:Te}=G.layout,{animationType:Ke}=G.options,Qe=he.source!==G.layout.source;Ke==="size"?Rv(Kt=>{const pn=Qe?he.measuredBox[Kt]:he.layoutBox[Kt],Bn=Aa(pn);pn.min=Fe[Kt].min,pn.max=pn.min+Bn}):c1(Ke,he.layoutBox,Fe)&&Rv(Kt=>{const pn=Qe?he.measuredBox[Kt]:he.layoutBox[Kt],Bn=Aa(Fe[Kt]);pn.max=pn.min+Bn});const et=Av();xw(et,Fe,he.layoutBox);const lt=Av();Qe?xw(lt,G.applyTransform(Te,!0),he.measuredBox):xw(lt,Fe,he.layoutBox);const zt=!Fy(et);let It=!1;if(!G.resumeFrom){const Kt=G.getClosestProjectingParent();if(Kt&&!Kt.resumeFrom){const{snapshot:pn,layout:Bn}=Kt;if(pn&&Bn){const Nr=qu();Sw(Nr,he.layoutBox,pn.layoutBox);const Cr=qu();Sw(Cr,Fe,Bn.layoutBox),hO(Nr,Cr)||(It=!0),Kt.options.layoutRoot&&(G.relativeTarget=Cr,G.relativeTargetOrigin=Nr,G.relativeParent=Kt)}}}G.notifyListeners("didUpdate",{layout:Fe,snapshot:he,delta:lt,layoutDelta:et,hasLayoutChanged:zt,hasRelativeTargetChanged:It})}else G.isLead()&&((se=(ae=G.options).onExitComplete)===null||se===void 0||se.call(ae));G.options.transition=void 0}function Po(G){G.isProjectionDirty||(G.isProjectionDirty=!!(G.parent&&G.parent.isProjectionDirty)),G.isTransformDirty||(G.isTransformDirty=!!(G.parent&&G.parent.isTransformDirty))}function Mv(G){G.clearSnapshot()}function mO(G){G.clearMeasurements()}function iD(G){const{visualElement:X}=G.options;X!=null&&X.getProps().onBeforeLayoutMeasure&&X.notify("BeforeLayoutMeasure"),G.resetTransform()}function sg(G){G.finishAnimation(),G.targetDelta=G.relativeTarget=G.target=void 0}function fC(G){G.resolveTargetDelta()}function yO(G){G.calcProjection()}function bO(G){G.resetRotation()}function Lw(G){G.removeLeadSnapshot()}function sh(G,X,ae){G.translate=Ba(X.translate,0,ae),G.scale=Ba(X.scale,1,ae),G.origin=X.origin,G.originPoint=X.originPoint}function Dw(G,X,ae,se){G.min=Ba(X.min,ae.min,se),G.max=Ba(X.max,ae.max,se)}function zy(G,X,ae,se){Dw(G.x,X.x,ae.x,se),Dw(G.y,X.y,ae.y,se)}function wO(G){return G.animationValues&&G.animationValues.opacityExit!==void 0}const m0={duration:.45,ease:[.4,0,.1,1]};function tx(G,X){let ae=G.root;for(let Fe=G.path.length-1;Fe>=0;Fe--)if(G.path[Fe].instance){ae=G.path[Fe];break}const he=(ae&&ae!==G.root?ae.instance:document).querySelector(`[data-projection-id="${X}"]`);he&&G.mount(he,!0)}function jy(G){G.min=Math.round(G.min),G.max=Math.round(G.max)}function rp(G){jy(G.x),jy(G.y)}function c1(G,X,ae){return G==="position"||G==="preserve-aspect"&&!tC(gO(X),gO(ae),.2)}const Iw=ex({attachResizeListener:(G,X)=>_f(G,"resize",X),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ug={current:void 0},f1=ex({measureScroll:G=>({x:G.scrollLeft,y:G.scrollTop}),defaultParent:()=>{if(!ug.current){const G=new Iw(0,{});G.mount(window),G.setOptions({layoutScroll:!0}),ug.current=G}return ug.current},resetTransform:(G,X)=>{G.style.transform=X!==void 0?X:"none"},checkIsScrollRoot:G=>window.getComputedStyle(G).position==="fixed"}),Pv={...g0,...jc,...rn,...og},Ai=de((G,X)=>lu(G,X,Pv,Of,f1));function y0(G){return ve(lu(G,{forwardMotionProps:!1},Pv,Of,f1))}const dC=de(lu);function d1(){const G=t.useRef(!1);return v(()=>(G.current=!0,()=>{G.current=!1}),[]),G}function hC(){const G=d1(),[X,ae]=t.useState(0),se=t.useCallback(()=>{G.current&&ae(X+1)},[X]);return[t.useCallback(()=>Ve.postRender(se),[se]),X]}class Fw extends u.Component{getSnapshotBeforeUpdate(X){const ae=this.props.childRef.current;if(ae&&X.isPresent&&!this.props.isPresent){const se=this.props.sizeRef.current;se.height=ae.offsetHeight||0,se.width=ae.offsetWidth||0,se.top=ae.offsetTop,se.left=ae.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function By({children:G,isPresent:X}){const ae=t.useId(),se=t.useRef(null),he=t.useRef({width:0,height:0,top:0,left:0});return t.useInsertionEffect(()=>{const{width:Fe,height:Te,top:Ke,left:Qe}=he.current;if(X||!se.current||!Fe||!Te)return;se.current.dataset.motionPopId=ae;const et=document.createElement("style");return document.head.appendChild(et),et.sheet&&et.sheet.insertRule(`
          [data-motion-pop-id="${ae}"] {
            position: absolute !important;
            width: ${Fe}px !important;
            height: ${Te}px !important;
            top: ${Ke}px !important;
            left: ${Qe}px !important;
          }
        `),()=>{document.head.removeChild(et)}},[X]),u.createElement(Fw,{isPresent:X,childRef:se,sizeRef:he},u.cloneElement(G,{ref:se}))}const lc=({children:G,initial:X,isPresent:ae,onExitComplete:se,custom:he,presenceAffectsLayout:Fe,mode:Te})=>{const Ke=U(aD),Qe=t.useId(),et=t.useMemo(()=>({id:Qe,initial:X,isPresent:ae,custom:he,onExitComplete:lt=>{Ke.set(lt,!0);for(const zt of Ke.values())if(!zt)return;se&&se()},register:lt=>(Ke.set(lt,!1),()=>Ke.delete(lt))}),Fe?void 0:[ae]);return t.useMemo(()=>{Ke.forEach((lt,zt)=>Ke.set(zt,!1))},[ae]),u.useEffect(()=>{!ae&&!Ke.size&&se&&se()},[ae]),Te==="popLayout"&&(G=u.createElement(By,{isPresent:ae},G)),u.createElement(h.Provider,{value:et},G)};function aD(){return new Map}const h1=G=>G.key||"";function Di(G,X){G.forEach(ae=>{const se=h1(ae);X.set(se,ae)})}function g1(G){const X=[];return t.Children.forEach(G,ae=>{t.isValidElement(ae)&&X.push(ae)}),X}const _O=({children:G,custom:X,initial:ae=!0,onExitComplete:se,exitBeforeEnter:he,presenceAffectsLayout:Fe=!0,mode:Te="sync"})=>{he&&(Te="wait");let[Ke]=hC();const Qe=t.useContext(Q).forceRender;Qe&&(Ke=Qe);const et=d1(),lt=g1(G);let zt=lt;const It=new Set,Kt=t.useRef(zt),pn=t.useRef(new Map).current,Bn=t.useRef(!0);if(v(()=>{Bn.current=!1,Di(lt,pn),Kt.current=zt}),Kh(()=>{Bn.current=!0,pn.clear(),It.clear()}),Bn.current)return u.createElement(u.Fragment,null,zt.map(Rr=>u.createElement(lc,{key:h1(Rr),isPresent:!0,initial:ae?void 0:!1,presenceAffectsLayout:Fe,mode:Te},Rr)));zt=[...zt];const Nr=Kt.current.map(h1),Cr=lt.map(h1),Lr=Nr.length;for(let Rr=0;Rr<Lr;Rr++){const Sr=Nr[Rr];Cr.indexOf(Sr)===-1&&It.add(Sr)}return Te==="wait"&&It.size&&(zt=[]),It.forEach(Rr=>{if(Cr.indexOf(Rr)!==-1)return;const Sr=pn.get(Rr);if(!Sr)return;const as=Nr.indexOf(Rr),xs=()=>{pn.delete(Rr),It.delete(Rr);const cc=Kt.current.findIndex(cg=>cg.key===Rr);if(Kt.current.splice(cc,1),!It.size){if(Kt.current=lt,et.current===!1)return;Ke(),se&&se()}};zt.splice(as,0,u.createElement(lc,{key:h1(Sr),isPresent:!1,onExitComplete:xs,custom:X,presenceAffectsLayout:Fe,mode:Te},Sr))}),zt=zt.map(Rr=>{const Sr=Rr.key;return It.has(Sr)?Rr:u.createElement(lc,{key:h1(Rr),isPresent:!0,presenceAffectsLayout:Fe,mode:Te},Rr)}),u.createElement(u.Fragment,null,It.size?zt:zt.map(Rr=>t.cloneElement(Rr)))},Hy=t.createContext(null),JT=G=>!G.isLayoutDirty&&G.willUpdate(!1);function gC(){const G=new Set,X=new WeakMap,ae=()=>G.forEach(JT);return{add:se=>{G.add(se),X.set(se,se.addEventListener("willUpdate",ae))},remove:se=>{var he;G.delete(se),(he=X.get(se))===null||he===void 0||he(),X.delete(se),ae()},dirty:ae}}const ip=G=>G===!0,kd=G=>ip(G===!0)||G==="id",Nw=({children:G,id:X,inheritId:ae,inherit:se=!0})=>{ae!==void 0&&(se=ae);const he=t.useContext(Q),Fe=t.useContext(Hy),[Te,Ke]=hC(),Qe=t.useRef(null),et=he.id||Fe;Qe.current===null&&(kd(se)&&et&&(X=X?et+"-"+X:et),Qe.current={id:X,group:ip(se)&&he.group||gC()});const lt=t.useMemo(()=>({...Qe.current,forceRender:Te}),[Ke]);return u.createElement(Q.Provider,{value:lt},G)};let pC=0;const xO=({children:G})=>(u.useEffect(()=>{n.warning(!1,"AnimateSharedLayout is deprecated: https://www.framer.com/docs/guide-upgrade/##shared-layout-animations")},[]),u.createElement(Nw,{id:U(()=>`asl-${pC++}`)},G));function G7({children:G,isValidProp:X,...ae}){X&&xo(X),ae={...t.useContext(f),...ae},ae.isStatic=U(()=>ae.isStatic);const se=t.useMemo(()=>ae,[JSON.stringify(ae.transition),ae.transformPagePoint,ae.reducedMotion]);return u.createElement(f.Provider,{value:se},G)}function q7({children:G,features:X,strict:ae=!1}){const[,se]=t.useState(!zw(X)),he=t.useRef(void 0);if(!zw(X)){const{renderer:Fe,...Te}=X;he.current=Fe,j(Te)}return t.useEffect(()=>{zw(X)&&X().then(({renderer:Fe,...Te})=>{j(Te),he.current=Fe,se(!0)})},[]),u.createElement(m.Provider,{value:{renderer:he.current,strict:ae}},G)}function zw(G){return typeof G=="function"}const vC=t.createContext(null);function e4(G,X,ae,se){if(!se)return G;const he=G.findIndex(lt=>lt.value===X);if(he===-1)return G;const Fe=se>0?1:-1,Te=G[he+Fe];if(!Te)return G;const Ke=G[he],Qe=Te.layout,et=Ba(Qe.min,Qe.max,.5);return Fe===1&&Ke.layout.max+ae>et||Fe===-1&&Ke.layout.min+ae<et?Cn(G,he,he+Fe):G}function Y7({children:G,as:X="ul",axis:ae="y",onReorder:se,values:he,...Fe},Te){const Ke=U(()=>Ai(X)),Qe=[],et=t.useRef(!1);n.invariant(!!he,"Reorder.Group must be provided a values prop");const lt={axis:ae,registerItem:(zt,It)=>{It&&Qe.findIndex(Kt=>zt===Kt.value)===-1&&(Qe.push({value:zt,layout:It[ae]}),Qe.sort(X7))},updateOrder:(zt,It,Kt)=>{if(et.current)return;const pn=e4(Qe,zt,It,Kt);Qe!==pn&&(et.current=!0,se(pn.map(uh).filter(Bn=>he.indexOf(Bn)!==-1)))}};return t.useEffect(()=>{et.current=!1}),u.createElement(Ke,{...Fe,ref:Te},u.createElement(vC.Provider,{value:lt},G))}const K7=t.forwardRef(Y7);function uh(G){return G.value}function X7(G,X){return G.layout.min-X.layout.min}function Kf(G){const X=U(()=>gr(G)),{isStatic:ae}=t.useContext(f);if(ae){const[,se]=t.useState(G);t.useEffect(()=>X.on("change",se),[])}return X}const mC=G=>typeof G=="object"&&G.mix,oD=G=>mC(G)?G.mix:void 0;function p1(...G){const X=!Array.isArray(G[0]),ae=X?0:-1,se=G[0+ae],he=G[1+ae],Fe=G[2+ae],Te=G[3+ae],Ke=Rt(he,Fe,{mixer:oD(Fe[0]),...Te});return X?Ke(se):Ke}function SO(G,X){const ae=Kf(X()),se=()=>ae.set(X());return se(),v(()=>{const he=()=>Ve.update(se,!1,!0),Fe=G.map(Te=>Te.on("change",he));return()=>{Fe.forEach(Te=>Te()),$t.update(se)}}),ae}function b0(G,X,ae,se){const he=typeof X=="function"?X:p1(X,ae,se);return Array.isArray(G)?EO(G,he):EO([G],([Fe])=>he(Fe))}function EO(G,X){const ae=U(()=>[]);return SO(G,()=>{ae.length=0;const se=G.length;for(let he=0;he<se;he++)ae[he]=G[he].get();return X(ae)})}function CO(G,X=0){return Me(G)?G:Kf(X)}function $O({children:G,style:X={},value:ae,as:se="li",onDrag:he,layout:Fe=!0,...Te},Ke){const Qe=U(()=>Ai(se)),et=t.useContext(vC),lt={x:CO(X.x),y:CO(X.y)},zt=b0([lt.x,lt.y],([Nr,Cr])=>Nr||Cr?1:"unset"),It=t.useRef(null);n.invariant(!!et,"Reorder.Item must be a child of Reorder.Group");const{axis:Kt,registerItem:pn,updateOrder:Bn}=et;return t.useEffect(()=>{pn(ae,It.current)},[et]),u.createElement(Qe,{drag:Kt,...Te,dragSnapToOrigin:!0,style:{...X,x:lt.x,y:lt.y,zIndex:zt},layout:Fe,onDrag:(Nr,Cr)=>{const{velocity:Lr}=Cr;Lr[Kt]&&Bn(ae,lt[Kt].get(),Lr[Kt]),he&&he(Nr,Cr)},onLayoutMeasure:Nr=>{It.current=Nr},ref:Ke},G)}const nx=t.forwardRef($O),Lv={Group:K7,Item:nx},lh={renderer:Of,...g0,...jc},Uy={...lh,...rn,...og,projectionNodeConstructor:f1};function yC(G,...X){const ae=G.length;function se(){let he="";for(let Fe=0;Fe<ae;Fe++){he+=G[Fe];const Te=X[Fe];Te&&(he+=Me(Te)?Te.get():Te)}return he}return SO(X.filter(Me),se)}function t4(G,X={}){const{isStatic:ae}=t.useContext(f),se=t.useRef(null),he=Kf(Me(G)?G.get():G),Fe=()=>{se.current&&se.current.stop()};return t.useInsertionEffect(()=>he.attach((Te,Ke)=>ae?Ke(Te):(Fe(),se.current=Ys({keyframes:[he.get(),Te],velocity:he.getVelocity(),type:"spring",...X,onUpdate:Ke}),he.get()),Fe),[JSON.stringify(X)]),v(()=>{if(Me(G))return G.on("change",Te=>he.set(parseFloat(Te)))},[he]),he}function kO(G){const X=Kf(G.getVelocity());return t.useEffect(()=>G.on("velocityChange",ae=>{X.set(ae)}),[G]),X}function OO(G,X){n.warning(!!(!X||X.current),`You have defined a ${G} options but the provided ref is not yet hydrated, probably because it's defined higher up the tree. Try calling useScroll() in the same component as the ref, or setting its \`layoutEffect: false\` option.`)}const rx=()=>({scrollX:gr(0),scrollY:gr(0),scrollXProgress:gr(0),scrollYProgress:gr(0)});function bC({container:G,target:X,layoutEffect:ae=!0,...se}={}){const he=U(rx);return(ae?v:t.useEffect)(()=>(OO("target",X),OO("container",G),r.scroll(({x:Te,y:Ke})=>{he.scrollX.set(Te.current),he.scrollXProgress.set(Te.progress),he.scrollY.set(Ke.current),he.scrollYProgress.set(Ke.progress)},{...se,container:(G==null?void 0:G.current)||void 0,target:(X==null?void 0:X.current)||void 0})),[]),he}function n4(G){return bC({container:G})}function sD(){return bC()}function AO(G){const X=t.useRef(0),{isStatic:ae}=t.useContext(f);t.useEffect(()=>{if(ae)return;const se=({timestamp:he,delta:Fe})=>{X.current||(X.current=he),G(he-X.current,Fe)};return Ve.update(se,!0),()=>$t.update(se)},[G])}function uD(){const G=Kf(0);return AO(X=>G.set(X)),G}class lD extends Ur{constructor(){super(...arguments),this.members=[],this.transforms=new Set}add(X){let ae;Ne.has(X)?(this.transforms.add(X),ae="transform"):!X.startsWith("origin")&&!ot(X)&&X!=="willChange"&&(ae=Oa(X)),ae&&(pi(this.members,ae),this.update())}remove(X){Ne.has(X)?(this.transforms.delete(X),this.transforms.size||ir(this.members,"transform")):ir(this.members,Oa(X)),this.update()}update(){this.set(this.members.length?this.members.join(", "):"auto")}}function cD(){return U(()=>new lD("auto"))}function r4(G,X,ae){t.useInsertionEffect(()=>G.on(X,ae),[G,X,ae])}function v1(){!BT.current&&HT();const[G]=t.useState(ba.current);return G}function wC(){const G=v1(),{reducedMotion:X}=t.useContext(f);return X==="never"?!1:X==="always"?!0:G}function Vy(){let G=!1;const X=new Set,ae={subscribe(se){return X.add(se),()=>void X.delete(se)},start(se,he){n.invariant(G,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");const Fe=[];return X.forEach(Te=>{Fe.push(Ae(Te,se,{transitionOverride:he}))}),Promise.all(Fe)},set(se){return n.invariant(G,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),X.forEach(he=>{Vm(he,se)})},stop(){X.forEach(se=>{Pn(se)})},mount(){return G=!0,()=>{G=!1,ae.stop()}}};return ae}function Wy(){const G=U(Vy);return v(G.mount,[]),G}const w0=Wy,_C=(G,X,ae)=>{const se=X-G;return((ae-G)%se+se)%se+G};function RO(...G){const X=t.useRef(0),[ae,se]=t.useState(G[X.current]),he=t.useCallback(Fe=>{X.current=typeof Fe!="number"?_C(0,G.length,X.current+1):Fe,se(G[X.current])},[G.length,...G]);return[ae,he]}function ix(G,{root:X,margin:ae,amount:se,once:he=!1}={}){const[Fe,Te]=t.useState(!1);return t.useEffect(()=>{if(!G.current||he&&Fe)return;const Ke=()=>(Te(!0),he?void 0:()=>Te(!1)),Qe={root:X&&X.current||void 0,margin:ae,amount:se==="some"?"any":se};return r.inView(G.current,Ke,Qe)},[X,G,ae,he]),Fe}class xC{constructor(){this.componentControls=new Set}subscribe(X){return this.componentControls.add(X),()=>this.componentControls.delete(X)}start(X,ae){this.componentControls.forEach(se=>{se.start(X.nativeEvent||X,ae)})}}const TO=()=>new xC;function MO(){return U(TO)}function jw(G){return G!==null&&typeof G=="object"&&ue in G}function ax(G){if(jw(G))return G[ue]}function ch(){return lg}function lg(G){ug.current&&(ug.current.isUpdating=!1,ug.current.blockUpdate(),G&&G())}function pl(){const[G,X]=hC(),ae=ch();return t.useEffect(()=>{Ve.postRender(()=>Ve.postRender(()=>$v.current=!1))},[X]),se=>{ae(()=>{$v.current=!0,G(),se()})}}function SC(){return u.useCallback(()=>{const X=ug.current;X&&X.resetTree()},[])}const PO=(G,X)=>`${G}: ${X}`,EC=new Map;function LO(G,X,ae,se){const he=PO(G,Ne.has(X)?"transform":X),Fe=EC.get(he);if(!Fe)return 0;const{animation:Te,startTime:Ke}=Fe,Qe=()=>{EC.delete(he);try{Te.cancel()}catch{}};if(Ke!==null){const et=performance.now();return se.update(()=>{ae.animation&&(ae.animation.currentTime=performance.now()-et)}),se.render(Qe),et-Ke||0}else return Qe(),0}function DO(G,X,ae,se,he){const Fe=G.dataset[Wm];if(!Fe)return;window.HandoffAppearAnimations=LO;const Te=PO(Fe,X),Ke=gl(G,X,[ae[0],ae[0]],{duration:1e4,ease:"linear"});EC.set(Te,{animation:Ke,startTime:null});const Qe=()=>{Ke.cancel();const et=gl(G,X,ae,se);document.timeline&&(et.startTime=document.timeline.currentTime),EC.set(Te,{animation:et,startTime:performance.now()}),he&&he(et)};Ke.ready?Ke.ready.then(Qe).catch(Or):Qe()}const Bw=()=>({});class Hw extends Cu{build(){}measureInstanceViewportBox(){return qu()}resetTransform(){}restoreTransform(){}removeValueFromRenderState(){}renderInstance(){}scrapeMotionValuesFromProps(){return Bw()}getBaseTargetFromProps(){}readValueFromInstance(X,ae,se){return se.initialState[ae]||0}sortInstanceNodePosition(){return 0}makeTargetAnimatableFromInstance({transition:X,transitionEnd:ae,...se}){const he=z_(se,X||{},this);return ge(this,se,he),{transition:X,transitionEnd:ae,...se}}}const CC=Gu({scrapeMotionValuesFromProps:Bw,createRenderState:Bw});function fD(G){const[X,ae]=t.useState(G),se=CC({},!1),he=U(()=>new Hw({props:{},visualState:se},{initialState:G}));t.useEffect(()=>(he.mount({}),()=>he.unmount()),[he]),t.useEffect(()=>{he.setProps({onUpdate:Te=>{ae({...Te})}})},[ae,he]);const Fe=U(()=>Te=>Ae(he,Te));return[X,Fe]}const dD=1e5,i4=G=>G>.001?1/G:dD;let m1=!1;function $C(G){let X=Kf(1),ae=Kf(1);const se=c();n.invariant(!!(G||se),"If no scale values are provided, useInvertedScale must be used within a child of another motion component."),n.warning(m1,"useInvertedScale is deprecated and will be removed in 3.0. Use the layout prop instead."),m1=!0,G?(X=G.scaleX||X,ae=G.scaleY||ae):se&&(X=se.getValue("scaleX",1),ae=se.getValue("scaleY",1));const he=b0(X,i4),Fe=b0(ae,i4);return{scaleX:he,scaleY:Fe}}e.AnimatePresence=_O,e.AnimateSharedLayout=xO,e.DeprecatedLayoutGroupContext=Hy,e.DragControls=xC,e.FlatTree=Pw,e.LayoutGroup=Nw,e.LayoutGroupContext=Q,e.LazyMotion=q7,e.MotionConfig=G7,e.MotionConfigContext=f,e.MotionContext=d,e.MotionValue=Ur,e.PresenceContext=h,e.Reorder=Lv,e.SwitchLayoutGroupContext=oe,e.VisualElement=Cu,e.addPointerEvent=wd,e.addPointerInfo=Ev,e.addScaleCorrector=xe,e.animate=v0,e.animateVisualElement=Ae,e.animationControls=Vy,e.animations=g0,e.anticipate=qm,e.backIn=tg,e.backInOut=Ey,e.backOut=B_,e.buildTransform=Ye,e.calcLength=Aa,e.checkTargetForNewValues=ge,e.circIn=Gm,e.circInOut=u0,e.circOut=Bc,e.clamp=st,e.createBox=qu,e.createDomMotionComponent=y0,e.createMotionComponent=ve,e.cubicBezier=Mo,e.delay=Jg,e.distance=Qk,e.distance2D=TT,e.domAnimation=lh,e.domMax=Uy,e.easeIn=pt,e.easeInOut=eg,e.easeOut=Jt,e.filterProps=en,e.frameData=Tt,e.isBrowser=p,e.isDragActive=Yh,e.isMotionComponent=jw,e.isMotionValue=Me,e.isValidMotionProp=$i,e.m=dC,e.makeUseVisualState=Gu,e.mix=Ba,e.motion=Ai,e.motionValue=gr,e.optimizedAppearDataAttribute=re,e.pipe=Wf,e.resolveMotionValue=Fl,e.spring=c0,e.startOptimizedAppearAnimation=DO,e.sync=Ve,e.transform=p1,e.unwrapMotionComponent=ax,e.useAnimation=w0,e.useAnimationControls=Wy,e.useAnimationFrame=AO,e.useCycle=RO,e.useDeprecatedAnimatedState=fD,e.useDeprecatedInvertedScale=$C,e.useDomEvent=Iu,e.useDragControls=MO,e.useElementScroll=n4,e.useForceUpdate=hC,e.useInView=ix,e.useInstantLayoutTransition=ch,e.useInstantTransition=pl,e.useIsPresent=Pe,e.useIsomorphicLayoutEffect=v,e.useMotionTemplate=yC,e.useMotionValue=Kf,e.useMotionValueEvent=r4,e.usePresence=i0,e.useReducedMotion=v1,e.useReducedMotionConfig=wC,e.useResetProjection=SC,e.useScroll=bC,e.useSpring=t4,e.useTime=uD,e.useTransform=b0,e.useUnmountEffect=Kh,e.useVelocity=kO,e.useViewportScroll=sD,e.useVisualElementContext=c,e.useWillChange=cD,e.wrap=_C})(kMe);var _ae={},Gsr={get exports(){return _ae},set exports(e){_ae=e}},AU={},qsr={get exports(){return AU},set exports(e){AU=e}},RU={},Ysr={get exports(){return RU},set exports(e){RU=e}},TU={},Ksr={get exports(){return TU},set exports(e){TU=e}},EJe;function Xsr(){return EJe||(EJe=1,function(e,t){(function(n,r){r(t)})($e,function(n){function r(Ee){return Ee.split("-")[1]}function i(Ee){return Ee==="y"?"height":"width"}function a(Ee){return Ee.split("-")[0]}function s(Ee){return["top","bottom"].includes(a(Ee))?"x":"y"}function u(Ee,xe,Ie){let{reference:Ne,floating:We}=Ee;const Me=Ne.x+Ne.width/2-We.width/2,He=Ne.y+Ne.height/2-We.height/2,gt=s(xe),Ye=i(gt),ot=Ne[Ye]/2-We[Ye]/2,Ue=a(xe),st=gt==="x";let at;switch(Ue){case"top":at={x:Me,y:Ne.y-We.height};break;case"bottom":at={x:Me,y:Ne.y+Ne.height};break;case"right":at={x:Ne.x+Ne.width,y:He};break;case"left":at={x:Ne.x-We.width,y:He};break;default:at={x:Ne.x,y:Ne.y}}switch(r(xe)){case"start":at[gt]-=ot*(Ie&&st?-1:1);break;case"end":at[gt]+=ot*(Ie&&st?-1:1);break}return at}const f=async(Ee,xe,Ie)=>{const{placement:Ne="bottom",strategy:We="absolute",middleware:Me=[],platform:He}=Ie,gt=Me.filter(Boolean),Ye=await(He.isRTL==null?void 0:He.isRTL(xe));let ot=await He.getElementRects({reference:Ee,floating:xe,strategy:We}),{x:Ue,y:st}=u(ot,Ne,Ye),at=Ne,St={},Vt=0;for(let tt=0;tt<gt.length;tt++){const{name:wt,fn:vt}=gt[tt],{x:Le,y:ft,data:Mt,reset:yt}=await vt({x:Ue,y:st,initialPlacement:Ne,placement:at,strategy:We,middlewareData:St,rects:ot,platform:He,elements:{reference:Ee,floating:xe}});if(Ue=Le??Ue,st=ft??st,St={...St,[wt]:{...St[wt],...Mt}},yt&&Vt<=50){Vt++,typeof yt=="object"&&(yt.placement&&(at=yt.placement),yt.rects&&(ot=yt.rects===!0?await He.getElementRects({reference:Ee,floating:xe,strategy:We}):yt.rects),{x:Ue,y:st}=u(ot,at,Ye)),tt=-1;continue}}return{x:Ue,y:st,placement:at,strategy:We,middlewareData:St}};function d(Ee){return{top:0,right:0,bottom:0,left:0,...Ee}}function c(Ee){return typeof Ee!="number"?d(Ee):{top:Ee,right:Ee,bottom:Ee,left:Ee}}function h(Ee){return{...Ee,top:Ee.y,left:Ee.x,right:Ee.x+Ee.width,bottom:Ee.y+Ee.height}}async function p(Ee,xe){var Ie;xe===void 0&&(xe={});const{x:Ne,y:We,platform:Me,rects:He,elements:gt,strategy:Ye}=Ee,{boundary:ot="clippingAncestors",rootBoundary:Ue="viewport",elementContext:st="floating",altBoundary:at=!1,padding:St=0}=xe,Vt=c(St),wt=gt[at?st==="floating"?"reference":"floating":st],vt=h(await Me.getClippingRect({element:(Ie=await(Me.isElement==null?void 0:Me.isElement(wt)))==null||Ie?wt:wt.contextElement||await(Me.getDocumentElement==null?void 0:Me.getDocumentElement(gt.floating)),boundary:ot,rootBoundary:Ue,strategy:Ye})),Le=st==="floating"?{...He.floating,x:Ne,y:We}:He.reference,ft=await(Me.getOffsetParent==null?void 0:Me.getOffsetParent(gt.floating)),Mt=await(Me.isElement==null?void 0:Me.isElement(ft))?await(Me.getScale==null?void 0:Me.getScale(ft))||{x:1,y:1}:{x:1,y:1},yt=h(Me.convertOffsetParentRelativeRectToViewportRelativeRect?await Me.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Le,offsetParent:ft,strategy:Ye}):Le);return{top:(vt.top-yt.top+Vt.top)/Mt.y,bottom:(yt.bottom-vt.bottom+Vt.bottom)/Mt.y,left:(vt.left-yt.left+Vt.left)/Mt.x,right:(yt.right-vt.right+Vt.right)/Mt.x}}const v=Math.min,m=Math.max;function y(Ee,xe,Ie){return m(Ee,v(xe,Ie))}const w=Ee=>({name:"arrow",options:Ee,async fn(xe){const{element:Ie,padding:Ne=0}=Ee||{},{x:We,y:Me,placement:He,rects:gt,platform:Ye,elements:ot}=xe;if(Ie==null)return{};const Ue=c(Ne),st={x:We,y:Me},at=s(He),St=i(at),Vt=await Ye.getDimensions(Ie),tt=at==="y",wt=tt?"top":"left",vt=tt?"bottom":"right",Le=tt?"clientHeight":"clientWidth",ft=gt.reference[St]+gt.reference[at]-st[at]-gt.floating[St],Mt=st[at]-gt.reference[at],yt=await(Ye.getOffsetParent==null?void 0:Ye.getOffsetParent(Ie));let Ct=yt?yt[Le]:0;(!Ct||!await(Ye.isElement==null?void 0:Ye.isElement(yt)))&&(Ct=ot.floating[Le]||gt.floating[St]);const jt=ft/2-Mt/2,At=Ue[wt],Bt=Ct-Vt[St]-Ue[vt],kt=Ct/2-Vt[St]/2+jt,qt=y(At,kt,Bt),jn=r(He)!=null&&kt!=qt&&gt.reference[St]/2-(kt<At?Ue[wt]:Ue[vt])-Vt[St]/2<0?kt<At?At-kt:Bt-kt:0;return{[at]:st[at]-jn,data:{[at]:qt,centerOffset:kt-qt}}}}),_=["top","right","bottom","left"],S=_.reduce((Ee,xe)=>Ee.concat(xe,xe+"-start",xe+"-end"),[]),C={left:"right",right:"left",bottom:"top",top:"bottom"};function $(Ee){return Ee.replace(/left|right|bottom|top/g,xe=>C[xe])}function k(Ee,xe,Ie){Ie===void 0&&(Ie=!1);const Ne=r(Ee),We=s(Ee),Me=i(We);let He=We==="x"?Ne===(Ie?"end":"start")?"right":"left":Ne==="start"?"bottom":"top";return xe.reference[Me]>xe.floating[Me]&&(He=$(He)),{main:He,cross:$(He)}}const M={start:"end",end:"start"};function A(Ee){return Ee.replace(/start|end/g,xe=>M[xe])}function L(Ee,xe,Ie){return(Ee?[...Ie.filter(We=>r(We)===Ee),...Ie.filter(We=>r(We)!==Ee)]:Ie.filter(We=>a(We)===We)).filter(We=>Ee?r(We)===Ee||(xe?A(We)!==We:!1):!0)}const N=function(Ee){return Ee===void 0&&(Ee={}),{name:"autoPlacement",options:Ee,async fn(xe){var Ie,Ne,We;const{rects:Me,middlewareData:He,placement:gt,platform:Ye,elements:ot}=xe,{crossAxis:Ue=!1,alignment:st,allowedPlacements:at=S,autoAlignment:St=!0,...Vt}=Ee,tt=st!==void 0||at===S?L(st||null,St,at):at,wt=await p(xe,Vt),vt=((Ie=He.autoPlacement)==null?void 0:Ie.index)||0,Le=tt[vt];if(Le==null)return{};const{main:ft,cross:Mt}=k(Le,Me,await(Ye.isRTL==null?void 0:Ye.isRTL(ot.floating)));if(gt!==Le)return{reset:{placement:tt[0]}};const yt=[wt[a(Le)],wt[ft],wt[Mt]],Ct=[...((Ne=He.autoPlacement)==null?void 0:Ne.overflows)||[],{placement:Le,overflows:yt}],jt=tt[vt+1];if(jt)return{data:{index:vt+1,overflows:Ct},reset:{placement:jt}};const At=Ct.map(qt=>{const fn=r(qt.placement);return[qt.placement,fn&&Ue?qt.overflows.slice(0,2).reduce((jn,Mn)=>jn+Mn,0):qt.overflows[0],qt.overflows]}).sort((qt,fn)=>qt[1]-fn[1]),kt=((We=At.filter(qt=>qt[2].slice(0,r(qt[0])?2:3).every(fn=>fn<=0))[0])==null?void 0:We[0])||At[0][0];return kt!==gt?{data:{index:vt+1,overflows:Ct},reset:{placement:kt}}:{}}}};function R(Ee){const xe=$(Ee);return[A(Ee),xe,A(xe)]}function D(Ee,xe,Ie){const Ne=["left","right"],We=["right","left"],Me=["top","bottom"],He=["bottom","top"];switch(Ee){case"top":case"bottom":return Ie?xe?We:Ne:xe?Ne:We;case"left":case"right":return xe?Me:He;default:return[]}}function j(Ee,xe,Ie,Ne){const We=r(Ee);let Me=D(a(Ee),Ie==="start",Ne);return We&&(Me=Me.map(He=>He+"-"+We),xe&&(Me=Me.concat(Me.map(A)))),Me}const U=function(Ee){return Ee===void 0&&(Ee={}),{name:"flip",options:Ee,async fn(xe){var Ie;const{placement:Ne,middlewareData:We,rects:Me,initialPlacement:He,platform:gt,elements:Ye}=xe,{mainAxis:ot=!0,crossAxis:Ue=!0,fallbackPlacements:st,fallbackStrategy:at="bestFit",fallbackAxisSideDirection:St="none",flipAlignment:Vt=!0,...tt}=Ee,wt=a(Ne),vt=a(He)===He,Le=await(gt.isRTL==null?void 0:gt.isRTL(Ye.floating)),ft=st||(vt||!Vt?[$(He)]:R(He));!st&&St!=="none"&&ft.push(...j(He,Vt,St,Le));const Mt=[He,...ft],yt=await p(xe,tt),Ct=[];let jt=((Ie=We.flip)==null?void 0:Ie.overflows)||[];if(ot&&Ct.push(yt[wt]),Ue){const{main:qt,cross:fn}=k(Ne,Me,Le);Ct.push(yt[qt],yt[fn])}if(jt=[...jt,{placement:Ne,overflows:Ct}],!Ct.every(qt=>qt<=0)){var At,Bt;const qt=(((At=We.flip)==null?void 0:At.index)||0)+1,fn=Mt[qt];if(fn)return{data:{index:qt,overflows:jt},reset:{placement:fn}};let jn=(Bt=jt.filter(Mn=>Mn.overflows[0]<=0).sort((Mn,Un)=>Mn.overflows[1]-Un.overflows[1])[0])==null?void 0:Bt.placement;if(!jn)switch(at){case"bestFit":{var kt;const Mn=(kt=jt.map(Un=>[Un.placement,Un.overflows.filter(Kr=>Kr>0).reduce((Kr,Wi)=>Kr+Wi,0)]).sort((Un,Kr)=>Un[1]-Kr[1])[0])==null?void 0:kt[0];Mn&&(jn=Mn);break}case"initialPlacement":jn=He;break}if(Ne!==jn)return{reset:{placement:jn}}}return{}}}};function H(Ee,xe){return{top:Ee.top-xe.height,right:Ee.right-xe.width,bottom:Ee.bottom-xe.height,left:Ee.left-xe.width}}function Y(Ee){return _.some(xe=>Ee[xe]>=0)}const Z=function(Ee){return Ee===void 0&&(Ee={}),{name:"hide",options:Ee,async fn(xe){const{strategy:Ie="referenceHidden",...Ne}=Ee,{rects:We}=xe;switch(Ie){case"referenceHidden":{const Me=await p(xe,{...Ne,elementContext:"reference"}),He=H(Me,We.reference);return{data:{referenceHiddenOffsets:He,referenceHidden:Y(He)}}}case"escaped":{const Me=await p(xe,{...Ne,altBoundary:!0}),He=H(Me,We.floating);return{data:{escapedOffsets:He,escaped:Y(He)}}}default:return{}}}}};function Q(Ee){const xe=v(...Ee.map(Me=>Me.left)),Ie=v(...Ee.map(Me=>Me.top)),Ne=m(...Ee.map(Me=>Me.right)),We=m(...Ee.map(Me=>Me.bottom));return{x:xe,y:Ie,width:Ne-xe,height:We-Ie}}function ee(Ee){const xe=Ee.slice().sort((We,Me)=>We.y-Me.y),Ie=[];let Ne=null;for(let We=0;We<xe.length;We++){const Me=xe[We];!Ne||Me.y-Ne.y>Ne.height/2?Ie.push([Me]):Ie[Ie.length-1].push(Me),Ne=Me}return Ie.map(We=>h(Q(We)))}const oe=function(Ee){return Ee===void 0&&(Ee={}),{name:"inline",options:Ee,async fn(xe){const{placement:Ie,elements:Ne,rects:We,platform:Me,strategy:He}=xe,{padding:gt=2,x:Ye,y:ot}=Ee,Ue=Array.from(await(Me.getClientRects==null?void 0:Me.getClientRects(Ne.reference))||[]),st=ee(Ue),at=h(Q(Ue)),St=c(gt);function Vt(){if(st.length===2&&st[0].left>st[1].right&&Ye!=null&&ot!=null)return st.find(wt=>Ye>wt.left-St.left&&Ye<wt.right+St.right&&ot>wt.top-St.top&&ot<wt.bottom+St.bottom)||at;if(st.length>=2){if(s(Ie)==="x"){const kt=st[0],qt=st[st.length-1],fn=a(Ie)==="top",jn=kt.top,Mn=qt.bottom,Un=fn?kt.left:qt.left,Kr=fn?kt.right:qt.right,Wi=Kr-Un,sa=Mn-jn;return{top:jn,bottom:Mn,left:Un,right:Kr,width:Wi,height:sa,x:Un,y:jn}}const wt=a(Ie)==="left",vt=m(...st.map(kt=>kt.right)),Le=v(...st.map(kt=>kt.left)),ft=st.filter(kt=>wt?kt.left===Le:kt.right===vt),Mt=ft[0].top,yt=ft[ft.length-1].bottom,Ct=Le,jt=vt,At=jt-Ct,Bt=yt-Mt;return{top:Mt,bottom:yt,left:Ct,right:jt,width:At,height:Bt,x:Ct,y:Mt}}return at}const tt=await Me.getElementRects({reference:{getBoundingClientRect:Vt},floating:Ne.floating,strategy:He});return We.reference.x!==tt.reference.x||We.reference.y!==tt.reference.y||We.reference.width!==tt.reference.width||We.reference.height!==tt.reference.height?{reset:{rects:tt}}:{}}}};async function ue(Ee,xe){const{placement:Ie,platform:Ne,elements:We}=Ee,Me=await(Ne.isRTL==null?void 0:Ne.isRTL(We.floating)),He=a(Ie),gt=r(Ie),Ye=s(Ie)==="x",ot=["left","top"].includes(He)?-1:1,Ue=Me&&Ye?-1:1,st=typeof xe=="function"?xe(Ee):xe;let{mainAxis:at,crossAxis:St,alignmentAxis:Vt}=typeof st=="number"?{mainAxis:st,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...st};return gt&&typeof Vt=="number"&&(St=gt==="end"?Vt*-1:Vt),Ye?{x:St*Ue,y:at*ot}:{x:at*ot,y:St*Ue}}const ve=function(Ee){return Ee===void 0&&(Ee=0),{name:"offset",options:Ee,async fn(xe){const{x:Ie,y:Ne}=xe,We=await ue(xe,Ee);return{x:Ie+We.x,y:Ne+We.y,data:We}}}};function le(Ee){return Ee==="x"?"y":"x"}const de=function(Ee){return Ee===void 0&&(Ee={}),{name:"shift",options:Ee,async fn(xe){const{x:Ie,y:Ne,placement:We}=xe,{mainAxis:Me=!0,crossAxis:He=!1,limiter:gt={fn:wt=>{let{x:vt,y:Le}=wt;return{x:vt,y:Le}}},...Ye}=Ee,ot={x:Ie,y:Ne},Ue=await p(xe,Ye),st=s(a(We)),at=le(st);let St=ot[st],Vt=ot[at];if(Me){const wt=st==="y"?"top":"left",vt=st==="y"?"bottom":"right",Le=St+Ue[wt],ft=St-Ue[vt];St=y(Le,St,ft)}if(He){const wt=at==="y"?"top":"left",vt=at==="y"?"bottom":"right",Le=Vt+Ue[wt],ft=Vt-Ue[vt];Vt=y(Le,Vt,ft)}const tt=gt.fn({...xe,[st]:St,[at]:Vt});return{...tt,data:{x:tt.x-Ie,y:tt.y-Ne}}}}},me=function(Ee){return Ee===void 0&&(Ee={}),{options:Ee,fn(xe){const{x:Ie,y:Ne,placement:We,rects:Me,middlewareData:He}=xe,{offset:gt=0,mainAxis:Ye=!0,crossAxis:ot=!0}=Ee,Ue={x:Ie,y:Ne},st=s(We),at=le(st);let St=Ue[st],Vt=Ue[at];const tt=typeof gt=="function"?gt(xe):gt,wt=typeof tt=="number"?{mainAxis:tt,crossAxis:0}:{mainAxis:0,crossAxis:0,...tt};if(Ye){const ft=st==="y"?"height":"width",Mt=Me.reference[st]-Me.floating[ft]+wt.mainAxis,yt=Me.reference[st]+Me.reference[ft]-wt.mainAxis;St<Mt?St=Mt:St>yt&&(St=yt)}if(ot){var vt,Le;const ft=st==="y"?"width":"height",Mt=["top","left"].includes(a(We)),yt=Me.reference[at]-Me.floating[ft]+(Mt&&((vt=He.offset)==null?void 0:vt[at])||0)+(Mt?0:wt.crossAxis),Ct=Me.reference[at]+Me.reference[ft]+(Mt?0:((Le=He.offset)==null?void 0:Le[at])||0)-(Mt?wt.crossAxis:0);Vt<yt?Vt=yt:Vt>Ct&&(Vt=Ct)}return{[st]:St,[at]:Vt}}}},Se=function(Ee){return Ee===void 0&&(Ee={}),{name:"size",options:Ee,async fn(xe){const{placement:Ie,rects:Ne,platform:We,elements:Me}=xe,{apply:He=()=>{},...gt}=Ee,Ye=await p(xe,gt),ot=a(Ie),Ue=r(Ie),at=s(Ie)==="x",{width:St,height:Vt}=Ne.floating;let tt,wt;ot==="top"||ot==="bottom"?(tt=ot,wt=Ue===(await(We.isRTL==null?void 0:We.isRTL(Me.floating))?"start":"end")?"left":"right"):(wt=ot,tt=Ue==="end"?"top":"bottom");const vt=Vt-Ye[tt],Le=St-Ye[wt];let ft=vt,Mt=Le;if(at?Mt=v(St-Ye.right-Ye.left,Le):ft=v(Vt-Ye.bottom-Ye.top,vt),!xe.middlewareData.shift&&!Ue){const Ct=m(Ye.left,0),jt=m(Ye.right,0),At=m(Ye.top,0),Bt=m(Ye.bottom,0);at?Mt=St-2*(Ct!==0||jt!==0?Ct+jt:m(Ye.left,Ye.right)):ft=Vt-2*(At!==0||Bt!==0?At+Bt:m(Ye.top,Ye.bottom))}await He({...xe,availableWidth:Mt,availableHeight:ft});const yt=await We.getDimensions(Me.floating);return St!==yt.width||Vt!==yt.height?{reset:{rects:!0}}:{}}}};n.arrow=w,n.autoPlacement=N,n.computePosition=f,n.detectOverflow=p,n.flip=U,n.hide=Z,n.inline=oe,n.limitShift=me,n.offset=ve,n.rectToClientRect=h,n.shift=de,n.size=Se,Object.defineProperty(n,"__esModule",{value:!0})})}(Ksr,TU)),TU}var CJe;function Zsr(){return CJe||(CJe=1,function(e,t){(function(n,r){r(t,Xsr())})($e,function(n,r){function i(Me){var He;return((He=Me.ownerDocument)==null?void 0:He.defaultView)||window}function a(Me){return i(Me).getComputedStyle(Me)}function s(Me){return Me instanceof i(Me).Node}function u(Me){return s(Me)?(Me.nodeName||"").toLowerCase():""}let f;function d(){if(f)return f;const Me=navigator.userAgentData;return Me&&Array.isArray(Me.brands)?(f=Me.brands.map(He=>He.brand+"/"+He.version).join(" "),f):navigator.userAgent}function c(Me){return Me instanceof i(Me).HTMLElement}function h(Me){return Me instanceof i(Me).Element}function p(Me){if(typeof ShadowRoot>"u")return!1;const He=i(Me).ShadowRoot;return Me instanceof He||Me instanceof ShadowRoot}function v(Me){const{overflow:He,overflowX:gt,overflowY:Ye,display:ot}=a(Me);return/auto|scroll|overlay|hidden|clip/.test(He+Ye+gt)&&!["inline","contents"].includes(ot)}function m(Me){return["table","td","th"].includes(u(Me))}function y(Me){const He=/firefox/i.test(d()),gt=a(Me),Ye=gt.backdropFilter||gt.WebkitBackdropFilter;return gt.transform!=="none"||gt.perspective!=="none"||(Ye?Ye!=="none":!1)||He&&gt.willChange==="filter"||He&&(gt.filter?gt.filter!=="none":!1)||["transform","perspective"].some(ot=>gt.willChange.includes(ot))||["paint","layout","strict","content"].some(ot=>{const Ue=gt.contain;return Ue!=null?Ue.includes(ot):!1})}function w(){return/^((?!chrome|android).)*safari/i.test(d())}function _(Me){return["html","body","#document"].includes(u(Me))}const S=Math.min,C=Math.max,$=Math.round;function k(Me){const He=a(Me);let gt=parseFloat(He.width),Ye=parseFloat(He.height);const ot=c(Me),Ue=ot?Me.offsetWidth:gt,st=ot?Me.offsetHeight:Ye,at=$(gt)!==Ue||$(Ye)!==st;return at&&(gt=Ue,Ye=st),{width:gt,height:Ye,fallback:at}}function M(Me){return h(Me)?Me:Me.contextElement}const A={x:1,y:1};function L(Me){const He=M(Me);if(!c(He))return A;const gt=He.getBoundingClientRect(),{width:Ye,height:ot,fallback:Ue}=k(He);let st=(Ue?$(gt.width):gt.width)/Ye,at=(Ue?$(gt.height):gt.height)/ot;return(!st||!Number.isFinite(st))&&(st=1),(!at||!Number.isFinite(at))&&(at=1),{x:st,y:at}}function N(Me,He,gt,Ye){var ot,Ue;He===void 0&&(He=!1),gt===void 0&&(gt=!1);const st=Me.getBoundingClientRect(),at=M(Me);let St=A;He&&(Ye?h(Ye)&&(St=L(Ye)):St=L(Me));const Vt=at?i(at):window,tt=w()&&gt;let wt=(st.left+(tt&&((ot=Vt.visualViewport)==null?void 0:ot.offsetLeft)||0))/St.x,vt=(st.top+(tt&&((Ue=Vt.visualViewport)==null?void 0:Ue.offsetTop)||0))/St.y,Le=st.width/St.x,ft=st.height/St.y;if(at){const Mt=i(at),yt=Ye&&h(Ye)?i(Ye):Ye;let Ct=Mt.frameElement;for(;Ct&&Ye&&yt!==Mt;){const jt=L(Ct),At=Ct.getBoundingClientRect(),Bt=getComputedStyle(Ct);At.x+=(Ct.clientLeft+parseFloat(Bt.paddingLeft))*jt.x,At.y+=(Ct.clientTop+parseFloat(Bt.paddingTop))*jt.y,wt*=jt.x,vt*=jt.y,Le*=jt.x,ft*=jt.y,wt+=At.x,vt+=At.y,Ct=i(Ct).frameElement}}return r.rectToClientRect({width:Le,height:ft,x:wt,y:vt})}function R(Me){return((s(Me)?Me.ownerDocument:Me.document)||window.document).documentElement}function D(Me){return h(Me)?{scrollLeft:Me.scrollLeft,scrollTop:Me.scrollTop}:{scrollLeft:Me.pageXOffset,scrollTop:Me.pageYOffset}}function j(Me){let{rect:He,offsetParent:gt,strategy:Ye}=Me;const ot=c(gt),Ue=R(gt);if(gt===Ue)return He;let st={scrollLeft:0,scrollTop:0},at={x:1,y:1};const St={x:0,y:0};if((ot||!ot&&Ye!=="fixed")&&((u(gt)!=="body"||v(Ue))&&(st=D(gt)),c(gt))){const Vt=N(gt);at=L(gt),St.x=Vt.x+gt.clientLeft,St.y=Vt.y+gt.clientTop}return{width:He.width*at.x,height:He.height*at.y,x:He.x*at.x-st.scrollLeft*at.x+St.x,y:He.y*at.y-st.scrollTop*at.y+St.y}}function U(Me){return N(R(Me)).left+D(Me).scrollLeft}function H(Me){const He=R(Me),gt=D(Me),Ye=Me.ownerDocument.body,ot=C(He.scrollWidth,He.clientWidth,Ye.scrollWidth,Ye.clientWidth),Ue=C(He.scrollHeight,He.clientHeight,Ye.scrollHeight,Ye.clientHeight);let st=-gt.scrollLeft+U(Me);const at=-gt.scrollTop;return a(Ye).direction==="rtl"&&(st+=C(He.clientWidth,Ye.clientWidth)-ot),{width:ot,height:Ue,x:st,y:at}}function Y(Me){if(u(Me)==="html")return Me;const He=Me.assignedSlot||Me.parentNode||p(Me)&&Me.host||R(Me);return p(He)?He.host:He}function Z(Me){const He=Y(Me);return _(He)?He.ownerDocument.body:c(He)&&v(He)?He:Z(He)}function Q(Me,He){var gt;He===void 0&&(He=[]);const Ye=Z(Me),ot=Ye===((gt=Me.ownerDocument)==null?void 0:gt.body),Ue=i(Ye);return ot?He.concat(Ue,Ue.visualViewport||[],v(Ye)?Ye:[]):He.concat(Ye,Q(Ye))}function ee(Me,He){const gt=i(Me),Ye=R(Me),ot=gt.visualViewport;let Ue=Ye.clientWidth,st=Ye.clientHeight,at=0,St=0;if(ot){Ue=ot.width,st=ot.height;const Vt=w();(!Vt||Vt&&He==="fixed")&&(at=ot.offsetLeft,St=ot.offsetTop)}return{width:Ue,height:st,x:at,y:St}}function oe(Me,He){const gt=N(Me,!0,He==="fixed"),Ye=gt.top+Me.clientTop,ot=gt.left+Me.clientLeft,Ue=c(Me)?L(Me):{x:1,y:1},st=Me.clientWidth*Ue.x,at=Me.clientHeight*Ue.y,St=ot*Ue.x,Vt=Ye*Ue.y;return{width:st,height:at,x:St,y:Vt}}function ue(Me,He,gt){let Ye;if(He==="viewport")Ye=ee(Me,gt);else if(He==="document")Ye=H(R(Me));else if(h(He))Ye=oe(He,gt);else{const st={...He};if(w()){var ot,Ue;const at=i(Me);st.x-=((ot=at.visualViewport)==null?void 0:ot.offsetLeft)||0,st.y-=((Ue=at.visualViewport)==null?void 0:Ue.offsetTop)||0}Ye=st}return r.rectToClientRect(Ye)}function ve(Me,He){const gt=He.get(Me);if(gt)return gt;let Ye=Q(Me).filter(at=>h(at)&&u(at)!=="body"),ot=null;const Ue=a(Me).position==="fixed";let st=Ue?Y(Me):Me;for(;h(st)&&!_(st);){const at=a(st),St=y(st);at.position==="fixed"?ot=null:(Ue?!St&&!ot:!St&&at.position==="static"&&!!ot&&["absolute","fixed"].includes(ot.position))?Ye=Ye.filter(wt=>wt!==st):ot=at,st=Y(st)}return He.set(Me,Ye),Ye}function le(Me){let{element:He,boundary:gt,rootBoundary:Ye,strategy:ot}=Me;const st=[...gt==="clippingAncestors"?ve(He,this._c):[].concat(gt),Ye],at=st[0],St=st.reduce((Vt,tt)=>{const wt=ue(He,tt,ot);return Vt.top=C(wt.top,Vt.top),Vt.right=S(wt.right,Vt.right),Vt.bottom=S(wt.bottom,Vt.bottom),Vt.left=C(wt.left,Vt.left),Vt},ue(He,at,ot));return{width:St.right-St.left,height:St.bottom-St.top,x:St.left,y:St.top}}function de(Me){return k(Me)}function me(Me,He){return!c(Me)||a(Me).position==="fixed"?null:He?He(Me):Me.offsetParent}function Se(Me){let He=Y(Me);for(;c(He)&&!_(He);){if(y(He))return He;He=Y(He)}return null}function Ee(Me,He){const gt=i(Me);if(!c(Me))return gt;let Ye=me(Me,He);for(;Ye&&m(Ye)&&a(Ye).position==="static";)Ye=me(Ye,He);return Ye&&(u(Ye)==="html"||u(Ye)==="body"&&a(Ye).position==="static"&&!y(Ye))?gt:Ye||Se(Me)||gt}function xe(Me,He,gt){const Ye=c(He),ot=R(He),Ue=N(Me,!0,gt==="fixed",He);let st={scrollLeft:0,scrollTop:0};const at={x:0,y:0};if(Ye||!Ye&&gt!=="fixed")if((u(He)!=="body"||v(ot))&&(st=D(He)),c(He)){const St=N(He,!0);at.x=St.x+He.clientLeft,at.y=St.y+He.clientTop}else ot&&(at.x=U(ot));return{x:Ue.left+st.scrollLeft-at.x,y:Ue.top+st.scrollTop-at.y,width:Ue.width,height:Ue.height}}const Ie={getClippingRect:le,convertOffsetParentRelativeRectToViewportRelativeRect:j,isElement:h,getDimensions:de,getOffsetParent:Ee,getDocumentElement:R,getScale:L,async getElementRects(Me){let{reference:He,floating:gt,strategy:Ye}=Me;const ot=this.getOffsetParent||Ee,Ue=this.getDimensions;return{reference:xe(He,await ot(gt),Ye),floating:{x:0,y:0,...await Ue(gt)}}},getClientRects:Me=>Array.from(Me.getClientRects()),isRTL:Me=>a(Me).direction==="rtl"};function Ne(Me,He,gt,Ye){Ye===void 0&&(Ye={});const{ancestorScroll:ot=!0,ancestorResize:Ue=!0,elementResize:st=!0,animationFrame:at=!1}=Ye,St=ot&&!at,Vt=St||Ue?[...h(Me)?Q(Me):Me.contextElement?Q(Me.contextElement):[],...Q(He)]:[];Vt.forEach(ft=>{St&&ft.addEventListener("scroll",gt,{passive:!0}),Ue&&ft.addEventListener("resize",gt)});let tt=null;st&&(tt=new ResizeObserver(()=>{gt()}),h(Me)&&!at&&tt.observe(Me),!h(Me)&&Me.contextElement&&!at&&tt.observe(Me.contextElement),tt.observe(He));let wt,vt=at?N(Me):null;at&&Le();function Le(){const ft=N(Me);vt&&(ft.x!==vt.x||ft.y!==vt.y||ft.width!==vt.width||ft.height!==vt.height)&&gt(),vt=ft,wt=requestAnimationFrame(Le)}return gt(),()=>{var ft;Vt.forEach(Mt=>{St&&Mt.removeEventListener("scroll",gt),Ue&&Mt.removeEventListener("resize",gt)}),(ft=tt)==null||ft.disconnect(),tt=null,at&&cancelAnimationFrame(wt)}}const We=(Me,He,gt)=>{const Ye=new Map,ot={platform:Ie,...gt},Ue={...ot.platform,_c:Ye};return r.computePosition(Me,He,{...ot,platform:Ue})};Object.defineProperty(n,"arrow",{enumerable:!0,get:function(){return r.arrow}}),Object.defineProperty(n,"autoPlacement",{enumerable:!0,get:function(){return r.autoPlacement}}),Object.defineProperty(n,"detectOverflow",{enumerable:!0,get:function(){return r.detectOverflow}}),Object.defineProperty(n,"flip",{enumerable:!0,get:function(){return r.flip}}),Object.defineProperty(n,"hide",{enumerable:!0,get:function(){return r.hide}}),Object.defineProperty(n,"inline",{enumerable:!0,get:function(){return r.inline}}),Object.defineProperty(n,"limitShift",{enumerable:!0,get:function(){return r.limitShift}}),Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return r.offset}}),Object.defineProperty(n,"shift",{enumerable:!0,get:function(){return r.shift}}),Object.defineProperty(n,"size",{enumerable:!0,get:function(){return r.size}}),n.autoUpdate=Ne,n.computePosition=We,n.getOverflowAncestors=Q,n.platform=Ie,Object.defineProperty(n,"__esModule",{value:!0})})}(Ysr,RU)),RU}var $Je;function Qsr(){return $Je||($Je=1,function(e,t){(function(n,r){r(t,Zsr(),z,Xb)})($e,function(n,r,i,a){function s(m){if(m&&m.__esModule)return m;var y=Object.create(null);return m&&Object.keys(m).forEach(function(w){if(w!=="default"){var _=Object.getOwnPropertyDescriptor(m,w);Object.defineProperty(y,w,_.get?_:{enumerable:!0,get:function(){return m[w]}})}}),y.default=m,Object.freeze(y)}var u=s(i),f=s(a);const d=m=>{const{element:y,padding:w}=m;function _(S){return Object.prototype.hasOwnProperty.call(S,"current")}return{name:"arrow",options:m,fn(S){return _(y)?y.current!=null?r.arrow({element:y.current,padding:w}).fn(S):{}:y?r.arrow({element:y,padding:w}).fn(S):{}}}};var c=typeof document<"u"?i.useLayoutEffect:i.useEffect;function h(m,y){if(m===y)return!0;if(typeof m!=typeof y)return!1;if(typeof m=="function"&&m.toString()===y.toString())return!0;let w,_,S;if(m&&y&&typeof m=="object"){if(Array.isArray(m)){if(w=m.length,w!=y.length)return!1;for(_=w;_--!==0;)if(!h(m[_],y[_]))return!1;return!0}if(S=Object.keys(m),w=S.length,w!==Object.keys(y).length)return!1;for(_=w;_--!==0;)if(!Object.prototype.hasOwnProperty.call(y,S[_]))return!1;for(_=w;_--!==0;){const C=S[_];if(!(C==="_owner"&&m.$$typeof)&&!h(m[C],y[C]))return!1}return!0}return m!==m&&y!==y}function p(m){const y=u.useRef(m);return c(()=>{y.current=m}),y}function v(m){m===void 0&&(m={});const{placement:y="bottom",strategy:w="absolute",middleware:_=[],platform:S,whileElementsMounted:C,open:$}=m,[k,M]=u.useState({x:null,y:null,strategy:w,placement:y,middlewareData:{},isPositioned:!1}),[A,L]=u.useState(_);h(A,_)||L(_);const N=u.useRef(null),R=u.useRef(null),D=u.useRef(k),j=p(C),U=p(S),[H,Y]=u.useState(null),[Z,Q]=u.useState(null),ee=u.useCallback(me=>{N.current!==me&&(N.current=me,Y(me))},[]),oe=u.useCallback(me=>{R.current!==me&&(R.current=me,Q(me))},[]),ue=u.useCallback(()=>{if(!N.current||!R.current)return;const me={placement:y,strategy:w,middleware:A};U.current&&(me.platform=U.current),r.computePosition(N.current,R.current,me).then(Se=>{const Ee={...Se,isPositioned:!0};ve.current&&!h(D.current,Ee)&&(D.current=Ee,f.flushSync(()=>{M(Ee)}))})},[A,y,w,U]);c(()=>{$===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,M(me=>({...me,isPositioned:!1})))},[$]);const ve=u.useRef(!1);c(()=>(ve.current=!0,()=>{ve.current=!1}),[]),c(()=>{if(H&&Z){if(j.current)return j.current(H,Z,ue);ue()}},[H,Z,ue,j]);const le=u.useMemo(()=>({reference:N,floating:R,setReference:ee,setFloating:oe}),[ee,oe]),de=u.useMemo(()=>({reference:H,floating:Z}),[H,Z]);return u.useMemo(()=>({...k,update:ue,refs:le,elements:de,reference:ee,floating:oe}),[k,ue,le,de,ee,oe])}Object.defineProperty(n,"autoPlacement",{enumerable:!0,get:function(){return r.autoPlacement}}),Object.defineProperty(n,"autoUpdate",{enumerable:!0,get:function(){return r.autoUpdate}}),Object.defineProperty(n,"computePosition",{enumerable:!0,get:function(){return r.computePosition}}),Object.defineProperty(n,"detectOverflow",{enumerable:!0,get:function(){return r.detectOverflow}}),Object.defineProperty(n,"flip",{enumerable:!0,get:function(){return r.flip}}),Object.defineProperty(n,"getOverflowAncestors",{enumerable:!0,get:function(){return r.getOverflowAncestors}}),Object.defineProperty(n,"hide",{enumerable:!0,get:function(){return r.hide}}),Object.defineProperty(n,"inline",{enumerable:!0,get:function(){return r.inline}}),Object.defineProperty(n,"limitShift",{enumerable:!0,get:function(){return r.limitShift}}),Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return r.offset}}),Object.defineProperty(n,"platform",{enumerable:!0,get:function(){return r.platform}}),Object.defineProperty(n,"shift",{enumerable:!0,get:function(){return r.shift}}),Object.defineProperty(n,"size",{enumerable:!0,get:function(){return r.size}}),n.arrow=d,n.useFloating=v,Object.defineProperty(n,"__esModule",{value:!0})})}(qsr,AU)),AU}(function(e,t){(function(n,r){r(t,Qsr(),z,Xb)})($e,function(n,r,i,a){function s(Pe){if(Pe&&Pe.__esModule)return Pe;var ut=Object.create(null);return Pe&&Object.keys(Pe).forEach(function(rt){if(rt!=="default"){var Ot=Object.getOwnPropertyDescriptor(Pe,rt);Object.defineProperty(ut,rt,Ot.get?Ot:{enumerable:!0,get:function(){return Pe[rt]}})}}),ut.default=Pe,Object.freeze(ut)}var u=s(i),f=typeof document<"u"?i.useLayoutEffect:i.useEffect;function d(){const Pe=new Map;return{emit(ut,rt){var Ot;(Ot=Pe.get(ut))==null||Ot.forEach(Dt=>Dt(rt))},on(ut,rt){Pe.set(ut,[...Pe.get(ut)||[],rt])},off(ut,rt){Pe.set(ut,(Pe.get(ut)||[]).filter(Ot=>Ot!==rt))}}}let c=!1,h=0;const p=()=>"floating-ui-"+h++;function v(){const[Pe,ut]=u.useState(()=>c?p():void 0);return f(()=>{Pe==null&&ut(p())},[]),u.useEffect(()=>{c||(c=!0)},[]),Pe}const m=u["useId".toString()],y=m??v,w=u.createContext(null),_=u.createContext(null),S=()=>{var Pe,ut;return(Pe=(ut=u.useContext(w))==null?void 0:ut.id)!=null?Pe:null},C=()=>u.useContext(_),$=Pe=>{const ut=y(),rt=C(),Ot=S(),Dt=Pe||Ot;return f(()=>{const Tt={id:ut,parentId:Dt};return rt==null||rt.addNode(Tt),()=>{rt==null||rt.removeNode(Tt)}},[rt,ut,Dt]),ut},k=Pe=>{let{children:ut,id:rt}=Pe;const Ot=S();return u.createElement(w.Provider,{value:u.useMemo(()=>({id:rt,parentId:Ot}),[rt,Ot])},ut)},M=Pe=>{let{children:ut}=Pe;const rt=u.useRef([]),Ot=u.useCallback(nn=>{rt.current=[...rt.current,nn]},[]),Dt=u.useCallback(nn=>{rt.current=rt.current.filter(Sn=>Sn!==nn)},[]),Tt=u.useState(()=>d())[0];return u.createElement(_.Provider,{value:u.useMemo(()=>({nodesRef:rt,addNode:Ot,removeNode:Dt,events:Tt}),[rt,Ot,Dt,Tt])},ut)};function A(Pe){var ut;return(ut=Pe==null?void 0:Pe.ownerDocument)!=null?ut:document}function L(){const Pe=navigator.userAgentData;return Pe!=null&&Pe.platform?Pe.platform:navigator.platform}function N(){const Pe=navigator.userAgentData;return Pe&&Array.isArray(Pe.brands)?Pe.brands.map(ut=>{let{brand:rt,version:Ot}=ut;return rt+"/"+Ot}).join(" "):navigator.userAgent}function R(Pe){var ut;return(ut=A(Pe).defaultView)!=null?ut:window}function D(Pe){return Pe?Pe instanceof R(Pe).Element:!1}function j(Pe){return Pe?Pe instanceof R(Pe).HTMLElement:!1}function U(Pe){if(typeof ShadowRoot>"u")return!1;const ut=R(Pe).ShadowRoot;return Pe instanceof ut||Pe instanceof ShadowRoot}function H(Pe){if(Pe.mozInputSource===0&&Pe.isTrusted)return!0;const ut=/Android/i;return(ut.test(L())||ut.test(N()))&&Pe.pointerType?Pe.type==="click"&&Pe.buttons===1:Pe.detail===0&&!Pe.pointerType}function Y(Pe){return Pe.width===0&&Pe.height===0||Pe.width===1&&Pe.height===1&&Pe.pressure===0&&Pe.detail===0&&Pe.pointerType!=="mouse"||Pe.width<1&&Pe.height<1&&Pe.pressure===0&&Pe.detail===0}function Z(){return/apple/i.test(navigator.vendor)}function Q(){return L().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}const oe=u["useInsertionEffect".toString()]||(Pe=>Pe());function ue(Pe){const ut=u.useRef(()=>{});return oe(()=>{ut.current=Pe}),u.useCallback(function(){for(var rt=arguments.length,Ot=new Array(rt),Dt=0;Dt<rt;Dt++)Ot[Dt]=arguments[Dt];return ut.current==null?void 0:ut.current(...Ot)},[])}function ve(Pe){let{open:ut=!1,onOpenChange:rt,whileElementsMounted:Ot,placement:Dt,middleware:Tt,strategy:nn,nodeId:Sn}=Pe===void 0?{}:Pe;const[Fn,gn]=u.useState(null),Xn=C(),or=u.useRef(null),An=u.useRef({}),cr=u.useState(()=>d())[0],bn=r.useFloating({placement:Dt,middleware:Tt,strategy:nn,whileElementsMounted:Ot}),Zn=ue(rt),Ve=u.useMemo(()=>({...bn.refs,domReference:or}),[bn.refs]),$t=u.useMemo(()=>({...bn,refs:Ve,dataRef:An,nodeId:Sn,events:cr,open:ut,onOpenChange:Zn,_:{domReference:Fn}}),[bn,Sn,cr,ut,Zn,Ve,Fn]);f(()=>{const In=Xn==null?void 0:Xn.nodesRef.current.find(Yn=>Yn.id===Sn);In&&(In.context=$t)});const{reference:an}=bn,_n=u.useCallback(In=>{(D(In)||In===null)&&($t.refs.domReference.current=In,gn(In)),an(In)},[an,$t.refs]);return u.useMemo(()=>({...bn,context:$t,refs:Ve,reference:_n}),[bn,Ve,$t,_n])}function le(Pe,ut,rt){const Ot=new Map;return{...rt==="floating"&&{tabIndex:-1},...Pe,...ut.map(Dt=>Dt?Dt[rt]:null).concat(Pe).reduce((Dt,Tt)=>(Tt&&Object.entries(Tt).forEach(nn=>{let[Sn,Fn]=nn;if(Sn.indexOf("on")===0){if(Ot.has(Sn)||Ot.set(Sn,[]),typeof Fn=="function"){var gn;(gn=Ot.get(Sn))==null||gn.push(Fn),Dt[Sn]=function(){for(var Xn,or=arguments.length,An=new Array(or),cr=0;cr<or;cr++)An[cr]=arguments[cr];(Xn=Ot.get(Sn))==null||Xn.forEach(bn=>bn(...An))}}}else Dt[Sn]=Fn}),Dt),{})}}const de=function(Pe){Pe===void 0&&(Pe=[]);const ut=Pe,rt=u.useCallback(Tt=>le(Tt,Pe,"reference"),ut),Ot=u.useCallback(Tt=>le(Tt,Pe,"floating"),ut),Dt=u.useCallback(Tt=>le(Tt,Pe,"item"),ut);return u.useMemo(()=>({getReferenceProps:rt,getFloatingProps:Ot,getItemProps:Dt}),[rt,Ot,Dt])};function me(Pe,ut){if(!Pe||!ut)return!1;const rt=ut.getRootNode&&ut.getRootNode();if(Pe.contains(ut))return!0;if(rt&&U(rt)){let Ot=ut;do{if(Ot&&Pe===Ot)return!0;Ot=Ot.parentNode||Ot.host}while(Ot)}return!1}function Se(Pe,ut){var rt;let Ot=(rt=Pe.filter(nn=>{var Sn;return nn.parentId===ut&&((Sn=nn.context)==null?void 0:Sn.open)}))!=null?rt:[],Dt=Ot;for(;Dt.length;){var Tt;Dt=(Tt=Pe.filter(nn=>{var Sn;return(Sn=Dt)==null?void 0:Sn.some(Fn=>{var gn;return nn.parentId===Fn.id&&((gn=nn.context)==null?void 0:gn.open)})}))!=null?Tt:[],Ot=Ot.concat(Dt)}return Ot}function Ee(Pe){return"composedPath"in Pe?Pe.composedPath()[0]:Pe.target}function xe(Pe,ut){const[rt,Ot]=Pe;let Dt=!1;const Tt=ut.length;for(let nn=0,Sn=Tt-1;nn<Tt;Sn=nn++){const[Fn,gn]=ut[nn]||[0,0],[Xn,or]=ut[Sn]||[0,0];gn>=Ot!=or>=Ot&&rt<=(Xn-Fn)*(Ot-gn)/(or-gn)+Fn&&(Dt=!Dt)}return Dt}function Ie(Pe){let{restMs:ut=0,buffer:rt=.5,blockPointerEvents:Ot=!0,debug:Dt=null}=Pe===void 0?{}:Pe,Tt,nn=!1;const Sn=Fn=>{let{x:gn,y:Xn,placement:or,refs:An,onClose:cr,nodeId:bn,tree:Zn,leave:Ve=!1}=Fn;return function(an){clearTimeout(Tt);function _n(){clearTimeout(Tt),cr()}const{clientX:In,clientY:Yn}=an,pi=Ee(an);if(an.type==="mousemove"&&me(An.domReference.current,pi)||an.type==="mouseleave"&&D(an.relatedTarget)&&me(An.floating.current,an.relatedTarget)||Zn&&Se(Zn.nodesRef.current,bn).some(Er=>{let{context:pr}=Er;return pr==null?void 0:pr.open}))return;if(me(An.floating.current,pi)&&!Ve){nn=!0;return}if(!An.domReference.current||!An.floating.current||or==null||gn==null||Xn==null)return;const ir=An.domReference.current.getBoundingClientRect(),Cn=An.floating.current.getBoundingClientRect(),un=or.split("-")[0],Hr=gn>Cn.right-Cn.width/2,Xr=Xn>Cn.bottom-Cn.height/2;if(un==="top"&&Xn>=ir.bottom-1||un==="bottom"&&Xn<=ir.top+1||un==="left"&&gn>=ir.right-1||un==="right"&&gn<=ir.left+1)return _n();switch(un){case"top":if(In>=Cn.left&&In<=Cn.right&&Yn>=Cn.top&&Yn<=ir.top+1)return;break;case"bottom":if(In>=Cn.left&&In<=Cn.right&&Yn>=ir.bottom-1&&Yn<=Cn.bottom)return;break;case"left":if(In>=Cn.left&&In<=ir.left+1&&Yn>=Cn.top&&Yn<=Cn.bottom)return;break;case"right":if(In>=ir.right-1&&In<=Cn.right&&Yn>=Cn.top&&Yn<=Cn.bottom)return;break}if(nn)return _n();function Ur(Er){let[pr,vr]=Er;const ri=Cn.width>ir.width,ua=Cn.height>ir.height;switch(un){case"top":{const Ga=[ri?pr+rt/2:Hr?pr+rt*4:pr-rt*4,vr+rt+1],Fr=[ri?pr-rt/2:Hr?pr+rt*4:pr-rt*4,vr+rt+1],to=[[Cn.left,Hr||ri?Cn.bottom-rt:Cn.top],[Cn.right,Hr?ri?Cn.bottom-rt:Cn.top:Cn.bottom-rt]];return[Ga,Fr,...to]}case"bottom":{const Ga=[ri?pr+rt/2:Hr?pr+rt*4:pr-rt*4,vr-rt],Fr=[ri?pr-rt/2:Hr?pr+rt*4:pr-rt*4,vr-rt],to=[[Cn.left,Hr||ri?Cn.top+rt:Cn.bottom],[Cn.right,Hr?ri?Cn.top+rt:Cn.bottom:Cn.top+rt]];return[Ga,Fr,...to]}case"left":{const Ga=[pr+rt+1,ua?vr+rt/2:Xr?vr+rt*4:vr-rt*4],Fr=[pr+rt+1,ua?vr-rt/2:Xr?vr+rt*4:vr-rt*4];return[...[[Xr||ua?Cn.right-rt:Cn.left,Cn.top],[Xr?ua?Cn.right-rt:Cn.left:Cn.right-rt,Cn.bottom]],Ga,Fr]}case"right":{const Ga=[pr-rt,ua?vr+rt/2:Xr?vr+rt*4:vr-rt*4],Fr=[pr-rt,ua?vr-rt/2:Xr?vr+rt*4:vr-rt*4],to=[[Xr||ua?Cn.left+rt:Cn.right,Cn.top],[Xr?ua?Cn.left+rt:Cn.right:Cn.left+rt,Cn.bottom]];return[Ga,Fr,...to]}}}const gr=Ur([gn,Xn]);xe([In,Yn],gr)?ut&&(Tt=setTimeout(cr,ut)):_n()}};return Sn.__options={blockPointerEvents:Ot},Sn}function Ne(){return Ne=Object.assign||function(Pe){for(var ut=1;ut<arguments.length;ut++){var rt=arguments[ut];for(var Ot in rt)Object.prototype.hasOwnProperty.call(rt,Ot)&&(Pe[Ot]=rt[Ot])}return Pe},Ne.apply(this,arguments)}const We={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Me,He;function gt(Pe){Pe.key==="Tab"&&(Me=Pe.target,clearTimeout(He))}function Ye(Pe){const ut=Me===Pe.relatedTarget;return Me=Pe.relatedTarget,clearTimeout(He),ut}const ot=u.forwardRef(function(ut,rt){const Ot=ue(ut.onFocus),[Dt,Tt]=u.useState();return f(()=>(Z()&&Tt("button"),document.addEventListener("keydown",gt),()=>{document.removeEventListener("keydown",gt)}),[]),u.createElement("span",Ne({},ut,{ref:rt,tabIndex:0,role:Dt,"aria-hidden":Dt?void 0:!0,"data-floating-ui-focus-guard":"",style:We,onFocus:nn=>{Z()&&Q()&&!Ye(nn)?(nn.persist(),He=window.setTimeout(()=>{Ot(nn)},50)):Ot(nn)}}))});/*!
* tabbable 6.0.1
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ue=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],st=Ue.join(","),at=typeof Element>"u",St=at?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Vt=!at&&Element.prototype.getRootNode?function(Pe){return Pe.getRootNode()}:function(Pe){return Pe.ownerDocument},tt=function(ut,rt,Ot){var Dt=Array.prototype.slice.apply(ut.querySelectorAll(st));return rt&&St.call(ut,st)&&Dt.unshift(ut),Dt=Dt.filter(Ot),Dt},wt=function Pe(ut,rt,Ot){for(var Dt=[],Tt=Array.from(ut);Tt.length;){var nn=Tt.shift();if(nn.tagName==="SLOT"){var Sn=nn.assignedElements(),Fn=Sn.length?Sn:nn.children,gn=Pe(Fn,!0,Ot);Ot.flatten?Dt.push.apply(Dt,gn):Dt.push({scopeParent:nn,candidates:gn})}else{var Xn=St.call(nn,st);Xn&&Ot.filter(nn)&&(rt||!ut.includes(nn))&&Dt.push(nn);var or=nn.shadowRoot||typeof Ot.getShadowRoot=="function"&&Ot.getShadowRoot(nn),An=!Ot.shadowRootFilter||Ot.shadowRootFilter(nn);if(or&&An){var cr=Pe(or===!0?nn.children:or.children,!0,Ot);Ot.flatten?Dt.push.apply(Dt,cr):Dt.push({scopeParent:nn,candidates:cr})}else Tt.unshift.apply(Tt,nn.children)}}return Dt},vt=function(ut,rt){return ut.tabIndex<0&&(rt||/^(AUDIO|VIDEO|DETAILS)$/.test(ut.tagName)||ut.isContentEditable)&&isNaN(parseInt(ut.getAttribute("tabindex"),10))?0:ut.tabIndex},Le=function(ut,rt){return ut.tabIndex===rt.tabIndex?ut.documentOrder-rt.documentOrder:ut.tabIndex-rt.tabIndex},ft=function(ut){return ut.tagName==="INPUT"},Mt=function(ut){return ft(ut)&&ut.type==="hidden"},yt=function(ut){var rt=ut.tagName==="DETAILS"&&Array.prototype.slice.apply(ut.children).some(function(Ot){return Ot.tagName==="SUMMARY"});return rt},Ct=function(ut,rt){for(var Ot=0;Ot<ut.length;Ot++)if(ut[Ot].checked&&ut[Ot].form===rt)return ut[Ot]},jt=function(ut){if(!ut.name)return!0;var rt=ut.form||Vt(ut),Ot=function(Sn){return rt.querySelectorAll('input[type="radio"][name="'+Sn+'"]')},Dt;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")Dt=Ot(window.CSS.escape(ut.name));else try{Dt=Ot(ut.name)}catch(nn){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",nn.message),!1}var Tt=Ct(Dt,ut.form);return!Tt||Tt===ut},At=function(ut){return ft(ut)&&ut.type==="radio"},Bt=function(ut){return At(ut)&&!jt(ut)},kt=function(ut){for(var rt,Ot=Vt(ut).host,Dt=!!((rt=Ot)!==null&&rt!==void 0&&rt.ownerDocument.contains(Ot)||ut.ownerDocument.contains(ut));!Dt&&Ot;){var Tt;Ot=Vt(Ot).host,Dt=!!((Tt=Ot)!==null&&Tt!==void 0&&Tt.ownerDocument.contains(Ot))}return Dt},qt=function(ut){var rt=ut.getBoundingClientRect(),Ot=rt.width,Dt=rt.height;return Ot===0&&Dt===0},fn=function(ut,rt){var Ot=rt.displayCheck,Dt=rt.getShadowRoot;if(getComputedStyle(ut).visibility==="hidden")return!0;var Tt=St.call(ut,"details>summary:first-of-type"),nn=Tt?ut.parentElement:ut;if(St.call(nn,"details:not([open]) *"))return!0;if(!Ot||Ot==="full"||Ot==="legacy-full"){if(typeof Dt=="function"){for(var Sn=ut;ut;){var Fn=ut.parentElement,gn=Vt(ut);if(Fn&&!Fn.shadowRoot&&Dt(Fn)===!0)return qt(ut);ut.assignedSlot?ut=ut.assignedSlot:!Fn&&gn!==ut.ownerDocument?ut=gn.host:ut=Fn}ut=Sn}if(kt(ut))return!ut.getClientRects().length;if(Ot!=="legacy-full")return!0}else if(Ot==="non-zero-area")return qt(ut);return!1},jn=function(ut){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(ut.tagName))for(var rt=ut.parentElement;rt;){if(rt.tagName==="FIELDSET"&&rt.disabled){for(var Ot=0;Ot<rt.children.length;Ot++){var Dt=rt.children.item(Ot);if(Dt.tagName==="LEGEND")return St.call(rt,"fieldset[disabled] *")?!0:!Dt.contains(ut)}return!0}rt=rt.parentElement}return!1},Mn=function(ut,rt){return!(rt.disabled||Mt(rt)||fn(rt,ut)||yt(rt)||jn(rt))},Un=function(ut,rt){return!(Bt(rt)||vt(rt)<0||!Mn(ut,rt))},Kr=function(ut){var rt=parseInt(ut.getAttribute("tabindex"),10);return!!(isNaN(rt)||rt>=0)},Wi=function Pe(ut){var rt=[],Ot=[];return ut.forEach(function(Dt,Tt){var nn=!!Dt.scopeParent,Sn=nn?Dt.scopeParent:Dt,Fn=vt(Sn,nn),gn=nn?Pe(Dt.candidates):Sn;Fn===0?nn?rt.push.apply(rt,gn):rt.push(Sn):Ot.push({documentOrder:Tt,tabIndex:Fn,item:Dt,isScope:nn,content:gn})}),Ot.sort(Le).reduce(function(Dt,Tt){return Tt.isScope?Dt.push.apply(Dt,Tt.content):Dt.push(Tt.content),Dt},[]).concat(rt)},sa=function(ut,rt){rt=rt||{};var Ot;return rt.getShadowRoot?Ot=wt([ut],rt.includeContainer,{filter:Un.bind(null,rt),flatten:!1,getShadowRoot:rt.getShadowRoot,shadowRootFilter:Kr}):Ot=tt(ut,rt.includeContainer,Un.bind(null,rt)),Wi(Ot)};function ga(Pe){let ut=Pe.activeElement;for(;((rt=ut)==null||(Ot=rt.shadowRoot)==null?void 0:Ot.activeElement)!=null;){var rt,Ot;ut=ut.shadowRoot.activeElement}return ut}const $i=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Do(Pe,ut){const rt=sa(Pe,$i());ut==="prev"&&rt.reverse();const Ot=rt.indexOf(ga(A(Pe)));return rt.slice(Ot+1)[0]}function xo(){return Do(document.body,"next")}function en(){return Do(document.body,"prev")}function sn(Pe,ut){const rt=ut||Pe.currentTarget,Ot=Pe.relatedTarget;return!Ot||!me(rt,Ot)}function On(Pe){sa(Pe,$i()).forEach(rt=>{var Ot;rt.dataset.tabindex=(Ot=rt.getAttribute("tabindex"))!=null?Ot:"",rt.setAttribute("tabindex","-1")})}function Kn(Pe){Pe.querySelectorAll("[data-tabindex]").forEach(rt=>{const Ot=rt.dataset.tabindex;delete rt.dataset.tabindex,Ot?rt.setAttribute("tabindex",Ot):rt.removeAttribute("tabindex")})}const kr=u.createContext(null),ti=function(Pe){let{id:ut,enabled:rt=!0}=Pe===void 0?{}:Pe;const[Ot,Dt]=u.useState(null),Tt=y(),nn=Yi();return f(()=>{if(!rt)return;const Sn=ut?document.getElementById(ut):null;if(Sn)Sn.setAttribute("data-floating-ui-portal",""),Dt(Sn);else{const Fn=document.createElement("div");Fn.id=ut||Tt,Fn.setAttribute("data-floating-ui-portal",""),Dt(Fn);const gn=(nn==null?void 0:nn.portalNode)||document.body;return gn.appendChild(Fn),()=>{gn.removeChild(Fn)}}},[ut,nn,Tt,rt]),Ot},Ji=Pe=>{let{children:ut,id:rt,root:Ot=null,preserveTabOrder:Dt=!0}=Pe;const Tt=ti({id:rt,enabled:!Ot}),[nn,Sn]=u.useState(null),Fn=u.useRef(null),gn=u.useRef(null),Xn=u.useRef(null),or=u.useRef(null),An=!!nn&&!nn.modal&&!!(Ot||Tt)&&Dt;return u.useEffect(()=>{if(!Tt||!Dt||nn!=null&&nn.modal)return;function cr(bn){Tt&&sn(bn)&&(bn.type==="focusin"?Kn:On)(Tt)}return Tt.addEventListener("focusin",cr,!0),Tt.addEventListener("focusout",cr,!0),()=>{Tt.removeEventListener("focusin",cr,!0),Tt.removeEventListener("focusout",cr,!0)}},[Tt,Dt,nn==null?void 0:nn.modal]),u.createElement(kr.Provider,{value:u.useMemo(()=>({preserveTabOrder:Dt,beforeOutsideRef:Fn,afterOutsideRef:gn,beforeInsideRef:Xn,afterInsideRef:or,portalNode:Tt,setFocusManagerState:Sn}),[Dt,Tt])},An&&Tt&&u.createElement(ot,{ref:Fn,onFocus:cr=>{if(sn(cr,Tt)){var bn;(bn=Xn.current)==null||bn.focus()}else{const Zn=en()||(nn==null?void 0:nn.refs.domReference.current);Zn==null||Zn.focus()}}}),An&&Tt&&u.createElement("span",{"aria-owns":Tt.id,style:We}),Ot?a.createPortal(ut,Ot):Tt?a.createPortal(ut,Tt):null,An&&Tt&&u.createElement(ot,{ref:gn,onFocus:cr=>{if(sn(cr,Tt)){var bn;(bn=or.current)==null||bn.focus()}else{const Zn=xo()||(nn==null?void 0:nn.refs.domReference.current);Zn==null||Zn.focus(),nn==null||nn.onOpenChange(!1)}}}))},Yi=()=>u.useContext(kr),ka="data-floating-ui-scroll-lock",fo=u.forwardRef(function(ut,rt){let{lockScroll:Ot=!1,...Dt}=ut;return f(()=>{var Tt,nn,Sn,Fn;if(!Ot||document.body.hasAttribute(ka))return;document.body.setAttribute(ka,"");const or=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",An=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test(L()))return Object.assign(document.body.style,{overflow:"hidden",[or]:An+"px"}),()=>{document.body.removeAttribute(ka),Object.assign(document.body.style,{overflow:"",[or]:""})};const cr=(Tt=(nn=window.visualViewport)==null?void 0:nn.offsetLeft)!=null?Tt:0,bn=(Sn=(Fn=window.visualViewport)==null?void 0:Fn.offsetTop)!=null?Sn:0,Zn=window.pageXOffset,Ve=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(Ve-Math.floor(bn))+"px",left:-(Zn-Math.floor(cr))+"px",right:"0",[or]:An+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[or]:""}),document.body.removeAttribute(ka),window.scrollTo(Zn,Ve)}},[Ot]),u.createElement("div",Ne({ref:rt},Dt,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...Dt.style}}))});var Il=function(Pe){if(typeof document>"u")return null;var ut=Array.isArray(Pe)?Pe[0]:Pe;return ut.ownerDocument.body},Oa=new WeakMap,rc=new WeakMap,Bf={},Hf=0,th=function(Pe,ut,rt){ut===void 0&&(ut=Il(Pe)),rt===void 0&&(rt="data-aria-hidden");var Ot=Array.isArray(Pe)?Pe:[Pe];Bf[rt]||(Bf[rt]=new WeakMap);var Dt=Bf[rt],Tt=[],nn=new Set,Sn=function(gn){!gn||nn.has(gn)||(nn.add(gn),Sn(gn.parentNode))};Ot.forEach(Sn);var Fn=function(gn){!gn||Ot.indexOf(gn)>=0||Array.prototype.forEach.call(gn.children,function(Xn){if(nn.has(Xn))Fn(Xn);else{var or=Xn.getAttribute("aria-hidden"),An=or!==null&&or!=="false",cr=(Oa.get(Xn)||0)+1,bn=(Dt.get(Xn)||0)+1;Oa.set(Xn,cr),Dt.set(Xn,bn),Tt.push(Xn),cr===1&&An&&rc.set(Xn,!0),bn===1&&Xn.setAttribute(rt,"true"),An||Xn.setAttribute("aria-hidden","true")}})};return Fn(ut),nn.clear(),Hf++,function(){Tt.forEach(function(gn){var Xn=Oa.get(gn)-1,or=Dt.get(gn)-1;Oa.set(gn,Xn),Dt.set(gn,or),Xn||(rc.has(gn)||gn.removeAttribute("aria-hidden"),rc.delete(gn)),or||gn.removeAttribute(rt)}),Hf--,Hf||(Oa=new WeakMap,Oa=new WeakMap,rc=new WeakMap,Bf={})}};const Gh="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function wu(Pe){return j(Pe)&&Pe.matches(Gh)}function qs(Pe){Pe.preventDefault(),Pe.stopPropagation()}function ic(Pe){const ut=i.useRef(Pe);return f(()=>{ut.current=Pe}),ut}function wf(Pe,ut){var rt;let Ot=[],Dt=(rt=Pe.find(Tt=>Tt.id===ut))==null?void 0:rt.parentId;for(;Dt;){const Tt=Pe.find(nn=>nn.id===Dt);Dt=Tt==null?void 0:Tt.parentId,Tt&&(Ot=Ot.concat(Tt))}return Ot}let Fl=0;function Du(Pe,ut){ut===void 0&&(ut={});const{preventScroll:rt=!1,cancelPrevious:Ot=!0,sync:Dt=!1}=ut;Ot&&cancelAnimationFrame(Fl);const Tt=()=>Pe==null?void 0:Pe.focus({preventScroll:rt});Dt?Tt():Fl=requestAnimationFrame(Tt)}const Gu=u.forwardRef(function(ut,rt){return u.createElement("button",Ne({},ut,{ref:rt,tabIndex:-1,style:We}))});function Uf(Pe){let{context:ut,children:rt,order:Ot=["content"],guards:Dt=!0,initialFocus:Tt=0,returnFocus:nn=!0,modal:Sn=!0,visuallyHiddenDismiss:Fn=!1}=Pe;const{refs:gn,nodeId:Xn,onOpenChange:or,events:An,_:{domReference:cr}}=ut,bn=ic(Ot),Zn=C(),Ve=Yi(),[$t,an]=u.useState(null),_n=typeof Tt=="number"&&Tt<0,In=u.useRef(null),Yn=u.useRef(null),pi=u.useRef(!1),ir=u.useRef(null),Cn=Ve!=null,un=cr&&cr.getAttribute("role")==="combobox"&&wu(cr),Hr=u.useCallback(function(Er){return Er===void 0&&(Er=gn.floating.current),Er?sa(Er,$i()):[]},[gn]),Xr=u.useCallback(Er=>{const pr=Hr(Er);return bn.current.map(vr=>gn.domReference.current&&vr==="reference"?gn.domReference.current:gn.floating.current&&vr==="floating"?gn.floating.current:pr).filter(Boolean).flat()},[bn,gn,Hr]);u.useEffect(()=>{if(!Sn)return;function Er(vr){if(vr.key==="Tab"){Hr().length===0&&!un&&qs(vr);const ri=Xr(),ua=Ee(vr);bn.current[0]==="reference"&&ua===gn.domReference.current&&(qs(vr),vr.shiftKey?Du(ri[ri.length-1]):Du(ri[1])),bn.current[1]==="floating"&&ua===gn.floating.current&&vr.shiftKey&&(qs(vr),Du(ri[0]))}}const pr=A(gn.floating.current);return pr.addEventListener("keydown",Er),()=>{pr.removeEventListener("keydown",Er)}},[Sn,bn,gn,un,Hr,Xr]),u.useEffect(()=>{var Er,pr;const vr=gn.floating.current,ri=gn.domReference.current,ua=Array.from((Er=Ve==null||(pr=Ve.portalNode)==null?void 0:pr.querySelectorAll("[data-floating-ui-portal]"))!=null?Er:[]);function Ga(){return[In.current,Yn.current].filter(Boolean)}let Fr=!1;function to(){Fr=!0,setTimeout(()=>{Fr=!1})}function Li(ll){const Vr=ll.relatedTarget,oo=!(me(ri,Vr)||me(vr,Vr)||me(Vr,vr)||me(Ve==null?void 0:Ve.portalNode,Vr)||[Ve==null?void 0:Ve.beforeOutsideRef.current,Ve==null?void 0:Ve.afterOutsideRef.current].filter(Boolean).includes(Vr)||Zn&&(Se(Zn.nodesRef.current,Xn).find(Io=>{var qo,Zr;return me((qo=Io.context)==null?void 0:qo.refs.floating.current,Vr)||me((Zr=Io.context)==null?void 0:Zr.refs.domReference.current,Vr)})||wf(Zn.nodesRef.current,Xn).find(Io=>{var qo,Zr;return((qo=Io.context)==null?void 0:qo.refs.floating.current)===Vr||((Zr=Io.context)==null?void 0:Zr.refs.domReference.current)===Vr})));Vr&&oo&&!Fr&&Vr!==ir.current&&(pi.current=!0,setTimeout(()=>or(!1)))}if(vr&&j(ri)){let ll;if(Sn){const Vr=[vr,...ua,...Ga()];ll=th(bn.current.includes("reference")||un?Vr.concat(ri):Vr)}return ri.addEventListener("focusout",Li),ri.addEventListener("pointerdown",to),!Sn&&vr.addEventListener("focusout",Li),()=>{ri.removeEventListener("focusout",Li),ri.removeEventListener("pointerdown",to),!Sn&&vr.removeEventListener("focusout",Li),ll==null||ll()}}},[Sn,Tt,Xn,Zn,bn,gn,Ve,un,_n,or]),u.useEffect(()=>{const Er=gn.floating.current;if(Sn&&!Dt&&Er){const pr=[],vr=$i(),ri=sa(A(Er).body,vr),ua=Xr(),Ga=ri.filter(Fr=>!ua.includes(Fr));return Ga.forEach((Fr,to)=>{pr[to]=Fr.getAttribute("tabindex"),Fr.setAttribute("tabindex","-1")}),()=>{Ga.forEach((Fr,to)=>{const Li=pr[to];Li==null?Fr.removeAttribute("tabindex"):Fr.setAttribute("tabindex",Li)})}}},[Sn,Dt,gn,Xr]),f(()=>{const Er=gn.floating.current;if(!Er)return;const pr=A(Er);let vr=nn,ri=!1;const ua=ga(pr);ir.current=ua;const Ga=Xr(Er),Fr=(typeof Tt=="number"?Ga[Tt]:Tt.current)||Er;!_n&&Du(Fr,{preventScroll:Fr===Er});function to(Li){if(Li.type==="escapeKey"&&gn.domReference.current&&(ir.current=gn.domReference.current),Li.type!=="outsidePress")return;const ll=Li.data.returnFocus;typeof ll=="object"?(vr=!0,ri=ll.preventScroll):vr=ll}return An.on("dismiss",to),()=>{An.off("dismiss",to),me(Er,ga(pr))&&gn.domReference.current&&(ir.current=gn.domReference.current),vr&&j(ir.current)&&!pi.current&&Du(ir.current,{preventScroll:ri,cancelPrevious:!1})}},[Xr,Tt,nn,gn,An,_n]),f(()=>{if(Ve)return Ve.setFocusManagerState({...ut,modal:Sn}),()=>{Ve.setFocusManagerState(null)}},[Ve,Sn,ut]),f(()=>{Hr().length===0&&!_n&&an(0)},[Hr,gn,_n]);const Ur=Dt&&(Cn||Sn)&&!un;function gr(Er){return Fn&&Sn?u.createElement(Gu,{ref:Er==="start"?In:Yn,onClick:()=>or(!1)},typeof Fn=="string"?Fn:"Dismiss"):null}return u.createElement(u.Fragment,null,Ur&&u.createElement(ot,{ref:Ve==null?void 0:Ve.beforeInsideRef,onFocus:Er=>{if(Sn){const vr=Xr();Du(Ot[0]==="reference"?vr[0]:vr[vr.length-1])}else if(Ve!=null&&Ve.preserveTabOrder&&Ve.portalNode)if(pi.current=!1,sn(Er,Ve.portalNode)){const vr=xo()||cr;vr==null||vr.focus()}else{var pr;(pr=Ve.beforeOutsideRef.current)==null||pr.focus()}}}),un?null:gr("start"),u.cloneElement(rt,$t===0||Ot.includes("floating")?{tabIndex:0}:{}),gr("end"),Ur&&u.createElement(ot,{ref:Ve==null?void 0:Ve.afterInsideRef,onFocus:Er=>{if(Sn)Du(Xr()[0]);else if(Ve!=null&&Ve.preserveTabOrder&&Ve.portalNode)if(pi.current=!0,sn(Er,Ve.portalNode)){const vr=en()||cr;vr==null||vr.focus()}else{var pr;(pr=Ve.afterOutsideRef.current)==null||pr.focus()}}}))}const Nl=["mouse","pen","",void 0];function ja(Pe,ut,rt){return rt&&!Nl.includes(rt)?0:typeof Pe=="number"?Pe:Pe==null?void 0:Pe[ut]}const lu=function(Pe,ut){let{enabled:rt=!0,delay:Ot=0,handleClose:Dt=null,mouseOnly:Tt=!1,restMs:nn=0,move:Sn=!0}=ut===void 0?{}:ut;const{open:Fn,onOpenChange:gn,dataRef:Xn,events:or,refs:An,_:cr}=Pe,bn=C(),Zn=S(),Ve=ic(Dt),$t=ic(Ot),an=u.useRef(),_n=u.useRef(),In=u.useRef(),Yn=u.useRef(),pi=u.useRef(!0),ir=u.useRef(!1),Cn=u.useCallback(()=>{var Ur;const gr=(Ur=Xn.current.openEvent)==null?void 0:Ur.type;return(gr==null?void 0:gr.includes("mouse"))&&gr!=="mousedown"},[Xn]);u.useEffect(()=>{if(!rt)return;function Ur(){clearTimeout(_n.current),clearTimeout(Yn.current),pi.current=!0}return or.on("dismiss",Ur),()=>{or.off("dismiss",Ur)}},[rt,or,An]),u.useEffect(()=>{if(!rt||!Ve.current||!Fn)return;function Ur(){Cn()&&gn(!1)}const gr=A(An.floating.current).documentElement;return gr.addEventListener("mouseleave",Ur),()=>{gr.removeEventListener("mouseleave",Ur)}},[An,Fn,gn,rt,Ve,Xn,Cn]);const un=u.useCallback(function(Ur){Ur===void 0&&(Ur=!0);const gr=ja($t.current,"close",an.current);gr&&!In.current?(clearTimeout(_n.current),_n.current=setTimeout(()=>gn(!1),gr)):Ur&&(clearTimeout(_n.current),gn(!1))},[$t,gn]),Hr=u.useCallback(()=>{In.current&&(A(An.floating.current).removeEventListener("mousemove",In.current),In.current=void 0)},[An]),Xr=u.useCallback(()=>{A(An.floating.current).body.style.pointerEvents="",ir.current=!1},[An]);return u.useEffect(()=>{if(!rt)return;function Ur(){return Xn.current.openEvent?["click","mousedown"].includes(Xn.current.openEvent.type):!1}function gr(ua){if(clearTimeout(_n.current),pi.current=!1,Tt&&!Nl.includes(an.current)||nn>0&&ja($t.current,"open")===0)return;Xn.current.openEvent=ua;const Ga=ja($t.current,"open",an.current);Ga?_n.current=setTimeout(()=>{gn(!0)},Ga):gn(!0)}function Er(ua){if(Ur())return;const Ga=A(An.floating.current);if(clearTimeout(Yn.current),Ve.current){clearTimeout(_n.current),In.current&&Ga.removeEventListener("mousemove",In.current),In.current=Ve.current({...Pe,tree:bn,x:ua.clientX,y:ua.clientY,onClose(){Xr(),Hr(),un()}}),Ga.addEventListener("mousemove",In.current);return}un()}function pr(ua){Ur()||Ve.current==null||Ve.current({...Pe,tree:bn,x:ua.clientX,y:ua.clientY,leave:!0,onClose(){Xr(),Hr(),un()}})(ua)}const vr=An.floating.current,ri=An.domReference.current;if(D(ri))return Fn&&ri.addEventListener("mouseleave",pr),vr==null||vr.addEventListener("mouseleave",pr),Sn&&ri.addEventListener("mousemove",gr,{once:!0}),ri.addEventListener("mouseenter",gr),ri.addEventListener("mouseleave",Er),()=>{Fn&&ri.removeEventListener("mouseleave",pr),vr==null||vr.removeEventListener("mouseleave",pr),Sn&&ri.removeEventListener("mousemove",gr),ri.removeEventListener("mouseenter",gr),ri.removeEventListener("mouseleave",Er)}},[cr.domReference,rt,Pe,Tt,nn,Sn,un,Hr,Xr,gn,Fn,bn,An,$t,Ve,Xn]),f(()=>{if(rt&&Fn&&Ve.current&&Ve.current.__options.blockPointerEvents&&Cn()){A(An.floating.current).body.style.pointerEvents="none",ir.current=!0;const Er=An.domReference.current,pr=An.floating.current;if(D(Er)&&pr){var Ur,gr;const vr=bn==null||(Ur=bn.nodesRef.current.find(ri=>ri.id===Zn))==null||(gr=Ur.context)==null?void 0:gr.refs.floating.current;return vr&&(vr.style.pointerEvents=""),Er.style.pointerEvents="auto",pr.style.pointerEvents="auto",()=>{Er.style.pointerEvents="",pr.style.pointerEvents=""}}}},[rt,Fn,Zn,An,bn,Ve,Xn,Cn]),f(()=>{Fn||(an.current=void 0,Hr(),ir.current&&Xr())},[Fn,Hr,Xr]),u.useEffect(()=>()=>{Hr(),clearTimeout(_n.current),clearTimeout(Yn.current),ir.current&&Xr()},[rt,Hr,Xr]),u.useMemo(()=>{if(!rt)return{};function Ur(gr){an.current=gr.pointerType}return{reference:{onPointerDown:Ur,onPointerEnter:Ur,onMouseMove(){Fn||nn===0||(clearTimeout(Yn.current),Yn.current=setTimeout(()=>{pi.current||gn(!0)},nn))}},floating:{onMouseEnter(){clearTimeout(_n.current)},onMouseLeave(){un(!1)}}}},[rt,nn,Fn,gn,un])},_f=u.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),Iu=()=>u.useContext(_f),_u=Pe=>{let{children:ut,delay:rt}=Pe;const[Ot,Dt]=u.useState({delay:rt,initialDelay:rt,currentId:null}),Tt=u.useCallback(nn=>{Dt(Sn=>({...Sn,currentId:nn}))},[]);return u.createElement(_f.Provider,{value:u.useMemo(()=>({...Ot,setState:Dt,setCurrentId:Tt}),[Ot,Dt,Tt])},ut)},xf=(Pe,ut)=>{let{open:rt,onOpenChange:Ot}=Pe,{id:Dt}=ut;const{currentId:Tt,initialDelay:nn,setState:Sn}=Iu();u.useEffect(()=>{Tt&&(Sn(Fn=>({...Fn,delay:{open:1,close:ja(nn,"close")}})),Tt!==Dt&&Ot(!1))},[Dt,Ot,Sn,Tt,nn]),u.useEffect(()=>{!rt&&Tt===Dt&&(Ot(!1),Sn(Fn=>({...Fn,delay:nn,currentId:null})))},[rt,Sn,Tt,Dt,Ot,nn])};function xu(Pe,ut){return{...Pe,rects:{...Pe.rects,floating:{...Pe.rects.floating,height:ut}}}}const Ev=Pe=>({name:"inner",options:Pe,async fn(ut){var rt;const{listRef:Ot,overflowRef:Dt,onFallbackChange:Tt,offset:nn=0,index:Sn=0,minItemsVisible:Fn=4,referenceOverflowThreshold:gn=0,scrollRef:Xn,...or}=Pe,{rects:An,elements:{floating:cr}}=ut,bn=Ot.current[Sn];if(!bn)return{};const Zn={...ut,...await r.offset(-bn.offsetTop-An.reference.height/2-bn.offsetHeight/2-nn).fn(ut)},Ve=(rt=Xn==null?void 0:Xn.current)!=null?rt:cr,$t=await r.detectOverflow(xu(Zn,Ve.scrollHeight),or),an=await r.detectOverflow(Zn,{...or,elementContext:"reference"}),_n=Math.max(0,$t.top),In=Zn.y+_n,Yn=Math.max(0,Ve.scrollHeight-_n-Math.max(0,$t.bottom));return Ve.style.maxHeight=Yn+"px",Ve.scrollTop=_n,Tt&&(Ve.offsetHeight<bn.offsetHeight*Math.min(Fn,Ot.current.length-1)-1||an.top>=-gn||an.bottom>=-gn?a.flushSync(()=>Tt(!0)):a.flushSync(()=>Tt(!1))),Dt&&(Dt.current=await r.detectOverflow(xu({...Zn,y:In},Ve.offsetHeight),or)),{y:In}}}),wd=(Pe,ut)=>{let{open:rt,refs:Ot}=Pe,{enabled:Dt=!0,overflowRef:Tt,scrollRef:nn,onChange:Sn}=ut;const Fn=ue(Sn),gn=u.useRef(!1),Xn=u.useRef(null),or=u.useRef(null);return u.useEffect(()=>{var An;if(!Dt)return;function cr(Zn){if(Zn.ctrlKey||!bn||Tt.current==null)return;const Ve=Zn.deltaY,$t=Tt.current.top>=-.5,an=Tt.current.bottom>=-.5,_n=bn.scrollHeight-bn.clientHeight,In=Ve<0?-1:1,Yn=Ve<0?"max":"min";bn.scrollHeight<=bn.clientHeight||(!$t&&Ve>0||!an&&Ve<0?(Zn.preventDefault(),a.flushSync(()=>{Fn(pi=>pi+Math[Yn](Ve,_n*In))})):/firefox/i.test(N())&&(bn.scrollTop+=Ve))}const bn=(An=nn==null?void 0:nn.current)!=null?An:Ot.floating.current;if(rt&&bn)return bn.addEventListener("wheel",cr),requestAnimationFrame(()=>{Xn.current=bn.scrollTop,Tt.current!=null&&(or.current={...Tt.current})}),()=>{Xn.current=null,or.current=null,bn.removeEventListener("wheel",cr)}},[Dt,rt,Ot,Tt,nn,Fn]),u.useMemo(()=>Dt?{floating:{onKeyDown(){gn.current=!0},onWheel(){gn.current=!1},onPointerMove(){gn.current=!1},onScroll(){const An=(nn==null?void 0:nn.current)||Ot.floating.current;if(!(!Tt.current||!An||!gn.current)){if(Xn.current!==null){const cr=An.scrollTop-Xn.current;(Tt.current.bottom<-.5&&cr<-1||Tt.current.top<-.5&&cr>1)&&a.flushSync(()=>Fn(bn=>bn+cr))}requestAnimationFrame(()=>{Xn.current=An.scrollTop})}}}}:{},[Dt,Tt,Ot,nn,Fn])},qh=function(Pe,ut){let{open:rt}=Pe,{enabled:Ot=!0,role:Dt="dialog"}=ut===void 0?{}:ut;const Tt=y(),nn=y();return u.useMemo(()=>{const Sn={id:Tt,role:Dt};return Ot?Dt==="tooltip"?{reference:{"aria-describedby":rt?Tt:void 0},floating:Sn}:{reference:{"aria-expanded":rt?"true":"false","aria-haspopup":Dt==="alertdialog"?"dialog":Dt,"aria-controls":rt?Tt:void 0,...Dt==="listbox"&&{role:"combobox"},...Dt==="menu"&&{id:nn}},floating:{...Sn,...Dt==="menu"&&{"aria-labelledby":nn}}}:{}},[Ot,Dt,rt,Tt,nn])};function t0(Pe){return j(Pe.target)&&Pe.target.tagName==="BUTTON"}function n0(Pe){return wu(Pe)}const r0=function(Pe,ut){let{open:rt,onOpenChange:Ot,dataRef:Dt,refs:Tt}=Pe,{enabled:nn=!0,event:Sn="click",toggle:Fn=!0,ignoreMouse:gn=!1,keyboardHandlers:Xn=!0}=ut===void 0?{}:ut;const or=u.useRef();return u.useMemo(()=>nn?{reference:{onPointerDown(An){or.current=An.pointerType},onMouseDown(An){An.button===0&&(or.current==="mouse"&&gn||Sn!=="click"&&(rt?Fn&&(!Dt.current.openEvent||Dt.current.openEvent.type==="mousedown")&&Ot(!1):(An.preventDefault(),Ot(!0)),Dt.current.openEvent=An.nativeEvent))},onClick(An){if(Sn==="mousedown"&&or.current){or.current=void 0;return}or.current==="mouse"&&gn||(rt?Fn&&(!Dt.current.openEvent||Dt.current.openEvent.type==="click")&&Ot(!1):Ot(!0),Dt.current.openEvent=An.nativeEvent)},onKeyDown(An){or.current=void 0,Xn&&(t0(An)||(An.key===" "&&!n0(Tt.domReference.current)&&An.preventDefault(),An.key==="Enter"&&(rt?Fn&&Ot(!1):Ot(!0))))},onKeyUp(An){Xn&&(t0(An)||n0(Tt.domReference.current)||An.key===" "&&(rt?Fn&&Ot(!1):Ot(!0)))}}}:{},[nn,Dt,Sn,gn,Xn,Tt,Fn,rt,Ot])};function Sf(Pe,ut){if(ut==null)return!1;if("composedPath"in Pe)return Pe.composedPath().includes(ut);const rt=Pe;return rt.target!=null&&ut.contains(rt.target)}const Yh={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},nh={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Yg=function(Pe,ut){let{open:rt,onOpenChange:Ot,refs:Dt,events:Tt,nodeId:nn}=Pe,{enabled:Sn=!0,escapeKey:Fn=!0,outsidePress:gn=!0,outsidePressEvent:Xn="pointerdown",referencePress:or=!1,referencePressEvent:An="pointerdown",ancestorScroll:cr=!1,bubbles:bn=!0}=ut===void 0?{}:ut;const Zn=C(),Ve=S()!=null,$t=ic(gn),an=u.useRef(!1);return u.useEffect(()=>{if(!rt||!Sn)return;const _n=$t.current;function In(un){if(un.key==="Escape"){if(!bn&&Zn&&Se(Zn.nodesRef.current,nn).length>0)return;Tt.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),Ot(!1)}}function Yn(un){const Hr=an.current;if(an.current=!1,Hr||typeof _n=="function"&&!_n(un))return;const Xr=Ee(un);if(D(Xr)&&Dt.floating.current){var Ur;const Er=(Ur=Dt.floating.current.ownerDocument.defaultView)!=null?Ur:window,pr=Xr.scrollWidth>Xr.clientWidth,vr=Xr.scrollHeight>Xr.clientHeight;let ri=vr&&un.offsetX>Xr.clientWidth;if(vr&&Er.getComputedStyle(Xr).direction==="rtl"&&(ri=un.offsetX<=Xr.offsetWidth-Xr.clientWidth),ri||pr&&un.offsetY>Xr.clientHeight)return}const gr=Zn&&Se(Zn.nodesRef.current,nn).some(Er=>{var pr;return Sf(un,(pr=Er.context)==null?void 0:pr.refs.floating.current)});Sf(un,Dt.floating.current)||Sf(un,Dt.domReference.current)||gr||!bn&&Zn&&Se(Zn.nodesRef.current,nn).length>0||(Tt.emit("dismiss",{type:"outsidePress",data:{returnFocus:Ve?{preventScroll:!0}:H(un)||Y(un)}}),Ot(!1))}function pi(){Ot(!1)}const ir=A(Dt.floating.current);Fn&&ir.addEventListener("keydown",In),_n&&ir.addEventListener(Xn,Yn);let Cn=[];return cr&&(D(Dt.domReference.current)&&(Cn=r.getOverflowAncestors(Dt.domReference.current)),D(Dt.floating.current)&&(Cn=Cn.concat(r.getOverflowAncestors(Dt.floating.current))),!D(Dt.reference.current)&&Dt.reference.current&&Dt.reference.current.contextElement&&(Cn=Cn.concat(r.getOverflowAncestors(Dt.reference.current.contextElement)))),Cn=Cn.filter(un=>{var Hr;return un!==((Hr=ir.defaultView)==null?void 0:Hr.visualViewport)}),Cn.forEach(un=>{un.addEventListener("scroll",pi,{passive:!0})}),()=>{Fn&&ir.removeEventListener("keydown",In),_n&&ir.removeEventListener(Xn,Yn),Cn.forEach(un=>{un.removeEventListener("scroll",pi)})}},[Fn,$t,Xn,Tt,Zn,nn,rt,Ot,cr,Sn,bn,Dt,Ve]),u.useEffect(()=>{an.current=!1},[gn,Xn]),u.useMemo(()=>Sn?{reference:{[Yh[An]]:()=>{or&&(Tt.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),Ot(!1))}},floating:{[nh[Xn]]:()=>{an.current=!0}}}:{},[Sn,Tt,or,Xn,An,Ot])},Vf=function(Pe,ut){let{open:rt,onOpenChange:Ot,dataRef:Dt,refs:Tt,events:nn}=Pe,{enabled:Sn=!0,keyboardOnly:Fn=!0}=ut===void 0?{}:ut;const gn=u.useRef(""),Xn=u.useRef(!1),or=u.useRef();return u.useEffect(()=>{var An;if(!Sn)return;const bn=(An=A(Tt.floating.current).defaultView)!=null?An:window;function Zn(){!rt&&j(Tt.domReference.current)&&Tt.domReference.current===ga(A(Tt.domReference.current))&&(Xn.current=!0)}return bn.addEventListener("blur",Zn),()=>{bn.removeEventListener("blur",Zn)}},[Tt,rt,Sn]),u.useEffect(()=>{if(!Sn)return;function An(cr){(cr.type==="referencePress"||cr.type==="escapeKey")&&(Xn.current=!0)}return nn.on("dismiss",An),()=>{nn.off("dismiss",An)}},[nn,Sn]),u.useEffect(()=>()=>{clearTimeout(or.current)},[]),u.useMemo(()=>Sn?{reference:{onPointerDown(An){let{pointerType:cr}=An;gn.current=cr,Xn.current=!!(cr&&Fn)},onMouseLeave(){Xn.current=!1},onFocus(An){var cr;Xn.current||An.type==="focus"&&((cr=Dt.current.openEvent)==null?void 0:cr.type)==="mousedown"&&Dt.current.openEvent&&Sf(Dt.current.openEvent,Tt.domReference.current)||(Dt.current.openEvent=An.nativeEvent,Ot(!0))},onBlur(An){Xn.current=!1;const cr=An.relatedTarget,bn=D(cr)&&cr.hasAttribute("data-floating-ui-focus-guard");or.current=setTimeout(()=>{me(Tt.floating.current,cr)||me(Tt.domReference.current,cr)||bn||Ot(!1)})}}}:{},[Sn,Fn,Tt,Dt,Ot])};let Kh=!1;const Hm="ArrowUp",Wf="ArrowDown",rh="ArrowLeft",Ef="ArrowRight";function Xh(Pe,ut,rt){return Math.floor(Pe/ut)!==rt}function Zh(Pe,ut){return ut<0||ut>=Pe.current.length}function cs(Pe,ut){let{startingIndex:rt=-1,decrement:Ot=!1,disabledIndices:Dt,amount:Tt=1}=ut===void 0?{}:ut;const nn=Pe.current;let Sn=rt;do{var Fn,gn;Sn=Sn+(Ot?-Tt:Tt)}while(Sn>=0&&Sn<=nn.length-1&&(Dt?Dt.includes(Sn):nn[Sn]==null||(Fn=nn[Sn])!=null&&Fn.hasAttribute("disabled")||((gn=nn[Sn])==null?void 0:gn.getAttribute("aria-disabled"))==="true"));return Sn}function Gf(Pe,ut,rt){switch(Pe){case"vertical":return ut;case"horizontal":return rt;default:return ut||rt}}function ac(Pe,ut){return Gf(ut,Pe===Hm||Pe===Wf,Pe===rh||Pe===Ef)}function Kg(Pe,ut,rt){return Gf(ut,Pe===Wf,rt?Pe===rh:Pe===Ef)||Pe==="Enter"||Pe==" "||Pe===""}function Cv(Pe,ut,rt){return Gf(ut,rt?Pe===rh:Pe===Ef,Pe===Wf)}function _d(Pe,ut,rt){return Gf(ut,rt?Pe===Ef:Pe===rh,Pe===Hm)}function Xg(Pe,ut){return cs(Pe,{disabledIndices:ut})}function Cf(Pe,ut){return cs(Pe,{decrement:!0,startingIndex:Pe.current.length,disabledIndices:ut})}const jc=function(Pe,ut){let{open:rt,onOpenChange:Ot,refs:Dt}=Pe,{listRef:Tt,activeIndex:nn,onNavigate:Sn=()=>{},enabled:Fn=!0,selectedIndex:gn=null,allowEscape:Xn=!1,loop:or=!1,nested:An=!1,rtl:cr=!1,virtual:bn=!1,focusItemOnOpen:Zn="auto",focusItemOnHover:Ve=!0,openOnArrowKeyDown:$t=!0,disabledIndices:an=void 0,orientation:_n="vertical",cols:In=1}=ut===void 0?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:ut;const Yn=S(),pi=C(),ir=ue(Sn),Cn=u.useRef(Zn),un=u.useRef(gn??-1),Hr=u.useRef(null),Xr=u.useRef(!1),Ur=u.useRef(ir),gr=u.useRef(rt),Er=u.useRef(!1),pr=ic(an),vr=ic(rt),[ri,ua]=u.useState(),Ga=u.useCallback((Fr,to)=>{if(bn){var Li;ua((Li=Fr.current[to.current])==null?void 0:Li.id)}else{const ll=Fr.current[to.current];Du(ll,{preventScroll:!0,sync:Q()&&Z()?Kh||Er.current:!1})}},[bn]);return f(()=>{document.createElement("div").focus({get preventScroll(){return Kh=!0,!1}})},[]),f(()=>{Fn&&(rt?Cn.current&&gn!=null&&ir(gn):gr.current&&(un.current=-1,Ur.current(null)))},[Fn,rt,gn,ir]),f(()=>{if(Fn&&rt)if(nn==null){if(Er.current=!1,gn!=null)return;gr.current&&(un.current=-1,Ga(Tt,un)),!gr.current&&Cn.current&&(Hr.current!=null||Cn.current===!0&&Hr.current==null)&&(un.current=Hr.current==null||Kg(Hr.current,_n,cr)||An?Xg(Tt,pr.current):Cf(Tt,pr.current),ir(un.current))}else Zh(Tt,nn)||(un.current=nn,Ga(Tt,un))},[Fn,rt,nn,gn,An,Tt,_n,cr,ir,Ga,pr]),f(()=>{if(Fn&&gr.current&&!rt){var Fr,to;const Li=pi==null||(Fr=pi.nodesRef.current.find(ll=>ll.id===Yn))==null||(to=Fr.context)==null?void 0:to.refs.floating.current;Li&&!me(Li,ga(A(Li)))&&Li.focus({preventScroll:!0})}},[Fn,rt,pi,Yn]),f(()=>{Hr.current=null,Ur.current=ir,gr.current=rt}),u.useMemo(()=>{if(!Fn)return{};const Fr=pr.current;function to(Vr){if(Xr.current=!0,Er.current=!0,!vr.current&&Vr.currentTarget===Dt.floating.current)return;if(An&&_d(Vr.key,_n,cr)){qs(Vr),Ot(!1),j(Dt.domReference.current)&&Dt.domReference.current.focus();return}const oo=un.current,Io=Xg(Tt,Fr),qo=Cf(Tt,Fr);if(Vr.key==="Home"&&(un.current=Io,ir(un.current)),Vr.key==="End"&&(un.current=qo,ir(un.current)),In>1){const Zr=un.current;if(Vr.key===Hm){if(qs(Vr),Zr===-1)un.current=qo;else if(un.current=cs(Tt,{startingIndex:Zr,amount:In,decrement:!0,disabledIndices:Fr}),or&&(Zr-In<Io||un.current<0)){const cl=Zr%In,Qh=qo%In,xd=qo-(Qh-cl);Qh===cl?un.current=qo:un.current=Qh>cl?xd:xd-In}Zh(Tt,un.current)&&(un.current=Zr),ir(un.current)}if(Vr.key===Wf&&(qs(Vr),Zr===-1?un.current=Io:(un.current=cs(Tt,{startingIndex:Zr,amount:In,disabledIndices:Fr}),or&&Zr+In>qo&&(un.current=cs(Tt,{startingIndex:Zr%In-In,amount:In,disabledIndices:Fr}))),Zh(Tt,un.current)&&(un.current=Zr),ir(un.current)),_n==="both"){const cl=Math.floor(Zr/In);Vr.key===Ef&&(qs(Vr),Zr%In!==In-1?(un.current=cs(Tt,{startingIndex:Zr,disabledIndices:Fr}),or&&Xh(un.current,In,cl)&&(un.current=cs(Tt,{startingIndex:Zr-Zr%In-1,disabledIndices:Fr}))):or&&(un.current=cs(Tt,{startingIndex:Zr-Zr%In-1,disabledIndices:Fr})),Xh(un.current,In,cl)&&(un.current=Zr)),Vr.key===rh&&(qs(Vr),Zr%In!==0?(un.current=cs(Tt,{startingIndex:Zr,disabledIndices:Fr,decrement:!0}),or&&Xh(un.current,In,cl)&&(un.current=cs(Tt,{startingIndex:Zr+(In-Zr%In),decrement:!0,disabledIndices:Fr}))):or&&(un.current=cs(Tt,{startingIndex:Zr+(In-Zr%In),decrement:!0,disabledIndices:Fr})),Xh(un.current,In,cl)&&(un.current=Zr));const Qh=Math.floor(qo/In)===cl;Zh(Tt,un.current)&&(or&&Qh?un.current=Vr.key===rh?qo:cs(Tt,{startingIndex:Zr-Zr%In-1,disabledIndices:Fr}):un.current=Zr),ir(un.current);return}}if(ac(Vr.key,_n)){if(qs(Vr),rt&&!bn&&ga(Vr.currentTarget.ownerDocument)===Vr.currentTarget){un.current=Kg(Vr.key,_n,cr)?Io:qo,ir(un.current);return}Kg(Vr.key,_n,cr)?or?un.current=oo>=qo?Xn&&oo!==Tt.current.length?-1:Io:cs(Tt,{startingIndex:oo,disabledIndices:Fr}):un.current=Math.min(qo,cs(Tt,{startingIndex:oo,disabledIndices:Fr})):or?un.current=oo<=Io?Xn&&oo!==-1?Tt.current.length:qo:cs(Tt,{startingIndex:oo,decrement:!0,disabledIndices:Fr}):un.current=Math.max(Io,cs(Tt,{startingIndex:oo,decrement:!0,disabledIndices:Fr})),Zh(Tt,un.current)?ir(null):ir(un.current)}}function Li(Vr){Zn==="auto"&&H(Vr.nativeEvent)&&(Cn.current=!0)}function ll(Vr){Cn.current=Zn,Zn==="auto"&&Y(Vr.nativeEvent)&&(Cn.current=!0)}return{reference:{...bn&&rt&&nn!=null&&{"aria-activedescendant":ri},onKeyDown(Vr){Xr.current=!0;const oo=Vr.key.indexOf("Arrow")===0;if(bn&&rt)return to(Vr);if(!rt&&!$t&&oo)return;if((oo||Vr.key==="Enter"||Vr.key===" "||Vr.key==="")&&(Hr.current=Vr.key),An){Cv(Vr.key,_n,cr)&&(qs(Vr),rt?(un.current=Xg(Tt,Fr),ir(un.current)):Ot(!0));return}ac(Vr.key,_n)&&(gn!=null&&(un.current=gn),qs(Vr),!rt&&$t?Ot(!0):to(Vr),rt&&ir(un.current))},onFocus(){rt&&ir(null)},onPointerDown:ll,onMouseDown:Li,onClick:Li},floating:{"aria-orientation":_n==="both"?void 0:_n,...bn&&nn!=null&&{"aria-activedescendant":ri},onKeyDown:to,onPointerMove(){Xr.current=!1}},item:{onFocus(Vr){let{currentTarget:oo}=Vr;const Io=Tt.current.indexOf(oo);Io!==-1&&nn!==Io&&ir(Io)},onClick:Vr=>{let{currentTarget:oo}=Vr;return oo.focus({preventScroll:!0})},...Ve&&{onMouseMove(Vr){let{currentTarget:oo}=Vr;const Io=oo;if(Io){const qo=Tt.current.indexOf(Io);qo!==-1&&nn!==qo&&ir(qo)}},onPointerLeave(){if(!Xr.current&&(un.current=-1,Ga(Tt,un),a.flushSync(()=>ir(null)),!bn)){var Vr;(Vr=Dt.floating.current)==null||Vr.focus({preventScroll:!0})}}}}}},[ri,pr,vr,Tt,Fn,_n,cr,bn,rt,nn,An,gn,$t,Ve,Xn,In,or,Dt,Zn,Ga,ir,Ot])},i0=function(Pe,ut){var rt;let{open:Ot,dataRef:Dt}=Pe,{listRef:Tt,activeIndex:nn,onMatch:Sn=()=>{},enabled:Fn=!0,findMatch:gn=null,resetMs:Xn=1e3,ignoreKeys:or=[],selectedIndex:An=null}=ut===void 0?{listRef:{current:[]},activeIndex:null}:ut;const cr=u.useRef(),bn=u.useRef(""),Zn=u.useRef((rt=An??nn)!=null?rt:-1),Ve=u.useRef(null),$t=ue(Sn),an=ic(gn),_n=ic(or);return f(()=>{Ot&&(clearTimeout(cr.current),Ve.current=null,bn.current="")},[Ot]),f(()=>{if(Ot&&bn.current===""){var In;Zn.current=(In=An??nn)!=null?In:-1}},[Ot,An,nn]),u.useMemo(()=>{if(!Fn)return{};function In(Yn){const pi=Ee(Yn.nativeEvent);if(D(pi)&&(ga(A(pi))!==Yn.currentTarget&&pi.closest('[role="dialog"],[role="menu"],[role="listbox"],[role="tree"],[role="grid"]')!==Yn.currentTarget))return;bn.current.length>0&&bn.current[0]!==" "&&(Dt.current.typing=!0,Yn.key===" "&&qs(Yn));const ir=Tt.current;if(ir==null||_n.current.includes(Yn.key)||Yn.key.length!==1||Yn.ctrlKey||Yn.metaKey||Yn.altKey)return;ir.every(gr=>{var Er,pr;return gr?((Er=gr[0])==null?void 0:Er.toLocaleLowerCase())!==((pr=gr[1])==null?void 0:pr.toLocaleLowerCase()):!0})&&bn.current===Yn.key&&(bn.current="",Zn.current=Ve.current),bn.current+=Yn.key,clearTimeout(cr.current),cr.current=setTimeout(()=>{bn.current="",Zn.current=Ve.current,Dt.current.typing=!1},Xn);const un=Zn.current,Hr=[...ir.slice((un??0)+1),...ir.slice(0,(un??0)+1)],Xr=an.current?an.current(Hr,bn.current):Hr.find(gr=>(gr==null?void 0:gr.toLocaleLowerCase().indexOf(bn.current.toLocaleLowerCase()))===0),Ur=Xr?ir.indexOf(Xr):-1;Ur!==-1&&($t(Ur),Ve.current=Ur)}return{reference:{onKeyDown:In},floating:{onKeyDown:In}}},[Fn,Dt,Tt,Xn,_n,an,$t])};n.FloatingDelayGroup=_u,n.FloatingFocusManager=Uf,n.FloatingNode=k,n.FloatingOverlay=fo,n.FloatingPortal=Ji,n.FloatingTree=M,n.inner=Ev,n.safePolygon=Ie,n.useClick=r0,n.useDelayGroup=xf,n.useDelayGroupContext=Iu,n.useDismiss=Yg,n.useFloating=ve,n.useFloatingNodeId=$,n.useFloatingParentNodeId=S,n.useFloatingPortalNode=ti,n.useFloatingTree=C,n.useFocus=Vf,n.useHover=lu,n.useId=y,n.useInnerOffset=wd,n.useInteractions=de,n.useListNavigation=jc,n.useRole=qh,n.useTypeahead=i0,Object.keys(r).forEach(function(Pe){Pe!=="default"&&!n.hasOwnProperty(Pe)&&Object.defineProperty(n,Pe,{enumerable:!0,get:function(){return r[Pe]}})}),Object.defineProperty(n,"__esModule",{value:!0})})})(Gsr,_ae);var xae=$e&&$e.__assign||function(){return xae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},xae.apply(this,arguments)},Jsr=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),eur=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tur=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Jsr(t,e,n);return eur(t,e),t};Iq.__esModule=!0;Iq.Tooltip=void 0;var HM=tur(z),kJe=kMe,UM=_ae,nur=function(e){var t=e.text,n=e.children,r=(0,HM.useState)(!1),i=r[0],a=r[1],s=(0,UM.useFloating)({placement:"top",open:i,onOpenChange:a,middleware:[(0,UM.shift)(),(0,UM.flip)()]}),u=s.x,f=s.y,d=s.reference,c=s.floating,h=s.strategy,p=s.context,v=(0,UM.useInteractions)([(0,UM.useHover)(p),(0,UM.useRole)(p,{role:"tooltip"}),(0,UM.useDismiss)(p)]),m=v.getReferenceProps,y=v.getFloatingProps;return HM.default.createElement(HM.default.Fragment,null,(0,HM.cloneElement)(n,m(xae({ref:d},n.props))),HM.default.createElement(kJe.AnimatePresence,null,i&&HM.default.createElement(kJe.motion.div,xae({initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15}},y({ref:c,className:"text-xs p-2 border border-gray-300 rounded bg-white z-10",style:{position:h,top:f??0,left:u??0}})),HM.default.createElement("div",{className:"font-mono whitespace-pre"},t))))};Iq.Tooltip=nur;var Z5=$e&&$e.__assign||function(){return Z5=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Z5.apply(this,arguments)},rur=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),iur=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),q2t=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&rur(t,e,n);return iur(t,e),t};JS.__esModule=!0;JS.MultiDistributionChart=JS.sqPlotToPlot=JS.distributionSettingsSchema=void 0;var yo=q2t(z),pbe=q2t(BG),OJe=aT,aur=xMe,AJe=TL,our=S2t,Y2t=E2t,sur=Mg,uur=Dq,RJe=R3,lur=ML,cur=Iq;JS.distributionSettingsSchema=pbe.object({}).shape({showSummary:pbe.boolean().required().default(!1),vegaActions:pbe.boolean().required().default(!1)}).concat(Y2t.distributionChartSpecSchema);function fur(e){return{distributions:e.distributions.map(function(t){return Z5(Z5({},t),{opacity:.3})}),colorScheme:"category10",showLegend:!0}}JS.sqPlotToPlot=fur;var dur=function(e){var t=e.plot,n=e.environment,r=e.chartHeight,i=e.settings,a=(0,our.useMeasure)(),s=a[0],u=a[1],f=t.distributions,d=(0,sur.flattenResult)(f.map(function(_){return(0,OJe.resultMap)(_.distribution.pointSet(n),function(S){return Z5({name:_.name,opacity:_.opacity},S.asShape())})}));if(!d.ok)return yo.createElement(AJe.ErrorAlert,{heading:"Distribution Error"},d.value.toString());for(var c=[],h=0,p=f;h<p.length;h++){var v=p[h].distribution;v.tag===OJe.SqDistributionTag.SampleSet&&c.push.apply(c,v.value().samples)}var m=d.value.flatMap(function(_){return _.discrete.concat(_.continuous)}),y=(0,Y2t.buildVegaSpec)(Z5(Z5({},i),{minX:Number.isFinite(i.minX)?i.minX:Math.min.apply(Math,m.map(function(_){return _.x})),maxX:Number.isFinite(i.maxX)?i.maxX:Math.max.apply(Math,m.map(function(_){return _.x})),maxY:Math.max.apply(Math,m.map(function(_){return _.y})),colorScheme:t.colorScheme,showLegend:t.showLegend})),w={data:d.value,samples:c};return yo.createElement("div",{ref:s},i.logX&&d.value.some(uur.hasMassBelowZero)?yo.createElement(AJe.ErrorAlert,{heading:"Log Domain Error"},"Cannot graph distribution with negative values on logarithmic scale."):yo.createElement("figure",null,u.width?yo.createElement(aur.Vega,{spec:y,data:w,width:u.width-22,height:r,actions:i.vegaActions}):null," "),yo.createElement("div",{className:"flex justify-center"},i.showSummary&&yo.createElement(hur,{plot:t,environment:n})))};JS.MultiDistributionChart=dur;var uS=function(e){var t=e.children;return yo.createElement("th",{className:"border border-slate-200 bg-slate-50 py-1 px-2 text-slate-500 font-semibold"},t)},lS=function(e){var t=e.children;return yo.createElement("td",{className:"border border-slate-200 py-1 px-2 text-slate-900"},t)},hur=function(e){var t=e.plot,n=e.environment;return yo.createElement("table",{className:"border border-collapse border-slate-400"},yo.createElement("thead",{className:"bg-slate-50"},yo.createElement("tr",null,t.showLegend&&yo.createElement(uS,null,"Name"),yo.createElement(uS,null,"Mean"),yo.createElement(uS,null,"Stdev"),yo.createElement(uS,null,"5%"),yo.createElement(uS,null,"10%"),yo.createElement(uS,null,"25%"),yo.createElement(uS,null,"50%"),yo.createElement(uS,null,"75%"),yo.createElement(uS,null,"90%"),yo.createElement(uS,null,"95%"))),yo.createElement("tbody",null,t.distributions.map(function(r){return yo.createElement(gur,{key:r.name,distribution:r.distribution,name:r.name,showName:t.showLegend,environment:n})})))},gur=function(e){var t=e.distribution,n=e.name,r=e.showName,i=e.environment,a=t.mean(i),s=t.stdev(i),u=t.inv(i,.05),f=t.inv(i,.1),d=t.inv(i,.25),c=t.inv(i,.5),h=t.inv(i,.75),p=t.inv(i,.9),v=t.inv(i,.95),m=function(y){return y.ok?yo.createElement(RJe.NumberShower,{number:y.value}):yo.createElement(cur.Tooltip,{text:y.value.toString()},yo.createElement(lur.XIcon,{className:"w-5 h-5 text-gray-500"}))};return yo.createElement("tr",null,r&&yo.createElement(lS,null,n),yo.createElement(lS,null,yo.createElement(RJe.NumberShower,{number:a})),yo.createElement(lS,null,m(s)),yo.createElement(lS,null,m(u)),yo.createElement(lS,null,m(f)),yo.createElement(lS,null,m(d)),yo.createElement(lS,null,m(c)),yo.createElement(lS,null,m(h)),yo.createElement(lS,null,m(p)),yo.createElement(lS,null,m(v)))},pur=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),vur=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mur=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&pur(t,e,n);return vur(t,e),t};jG.__esModule=!0;jG.DistributionChart=void 0;var yur=mur(z),bur=JS,wur=function(e){var t=e.distribution,n=e.environment,r=e.chartHeight,i=e.settings;return yur.createElement(bur.MultiDistributionChart,{plot:{distributions:[{name:"default",distribution:t,opacity:1}],showLegend:!1,colorScheme:"blues"},environment:n,chartHeight:r,settings:i})};jG.DistributionChart=wur;var VP={},bce={},kk={},_ur={get exports(){return kk},set exports(e){kk=e}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var n,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,c="__lodash_placeholder__",h=1,p=2,v=4,m=1,y=2,w=1,_=2,S=4,C=8,$=16,k=32,M=64,A=128,L=256,N=512,R=30,D="...",j=800,U=16,H=1,Y=2,Z=3,Q=1/0,ee=9007199254740991,oe=17976931348623157e292,ue=0/0,ve=4294967295,le=ve-1,de=ve>>>1,me=[["ary",A],["bind",w],["bindKey",_],["curry",C],["curryRight",$],["flip",N],["partial",k],["partialRight",M],["rearg",L]],Se="[object Arguments]",Ee="[object Array]",xe="[object AsyncFunction]",Ie="[object Boolean]",Ne="[object Date]",We="[object DOMException]",Me="[object Error]",He="[object Function]",gt="[object GeneratorFunction]",Ye="[object Map]",ot="[object Number]",Ue="[object Null]",st="[object Object]",at="[object Promise]",St="[object Proxy]",Vt="[object RegExp]",tt="[object Set]",wt="[object String]",vt="[object Symbol]",Le="[object Undefined]",ft="[object WeakMap]",Mt="[object WeakSet]",yt="[object ArrayBuffer]",Ct="[object DataView]",jt="[object Float32Array]",At="[object Float64Array]",Bt="[object Int8Array]",kt="[object Int16Array]",qt="[object Int32Array]",fn="[object Uint8Array]",jn="[object Uint8ClampedArray]",Mn="[object Uint16Array]",Un="[object Uint32Array]",Kr=/\b__p \+= '';/g,Wi=/\b(__p \+=) '' \+/g,sa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ga=/&(?:amp|lt|gt|quot|#39);/g,$i=/[&<>"']/g,Do=RegExp(ga.source),xo=RegExp($i.source),en=/<%-([\s\S]+?)%>/g,sn=/<%([\s\S]+?)%>/g,On=/<%=([\s\S]+?)%>/g,Kn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kr=/^\w*$/,ti=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ji=/[\\^$.*+?()[\]{}|]/g,Yi=RegExp(Ji.source),ka=/^\s+/,fo=/\s/,Il=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Oa=/\{\n\/\* \[wrapped with (.+)\] \*/,rc=/,? & /,Bf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hf=/[()=,{}\[\]\/\s]/,th=/\\(\\)?/g,Gh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wu=/\w*$/,qs=/^[-+]0x[0-9a-f]+$/i,ic=/^0b[01]+$/i,wf=/^\[object .+?Constructor\]$/,Fl=/^0o[0-7]+$/i,Du=/^(?:0|[1-9]\d*)$/,Gu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Uf=/($^)/,Nl=/['\n\r\u2028\u2029\\]/g,ja="\\ud800-\\udfff",lu="\\u0300-\\u036f",_f="\\ufe20-\\ufe2f",Iu="\\u20d0-\\u20ff",_u=lu+_f+Iu,xf="\\u2700-\\u27bf",xu="a-z\\xdf-\\xf6\\xf8-\\xff",Ev="\\xac\\xb1\\xd7\\xf7",wd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qh="\\u2000-\\u206f",t0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",n0="A-Z\\xc0-\\xd6\\xd8-\\xde",r0="\\ufe0e\\ufe0f",Sf=Ev+wd+qh+t0,Yh="[']",nh="["+ja+"]",Yg="["+Sf+"]",Vf="["+_u+"]",Kh="\\d+",Hm="["+xf+"]",Wf="["+xu+"]",rh="[^"+ja+Sf+Kh+xf+xu+n0+"]",Ef="\\ud83c[\\udffb-\\udfff]",Xh="(?:"+Vf+"|"+Ef+")",Zh="[^"+ja+"]",cs="(?:\\ud83c[\\udde6-\\uddff]){2}",Gf="[\\ud800-\\udbff][\\udc00-\\udfff]",ac="["+n0+"]",Kg="\\u200d",Cv="(?:"+Wf+"|"+rh+")",_d="(?:"+ac+"|"+rh+")",Xg="(?:"+Yh+"(?:d|ll|m|re|s|t|ve))?",Cf="(?:"+Yh+"(?:D|LL|M|RE|S|T|VE))?",jc=Xh+"?",i0="["+r0+"]?",Pe="(?:"+Kg+"(?:"+[Zh,cs,Gf].join("|")+")"+i0+jc+")*",ut="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ot=i0+jc+Pe,Dt="(?:"+[Hm,cs,Gf].join("|")+")"+Ot,Tt="(?:"+[Zh+Vf+"?",Vf,cs,Gf,nh].join("|")+")",nn=RegExp(Yh,"g"),Sn=RegExp(Vf,"g"),Fn=RegExp(Ef+"(?="+Ef+")|"+Tt+Ot,"g"),gn=RegExp([ac+"?"+Wf+"+"+Xg+"(?="+[Yg,ac,"$"].join("|")+")",_d+"+"+Cf+"(?="+[Yg,ac+Cv,"$"].join("|")+")",ac+"?"+Cv+"+"+Xg,ac+"+"+Cf,rt,ut,Kh,Dt].join("|"),"g"),Xn=RegExp("["+Kg+ja+_u+r0+"]"),or=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,An=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cr=-1,bn={};bn[jt]=bn[At]=bn[Bt]=bn[kt]=bn[qt]=bn[fn]=bn[jn]=bn[Mn]=bn[Un]=!0,bn[Se]=bn[Ee]=bn[yt]=bn[Ie]=bn[Ct]=bn[Ne]=bn[Me]=bn[He]=bn[Ye]=bn[ot]=bn[st]=bn[Vt]=bn[tt]=bn[wt]=bn[ft]=!1;var Zn={};Zn[Se]=Zn[Ee]=Zn[yt]=Zn[Ct]=Zn[Ie]=Zn[Ne]=Zn[jt]=Zn[At]=Zn[Bt]=Zn[kt]=Zn[qt]=Zn[Ye]=Zn[ot]=Zn[st]=Zn[Vt]=Zn[tt]=Zn[wt]=Zn[vt]=Zn[fn]=Zn[jn]=Zn[Mn]=Zn[Un]=!0,Zn[Me]=Zn[He]=Zn[ft]=!1;var Ve={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},$t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},an={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_n={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},In=parseFloat,Yn=parseInt,pi=typeof $e=="object"&&$e&&$e.Object===Object&&$e,ir=typeof self=="object"&&self&&self.Object===Object&&self,Cn=pi||ir||Function("return this")(),un=t&&!t.nodeType&&t,Hr=un&&!0&&e&&!e.nodeType&&e,Xr=Hr&&Hr.exports===un,Ur=Xr&&pi.process,gr=function(){try{var Ft=Hr&&Hr.require&&Hr.require("util").types;return Ft||Ur&&Ur.binding&&Ur.binding("util")}catch{}}(),Er=gr&&gr.isArrayBuffer,pr=gr&&gr.isDate,vr=gr&&gr.isMap,ri=gr&&gr.isRegExp,ua=gr&&gr.isSet,Ga=gr&&gr.isTypedArray;function Fr(Ft,hn,Rt){switch(Rt.length){case 0:return Ft.call(hn);case 1:return Ft.call(hn,Rt[0]);case 2:return Ft.call(hn,Rt[0],Rt[1]);case 3:return Ft.call(hn,Rt[0],Rt[1],Rt[2])}return Ft.apply(hn,Rt)}function to(Ft,hn,Rt,Or){for(var na=-1,So=Ft==null?0:Ft.length;++na<So;){var Ls=Ft[na];hn(Or,Ls,Rt(Ls),Ft)}return Or}function Li(Ft,hn){for(var Rt=-1,Or=Ft==null?0:Ft.length;++Rt<Or&&hn(Ft[Rt],Rt,Ft)!==!1;);return Ft}function ll(Ft,hn){for(var Rt=Ft==null?0:Ft.length;Rt--&&hn(Ft[Rt],Rt,Ft)!==!1;);return Ft}function Vr(Ft,hn){for(var Rt=-1,Or=Ft==null?0:Ft.length;++Rt<Or;)if(!hn(Ft[Rt],Rt,Ft))return!1;return!0}function oo(Ft,hn){for(var Rt=-1,Or=Ft==null?0:Ft.length,na=0,So=[];++Rt<Or;){var Ls=Ft[Rt];hn(Ls,Rt,Ft)&&(So[na++]=Ls)}return So}function Io(Ft,hn){var Rt=Ft==null?0:Ft.length;return!!Rt&&a0(Ft,hn,0)>-1}function qo(Ft,hn,Rt){for(var Or=-1,na=Ft==null?0:Ft.length;++Or<na;)if(Rt(hn,Ft[Or]))return!0;return!1}function Zr(Ft,hn){for(var Rt=-1,Or=Ft==null?0:Ft.length,na=Array(Or);++Rt<Or;)na[Rt]=hn(Ft[Rt],Rt,Ft);return na}function cl(Ft,hn){for(var Rt=-1,Or=hn.length,na=Ft.length;++Rt<Or;)Ft[na+Rt]=hn[Rt];return Ft}function Qh(Ft,hn,Rt,Or){var na=-1,So=Ft==null?0:Ft.length;for(Or&&So&&(Rt=Ft[++na]);++na<So;)Rt=hn(Rt,Ft[na],na,Ft);return Rt}function xd(Ft,hn,Rt,Or){var na=Ft==null?0:Ft.length;for(Or&&na&&(Rt=Ft[--na]);na--;)Rt=hn(Rt,Ft[na],na,Ft);return Rt}function vw(Ft,hn){for(var Rt=-1,Or=Ft==null?0:Ft.length;++Rt<Or;)if(hn(Ft[Rt],Rt,Ft))return!0;return!1}var qk=li("length");function WE(Ft){return Ft.split("")}function F_(Ft){return Ft.match(Bf)||[]}function GE(Ft,hn,Rt){var Or;return Rt(Ft,function(na,So,Ls){if(hn(na,So,Ls))return Or=So,!1}),Or}function Um(Ft,hn,Rt,Or){for(var na=Ft.length,So=Rt+(Or?1:-1);Or?So--:++So<na;)if(hn(Ft[So],So,Ft))return So;return-1}function a0(Ft,hn,Rt){return hn===hn?hl(Ft,hn,Rt):Um(Ft,YE,Rt)}function qE(Ft,hn,Rt,Or){for(var na=Rt-1,So=Ft.length;++na<So;)if(Or(Ft[na],hn))return na;return-1}function YE(Ft){return Ft!==Ft}function N_(Ft,hn){var Rt=Ft==null?0:Ft.length;return Rt?_i(Ft,hn)/Rt:ue}function li(Ft){return function(hn){return hn==null?n:hn[Ft]}}function qf(Ft){return function(hn){return Ft==null?n:Ft[hn]}}function o0(Ft,hn,Rt,Or,na){return na(Ft,function(So,Ls,so){Rt=Or?(Or=!1,So):hn(Rt,So,Ls,so)}),Rt}function wi(Ft,hn){var Rt=Ft.length;for(Ft.sort(hn);Rt--;)Ft[Rt]=Ft[Rt].value;return Ft}function _i(Ft,hn){for(var Rt,Or=-1,na=Ft.length;++Or<na;){var So=hn(Ft[Or]);So!==n&&(Rt=Rt===n?So:Rt+So)}return Rt}function Jh(Ft,hn){for(var Rt=-1,Or=Array(Ft);++Rt<Ft;)Or[Rt]=hn(Rt);return Or}function xy(Ft,hn){return Zr(hn,function(Rt){return[Rt,Ft[Rt]]})}function Sy(Ft){return Ft&&Ft.slice(0,yw(Ft)+1).replace(ka,"")}function fl(Ft){return function(hn){return Ft(hn)}}function Vm(Ft,hn){return Zr(hn,function(Rt){return Ft[Rt]})}function ge(Ft,hn){return Ft.has(hn)}function zl(Ft,hn){for(var Rt=-1,Or=Ft.length;++Rt<Or&&a0(hn,Ft[Rt],0)>-1;);return Rt}function z_(Ft,hn){for(var Rt=Ft.length;Rt--&&a0(hn,Ft[Rt],0)>-1;);return Rt}function mw(Ft,hn){for(var Rt=Ft.length,Or=0;Rt--;)Ft[Rt]===hn&&++Or;return Or}var Wm=qf(Ve),re=qf($t);function nr(Ft){return"\\"+_n[Ft]}function $v(Ft,hn){return Ft==null?n:Ft[hn]}function dl(Ft){return Xn.test(Ft)}function s0(Ft){return or.test(Ft)}function pt(Ft){for(var hn,Rt=[];!(hn=Ft.next()).done;)Rt.push(hn.value);return Rt}function Jt(Ft){var hn=-1,Rt=Array(Ft.size);return Ft.forEach(function(Or,na){Rt[++hn]=[na,Or]}),Rt}function eg(Ft,hn){return function(Rt){return Ft(hn(Rt))}}function Ba(Ft,hn){for(var Rt=-1,Or=Ft.length,na=0,So=[];++Rt<Or;){var Ls=Ft[Rt];(Ls===hn||Ls===c)&&(Ft[Rt]=c,So[na++]=Rt)}return So}function ki(Ft){var hn=-1,Rt=Array(Ft.size);return Ft.forEach(function(Or){Rt[++hn]=Or}),Rt}function Wr(Ft){var hn=-1,Rt=Array(Ft.size);return Ft.forEach(function(Or){Rt[++hn]=[Or,Or]}),Rt}function hl(Ft,hn,Rt){for(var Or=Rt-1,na=Ft.length;++Or<na;)if(Ft[Or]===hn)return Or;return-1}function RT(Ft,hn,Rt){for(var Or=Rt+1;Or--;)if(Ft[Or]===hn)return Or;return Or}function cu(Ft){return dl(Ft)?Yk(Ft):qk(Ft)}function Sd(Ft){return dl(Ft)?Kk(Ft):WE(Ft)}function yw(Ft){for(var hn=Ft.length;hn--&&fo.test(Ft.charAt(hn)););return hn}var Wt=qf(an);function Yk(Ft){for(var hn=Fn.lastIndex=0;Fn.test(Ft);)++hn;return hn}function Kk(Ft){return Ft.match(Fn)||[]}function KE(Ft){return Ft.match(gn)||[]}var j_=function Ft(hn){hn=hn==null?Cn:Zg.defaults(Cn.Object(),hn,Zg.pick(Cn,An));var Rt=hn.Array,Or=hn.Date,na=hn.Error,So=hn.Function,Ls=hn.Math,so=hn.Object,Mo=hn.RegExp,Gm=hn.String,Bc=hn.TypeError,u0=Rt.prototype,B_=So.prototype,tg=so.prototype,Ey=hn["__core-js_shared__"],qm=B_.toString,Fo=tg.hasOwnProperty,H_=0,Xk=function(){var F=/[^.]+$/.exec(Ey&&Ey.keys&&Ey.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}(),Ym=tg.toString,XE=qm.call(so),U_=Cn._,bw=Mo("^"+qm.call(Fo).replace(Ji,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ng=Xr?hn.Buffer:n,oc=hn.Symbol,Ed=hn.Uint8Array,V_=ng?ng.allocUnsafe:n,ns=eg(so.getPrototypeOf,so),W_=so.create,Cy=tg.propertyIsEnumerable,l0=u0.splice,$y=oc?oc.isConcatSpreadable:n,Km=oc?oc.iterator:n,Cd=oc?oc.toStringTag:n,Xm=function(){try{var F=d1(so,"defineProperty");return F({},"",{}),F}catch{}}(),G_=hn.clearTimeout!==Cn.clearTimeout&&hn.clearTimeout,kv=Or&&Or.now!==Cn.Date.now&&Or.now,c0=hn.setTimeout!==Cn.setTimeout&&hn.setTimeout,ya=Ls.ceil,ky=Ls.floor,Zm=so.getOwnPropertySymbols,ZE=ng?ng.isBuffer:n,QE=hn.isFinite,Qg=u0.join,q_=eg(so.keys,so),Ys=Ls.max,Hc=Ls.min,Qm=Or.now,Y_=hn.parseInt,Gi=Ls.random,gl=u0.reverse,ww=d1(hn,"DataView"),f0=d1(hn,"Map"),Jm=d1(hn,"Promise"),e1=d1(hn,"Set"),t1=d1(hn,"WeakMap"),d0=d1(so,"create"),Oy=t1&&new t1,Jg={},_w=Uy(ww),qa=Uy(f0),sr=Uy(Jm),Ay=Uy(e1),h0=Uy(t1),$d=oc?oc.prototype:n,ih=$d?$d.valueOf:n,Su=$d?$d.toString:n;function qe(F){if(ml(F)&&!xa(F)&&!(F instanceof te)){if(F instanceof Yf)return F;if(Fo.call(F,"__wrapped__"))return t4(F)}return new Yf(F)}var n1=function(){function F(){}return function(W){if(!Ku(W))return{};if(W_)return W_(W);F.prototype=W;var ne=new F;return F.prototype=n,ne}}();function Ry(){}function Yf(F,W){this.__wrapped__=F,this.__actions__=[],this.__chain__=!!W,this.__index__=0,this.__values__=n}qe.templateSettings={escape:en,evaluate:sn,interpolate:On,variable:"",imports:{_:qe}},qe.prototype=Ry.prototype,qe.prototype.constructor=qe,Yf.prototype=n1(Ry.prototype),Yf.prototype.constructor=Yf;function te(F){this.__wrapped__=F,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ve,this.__views__=[]}function ke(){var F=new te(this.__wrapped__);return F.__actions__=Af(this.__actions__),F.__dir__=this.__dir__,F.__filtered__=this.__filtered__,F.__iteratees__=Af(this.__iteratees__),F.__takeCount__=this.__takeCount__,F.__views__=Af(this.__views__),F}function De(){if(this.__filtered__){var F=new te(this);F.__dir__=-1,F.__filtered__=!0}else F=this.clone(),F.__dir__*=-1;return F}function Ae(){var F=this.__wrapped__.value(),W=this.__dir__,ne=xa(F),we=W<0,ze=ne?F.length:0,Ze=aD(0,ze,this.__views__),mt=Ze.start,bt=Ze.end,Ht=bt-mt,$n=we?bt:mt-1,_t=this.__iteratees__,mn=_t.length,fr=0,ii=Hc(Ht,this.__takeCount__);if(!ne||!we&&ze==Ht&&ii==Ht)return uO(F,this.__actions__);var Dr=[];e:for(;Ht--&&fr<ii;){$n+=W;for(var xi=-1,Ti=F[$n];++xi<mn;){var ho=_t[xi],go=ho.iteratee,Rd=ho.type,vg=go(Ti);if(Rd==Y)Ti=vg;else if(!vg){if(Rd==H)continue e;break e}}Dr[fr++]=Ti}return Dr}te.prototype=n1(Ry.prototype),te.prototype.constructor=te;function Ge(F){var W=-1,ne=F==null?0:F.length;for(this.clear();++W<ne;){var we=F[W];this.set(we[0],we[1])}}function Et(){this.__data__=d0?d0(null):{},this.size=0}function Gt(F){var W=this.has(F)&&delete this.__data__[F];return this.size-=W?1:0,W}function Pn(F){var W=this.__data__;if(d0){var ne=W[F];return ne===f?n:ne}return Fo.call(W,F)?W[F]:n}function la(F){var W=this.__data__;return d0?W[F]!==n:Fo.call(W,F)}function Ia(F,W){var ne=this.__data__;return this.size+=this.has(F)?0:1,ne[F]=d0&&W===n?f:W,this}Ge.prototype.clear=Et,Ge.prototype.delete=Gt,Ge.prototype.get=Pn,Ge.prototype.has=la,Ge.prototype.set=Ia;function Ya(F){var W=-1,ne=F==null?0:F.length;for(this.clear();++W<ne;){var we=F[W];this.set(we[0],we[1])}}function Uc(){this.__data__=[],this.size=0}function $f(F){var W=this.__data__,ne=Oi(W,F);if(ne<0)return!1;var we=W.length-1;return ne==we?W.pop():l0.call(W,ne,1),--this.size,!0}function Ty(F){var W=this.__data__,ne=Oi(W,F);return ne<0?n:W[ne][1]}function WL(F){return Oi(this.__data__,F)>-1}function JE(F,W){var ne=this.__data__,we=Oi(ne,F);return we<0?(++this.size,ne.push([F,W])):ne[we][1]=W,this}Ya.prototype.clear=Uc,Ya.prototype.delete=$f,Ya.prototype.get=Ty,Ya.prototype.has=WL,Ya.prototype.set=JE;function rs(F){var W=-1,ne=F==null?0:F.length;for(this.clear();++W<ne;){var we=F[W];this.set(we[0],we[1])}}function Zk(){this.size=0,this.__data__={hash:new Ge,map:new(f0||Ya),string:new Ge}}function g0(F){var W=y0(this,F).delete(F);return this.size-=W?1:0,W}function Qk(F){return y0(this,F).get(F)}function TT(F){return y0(this,F).has(F)}function GL(F,W){var ne=y0(this,F),we=ne.size;return ne.set(F,W),this.size+=ne.size==we?0:1,this}rs.prototype.clear=Zk,rs.prototype.delete=g0,rs.prototype.get=Qk,rs.prototype.has=TT,rs.prototype.set=GL;function r1(F){var W=-1,ne=F==null?0:F.length;for(this.__data__=new rs;++W<ne;)this.add(F[W])}function qL(F){return this.__data__.set(F,f),this}function eC(F){return this.__data__.has(F)}r1.prototype.add=r1.prototype.push=qL,r1.prototype.has=eC;function ah(F){var W=this.__data__=new Ya(F);this.size=W.size}function MT(){this.__data__=new Ya,this.size=0}function YL(F){var W=this.__data__,ne=W.delete(F);return this.size=W.size,ne}function Aa(F){return this.__data__.get(F)}function tC(F){return this.__data__.has(F)}function Jk(F,W){var ne=this.__data__;if(ne instanceof Ya){var we=ne.__data__;if(!f0||we.length<i-1)return we.push([F,W]),this.size=++ne.size,this;ne=this.__data__=new rs(we)}return ne.set(F,W),this.size=ne.size,this}ah.prototype.clear=MT,ah.prototype.delete=YL,ah.prototype.get=Aa,ah.prototype.has=tC,ah.prototype.set=Jk;function xw(F,W){var ne=xa(F),we=!ne&&lx(F),ze=!ne&&!we&&Ky(F),Ze=!ne&&!we&&!ze&&Ns(F),mt=ne||we||ze||Ze,bt=mt?Jh(F.length,Gm):[],Ht=bt.length;for(var $n in F)(W||Fo.call(F,$n))&&!(mt&&($n=="length"||ze&&($n=="offset"||$n=="parent")||Ze&&($n=="buffer"||$n=="byteLength"||$n=="byteOffset")||ip($n,Ht)))&&bt.push($n);return bt}function eO(F){var W=F.length;return W?F[Ow(0,W-1)]:n}function zr(F,W){return nx(Af(F),i1(W,0,F.length))}function Lt(F){return nx(Af(F))}function Sw(F,W,ne){(ne!==n&&!y1(F[W],ne)||ne===n&&!(W in F))&&Ov(F,W,ne)}function sc(F,W,ne){var we=F[W];(!(Fo.call(F,W)&&y1(we,ne))||ne===n&&!(W in F))&&Ov(F,W,ne)}function Oi(F,W){for(var ne=F.length;ne--;)if(y1(F[ne][0],W))return ne;return-1}function nC(F,W,ne,we){return a1(F,function(ze,Ze,mt){W(we,ze,ne(ze),mt)}),we}function is(F,W){return F&&np(W,Jf(W),F)}function Ds(F,W){return F&&np(W,Ad(W),F)}function Ov(F,W,ne){W=="__proto__"&&Xm?Xm(F,W,{configurable:!0,enumerable:!0,value:ne,writable:!0}):F[W]=ne}function Ew(F,W){for(var ne=-1,we=W.length,ze=Rt(we),Ze=F==null;++ne<we;)ze[ne]=Ze?n:ED(F,W[ne]);return ze}function i1(F,W,ne){return F===F&&(ne!==n&&(F=F<=ne?F:ne),W!==n&&(F=F>=W?F:W)),F}function rg(F,W,ne,we,ze,Ze){var mt,bt=W&h,Ht=W&p,$n=W&v;if(ne&&(mt=ze?ne(F,we,ze,Ze):ne(F)),mt!==n)return mt;if(!Ku(F))return F;var _t=xa(F);if(_t){if(mt=g1(F),!bt)return Af(F,mt)}else{var mn=lc(F),fr=mn==He||mn==gt;if(Ky(F))return cO(F,bt);if(mn==st||mn==Se||fr&&!ze){if(mt=Ht||fr?{}:_O(F),!bt)return Ht?XT(F,Ds(mt,F)):dO(F,is(mt,F))}else{if(!Zn[mn])return ze?F:{};mt=Hy(F,mn,bt)}}Ze||(Ze=new ah);var ii=Ze.get(F);if(ii)return ii;Ze.set(F,mt),h4(F)?F.forEach(function(Ti){mt.add(rg(Ti,W,ne,Ti,F,Ze))}):Qf(F)&&F.forEach(function(Ti,ho){mt.set(ho,rg(Ti,W,ne,ho,F,Ze))});var Dr=$n?Ht?Iw:c1:Ht?Ad:Jf,xi=_t?n:Dr(F);return Li(xi||F,function(Ti,ho){xi&&(ho=Ti,Ti=F[ho]),sc(mt,ho,rg(Ti,W,ne,ho,F,Ze))}),mt}function rC(F){var W=Jf(F);return function(ne){return tO(ne,F,W)}}function tO(F,W,ne){var we=ne.length;if(F==null)return!we;for(F=so(F);we--;){var ze=ne[we],Ze=W[ze],mt=F[ze];if(mt===n&&!(ze in F)||!Ze(mt))return!1}return!0}function nO(F,W,ne){if(typeof F!="function")throw new Bc(s);return b0(function(){F.apply(n,ne)},W)}function Av(F,W,ne,we){var ze=-1,Ze=Io,mt=!0,bt=F.length,Ht=[],$n=W.length;if(!bt)return Ht;ne&&(W=Zr(W,fl(ne))),we?(Ze=qo,mt=!1):W.length>=i&&(Ze=ge,mt=!1,W=new r1(W));e:for(;++ze<bt;){var _t=F[ze],mn=ne==null?_t:ne(_t);if(_t=we||_t!==0?_t:0,mt&&mn===mn){for(var fr=$n;fr--;)if(W[fr]===mn)continue e;Ht.push(_t)}else Ze(W,mn,we)||Ht.push(_t)}return Ht}var a1=hO(ep),qu=hO(o1,!0);function Rv(F,W){var ne=!0;return a1(F,function(we,ze,Ze){return ne=!!W(we,ze,Ze),ne}),ne}function iC(F,W,ne){for(var we=-1,ze=F.length;++we<ze;){var Ze=F[we],mt=W(Ze);if(mt!=null&&(bt===n?mt===mt&&!_0(mt):ne(mt,bt)))var bt=mt,Ht=Ze}return Ht}function KL(F,W,ne,we){var ze=F.length;for(ne=Fa(ne),ne<0&&(ne=-ne>ze?0:ze+ne),we=we===n||we>ze?ze:Fa(we),we<0&&(we+=ze),we=ne>we?0:RC(we);ne<we;)F[ne++]=W;return F}function XL(F,W){var ne=[];return a1(F,function(we,ze,Ze){W(we,ze,Ze)&&ne.push(we)}),ne}function uc(F,W,ne,we,ze){var Ze=-1,mt=F.length;for(ne||(ne=gC),ze||(ze=[]);++Ze<mt;){var bt=F[Ze];W>0&&ne(bt)?W>1?uc(bt,W-1,ne,we,ze):cl(ze,bt):we||(ze[ze.length]=bt)}return ze}var K_=gO(),Vc=gO(!0);function ep(F,W){return F&&K_(F,W,Jf)}function o1(F,W){return F&&Vc(F,W,Jf)}function oh(F,W){return oo(W,function(ne){return Zf(F[ne])})}function s1(F,W){W=v0(W,F);for(var ne=0,we=W.length;F!=null&&ne<we;)F=F[lh(W[ne++])];return ne&&ne==we?F:n}function aC(F,W,ne){var we=W(F);return xa(F)?we:cl(we,ne(F))}function Yu(F){return F==null?F===n?Le:Ue:Cd&&Cd in so(F)?hC(F):X7(F)}function rO(F,W){return F>W}function ZL(F,W){return F!=null&&Fo.call(F,W)}function My(F,W){return F!=null&&W in so(F)}function PT(F,W,ne){return F>=Hc(W,ne)&&F<Ys(W,ne)}function nt(F,W,ne){for(var we=ne?qo:Io,ze=F[0].length,Ze=F.length,mt=Ze,bt=Rt(Ze),Ht=1/0,$n=[];mt--;){var _t=F[mt];mt&&W&&(_t=Zr(_t,fl(W))),Ht=Hc(_t.length,Ht),bt[mt]=!ne&&(W||ze>=120&&_t.length>=120)?new r1(mt&&_t):n}_t=F[0];var mn=-1,fr=bt[0];e:for(;++mn<ze&&$n.length<Ht;){var ii=_t[mn],Dr=W?W(ii):ii;if(ii=ne||ii!==0?ii:0,!(fr?ge(fr,Dr):we($n,Dr,ne))){for(mt=Ze;--mt;){var xi=bt[mt];if(!(xi?ge(xi,Dr):we(F[mt],Dr,ne)))continue e}fr&&fr.push(Dr),$n.push(ii)}}return $n}function QL(F,W,ne,we){return ep(F,function(ze,Ze,mt){W(we,ne(ze),Ze,mt)}),we}function kf(F,W,ne){W=v0(W,F),F=mC(F,W);var we=F==null?F:F[lh(ch(W))];return we==null?n:Fr(we,F,ne)}function X_(F){return ml(F)&&Yu(F)==Se}function iO(F){return ml(F)&&Yu(F)==yt}function Py(F){return ml(F)&&Yu(F)==Ne}function tp(F,W,ne,we,ze){return F===W?!0:F==null||W==null||!ml(F)&&!ml(W)?F!==F&&W!==W:aO(F,W,ne,we,tp,ze)}function aO(F,W,ne,we,ze,Ze){var mt=xa(F),bt=xa(W),Ht=mt?Ee:lc(F),$n=bt?Ee:lc(W);Ht=Ht==Se?st:Ht,$n=$n==Se?st:$n;var _t=Ht==st,mn=$n==st,fr=Ht==$n;if(fr&&Ky(F)){if(!Ky(W))return!1;mt=!0,_t=!1}if(fr&&!_t)return Ze||(Ze=new ah),mt||Ns(F)?m0(F,W,ne,we,ze,Ze):tx(F,W,Ht,ne,we,ze,Ze);if(!(ne&m)){var ii=_t&&Fo.call(F,"__wrapped__"),Dr=mn&&Fo.call(W,"__wrapped__");if(ii||Dr){var xi=ii?F.value():F,Ti=Dr?W.value():W;return Ze||(Ze=new ah),ze(xi,Ti,ne,we,Ze)}}return fr?(Ze||(Ze=new ah),jy(F,W,ne,we,ze,Ze)):!1}function W7(F){return ml(F)&&lc(F)==Ye}function LT(F,W,ne,we){var ze=ne.length,Ze=ze,mt=!we;if(F==null)return!Ze;for(F=so(F);ze--;){var bt=ne[ze];if(mt&&bt[2]?bt[1]!==F[bt[0]]:!(bt[0]in F))return!1}for(;++ze<Ze;){bt=ne[ze];var Ht=bt[0],$n=F[Ht],_t=bt[1];if(mt&&bt[2]){if($n===n&&!(Ht in F))return!1}else{var mn=new ah;if(we)var fr=we($n,_t,Ht,F,W,mn);if(!(fr===n?tp(_t,$n,m|y,we,mn):fr))return!1}}return!0}function JL(F){if(!Ku(F)||G7(F))return!1;var W=Zf(F)?bw:wf;return W.test(Uy(F))}function rn(F){return ml(F)&&Yu(F)==Vt}function oO(F){return ml(F)&&lc(F)==tt}function Is(F){return ml(F)&&d4(F.length)&&!!bn[Yu(F)]}function Ri(F){return typeof F=="function"?F:F==null?ap:typeof F=="object"?xa(F)?Cw(F[0],F[1]):FT(F):C9(F)}function DT(F){if(!zw(F))return q_(F);var W=[];for(var ne in so(F))Fo.call(F,ne)&&ne!="constructor"&&W.push(ne);return W}function ig(F){if(!Ku(F))return uh(F);var W=zw(F),ne=[];for(var we in F)we=="constructor"&&(W||!Fo.call(F,we))||ne.push(we);return ne}function ag(F,W){return F<W}function IT(F,W){var ne=-1,we=hg(F)?Rt(F.length):[];return a1(F,function(ze,Ze,mt){we[++ne]=W(ze,Ze,mt)}),we}function FT(F){var W=dC(F);return W.length==1&&W[0][2]?e4(W[0][0],W[0][1]):function(ne){return ne===F||LT(ne,F,W)}}function Cw(F,W){return Nw(F)&&vC(W)?e4(lh(F),W):function(ne){var we=ED(ne,F);return we===n&&we===W?m4(ne,F):tp(W,we,m|y)}}function $w(F,W,ne,we,ze){F!==W&&K_(W,function(Ze,mt){if(ze||(ze=new ah),Ku(Ze))Ly(F,W,mt,ne,$w,we,ze);else{var bt=we?we(p1(F,mt),Ze,mt+"",F,W,ze):n;bt===n&&(bt=Ze),Sw(F,mt,bt)}},Ad)}function Ly(F,W,ne,we,ze,Ze,mt){var bt=p1(F,ne),Ht=p1(W,ne),$n=mt.get(Ht);if($n){Sw(F,ne,$n);return}var _t=Ze?Ze(bt,Ht,ne+"",F,W,mt):n,mn=_t===n;if(mn){var fr=xa(Ht),ii=!fr&&Ky(Ht),Dr=!fr&&!ii&&Ns(Ht);_t=Ht,fr||ii||Dr?xa(bt)?_t=bt:hi(bt)?_t=Af(bt):ii?(mn=!1,_t=cO(Ht,!0)):Dr?(mn=!1,_t=Q_(Ht,!0)):_t=[]:jO(Ht)||lx(Ht)?(_t=bt,lx(bt)?_t=o9(bt):(!Ku(bt)||Zf(bt))&&(_t=_O(Ht))):mn=!1}mn&&(mt.set(Ht,_t),ze(_t,Ht,we,Ze,mt),mt.delete(Ht)),Sw(F,ne,_t)}function NT(F,W){var ne=F.length;if(ne)return W+=W<0?ne:0,ip(W,ne)?F[W]:n}function kw(F,W,ne){W.length?W=Zr(W,function(Ze){return xa(Ze)?function(mt){return s1(mt,Ze.length===1?Ze[0]:Ze)}:Ze}):W=[ap];var we=-1;W=Zr(W,fl(Ai()));var ze=IT(F,function(Ze,mt,bt){var Ht=Zr(W,function($n){return $n(Ze)});return{criteria:Ht,index:++we,value:Ze}});return wi(ze,function(Ze,mt){return fi(Ze,mt,ne)})}function u1(F,W){return zT(F,W,function(ne,we){return m4(F,we)})}function zT(F,W,ne){for(var we=-1,ze=W.length,Ze={};++we<ze;){var mt=W[we],bt=s1(F,mt);ne(bt,mt)&&Z_(Ze,v0(mt,F),bt)}return Ze}function jT(F){return function(W){return s1(W,F)}}function Tv(F,W,ne,we){var ze=we?qE:a0,Ze=-1,mt=W.length,bt=F;for(F===W&&(W=Af(W)),ne&&(bt=Zr(F,fl(ne)));++Ze<mt;)for(var Ht=0,$n=W[Ze],_t=ne?ne($n):$n;(Ht=ze(bt,_t,Ht,we))>-1;)bt!==F&&l0.call(bt,Ht,1),l0.call(F,Ht,1);return F}function oC(F,W){for(var ne=F?W.length:0,we=ne-1;ne--;){var ze=W[ne];if(ne==we||ze!==Ze){var Ze=ze;ip(ze)?l0.call(F,ze,1):p0(F,ze)}}return F}function Ow(F,W){return F+ky(Gi()*(W-F+1))}function eD(F,W,ne,we){for(var ze=-1,Ze=Ys(ya((W-F)/(ne||1)),0),mt=Rt(Ze);Ze--;)mt[we?Ze:++ze]=F,F+=ne;return mt}function Eu(F,W){var ne="";if(!F||W<1||W>ee)return ne;do W%2&&(ne+=F),W=ky(W/2),W&&(F+=F);while(W);return ne}function ba(F,W){return EO(Kf(F,W,ap),F+"")}function BT(F){return eO(ni(F))}function HT(F,W){var ne=ni(F);return nx(ne,i1(W,0,ne.length))}function Z_(F,W,ne,we){if(!Ku(F))return F;W=v0(W,F);for(var ze=-1,Ze=W.length,mt=Ze-1,bt=F;bt!=null&&++ze<Ze;){var Ht=lh(W[ze]),$n=ne;if(Ht==="__proto__"||Ht==="constructor"||Ht==="prototype")return F;if(ze!=mt){var _t=bt[Ht];$n=we?we(_t,Ht,bt):n,$n===n&&($n=Ku(_t)?_t:ip(W[ze+1])?[]:{})}sc(bt,Ht,$n),bt=bt[Ht]}return F}var UT=Oy?function(F,W){return Oy.set(F,W),F}:ap,sC=Xm?function(F,W){return Xm(F,"toString",{configurable:!0,enumerable:!1,value:VO(W),writable:!0})}:ap;function VT(F){return nx(ni(F))}function Cu(F,W,ne){var we=-1,ze=F.length;W<0&&(W=-W>ze?0:ze+W),ne=ne>ze?ze:ne,ne<0&&(ne+=ze),ze=W>ne?0:ne-W>>>0,W>>>=0;for(var Ze=Rt(ze);++we<ze;)Ze[we]=F[we+W];return Ze}function WT(F,W){var ne;return a1(F,function(we,ze,Ze){return ne=W(we,ze,Ze),!ne}),!!ne}function uC(F,W,ne){var we=0,ze=F==null?we:F.length;if(typeof W=="number"&&W===W&&ze<=de){for(;we<ze;){var Ze=we+ze>>>1,mt=F[Ze];mt!==null&&!_0(mt)&&(ne?mt<=W:mt<W)?we=Ze+1:ze=Ze}return ze}return sO(F,W,ap,ne)}function sO(F,W,ne,we){var ze=0,Ze=F==null?0:F.length;if(Ze===0)return 0;W=ne(W);for(var mt=W!==W,bt=W===null,Ht=_0(W),$n=W===n;ze<Ze;){var _t=ky((ze+Ze)/2),mn=ne(F[_t]),fr=mn!==n,ii=mn===null,Dr=mn===mn,xi=_0(mn);if(mt)var Ti=we||Dr;else $n?Ti=Dr&&(we||fr):bt?Ti=Dr&&fr&&(we||!ii):Ht?Ti=Dr&&fr&&!ii&&(we||!xi):ii||xi?Ti=!1:Ti=we?mn<=W:mn<W;Ti?ze=_t+1:Ze=_t}return Hc(Ze,le)}function Aw(F,W){for(var ne=-1,we=F.length,ze=0,Ze=[];++ne<we;){var mt=F[ne],bt=W?W(mt):mt;if(!ne||!y1(bt,Ht)){var Ht=bt;Ze[ze++]=mt===0?0:mt}}return Ze}function l1(F){return typeof F=="number"?F:_0(F)?ue:+F}function jl(F){if(typeof F=="string")return F;if(xa(F))return Zr(F,jl)+"";if(_0(F))return Su?Su.call(F):"";var W=F+"";return W=="0"&&1/F==-Q?"-0":W}function Of(F,W,ne){var we=-1,ze=Io,Ze=F.length,mt=!0,bt=[],Ht=bt;if(ne)mt=!1,ze=qo;else if(Ze>=i){var $n=W?null:bO(F);if($n)return ki($n);mt=!1,ze=ge,Ht=new r1}else Ht=W?[]:bt;e:for(;++we<Ze;){var _t=F[we],mn=W?W(_t):_t;if(_t=ne||_t!==0?_t:0,mt&&mn===mn){for(var fr=Ht.length;fr--;)if(Ht[fr]===mn)continue e;W&&Ht.push(mn),bt.push(_t)}else ze(Ht,mn,ne)||(Ht!==bt&&Ht.push(mn),bt.push(_t))}return bt}function p0(F,W){return W=v0(W,F),F=mC(F,W),F==null||delete F[lh(ch(W))]}function Rw(F,W,ne,we){return Z_(F,W,ne(s1(F,W)),we)}function Tw(F,W,ne,we){for(var ze=F.length,Ze=we?ze:-1;(we?Ze--:++Ze<ze)&&W(F[Ze],Ze,F););return ne?Cu(F,we?0:Ze,we?Ze+1:ze):Cu(F,we?Ze+1:0,we?ze:Ze)}function uO(F,W){var ne=F;return ne instanceof te&&(ne=ne.value()),Qh(W,function(we,ze){return ze.func.apply(ze.thisArg,cl([we],ze.args))},ne)}function GT(F,W,ne){var we=F.length;if(we<2)return we?Of(F[0]):[];for(var ze=-1,Ze=Rt(we);++ze<we;)for(var mt=F[ze],bt=-1;++bt<we;)bt!=ze&&(Ze[ze]=Av(Ze[ze]||mt,F[bt],W,ne));return Of(uc(Ze,1),W,ne)}function qT(F,W,ne){for(var we=-1,ze=F.length,Ze=W.length,mt={};++we<ze;){var bt=we<Ze?W[we]:n;ne(mt,F[we],bt)}return mt}function lO(F){return hi(F)?F:[]}function og(F){return typeof F=="function"?F:ap}function v0(F,W){return xa(F)?F:Nw(F,W)?[F]:Lv(ds(F))}var lC=ba;function Dy(F,W,ne){var we=F.length;return ne=ne===n?we:ne,!W&&ne>=we?F:Cu(F,W,ne)}var _s=G_||function(F){return Cn.clearTimeout(F)};function cO(F,W){if(W)return F.slice();var ne=F.length,we=V_?V_(ne):new F.constructor(ne);return F.copy(we),we}function YT(F){var W=new F.constructor(F.byteLength);return new Ed(W).set(new Ed(F)),W}function cC(F,W){var ne=W?YT(F.buffer):F.buffer;return new F.constructor(ne,F.byteOffset,F.byteLength)}function tD(F){var W=new F.constructor(F.source,wu.exec(F));return W.lastIndex=F.lastIndex,W}function nD(F){return ih?so(ih.call(F)):{}}function Q_(F,W){var ne=W?YT(F.buffer):F.buffer;return new F.constructor(ne,F.byteOffset,F.length)}function fO(F,W){if(F!==W){var ne=F!==n,we=F===null,ze=F===F,Ze=_0(F),mt=W!==n,bt=W===null,Ht=W===W,$n=_0(W);if(!bt&&!$n&&!Ze&&F>W||Ze&&mt&&Ht&&!bt&&!$n||we&&mt&&Ht||!ne&&Ht||!ze)return 1;if(!we&&!Ze&&!$n&&F<W||$n&&ne&&ze&&!we&&!Ze||bt&&ne&&ze||!mt&&ze||!Ht)return-1}return 0}function fi(F,W,ne){for(var we=-1,ze=F.criteria,Ze=W.criteria,mt=ze.length,bt=ne.length;++we<mt;){var Ht=fO(ze[we],Ze[we]);if(Ht){if(we>=bt)return Ht;var $n=ne[we];return Ht*($n=="desc"?-1:1)}}return F.index-W.index}function J_(F,W,ne,we){for(var ze=-1,Ze=F.length,mt=ne.length,bt=-1,Ht=W.length,$n=Ys(Ze-mt,0),_t=Rt(Ht+$n),mn=!we;++bt<Ht;)_t[bt]=W[bt];for(;++ze<mt;)(mn||ze<Ze)&&(_t[ne[ze]]=F[ze]);for(;$n--;)_t[bt++]=F[ze++];return _t}function KT(F,W,ne,we){for(var ze=-1,Ze=F.length,mt=-1,bt=ne.length,Ht=-1,$n=W.length,_t=Ys(Ze-bt,0),mn=Rt(_t+$n),fr=!we;++ze<_t;)mn[ze]=F[ze];for(var ii=ze;++Ht<$n;)mn[ii+Ht]=W[Ht];for(;++mt<bt;)(fr||ze<Ze)&&(mn[ii+ne[mt]]=F[ze++]);return mn}function Af(F,W){var ne=-1,we=F.length;for(W||(W=Rt(we));++ne<we;)W[ne]=F[ne];return W}function np(F,W,ne,we){var ze=!ne;ne||(ne={});for(var Ze=-1,mt=W.length;++Ze<mt;){var bt=W[Ze],Ht=we?we(ne[bt],F[bt],bt,ne,F):n;Ht===n&&(Ht=F[bt]),ze?Ov(ne,bt,Ht):sc(ne,bt,Ht)}return ne}function dO(F,W){return np(F,Fw(F),W)}function XT(F,W){return np(F,By(F),W)}function Iy(F,W){return function(ne,we){var ze=xa(ne)?to:nC,Ze=W?W():{};return ze(ne,F,Ai(we,2),Ze)}}function Fy(F){return ba(function(W,ne){var we=-1,ze=ne.length,Ze=ze>1?ne[ze-1]:n,mt=ze>2?ne[2]:n;for(Ze=F.length>3&&typeof Ze=="function"?(ze--,Ze):n,mt&&kd(ne[0],ne[1],mt)&&(Ze=ze<3?n:Ze,ze=1),W=so(W);++we<ze;){var bt=ne[we];bt&&F(W,bt,we,Ze)}return W})}function hO(F,W){return function(ne,we){if(ne==null)return ne;if(!hg(ne))return F(ne,we);for(var ze=ne.length,Ze=W?ze:-1,mt=so(ne);(W?Ze--:++Ze<ze)&&we(mt[Ze],Ze,mt)!==!1;);return ne}}function gO(F){return function(W,ne,we){for(var ze=-1,Ze=so(W),mt=we(W),bt=mt.length;bt--;){var Ht=mt[F?bt:++ze];if(ne(Ze[Ht],Ht,Ze)===!1)break}return W}}function rD(F,W,ne){var we=W&w,ze=Pw(F);function Ze(){var mt=this&&this!==Cn&&this instanceof Ze?ze:F;return mt.apply(we?ne:this,arguments)}return Ze}function ZT(F){return function(W){W=ds(W);var ne=dl(W)?Sd(W):n,we=ne?ne[0]:W.charAt(0),ze=ne?Dy(ne,1).join(""):W.slice(1);return we[F]()+ze}}function Mw(F){return function(W){return Qh(kD(m9(W).replace(nn,"")),F,"")}}function Pw(F){return function(){var W=arguments;switch(W.length){case 0:return new F;case 1:return new F(W[0]);case 2:return new F(W[0],W[1]);case 3:return new F(W[0],W[1],W[2]);case 4:return new F(W[0],W[1],W[2],W[3]);case 5:return new F(W[0],W[1],W[2],W[3],W[4]);case 6:return new F(W[0],W[1],W[2],W[3],W[4],W[5]);case 7:return new F(W[0],W[1],W[2],W[3],W[4],W[5],W[6])}var ne=n1(F.prototype),we=F.apply(ne,W);return Ku(we)?we:ne}}function QT(F,W,ne){var we=Pw(F);function ze(){for(var Ze=arguments.length,mt=Rt(Ze),bt=Ze,Ht=Pv(ze);bt--;)mt[bt]=arguments[bt];var $n=Ze<3&&mt[0]!==Ht&&mt[Ze-1]!==Ht?[]:Ba(mt,Ht);if(Ze-=$n.length,Ze<ne)return fC(F,W,ex,ze.placeholder,n,mt,$n,n,n,ne-Ze);var _t=this&&this!==Cn&&this instanceof ze?we:F;return Fr(_t,this,mt)}return ze}function pO(F){return function(W,ne,we){var ze=so(W);if(!hg(W)){var Ze=Ai(ne,3);W=Jf(W),ne=function(bt){return Ze(ze[bt],bt,ze)}}var mt=F(W,ne,we);return mt>-1?ze[Ze?W[mt]:mt]:n}}function Ny(F){return rp(function(W){var ne=W.length,we=ne,ze=Yf.prototype.thru;for(F&&W.reverse();we--;){var Ze=W[we];if(typeof Ze!="function")throw new Bc(s);if(ze&&!mt&&f1(Ze)=="wrapper")var mt=new Yf([],!0)}for(we=mt?we:ne;++we<ne;){Ze=W[we];var bt=f1(Ze),Ht=bt=="wrapper"?ug(Ze):n;Ht&&xO(Ht[0])&&Ht[1]==(A|C|k|L)&&!Ht[4].length&&Ht[9]==1?mt=mt[f1(Ht[0])].apply(mt,Ht[3]):mt=Ze.length==1&&xO(Ze)?mt[bt]():mt.thru(Ze)}return function(){var $n=arguments,_t=$n[0];if(mt&&$n.length==1&&xa(_t))return mt.plant(_t).value();for(var mn=0,fr=ne?W[mn].apply(this,$n):_t;++mn<ne;)fr=W[mn].call(this,fr);return fr}})}function ex(F,W,ne,we,ze,Ze,mt,bt,Ht,$n){var _t=W&A,mn=W&w,fr=W&_,ii=W&(C|$),Dr=W&N,xi=fr?n:Pw(F);function Ti(){for(var ho=arguments.length,go=Rt(ho),Rd=ho;Rd--;)go[Rd]=arguments[Rd];if(ii)var vg=Pv(Ti),sp=mw(go,vg);if(we&&(go=J_(go,we,ze,ii)),Ze&&(go=KT(go,Ze,mt,ii)),ho-=sp,ii&&ho<$n){var yl=Ba(go,vg);return fC(F,W,ex,Ti.placeholder,ne,go,yl,bt,Ht,$n-ho)}var jv=mn?ne:this,Bv=fr?jv[F]:F;return ho=go.length,bt?go=oD(go,bt):Dr&&ho>1&&go.reverse(),_t&&Ht<ho&&(go.length=Ht),this&&this!==Cn&&this instanceof Ti&&(Bv=xi||Pw(Bv)),Bv.apply(jv,go)}return Ti}function vO(F,W){return function(ne,we){return QL(ne,F,W(we),{})}}function Gn(F,W){return function(ne,we){var ze;if(ne===n&&we===n)return W;if(ne!==n&&(ze=ne),we!==n){if(ze===n)return we;typeof ne=="string"||typeof we=="string"?(ne=jl(ne),we=jl(we)):(ne=l1(ne),we=l1(we)),ze=F(ne,we)}return ze}}function Po(F){return rp(function(W){return W=Zr(W,fl(Ai())),ba(function(ne){var we=this;return F(W,function(ze){return Fr(ze,we,ne)})})})}function Mv(F,W){W=W===n?" ":jl(W);var ne=W.length;if(ne<2)return ne?Eu(W,F):W;var we=Eu(W,ya(F/cu(W)));return dl(W)?Dy(Sd(we),0,F).join(""):we.slice(0,F)}function mO(F,W,ne,we){var ze=W&w,Ze=Pw(F);function mt(){for(var bt=-1,Ht=arguments.length,$n=-1,_t=we.length,mn=Rt(_t+Ht),fr=this&&this!==Cn&&this instanceof mt?Ze:F;++$n<_t;)mn[$n]=we[$n];for(;Ht--;)mn[$n++]=arguments[++bt];return Fr(fr,ze?ne:this,mn)}return mt}function iD(F){return function(W,ne,we){return we&&typeof we!="number"&&kd(W,ne,we)&&(ne=we=n),W=b1(W),ne===n?(ne=W,W=0):ne=b1(ne),we=we===n?W<ne?1:-1:b1(we),eD(W,ne,we,F)}}function sg(F){return function(W,ne){return typeof W=="string"&&typeof ne=="string"||(W=x0(W),ne=x0(ne)),F(W,ne)}}function fC(F,W,ne,we,ze,Ze,mt,bt,Ht,$n){var _t=W&C,mn=_t?mt:n,fr=_t?n:mt,ii=_t?Ze:n,Dr=_t?n:Ze;W|=_t?k:M,W&=~(_t?M:k),W&S||(W&=~(w|_));var xi=[F,W,ze,ii,mn,Dr,fr,bt,Ht,$n],Ti=ne.apply(n,xi);return xO(F)&&SO(Ti,xi),Ti.placeholder=we,CO(Ti,F,W)}function yO(F){var W=Ls[F];return function(ne,we){if(ne=x0(ne),we=we==null?0:Hc(Fa(we),292),we&&QE(ne)){var ze=(ds(ne)+"e").split("e"),Ze=W(ze[0]+"e"+(+ze[1]+we));return ze=(ds(Ze)+"e").split("e"),+(ze[0]+"e"+(+ze[1]-we))}return W(ne)}}var bO=e1&&1/ki(new e1([,-0]))[1]==Q?function(F){return new e1(F)}:Nn;function Lw(F){return function(W){var ne=lc(W);return ne==Ye?Jt(W):ne==tt?Wr(W):xy(W,F(W))}}function sh(F,W,ne,we,ze,Ze,mt,bt){var Ht=W&_;if(!Ht&&typeof F!="function")throw new Bc(s);var $n=we?we.length:0;if($n||(W&=~(k|M),we=ze=n),mt=mt===n?mt:Ys(Fa(mt),0),bt=bt===n?bt:Fa(bt),$n-=ze?ze.length:0,W&M){var _t=we,mn=ze;we=ze=n}var fr=Ht?n:ug(F),ii=[F,W,ne,we,ze,_t,mn,Ze,mt,bt];if(fr&&K7(ii,fr),F=ii[0],W=ii[1],ne=ii[2],we=ii[3],ze=ii[4],bt=ii[9]=ii[9]===n?Ht?0:F.length:Ys(ii[9]-$n,0),!bt&&W&(C|$)&&(W&=~(C|$)),!W||W==w)var Dr=rD(F,W,ne);else W==C||W==$?Dr=QT(F,W,bt):(W==k||W==(w|k))&&!ze.length?Dr=mO(F,W,ne,we):Dr=ex.apply(n,ii);var xi=fr?UT:SO;return CO(xi(Dr,ii),F,W)}function Dw(F,W,ne,we){return F===n||y1(F,tg[ne])&&!Fo.call(we,ne)?W:F}function zy(F,W,ne,we,ze,Ze){return Ku(F)&&Ku(W)&&(Ze.set(W,F),$w(F,W,n,zy,Ze),Ze.delete(W)),F}function wO(F){return jO(F)?n:F}function m0(F,W,ne,we,ze,Ze){var mt=ne&m,bt=F.length,Ht=W.length;if(bt!=Ht&&!(mt&&Ht>bt))return!1;var $n=Ze.get(F),_t=Ze.get(W);if($n&&_t)return $n==W&&_t==F;var mn=-1,fr=!0,ii=ne&y?new r1:n;for(Ze.set(F,W),Ze.set(W,F);++mn<bt;){var Dr=F[mn],xi=W[mn];if(we)var Ti=mt?we(xi,Dr,mn,W,F,Ze):we(Dr,xi,mn,F,W,Ze);if(Ti!==n){if(Ti)continue;fr=!1;break}if(ii){if(!vw(W,function(ho,go){if(!ge(ii,go)&&(Dr===ho||ze(Dr,ho,ne,we,Ze)))return ii.push(go)})){fr=!1;break}}else if(!(Dr===xi||ze(Dr,xi,ne,we,Ze))){fr=!1;break}}return Ze.delete(F),Ze.delete(W),fr}function tx(F,W,ne,we,ze,Ze,mt){switch(ne){case Ct:if(F.byteLength!=W.byteLength||F.byteOffset!=W.byteOffset)return!1;F=F.buffer,W=W.buffer;case yt:return!(F.byteLength!=W.byteLength||!Ze(new Ed(F),new Ed(W)));case Ie:case Ne:case ot:return y1(+F,+W);case Me:return F.name==W.name&&F.message==W.message;case Vt:case wt:return F==W+"";case Ye:var bt=Jt;case tt:var Ht=we&m;if(bt||(bt=ki),F.size!=W.size&&!Ht)return!1;var $n=mt.get(F);if($n)return $n==W;we|=y,mt.set(F,W);var _t=m0(bt(F),bt(W),we,ze,Ze,mt);return mt.delete(F),_t;case vt:if(ih)return ih.call(F)==ih.call(W)}return!1}function jy(F,W,ne,we,ze,Ze){var mt=ne&m,bt=c1(F),Ht=bt.length,$n=c1(W),_t=$n.length;if(Ht!=_t&&!mt)return!1;for(var mn=Ht;mn--;){var fr=bt[mn];if(!(mt?fr in W:Fo.call(W,fr)))return!1}var ii=Ze.get(F),Dr=Ze.get(W);if(ii&&Dr)return ii==W&&Dr==F;var xi=!0;Ze.set(F,W),Ze.set(W,F);for(var Ti=mt;++mn<Ht;){fr=bt[mn];var ho=F[fr],go=W[fr];if(we)var Rd=mt?we(go,ho,fr,W,F,Ze):we(ho,go,fr,F,W,Ze);if(!(Rd===n?ho===go||ze(ho,go,ne,we,Ze):Rd)){xi=!1;break}Ti||(Ti=fr=="constructor")}if(xi&&!Ti){var vg=F.constructor,sp=W.constructor;vg!=sp&&"constructor"in F&&"constructor"in W&&!(typeof vg=="function"&&vg instanceof vg&&typeof sp=="function"&&sp instanceof sp)&&(xi=!1)}return Ze.delete(F),Ze.delete(W),xi}function rp(F){return EO(Kf(F,n,Vy),F+"")}function c1(F){return aC(F,Jf,Fw)}function Iw(F){return aC(F,Ad,By)}var ug=Oy?function(F){return Oy.get(F)}:Nn;function f1(F){for(var W=F.name+"",ne=Jg[W],we=Fo.call(Jg,W)?ne.length:0;we--;){var ze=ne[we],Ze=ze.func;if(Ze==null||Ze==F)return ze.name}return W}function Pv(F){var W=Fo.call(qe,"placeholder")?qe:F;return W.placeholder}function Ai(){var F=qe.iteratee||hx;return F=F===hx?Ri:F,arguments.length?F(arguments[0],arguments[1]):F}function y0(F,W){var ne=F.__data__;return pC(W)?ne[typeof W=="string"?"string":"hash"]:ne.map}function dC(F){for(var W=Jf(F),ne=W.length;ne--;){var we=W[ne],ze=F[we];W[ne]=[we,ze,vC(ze)]}return W}function d1(F,W){var ne=$v(F,W);return JL(ne)?ne:n}function hC(F){var W=Fo.call(F,Cd),ne=F[Cd];try{F[Cd]=n;var we=!0}catch{}var ze=Ym.call(F);return we&&(W?F[Cd]=ne:delete F[Cd]),ze}var Fw=Zm?function(F){return F==null?[]:(F=so(F),oo(Zm(F),function(W){return Cy.call(F,W)}))}:LC,By=Zm?function(F){for(var W=[];F;)cl(W,Fw(F)),F=ns(F);return W}:LC,lc=Yu;(ww&&lc(new ww(new ArrayBuffer(1)))!=Ct||f0&&lc(new f0)!=Ye||Jm&&lc(Jm.resolve())!=at||e1&&lc(new e1)!=tt||t1&&lc(new t1)!=ft)&&(lc=function(F){var W=Yu(F),ne=W==st?F.constructor:n,we=ne?Uy(ne):"";if(we)switch(we){case _w:return Ct;case qa:return Ye;case sr:return at;case Ay:return tt;case h0:return ft}return W});function aD(F,W,ne){for(var we=-1,ze=ne.length;++we<ze;){var Ze=ne[we],mt=Ze.size;switch(Ze.type){case"drop":F+=mt;break;case"dropRight":W-=mt;break;case"take":W=Hc(W,F+mt);break;case"takeRight":F=Ys(F,W-mt);break}}return{start:F,end:W}}function h1(F){var W=F.match(Oa);return W?W[1].split(rc):[]}function Di(F,W,ne){W=v0(W,F);for(var we=-1,ze=W.length,Ze=!1;++we<ze;){var mt=lh(W[we]);if(!(Ze=F!=null&&ne(F,mt)))break;F=F[mt]}return Ze||++we!=ze?Ze:(ze=F==null?0:F.length,!!ze&&d4(ze)&&ip(mt,ze)&&(xa(F)||lx(F)))}function g1(F){var W=F.length,ne=new F.constructor(W);return W&&typeof F[0]=="string"&&Fo.call(F,"index")&&(ne.index=F.index,ne.input=F.input),ne}function _O(F){return typeof F.constructor=="function"&&!zw(F)?n1(ns(F)):{}}function Hy(F,W,ne){var we=F.constructor;switch(W){case yt:return YT(F);case Ie:case Ne:return new we(+F);case Ct:return cC(F,ne);case jt:case At:case Bt:case kt:case qt:case fn:case jn:case Mn:case Un:return Q_(F,ne);case Ye:return new we;case ot:case wt:return new we(F);case Vt:return tD(F);case tt:return new we;case vt:return nD(F)}}function JT(F,W){var ne=W.length;if(!ne)return F;var we=ne-1;return W[we]=(ne>1?"& ":"")+W[we],W=W.join(ne>2?", ":" "),F.replace(Il,`{
/* [wrapped with `+W+`] */
`)}function gC(F){return xa(F)||lx(F)||!!($y&&F&&F[$y])}function ip(F,W){var ne=typeof F;return W=W??ee,!!W&&(ne=="number"||ne!="symbol"&&Du.test(F))&&F>-1&&F%1==0&&F<W}function kd(F,W,ne){if(!Ku(ne))return!1;var we=typeof W;return(we=="number"?hg(ne)&&ip(W,ne.length):we=="string"&&W in ne)?y1(ne[W],F):!1}function Nw(F,W){if(xa(F))return!1;var ne=typeof F;return ne=="number"||ne=="symbol"||ne=="boolean"||F==null||_0(F)?!0:kr.test(F)||!Kn.test(F)||W!=null&&F in so(W)}function pC(F){var W=typeof F;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?F!=="__proto__":F===null}function xO(F){var W=f1(F),ne=qe[W];if(typeof ne!="function"||!(W in te.prototype))return!1;if(F===ne)return!0;var we=ug(ne);return!!we&&F===we[0]}function G7(F){return!!Xk&&Xk in F}var q7=Ey?Zf:Hl;function zw(F){var W=F&&F.constructor,ne=typeof W=="function"&&W.prototype||tg;return F===ne}function vC(F){return F===F&&!Ku(F)}function e4(F,W){return function(ne){return ne==null?!1:ne[F]===W&&(W!==n||F in so(ne))}}function Y7(F){var W=s4(F,function(we){return ne.size===d&&ne.clear(),we}),ne=W.cache;return W}function K7(F,W){var ne=F[1],we=W[1],ze=ne|we,Ze=ze<(w|_|A),mt=we==A&&ne==C||we==A&&ne==L&&F[7].length<=W[8]||we==(A|L)&&W[7].length<=W[8]&&ne==C;if(!(Ze||mt))return F;we&w&&(F[2]=W[2],ze|=ne&w?0:S);var bt=W[3];if(bt){var Ht=F[3];F[3]=Ht?J_(Ht,bt,W[4]):bt,F[4]=Ht?Ba(F[3],c):W[4]}return bt=W[5],bt&&(Ht=F[5],F[5]=Ht?KT(Ht,bt,W[6]):bt,F[6]=Ht?Ba(F[5],c):W[6]),bt=W[7],bt&&(F[7]=bt),we&A&&(F[8]=F[8]==null?W[8]:Hc(F[8],W[8])),F[9]==null&&(F[9]=W[9]),F[0]=W[0],F[1]=ze,F}function uh(F){var W=[];if(F!=null)for(var ne in so(F))W.push(ne);return W}function X7(F){return Ym.call(F)}function Kf(F,W,ne){return W=Ys(W===n?F.length-1:W,0),function(){for(var we=arguments,ze=-1,Ze=Ys(we.length-W,0),mt=Rt(Ze);++ze<Ze;)mt[ze]=we[W+ze];ze=-1;for(var bt=Rt(W+1);++ze<W;)bt[ze]=we[ze];return bt[W]=ne(mt),Fr(F,this,bt)}}function mC(F,W){return W.length<2?F:s1(F,Cu(W,0,-1))}function oD(F,W){for(var ne=F.length,we=Hc(W.length,ne),ze=Af(F);we--;){var Ze=W[we];F[we]=ip(Ze,ne)?ze[Ze]:n}return F}function p1(F,W){if(!(W==="constructor"&&typeof F[W]=="function")&&W!="__proto__")return F[W]}var SO=$O(UT),b0=c0||function(F,W){return Cn.setTimeout(F,W)},EO=$O(sC);function CO(F,W,ne){var we=W+"";return EO(F,JT(we,yC(h1(we),ne)))}function $O(F){var W=0,ne=0;return function(){var we=Qm(),ze=U-(we-ne);if(ne=we,ze>0){if(++W>=j)return arguments[0]}else W=0;return F.apply(n,arguments)}}function nx(F,W){var ne=-1,we=F.length,ze=we-1;for(W=W===n?we:W;++ne<W;){var Ze=Ow(ne,ze),mt=F[Ze];F[Ze]=F[ne],F[ne]=mt}return F.length=W,F}var Lv=Y7(function(F){var W=[];return F.charCodeAt(0)===46&&W.push(""),F.replace(ti,function(ne,we,ze,Ze){W.push(ze?Ze.replace(th,"$1"):we||ne)}),W});function lh(F){if(typeof F=="string"||_0(F))return F;var W=F+"";return W=="0"&&1/F==-Q?"-0":W}function Uy(F){if(F!=null){try{return qm.call(F)}catch{}try{return F+""}catch{}}return""}function yC(F,W){return Li(me,function(ne){var we="_."+ne[0];W&ne[1]&&!Io(F,we)&&F.push(we)}),F.sort()}function t4(F){if(F instanceof te)return F.clone();var W=new Yf(F.__wrapped__,F.__chain__);return W.__actions__=Af(F.__actions__),W.__index__=F.__index__,W.__values__=F.__values__,W}function kO(F,W,ne){(ne?kd(F,W,ne):W===n)?W=1:W=Ys(Fa(W),0);var we=F==null?0:F.length;if(!we||W<1)return[];for(var ze=0,Ze=0,mt=Rt(ya(we/W));ze<we;)mt[Ze++]=Cu(F,ze,ze+=W);return mt}function OO(F){for(var W=-1,ne=F==null?0:F.length,we=0,ze=[];++W<ne;){var Ze=F[W];Ze&&(ze[we++]=Ze)}return ze}function rx(){var F=arguments.length;if(!F)return[];for(var W=Rt(F-1),ne=arguments[0],we=F;we--;)W[we-1]=arguments[we];return cl(xa(ne)?Af(ne):[ne],uc(W,1))}var bC=ba(function(F,W){return hi(F)?Av(F,uc(W,1,hi,!0)):[]}),n4=ba(function(F,W){var ne=ch(W);return hi(ne)&&(ne=n),hi(F)?Av(F,uc(W,1,hi,!0),Ai(ne,2)):[]}),sD=ba(function(F,W){var ne=ch(W);return hi(ne)&&(ne=n),hi(F)?Av(F,uc(W,1,hi,!0),n,ne):[]});function AO(F,W,ne){var we=F==null?0:F.length;return we?(W=ne||W===n?1:Fa(W),Cu(F,W<0?0:W,we)):[]}function uD(F,W,ne){var we=F==null?0:F.length;return we?(W=ne||W===n?1:Fa(W),W=we-W,Cu(F,0,W<0?0:W)):[]}function lD(F,W){return F&&F.length?Tw(F,Ai(W,3),!0,!0):[]}function cD(F,W){return F&&F.length?Tw(F,Ai(W,3),!0):[]}function r4(F,W,ne,we){var ze=F==null?0:F.length;return ze?(ne&&typeof ne!="number"&&kd(F,W,ne)&&(ne=0,we=ze),KL(F,W,ne,we)):[]}function v1(F,W,ne){var we=F==null?0:F.length;if(!we)return-1;var ze=ne==null?0:Fa(ne);return ze<0&&(ze=Ys(we+ze,0)),Um(F,Ai(W,3),ze)}function wC(F,W,ne){var we=F==null?0:F.length;if(!we)return-1;var ze=we-1;return ne!==n&&(ze=Fa(ne),ze=ne<0?Ys(we+ze,0):Hc(ze,we-1)),Um(F,Ai(W,3),ze,!0)}function Vy(F){var W=F==null?0:F.length;return W?uc(F,1):[]}function Wy(F){var W=F==null?0:F.length;return W?uc(F,Q):[]}function w0(F,W){var ne=F==null?0:F.length;return ne?(W=W===n?1:Fa(W),uc(F,W)):[]}function _C(F){for(var W=-1,ne=F==null?0:F.length,we={};++W<ne;){var ze=F[W];we[ze[0]]=ze[1]}return we}function RO(F){return F&&F.length?F[0]:n}function ix(F,W,ne){var we=F==null?0:F.length;if(!we)return-1;var ze=ne==null?0:Fa(ne);return ze<0&&(ze=Ys(we+ze,0)),a0(F,W,ze)}function xC(F){var W=F==null?0:F.length;return W?Cu(F,0,-1):[]}var TO=ba(function(F){var W=Zr(F,lO);return W.length&&W[0]===F[0]?nt(W):[]}),MO=ba(function(F){var W=ch(F),ne=Zr(F,lO);return W===ch(ne)?W=n:ne.pop(),ne.length&&ne[0]===F[0]?nt(ne,Ai(W,2)):[]}),jw=ba(function(F){var W=ch(F),ne=Zr(F,lO);return W=typeof W=="function"?W:n,W&&ne.pop(),ne.length&&ne[0]===F[0]?nt(ne,n,W):[]});function ax(F,W){return F==null?"":Qg.call(F,W)}function ch(F){var W=F==null?0:F.length;return W?F[W-1]:n}function lg(F,W,ne){var we=F==null?0:F.length;if(!we)return-1;var ze=we;return ne!==n&&(ze=Fa(ne),ze=ze<0?Ys(we+ze,0):Hc(ze,we-1)),W===W?RT(F,W,ze):Um(F,YE,ze,!0)}function pl(F,W){return F&&F.length?NT(F,Fa(W)):n}var SC=ba(PO);function PO(F,W){return F&&F.length&&W&&W.length?Tv(F,W):F}function EC(F,W,ne){return F&&F.length&&W&&W.length?Tv(F,W,Ai(ne,2)):F}function LO(F,W,ne){return F&&F.length&&W&&W.length?Tv(F,W,n,ne):F}var DO=rp(function(F,W){var ne=F==null?0:F.length,we=Ew(F,W);return oC(F,Zr(W,function(ze){return ip(ze,ne)?+ze:ze}).sort(fO)),we});function Bw(F,W){var ne=[];if(!(F&&F.length))return ne;var we=-1,ze=[],Ze=F.length;for(W=Ai(W,3);++we<Ze;){var mt=F[we];W(mt,we,F)&&(ne.push(mt),ze.push(we))}return oC(F,ze),ne}function Hw(F){return F==null?F:gl.call(F)}function CC(F,W,ne){var we=F==null?0:F.length;return we?(ne&&typeof ne!="number"&&kd(F,W,ne)?(W=0,ne=we):(W=W==null?0:Fa(W),ne=ne===n?we:Fa(ne)),Cu(F,W,ne)):[]}function fD(F,W){return uC(F,W)}function dD(F,W,ne){return sO(F,W,Ai(ne,2))}function i4(F,W){var ne=F==null?0:F.length;if(ne){var we=uC(F,W);if(we<ne&&y1(F[we],W))return we}return-1}function m1(F,W){return uC(F,W,!0)}function $C(F,W,ne){return sO(F,W,Ai(ne,2),!0)}function G(F,W){var ne=F==null?0:F.length;if(ne){var we=uC(F,W,!0)-1;if(y1(F[we],W))return we}return-1}function X(F){return F&&F.length?Aw(F):[]}function ae(F,W){return F&&F.length?Aw(F,Ai(W,2)):[]}function se(F){var W=F==null?0:F.length;return W?Cu(F,1,W):[]}function he(F,W,ne){return F&&F.length?(W=ne||W===n?1:Fa(W),Cu(F,0,W<0?0:W)):[]}function Fe(F,W,ne){var we=F==null?0:F.length;return we?(W=ne||W===n?1:Fa(W),W=we-W,Cu(F,W<0?0:W,we)):[]}function Te(F,W){return F&&F.length?Tw(F,Ai(W,3),!1,!0):[]}function Ke(F,W){return F&&F.length?Tw(F,Ai(W,3)):[]}var Qe=ba(function(F){return Of(uc(F,1,hi,!0))}),et=ba(function(F){var W=ch(F);return hi(W)&&(W=n),Of(uc(F,1,hi,!0),Ai(W,2))}),lt=ba(function(F){var W=ch(F);return W=typeof W=="function"?W:n,Of(uc(F,1,hi,!0),n,W)});function zt(F){return F&&F.length?Of(F):[]}function It(F,W){return F&&F.length?Of(F,Ai(W,2)):[]}function Kt(F,W){return W=typeof W=="function"?W:n,F&&F.length?Of(F,n,W):[]}function pn(F){if(!(F&&F.length))return[];var W=0;return F=oo(F,function(ne){if(hi(ne))return W=Ys(ne.length,W),!0}),Jh(W,function(ne){return Zr(F,li(ne))})}function Bn(F,W){if(!(F&&F.length))return[];var ne=pn(F);return W==null?ne:Zr(ne,function(we){return Fr(W,n,we)})}var Nr=ba(function(F,W){return hi(F)?Av(F,W):[]}),Cr=ba(function(F){return GT(oo(F,hi))}),Lr=ba(function(F){var W=ch(F);return hi(W)&&(W=n),GT(oo(F,hi),Ai(W,2))}),Rr=ba(function(F){var W=ch(F);return W=typeof W=="function"?W:n,GT(oo(F,hi),n,W)}),Sr=ba(pn);function as(F,W){return qT(F||[],W||[],sc)}function xs(F,W){return qT(F||[],W||[],Z_)}var cc=ba(function(F){var W=F.length,ne=W>1?F[W-1]:n;return ne=typeof ne=="function"?(F.pop(),ne):n,Bn(F,ne)});function cg(F){var W=qe(F);return W.__chain__=!0,W}function fg(F,W){return W(F),F}function fc(F,W){return W(F)}var os=rp(function(F){var W=F.length,ne=W?F[0]:0,we=this.__wrapped__,ze=function(Ze){return Ew(Ze,F)};return W>1||this.__actions__.length||!(we instanceof te)||!ip(ne)?this.thru(ze):(we=we.slice(ne,+ne+(W?1:0)),we.__actions__.push({func:fc,args:[ze],thisArg:n}),new Yf(we,this.__chain__).thru(function(Ze){return W&&!Ze.length&&Ze.push(n),Ze}))});function Dv(){return cg(this)}function a4(){return new Yf(this.value(),this.__chain__)}function kC(){this.__values__===n&&(this.__values__=xD(this.value()));var F=this.__index__>=this.__values__.length,W=F?n:this.__values__[this.__index__++];return{done:F,value:W}}function vl(){return this}function Gy(F){for(var W,ne=this;ne instanceof Ry;){var we=t4(ne);we.__index__=0,we.__values__=n,W?ze.__wrapped__=we:W=we;var ze=we;ne=ne.__wrapped__}return ze.__wrapped__=F,W}function fs(){var F=this.__wrapped__;if(F instanceof te){var W=F;return this.__actions__.length&&(W=new te(this)),W=W.reverse(),W.__actions__.push({func:fc,args:[Hw],thisArg:n}),new Yf(W,this.__chain__)}return this.thru(Hw)}function hD(){return uO(this.__wrapped__,this.__actions__)}var ox=Iy(function(F,W,ne){Fo.call(F,ne)?++F[ne]:Ov(F,ne,1)});function gD(F,W,ne){var we=xa(F)?Vr:Rv;return ne&&kd(F,W,ne)&&(W=n),we(F,Ai(W,3))}function Z7(F,W){var ne=xa(F)?oo:XL;return ne(F,Ai(W,3))}var rY=pO(v1),sx=pO(wC);function iY(F,W){return uc(Xf(F,W),1)}function aY(F,W){return uc(Xf(F,W),Q)}function Kce(F,W,ne){return ne=ne===n?1:Fa(ne),uc(Xf(F,W),ne)}function qy(F,W){var ne=xa(F)?Li:a1;return ne(F,Ai(W,3))}function Q7(F,W){var ne=xa(F)?ll:qu;return ne(F,Ai(W,3))}var IO=Iy(function(F,W,ne){Fo.call(F,ne)?F[ne].push(W):Ov(F,ne,[W])});function Jn(F,W,ne,we){F=hg(F)?F:ni(F),ne=ne&&!we?Fa(ne):0;var ze=F.length;return ne<0&&(ne=Ys(ze+ne,0)),g4(F)?ne<=ze&&F.indexOf(W,ne)>-1:!!ze&&a0(F,W,ne)>-1}var Bl=ba(function(F,W,ne){var we=-1,ze=typeof W=="function",Ze=hg(F)?Rt(F.length):[];return a1(F,function(mt){Ze[++we]=ze?Fr(W,mt,ne):kf(mt,W,ne)}),Ze}),oY=Iy(function(F,W,ne){Ov(F,ne,W)});function Xf(F,W){var ne=xa(F)?Zr:IT;return ne(F,Ai(W,3))}function J7(F,W,ne,we){return F==null?[]:(xa(W)||(W=W==null?[]:[W]),ne=we?n:ne,xa(ne)||(ne=ne==null?[]:[ne]),kw(F,W,ne))}var Xce=Iy(function(F,W,ne){F[ne?0:1].push(W)},function(){return[[],[]]});function Zce(F,W,ne){var we=xa(F)?Qh:o0,ze=arguments.length<3;return we(F,Ai(W,4),ne,ze,a1)}function OC(F,W,ne){var we=xa(F)?xd:o0,ze=arguments.length<3;return we(F,Ai(W,4),ne,ze,qu)}function dg(F,W){var ne=xa(F)?oo:XL;return ne(F,u4(Ai(W,3)))}function pD(F){var W=xa(F)?eO:BT;return W(F)}function Qce(F,W,ne){(ne?kd(F,W,ne):W===n)?W=1:W=Fa(W);var we=xa(F)?zr:HT;return we(F,W)}function sY(F){var W=xa(F)?Lt:VT;return W(F)}function vD(F){if(F==null)return 0;if(hg(F))return g4(F)?cu(F):F.length;var W=lc(F);return W==Ye||W==tt?F.size:DT(F).length}function uY(F,W,ne){var we=xa(F)?vw:WT;return ne&&kd(F,W,ne)&&(W=n),we(F,Ai(W,3))}var lY=ba(function(F,W){if(F==null)return[];var ne=W.length;return ne>1&&kd(F,W[0],W[1])?W=[]:ne>2&&kd(W[0],W[1],W[2])&&(W=[W[0]]),kw(F,uc(W,1),[])}),o4=kv||function(){return Cn.Date.now()};function cY(F,W){if(typeof W!="function")throw new Bc(s);return F=Fa(F),function(){if(--F<1)return W.apply(this,arguments)}}function fh(F,W,ne){return W=ne?n:W,W=F&&W==null?F.length:W,sh(F,A,n,n,n,n,W)}function Od(F,W){var ne;if(typeof W!="function")throw new Bc(s);return F=Fa(F),function(){return--F>0&&(ne=W.apply(this,arguments)),F<=1&&(W=n),ne}}var Ha=ba(function(F,W,ne){var we=w;if(ne.length){var ze=Ba(ne,Pv(Ha));we|=k}return sh(F,we,W,ne,ze)}),FO=ba(function(F,W,ne){var we=w|_;if(ne.length){var ze=Ba(ne,Pv(FO));we|=k}return sh(W,we,F,ne,ze)});function NO(F,W,ne){W=ne?n:W;var we=sh(F,C,n,n,n,n,n,W);return we.placeholder=NO.placeholder,we}function Uw(F,W,ne){W=ne?n:W;var we=sh(F,$,n,n,n,n,n,W);return we.placeholder=Uw.placeholder,we}function mD(F,W,ne){var we,ze,Ze,mt,bt,Ht,$n=0,_t=!1,mn=!1,fr=!0;if(typeof F!="function")throw new Bc(s);W=x0(W)||0,Ku(ne)&&(_t=!!ne.leading,mn="maxWait"in ne,Ze=mn?Ys(x0(ne.maxWait)||0,W):Ze,fr="trailing"in ne?!!ne.trailing:fr);function ii(yl){var jv=we,Bv=ze;return we=ze=n,$n=yl,mt=F.apply(Bv,jv),mt}function Dr(yl){return $n=yl,bt=b0(ho,W),_t?ii(yl):mt}function xi(yl){var jv=yl-Ht,Bv=yl-$n,A9=W-jv;return mn?Hc(A9,Ze-Bv):A9}function Ti(yl){var jv=yl-Ht,Bv=yl-$n;return Ht===n||jv>=W||jv<0||mn&&Bv>=Ze}function ho(){var yl=o4();if(Ti(yl))return go(yl);bt=b0(ho,xi(yl))}function go(yl){return bt=n,fr&&we?ii(yl):(we=ze=n,mt)}function Rd(){bt!==n&&_s(bt),$n=0,we=Ht=ze=bt=n}function vg(){return bt===n?mt:go(o4())}function sp(){var yl=o4(),jv=Ti(yl);if(we=arguments,ze=this,Ht=yl,jv){if(bt===n)return Dr(Ht);if(mn)return _s(bt),bt=b0(ho,W),ii(Ht)}return bt===n&&(bt=b0(ho,W)),mt}return sp.cancel=Rd,sp.flush=vg,sp}var fY=ba(function(F,W){return nO(F,1,W)}),e9=ba(function(F,W,ne){return nO(F,x0(W)||0,ne)});function dY(F){return sh(F,N)}function s4(F,W){if(typeof F!="function"||W!=null&&typeof W!="function")throw new Bc(s);var ne=function(){var we=arguments,ze=W?W.apply(this,we):we[0],Ze=ne.cache;if(Ze.has(ze))return Ze.get(ze);var mt=F.apply(this,we);return ne.cache=Ze.set(ze,mt)||Ze,mt};return ne.cache=new(s4.Cache||rs),ne}s4.Cache=rs;function u4(F){if(typeof F!="function")throw new Bc(s);return function(){var W=arguments;switch(W.length){case 0:return!F.call(this);case 1:return!F.call(this,W[0]);case 2:return!F.call(this,W[0],W[1]);case 3:return!F.call(this,W[0],W[1],W[2])}return!F.apply(this,W)}}function t9(F){return Od(2,F)}var n9=lC(function(F,W){W=W.length==1&&xa(W[0])?Zr(W[0],fl(Ai())):Zr(uc(W,1),fl(Ai()));var ne=W.length;return ba(function(we){for(var ze=-1,Ze=Hc(we.length,ne);++ze<Ze;)we[ze]=W[ze].call(this,we[ze]);return Fr(F,this,we)})}),ux=ba(function(F,W){var ne=Ba(W,Pv(ux));return sh(F,k,n,W,ne)}),dh=ba(function(F,W){var ne=Ba(W,Pv(dh));return sh(F,M,n,W,ne)}),hY=rp(function(F,W){return sh(F,L,n,n,n,W)});function Jce(F,W){if(typeof F!="function")throw new Bc(s);return W=W===n?W:Fa(W),ba(F,W)}function Rf(F,W){if(typeof F!="function")throw new Bc(s);return W=W==null?0:Ys(Fa(W),0),ba(function(ne){var we=ne[W],ze=Dy(ne,0,W);return we&&cl(ze,we),Fr(F,this,ze)})}function efe(F,W,ne){var we=!0,ze=!0;if(typeof F!="function")throw new Bc(s);return Ku(ne)&&(we="leading"in ne?!!ne.leading:we,ze="trailing"in ne?!!ne.trailing:ze),mD(F,W,{leading:we,maxWait:W,trailing:ze})}function gY(F){return fh(F,1)}function pY(F,W){return ux(og(W),F)}function Fs(){if(!arguments.length)return[];var F=arguments[0];return xa(F)?F:[F]}function Zt(F){return rg(F,v)}function Yy(F,W){return W=typeof W=="function"?W:n,rg(F,v,W)}function l4(F){return rg(F,h|v)}function tfe(F,W){return W=typeof W=="function"?W:n,rg(F,h|v,W)}function nfe(F,W){return W==null||tO(F,W,Jf(W))}function y1(F,W){return F===W||F!==F&&W!==W}var yD=sg(rO),bD=sg(function(F,W){return F>=W}),lx=X_(function(){return arguments}())?X_:function(F){return ml(F)&&Fo.call(F,"callee")&&!Cy.call(F,"callee")},xa=Rt.isArray,vY=Er?fl(Er):iO;function hg(F){return F!=null&&d4(F.length)&&!Zf(F)}function hi(F){return ml(F)&&hg(F)}function mY(F){return F===!0||F===!1||ml(F)&&Yu(F)==Ie}var Ky=ZE||Hl,c4=pr?fl(pr):Py;function rfe(F){return ml(F)&&F.nodeType===1&&!jO(F)}function cx(F){if(F==null)return!0;if(hg(F)&&(xa(F)||typeof F=="string"||typeof F.splice=="function"||Ky(F)||Ns(F)||lx(F)))return!F.length;var W=lc(F);if(W==Ye||W==tt)return!F.size;if(zw(F))return!DT(F).length;for(var ne in F)if(Fo.call(F,ne))return!1;return!0}function hh(F,W){return tp(F,W)}function r9(F,W,ne){ne=typeof ne=="function"?ne:n;var we=ne?ne(F,W):n;return we===n?tp(F,W,n,ne):!!we}function f4(F){if(!ml(F))return!1;var W=Yu(F);return W==Me||W==We||typeof F.message=="string"&&typeof F.name=="string"&&!jO(F)}function ife(F){return typeof F=="number"&&QE(F)}function Zf(F){if(!Ku(F))return!1;var W=Yu(F);return W==He||W==gt||W==xe||W==St}function i9(F){return typeof F=="number"&&F==Fa(F)}function d4(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=ee}function Ku(F){var W=typeof F;return F!=null&&(W=="object"||W=="function")}function ml(F){return F!=null&&typeof F=="object"}var Qf=vr?fl(vr):W7;function afe(F,W){return F===W||LT(F,W,dC(W))}function ofe(F,W,ne){return ne=typeof ne=="function"?ne:n,LT(F,W,dC(W),ne)}function Wc(F){return zO(F)&&F!=+F}function sfe(F){if(q7(F))throw new na(a);return JL(F)}function wD(F){return F===null}function _D(F){return F==null}function zO(F){return typeof F=="number"||ml(F)&&Yu(F)==ot}function jO(F){if(!ml(F)||Yu(F)!=st)return!1;var W=ns(F);if(W===null)return!0;var ne=Fo.call(W,"constructor")&&W.constructor;return typeof ne=="function"&&ne instanceof ne&&qm.call(ne)==XE}var AC=ri?fl(ri):rn;function ufe(F){return i9(F)&&F>=-ee&&F<=ee}var h4=ua?fl(ua):oO;function g4(F){return typeof F=="string"||!xa(F)&&ml(F)&&Yu(F)==wt}function _0(F){return typeof F=="symbol"||ml(F)&&Yu(F)==vt}var Ns=Ga?fl(Ga):Is;function dc(F){return F===n}function gg(F){return ml(F)&&lc(F)==ft}function a9(F){return ml(F)&&Yu(F)==Mt}var BO=sg(ag),p4=sg(function(F,W){return F<=W});function xD(F){if(!F)return[];if(hg(F))return g4(F)?Sd(F):Af(F);if(Km&&F[Km])return pt(F[Km]());var W=lc(F),ne=W==Ye?Jt:W==tt?ki:ni;return ne(F)}function b1(F){if(!F)return F===0?F:0;if(F=x0(F),F===Q||F===-Q){var W=F<0?-1:1;return W*oe}return F===F?F:0}function Fa(F){var W=b1(F),ne=W%1;return W===W?ne?W-ne:W:0}function RC(F){return F?i1(Fa(F),0,ve):0}function x0(F){if(typeof F=="number")return F;if(_0(F))return ue;if(Ku(F)){var W=typeof F.valueOf=="function"?F.valueOf():F;F=Ku(W)?W+"":W}if(typeof F!="string")return F===0?F:+F;F=Sy(F);var ne=ic.test(F);return ne||Fl.test(F)?Yn(F.slice(2),ne?2:8):qs.test(F)?ue:+F}function o9(F){return np(F,Ad(F))}function yY(F){return F?i1(Fa(F),-ee,ee):F===0?F:0}function ds(F){return F==null?"":jl(F)}var s9=Fy(function(F,W){if(zw(W)||hg(W)){np(W,Jf(W),F);return}for(var ne in W)Fo.call(W,ne)&&sc(F,ne,W[ne])}),u9=Fy(function(F,W){np(W,Ad(W),F)}),TC=Fy(function(F,W,ne,we){np(W,Ad(W),F,we)}),l9=Fy(function(F,W,ne,we){np(W,Jf(W),F,we)}),bY=rp(Ew);function wY(F,W){var ne=n1(F);return W==null?ne:is(ne,W)}var HO=ba(function(F,W){F=so(F);var ne=-1,we=W.length,ze=we>2?W[2]:n;for(ze&&kd(W[0],W[1],ze)&&(we=1);++ne<we;)for(var Ze=W[ne],mt=Ad(Ze),bt=-1,Ht=mt.length;++bt<Ht;){var $n=mt[bt],_t=F[$n];(_t===n||y1(_t,tg[$n])&&!Fo.call(F,$n))&&(F[$n]=Ze[$n])}return F}),Iv=ba(function(F){return F.push(n,zy),Fr(ra,n,F)});function lfe(F,W){return GE(F,Ai(W,3),ep)}function v4(F,W){return GE(F,Ai(W,3),o1)}function SD(F,W){return F==null?F:K_(F,Ai(W,3),Ad)}function fx(F,W){return F==null?F:Vc(F,Ai(W,3),Ad)}function _Y(F,W){return F&&ep(F,Ai(W,3))}function xY(F,W){return F&&o1(F,Ai(W,3))}function SY(F){return F==null?[]:oh(F,Jf(F))}function EY(F){return F==null?[]:oh(F,Ad(F))}function ED(F,W,ne){var we=F==null?n:s1(F,W);return we===n?ne:we}function pg(F,W){return F!=null&&Di(F,W,ZL)}function m4(F,W){return F!=null&&Di(F,W,My)}var c9=vO(function(F,W,ne){W!=null&&typeof W.toString!="function"&&(W=Ym.call(W)),F[W]=ne},VO(ap)),f9=vO(function(F,W,ne){W!=null&&typeof W.toString!="function"&&(W=Ym.call(W)),Fo.call(F,W)?F[W].push(ne):F[W]=[ne]},Ai),d9=ba(kf);function Jf(F){return hg(F)?xw(F):DT(F)}function Ad(F){return hg(F)?xw(F,!0):ig(F)}function Qr(F,W){var ne={};return W=Ai(W,3),ep(F,function(we,ze,Ze){Ov(ne,W(we,ze,Ze),we)}),ne}function ci(F,W){var ne={};return W=Ai(W,3),ep(F,function(we,ze,Ze){Ov(ne,ze,W(we,ze,Ze))}),ne}var dx=Fy(function(F,W,ne){$w(F,W,ne)}),ra=Fy(function(F,W,ne,we){$w(F,W,ne,we)}),Fv=rp(function(F,W){var ne={};if(F==null)return ne;var we=!1;W=Zr(W,function(Ze){return Ze=v0(Ze,F),we||(we=Ze.length>1),Ze}),np(F,Iw(F),ne),we&&(ne=rg(ne,h|p|v,wO));for(var ze=W.length;ze--;)p0(ne,W[ze]);return ne});function cfe(F,W){return w1(F,u4(Ai(W)))}var ffe=rp(function(F,W){return F==null?{}:u1(F,W)});function w1(F,W){if(F==null)return{};var ne=Zr(Iw(F),function(we){return[we]});return W=Ai(W),zT(F,ne,function(we,ze){return W(we,ze[0])})}function dfe(F,W,ne){W=v0(W,F);var we=-1,ze=W.length;for(ze||(ze=1,F=n);++we<ze;){var Ze=F==null?n:F[lh(W[we])];Ze===n&&(we=ze,Ze=ne),F=Zf(Ze)?Ze.call(F):Ze}return F}function h9(F,W,ne){return F==null?F:Z_(F,W,ne)}function CY(F,W,ne,we){return we=typeof we=="function"?we:n,F==null?F:Z_(F,W,ne,we)}var g9=Lw(Jf),p9=Lw(Ad);function hfe(F,W,ne){var we=xa(F),ze=we||Ky(F)||Ns(F);if(W=Ai(W,4),ne==null){var Ze=F&&F.constructor;ze?ne=we?new Ze:[]:Ku(F)?ne=Zf(Ze)?n1(ns(F)):{}:ne={}}return(ze?Li:ep)(F,function(mt,bt,Ht){return W(ne,mt,bt,Ht)}),ne}function Vw(F,W){return F==null?!0:p0(F,W)}function gfe(F,W,ne){return F==null?F:Rw(F,W,og(ne))}function pfe(F,W,ne,we){return we=typeof we=="function"?we:n,F==null?F:Rw(F,W,og(ne),we)}function ni(F){return F==null?[]:Vm(F,Jf(F))}function v9(F){return F==null?[]:Vm(F,Ad(F))}function y4(F,W,ne){return ne===n&&(ne=W,W=n),ne!==n&&(ne=x0(ne),ne=ne===ne?ne:0),W!==n&&(W=x0(W),W=W===W?W:0),i1(x0(F),W,ne)}function vfe(F,W,ne){return W=b1(W),ne===n?(ne=W,W=0):ne=b1(ne),F=x0(F),PT(F,W,ne)}function Xy(F,W,ne){if(ne&&typeof ne!="boolean"&&kd(F,W,ne)&&(W=ne=n),ne===n&&(typeof W=="boolean"?(ne=W,W=n):typeof F=="boolean"&&(ne=F,F=n)),F===n&&W===n?(F=0,W=1):(F=b1(F),W===n?(W=F,F=0):W=b1(W)),F>W){var we=F;F=W,W=we}if(ne||F%1||W%1){var ze=Gi();return Hc(F+ze*(W-F+In("1e-"+((ze+"").length-1))),W)}return Ow(F,W)}var b4=Mw(function(F,W,ne){return W=W.toLowerCase(),F+(ne?w4(W):W)});function w4(F){return MC(ds(F).toLowerCase())}function m9(F){return F=ds(F),F&&F.replace(Gu,Wm).replace(Sn,"")}function y9(F,W,ne){F=ds(F),W=jl(W);var we=F.length;ne=ne===n?we:i1(Fa(ne),0,we);var ze=ne;return ne-=W.length,ne>=0&&F.slice(ne,ze)==W}function $Y(F){return F=ds(F),F&&xo.test(F)?F.replace($i,re):F}function kY(F){return F=ds(F),F&&Yi.test(F)?F.replace(Ji,"\\$&"):F}var OY=Mw(function(F,W,ne){return F+(ne?"-":"")+W.toLowerCase()}),AY=Mw(function(F,W,ne){return F+(ne?" ":"")+W.toLowerCase()}),mfe=ZT("toLowerCase");function b9(F,W,ne){F=ds(F),W=Fa(W);var we=W?cu(F):0;if(!W||we>=W)return F;var ze=(W-we)/2;return Mv(ky(ze),ne)+F+Mv(ya(ze),ne)}function CD(F,W,ne){F=ds(F),W=Fa(W);var we=W?cu(F):0;return W&&we<W?F+Mv(W-we,ne):F}function Nv(F,W,ne){F=ds(F),W=Fa(W);var we=W?cu(F):0;return W&&we<W?Mv(W-we,ne)+F:F}function w9(F,W,ne){return ne||W==null?W=0:W&&(W=+W),Y_(ds(F).replace(ka,""),W||0)}function yfe(F,W,ne){return(ne?kd(F,W,ne):W===n)?W=1:W=Fa(W),Eu(ds(F),W)}function $D(){var F=arguments,W=ds(F[0]);return F.length<3?W:W.replace(F[1],F[2])}var bfe=Mw(function(F,W,ne){return F+(ne?"_":"")+W.toLowerCase()});function _9(F,W,ne){return ne&&typeof ne!="number"&&kd(F,W,ne)&&(W=ne=n),ne=ne===n?ve:ne>>>0,ne?(F=ds(F),F&&(typeof W=="string"||W!=null&&!AC(W))&&(W=jl(W),!W&&dl(F))?Dy(Sd(F),0,ne):F.split(W,ne)):[]}var wfe=Mw(function(F,W,ne){return F+(ne?" ":"")+MC(W)});function RY(F,W,ne){return F=ds(F),ne=ne==null?0:i1(Fa(ne),0,F.length),W=jl(W),F.slice(ne,ne+W.length)==W}function _fe(F,W,ne){var we=qe.templateSettings;ne&&kd(F,W,ne)&&(W=n),F=ds(F),W=TC({},W,we,Dw);var ze=TC({},W.imports,we.imports,Dw),Ze=Jf(ze),mt=Vm(ze,Ze),bt,Ht,$n=0,_t=W.interpolate||Uf,mn="__p += '",fr=Mo((W.escape||Uf).source+"|"+_t.source+"|"+(_t===On?Gh:Uf).source+"|"+(W.evaluate||Uf).source+"|$","g"),ii="//# sourceURL="+(Fo.call(W,"sourceURL")?(W.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cr+"]")+`
`;F.replace(fr,function(Ti,ho,go,Rd,vg,sp){return go||(go=Rd),mn+=F.slice($n,sp).replace(Nl,nr),ho&&(bt=!0,mn+=`' +
__e(`+ho+`) +
'`),vg&&(Ht=!0,mn+=`';
`+vg+`;
__p += '`),go&&(mn+=`' +
((__t = (`+go+`)) == null ? '' : __t) +
'`),$n=sp+Ti.length,Ti}),mn+=`';
`;var Dr=Fo.call(W,"variable")&&W.variable;if(!Dr)mn=`with (obj) {
`+mn+`
}
`;else if(Hf.test(Dr))throw new na(u);mn=(Ht?mn.replace(Kr,""):mn).replace(Wi,"$1").replace(sa,"$1;"),mn="function("+(Dr||"obj")+`) {
`+(Dr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(bt?", __e = _.escape":"")+(Ht?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+mn+`return __p
}`;var xi=S9(function(){return So(Ze,ii+"return "+mn).apply(n,mt)});if(xi.source=mn,f4(xi))throw xi;return xi}function TY(F){return ds(F).toLowerCase()}function MY(F){return ds(F).toUpperCase()}function Tf(F,W,ne){if(F=ds(F),F&&(ne||W===n))return Sy(F);if(!F||!(W=jl(W)))return F;var we=Sd(F),ze=Sd(W),Ze=zl(we,ze),mt=z_(we,ze)+1;return Dy(we,Ze,mt).join("")}function PY(F,W,ne){if(F=ds(F),F&&(ne||W===n))return F.slice(0,yw(F)+1);if(!F||!(W=jl(W)))return F;var we=Sd(F),ze=z_(we,Sd(W))+1;return Dy(we,0,ze).join("")}function UO(F,W,ne){if(F=ds(F),F&&(ne||W===n))return F.replace(ka,"");if(!F||!(W=jl(W)))return F;var we=Sd(F),ze=zl(we,Sd(W));return Dy(we,ze).join("")}function _1(F,W){var ne=R,we=D;if(Ku(W)){var ze="separator"in W?W.separator:ze;ne="length"in W?Fa(W.length):ne,we="omission"in W?jl(W.omission):we}F=ds(F);var Ze=F.length;if(dl(F)){var mt=Sd(F);Ze=mt.length}if(ne>=Ze)return F;var bt=ne-cu(we);if(bt<1)return we;var Ht=mt?Dy(mt,0,bt).join(""):F.slice(0,bt);if(ze===n)return Ht+we;if(mt&&(bt+=Ht.length-bt),AC(ze)){if(F.slice(bt).search(ze)){var $n,_t=Ht;for(ze.global||(ze=Mo(ze.source,ds(wu.exec(ze))+"g")),ze.lastIndex=0;$n=ze.exec(_t);)var mn=$n.index;Ht=Ht.slice(0,mn===n?bt:mn)}}else if(F.indexOf(jl(ze),bt)!=bt){var fr=Ht.lastIndexOf(ze);fr>-1&&(Ht=Ht.slice(0,fr))}return Ht+we}function LY(F){return F=ds(F),F&&Do.test(F)?F.replace(ga,Wt):F}var x9=Mw(function(F,W,ne){return F+(ne?" ":"")+W.toUpperCase()}),MC=ZT("toUpperCase");function kD(F,W,ne){return F=ds(F),W=ne?n:W,W===n?s0(F)?KE(F):F_(F):F.match(W)||[]}var S9=ba(function(F,W){try{return Fr(F,n,W)}catch(ne){return f4(ne)?ne:new na(ne)}}),_4=rp(function(F,W){return Li(W,function(ne){ne=lh(ne),Ov(F,ne,Ha(F[ne],F))}),F});function E9(F){var W=F==null?0:F.length,ne=Ai();return F=W?Zr(F,function(we){if(typeof we[1]!="function")throw new Bc(s);return[ne(we[0]),we[1]]}):[],ba(function(we){for(var ze=-1;++ze<W;){var Ze=F[ze];if(Fr(Ze[0],this,we))return Fr(Ze[1],this,we)}})}function xfe(F){return rC(rg(F,h))}function VO(F){return function(){return F}}function Sfe(F,W){return F==null||F!==F?W:F}var DY=Ny(),PC=Ny(!0);function ap(F){return F}function hx(F){return Ri(typeof F=="function"?F:rg(F,h))}function x1(F){return FT(rg(F,h))}function zv(F,W){return Cw(F,rg(W,h))}var IY=ba(function(F,W){return function(ne){return kf(ne,F,W)}}),Mf=ba(function(F,W){return function(ne){return kf(F,ne,W)}});function Vi(F,W,ne){var we=Jf(W),ze=oh(W,we);ne==null&&!(Ku(W)&&(ze.length||!we.length))&&(ne=W,W=F,F=this,ze=oh(W,Jf(W)));var Ze=!(Ku(ne)&&"chain"in ne)||!!ne.chain,mt=Zf(F);return Li(ze,function(bt){var Ht=W[bt];F[bt]=Ht,mt&&(F.prototype[bt]=function(){var $n=this.__chain__;if(Ze||$n){var _t=F(this.__wrapped__),mn=_t.__actions__=Af(this.__actions__);return mn.push({func:Ht,args:arguments,thisArg:F}),_t.__chain__=$n,_t}return Ht.apply(F,cl([this.value()],arguments))})}),F}function tn(){return Cn._===this&&(Cn._=U_),this}function Nn(){}function FY(F){return F=Fa(F),ba(function(W){return NT(W,F)})}var Ww=Po(Zr),NY=Po(Vr),zY=Po(vw);function C9(F){return Nw(F)?li(lh(F)):jT(F)}function OD(F){return function(W){return F==null?n:s1(F,W)}}var jY=iD(),$9=iD(!0);function LC(){return[]}function Hl(){return!1}function x4(){return{}}function Efe(){return""}function T(){return!0}function S4(F,W){if(F=Fa(F),F<1||F>ee)return[];var ne=ve,we=Hc(F,ve);W=Ai(W),F-=ve;for(var ze=Jh(we,W);++ne<F;)W(ne);return ze}function gh(F){return xa(F)?Zr(F,lh):_0(F)?[F]:Af(Lv(ds(F)))}function op(F){var W=++H_;return ds(F)+W}var Cfe=Gn(function(F,W){return F+W},0),AD=yO("ceil"),BY=Gn(function(F,W){return F/W},1),$u=yO("floor");function HY(F){return F&&F.length?iC(F,ap,rO):n}function UY(F,W){return F&&F.length?iC(F,Ai(W,2),rO):n}function VY(F){return N_(F,ap)}function k9(F,W){return N_(F,Ai(W,2))}function WY(F){return F&&F.length?iC(F,ap,ag):n}function O9(F,W){return F&&F.length?iC(F,Ai(W,2),ag):n}var $fe=Gn(function(F,W){return F*W},1),GY=yO("round"),qY=Gn(function(F,W){return F-W},0);function kfe(F){return F&&F.length?_i(F,ap):0}function Ofe(F,W){return F&&F.length?_i(F,Ai(W,2)):0}return qe.after=cY,qe.ary=fh,qe.assign=s9,qe.assignIn=u9,qe.assignInWith=TC,qe.assignWith=l9,qe.at=bY,qe.before=Od,qe.bind=Ha,qe.bindAll=_4,qe.bindKey=FO,qe.castArray=Fs,qe.chain=cg,qe.chunk=kO,qe.compact=OO,qe.concat=rx,qe.cond=E9,qe.conforms=xfe,qe.constant=VO,qe.countBy=ox,qe.create=wY,qe.curry=NO,qe.curryRight=Uw,qe.debounce=mD,qe.defaults=HO,qe.defaultsDeep=Iv,qe.defer=fY,qe.delay=e9,qe.difference=bC,qe.differenceBy=n4,qe.differenceWith=sD,qe.drop=AO,qe.dropRight=uD,qe.dropRightWhile=lD,qe.dropWhile=cD,qe.fill=r4,qe.filter=Z7,qe.flatMap=iY,qe.flatMapDeep=aY,qe.flatMapDepth=Kce,qe.flatten=Vy,qe.flattenDeep=Wy,qe.flattenDepth=w0,qe.flip=dY,qe.flow=DY,qe.flowRight=PC,qe.fromPairs=_C,qe.functions=SY,qe.functionsIn=EY,qe.groupBy=IO,qe.initial=xC,qe.intersection=TO,qe.intersectionBy=MO,qe.intersectionWith=jw,qe.invert=c9,qe.invertBy=f9,qe.invokeMap=Bl,qe.iteratee=hx,qe.keyBy=oY,qe.keys=Jf,qe.keysIn=Ad,qe.map=Xf,qe.mapKeys=Qr,qe.mapValues=ci,qe.matches=x1,qe.matchesProperty=zv,qe.memoize=s4,qe.merge=dx,qe.mergeWith=ra,qe.method=IY,qe.methodOf=Mf,qe.mixin=Vi,qe.negate=u4,qe.nthArg=FY,qe.omit=Fv,qe.omitBy=cfe,qe.once=t9,qe.orderBy=J7,qe.over=Ww,qe.overArgs=n9,qe.overEvery=NY,qe.overSome=zY,qe.partial=ux,qe.partialRight=dh,qe.partition=Xce,qe.pick=ffe,qe.pickBy=w1,qe.property=C9,qe.propertyOf=OD,qe.pull=SC,qe.pullAll=PO,qe.pullAllBy=EC,qe.pullAllWith=LO,qe.pullAt=DO,qe.range=jY,qe.rangeRight=$9,qe.rearg=hY,qe.reject=dg,qe.remove=Bw,qe.rest=Jce,qe.reverse=Hw,qe.sampleSize=Qce,qe.set=h9,qe.setWith=CY,qe.shuffle=sY,qe.slice=CC,qe.sortBy=lY,qe.sortedUniq=X,qe.sortedUniqBy=ae,qe.split=_9,qe.spread=Rf,qe.tail=se,qe.take=he,qe.takeRight=Fe,qe.takeRightWhile=Te,qe.takeWhile=Ke,qe.tap=fg,qe.throttle=efe,qe.thru=fc,qe.toArray=xD,qe.toPairs=g9,qe.toPairsIn=p9,qe.toPath=gh,qe.toPlainObject=o9,qe.transform=hfe,qe.unary=gY,qe.union=Qe,qe.unionBy=et,qe.unionWith=lt,qe.uniq=zt,qe.uniqBy=It,qe.uniqWith=Kt,qe.unset=Vw,qe.unzip=pn,qe.unzipWith=Bn,qe.update=gfe,qe.updateWith=pfe,qe.values=ni,qe.valuesIn=v9,qe.without=Nr,qe.words=kD,qe.wrap=pY,qe.xor=Cr,qe.xorBy=Lr,qe.xorWith=Rr,qe.zip=Sr,qe.zipObject=as,qe.zipObjectDeep=xs,qe.zipWith=cc,qe.entries=g9,qe.entriesIn=p9,qe.extend=u9,qe.extendWith=TC,Vi(qe,qe),qe.add=Cfe,qe.attempt=S9,qe.camelCase=b4,qe.capitalize=w4,qe.ceil=AD,qe.clamp=y4,qe.clone=Zt,qe.cloneDeep=l4,qe.cloneDeepWith=tfe,qe.cloneWith=Yy,qe.conformsTo=nfe,qe.deburr=m9,qe.defaultTo=Sfe,qe.divide=BY,qe.endsWith=y9,qe.eq=y1,qe.escape=$Y,qe.escapeRegExp=kY,qe.every=gD,qe.find=rY,qe.findIndex=v1,qe.findKey=lfe,qe.findLast=sx,qe.findLastIndex=wC,qe.findLastKey=v4,qe.floor=$u,qe.forEach=qy,qe.forEachRight=Q7,qe.forIn=SD,qe.forInRight=fx,qe.forOwn=_Y,qe.forOwnRight=xY,qe.get=ED,qe.gt=yD,qe.gte=bD,qe.has=pg,qe.hasIn=m4,qe.head=RO,qe.identity=ap,qe.includes=Jn,qe.indexOf=ix,qe.inRange=vfe,qe.invoke=d9,qe.isArguments=lx,qe.isArray=xa,qe.isArrayBuffer=vY,qe.isArrayLike=hg,qe.isArrayLikeObject=hi,qe.isBoolean=mY,qe.isBuffer=Ky,qe.isDate=c4,qe.isElement=rfe,qe.isEmpty=cx,qe.isEqual=hh,qe.isEqualWith=r9,qe.isError=f4,qe.isFinite=ife,qe.isFunction=Zf,qe.isInteger=i9,qe.isLength=d4,qe.isMap=Qf,qe.isMatch=afe,qe.isMatchWith=ofe,qe.isNaN=Wc,qe.isNative=sfe,qe.isNil=_D,qe.isNull=wD,qe.isNumber=zO,qe.isObject=Ku,qe.isObjectLike=ml,qe.isPlainObject=jO,qe.isRegExp=AC,qe.isSafeInteger=ufe,qe.isSet=h4,qe.isString=g4,qe.isSymbol=_0,qe.isTypedArray=Ns,qe.isUndefined=dc,qe.isWeakMap=gg,qe.isWeakSet=a9,qe.join=ax,qe.kebabCase=OY,qe.last=ch,qe.lastIndexOf=lg,qe.lowerCase=AY,qe.lowerFirst=mfe,qe.lt=BO,qe.lte=p4,qe.max=HY,qe.maxBy=UY,qe.mean=VY,qe.meanBy=k9,qe.min=WY,qe.minBy=O9,qe.stubArray=LC,qe.stubFalse=Hl,qe.stubObject=x4,qe.stubString=Efe,qe.stubTrue=T,qe.multiply=$fe,qe.nth=pl,qe.noConflict=tn,qe.noop=Nn,qe.now=o4,qe.pad=b9,qe.padEnd=CD,qe.padStart=Nv,qe.parseInt=w9,qe.random=Xy,qe.reduce=Zce,qe.reduceRight=OC,qe.repeat=yfe,qe.replace=$D,qe.result=dfe,qe.round=GY,qe.runInContext=Ft,qe.sample=pD,qe.size=vD,qe.snakeCase=bfe,qe.some=uY,qe.sortedIndex=fD,qe.sortedIndexBy=dD,qe.sortedIndexOf=i4,qe.sortedLastIndex=m1,qe.sortedLastIndexBy=$C,qe.sortedLastIndexOf=G,qe.startCase=wfe,qe.startsWith=RY,qe.subtract=qY,qe.sum=kfe,qe.sumBy=Ofe,qe.template=_fe,qe.times=S4,qe.toFinite=b1,qe.toInteger=Fa,qe.toLength=RC,qe.toLower=TY,qe.toNumber=x0,qe.toSafeInteger=yY,qe.toString=ds,qe.toUpper=MY,qe.trim=Tf,qe.trimEnd=PY,qe.trimStart=UO,qe.truncate=_1,qe.unescape=LY,qe.uniqueId=op,qe.upperCase=x9,qe.upperFirst=MC,qe.each=qy,qe.eachRight=Q7,qe.first=RO,Vi(qe,function(){var F={};return ep(qe,function(W,ne){Fo.call(qe.prototype,ne)||(F[ne]=W)}),F}(),{chain:!1}),qe.VERSION=r,Li(["bind","bindKey","curry","curryRight","partial","partialRight"],function(F){qe[F].placeholder=qe}),Li(["drop","take"],function(F,W){te.prototype[F]=function(ne){ne=ne===n?1:Ys(Fa(ne),0);var we=this.__filtered__&&!W?new te(this):this.clone();return we.__filtered__?we.__takeCount__=Hc(ne,we.__takeCount__):we.__views__.push({size:Hc(ne,ve),type:F+(we.__dir__<0?"Right":"")}),we},te.prototype[F+"Right"]=function(ne){return this.reverse()[F](ne).reverse()}}),Li(["filter","map","takeWhile"],function(F,W){var ne=W+1,we=ne==H||ne==Z;te.prototype[F]=function(ze){var Ze=this.clone();return Ze.__iteratees__.push({iteratee:Ai(ze,3),type:ne}),Ze.__filtered__=Ze.__filtered__||we,Ze}}),Li(["head","last"],function(F,W){var ne="take"+(W?"Right":"");te.prototype[F]=function(){return this[ne](1).value()[0]}}),Li(["initial","tail"],function(F,W){var ne="drop"+(W?"":"Right");te.prototype[F]=function(){return this.__filtered__?new te(this):this[ne](1)}}),te.prototype.compact=function(){return this.filter(ap)},te.prototype.find=function(F){return this.filter(F).head()},te.prototype.findLast=function(F){return this.reverse().find(F)},te.prototype.invokeMap=ba(function(F,W){return typeof F=="function"?new te(this):this.map(function(ne){return kf(ne,F,W)})}),te.prototype.reject=function(F){return this.filter(u4(Ai(F)))},te.prototype.slice=function(F,W){F=Fa(F);var ne=this;return ne.__filtered__&&(F>0||W<0)?new te(ne):(F<0?ne=ne.takeRight(-F):F&&(ne=ne.drop(F)),W!==n&&(W=Fa(W),ne=W<0?ne.dropRight(-W):ne.take(W-F)),ne)},te.prototype.takeRightWhile=function(F){return this.reverse().takeWhile(F).reverse()},te.prototype.toArray=function(){return this.take(ve)},ep(te.prototype,function(F,W){var ne=/^(?:filter|find|map|reject)|While$/.test(W),we=/^(?:head|last)$/.test(W),ze=qe[we?"take"+(W=="last"?"Right":""):W],Ze=we||/^find/.test(W);ze&&(qe.prototype[W]=function(){var mt=this.__wrapped__,bt=we?[1]:arguments,Ht=mt instanceof te,$n=bt[0],_t=Ht||xa(mt),mn=function(ho){var go=ze.apply(qe,cl([ho],bt));return we&&fr?go[0]:go};_t&&ne&&typeof $n=="function"&&$n.length!=1&&(Ht=_t=!1);var fr=this.__chain__,ii=!!this.__actions__.length,Dr=Ze&&!fr,xi=Ht&&!ii;if(!Ze&&_t){mt=xi?mt:new te(this);var Ti=F.apply(mt,bt);return Ti.__actions__.push({func:fc,args:[mn],thisArg:n}),new Yf(Ti,fr)}return Dr&&xi?F.apply(this,bt):(Ti=this.thru(mn),Dr?we?Ti.value()[0]:Ti.value():Ti)})}),Li(["pop","push","shift","sort","splice","unshift"],function(F){var W=u0[F],ne=/^(?:push|sort|unshift)$/.test(F)?"tap":"thru",we=/^(?:pop|shift)$/.test(F);qe.prototype[F]=function(){var ze=arguments;if(we&&!this.__chain__){var Ze=this.value();return W.apply(xa(Ze)?Ze:[],ze)}return this[ne](function(mt){return W.apply(xa(mt)?mt:[],ze)})}}),ep(te.prototype,function(F,W){var ne=qe[W];if(ne){var we=ne.name+"";Fo.call(Jg,we)||(Jg[we]=[]),Jg[we].push({name:W,func:ne})}}),Jg[ex(n,_).name]=[{name:"wrapper",func:n}],te.prototype.clone=ke,te.prototype.reverse=De,te.prototype.value=Ae,qe.prototype.at=os,qe.prototype.chain=Dv,qe.prototype.commit=a4,qe.prototype.next=kC,qe.prototype.plant=Gy,qe.prototype.reverse=fs,qe.prototype.toJSON=qe.prototype.valueOf=qe.prototype.value=hD,qe.prototype.first=qe.prototype.head,Km&&(qe.prototype[Km]=vl),qe},Zg=j_();Hr?((Hr.exports=Zg)._=Zg,un._=Zg):Cn._=Zg}).call($e)})(_ur,kk);const xur="https://vega.github.io/schema/vega/v5.json",Sur=500,Eur=200,Cur=5,$ur=[{name:"facet",values:[],format:{type:"json",parse:{timestamp:"date"}}},{name:"table",source:"facet",transform:[{type:"aggregate",groupby:["x"],ops:["mean","mean","mean","mean","mean","mean","mean","mean","mean","mean","mean","mean","mean"],fields:["p1","p5","p10","p20","p30","p40","p50","p60","p70","p80","p90","p95","p99"],as:["p1","p5","p10","p20","p30","p40","p50","p60","p70","p80","p90","p95","p99"]}]}],kur=[{name:"xscale",type:"linear",nice:!0,zero:!1,domain:{data:"facet",field:"x"},range:"width"},{name:"yscale",type:"linear",range:"height",nice:!0,zero:!1,domain:{data:"facet",fields:["p1","p99"]}}],Our=[{name:"mousemove",on:[{events:"mousemove",update:"invert('xscale', x())"}]},{name:"mouseout",on:[{events:"mouseout",update:"invert('xscale', x())"}]}],Aur=[{orient:"bottom",scale:"xscale",grid:!1,labelColor:"#727d93",tickColor:"#fff",tickOpacity:0,domainColor:"#727d93",domainOpacity:.1,format:".9~s",tickCount:5},{orient:"left",scale:"yscale",grid:!1,format:".9~s",labelColor:"#727d93",tickColor:"#fff",tickOpacity:0,domainColor:"#727d93",domainOpacity:.1,tickCount:5}],Rur=[{type:"rule",encode:{update:{xscale:{scale:"xscale",signal:"mousemove"}}}},{type:"area",from:{data:"table"},encode:{enter:{fill:{value:"#4C78A8"}},update:{interpolate:{value:"monotone"},x:{scale:"xscale",field:"x"},y:{scale:"yscale",field:"p1"},y2:{scale:"yscale",field:"p99"},opacity:{value:.05}}}},{type:"area",from:{data:"table"},encode:{enter:{fill:{value:"#4C78A8"}},update:{interpolate:{value:"monotone"},x:{scale:"xscale",field:"x"},y:{scale:"yscale",field:"p5"},y2:{scale:"yscale",field:"p95"},opacity:{value:.1}}}},{type:"area",from:{data:"table"},encode:{enter:{fill:{value:"#4C78A8"}},update:{interpolate:{value:"monotone"},x:{scale:"xscale",field:"x"},y:{scale:"yscale",field:"p10"},y2:{scale:"yscale",field:"p90"},opacity:{value:.15}}}},{type:"area",from:{data:"table"},encode:{enter:{fill:{value:"#4C78A8"}},update:{interpolate:{value:"monotone"},x:{scale:"xscale",field:"x"},y:{scale:"yscale",field:"p20"},y2:{scale:"yscale",field:"p80"},opacity:{value:.2}}}},{type:"area",from:{data:"table"},encode:{enter:{fill:{value:"#4C78A8"}},update:{interpolate:{value:"monotone"},x:{scale:"xscale",field:"x"},y:{scale:"yscale",field:"p30"},y2:{scale:"yscale",field:"p70"},opacity:{value:.2}}}},{type:"area",from:{data:"table"},encode:{enter:{fill:{value:"#4C78A8"}},update:{interpolate:{value:"monotone"},x:{scale:"xscale",field:"x"},y:{scale:"yscale",field:"p40"},y2:{scale:"yscale",field:"p60"},opacity:{value:.2}}}},{type:"line",from:{data:"table"},encode:{update:{interpolate:{value:"monotone"},stroke:{value:"#4C78A8"},strokeWidth:{value:2},opacity:{value:.8},x:{scale:"xscale",field:"x"},y:{scale:"yscale",field:"p50"}}}}],Tur={$schema:xur,width:Sur,height:Eur,padding:Cur,data:$ur,scales:kur,signals:Our,axes:Aur,marks:Rur};var Mur=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Pur=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),K2t=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Mur(t,e,n);return Pur(t,e),t},Lur=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};bce.__esModule=!0;bce.FunctionChart1Dist=void 0;var cS=K2t(z),NMe=Lur(kk),Dur=aT,Iur=xMe,Fur=K2t(Tur),Nur=jG,zur=R3,jur=TL,Bur=(0,Iur.createClassFromSpec)({spec:Fur}),Hur=function(e,t,n){var r=(t-e)/(n-1),i=NMe.default.range(e,t,r),a=i.concat([t]);return a};function H1(e){if(e.ok)return e.value;throw Error("FAILURE TO UNWRAP")}var Uur=function(e){var t=e.settings,n=e.fn,r=e.environment,i=Hur(t.start,t.stop,t.count),a=i.map(function(p){var v=n.call([p]);return v.ok?v.value.tag==="Dist"?{x:p,value:{ok:!0,value:v.value.value}}:{x:p,value:{ok:!1,value:"Cannot currently render functions that don't return distributions"}}:{x:p,value:{ok:!1,value:v.value.toString()}}}),s=[[],[]],u=a.reduce(function(p,v){return v.value.ok?p[0].push({x:v.x,value:v.value.value}):p[1].push({x:v.x,value:v.value.value}),p},s),f=u[0],d=u[1],c=NMe.default.groupBy(d,function(p){return p.value}),h=f.map(function(p){var v=p.x,m=p.value,y={x:v,p1:H1(m.inv(r,.01)),p5:H1(m.inv(r,.05)),p10:H1(m.inv(r,.1)),p20:H1(m.inv(r,.2)),p30:H1(m.inv(r,.3)),p40:H1(m.inv(r,.4)),p50:H1(m.inv(r,.5)),p60:H1(m.inv(r,.6)),p70:H1(m.inv(r,.7)),p80:H1(m.inv(r,.8)),p90:H1(m.inv(r,.9)),p95:H1(m.inv(r,.95)),p99:H1(m.inv(r,.99))};return y});return{percentiles:h,errors:c}},Vur=function(e){var t=e.fn,n=e.settings,r=e.environment,i=e.distributionChartSettings,a=e.height,s=cS.useState(0),u=s[0],f=s[1];function d(y,w){f(w)}function c(){f(NaN)}var h={mousemove:d,mouseout:c},p=u?t.call([u]):{ok:!1,value:Dur.SqError.createOtherError("Hover x-coordinate returned NaN. Expected a number.")},v=p.ok&&p.value.tag==="Dist"?cS.createElement(Nur.DistributionChart,{distribution:p.value.value,environment:r,chartHeight:50,settings:i}):null,m=cS.useMemo(function(){return Uur({settings:n,fn:t,environment:r})},[r,t,n]);return cS.createElement(cS.Fragment,null,cS.createElement(Bur,{data:{facet:m.percentiles},height:a,actions:!1,signalListeners:h}),v,NMe.default.entries(m.errors).map(function(y){var w=y[0],_=y[1];return cS.createElement(jur.ErrorAlert,{key:w,heading:w},"Values:"," ",_.map(function(S,C){return cS.createElement(zur.NumberShower,{key:C,number:S.x})}).reduce(function(S,C){return cS.createElement(cS.Fragment,null,S,", ",C)}))}))};bce.FunctionChart1Dist=Vur;var wce={};const Wur="https://vega.github.io/schema/vega/v5.json",Gur=500,qur=200,Yur=5,Kur=[{name:"facet",values:[],format:{type:"json",parse:{timestamp:"date"}}}],Xur=[{name:"x",type:"linear",nice:!0,zero:!1,domain:{data:"facet",field:"x"},range:"width"},{name:"y",type:"linear",range:"height",nice:!0,zero:!1,domain:{data:"facet",field:"y"}}],Zur=[{name:"mousemove",on:[{events:"mousemove",update:"invert('x', x())"}]},{name:"mouseout",on:[{events:"mouseout",update:"invert('x', x())"}]}],Qur=[{orient:"bottom",scale:"x",grid:!1,labelColor:"#727d93",tickColor:"#fff",tickOpacity:0,domainColor:"#727d93",domainOpacity:.1,format:".9~s",tickCount:5},{orient:"left",scale:"y",grid:!1,labelColor:"#727d93",tickColor:"#fff",tickOpacity:0,domainColor:"#727d93",domainOpacity:.1,format:".9~s",tickCount:5}],Jur=[{type:"line",from:{data:"facet"},encode:{enter:{x:{scale:"x",field:"x"},y:{scale:"y",field:"y"},strokeWidth:{value:2}}}}],elr={$schema:Wur,width:Gur,height:qur,padding:Yur,data:Kur,scales:Xur,signals:Zur,axes:Qur,marks:Jur};var tlr=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),nlr=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X2t=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&tlr(t,e,n);return nlr(t,e),t},rlr=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};wce.__esModule=!0;wce.FunctionChart1Number=void 0;var WB=X2t(z),ilr=rlr(kk),alr=xMe,olr=X2t(elr),slr=TL,ulr=(0,alr.createClassFromSpec)({spec:olr}),llr=function(e,t,n){var r=(t-e)/(n-1),i=ilr.default.range(e,t,r),a=i.concat([t]);return a},clr=function(e){var t=e.settings,n=e.fn,r=llr(t.start,t.stop,t.count),i=r.map(function(d){var c=n.call([d]);return c.ok?c.value.tag==="Number"?{x:d,value:{ok:!0,value:c.value.value}}:{x:d,value:{ok:!1,value:"This component expected number outputs"}}:{x:d,value:{ok:!1,value:c.value.toString()}}}),a=[[],[]],s=i.reduce(function(d,c){return c.value.ok?d[0].push({x:c.x,value:c.value.value}):d[1].push({x:c.x,value:c.value.value}),d},a),u=s[0],f=s[1];return{errors:f,functionImage:u}},flr=function(e){var t=e.fn,n=e.settings,r=e.height,i=WB.useMemo(function(){return clr({settings:n,fn:t})},[n,t]),a=i.functionImage.map(function(s){var u=s.x,f=s.value;return{x:u,y:f}});return WB.createElement(WB.Fragment,null,WB.createElement(ulr,{data:{facet:a},height:r,actions:!1}),i.errors.map(function(s){var u=s.x,f=s.value;return WB.createElement(slr.ErrorAlert,{key:u,heading:f},"Error at point $",u)}))};wce.FunctionChart1Number=flr;var zq={},dlr=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};zq.__esModule=!0;zq.SquiggleErrorAlert=void 0;var Q$=dlr(z),hlr=TL,glr=function(e){var t=e.frame,n=t.location();return Q$.default.createElement("div",null,t.name(),n?" at line ".concat(n.start.line,", column ").concat(n.start.column):"")},plr=function(e){var t=e.error,n=t.getFrameArray();return n.length?Q$.default.createElement("div",null,Q$.default.createElement("div",{className:"font-medium"},"Stack trace:"),Q$.default.createElement("div",{className:"ml-4"},n.map(function(r,i){return Q$.default.createElement(glr,{frame:r,key:i})}))):null},vlr=function(e){var t=e.error;return Q$.default.createElement(hlr.ErrorAlert,{heading:"Error"},Q$.default.createElement("div",{className:"space-y-4"},Q$.default.createElement("div",null,t.toString()),Q$.default.createElement(plr,{error:t})))};zq.SquiggleErrorAlert=vlr;var mlr=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),ylr=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Z2t=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&mlr(t,e,n);return ylr(t,e),t};VP.__esModule=!0;VP.FunctionChart=VP.functionSettingsSchema=void 0;var G2=Z2t(z),Uee=Z2t(BG),blr=bce,wlr=wce,IEe=TL,_lr=zq;VP.functionSettingsSchema=Uee.object({}).shape({start:Uee.number().required().positive().integer().default(0).min(0),stop:Uee.number().required().positive().integer().default(10).min(0),count:Uee.number().required().positive().integer().default(20).min(2)});var xlr=function(e){var t=e.error,n=G2.useState(!1),r=n[0],i=n[1];return G2.createElement(IEe.MessageAlert,{heading:"Function Display Failed"},G2.createElement("div",{className:"space-y-2"},G2.createElement("span",{className:"underline decoration-dashed cursor-pointer",onClick:function(){return i(!r)}},r?"Hide":"Show"," error details"),r?G2.createElement(_lr.SquiggleErrorAlert,{error:t}):null))},Slr=function(e){var t=e.fn,n=e.settings,r=e.environment,i=e.distributionChartSettings,a=e.height;if(t.parameters().length!==1)return G2.createElement(IEe.MessageAlert,{heading:"Function Display Not Supported"},"Only functions with one parameter are displayed.");var s=t.call([n.start]),u=t.call([n.stop]),f=function(){return s.ok?s:u.ok?u:s},d=f();if(!d.ok)return G2.createElement(xlr,{error:d.value});switch(d.value.tag){case"Dist":return G2.createElement(blr.FunctionChart1Dist,{fn:t,settings:n,environment:r,height:a,distributionChartSettings:i});case"Number":return G2.createElement(wlr.FunctionChart1Number,{fn:t,settings:n,height:a});default:return G2.createElement(IEe.MessageAlert,{heading:"Function Display Not Supported"},"There is no function visualization for this type of output:"," ",G2.createElement("span",{className:"font-bold"},d.value.tag))}};VP.FunctionChart=Slr;var _ce={},D7={},jq={},Bq={},FEe=$e&&$e.__assign||function(){return FEe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},FEe.apply(this,arguments)},Elr=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Bq.__esModule=!0;Bq.InputItem=void 0;var vbe=Elr(z);function Clr(e){var t=e.name,n=e.label,r=e.type,i=e.register;return vbe.default.createElement("label",{className:"block"},vbe.default.createElement("div",{className:"text-sm font-medium text-gray-600 mb-1"},n),vbe.default.createElement("input",FEe({type:r},i(t,{valueAsNumber:r==="number"}),{className:"form-input max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md"})))}Bq.InputItem=Clr;var xce={},NEe=$e&&$e.__assign||function(){return NEe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},NEe.apply(this,arguments)},Q2t=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};xce.__esModule=!0;xce.Checkbox=void 0;var $lr=Q2t(kT),mbe=Q2t(z);function klr(e){var t=e.name,n=e.label,r=e.register,i=e.disabled,a=e.tooltip;return mbe.default.createElement("label",{className:"flex items-center",title:a},mbe.default.createElement("input",NEe({type:"checkbox",disabled:i},r(t),{className:"form-checkbox focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})),mbe.default.createElement("div",{className:(0,$lr.default)("ml-3 text-sm font-medium",i?"text-gray-400":"text-gray-700")},n))}xce.Checkbox=klr;var Hq={},Olr=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Hq.__esModule=!0;Hq.HeadedSection=void 0;var ybe=Olr(z),Alr=function(e){var t=e.title,n=e.children;return ybe.default.createElement("div",null,ybe.default.createElement("header",{className:"text-lg leading-6 font-medium text-gray-900"},t),ybe.default.createElement("div",{className:"mt-4"},n))};Hq.HeadedSection=Alr;var I7={},Rlr=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};I7.__esModule=!0;I7.Text=void 0;var Tlr=Rlr(z),Mlr=function(e){var t=e.children;return Tlr.default.createElement("p",{className:"text-sm text-gray-500"},t)};I7.Text=Mlr;(function(e){var t=$e&&$e.__createBinding||(Object.create?function(w,_,S,C){C===void 0&&(C=S);var $=Object.getOwnPropertyDescriptor(_,S);(!$||("get"in $?!_.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return _[S]}}),Object.defineProperty(w,C,$)}:function(w,_,S,C){C===void 0&&(C=S),w[C]=_[S]}),n=$e&&$e.__setModuleDefault||(Object.create?function(w,_){Object.defineProperty(w,"default",{enumerable:!0,value:_})}:function(w,_){w.default=_}),r=$e&&$e.__importStar||function(w){if(w&&w.__esModule)return w;var _={};if(w!=null)for(var S in w)S!=="default"&&Object.prototype.hasOwnProperty.call(w,S)&&t(_,w,S);return n(_,w),_},i=$e&&$e.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};e.__esModule=!0,e.FunctionViewSettingsForm=e.DistributionViewSettingsForm=e.ViewSettingsForm=e.viewSettingsSchema=void 0;var a=i(z),s=r(BG),u=Bq,f=xce,d=Hq,c=I7,h=JS,p=VP;e.viewSettingsSchema=s.object({}).shape({distributionChartSettings:h.distributionSettingsSchema,functionChartSettings:p.functionSettingsSchema,chartHeight:s.number().required().positive().integer().default(200)});var v=function(w){var _=w.withFunctionSettings,S=_===void 0?!0:_,C=w.disableLogXSetting,$=w.register;return a.default.createElement("div",{className:"space-y-6 p-3 divide-y divide-gray-200 max-w-xl"},a.default.createElement(d.HeadedSection,{title:"General Display Settings"},a.default.createElement("div",{className:"space-y-4"},a.default.createElement(u.InputItem,{name:"chartHeight",type:"number",register:$,label:"Chart Height (in pixels)"}))),a.default.createElement(e.DistributionViewSettingsForm,{disableLogXSetting:C,register:$}),S?a.default.createElement(e.FunctionViewSettingsForm,{register:$}):null)};e.ViewSettingsForm=v;var m=function(w){var _=w.disableLogXSetting,S=w.register;return a.default.createElement("div",{className:"pt-8"},a.default.createElement(d.HeadedSection,{title:"Distribution Display Settings"},a.default.createElement("div",{className:"space-y-2"},a.default.createElement(f.Checkbox,{register:S,name:"distributionChartSettings.logX",label:"Show x scale logarithmically",disabled:_,tooltip:_?"Your distribution has mass lower than or equal to 0. Log only works on strictly positive values.":void 0}),a.default.createElement(f.Checkbox,{register:S,name:"distributionChartSettings.expY",label:"Show y scale exponentially"}),a.default.createElement(f.Checkbox,{register:S,name:"distributionChartSettings.vegaActions",label:"Show vega chart controls"}),a.default.createElement(f.Checkbox,{register:S,name:"distributionChartSettings.showSummary",label:"Show summary statistics"}),a.default.createElement(u.InputItem,{name:"distributionChartSettings.minX",type:"number",register:S,label:"Min X Value"}),a.default.createElement(u.InputItem,{name:"distributionChartSettings.maxX",type:"number",register:S,label:"Max X Value"}),a.default.createElement(u.InputItem,{name:"distributionChartSettings.title",type:"text",register:S,label:"Title"}),a.default.createElement(u.InputItem,{name:"distributionChartSettings.tickFormat",type:"text",register:S,label:"Tick Format"}))))};e.DistributionViewSettingsForm=m;var y=function(w){var _=w.register;return a.default.createElement("div",{className:"pt-8"},a.default.createElement(d.HeadedSection,{title:"Function Display Settings"},a.default.createElement("div",{className:"space-y-6"},a.default.createElement(c.Text,null,"When displaying functions of single variables that return numbers or distributions, we need to use defaults for the x-axis. We need to select a minimum and maximum value of x to sample, and a number n of the number of points to sample."),a.default.createElement("div",{className:"space-y-4"},a.default.createElement(u.InputItem,{type:"number",name:"functionChartSettings.start",register:_,label:"Min X Value"}),a.default.createElement(u.InputItem,{type:"number",name:"functionChartSettings.stop",register:_,label:"Max X Value"}),a.default.createElement(u.InputItem,{type:"number",name:"functionChartSettings.count",register:_,label:"Points between X min and X max to sample"})))))};e.FunctionViewSettingsForm=y})(jq);var Plr=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};D7.__esModule=!0;D7.ViewerContext=void 0;var Llr=Plr(z),Dlr=jq;D7.ViewerContext=Llr.default.createContext({getSettings:function(){return{collapsed:!1}},getMergedSettings:function(){return Dlr.viewSettingsSchema.getDefault()},setSettings:function(){},enableLocalSettings:!1});var Sae=$e&&$e.__assign||function(){return Sae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Sae.apply(this,arguments)},Ilr=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Flr=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nlr=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Ilr(t,e,n);return Flr(t,e),t};_ce.__esModule=!0;_ce.VariableBox=void 0;var fS=Nlr(z),zlr=Iq,jlr=D7,Blr=function(e){var t=e.value.location,n=e.heading,r=n===void 0?"Error":n,i=e.renderSettingsMenu,a=e.children,s=(0,fS.useContext)(jlr.ViewerContext),u=s.setSettings,f=s.getSettings,d=s.getMergedSettings,c=(0,fS.useReducer)(function(_){return _+1},0),h=c[1],p=f(t),v=function(_){u(t,_),h()},m=function(){v(Sae(Sae({},p),{collapsed:!p.collapsed}))},y=t.path.items.length===0,w=y?{result:"Result",bindings:"Bindings"}[t.path.root]:t.path.items[t.path.items.length-1];return fS.default.createElement("div",null,fS.default.createElement("header",{className:"inline-flex space-x-1"},fS.default.createElement(zlr.Tooltip,{text:r},fS.default.createElement("span",{className:"text-slate-500 font-mono text-sm cursor-pointer",onClick:m},w,":")),p.collapsed?fS.default.createElement("span",{className:"rounded p-0.5 bg-slate-200 text-slate-500 font-mono text-xs cursor-pointer",onClick:m},"..."):i?i({onChange:h}):null),p.collapsed?null:fS.default.createElement("div",{className:"flex w-full"},t.path.items.length?fS.default.createElement("div",{className:"shrink-0 border-l-2 border-slate-200 hover:border-indigo-600 w-4 cursor-pointer",onClick:m}):null,fS.default.createElement("div",{className:"grow overflow-auto"},a(d(t)))))};_ce.VariableBox=Blr;var GB={},Ap={};function Hlr(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}Object.defineProperty(Ap,"__esModule",{value:!0});var Ao=Hlr(z),Uq=e=>e.type==="checkbox",pF=e=>e instanceof Date,X0=e=>e==null;const J2t=e=>typeof e=="object";var Xd=e=>!X0(e)&&!Array.isArray(e)&&J2t(e)&&!pF(e),e_t=e=>Xd(e)&&e.target?Uq(e.target)?e.target.checked:e.target.value:e,t_t=(e,t)=>e.has((n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n)(t)),Ulr=e=>{const t=e.constructor&&e.constructor.prototype;return Xd(t)&&t.hasOwnProperty("isPrototypeOf")},zMe=typeof window<"u"&&window.HTMLElement!==void 0&&typeof document<"u";function hm(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(zMe&&(e instanceof Blob||e instanceof FileList)||!n&&!Xd(e))return e;if(t=n?[]:{},Array.isArray(e)||Ulr(e))for(const r in e)t[r]=hm(e[r]);else t=e}return t}var F7=e=>Array.isArray(e)?e.filter(Boolean):[],kl=e=>e===void 0,Tr=(e,t,n)=>{if(!t||!Xd(e))return n;const r=F7(t.split(/[,[\].]+?/)).reduce((i,a)=>X0(i)?i:i[a],e);return kl(r)||r===e?kl(e[t])?n:e[t]:r};const Eae={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Lb={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vlr="max",Wlr="min",Glr="maxLength",qlr="minLength",TJe="pattern",MJe="required",Ylr="validate",n_t=Ao.default.createContext(null),CW=()=>Ao.default.useContext(n_t);var r_t=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const s=a;return t._proxyFormState[s]!==Lb.all&&(t._proxyFormState[s]=!r||Lb.all),n&&(n[s]=!0),e[s]}});return i},K1=e=>Xd(e)&&!Object.keys(e).length,i_t=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return K1(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(s=>t[s]===(!r||Lb.all))},ry=e=>Array.isArray(e)?e:[e],a_t=(e,t,n)=>n&&t?e===t:!e||!t||e===t||ry(e).some(r=>r&&(r.startsWith(t)||t.startsWith(r)));function Cae(e){const t=Ao.default.useRef(e);t.current=e,Ao.default.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function o_t(e){const t=CW(),{control:n=t.control,disabled:r,name:i,exact:a}=e||{},[s,u]=Ao.default.useState(n._formState),f=Ao.default.useRef(!0),d=Ao.default.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=Ao.default.useRef(i);return c.current=i,Cae({disabled:r,next:h=>f.current&&a_t(c.current,h.name,a)&&i_t(h,d.current,n._updateFormState)&&u({...n._formState,...h}),subject:n._subjects.state}),Ao.default.useEffect(()=>(f.current=!0,d.current.isValid&&n._updateValid(!0),()=>{f.current=!1}),[n]),r_t(s,n,d.current,!1)}var BS=e=>typeof e=="string",s_t=(e,t,n,r,i)=>BS(e)?(r&&t.watch.add(e),Tr(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Tr(n,a))):(r&&(t.watchAll=!0),n);function u_t(e){const t=CW(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:s}=e||{},u=Ao.default.useRef(r);u.current=r,Cae({disabled:a,subject:n._subjects.values,next:c=>{a_t(u.current,c.name,s)&&d(hm(s_t(u.current,n._names,c.values||n._formValues,!1,i)))}});const[f,d]=Ao.default.useState(n._getWatch(r,i));return Ao.default.useEffect(()=>n._removeUnmounted()),f}var jMe=e=>/^\w*$/.test(e),l_t=e=>F7(e.replace(/["|']|\]/g,"").split(/\.|\[/));function Ru(e,t,n){let r=-1;const i=jMe(t)?[t]:l_t(t),a=i.length,s=a-1;for(;++r<a;){const u=i[r];let f=n;if(r!==s){const d=e[u];f=Xd(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}e[u]=f,e=e[u]}return e}function PJe(e){const t=CW(),{name:n,control:r=t.control,shouldUnregister:i}=e,a=t_t(r._names.array,n),s=u_t({control:r,name:n,defaultValue:Tr(r._formValues,n,Tr(r._defaultValues,n,e.defaultValue)),exact:!0}),u=o_t({control:r,name:n}),f=Ao.default.useRef(r.register(n,{...e.rules,value:s}));return Ao.default.useEffect(()=>{const d=r._options.shouldUnregister||i,c=(h,p)=>{const v=Tr(r._fields,h);v&&(v._f.mount=p)};if(c(n,!0),d){const h=hm(Tr(r._options.defaultValues,n));Ru(r._defaultValues,n,h),kl(Tr(r._formValues,n))&&Ru(r._formValues,n,h)}return()=>{(a?d&&!r._state.action:d)?r.unregister(n):c(n,!1)}},[n,r,a,i]),{field:{name:n,value:s,onChange:Ao.default.useCallback(d=>f.current.onChange({target:{value:e_t(d),name:n},type:Eae.CHANGE}),[n]),onBlur:Ao.default.useCallback(()=>f.current.onBlur({target:{value:Tr(r._formValues,n),name:n},type:Eae.BLUR}),[n,r]),ref:d=>{const c=Tr(r._fields,n);c&&d&&(c._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})}},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Tr(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!Tr(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Tr(u.touchedFields,n)},error:{enumerable:!0,get:()=>Tr(u.errors,n)}})}}var c_t=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const $ae=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=Tr(e,r);if(i){const{_f:a,...s}=i;if(a&&t(a.name)){if(a.ref.focus){a.ref.focus();break}if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else Xd(s)&&$ae(s,t)}}};var VA=()=>{const e=typeof performance>"u"?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(16*Math.random()+e)%16|0;return(t=="x"?n:3&n|8).toString(16)})},bbe=(e,t,n={})=>n.shouldFocus||kl(n.shouldFocus)?n.focusName||`${e}.${kl(n.focusIndex)?t:n.focusIndex}.`:"",zEe=e=>({isOnSubmit:!e||e===Lb.onSubmit,isOnBlur:e===Lb.onBlur,isOnChange:e===Lb.onChange,isOnAll:e===Lb.all,isOnTouch:e===Lb.onTouched}),jEe=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),f_t=(e,t,n)=>{const r=F7(Tr(e,n));return Ru(r,"root",t[n]),Ru(e,n,r),e},KF=e=>typeof e=="boolean",BMe=e=>e.type==="file",LR=e=>typeof e=="function",kae=e=>{if(!zMe)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},one=e=>BS(e),HMe=e=>e.type==="radio",Oae=e=>e instanceof RegExp;const LJe={value:!1,isValid:!1},DJe={value:!0,isValid:!0};var d_t=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!kl(e[0].attributes.value)?kl(e[0].value)||e[0].value===""?DJe:{value:e[0].value,isValid:!0}:DJe:LJe}return LJe};const IJe={isValid:!1,value:null};var h_t=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,IJe):IJe;function FJe(e,t,n="validate"){if(one(e)||Array.isArray(e)&&e.every(one)||KF(e)&&!e)return{type:n,message:one(e)?e:"",ref:t}}var T6=e=>Xd(e)&&!Oae(e)?e:{value:e,message:""},BEe=async(e,t,n,r,i)=>{const{ref:a,refs:s,required:u,maxLength:f,minLength:d,min:c,max:h,pattern:p,validate:v,name:m,valueAsNumber:y,mount:w,disabled:_}=e._f,S=Tr(t,m);if(!w||_)return{};const C=s?s[0]:a,$=j=>{r&&C.reportValidity&&(C.setCustomValidity(KF(j)?"":j||""),C.reportValidity())},k={},M=HMe(a),A=Uq(a),L=M||A,N=(y||BMe(a))&&kl(a.value)&&kl(S)||kae(a)&&a.value===""||S===""||Array.isArray(S)&&!S.length,R=c_t.bind(null,m,n,k),D=(j,U,H,Y=Glr,Z=qlr)=>{const Q=j?U:H;k[m]={type:j?Y:Z,message:Q,ref:a,...R(j?Y:Z,Q)}};if(i?!Array.isArray(S)||!S.length:u&&(!L&&(N||X0(S))||KF(S)&&!S||A&&!d_t(s).isValid||M&&!h_t(s).isValid)){const{value:j,message:U}=one(u)?{value:!!u,message:u}:T6(u);if(j&&(k[m]={type:MJe,message:U,ref:C,...R(MJe,U)},!n))return $(U),k}if(!(N||X0(c)&&X0(h))){let j,U;const H=T6(h),Y=T6(c);if(X0(S)||isNaN(S)){const Z=a.valueAsDate||new Date(S),Q=ue=>new Date(new Date().toDateString()+" "+ue),ee=a.type=="time",oe=a.type=="week";BS(H.value)&&S&&(j=ee?Q(S)>Q(H.value):oe?S>H.value:Z>new Date(H.value)),BS(Y.value)&&S&&(U=ee?Q(S)<Q(Y.value):oe?S<Y.value:Z<new Date(Y.value))}else{const Z=a.valueAsNumber||S&&+S;X0(H.value)||(j=Z>H.value),X0(Y.value)||(U=Z<Y.value)}if((j||U)&&(D(!!j,H.message,Y.message,Vlr,Wlr),!n))return $(k[m].message),k}if((f||d)&&!N&&(BS(S)||i&&Array.isArray(S))){const j=T6(f),U=T6(d),H=!X0(j.value)&&S.length>+j.value,Y=!X0(U.value)&&S.length<+U.value;if((H||Y)&&(D(H,j.message,U.message),!n))return $(k[m].message),k}if(p&&!N&&BS(S)){const{value:j,message:U}=T6(p);if(Oae(j)&&!S.match(j)&&(k[m]={type:TJe,message:U,ref:a,...R(TJe,U)},!n))return $(U),k}if(v){if(LR(v)){const j=FJe(await v(S,t),C);if(j&&(k[m]={...j,...R(Ylr,j.message)},!n))return $(j.message),k}else if(Xd(v)){let j={};for(const U in v){if(!K1(j)&&!n)break;const H=FJe(await v[U](S,t),C,U);H&&(j={...H,...R(U,H.message)},$(H.message),n&&(k[m]=j))}if(!K1(j)&&(k[m]={ref:C,...j},!n))return k}}return $(!0),k};function wbe(e,t){return[...e,...ry(t)]}var _be=e=>Array.isArray(e)?e.map(()=>{}):void 0;function xbe(e,t,n){return[...e.slice(0,t),...ry(n),...e.slice(t)]}var Sbe=(e,t,n)=>Array.isArray(e)?(kl(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[];function Ebe(e,t){return[...ry(t),...ry(e)]}var Cbe=(e,t)=>kl(t)?[]:function(n,r){let i=0;const a=[...n];for(const s of r)a.splice(s-i,1),i++;return F7(a).length?a:[]}(e,ry(t).sort((n,r)=>n-r)),$be=(e,t,n)=>{e[t]=[e[n],e[n]=e[t]][0]};function Oh(e,t){const n=Array.isArray(t)?t:jMe(t)?[t]:l_t(t),r=n.length===1?e:function(s,u){const f=u.slice(0,-1).length;let d=0;for(;d<f;)s=kl(s)?d++:s[u[d++]];return s}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Xd(r)&&K1(r)||Array.isArray(r)&&function(s){for(const u in s)if(!kl(s[u]))return!1;return!0}(r))&&Oh(e,n.slice(0,-1)),e}var NJe=(e,t,n)=>(e[t]=n,e);function kbe(){let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(n=>n!==t)}}),unsubscribe:()=>{e=[]}}}var Aae=e=>X0(e)||!J2t(e);function P5(e,t){if(Aae(e)||Aae(t))return e===t;if(pF(e)&&pF(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=t[i];if(pF(a)&&pF(s)||Xd(a)&&Xd(s)||Array.isArray(a)&&Array.isArray(s)?!P5(a,s):a!==s)return!1}}return!0}var g_t=e=>e.type==="select-multiple",Klr=e=>HMe(e)||Uq(e),Obe=e=>kae(e)&&e.isConnected,p_t=e=>{for(const t in e)if(LR(e[t]))return!0;return!1};function Rae(e,t={}){const n=Array.isArray(e);if(Xd(e)||n)for(const r in e)Array.isArray(e[r])||Xd(e[r])&&!p_t(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Rae(e[r],t[r])):X0(e[r])||(t[r]=!0);return t}function v_t(e,t,n){const r=Array.isArray(e);if(Xd(e)||r)for(const i in e)Array.isArray(e[i])||Xd(e[i])&&!p_t(e[i])?kl(t)||Aae(n[i])?n[i]=Array.isArray(e[i])?Rae(e[i],[]):{...Rae(e[i])}:v_t(e[i],X0(t)?{}:t[i],n[i]):n[i]=!P5(e[i],t[i]);return n}var Abe=(e,t)=>v_t(e,t,Rae(t)),m_t=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>kl(e)?e:t?e===""?NaN:e&&+e:n&&BS(e)?new Date(e):r?r(e):e;function Rbe(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return BMe(t)?t.files:HMe(t)?h_t(e.refs).value:g_t(t)?[...t.selectedOptions].map(({value:n})=>n):Uq(t)?d_t(e.refs).value:m_t(kl(t.value)?e.ref.value:t.value,e)}var Xlr=(e,t,n,r)=>{const i={};for(const a of e){const s=Tr(t,a);s&&Ru(i,a,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},qB=e=>kl(e)?e:Oae(e)?e.source:Xd(e)?Oae(e.value)?e.value.source:e.value:e,Zlr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function zJe(e,t,n){const r=Tr(e,n);if(r||jMe(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),s=Tr(t,a),u=Tr(e,a);if(s&&!Array.isArray(s)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var Qlr=(e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e),Jlr=(e,t)=>!F7(Tr(e,t)).length&&Oh(e,t);const ecr={mode:Lb.onSubmit,reValidateMode:Lb.onChange,shouldFocusError:!0};function tcr(e={},t){let n,r={...ecr,...e},i={submitCount:0,isDirty:!1,isLoading:LR(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},s=(Xd(r.defaultValues)||Xd(r.values))&&hm(r.defaultValues||r.values)||{},u=r.shouldUnregister?{}:hm(s),f={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:kbe(),array:kbe(),state:kbe()},v=e.resetOptions&&e.resetOptions.keepDirtyValues,m=zEe(r.mode),y=zEe(r.reValidateMode),w=r.criteriaMode===Lb.all,_=async le=>{if(h.isValid||le){const de=r.resolver?K1((await M()).errors):await A(a,!0);de!==i.isValid&&p.state.next({isValid:de})}},S=le=>h.isValidating&&p.state.next({isValidating:le}),C=(le,de,me,Se)=>{const Ee=Tr(a,le);if(Ee){const xe=Tr(u,le,kl(me)?Tr(s,le):me);kl(xe)||Se&&Se.defaultChecked||de?Ru(u,le,de?xe:Rbe(Ee._f)):R(le,xe),f.mount&&_()}},$=(le,de,me,Se,Ee)=>{let xe=!1,Ie=!1;const Ne={name:le};if(!me||Se){h.isDirty&&(Ie=i.isDirty,i.isDirty=Ne.isDirty=L(),xe=Ie!==Ne.isDirty);const We=P5(Tr(s,le),de);Ie=Tr(i.dirtyFields,le),We?Oh(i.dirtyFields,le):Ru(i.dirtyFields,le,!0),Ne.dirtyFields=i.dirtyFields,xe=xe||h.dirtyFields&&Ie!==!We}if(me){const We=Tr(i.touchedFields,le);We||(Ru(i.touchedFields,le,me),Ne.touchedFields=i.touchedFields,xe=xe||h.touchedFields&&We!==me)}return xe&&Ee&&p.state.next(Ne),xe?Ne:{}},k=(le,de,me,Se)=>{const Ee=Tr(i.errors,le),xe=h.isValid&&KF(de)&&i.isValid!==de;var Ie;if(e.delayError&&me?(Ie=()=>((Ne,We)=>{Ru(i.errors,Ne,We),p.state.next({errors:i.errors})})(le,me),n=Ne=>{clearTimeout(c),c=setTimeout(Ie,Ne)},n(e.delayError)):(clearTimeout(c),n=null,me?Ru(i.errors,le,me):Oh(i.errors,le)),(me?!P5(Ee,me):Ee)||!K1(Se)||xe){const Ne={...Se,...xe&&KF(de)?{isValid:de}:{},errors:i.errors,name:le};i={...i,...Ne},p.state.next(Ne)}S(!1)},M=async le=>r.resolver(u,r.context,Xlr(le||d.mount,a,r.criteriaMode,r.shouldUseNativeValidation)),A=async(le,de,me={valid:!0})=>{for(const Se in le){const Ee=le[Se];if(Ee){const{_f:xe,...Ie}=Ee;if(xe){const Ne=d.array.has(xe.name),We=await BEe(Ee,u,w,r.shouldUseNativeValidation&&!de,Ne);if(We[xe.name]&&(me.valid=!1,de))break;!de&&(Tr(We,xe.name)?Ne?f_t(i.errors,We,xe.name):Ru(i.errors,xe.name,We[xe.name]):Oh(i.errors,xe.name))}Ie&&await A(Ie,de,me)}}return me.valid},L=(le,de)=>(le&&de&&Ru(u,le,de),!P5(Y(),s)),N=(le,de,me)=>s_t(le,d,{...f.mount?u:kl(de)?s:BS(le)?{[le]:de}:de},me,de),R=(le,de,me={})=>{const Se=Tr(a,le);let Ee=de;if(Se){const xe=Se._f;xe&&(!xe.disabled&&Ru(u,le,m_t(de,xe)),Ee=kae(xe.ref)&&X0(de)?"":de,g_t(xe.ref)?[...xe.ref.options].forEach(Ie=>Ie.selected=Ee.includes(Ie.value)):xe.refs?Uq(xe.ref)?xe.refs.length>1?xe.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(Ee)?!!Ee.find(Ne=>Ne===Ie.value):Ee===Ie.value)):xe.refs[0]&&(xe.refs[0].checked=!!Ee):xe.refs.forEach(Ie=>Ie.checked=Ie.value===Ee):BMe(xe.ref)?xe.ref.value="":(xe.ref.value=Ee,xe.ref.type||p.values.next({name:le,values:{...u}})))}(me.shouldDirty||me.shouldTouch)&&$(le,Ee,me.shouldTouch,me.shouldDirty,!0),me.shouldValidate&&H(le)},D=(le,de,me)=>{for(const Se in de){const Ee=de[Se],xe=`${le}.${Se}`,Ie=Tr(a,xe);!d.array.has(le)&&Aae(Ee)&&(!Ie||Ie._f)||pF(Ee)?R(xe,Ee,me):D(xe,Ee,me)}},j=(le,de,me={})=>{const Se=Tr(a,le),Ee=d.array.has(le),xe=hm(de);Ru(u,le,xe),Ee?(p.array.next({name:le,values:{...u}}),(h.isDirty||h.dirtyFields)&&me.shouldDirty&&p.state.next({name:le,dirtyFields:Abe(s,u),isDirty:L(le,xe)})):!Se||Se._f||X0(xe)?R(le,xe,me):D(le,xe,me),jEe(le,d)&&p.state.next({...i}),p.values.next({name:le,values:{...u}}),!f.mount&&t()},U=async le=>{const de=le.target;let me=de.name,Se=!0;const Ee=Tr(a,me);if(Ee){let xe,Ie;const Ne=de.type?Rbe(Ee._f):e_t(le),We=le.type===Eae.BLUR||le.type===Eae.FOCUS_OUT,Me=!Zlr(Ee._f)&&!r.resolver&&!Tr(i.errors,me)&&!Ee._f.deps||Qlr(We,Tr(i.touchedFields,me),i.isSubmitted,y,m),He=jEe(me,d,We);Ru(u,me,Ne),We?(Ee._f.onBlur&&Ee._f.onBlur(le),n&&n(0)):Ee._f.onChange&&Ee._f.onChange(le);const gt=$(me,Ne,We,!1),Ye=!K1(gt)||He;if(!We&&p.values.next({name:me,type:le.type,values:{...u}}),Me)return h.isValid&&_(),Ye&&p.state.next({name:me,...He?{}:gt});if(!We&&He&&p.state.next({...i}),S(!0),r.resolver){const{errors:ot}=await M([me]),Ue=zJe(i.errors,a,me),st=zJe(ot,a,Ue.name||me);xe=st.error,me=st.name,Ie=K1(ot)}else xe=(await BEe(Ee,u,w,r.shouldUseNativeValidation))[me],Se=isNaN(Ne)||Ne===Tr(u,me,Ne),Se&&(xe?Ie=!1:h.isValid&&(Ie=await A(a,!0)));Se&&(Ee._f.deps&&H(Ee._f.deps),k(me,Ie,xe,gt))}},H=async(le,de={})=>{let me,Se;const Ee=ry(le);if(S(!0),r.resolver){const xe=await(async Ie=>{const{errors:Ne}=await M();if(Ie)for(const We of Ie){const Me=Tr(Ne,We);Me?Ru(i.errors,We,Me):Oh(i.errors,We)}else i.errors=Ne;return Ne})(kl(le)?le:Ee);me=K1(xe),Se=le?!Ee.some(Ie=>Tr(xe,Ie)):me}else le?(Se=(await Promise.all(Ee.map(async xe=>{const Ie=Tr(a,xe);return await A(Ie&&Ie._f?{[xe]:Ie}:Ie)}))).every(Boolean),(Se||i.isValid)&&_()):Se=me=await A(a);return p.state.next({...!BS(le)||h.isValid&&me!==i.isValid?{}:{name:le},...r.resolver||!le?{isValid:me}:{},errors:i.errors,isValidating:!1}),de.shouldFocus&&!Se&&$ae(a,xe=>xe&&Tr(i.errors,xe),le?Ee:d.mount),Se},Y=le=>{const de={...s,...f.mount?u:{}};return kl(le)?de:BS(le)?Tr(de,le):le.map(me=>Tr(de,me))},Z=(le,de)=>({invalid:!!Tr((de||i).errors,le),isDirty:!!Tr((de||i).dirtyFields,le),isTouched:!!Tr((de||i).touchedFields,le),error:Tr((de||i).errors,le)}),Q=(le,de={})=>{for(const me of le?ry(le):d.mount)d.mount.delete(me),d.array.delete(me),de.keepValue||(Oh(a,me),Oh(u,me)),!de.keepError&&Oh(i.errors,me),!de.keepDirty&&Oh(i.dirtyFields,me),!de.keepTouched&&Oh(i.touchedFields,me),!r.shouldUnregister&&!de.keepDefaultValue&&Oh(s,me);p.values.next({values:{...u}}),p.state.next({...i,...de.keepDirty?{isDirty:L()}:{}}),!de.keepIsValid&&_()},ee=(le,de={})=>{let me=Tr(a,le);const Se=KF(de.disabled);return Ru(a,le,{...me||{},_f:{...me&&me._f?me._f:{ref:{name:le}},name:le,mount:!0,...de}}),d.mount.add(le),me?Se&&Ru(u,le,de.disabled?void 0:Tr(u,le,Rbe(me._f))):C(le,!0,de.value),{...Se?{disabled:de.disabled}:{},...r.shouldUseNativeValidation?{required:!!de.required,min:qB(de.min),max:qB(de.max),minLength:qB(de.minLength),maxLength:qB(de.maxLength),pattern:qB(de.pattern)}:{},name:le,onChange:U,onBlur:U,ref:Ee=>{if(Ee){ee(le,de),me=Tr(a,le);const xe=kl(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,Ie=Klr(xe),Ne=me._f.refs||[];if(Ie?Ne.find(We=>We===xe):xe===me._f.ref)return;Ru(a,le,{_f:{...me._f,...Ie?{refs:[...Ne.filter(Obe),xe,...Array.isArray(Tr(s,le))?[{}]:[]],ref:{type:xe.type,name:le}}:{ref:xe}}}),C(le,!1,void 0,xe)}else me=Tr(a,le,{}),me._f&&(me._f.mount=!1),(r.shouldUnregister||de.shouldUnregister)&&(!t_t(d.array,le)||!f.action)&&d.unMount.add(le)}}},oe=()=>r.shouldFocusError&&$ae(a,le=>le&&Tr(i.errors,le),d.mount),ue=(le,de={})=>{const me=le||s,Se=hm(me),Ee=le&&!K1(le)?Se:s;if(de.keepDefaultValues||(s=me),!de.keepValues){if(de.keepDirtyValues||v)for(const xe of d.mount)Tr(i.dirtyFields,xe)?Ru(Ee,xe,Tr(u,xe)):j(xe,Tr(Ee,xe));else{if(zMe&&kl(le))for(const xe of d.mount){const Ie=Tr(a,xe);if(Ie&&Ie._f){const Ne=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(kae(Ne)){const We=Ne.closest("form");if(We){We.reset();break}}}}a={}}u=e.shouldUnregister?de.keepDefaultValues?hm(s):{}:Se,p.array.next({values:{...Ee}}),p.values.next({values:{...Ee}})}d={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!f.mount&&t(),f.mount=!h.isValid||!!de.keepIsValid,f.watch=!!e.shouldUnregister,p.state.next({submitCount:de.keepSubmitCount?i.submitCount:0,isDirty:de.keepDirty?i.isDirty:!(!de.keepDefaultValues||P5(le,s)),isSubmitted:!!de.keepIsSubmitted&&i.isSubmitted,dirtyFields:de.keepDirtyValues?i.dirtyFields:de.keepDefaultValues&&le?Abe(s,le):{},touchedFields:de.keepTouched?i.touchedFields:{},errors:de.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ve=(le,de)=>ue(LR(le)?le(u):le,de);return{control:{register:ee,unregister:Q,getFieldState:Z,_executeSchema:M,_getWatch:N,_getDirty:L,_updateValid:_,_removeUnmounted:()=>{for(const le of d.unMount){const de=Tr(a,le);de&&(de._f.refs?de._f.refs.every(me=>!Obe(me)):!Obe(de._f.ref))&&Q(le)}d.unMount=new Set},_updateFieldArray:(le,de=[],me,Se,Ee=!0,xe=!0)=>{if(Se&&me){if(f.action=!0,xe&&Array.isArray(Tr(a,le))){const Ie=me(Tr(a,le),Se.argA,Se.argB);Ee&&Ru(a,le,Ie)}if(xe&&Array.isArray(Tr(i.errors,le))){const Ie=me(Tr(i.errors,le),Se.argA,Se.argB);Ee&&Ru(i.errors,le,Ie),Jlr(i.errors,le)}if(h.touchedFields&&xe&&Array.isArray(Tr(i.touchedFields,le))){const Ie=me(Tr(i.touchedFields,le),Se.argA,Se.argB);Ee&&Ru(i.touchedFields,le,Ie)}h.dirtyFields&&(i.dirtyFields=Abe(s,u)),p.state.next({name:le,isDirty:L(le,de),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else Ru(u,le,de)},_getFieldArray:le=>F7(Tr(f.mount?u:s,le,e.shouldUnregister?Tr(s,le,[]):[])),_reset:ue,_resetDefaultValues:()=>LR(r.defaultValues)&&r.defaultValues().then(le=>{ve(le,r.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:le=>{i={...i,...le}},_subjects:p,_proxyFormState:h,get _fields(){return a},get _formValues(){return u},get _state(){return f},set _state(le){f=le},get _defaultValues(){return s},get _names(){return d},set _names(le){d=le},get _formState(){return i},set _formState(le){i=le},get _options(){return r},set _options(le){r={...r,...le}}},trigger:H,register:ee,handleSubmit:(le,de)=>async me=>{me&&(me.preventDefault&&me.preventDefault(),me.persist&&me.persist());let Se=hm(u);if(p.state.next({isSubmitting:!0}),r.resolver){const{errors:Ee,values:xe}=await M();i.errors=Ee,Se=xe}else await A(a);Oh(i.errors,"root"),K1(i.errors)?(p.state.next({errors:{}}),await le(Se,me)):(de&&await de({...i.errors},me),oe(),setTimeout(oe)),p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:K1(i.errors),submitCount:i.submitCount+1,errors:i.errors})},watch:(le,de)=>LR(le)?p.values.subscribe({next:me=>le(N(void 0,de),me)}):N(le,de,!0),setValue:j,getValues:Y,reset:ve,resetField:(le,de={})=>{Tr(a,le)&&(kl(de.defaultValue)?j(le,Tr(s,le)):(j(le,de.defaultValue),Ru(s,le,de.defaultValue)),de.keepTouched||Oh(i.touchedFields,le),de.keepDirty||(Oh(i.dirtyFields,le),i.isDirty=de.defaultValue?L(le,Tr(s,le)):L()),de.keepError||(Oh(i.errors,le),h.isValid&&_()),p.state.next({...i}))},clearErrors:le=>{le&&ry(le).forEach(de=>Oh(i.errors,de)),p.state.next({errors:le?i.errors:{}})},unregister:Q,setError:(le,de,me)=>{const Se=(Tr(a,le,{_f:{}})._f||{}).ref;Ru(i.errors,le,{...de,ref:Se}),p.state.next({name:le,errors:i.errors,isValid:!1}),me&&me.shouldFocus&&Se&&Se.focus&&Se.focus()},setFocus:(le,de={})=>{const me=Tr(a,le),Se=me&&me._f;if(Se){const Ee=Se.refs?Se.refs[0]:Se.ref;Ee.focus&&(Ee.focus(),de.shouldSelect&&Ee.select())}},getFieldState:Z}}Ap.Controller=e=>e.render(PJe(e)),Ap.FormProvider=e=>{const{children:t,...n}=e;return Ao.default.createElement(n_t.Provider,{value:n},t)},Ap.appendErrors=c_t,Ap.get=Tr,Ap.set=Ru,Ap.useController=PJe,Ap.useFieldArray=function(e){const t=CW(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:a}=e,[s,u]=Ao.default.useState(n._getFieldArray(r)),f=Ao.default.useRef(n._getFieldArray(r).map(VA)),d=Ao.default.useRef(s),c=Ao.default.useRef(r),h=Ao.default.useRef(!1);c.current=r,d.current=s,n._names.array.add(r),e.rules&&n.register(r,e.rules),Cae({next:({values:v,name:m})=>{if(m===c.current||!m){const y=Tr(v,c.current);Array.isArray(y)&&(u(y),f.current=y.map(VA))}},subject:n._subjects.array});const p=Ao.default.useCallback(v=>{h.current=!0,n._updateFieldArray(r,v)},[n,r]);return Ao.default.useEffect(()=>{if(n._state.action=!1,jEe(r,n._names)&&n._subjects.state.next({...n._formState}),h.current&&(!zEe(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(v=>{const m=Tr(v.errors,r),y=Tr(n._formState.errors,r);(y?!m&&y.type:m&&m.type)&&(m?Ru(n._formState.errors,r,m):Oh(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const v=Tr(n._fields,r);v&&v._f&&BEe(v,n._formValues,n._options.criteriaMode===Lb.all,n._options.shouldUseNativeValidation,!0).then(m=>!K1(m)&&n._subjects.state.next({errors:f_t(n._formState.errors,m,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&$ae(n._fields,v=>!!v&&v.startsWith(n._names.focus||"")),n._names.focus="",n._updateValid()},[s,r,n]),Ao.default.useEffect(()=>(!Tr(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||a)&&n.unregister(r)}),[r,n,i,a]),{swap:Ao.default.useCallback((v,m)=>{const y=n._getFieldArray(r);$be(y,v,m),$be(f.current,v,m),p(y),u(y),n._updateFieldArray(r,y,$be,{argA:v,argB:m},!1)},[p,r,n]),move:Ao.default.useCallback((v,m)=>{const y=n._getFieldArray(r);Sbe(y,v,m),Sbe(f.current,v,m),p(y),u(y),n._updateFieldArray(r,y,Sbe,{argA:v,argB:m},!1)},[p,r,n]),prepend:Ao.default.useCallback((v,m)=>{const y=ry(hm(v)),w=Ebe(n._getFieldArray(r),y);n._names.focus=bbe(r,0,m),f.current=Ebe(f.current,y.map(VA)),p(w),u(w),n._updateFieldArray(r,w,Ebe,{argA:_be(v)})},[p,r,n]),append:Ao.default.useCallback((v,m)=>{const y=ry(hm(v)),w=wbe(n._getFieldArray(r),y);n._names.focus=bbe(r,w.length-1,m),f.current=wbe(f.current,y.map(VA)),p(w),u(w),n._updateFieldArray(r,w,wbe,{argA:_be(v)})},[p,r,n]),remove:Ao.default.useCallback(v=>{const m=Cbe(n._getFieldArray(r),v);f.current=Cbe(f.current,v),p(m),u(m),n._updateFieldArray(r,m,Cbe,{argA:v})},[p,r,n]),insert:Ao.default.useCallback((v,m,y)=>{const w=ry(hm(m)),_=xbe(n._getFieldArray(r),v,w);n._names.focus=bbe(r,v,y),f.current=xbe(f.current,v,w.map(VA)),p(_),u(_),n._updateFieldArray(r,_,xbe,{argA:v,argB:_be(m)})},[p,r,n]),update:Ao.default.useCallback((v,m)=>{const y=hm(m),w=NJe(n._getFieldArray(r),v,y);f.current=[...w].map((_,S)=>_&&S!==v?f.current[S]:VA()),p(w),u([...w]),n._updateFieldArray(r,w,NJe,{argA:v,argB:y},!0,!1)},[p,r,n]),replace:Ao.default.useCallback(v=>{const m=ry(hm(v));f.current=m.map(VA),p([...m]),u([...m]),n._updateFieldArray(r,[...m],y=>y,{},!0,!1)},[p,r,n]),fields:Ao.default.useMemo(()=>s.map((v,m)=>({...v,[i]:f.current[m]||VA()})),[s,i])}},Ap.useForm=function(e={}){const t=Ao.default.useRef(),[n,r]=Ao.default.useState({isDirty:!1,isValidating:!1,isLoading:LR(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:LR(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...tcr(e,()=>r(a=>({...a}))),formState:n});const i=t.current.control;return i._options=e,Cae({subject:i._subjects.state,next:a=>{i_t(a,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Ao.default.useEffect(()=>{e.values&&!P5(e.values,i._defaultValues)?i._reset(e.values,i._options.resetOptions):i._resetDefaultValues()},[e.values,i]),Ao.default.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=r_t(n,i),t.current},Ap.useFormContext=CW,Ap.useFormState=o_t,Ap.useWatch=u_t;var UMe={},HEe={},UEe=Ap,jJe=function(e,t,n){if(e&&"reportValidity"in e){var r=UEe.get(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},BJe=function(e,t){var n=function(i){var a=t.fields[i];a&&a.ref&&"reportValidity"in a.ref?jJe(a.ref,i,e):a.refs&&a.refs.forEach(function(s){return jJe(s,i,e)})};for(var r in t.fields)n(r)};HEe.toNestError=function(e,t){t.shouldUseNativeValidation&&BJe(e,t);var n={};for(var r in e){var i=UEe.get(t.fields,r);UEe.set(n,r,Object.assign(e[r],{ref:i&&i.ref}))}return n},HEe.validateFieldsNatively=BJe;var HJe=HEe,ncr=Ap;UMe.yupResolver=function(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(s,u){try{var f=(t.context,Promise.resolve(e[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:i}))).then(function(d){return a.shouldUseNativeValidation&&HJe.validateFieldsNatively({},a),{values:n.rawValues?r:d,errors:{}}}))}catch(d){return u(d)}return f&&f.then?f.then(void 0,u):f}(0,function(s){if(!s.inner)throw s;return{values:{},errors:HJe.toNestError((u=s,f=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(u.inner||[]).reduce(function(d,c){if(d[c.path]||(d[c.path]={message:c.message,type:c.type}),f){var h=d[c.path].types,p=h&&h[c.type];d[c.path]=ncr.appendErrors(c.path,f,d,c.type,p?[].concat(p,c.message):c.message)}return d},{})),a)};var u,f}))}catch(s){return Promise.reject(s)}}};var y_t={};(function(e){var t=$e&&$e.__assign||function(){return t=Object.assign||function(C){for(var $,k=1,M=arguments.length;k<M;k++){$=arguments[k];for(var A in $)Object.prototype.hasOwnProperty.call($,A)&&(C[A]=$[A])}return C},t.apply(this,arguments)},n=$e&&$e.__createBinding||(Object.create?function(C,$,k,M){M===void 0&&(M=k);var A=Object.getOwnPropertyDescriptor($,k);(!A||("get"in A?!$.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return $[k]}}),Object.defineProperty(C,M,A)}:function(C,$,k,M){M===void 0&&(M=k),C[M]=$[k]}),r=$e&&$e.__setModuleDefault||(Object.create?function(C,$){Object.defineProperty(C,"default",{enumerable:!0,value:$})}:function(C,$){C.default=$}),i=$e&&$e.__importStar||function(C){if(C&&C.__esModule)return C;var $={};if(C!=null)for(var k in C)k!=="default"&&Object.prototype.hasOwnProperty.call(C,k)&&n($,C,k);return r($,C),$},a=$e&&$e.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};e.__esModule=!0,e.Modal=void 0;var s=kMe,u=i(z),f=i(Xb),d=ML,c=a(kT),h=S2t,p=u.default.createContext({close:function(){}}),v=function(){var C=(0,u.useContext)(p).close;return u.default.createElement(s.motion.div,{className:"absolute inset-0 -z-10 bg-black",initial:{opacity:0},animate:{opacity:.1},onClick:C})},m=function(C){var $=C.children,k=(0,u.useContext)(p).close;return u.default.createElement("header",{className:"px-5 py-3 border-b border-gray-200 font-bold flex items-center justify-between"},u.default.createElement("div",null,$),u.default.createElement("button",{className:"px-1 bg-transparent cursor-pointer text-gray-700 hover:text-accent-500",type:"button",onClick:k},u.default.createElement(d.XIcon,{className:"h-5 w-5 cursor-pointer text-slate-400 hover:text-slate-500"})))},y=u.default.forwardRef(function($,k){return u.default.createElement("div",t({ref:k,className:"px-5 py-3 overflow-auto"},$))}),w=function(C){var $=C.children;return u.default.createElement("div",{className:"px-5 py-3 border-t border-gray-200"},$)},_=function(C){var $=C.children,k=C.container;(0,h.useWindowSize)(),(0,h.useWindowScroll)();var M,A=384,L=300,N=8,R=576;if(k){var D=document.documentElement,j=D.clientWidth,U=D.clientHeight,H=k==null?void 0:k.getBoundingClientRect(),Y={left:Math.max(H.left,0),right:Math.min(H.right,j),top:Math.max(H.top,0),bottom:Math.min(H.bottom,U)},Z=Y.right-Y.left-2*N,Q=Y.bottom-Y.top-2*N,ee={left:Y.left+(Y.right-Y.left)/2,top:Y.top+(Y.bottom-Y.top)/2};M={left:ee.left,top:ee.top,transform:"translate(-50%, -50%)",maxWidth:Z,maxHeight:Q},(Z<A||Q<L)&&(M=void 0)}return u.default.createElement("div",{className:(0,c.default)("bg-white rounded-md shadow-toast flex flex-col overflow-auto border",M?"fixed":null),style:t({width:R},M??{maxHeight:"calc(100% - 20px)",maxWidth:"calc(100% - 20px)",width:R})},$)},S=function(C){var $=C.children,k=C.container,M=C.close,A=u.default.useState(function(){return document.createElement("div")})[0];u.default.useEffect(function(){return document.body.appendChild(A),function(){document.body.removeChild(A)}},[A]),u.default.useEffect(function(){var N=function(R){R.key==="Escape"&&M()};return document.addEventListener("keydown",N),function(){document.removeEventListener("keydown",N)}},[M]);var L=u.default.createElement(p.Provider,{value:{close:M}},u.default.createElement("div",{className:"squiggle"},u.default.createElement("div",{className:"fixed inset-0 z-40 flex justify-center items-center"},u.default.createElement(v,null),u.default.createElement(_,{container:k},$))));return f.createPortal(L,k||A)};e.Modal=S,e.Modal.Body=y,e.Modal.Footer=w,e.Modal.Header=m})(y_t);var Tbe={},VMe={},Sce={};Sce.__esModule=!0;Sce.useMaybeControlledValue=void 0;var rcr=z;function icr(e){var t,n=(0,rcr.useState)(e.defaultValue),r=n[0],i=n[1],a=(t=e.value)!==null&&t!==void 0?t:r,s=function(u){var f;e.value===void 0&&i(u),(f=e.onChange)===null||f===void 0||f.call(e,u)};return[a,s]}Sce.useMaybeControlledValue=icr;var Ece={},vS=$e&&$e.__assign||function(){return vS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},vS.apply(this,arguments)};Ece.__esModule=!0;Ece.useRunnerState=void 0;var UJe=z,acr=function(e){return{autorunMode:!0,renderedCode:"",runningState:"none",executionId:1}},ocr=function(e,t){switch(t.type){case"SET_AUTORUN_MODE":return vS(vS({},e),{autorunMode:t.value});case"PREPARE_RUN":return vS(vS({},e),{runningState:"prepared"});case"RUN":return vS(vS({},e),{runningState:"run",renderedCode:t.code,executionId:e.executionId+1});case"STOP_RUN":return vS(vS({},e),{runningState:"none"})}},scr=function(e){var t=(0,UJe.useReducer)(ocr,acr()),n=t[0],r=t[1];(0,UJe.useLayoutEffect)(function(){n.runningState==="prepared"?setTimeout(function(){r({type:"RUN",code:e})},0):n.runningState==="run"&&r({type:"STOP_RUN"})},[n.runningState,e]);var i=function(){r({type:"PREPARE_RUN"})};return n.autorunMode&&n.renderedCode!==e&&n.runningState==="none"&&i(),{run:i,autorunMode:n.autorunMode,renderedCode:n.renderedCode,isRunning:n.runningState!=="none",executionId:n.executionId,setAutorunMode:function(a){r({type:"SET_AUTORUN_MODE",value:a,code:e})}}};Ece.useRunnerState=scr;(function(e){var t=$e&&$e.__createBinding||(Object.create?function(a,s,u,f){f===void 0&&(f=u);var d=Object.getOwnPropertyDescriptor(s,u);(!d||("get"in d?!s.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,f,d)}:function(a,s,u,f){f===void 0&&(f=u),a[f]=s[u]});e.__esModule=!0,e.useRunnerState=e.useSquiggle=e.useMaybeControlledValue=void 0;var n=Sce;t(e,n,"useMaybeControlledValue");var r=a7;t(e,r,"useSquiggle");var i=Ece;t(e,i,"useRunnerState")})(VMe);var Vq={},Y3={},WMe={},h8={},ucr={get exports(){return h8},set exports(e){h8=e}};(function(e,t){(function(){var n="ace",r=function(){return this}();!r&&typeof window<"u"&&(r=window);var i=function(c,h,p){if(typeof c!="string"){i.original?i.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(p=h),i.modules[c]||(i.payloads[c]=p,i.modules[c]=null)};i.modules={},i.payloads={};var a=function(c,h,p){if(typeof h=="string"){var v=f(c,h);if(v!=null)return p&&p(),v}else if(Object.prototype.toString.call(h)==="[object Array]"){for(var m=[],y=0,w=h.length;y<w;++y){var _=f(c,h[y]);if(_==null&&s.original)return;m.push(_)}return p&&p.apply(null,m)||!0}},s=function(c,h){var p=a("",c,h);return p==null&&s.original?s.original.apply(this,arguments):p},u=function(c,h){if(h.indexOf("!")!==-1){var p=h.split("!");return u(c,p[0])+"!"+u(c,p[1])}if(h.charAt(0)=="."){var v=c.split("/").slice(0,-1).join("/");for(h=v+"/"+h;h.indexOf(".")!==-1&&m!=h;){var m=h;h=h.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return h},f=function(c,h){h=u(c,h);var p=i.modules[h];if(!p){if(p=i.payloads[h],typeof p=="function"){var v={},m={id:h,uri:"",exports:v,packaged:!0},y=function(_,S){return a(h,_,S)},w=p(y,v,m);v=w||m.exports,i.modules[h]=v,delete i.payloads[h]}p=i.modules[h]=v||p}return p};function d(c){var h=r;c&&(r[c]||(r[c]={}),h=r[c]),(!h.define||!h.define.packaged)&&(i.original=h.define,h.define=i,h.define.packaged=!0),(!h.require||!h.require.packaged)&&(s.original=h.require,h.require=s,h.require.packaged=!0)}d(n)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(n,r,i){function a(s,u,f){Object.defineProperty(s,u,{value:f,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||a(String.prototype,"startsWith",function(s,u){return u=u||0,this.lastIndexOf(s,u)===u}),String.prototype.endsWith||a(String.prototype,"endsWith",function(s,u){var f=this;(u===void 0||u>f.length)&&(u=f.length),u-=s.length;var d=f.indexOf(s,u);return d!==-1&&d===u}),String.prototype.repeat||a(String.prototype,"repeat",function(s){for(var u="",f=this;s>0;)s&1&&(u+=f),(s>>=1)&&(f+=f);return u}),String.prototype.includes||a(String.prototype,"includes",function(s,u){return this.indexOf(s,u)!=-1}),Object.assign||(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(s),f=1;f<arguments.length;f++){var d=arguments[f];d!=null&&Object.keys(d).forEach(function(c){u[c]=d[c]})}return u}),Object.values||(Object.values=function(s){return Object.keys(s).map(function(u){return s[u]})}),Array.prototype.find||a(Array.prototype,"find",function(s){for(var u=this.length,f=arguments[1],d=0;d<u;d++){var c=this[d];if(s.call(f,c,d,this))return c}}),Array.prototype.findIndex||a(Array.prototype,"findIndex",function(s){for(var u=this.length,f=arguments[1],d=0;d<u;d++){var c=this[d];if(s.call(f,c,d,this))return d}}),Array.prototype.includes||a(Array.prototype,"includes",function(s,u){return this.indexOf(s,u)!=-1}),Array.prototype.fill||a(Array.prototype,"fill",function(s){for(var u=this,f=u.length>>>0,d=arguments[1],c=d>>0,h=c<0?Math.max(f+c,0):Math.min(c,f),p=arguments[2],v=p===void 0?f:p>>0,m=v<0?Math.max(f+v,0):Math.min(v,f);h<m;)u[h]=s,h++;return u}),Array.of||a(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n,r,i){n("./es6-shim")}),ace.define("ace/lib/lang",["require","exports","module"],function(n,r,i){r.last=function(u){return u[u.length-1]},r.stringReverse=function(u){return u.split("").reverse().join("")},r.stringRepeat=function(u,f){for(var d="";f>0;)f&1&&(d+=u),(f>>=1)&&(u+=u);return d};var a=/^\s\s*/,s=/\s\s*$/;r.stringTrimLeft=function(u){return u.replace(a,"")},r.stringTrimRight=function(u){return u.replace(s,"")},r.copyObject=function(u){var f={};for(var d in u)f[d]=u[d];return f},r.copyArray=function(u){for(var f=[],d=0,c=u.length;d<c;d++)u[d]&&typeof u[d]=="object"?f[d]=this.copyObject(u[d]):f[d]=u[d];return f},r.deepCopy=function u(f){if(typeof f!="object"||!f)return f;var d;if(Array.isArray(f)){d=[];for(var c=0;c<f.length;c++)d[c]=u(f[c]);return d}if(Object.prototype.toString.call(f)!=="[object Object]")return f;d={};for(var c in f)d[c]=u(f[c]);return d},r.arrayToMap=function(u){for(var f={},d=0;d<u.length;d++)f[u[d]]=1;return f},r.createMap=function(u){var f=Object.create(null);for(var d in u)f[d]=u[d];return f},r.arrayRemove=function(u,f){for(var d=0;d<=u.length;d++)f===u[d]&&u.splice(d,1)},r.escapeRegExp=function(u){return u.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},r.escapeHTML=function(u){return(""+u).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},r.getMatchOffsets=function(u,f){var d=[];return u.replace(f,function(c){d.push({offset:arguments[arguments.length-2],length:c.length})}),d},r.deferredCall=function(u){var f=null,d=function(){f=null,u()},c=function(h){return c.cancel(),f=setTimeout(d,h||0),c};return c.schedule=c,c.call=function(){return this.cancel(),u(),c},c.cancel=function(){return clearTimeout(f),f=null,c},c.isPending=function(){return f},c},r.delayedCall=function(u,f){var d=null,c=function(){d=null,u()},h=function(p){d==null&&(d=setTimeout(c,p||f))};return h.delay=function(p){d&&clearTimeout(d),d=setTimeout(c,p||f)},h.schedule=h,h.call=function(){this.cancel(),u()},h.cancel=function(){d&&clearTimeout(d),d=null},h.isPending=function(){return d},h}}),ace.define("ace/lib/oop",["require","exports","module"],function(n,r,i){r.inherits=function(a,s){a.super_=s,a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})},r.mixin=function(a,s){for(var u in s)a[u]=s[u];return a},r.implement=function(a,s){r.mixin(a,s)}}),ace.define("ace/lib/useragent",["require","exports","module"],function(n,r,i){r.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},r.getOS=function(){return r.isMac?r.OS.MAC:r.isLinux?r.OS.LINUX:r.OS.WINDOWS};var a=typeof navigator=="object"?navigator:{},s=(/mac|win|linux/i.exec(a.platform)||["other"])[0].toLowerCase(),u=a.userAgent||"",f=a.appName||"";r.isWin=s=="win",r.isMac=s=="mac",r.isLinux=s=="linux",r.isIE=f=="Microsoft Internet Explorer"||f.indexOf("MSAppHost")>=0?parseFloat((u.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((u.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),r.isOldIE=r.isIE&&r.isIE<9,r.isGecko=r.isMozilla=u.match(/ Gecko\/\d+/),r.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",r.isWebKit=parseFloat(u.split("WebKit/")[1])||void 0,r.isChrome=parseFloat(u.split(" Chrome/")[1])||void 0,r.isEdge=parseFloat(u.split(" Edge/")[1])||void 0,r.isAIR=u.indexOf("AdobeAIR")>=0,r.isAndroid=u.indexOf("Android")>=0,r.isChromeOS=u.indexOf(" CrOS ")>=0,r.isIOS=/iPad|iPhone|iPod/.test(u)&&!window.MSStream,r.isIOS&&(r.isMac=!0),r.isMobile=r.isIOS||r.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,r,i){var a=n("./useragent"),s="http://www.w3.org/1999/xhtml";r.buildDom=function p(v,m,y){if(typeof v=="string"&&v){var w=document.createTextNode(v);return m&&m.appendChild(w),w}if(!Array.isArray(v))return v&&v.appendChild&&m&&m.appendChild(v),v;if(typeof v[0]!="string"||!v[0]){for(var _=[],S=0;S<v.length;S++){var C=p(v[S],m,y);C&&_.push(C)}return _}var $=document.createElement(v[0]),k=v[1],M=1;k&&typeof k=="object"&&!Array.isArray(k)&&(M=2);for(var S=M;S<v.length;S++)p(v[S],$,y);return M==2&&Object.keys(k).forEach(function(A){var L=k[A];A==="class"?$.className=Array.isArray(L)?L.join(" "):L:typeof L=="function"||A=="value"||A[0]=="$"?$[A]=L:A==="ref"?y&&(y[L]=$):A==="style"?typeof L=="string"&&($.style.cssText=L):L!=null&&$.setAttribute(A,L)}),m&&m.appendChild($),$},r.getDocumentHead=function(p){return p||(p=document),p.head||p.getElementsByTagName("head")[0]||p.documentElement},r.createElement=function(p,v){return document.createElementNS?document.createElementNS(v||s,p):document.createElement(p)},r.removeChildren=function(p){p.innerHTML=""},r.createTextNode=function(p,v){var m=v?v.ownerDocument:document;return m.createTextNode(p)},r.createFragment=function(p){var v=p?p.ownerDocument:document;return v.createDocumentFragment()},r.hasCssClass=function(p,v){var m=(p.className+"").split(/\s+/g);return m.indexOf(v)!==-1},r.addCssClass=function(p,v){r.hasCssClass(p,v)||(p.className+=" "+v)},r.removeCssClass=function(p,v){for(var m=p.className.split(/\s+/g);;){var y=m.indexOf(v);if(y==-1)break;m.splice(y,1)}p.className=m.join(" ")},r.toggleCssClass=function(p,v){for(var m=p.className.split(/\s+/g),y=!0;;){var w=m.indexOf(v);if(w==-1)break;y=!1,m.splice(w,1)}return y&&m.push(v),p.className=m.join(" "),y},r.setCssClass=function(p,v,m){m?r.addCssClass(p,v):r.removeCssClass(p,v)},r.hasCssString=function(p,v){var m=0,y;if(v=v||document,y=v.querySelectorAll("style")){for(;m<y.length;)if(y[m++].id===p)return!0}},r.removeElementById=function(p,v){v=v||document,v.getElementById(p)&&v.getElementById(p).remove()};var u,f=[];r.useStrictCSP=function(p){u=p,p==!1?d():f||(f=[])};function d(){var p=f;f=null,p&&p.forEach(function(v){c(v[0],v[1])})}function c(p,v,m){if(!(typeof document>"u")){if(f){if(m)d();else if(m===!1)return f.push([p,v])}if(!u){var y=m;!m||!m.getRootNode?y=document:(y=m.getRootNode(),(!y||y==m)&&(y=document));var w=y.ownerDocument||y;if(v&&r.hasCssString(v,y))return null;v&&(p+=`
/*# sourceURL=ace/css/`+v+" */");var _=r.createElement("style");_.appendChild(w.createTextNode(p)),v&&(_.id=v),y==w&&(y=r.getDocumentHead(w)),y.insertBefore(_,y.firstChild)}}}if(r.importCssString=c,r.importCssStylsheet=function(p,v){r.buildDom(["link",{rel:"stylesheet",href:p}],r.getDocumentHead(v))},r.scrollbarWidth=function(p){var v=r.createElement("ace_inner");v.style.width="100%",v.style.minWidth="0px",v.style.height="200px",v.style.display="block";var m=r.createElement("ace_outer"),y=m.style;y.position="absolute",y.left="-10000px",y.overflow="hidden",y.width="200px",y.minWidth="0px",y.height="150px",y.display="block",m.appendChild(v);var w=p&&p.documentElement||document&&document.documentElement;if(!w)return 0;w.appendChild(m);var _=v.offsetWidth;y.overflow="scroll";var S=v.offsetWidth;return _===S&&(S=m.clientWidth),w.removeChild(m),_-S},r.computedStyle=function(p,v){return window.getComputedStyle(p,"")||{}},r.setStyle=function(p,v,m){p[v]!==m&&(p[v]=m)},r.HAS_CSS_ANIMATION=!1,r.HAS_CSS_TRANSFORMS=!1,r.HI_DPI=a.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,a.isChromeOS&&(r.HI_DPI=!1),typeof document<"u"){var h=document.createElement("div");r.HI_DPI&&h.style.transform!==void 0&&(r.HAS_CSS_TRANSFORMS=!0),!a.isEdge&&typeof h.style.animationName<"u"&&(r.HAS_CSS_ANIMATION=!0),h=null}r.HAS_CSS_TRANSFORMS?r.translate=function(p,v,m){p.style.transform="translate("+Math.round(v)+"px, "+Math.round(m)+"px)"}:r.translate=function(p,v,m){p.style.top=Math.round(m)+"px",p.style.left=Math.round(v)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,r,i){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var a=n("./dom");r.get=function(s,u){var f=new XMLHttpRequest;f.open("GET",s,!0),f.onreadystatechange=function(){f.readyState===4&&u(f.responseText)},f.send(null)},r.loadScript=function(s,u){var f=a.getDocumentHead(),d=document.createElement("script");d.src=s,f.appendChild(d),d.onload=d.onreadystatechange=function(c,h){(h||!d.readyState||d.readyState=="loaded"||d.readyState=="complete")&&(d=d.onload=d.onreadystatechange=null,h||u())}},r.qualifyURL=function(s){var u=document.createElement("a");return u.href=s,u.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(n,r,i){var a={},s=function(){this.propagationStopped=!0},u=function(){this.defaultPrevented=!0};a._emit=a._dispatchEvent=function(f,d){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[f]||[],h=this._defaultHandlers[f];if(!(!c.length&&!h)){(typeof d!="object"||!d)&&(d={}),d.type||(d.type=f),d.stopPropagation||(d.stopPropagation=s),d.preventDefault||(d.preventDefault=u),c=c.slice();for(var p=0;p<c.length&&(c[p](d,this),!d.propagationStopped);p++);if(h&&!d.defaultPrevented)return h(d,this)}},a._signal=function(f,d){var c=(this._eventRegistry||{})[f];if(c){c=c.slice();for(var h=0;h<c.length;h++)c[h](d,this)}},a.once=function(f,d){var c=this;if(this.on(f,function h(){c.off(f,h),d.apply(null,arguments)}),!d)return new Promise(function(h){d=h})},a.setDefaultHandler=function(f,d){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[f]){var h=c[f],p=c._disabled_[f];p||(c._disabled_[f]=p=[]),p.push(h);var v=p.indexOf(d);v!=-1&&p.splice(v,1)}c[f]=d},a.removeDefaultHandler=function(f,d){var c=this._defaultHandlers;if(c){var h=c._disabled_[f];if(c[f]==d)h&&this.setDefaultHandler(f,h.pop());else if(h){var p=h.indexOf(d);p!=-1&&h.splice(p,1)}}},a.on=a.addEventListener=function(f,d,c){this._eventRegistry=this._eventRegistry||{};var h=this._eventRegistry[f];return h||(h=this._eventRegistry[f]=[]),h.indexOf(d)==-1&&h[c?"unshift":"push"](d),d},a.off=a.removeListener=a.removeEventListener=function(f,d){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[f];if(c){var h=c.indexOf(d);h!==-1&&c.splice(h,1)}},a.removeAllListeners=function(f){f||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[f]=void 0),this._defaultHandlers&&(this._defaultHandlers[f]=void 0)},r.EventEmitter=a}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var a=n("./oop"),s=n("./event_emitter").EventEmitter,u={setOptions:function(h){Object.keys(h).forEach(function(p){this.setOption(p,h[p])},this)},getOptions:function(h){var p={};if(h)Array.isArray(h)||(p=h,h=Object.keys(p));else{var v=this.$options;h=Object.keys(v).filter(function(m){return!v[m].hidden})}return h.forEach(function(m){p[m]=this.getOption(m)},this),p},setOption:function(h,p){if(this["$"+h]!==p){var v=this.$options[h];if(!v)return f('misspelled option "'+h+'"');if(v.forwardTo)return this[v.forwardTo]&&this[v.forwardTo].setOption(h,p);v.handlesSet||(this["$"+h]=p),v&&v.set&&v.set.call(this,p)}},getOption:function(h){var p=this.$options[h];return p?p.forwardTo?this[p.forwardTo]&&this[p.forwardTo].getOption(h):p&&p.get?p.get.call(this):this["$"+h]:f('misspelled option "'+h+'"')}};function f(h){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}function d(h,p){var v=new Error(h);v.data=p,typeof console=="object"&&console.error&&console.error(v),setTimeout(function(){throw v})}var c=function(){this.$defaultOptions={}};(function(){a.implement(this,s),this.defineOptions=function(h,p,v){return h.$options||(this.$defaultOptions[p]=h.$options={}),Object.keys(v).forEach(function(m){var y=v[m];typeof y=="string"&&(y={forwardTo:y}),y.name||(y.name=m),h.$options[y.name]=y,"initialValue"in y&&(h["$"+y.name]=y.initialValue)}),a.implement(h,u),this},this.resetOptions=function(h){Object.keys(h.$options).forEach(function(p){var v=h.$options[p];"value"in v&&h.setOption(p,v.value)})},this.setDefaultValue=function(h,p,v){if(!h){for(h in this.$defaultOptions)if(this.$defaultOptions[h][p])break;if(!this.$defaultOptions[h][p])return!1}var m=this.$defaultOptions[h]||(this.$defaultOptions[h]={});m[p]&&(m.forwardTo?this.setDefaultValue(m.forwardTo,p,v):m[p].value=v)},this.setDefaultValues=function(h,p){Object.keys(p).forEach(function(v){this.setDefaultValue(h,v,p[v])},this)},this.warn=f,this.reportError=d}).call(c.prototype),r.AppConfig=c}),ace.define("ace/theme/textmate.css",["require","exports","module"],function(n,r,i){i.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-tm",r.cssText=n("./textmate.css"),r.$id="ace/theme/textmate";var a=n("../lib/dom");a.importCssString(r.cssText,r.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,r,i){var a=n("./lib/lang");n("./lib/oop");var s=n("./lib/net"),u=n("./lib/dom"),f=n("./lib/app_config").AppConfig;i.exports=r=new f;var d={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};r.get=function(p){if(!d.hasOwnProperty(p))throw new Error("Unknown config key: "+p);return d[p]},r.set=function(p,v){if(d.hasOwnProperty(p))d[p]=v;else if(this.setDefaultValue("",p,v)==!1)throw new Error("Unknown config key: "+p);p=="useStrictCSP"&&u.useStrictCSP(v)},r.all=function(){return a.copyObject(d)},r.$modes={},r.moduleUrl=function(p,v){if(d.$moduleUrls[p])return d.$moduleUrls[p];var m=p.split("/");v=v||m[m.length-2]||"";var y=v=="snippets"?"/":"-",w=m[m.length-1];if(v=="worker"&&y=="-"){var _=new RegExp("^"+v+"[\\-_]|[\\-_]"+v+"$","g");w=w.replace(_,"")}(!w||w==v)&&m.length>1&&(w=m[m.length-2]);var S=d[v+"Path"];return S==null?S=d.basePath:y=="/"&&(v=y=""),S&&S.slice(-1)!="/"&&(S+="/"),S+v+y+w+this.get("suffix")},r.setModuleUrl=function(p,v){return d.$moduleUrls[p]=v};var c=function(p,v){return p==="ace/theme/textmate"||p==="./theme/textmate"?v(null,n("./theme/textmate")):console.error("loader is not configured")};r.setLoader=function(p){c=p},r.dynamicModules=Object.create(null),r.$loading={},r.loadModule=function(p,v){var m,y;Array.isArray(p)&&(y=p[0],p=p[1]);var w=function(_){if(_&&!r.$loading[p])return v&&v(_);if(r.$loading[p]||(r.$loading[p]=[]),r.$loading[p].push(v),!(r.$loading[p].length>1)){var S=function(){c(p,function(C,$){r._emit("load.module",{name:p,module:$});var k=r.$loading[p];r.$loading[p]=null,k.forEach(function(M){M&&M($)})})};if(!r.get("packaged"))return S();s.loadScript(r.moduleUrl(p,y),S),h()}};if(r.dynamicModules[p])r.dynamicModules[p]().then(function(_){_.default?w(_.default):w(_)});else{try{m=n(p)}catch{}w(m)}},r.setModuleLoader=function(p,v){r.dynamicModules[p]=v};var h=function(){!d.basePath&&!d.workerPath&&!d.modePath&&!d.themePath&&!Object.keys(d.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),h=function(){})};r.version="1.16.0"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,r,i){n("./lib/fixoldbrowsers");var a=n("./config");a.setLoader(function(d,c){n([d],function(h){c(null,h)})});var s=function(){return this||typeof window<"u"&&window}();i.exports=function(d){a.init=u,d.require=n},u(!0);function u(d){if(!(!s||!s.document)){a.set("packaged",d||n.packaged||i.packaged||s.define&&(void 0).packaged);var c={},h="",p=document.currentScript||document._currentScript,v=p&&p.ownerDocument||document;p&&p.src&&(h=p.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var m=v.getElementsByTagName("script"),y=0;y<m.length;y++){var w=m[y],_=w.src||w.getAttribute("src");if(_){for(var S=w.attributes,C=0,$=S.length;C<$;C++){var k=S[C];k.name.indexOf("data-ace-")===0&&(c[f(k.name.replace(/^data-ace-/,""))]=k.value)}var M=_.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);M&&(h=M[1])}}h&&(c.base=c.base||h,c.packaged=!0),c.basePath=c.base,c.workerPath=c.workerPath||c.base,c.modePath=c.modePath||c.base,c.themePath=c.themePath||c.base,delete c.base;for(var A in c)typeof c[A]<"u"&&a.set(A,c[A])}}function f(d){return d.replace(/-(.)/g,function(c,h){return h.toUpperCase()})}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,r,i){/*! @license
	==========================================================================
	SproutCore -- JavaScript Application Framework
	copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

	Permission is hereby granted, free of charge, to any person obtaining a
	copy of this software and associated documentation files (the "Software"),
	to deal in the Software without restriction, including without limitation
	the rights to use, copy, modify, merge, publish, distribute, sublicense,
	and/or sell copies of the Software, and to permit persons to whom the
	Software is furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
	DEALINGS IN THE SOFTWARE.

	SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

	For more information about SproutCore, visit http://www.sproutcore.com


	==========================================================================
	@license */var a=n("./oop"),s=function(){var u={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};u.PRINTABLE_KEYS[173]="-";var f,d;for(d in u.FUNCTION_KEYS)f=u.FUNCTION_KEYS[d].toLowerCase(),u[f]=parseInt(d,10);for(d in u.PRINTABLE_KEYS)f=u.PRINTABLE_KEYS[d].toLowerCase(),u[f]=parseInt(d,10);return a.mixin(u,u.MODIFIER_KEYS),a.mixin(u,u.PRINTABLE_KEYS),a.mixin(u,u.FUNCTION_KEYS),u.enter=u.return,u.escape=u.esc,u.del=u.delete,function(){for(var c=["cmd","ctrl","alt","shift"],h=Math.pow(2,c.length);h--;)u.KEY_MODS[h]=c.filter(function(p){return h&u.KEY_MODS[p]}).join("-")+"-"}(),u.KEY_MODS[0]="",u.KEY_MODS[-1]="input-",u}();a.mixin(r,s),r.keyCodeToString=function(u){var f=s[u];return typeof f!="string"&&(f=String.fromCharCode(u)),f.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var a=n("./keys"),s=n("./useragent"),u=null,f=0,d;function c(){d=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){d={passive:!1}}})}catch{}}function h(){return d==null&&c(),d}function p(C,$,k){this.elem=C,this.type=$,this.callback=k}p.prototype.destroy=function(){m(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var v=r.addListener=function(C,$,k,M){C.addEventListener($,k,h()),M&&M.$toDestroy.push(new p(C,$,k))},m=r.removeListener=function(C,$,k){C.removeEventListener($,k,h())};r.stopEvent=function(C){return r.stopPropagation(C),r.preventDefault(C),!1},r.stopPropagation=function(C){C.stopPropagation&&C.stopPropagation()},r.preventDefault=function(C){C.preventDefault&&C.preventDefault()},r.getButton=function(C){return C.type=="dblclick"?0:C.type=="contextmenu"||s.isMac&&C.ctrlKey&&!C.altKey&&!C.shiftKey?2:C.button},r.capture=function(C,$,k){var M=C&&C.ownerDocument||document;function A(L){$&&$(L),k&&k(L),m(M,"mousemove",$),m(M,"mouseup",A),m(M,"dragstart",A)}return v(M,"mousemove",$),v(M,"mouseup",A),v(M,"dragstart",A),A},r.addMouseWheelListener=function(C,$,k){v(C,"wheel",function(M){var A=.15,L=M.deltaX||0,N=M.deltaY||0;switch(M.deltaMode){case M.DOM_DELTA_PIXEL:M.wheelX=L*A,M.wheelY=N*A;break;case M.DOM_DELTA_LINE:var R=15;M.wheelX=L*R,M.wheelY=N*R;break;case M.DOM_DELTA_PAGE:var D=150;M.wheelX=L*D,M.wheelY=N*D;break}$(M)},k)},r.addMultiMouseDownListener=function(C,$,k,M,A){var L=0,N,R,D,j={2:"dblclick",3:"tripleclick",4:"quadclick"};function U(H){if(r.getButton(H)!==0?L=0:H.detail>1?(L++,L>4&&(L=1)):L=1,s.isIE){var Y=Math.abs(H.clientX-N)>5||Math.abs(H.clientY-R)>5;(!D||Y)&&(L=1),D&&clearTimeout(D),D=setTimeout(function(){D=null},$[L-1]||600),L==1&&(N=H.clientX,R=H.clientY)}if(H._clicks=L,k[M]("mousedown",H),L>4)L=0;else if(L>1)return k[M](j[L],H)}Array.isArray(C)||(C=[C]),C.forEach(function(H){v(H,"mousedown",U,A)})};var y=function(C){return 0|(C.ctrlKey?1:0)|(C.altKey?2:0)|(C.shiftKey?4:0)|(C.metaKey?8:0)};r.getModifierString=function(C){return a.KEY_MODS[y(C)]};function w(C,$,k){var M=y($);if(!s.isMac&&u){if($.getModifierState&&($.getModifierState("OS")||$.getModifierState("Win"))&&(M|=8),u.altGr)if((3&M)!=3)u.altGr=0;else return;if(k===18||k===17){var A="location"in $?$.location:$.keyLocation;if(k===17&&A===1)u[k]==1&&(f=$.timeStamp);else if(k===18&&M===3&&A===2){var L=$.timeStamp-f;L<50&&(u.altGr=!0)}}}if(k in a.MODIFIER_KEYS&&(k=-1),!M&&k===13){var A="location"in $?$.location:$.keyLocation;if(A===3&&(C($,M,-k),$.defaultPrevented))return}if(s.isChromeOS&&M&8){if(C($,M,k),$.defaultPrevented)return;M&=-9}return!M&&!(k in a.FUNCTION_KEYS)&&!(k in a.PRINTABLE_KEYS)?!1:C($,M,k)}r.addCommandKeyListener=function(C,$,k){if(s.isOldGecko||s.isOpera&&!("KeyboardEvent"in window)){var M=null;v(C,"keydown",function(L){M=L.keyCode},k),v(C,"keypress",function(L){return w($,L,M)},k)}else{var A=null;v(C,"keydown",function(L){u[L.keyCode]=(u[L.keyCode]||0)+1;var N=w($,L,L.keyCode);return A=L.defaultPrevented,N},k),v(C,"keypress",function(L){A&&(L.ctrlKey||L.altKey||L.shiftKey||L.metaKey)&&(r.stopEvent(L),A=null)},k),v(C,"keyup",function(L){u[L.keyCode]=null},k),u||(_(),v(window,"focus",_))}};function _(){u=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!s.isOldIE){var S=1;r.nextTick=function(C,$){$=$||window;var k="zero-timeout-message-"+S++,M=function(A){A.data==k&&(r.stopPropagation(A),m($,"message",M),C())};v($,"message",M),$.postMessage(k,"*")}}r.$idleBlocked=!1,r.onIdle=function(C,$){return setTimeout(function k(){r.$idleBlocked?setTimeout(k,100):C()},$)},r.$idleBlockId=null,r.blockIdle=function(C){r.$idleBlockId&&clearTimeout(r.$idleBlockId),r.$idleBlocked=!0,r.$idleBlockId=setTimeout(function(){r.$idleBlocked=!1},C||100)},r.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),r.nextFrame?r.nextFrame=r.nextFrame.bind(window):r.nextFrame=function(C){setTimeout(C,17)}}),ace.define("ace/range",["require","exports","module"],function(n,r,i){var a=function(u,f){return u.row-f.row||u.column-f.column},s=function(u,f,d,c){this.start={row:u,column:f},this.end={row:d,column:c}};(function(){this.isEqual=function(u){return this.start.row===u.start.row&&this.end.row===u.end.row&&this.start.column===u.start.column&&this.end.column===u.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(u,f){return this.compare(u,f)==0},this.compareRange=function(u){var f,d=u.end,c=u.start;return f=this.compare(d.row,d.column),f==1?(f=this.compare(c.row,c.column),f==1?2:f==0?1:0):f==-1?-2:(f=this.compare(c.row,c.column),f==-1?-1:f==1?42:0)},this.comparePoint=function(u){return this.compare(u.row,u.column)},this.containsRange=function(u){return this.comparePoint(u.start)==0&&this.comparePoint(u.end)==0},this.intersects=function(u){var f=this.compareRange(u);return f==-1||f==0||f==1},this.isEnd=function(u,f){return this.end.row==u&&this.end.column==f},this.isStart=function(u,f){return this.start.row==u&&this.start.column==f},this.setStart=function(u,f){typeof u=="object"?(this.start.column=u.column,this.start.row=u.row):(this.start.row=u,this.start.column=f)},this.setEnd=function(u,f){typeof u=="object"?(this.end.column=u.column,this.end.row=u.row):(this.end.row=u,this.end.column=f)},this.inside=function(u,f){return this.compare(u,f)==0?!(this.isEnd(u,f)||this.isStart(u,f)):!1},this.insideStart=function(u,f){return this.compare(u,f)==0?!this.isEnd(u,f):!1},this.insideEnd=function(u,f){return this.compare(u,f)==0?!this.isStart(u,f):!1},this.compare=function(u,f){return!this.isMultiLine()&&u===this.start.row?f<this.start.column?-1:f>this.end.column?1:0:u<this.start.row?-1:u>this.end.row?1:this.start.row===u?f>=this.start.column?0:-1:this.end.row===u?f<=this.end.column?0:1:0},this.compareStart=function(u,f){return this.start.row==u&&this.start.column==f?-1:this.compare(u,f)},this.compareEnd=function(u,f){return this.end.row==u&&this.end.column==f?1:this.compare(u,f)},this.compareInside=function(u,f){return this.end.row==u&&this.end.column==f?1:this.start.row==u&&this.start.column==f?-1:this.compare(u,f)},this.clipRows=function(u,f){if(this.end.row>f)var d={row:f+1,column:0};else if(this.end.row<u)var d={row:u,column:0};if(this.start.row>f)var c={row:f+1,column:0};else if(this.start.row<u)var c={row:u,column:0};return s.fromPoints(c||this.start,d||this.end)},this.extend=function(u,f){var d=this.compare(u,f);if(d==0)return this;if(d==-1)var c={row:u,column:f};else var h={row:u,column:f};return s.fromPoints(c||this.start,h||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return s.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new s(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new s(this.start.row,0,this.end.row,0)},this.toScreenRange=function(u){var f=u.documentToScreenPosition(this.start),d=u.documentToScreenPosition(this.end);return new s(f.row,f.column,d.row,d.column)},this.moveBy=function(u,f){this.start.row+=u,this.start.column+=f,this.end.row+=u,this.end.column+=f}}).call(s.prototype),s.fromPoints=function(u,f){return new s(u.row,u.column,f.row,f.column)},s.comparePoints=a,s.comparePoints=function(u,f){return u.row-f.row||u.column-f.column},r.Range=s}),ace.define("ace/clipboard",["require","exports","module"],function(n,r,i){var a;i.exports={lineMode:!1,pasteCancelled:function(){return a&&a>Date.now()-50?!0:a=!1},cancel:function(){a=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,r,i){var a=n("../lib/event"),s=n("../lib/useragent"),u=n("../lib/dom"),f=n("../lib/lang"),d=n("../clipboard"),c=s.isChrome<18,h=s.isIE,p=s.isChrome>63,v=400,m=n("../lib/keys"),y=m.KEY_MODS,w=s.isIOS,_=w?/\s/:/\n/,S=s.isMobile,C=function($,k){var M=u.createElement("textarea");M.className="ace_text-input",M.setAttribute("wrap","off"),M.setAttribute("autocorrect","off"),M.setAttribute("autocapitalize","off"),M.setAttribute("spellcheck",!1),M.style.opacity="0",$.insertBefore(M,$.firstChild);var A=!1,L=!1,N=!1,R=!1,D="";S||(M.style.fontSize="1px");var j=!1,U=!1,H="",Y=0,Z=0,Q=0;try{var ee=document.activeElement===M}catch{}this.setAriaOptions=function(tt){tt.activeDescendant?(M.setAttribute("aria-haspopup","true"),M.setAttribute("aria-autocomplete",tt.inline?"both":"list"),M.setAttribute("aria-activedescendant",tt.activeDescendant)):(M.setAttribute("aria-haspopup","false"),M.setAttribute("aria-autocomplete","both"),M.removeAttribute("aria-activedescendant")),tt.role&&M.setAttribute("role",tt.role)},this.setAriaOptions({role:"textbox"}),a.addListener(M,"blur",function(tt){U||(k.onBlur(tt),ee=!1)},k),a.addListener(M,"focus",function(tt){if(!U){if(ee=!0,s.isEdge)try{if(!document.hasFocus())return}catch{}k.onFocus(tt),s.isEdge?setTimeout(oe):oe()}},k),this.$focusScroll=!1,this.focus=function(){if(D||p||this.$focusScroll=="browser")return M.focus({preventScroll:!0});var tt=M.style.top;M.style.position="fixed",M.style.top="0px";try{var wt=M.getBoundingClientRect().top!=0}catch{return}var vt=[];if(wt)for(var Le=M.parentElement;Le&&Le.nodeType==1;)vt.push(Le),Le.setAttribute("ace_nocontext",!0),!Le.parentElement&&Le.getRootNode?Le=Le.getRootNode().host:Le=Le.parentElement;M.focus({preventScroll:!0}),wt&&vt.forEach(function(ft){ft.removeAttribute("ace_nocontext")}),setTimeout(function(){M.style.position="",M.style.top=="0px"&&(M.style.top=tt)},0)},this.blur=function(){M.blur()},this.isFocused=function(){return ee},k.on("beforeEndOperation",function(){var tt=k.curOp,wt=tt&&tt.command&&tt.command.name;if(wt!="insertstring"){var vt=wt&&(tt.docChanged||tt.selectionChanged);N&&vt&&(H=M.value="",gt()),oe()}});var oe=w?function(tt){if(!(!ee||A&&!tt||R)){tt||(tt="");var wt=`
 ab`+tt+`cde fg
`;wt!=M.value&&(M.value=H=wt);var vt=4,Le=4+(tt.length||(k.selection.isEmpty()?0:1));(Y!=vt||Z!=Le)&&M.setSelectionRange(vt,Le),Y=vt,Z=Le}}:function(){if(!(N||R)&&!(!ee&&!de)){N=!0;var tt=0,wt=0,vt="";if(k.session){var Le=k.selection,ft=Le.getRange(),Mt=Le.cursor.row;if(tt=ft.start.column,wt=ft.end.column,vt=k.session.getLine(Mt),ft.start.row!=Mt){var yt=k.session.getLine(Mt-1);tt=ft.start.row<Mt-1?0:tt,wt+=yt.length+1,vt=yt+`
`+vt}else if(ft.end.row!=Mt){var Ct=k.session.getLine(Mt+1);wt=ft.end.row>Mt+1?Ct.length:wt,wt+=vt.length+1,vt=vt+`
`+Ct}else S&&Mt>0&&(vt=`
`+vt,wt+=1,tt+=1);vt.length>v&&(tt<v&&wt<v?vt=vt.slice(0,v):(vt=`
`,tt==wt?tt=wt=0:(tt=0,wt=1)))}var jt=vt+`

`;if(jt!=H&&(M.value=H=jt,Y=Z=jt.length),de&&(Y=M.selectionStart,Z=M.selectionEnd),Z!=wt||Y!=tt||M.selectionEnd!=Z)try{M.setSelectionRange(tt,wt),Y=tt,Z=wt}catch{}N=!1}};this.resetSelection=oe,ee&&k.onFocus();var ue=function(tt){return tt.selectionStart===0&&tt.selectionEnd>=H.length&&tt.value===H&&H&&tt.selectionEnd!==Z},ve=function(tt){N||(A?A=!1:ue(M)?(k.selectAll(),oe()):S&&M.selectionStart!=Y&&oe())},le=null;this.setInputHandler=function(tt){le=tt},this.getInputHandler=function(){return le};var de=!1,me=function(tt,wt){if(de&&(de=!1),L)return oe(),tt&&k.onPaste(tt),L=!1,"";for(var vt=M.selectionStart,Le=M.selectionEnd,ft=Y,Mt=H.length-Z,yt=tt,Ct=tt.length-vt,jt=tt.length-Le,At=0;ft>0&&H[At]==tt[At];)At++,ft--;for(yt=yt.slice(At),At=1;Mt>0&&H.length-At>Y-1&&H[H.length-At]==tt[tt.length-At];)At++,Mt--;Ct-=At-1,jt-=At-1;var Bt=yt.length-At+1;if(Bt<0&&(ft=-Bt,Bt=0),yt=yt.slice(0,Bt),!wt&&!yt&&!Ct&&!ft&&!Mt&&!jt)return"";R=!0;var kt=!1;return s.isAndroid&&yt==". "&&(yt="  ",kt=!0),yt&&!ft&&!Mt&&!Ct&&!jt||j?k.onTextInput(yt):k.onTextInput(yt,{extendLeft:ft,extendRight:Mt,restoreStart:Ct,restoreEnd:jt}),R=!1,H=tt,Y=vt,Z=Le,Q=jt,kt?`
`:yt},Se=function(tt){if(N)return He();if(tt&&tt.inputType){if(tt.inputType=="historyUndo")return k.execCommand("undo");if(tt.inputType=="historyRedo")return k.execCommand("redo")}var wt=M.value,vt=me(wt,!0);(wt.length>v+100||_.test(vt)||S&&Y<1&&Y==Z)&&oe()},Ee=function(tt,wt,vt){var Le=tt.clipboardData||window.clipboardData;if(!(!Le||c)){var ft=h||vt?"Text":"text/plain";try{return wt?Le.setData(ft,wt)!==!1:Le.getData(ft)}catch(Mt){if(!vt)return Ee(Mt,wt,!0)}}},xe=function(tt,wt){var vt=k.getCopyText();if(!vt)return a.preventDefault(tt);Ee(tt,vt)?(w&&(oe(vt),A=vt,setTimeout(function(){A=!1},10)),wt?k.onCut():k.onCopy(),a.preventDefault(tt)):(A=!0,M.value=vt,M.select(),setTimeout(function(){A=!1,oe(),wt?k.onCut():k.onCopy()}))},Ie=function(tt){xe(tt,!0)},Ne=function(tt){xe(tt,!1)},We=function(tt){var wt=Ee(tt);d.pasteCancelled()||(typeof wt=="string"?(wt&&k.onPaste(wt,tt),s.isIE&&setTimeout(oe),a.preventDefault(tt)):(M.value="",L=!0))};a.addCommandKeyListener(M,k.onCommandKey.bind(k),k),a.addListener(M,"select",ve,k),a.addListener(M,"input",Se,k),a.addListener(M,"cut",Ie,k),a.addListener(M,"copy",Ne,k),a.addListener(M,"paste",We,k),(!("oncut"in M)||!("oncopy"in M)||!("onpaste"in M))&&a.addListener($,"keydown",function(tt){if(!(s.isMac&&!tt.metaKey||!tt.ctrlKey))switch(tt.keyCode){case 67:Ne(tt);break;case 86:We(tt);break;case 88:Ie(tt);break}},k);var Me=function(tt){if(!(N||!k.onCompositionStart||k.$readOnly)&&(N={},!j)){tt.data&&(N.useTextareaForIME=!1),setTimeout(He,0),k._signal("compositionStart"),k.on("mousedown",Ye);var wt=k.getSelectionRange();wt.end.row=wt.start.row,wt.end.column=wt.start.column,N.markerRange=wt,N.selectionStart=Y,k.onCompositionStart(N),N.useTextareaForIME?(H=M.value="",Y=0,Z=0):(M.msGetInputContext&&(N.context=M.msGetInputContext()),M.getInputContext&&(N.context=M.getInputContext()))}},He=function(){if(!(!N||!k.onCompositionUpdate||k.$readOnly)){if(j)return Ye();if(N.useTextareaForIME)k.onCompositionUpdate(M.value);else{var tt=M.value;me(tt),N.markerRange&&(N.context&&(N.markerRange.start.column=N.selectionStart=N.context.compositionStartOffset),N.markerRange.end.column=N.markerRange.start.column+Z-N.selectionStart+Q)}}},gt=function(tt){!k.onCompositionEnd||k.$readOnly||(N=!1,k.onCompositionEnd(),k.off("mousedown",Ye),tt&&Se())};function Ye(){U=!0,M.blur(),M.focus(),U=!1}var ot=f.delayedCall(He,50).schedule.bind(null,null);function Ue(tt){tt.keyCode==27&&M.value.length<M.selectionStart&&(N||(H=M.value),Y=Z=-1,oe()),ot()}a.addListener(M,"compositionstart",Me,k),a.addListener(M,"compositionupdate",He,k),a.addListener(M,"keyup",Ue,k),a.addListener(M,"keydown",ot,k),a.addListener(M,"compositionend",gt,k),this.getElement=function(){return M},this.setCommandMode=function(tt){j=tt,M.readOnly=!1},this.setReadOnly=function(tt){j||(M.readOnly=tt)},this.setCopyWithEmptySelection=function(tt){},this.onContextMenu=function(tt){de=!0,oe(),k._emit("nativecontextmenu",{target:k,domEvent:tt}),this.moveToMouse(tt,!0)},this.moveToMouse=function(tt,wt){D||(D=M.style.cssText),M.style.cssText=(wt?"z-index:100000;":"")+(s.isIE?"opacity:0.1;":"")+"text-indent: -"+(Y+Z)*k.renderer.characterWidth*.5+"px;";var vt=k.container.getBoundingClientRect(),Le=u.computedStyle(k.container),ft=vt.top+(parseInt(Le.borderTopWidth)||0),Mt=vt.left+(parseInt(vt.borderLeftWidth)||0),yt=vt.bottom-ft-M.clientHeight-2,Ct=function(jt){u.translate(M,jt.clientX-Mt-2,Math.min(jt.clientY-ft-2,yt))};Ct(tt),tt.type=="mousedown"&&(k.renderer.$isMousePressed=!0,clearTimeout(st),s.isWin&&a.capture(k.container,Ct,at))},this.onContextMenuClose=at;var st;function at(){clearTimeout(st),st=setTimeout(function(){D&&(M.style.cssText=D,D=""),k.renderer.$isMousePressed=!1,k.renderer.$keepTextAreaAtCursor&&k.renderer.$moveTextAreaToCursor()},0)}var St=function(tt){k.textInput.onContextMenu(tt),at()};a.addListener(M,"mouseup",St,k),a.addListener(M,"mousedown",function(tt){tt.preventDefault(),at()},k),a.addListener(k.renderer.scroller,"contextmenu",St,k),a.addListener(M,"contextmenu",St,k),w&&Vt($,k,M);function Vt(tt,wt,vt){var Le=null,ft=!1;vt.addEventListener("keydown",function(yt){Le&&clearTimeout(Le),ft=!0},!0),vt.addEventListener("keyup",function(yt){Le=setTimeout(function(){ft=!1},100)},!0);var Mt=function(yt){if(document.activeElement===vt&&!(ft||N||wt.$mouseHandler.isMousePressed)&&!A){var Ct=vt.selectionStart,jt=vt.selectionEnd,At=null,Bt=0;if(Ct==0?At=m.up:Ct==1?At=m.home:jt>Z&&H[jt]==`
`?At=m.end:Ct<Y&&H[Ct-1]==" "?(At=m.left,Bt=y.option):Ct<Y||Ct==Y&&Z!=Y&&Ct==jt?At=m.left:jt>Z&&H.slice(0,jt).split(`
`).length>2?At=m.down:jt>Z&&H[jt-1]==" "?(At=m.right,Bt=y.option):(jt>Z||jt==Z&&Z!=Y&&Ct==jt)&&(At=m.right),Ct!==jt&&(Bt|=y.shift),At){var kt=wt.onCommandKey({},Bt,At);if(!kt&&wt.commands){At=m.keyCodeToString(At);var qt=wt.commands.findKeyCommand(Bt,At);qt&&wt.execCommand(qt)}Y=Ct,Z=jt,oe("")}}};document.addEventListener("selectionchange",Mt),wt.on("destroy",function(){document.removeEventListener("selectionchange",Mt)})}this.destroy=function(){M.parentElement&&M.parentElement.removeChild(M)}};r.TextInput=C,r.$setUserAgentForTests=function($,k){S=$,w=k}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,r,i){var a=n("../lib/useragent"),s=0,u=550;function f(h){h.$clickSelection=null;var p=h.editor;p.setDefaultHandler("mousedown",this.onMouseDown.bind(h)),p.setDefaultHandler("dblclick",this.onDoubleClick.bind(h)),p.setDefaultHandler("tripleclick",this.onTripleClick.bind(h)),p.setDefaultHandler("quadclick",this.onQuadClick.bind(h)),p.setDefaultHandler("mousewheel",this.onMouseWheel.bind(h));var v=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];v.forEach(function(m){h[m]=this[m]},this),h.selectByLines=this.extendSelectionBy.bind(h,"getLineRange"),h.selectByWords=this.extendSelectionBy.bind(h,"getWordRange")}(function(){this.onMouseDown=function(h){var p=h.inSelection(),v=h.getDocumentPosition();this.mousedownEvent=h;var m=this.editor,y=h.getButton();if(y!==0){var w=m.getSelectionRange(),_=w.isEmpty();(_||y==1)&&m.selection.moveToPosition(v),y==2&&(m.textInput.onContextMenu(h.domEvent),a.isMozilla||h.preventDefault());return}if(this.mousedownEvent.time=Date.now(),p&&!m.isFocused()&&(m.focus(),this.$focusTimeout&&!this.$clickSelection&&!m.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(h);return}return this.captureMouse(h),this.startSelect(v,h.domEvent._clicks>1),h.preventDefault()},this.startSelect=function(h,p){h=h||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var v=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?v.selection.selectToPosition(h):p||v.selection.moveToPosition(h),p||this.select(),v.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var h,p=this.editor,v=p.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var m=this.$clickSelection.comparePoint(v);if(m==-1)h=this.$clickSelection.end;else if(m==1)h=this.$clickSelection.start;else{var y=c(this.$clickSelection,v);v=y.cursor,h=y.anchor}p.selection.setSelectionAnchor(h.row,h.column)}p.selection.selectToPosition(v),p.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(h){var p,v=this.editor,m=v.renderer.screenToTextCoordinates(this.x,this.y),y=v.selection[h](m.row,m.column);if(this.$clickSelection){var w=this.$clickSelection.comparePoint(y.start),_=this.$clickSelection.comparePoint(y.end);if(w==-1&&_<=0)p=this.$clickSelection.end,(y.end.row!=m.row||y.end.column!=m.column)&&(m=y.start);else if(_==1&&w>=0)p=this.$clickSelection.start,(y.start.row!=m.row||y.start.column!=m.column)&&(m=y.end);else if(w==-1&&_==1)m=y.end,p=y.start;else{var S=c(this.$clickSelection,m);m=S.cursor,p=S.anchor}v.selection.setSelectionAnchor(p.row,p.column)}v.selection.selectToPosition(m),v.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},this.focusWait=function(){var h=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),p=Date.now();(h>s||p-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(h){var p=h.getDocumentPosition(),v=this.editor,m=v.session,y=m.getBracketRange(p);y?(y.isEmpty()&&(y.start.column--,y.end.column++),this.setState("select")):(y=v.selection.getWordRange(p.row,p.column),this.setState("selectByWords")),this.$clickSelection=y,this.select()},this.onTripleClick=function(h){var p=h.getDocumentPosition(),v=this.editor;this.setState("selectByLines");var m=v.getSelectionRange();m.isMultiLine()&&m.contains(p.row,p.column)?(this.$clickSelection=v.selection.getLineRange(m.start.row),this.$clickSelection.end=v.selection.getLineRange(m.end.row).end):this.$clickSelection=v.selection.getLineRange(p.row),this.select()},this.onQuadClick=function(h){var p=this.editor;p.selectAll(),this.$clickSelection=p.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(h){if(!h.getAccelKey()){h.getShiftKey()&&h.wheelY&&!h.wheelX&&(h.wheelX=h.wheelY,h.wheelY=0);var p=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var v=this.$lastScroll,m=h.domEvent.timeStamp,y=m-v.t,w=y?h.wheelX/y:v.vx,_=y?h.wheelY/y:v.vy;y<u&&(w=(w+v.vx)/2,_=(_+v.vy)/2);var S=Math.abs(w/_),C=!1;if(S>=1&&p.renderer.isScrollableBy(h.wheelX*h.speed,0)&&(C=!0),S<=1&&p.renderer.isScrollableBy(0,h.wheelY*h.speed)&&(C=!0),C)v.allowed=m;else if(m-v.allowed<u){var $=Math.abs(w)<=1.5*Math.abs(v.vx)&&Math.abs(_)<=1.5*Math.abs(v.vy);$?(C=!0,v.allowed=m):v.allowed=0}if(v.t=m,v.vx=w,v.vy=_,C)return p.renderer.scrollBy(h.wheelX*h.speed,h.wheelY*h.speed),h.stop()}}}).call(f.prototype),r.DefaultHandlers=f;function d(h,p,v,m){return Math.sqrt(Math.pow(v-h,2)+Math.pow(m-p,2))}function c(h,p){if(h.start.row==h.end.row)var v=2*p.column-h.start.column-h.end.column;else if(h.start.row==h.end.row-1&&!h.start.column&&!h.end.column)var v=p.column-4;else var v=2*p.row-h.start.row-h.end.row;return v<0?{cursor:h.start,anchor:h.end}:{cursor:h.end,anchor:h.start}}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(n,r,i){n("./lib/oop");var a=n("./lib/dom"),s="ace_tooltip";function u(f){this.isOpen=!1,this.$element=null,this.$parentNode=f}(function(){this.$init=function(){return this.$element=a.createElement("div"),this.$element.className=s,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(f){this.getElement().textContent=f},this.setHtml=function(f){this.getElement().innerHTML=f},this.setPosition=function(f,d){this.getElement().style.left=f+"px",this.getElement().style.top=d+"px"},this.setClassName=function(f){a.addCssClass(this.getElement(),f)},this.show=function(f,d,c){f!=null&&this.setText(f),d!=null&&c!=null&&this.setPosition(d,c),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=s,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(u.prototype),r.Tooltip=u}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(n,r,i){var a=n("../lib/dom"),s=n("../lib/oop"),u=n("../lib/event"),f=n("../tooltip").Tooltip;function d(h){var p=h.editor,v=p.renderer.$gutterLayer,m=new c(p.container);h.editor.setDefaultHandler("guttermousedown",function(k){if(!(!p.isFocused()||k.getButton()!=0)){var M=v.getRegion(k);if(M!="foldWidgets"){var A=k.getDocumentPosition().row,L=p.session.selection;if(k.getShiftKey())L.selectTo(A,0);else{if(k.domEvent.detail==2)return p.selectAll(),k.preventDefault();h.$clickSelection=p.selection.getLineRange(A)}return h.setState("selectByLines"),h.captureMouse(k),k.preventDefault()}}});var y,w,_;function S(){var k=w.getDocumentPosition().row,M=v.$annotations[k];if(!M)return C();var A=p.session.getLength();if(k==A){var L=p.renderer.pixelToScreenCoordinates(0,w.y).row,N=w.$pos;if(L>p.session.documentToScreenRow(N.row,N.column))return C()}if(_!=M){_=M.text.join("<br/>"),m.setHtml(_);var R=M.className;if(R&&m.setClassName(R.trim()),m.show(),p._signal("showGutterTooltip",m),p.on("mousewheel",C),h.$tooltipFollowsMouse)$(w);else{var D=w.domEvent.target,j=D.getBoundingClientRect(),U=m.getElement().style;U.left=j.right+"px",U.top=j.bottom+"px"}}}function C(){y&&(y=clearTimeout(y)),_&&(m.hide(),_=null,p._signal("hideGutterTooltip",m),p.off("mousewheel",C))}function $(k){m.setPosition(k.x,k.y)}h.editor.setDefaultHandler("guttermousemove",function(k){var M=k.domEvent.target||k.domEvent.srcElement;if(a.hasCssClass(M,"ace_fold-widget"))return C();_&&h.$tooltipFollowsMouse&&$(k),w=k,!y&&(y=setTimeout(function(){y=null,w&&!h.isMousePressed?S():C()},50))}),u.addListener(p.renderer.$gutter,"mouseout",function(k){w=null,!(!_||y)&&(y=setTimeout(function(){y=null,C()},50))},p),p.on("changeSession",C)}function c(h){f.call(this,h)}s.inherits(c,f),function(){this.setPosition=function(h,p){var v=window.innerWidth||document.documentElement.clientWidth,m=window.innerHeight||document.documentElement.clientHeight,y=this.getWidth(),w=this.getHeight();h+=15,p+=15,h+y>v&&(h-=h+y-v),p+w>m&&(p-=20+w),f.prototype.setPosition.call(this,h,p)}}.call(c.prototype),r.GutterHandler=d}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var a=n("../lib/event"),s=n("../lib/useragent"),u=r.MouseEvent=function(f,d){this.domEvent=f,this.editor=d,this.x=this.clientX=f.clientX,this.y=this.clientY=f.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){a.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){a.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var f=this.editor,d=f.getSelectionRange();if(d.isEmpty())this.$inSelection=!1;else{var c=this.getDocumentPosition();this.$inSelection=d.contains(c.row,c.column)}return this.$inSelection},this.getButton=function(){return a.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=s.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(u.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,r,i){var a=n("../lib/dom"),s=n("../lib/event"),u=n("../lib/useragent"),f=200,d=200,c=5;function h(v){var m=v.editor,y=a.createElement("div");y.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",y.textContent="";var w=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];w.forEach(function(de){v[de]=this[de]},this),m.on("mousedown",this.onMouseDown.bind(v));var _=m.container,S,C,$,k,M,A,L=0,N,R,D,j,U;this.onDragStart=function(de){if(this.cancelDrag||!_.draggable){var me=this;return setTimeout(function(){me.startSelect(),me.captureMouse(de)},0),de.preventDefault()}M=m.getSelectionRange();var Se=de.dataTransfer;Se.effectAllowed=m.getReadOnly()?"copy":"copyMove",m.container.appendChild(y),Se.setDragImage&&Se.setDragImage(y,0,0),setTimeout(function(){m.container.removeChild(y)}),Se.clearData(),Se.setData("Text",m.session.getTextRange()),R=!0,this.setState("drag")},this.onDragEnd=function(de){if(_.draggable=!1,R=!1,this.setState(null),!m.getReadOnly()){var me=de.dataTransfer.dropEffect;!N&&me=="move"&&m.session.remove(m.getSelectionRange()),m.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(de){if(!(m.getReadOnly()||!ve(de.dataTransfer)))return C=de.clientX,$=de.clientY,S||Q(),L++,de.dataTransfer.dropEffect=N=le(de),s.preventDefault(de)},this.onDragOver=function(de){if(!(m.getReadOnly()||!ve(de.dataTransfer)))return C=de.clientX,$=de.clientY,S||(Q(),L++),oe!==null&&(oe=null),de.dataTransfer.dropEffect=N=le(de),s.preventDefault(de)},this.onDragLeave=function(de){if(L--,L<=0&&S)return ee(),N=null,s.preventDefault(de)},this.onDrop=function(de){if(A){var me=de.dataTransfer;if(R)switch(N){case"move":M.contains(A.row,A.column)?M={start:A,end:A}:M=m.moveText(M,A);break;case"copy":M=m.moveText(M,A,!0);break}else{var Se=me.getData("Text");M={start:A,end:m.session.insert(A,Se)},m.focus(),N=null}return ee(),s.preventDefault(de)}},s.addListener(_,"dragstart",this.onDragStart.bind(v),m),s.addListener(_,"dragend",this.onDragEnd.bind(v),m),s.addListener(_,"dragenter",this.onDragEnter.bind(v),m),s.addListener(_,"dragover",this.onDragOver.bind(v),m),s.addListener(_,"dragleave",this.onDragLeave.bind(v),m),s.addListener(_,"drop",this.onDrop.bind(v),m);function H(de,me){var Se=Date.now(),Ee=!me||de.row!=me.row,xe=!me||de.column!=me.column;if(!j||Ee||xe)m.moveCursorToPosition(de),j=Se,U={x:C,y:$};else{var Ie=p(U.x,U.y,C,$);Ie>c?j=null:Se-j>=d&&(m.renderer.scrollCursorIntoView(),j=null)}}function Y(de,me){var Se=Date.now(),Ee=m.renderer.layerConfig.lineHeight,xe=m.renderer.layerConfig.characterWidth,Ie=m.renderer.scroller.getBoundingClientRect(),Ne={x:{left:C-Ie.left,right:Ie.right-C},y:{top:$-Ie.top,bottom:Ie.bottom-$}},We=Math.min(Ne.x.left,Ne.x.right),Me=Math.min(Ne.y.top,Ne.y.bottom),He={row:de.row,column:de.column};We/xe<=2&&(He.column+=Ne.x.left<Ne.x.right?-3:2),Me/Ee<=1&&(He.row+=Ne.y.top<Ne.y.bottom?-1:1);var gt=de.row!=He.row,Ye=de.column!=He.column,ot=!me||de.row!=me.row;gt||Ye&&!ot?D?Se-D>=f&&m.renderer.scrollCursorIntoView(He):D=Se:D=null}function Z(){var de=A;A=m.renderer.screenToTextCoordinates(C,$),H(A,de),Y(A,de)}function Q(){M=m.selection.toOrientedRange(),S=m.session.addMarker(M,"ace_selection",m.getSelectionStyle()),m.clearSelection(),m.isFocused()&&m.renderer.$cursorLayer.setBlinking(!1),clearInterval(k),Z(),k=setInterval(Z,20),L=0,s.addListener(document,"mousemove",ue)}function ee(){clearInterval(k),m.session.removeMarker(S),S=null,m.selection.fromOrientedRange(M),m.isFocused()&&!R&&m.$resetCursorStyle(),M=null,A=null,L=0,D=null,j=null,s.removeListener(document,"mousemove",ue)}var oe=null;function ue(){oe==null&&(oe=setTimeout(function(){oe!=null&&S&&ee()},20))}function ve(de){var me=de.types;return!me||Array.prototype.some.call(me,function(Se){return Se=="text/plain"||Se=="Text"})}function le(de){var me=["copy","copymove","all","uninitialized"],Se=["move","copymove","linkmove","all","uninitialized"],Ee=u.isMac?de.altKey:de.ctrlKey,xe="uninitialized";try{xe=de.dataTransfer.effectAllowed.toLowerCase()}catch{}var Ie="none";return Ee&&me.indexOf(xe)>=0?Ie="copy":Se.indexOf(xe)>=0?Ie="move":me.indexOf(xe)>=0&&(Ie="copy"),Ie}}(function(){this.dragWait=function(){var v=Date.now()-this.mousedownEvent.time;v>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var v=this.editor.container;v.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(v){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var v=this.editor,m=v.container;m.draggable=!0,v.renderer.$cursorLayer.setBlinking(!1),v.setStyle("ace_dragging");var y=u.isWin?"default":"move";v.renderer.setCursorStyle(y),this.setState("dragReady")},this.onMouseDrag=function(v){var m=this.editor.container;if(u.isIE&&this.state=="dragReady"){var y=p(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);y>3&&m.dragDrop()}if(this.state==="dragWait"){var y=p(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);y>0&&(m.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(v){if(this.$dragEnabled){this.mousedownEvent=v;var m=this.editor,y=v.inSelection(),w=v.getButton(),_=v.domEvent.detail||1;if(_===1&&w===0&&y){if(v.editor.inMultiSelectMode&&(v.getAccelKey()||v.getShiftKey()))return;this.mousedownEvent.time=Date.now();var S=v.domEvent.target||v.domEvent.srcElement;if("unselectable"in S&&(S.unselectable="on"),m.getDragDelay()){if(u.isWebKit){this.cancelDrag=!0;var C=m.container;C.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(v,this.onMouseDrag.bind(this)),v.defaultPrevented=!0}}}}).call(h.prototype);function p(v,m,y,w){return Math.sqrt(Math.pow(y-v,2)+Math.pow(w-m,2))}r.DragdropHandler=h}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,r,i){var a=n("./mouse_event").MouseEvent,s=n("../lib/event"),u=n("../lib/dom");r.addTouchListeners=function(f,d){var c="scroll",h,p,v,m,y,w,_=0,S,C=0,$=0,k=0,M,A;function L(){var H=window.navigator&&window.navigator.clipboard,Y=!1,Z=function(){var ee=d.getCopyText(),oe=d.session.getUndoManager().hasUndo();A.replaceChild(u.buildDom(Y?["span",!ee&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],ee&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],ee&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],H&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],oe&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),A.firstChild)},Q=function(ee){var oe=ee.target.getAttribute("action");if(oe=="more"||!Y)return Y=!Y,Z();oe=="paste"?H.readText().then(function(ue){d.execCommand(oe,ue)}):oe&&((oe=="cut"||oe=="copy")&&(H?H.writeText(d.getCopyText()):document.execCommand("copy")),d.execCommand(oe)),A.firstChild.style.display="none",Y=!1,oe!="openCommandPallete"&&d.focus()};A=u.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(ee){c="menu",ee.stopPropagation(),ee.preventDefault(),d.textInput.focus()},ontouchend:function(ee){ee.stopPropagation(),ee.preventDefault(),Q(ee)},onclick:Q},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],d.container)}function N(){A||L();var H=d.selection.cursor,Y=d.renderer.textToScreenCoordinates(H.row,H.column),Z=d.renderer.textToScreenCoordinates(0,0).pageX,Q=d.renderer.scrollLeft,ee=d.container.getBoundingClientRect();A.style.top=Y.pageY-ee.top-3+"px",Y.pageX-ee.left<ee.width-70?(A.style.left="",A.style.right="10px"):(A.style.right="",A.style.left=Z+Q-ee.left+"px"),A.style.display="",A.firstChild.style.display="none",d.on("input",R)}function R(H){A&&(A.style.display="none"),d.off("input",R)}function D(){y=null,clearTimeout(y);var H=d.selection.getRange(),Y=H.contains(S.row,S.column);(H.isEmpty()||!Y)&&(d.selection.moveToPosition(S),d.selection.selectWord()),c="wait",N()}function j(){y=null,clearTimeout(y),d.selection.moveToPosition(S);var H=C>=2?d.selection.getLineRange(S.row):d.session.getBracketRange(S);H&&!H.isEmpty()?d.selection.setRange(H):d.selection.selectWord(),c="wait"}s.addListener(f,"contextmenu",function(H){if(M){var Y=d.textInput.getElement();Y.focus()}},d),s.addListener(f,"touchstart",function(H){var Y=H.touches;if(y||Y.length>1){clearTimeout(y),y=null,v=-1,c="zoom";return}M=d.$mouseHandler.isMousePressed=!0;var Z=d.renderer.layerConfig.lineHeight,Q=d.renderer.layerConfig.lineHeight,ee=H.timeStamp;m=ee;var oe=Y[0],ue=oe.clientX,ve=oe.clientY;Math.abs(h-ue)+Math.abs(p-ve)>Z&&(v=-1),h=H.clientX=ue,p=H.clientY=ve,$=k=0;var le=new a(H,d);if(S=le.getDocumentPosition(),ee-v<500&&Y.length==1&&!_)C++,H.preventDefault(),H.button=0,j();else{C=0;var de=d.selection.cursor,me=d.selection.isEmpty()?de:d.selection.anchor,Se=d.renderer.$cursorLayer.getPixelPosition(de,!0),Ee=d.renderer.$cursorLayer.getPixelPosition(me,!0),xe=d.renderer.scroller.getBoundingClientRect(),Ie=d.renderer.layerConfig.offset,Ne=d.renderer.scrollLeft,We=function(gt,Ye){return gt=gt/Q,Ye=Ye/Z-.75,gt*gt+Ye*Ye};if(H.clientX<xe.left){c="zoom";return}var Me=We(H.clientX-xe.left-Se.left+Ne,H.clientY-xe.top-Se.top+Ie),He=We(H.clientX-xe.left-Ee.left+Ne,H.clientY-xe.top-Ee.top+Ie);Me<3.5&&He<3.5&&(c=Me>He?"cursor":"anchor"),He<3.5?c="anchor":Me<3.5?c="cursor":c="scroll",y=setTimeout(D,450)}v=ee},d),s.addListener(f,"touchend",function(H){M=d.$mouseHandler.isMousePressed=!1,w&&clearInterval(w),c=="zoom"?(c="",_=0):y?(d.selection.moveToPosition(S),_=0,N()):c=="scroll"?(U(),R()):N(),clearTimeout(y),y=null},d),s.addListener(f,"touchmove",function(H){y&&(clearTimeout(y),y=null);var Y=H.touches;if(!(Y.length>1||c=="zoom")){var Z=Y[0],Q=h-Z.clientX,ee=p-Z.clientY;if(c=="wait")if(Q*Q+ee*ee>4)c="cursor";else return H.preventDefault();h=Z.clientX,p=Z.clientY,H.clientX=Z.clientX,H.clientY=Z.clientY;var oe=H.timeStamp,ue=oe-m;if(m=oe,c=="scroll"){var ve=new a(H,d);ve.speed=1,ve.wheelX=Q,ve.wheelY=ee,10*Math.abs(Q)<Math.abs(ee)&&(Q=0),10*Math.abs(ee)<Math.abs(Q)&&(ee=0),ue!=0&&($=Q/ue,k=ee/ue),d._emit("mousewheel",ve),ve.propagationStopped||($=k=0)}else{var le=new a(H,d),de=le.getDocumentPosition();c=="cursor"?d.selection.moveCursorToPosition(de):c=="anchor"&&d.selection.setSelectionAnchor(de.row,de.column),d.renderer.scrollCursorIntoView(de),H.preventDefault()}}},d);function U(){_+=60,w=setInterval(function(){_--<=0&&(clearInterval(w),w=null),Math.abs($)<.01&&($=0),Math.abs(k)<.01&&(k=0),_<20&&($=.9*$),_<20&&(k=.9*k);var H=d.session.getScrollTop();d.renderer.scrollBy(10*$,10*k),H==d.session.getScrollTop()&&(_=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,r,i){var a=n("../lib/event"),s=n("../lib/useragent"),u=n("./default_handlers").DefaultHandlers,f=n("./default_gutter_handler").GutterHandler,d=n("./mouse_event").MouseEvent,c=n("./dragdrop_handler").DragdropHandler,h=n("./touch_handler").addTouchListeners,p=n("../config"),v=function(m){var y=this;this.editor=m,new u(this),new f(this),new c(this);var w=function(C){var $=!document.hasFocus||!document.hasFocus()||!m.isFocused()&&document.activeElement==(m.textInput&&m.textInput.getElement());$&&window.focus(),m.focus(),setTimeout(function(){m.isFocused()||m.focus()})},_=m.renderer.getMouseEventTarget();a.addListener(_,"click",this.onMouseEvent.bind(this,"click"),m),a.addListener(_,"mousemove",this.onMouseMove.bind(this,"mousemove"),m),a.addMultiMouseDownListener([_,m.renderer.scrollBarV&&m.renderer.scrollBarV.inner,m.renderer.scrollBarH&&m.renderer.scrollBarH.inner,m.textInput&&m.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",m),a.addMouseWheelListener(m.container,this.onMouseWheel.bind(this,"mousewheel"),m),h(m.container,m);var S=m.renderer.$gutter;a.addListener(S,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),m),a.addListener(S,"click",this.onMouseEvent.bind(this,"gutterclick"),m),a.addListener(S,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),m),a.addListener(S,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),m),a.addListener(_,"mousedown",w,m),a.addListener(S,"mousedown",w,m),s.isIE&&m.renderer.scrollBarV&&(a.addListener(m.renderer.scrollBarV.element,"mousedown",w,m),a.addListener(m.renderer.scrollBarH.element,"mousedown",w,m)),m.on("mousemove",function(C){if(!(y.state||y.$dragDelay||!y.$dragEnabled)){var $=m.renderer.screenToTextCoordinates(C.x,C.y),k=m.session.selection.getRange(),M=m.renderer;!k.isEmpty()&&k.insideStart($.row,$.column)?M.setCursorStyle("default"):M.setCursorStyle("")}},m)};(function(){this.onMouseEvent=function(m,y){this.editor.session&&this.editor._emit(m,new d(y,this.editor))},this.onMouseMove=function(m,y){var w=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!w||!w.length||this.editor._emit(m,new d(y,this.editor))},this.onMouseWheel=function(m,y){var w=new d(y,this.editor);w.speed=this.$scrollSpeed*2,w.wheelX=y.wheelX,w.wheelY=y.wheelY,this.editor._emit(m,w)},this.setState=function(m){this.state=m},this.captureMouse=function(m,y){this.x=m.x,this.y=m.y,this.isMousePressed=!0;var w=this.editor,_=this.editor.renderer;_.$isMousePressed=!0;var S=this,C=function(L){if(L){if(s.isWebKit&&!L.which&&S.releaseMouse)return S.releaseMouse();S.x=L.clientX,S.y=L.clientY,y&&y(L),S.mouseEvent=new d(L,S.editor),S.$mouseMoved=!0}},$=function(L){w.off("beforeEndOperation",M),clearInterval(A),w.session&&k(),S[S.state+"End"]&&S[S.state+"End"](L),S.state="",S.isMousePressed=_.$isMousePressed=!1,_.$keepTextAreaAtCursor&&_.$moveTextAreaToCursor(),S.$onCaptureMouseMove=S.releaseMouse=null,L&&S.onMouseEvent("mouseup",L),w.endOperation()},k=function(){S[S.state]&&S[S.state](),S.$mouseMoved=!1};if(s.isOldIE&&m.domEvent.type=="dblclick")return setTimeout(function(){$(m)});var M=function(L){S.releaseMouse&&w.curOp.command.name&&w.curOp.selectionChanged&&(S[S.state+"End"]&&S[S.state+"End"](),S.state="",S.releaseMouse())};w.on("beforeEndOperation",M),w.startOperation({command:{name:"mouse"}}),S.$onCaptureMouseMove=C,S.releaseMouse=a.capture(this.editor.container,C,$);var A=setInterval(k,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var m=function(y){y&&y.domEvent&&y.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",m),y&&y.domEvent&&a.stopEvent(y.domEvent))}.bind(this);setTimeout(m,10),this.editor.on("nativecontextmenu",m)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(v.prototype),p.defineOptions(v.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:s.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),r.MouseHandler=v}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,r,i){var a=n("../lib/dom");function s(u){u.on("click",function(f){var d=f.getDocumentPosition(),c=u.session,h=c.getFoldAt(d.row,d.column,1);h&&(f.getAccelKey()?c.removeFold(h):c.expandFold(h),f.stop());var p=f.domEvent&&f.domEvent.target;p&&a.hasCssClass(p,"ace_inline_button")&&a.hasCssClass(p,"ace_toggle_wrap")&&(c.setOption("wrap",!c.getUseWrapMode()),u.renderer.scrollCursorIntoView())}),u.on("gutterclick",function(f){var d=u.renderer.$gutterLayer.getRegion(f);if(d=="foldWidgets"){var c=f.getDocumentPosition().row,h=u.session;h.foldWidgets&&h.foldWidgets[c]&&u.session.onFoldWidgetClick(c,f),u.isFocused()||u.focus(),f.stop()}}),u.on("gutterdblclick",function(f){var d=u.renderer.$gutterLayer.getRegion(f);if(d=="foldWidgets"){var c=f.getDocumentPosition().row,h=u.session,p=h.getParentFoldRangeData(c,!0),v=p.range||p.firstRange;if(v){c=v.start.row;var m=h.getFoldAt(c,h.getLine(c).length,1);m?h.removeFold(m):(h.addFold("...",v),u.renderer.scrollCursorIntoView({row:v.start.row,column:0}))}f.stop()}})}r.FoldHandler=s}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,r,i){var a=n("../lib/keys"),s=n("../lib/event"),u=function(f){this.$editor=f,this.$data={editor:f},this.$handlers=[],this.setDefaultHandler(f.commands)};(function(){this.setDefaultHandler=function(f){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=f,this.addKeyboardHandler(f,0)},this.setKeyboardHandler=function(f){var d=this.$handlers;if(d[d.length-1]!=f){for(;d[d.length-1]&&d[d.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(d[d.length-1]);this.addKeyboardHandler(f,1)}},this.addKeyboardHandler=function(f,d){if(f){typeof f=="function"&&!f.handleKeyboard&&(f.handleKeyboard=f);var c=this.$handlers.indexOf(f);c!=-1&&this.$handlers.splice(c,1),d==null?this.$handlers.push(f):this.$handlers.splice(d,0,f),c==-1&&f.attach&&f.attach(this.$editor)}},this.removeKeyboardHandler=function(f){var d=this.$handlers.indexOf(f);return d==-1?!1:(this.$handlers.splice(d,1),f.detach&&f.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var f=this.$data,d=f.editor;return this.$handlers.map(function(c){return c.getStatusText&&c.getStatusText(d,f)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(f,d,c,h){for(var p,v=!1,m=this.$editor.commands,y=this.$handlers.length;y--&&(p=this.$handlers[y].handleKeyboard(this.$data,f,d,c,h),!(!(!p||!p.command)&&(p.command=="null"?v=!0:v=m.exec(p.command,this.$editor,p.args,h),v&&h&&f!=-1&&p.passEvent!=!0&&p.command.passEvent!=!0&&s.stopEvent(h),v))););return!v&&f==-1&&(p={command:"insertstring"},v=m.exec("insertstring",this.$editor,d)),v&&this.$editor._signal&&this.$editor._signal("keyboardActivity",p),v},this.onCommandKey=function(f,d,c){var h=a.keyCodeToString(c);return this.$callKeyboardHandlers(d,h,c,f)},this.onTextInput=function(f){return this.$callKeyboardHandlers(-1,f)}}).call(u.prototype),r.KeyBinding=u}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(n,r,i){var a=0,s=0,u=!1,f=!1,d=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p=0,v=1,m=0,y=1,w=2,_=3,S=4,C=5,$=6,k=7,M=8,A=9,L=10,N=11,R=12,D=13,j=14,U=15,H=16,Y=17,Z=18,Q=[Z,Z,Z,Z,Z,Z,Z,Z,Z,$,C,$,M,C,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,C,C,C,$,M,S,S,N,N,N,S,S,S,S,S,L,A,L,A,A,w,w,w,w,w,w,w,w,w,w,A,S,S,S,S,S,S,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,S,S,S,S,S,S,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,S,S,S,S,Z,Z,Z,Z,Z,Z,C,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,A,S,N,N,N,N,S,S,S,S,m,S,S,Z,S,S,N,N,w,w,S,m,S,S,S,w,m,S,S,S,S,S],ee=[M,M,M,M,M,M,M,M,M,M,M,Z,Z,Z,m,y,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,M,C,D,j,U,H,Y,A,N,N,N,N,N,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,A,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,M];function oe(de,me,Se,Ee){var xe=a?h:c,Ie=null,Ne=null,We=null,Me=0,He=null,gt=null,Ye=-1,ot=null,Ue=null,st=[];if(!Ee)for(ot=0,Ee=[];ot<Se;ot++)Ee[ot]=le(de[ot]);for(s=a,u=!1,f=!1,d=!1,Ue=0;Ue<Se;Ue++){if(Ie=Me,st[Ue]=Ne=ve(de,Ee,st,Ue),Me=xe[Ie][Ne],He=Me&240,Me&=15,me[Ue]=We=xe[Me][5],He>0)if(He==16){for(ot=Ye;ot<Ue;ot++)me[ot]=1;Ye=-1}else Ye=-1;if(gt=xe[Me][6],gt)Ye==-1&&(Ye=Ue);else if(Ye>-1){for(ot=Ye;ot<Ue;ot++)me[ot]=We;Ye=-1}Ee[Ue]==C&&(me[Ue]=0),s|=We}if(d){for(ot=0;ot<Se;ot++)if(Ee[ot]==$){me[ot]=a;for(var at=ot-1;at>=0&&Ee[at]==M;at--)me[at]=a}}}function ue(de,me,Se){if(!(s<de)){if(de==1&&a==v&&!f){Se.reverse();return}for(var Ee=Se.length,xe=0,Ie,Ne,We,Me;xe<Ee;){if(me[xe]>=de){for(Ie=xe+1;Ie<Ee&&me[Ie]>=de;)Ie++;for(Ne=xe,We=Ie-1;Ne<We;Ne++,We--)Me=Se[Ne],Se[Ne]=Se[We],Se[We]=Me;xe=Ie}xe++}}}function ve(de,me,Se,Ee){var xe=me[Ee],Ie,Ne,We,Me;switch(xe){case m:case y:u=!1;case S:case _:return xe;case w:return u?_:w;case k:return u=!0,y;case M:return S;case A:return Ee<1||Ee+1>=me.length||(Ie=Se[Ee-1])!=w&&Ie!=_||(Ne=me[Ee+1])!=w&&Ne!=_?S:(u&&(Ne=_),Ne==Ie?Ne:S);case L:return Ie=Ee>0?Se[Ee-1]:C,Ie==w&&Ee+1<me.length&&me[Ee+1]==w?w:S;case N:if(Ee>0&&Se[Ee-1]==w)return w;if(u)return S;for(Me=Ee+1,We=me.length;Me<We&&me[Me]==N;)Me++;return Me<We&&me[Me]==w?w:S;case R:for(We=me.length,Me=Ee+1;Me<We&&me[Me]==R;)Me++;if(Me<We){var He=de[Ee],gt=He>=1425&&He<=2303||He==64286;if(Ie=me[Me],gt&&(Ie==y||Ie==k))return y}return Ee<1||(Ie=me[Ee-1])==C?S:Se[Ee-1];case C:return u=!1,f=!0,a;case $:return d=!0,S;case D:case j:case H:case Y:case U:u=!1;case Z:return S}}function le(de){var me=de.charCodeAt(0),Se=me>>8;return Se==0?me>191?m:Q[me]:Se==5?/[\u0591-\u05f4]/.test(de)?y:m:Se==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(de)?R:/[\u0660-\u0669\u066b-\u066c]/.test(de)?_:me==1642?N:/[\u06f0-\u06f9]/.test(de)?w:k:Se==32&&me<=8287?ee[me&255]:Se==254&&me>=65136?k:S}r.L=m,r.R=y,r.EN=w,r.ON_R=3,r.AN=4,r.R_H=5,r.B=6,r.RLE=7,r.DOT="",r.doBidiReorder=function(de,me,Se){if(de.length<2)return{};var Ee=de.split(""),xe=new Array(Ee.length),Ie=new Array(Ee.length),Ne=[];a=Se?v:p,oe(Ee,Ne,Ee.length,me);for(var We=0;We<xe.length;xe[We]=We,We++);ue(2,Ne,xe),ue(1,Ne,xe);for(var We=0;We<xe.length-1;We++)me[We]===_?Ne[We]=r.AN:Ne[We]===y&&(me[We]>k&&me[We]<D||me[We]===S||me[We]===Z)?Ne[We]=r.ON_R:We>0&&Ee[We-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(Ee[We])&&(Ne[We-1]=Ne[We]=r.R_H,We++);Ee[Ee.length-1]===r.DOT&&(Ne[Ee.length-1]=r.B),Ee[0]===""&&(Ne[0]=r.RLE);for(var We=0;We<xe.length;We++)Ie[We]=Ne[xe[We]];return{logicalFromVisual:xe,bidiLevels:Ie}},r.hasBidiCharacters=function(de,me){for(var Se=!1,Ee=0;Ee<de.length;Ee++)me[Ee]=le(de.charAt(Ee)),!Se&&(me[Ee]==y||me[Ee]==k||me[Ee]==_)&&(Se=!0);return Se},r.getVisualFromLogicalIdx=function(de,me){for(var Se=0;Se<me.logicalFromVisual.length;Se++)if(me.logicalFromVisual[Se]==de)return Se;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,r,i){var a=n("./lib/bidiutil"),s=n("./lib/lang"),u=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,f=function(d){this.session=d,this.bidiMap={},this.currentRow=null,this.bidiUtil=a,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=u.test(d.getValue())};(function(){this.isBidiRow=function(d,c,h){return this.seenBidi?(d!==this.currentRow&&(this.currentRow=d,this.updateRowLine(c,h),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},this.onChange=function(d){this.seenBidi?this.currentRow=null:d.action=="insert"&&u.test(d.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var d=0,c=this.session.$screenRowCache;if(c.length){var h=this.session.$getRowCacheIndex(c,this.currentRow);h>=0&&(d=this.session.$docRowCache[h])}return d},this.getSplitIndex=function(){var d=0,c=this.session.$screenRowCache;if(c.length)for(var h,p=this.session.$getRowCacheIndex(c,this.currentRow);this.currentRow-d>0&&(h=this.session.$getRowCacheIndex(c,this.currentRow-d-1),h===p);)p=h,d++;else d=this.currentRow;return d},this.updateRowLine=function(d,c){d===void 0&&(d=this.getDocumentRow());var h=d===this.session.getLength()-1,p=h?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(d),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var v=this.session.$wrapData[d];v&&(c===void 0&&(c=this.getSplitIndex()),c>0&&v.length?(this.wrapIndent=v.indent,this.wrapOffset=this.wrapIndent*this.charWidths[a.L],this.line=c<v.length?this.line.substring(v[c-1],v[c]):this.line.substring(v[v.length-1])):this.line=this.line.substring(0,v[c]),c==v.length&&(this.line+=this.showInvisibles?p:a.DOT))}else this.line+=this.showInvisibles?p:a.DOT;var m=this.session,y=0,w;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(_,S){return _==="	"||m.isFullWidth(_.charCodeAt(0))?(w=_==="	"?m.getScreenTabSize(S+y):2,y+=w-1,s.stringRepeat(a.DOT,w)):_}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==a.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var d=[];a.hasBidiCharacters(this.line,d)||this.isRtlDir?this.bidiMap=a.doBidiReorder(this.line,d,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(d){if(this.characterWidth!==d.$characterSize.width){this.fontMetrics=d;var c=this.characterWidth=d.$characterSize.width,h=d.$measureCharWidth("");this.charWidths[a.L]=this.charWidths[a.EN]=this.charWidths[a.ON_R]=c,this.charWidths[a.R]=this.charWidths[a.AN]=h,this.charWidths[a.R_H]=h*.45,this.charWidths[a.B]=this.charWidths[a.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(d){this.showInvisibles=d,this.currentRow=null},this.setEolChar=function(d){this.EOL=d},this.setContentWidth=function(d){this.contentWidth=d},this.isRtlLine=function(d){return this.$isRtl?!0:d!=null?this.session.getLine(d).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(d,c){for(var h=d.getCursorPosition(),p=d.selection.getSelectionAnchor().row;p<=h.row;p++)!c&&d.session.getLine(p).charAt(0)===d.session.$bidiHandler.RLE?d.session.doc.removeInLine(p,0,1):c&&d.session.getLine(p).charAt(0)!==d.session.$bidiHandler.RLE&&d.session.doc.insert({column:0,row:p},d.session.$bidiHandler.RLE)},this.getPosLeft=function(d){d-=this.wrapIndent;var c=this.line.charAt(0)===this.RLE?1:0,h=d>c?this.session.getOverwrite()?d:d-1:c,p=a.getVisualFromLogicalIdx(h,this.bidiMap),v=this.bidiMap.bidiLevels,m=0;!this.session.getOverwrite()&&d<=c&&v[p]%2!==0&&p++;for(var y=0;y<p;y++)m+=this.charWidths[v[y]];return!this.session.getOverwrite()&&d>c&&v[p]%2===0&&(m+=this.charWidths[v[p]]),this.wrapIndent&&(m+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(m+=this.rtlLineOffset),m},this.getSelections=function(d,c){var h=this.bidiMap,p=h.bidiLevels,v,m=[],y=0,w=Math.min(d,c)-this.wrapIndent,_=Math.max(d,c)-this.wrapIndent,S=!1,C=!1,$=0;this.wrapIndent&&(y+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var k,M=0;M<p.length;M++)k=h.logicalFromVisual[M],v=p[M],S=k>=w&&k<_,S&&!C?$=y:!S&&C&&m.push({left:$,width:y-$}),y+=this.charWidths[v],C=S;if(S&&M===p.length&&m.push({left:$,width:y-$}),this.isRtlDir)for(var A=0;A<m.length;A++)m[A].left+=this.rtlLineOffset;return m},this.offsetToCol=function(h){this.isRtlDir&&(h-=this.rtlLineOffset);var c=0,h=Math.max(h,0),p=0,v=0,m=this.bidiMap.bidiLevels,y=this.charWidths[m[v]];for(this.wrapIndent&&(h-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);h>p+y/2;){if(p+=y,v===m.length-1){y=0;break}y=this.charWidths[m[++v]]}return v>0&&m[v-1]%2!==0&&m[v]%2===0?(h<p&&v--,c=this.bidiMap.logicalFromVisual[v]):v>0&&m[v-1]%2===0&&m[v]%2!==0?c=1+(h>p?this.bidiMap.logicalFromVisual[v]:this.bidiMap.logicalFromVisual[v-1]):this.isRtlDir&&v===m.length-1&&y===0&&m[v-1]%2===0||!this.isRtlDir&&v===0&&m[v]%2!==0?c=1+this.bidiMap.logicalFromVisual[v]:(v>0&&m[v-1]%2!==0&&y!==0&&v--,c=this.bidiMap.logicalFromVisual[v]),c===0&&this.isRtlDir&&c++,c+this.wrapIndent}}).call(f.prototype),r.BidiHandler=f}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,r,i){var a=n("./lib/oop"),s=n("./lib/lang"),u=n("./lib/event_emitter").EventEmitter,f=n("./range").Range,d=function(c){this.session=c,this.doc=c.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var h=this;this.cursor.on("change",function(p){h.$cursorChanged=!0,h.$silent||h._emit("changeCursor"),!h.$isEmpty&&!h.$silent&&h._emit("changeSelection"),!h.$keepDesiredColumnOnChange&&p.old.column!=p.value.column&&(h.$desiredColumn=null)}),this.anchor.on("change",function(){h.$anchorChanged=!0,!h.$isEmpty&&!h.$silent&&h._emit("changeSelection")})};(function(){a.implement(this,u),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setAnchor=function(c,h){this.$isEmpty=!1,this.anchor.setPosition(c,h)},this.setSelectionAnchor=this.setAnchor,this.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionAnchor=this.getAnchor,this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var c=this.anchor,h=this.lead;return c.row>h.row||c.row==h.row&&c.column>h.column},this.getRange=function(){var c=this.anchor,h=this.lead;return this.$isEmpty?f.fromPoints(h,h):this.isBackwards()?f.fromPoints(h,c):f.fromPoints(c,h)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(c,h){var p=h?c.end:c.start,v=h?c.start:c.end;this.$setSelection(p.row,p.column,v.row,v.column)},this.$setSelection=function(c,h,p,v){if(!this.$silent){var m=this.$isEmpty,y=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(c,h),this.cursor.setPosition(p,v),this.$isEmpty=!f.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||m!=this.$isEmpty||y)&&this._emit("changeSelection")}},this.$moveSelection=function(c){var h=this.lead;this.$isEmpty&&this.setSelectionAnchor(h.row,h.column),c.call(this)},this.selectTo=function(c,h){this.$moveSelection(function(){this.moveCursorTo(c,h)})},this.selectToPosition=function(c){this.$moveSelection(function(){this.moveCursorToPosition(c)})},this.moveTo=function(c,h){this.clearSelection(),this.moveCursorTo(c,h)},this.moveToPosition=function(c){this.clearSelection(),this.moveCursorToPosition(c)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(c,h){if(typeof h>"u"){var p=c||this.lead;c=p.row,h=p.column}return this.session.getWordRange(c,h)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var c=this.getCursor(),h=this.session.getAWordRange(c.row,c.column);this.setSelectionRange(h)},this.getLineRange=function(c,h){var p=typeof c=="number"?c:this.lead.row,v,m=this.session.getFoldLine(p);return m?(p=m.start.row,v=m.end.row):v=p,h===!0?new f(p,0,v,this.session.getLine(v).length):new f(p,0,v+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(c,h,p){var v=c.column,m=c.column+h;return p<0&&(v=c.column-h,m=c.column),this.session.isTabStop(c)&&this.doc.getLine(c.row).slice(v,m).split(" ").length-1==h},this.moveCursorLeft=function(){var c=this.lead.getPosition(),h;if(h=this.session.getFoldAt(c.row,c.column,-1))this.moveCursorTo(h.start.row,h.start.column);else if(c.column===0)c.row>0&&this.moveCursorTo(c.row-1,this.doc.getLine(c.row-1).length);else{var p=this.session.getTabSize();this.wouldMoveIntoSoftTab(c,p,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-p):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var c=this.lead.getPosition(),h;if(h=this.session.getFoldAt(c.row,c.column,1))this.moveCursorTo(h.end.row,h.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var p=this.session.getTabSize(),c=this.lead;this.wouldMoveIntoSoftTab(c,p,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,p):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var c=this.lead.row,h=this.lead.column,p=this.session.documentToScreenRow(c,h),v=this.session.screenToDocumentPosition(p,0),m=this.session.getDisplayLine(c,null,v.row,v.column),y=m.match(/^\s*/);y[0].length!=h&&!this.session.$useEmacsStyleLineStart&&(v.column+=y[0].length),this.moveCursorToPosition(v)},this.moveCursorLineEnd=function(){var c=this.lead,h=this.session.getDocumentLastRowColumnPosition(c.row,c.column);if(this.lead.column==h.column){var p=this.session.getLine(h.row);if(h.column==p.length){var v=p.search(/\s+$/);v>0&&(h.column=v)}}this.moveCursorTo(h.row,h.column)},this.moveCursorFileEnd=function(){var c=this.doc.getLength()-1,h=this.doc.getLine(c).length;this.moveCursorTo(c,h)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var c=this.lead.row,h=this.lead.column,p=this.doc.getLine(c),v=p.substring(h);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var m=this.session.getFoldAt(c,h,1);if(m){this.moveCursorTo(m.end.row,m.end.column);return}if(this.session.nonTokenRe.exec(v)&&(h+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,v=p.substring(h)),h>=p.length){this.moveCursorTo(c,p.length),this.moveCursorRight(),c<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(v)&&(h+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(c,h)},this.moveCursorLongWordLeft=function(){var c=this.lead.row,h=this.lead.column,p;if(p=this.session.getFoldAt(c,h,-1)){this.moveCursorTo(p.start.row,p.start.column);return}var v=this.session.getFoldStringAt(c,h,-1);v==null&&(v=this.doc.getLine(c).substring(0,h));var m=s.stringReverse(v);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(m)&&(h-=this.session.nonTokenRe.lastIndex,m=m.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),h<=0){this.moveCursorTo(c,0),this.moveCursorLeft(),c>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(m)&&(h-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(c,h)},this.$shortWordEndIndex=function(c){var h=0,p,v=/\s/,m=this.session.tokenRe;if(m.lastIndex=0,this.session.tokenRe.exec(c))h=this.session.tokenRe.lastIndex;else{for(;(p=c[h])&&v.test(p);)h++;if(h<1){for(m.lastIndex=0;(p=c[h])&&!m.test(p);)if(m.lastIndex=0,h++,v.test(p))if(h>2){h--;break}else{for(;(p=c[h])&&v.test(p);)h++;if(h>2)break}}}return m.lastIndex=0,h},this.moveCursorShortWordRight=function(){var c=this.lead.row,h=this.lead.column,p=this.doc.getLine(c),v=p.substring(h),m=this.session.getFoldAt(c,h,1);if(m)return this.moveCursorTo(m.end.row,m.end.column);if(h==p.length){var y=this.doc.getLength();do c++,v=this.doc.getLine(c);while(c<y&&/^\s*$/.test(v));/^\s+/.test(v)||(v=""),h=0}var w=this.$shortWordEndIndex(v);this.moveCursorTo(c,h+w)},this.moveCursorShortWordLeft=function(){var c=this.lead.row,h=this.lead.column,p;if(p=this.session.getFoldAt(c,h,-1))return this.moveCursorTo(p.start.row,p.start.column);var v=this.session.getLine(c).substring(0,h);if(h===0){do c--,v=this.doc.getLine(c);while(c>0&&/^\s*$/.test(v));h=v.length,/\s+$/.test(v)||(v="")}var m=s.stringReverse(v),y=this.$shortWordEndIndex(m);return this.moveCursorTo(c,h-y)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(c,h){var p=this.session.documentToScreenPosition(this.lead.row,this.lead.column),v;if(h===0&&(c!==0&&(this.session.$bidiHandler.isBidiRow(p.row,this.lead.row)?(v=this.session.$bidiHandler.getPosLeft(p.column),p.column=Math.round(v/this.session.$bidiHandler.charWidths[0])):v=p.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?p.column=this.$desiredColumn:this.$desiredColumn=p.column),c!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var m=this.session.lineWidgets[this.lead.row];c<0?c-=m.rowsAbove||0:c>0&&(c+=m.rowCount-(m.rowsAbove||0))}var y=this.session.screenToDocumentPosition(p.row+c,p.column,v);c!==0&&h===0&&y.row===this.lead.row&&(y.column,this.lead.column),this.moveCursorTo(y.row,y.column+h,h===0)},this.moveCursorToPosition=function(c){this.moveCursorTo(c.row,c.column)},this.moveCursorTo=function(c,h,p){var v=this.session.getFoldAt(c,h,1);v&&(c=v.start.row,h=v.start.column),this.$keepDesiredColumnOnChange=!0;var m=this.session.getLine(c);/[\uDC00-\uDFFF]/.test(m.charAt(h))&&m.charAt(h-1)&&(this.lead.row==c&&this.lead.column==h+1?h=h-1:h=h+1),this.lead.setPosition(c,h),this.$keepDesiredColumnOnChange=!1,p||(this.$desiredColumn=null)},this.moveCursorToScreen=function(c,h,p){var v=this.session.screenToDocumentPosition(c,h);this.moveCursorTo(v.row,v.column,p)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(c){this.setSelectionRange(c,c.cursor==c.start),this.$desiredColumn=c.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(c){var h=this.getRange();return c?(c.start.column=h.start.column,c.start.row=h.start.row,c.end.column=h.end.column,c.end.row=h.end.row):c=h,c.cursor=this.isBackwards()?c.start:c.end,c.desiredColumn=this.$desiredColumn,c},this.getRangeOfMovements=function(c){var h=this.getCursor();try{c(this);var p=this.getCursor();return f.fromPoints(h,p)}catch{return f.fromPoints(h,h)}finally{this.moveCursorToPosition(h)}},this.toJSON=function(){if(this.rangeCount)var c=this.ranges.map(function(h){var p=h.clone();return p.isBackwards=h.cursor==h.start,p});else{var c=this.getRange();c.isBackwards=this.isBackwards()}return c},this.fromJSON=function(c){if(c.start==null)if(this.rangeList&&c.length>1){this.toSingleRange(c[0]);for(var h=c.length;h--;){var p=f.fromPoints(c[h].start,c[h].end);c[h].isBackwards&&(p.cursor=p.start),this.addRange(p,!0)}return}else c=c[0];this.rangeList&&this.toSingleRange(c),this.setSelectionRange(c,c.isBackwards)},this.isEqual=function(c){if((c.length||this.rangeCount)&&c.length!=this.rangeCount)return!1;if(!c.length||!this.ranges)return this.getRange().isEqual(c);for(var h=this.ranges.length;h--;)if(!this.ranges[h].isEqual(c[h]))return!1;return!0}}).call(d.prototype),r.Selection=d}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(n,r,i){var a=n("./config"),s=2e3,u=function(f){this.states=f,this.regExps={},this.matchMappings={};for(var d in this.states){for(var c=this.states[d],h=[],p=0,v=this.matchMappings[d]={defaultToken:"text"},m="g",y=[],w=0;w<c.length;w++){var _=c[w];if(_.defaultToken&&(v.defaultToken=_.defaultToken),_.caseInsensitive&&m.indexOf("i")===-1&&(m+="i"),_.unicode&&m.indexOf("u")===-1&&(m+="u"),_.regex!=null){_.regex instanceof RegExp&&(_.regex=_.regex.toString().slice(1,-1));var S=_.regex,C=new RegExp("(?:("+S+")|(.))").exec("a").length-2;Array.isArray(_.token)?_.token.length==1||C==1?_.token=_.token[0]:C-1!=_.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:_,groupCount:C-1}),_.token=_.token[0]):(_.tokenArray=_.token,_.token=null,_.onMatch=this.$arrayTokens):typeof _.token=="function"&&!_.onMatch&&(C>1?_.onMatch=this.$applyToken:_.onMatch=_.token),C>1&&(/\\\d/.test(_.regex)?S=_.regex.replace(/\\([0-9]+)/g,function($,k){return"\\"+(parseInt(k,10)+p+1)}):(C=1,S=this.removeCapturingGroups(_.regex)),!_.splitRegex&&typeof _.token!="string"&&y.push(_)),v[p]=w,p+=C,h.push(S),_.onMatch||(_.onMatch=null)}}h.length||(v[0]=0,h.push("$")),y.forEach(function($){$.splitRegex=this.createSplitterRegexp($.regex,m)},this),this.regExps[d]=new RegExp("("+h.join(")|(")+")|($)",m)}};(function(){this.$setMaxTokenCount=function(f){s=f|0},this.$applyToken=function(f){var d=this.splitRegex.exec(f).slice(1),c=this.token.apply(this,d);if(typeof c=="string")return[{type:c,value:f}];for(var h=[],p=0,v=c.length;p<v;p++)d[p]&&(h[h.length]={type:c[p],value:d[p]});return h},this.$arrayTokens=function(f){if(!f)return[];var d=this.splitRegex.exec(f);if(!d)return"text";for(var c=[],h=this.tokenArray,p=0,v=h.length;p<v;p++)d[p+1]&&(c[c.length]={type:h[p],value:d[p+1]});return c},this.removeCapturingGroups=function(f){var d=f.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(c,h){return h?"(?:":c});return d},this.createSplitterRegexp=function(f,d){if(f.indexOf("(?=")!=-1){var c=0,h=!1,p={};f.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(v,m,y,w,_,S){return h?h=_!="]":_?h=!0:w?(c==p.stack&&(p.end=S+1,p.stack=-1),c--):y&&(c++,y.length!=1&&(p.stack=c,p.start=S)),v}),p.end!=null&&/^\)*$/.test(f.substr(p.end))&&(f=f.substring(0,p.start)+f.substr(p.end))}return f.charAt(0)!="^"&&(f="^"+f),f.charAt(f.length-1)!="$"&&(f+="$"),new RegExp(f,(d||"").replace("g",""))},this.getLineTokens=function(f,d){if(d&&typeof d!="string"){var c=d.slice(0);d=c[0],d==="#tmp"&&(c.shift(),d=c.shift())}else var c=[];var h=d||"start",p=this.states[h];p||(h="start",p=this.states[h]);var v=this.matchMappings[h],m=this.regExps[h];m.lastIndex=0;for(var y,w=[],_=0,S=0,C={type:null,value:""};y=m.exec(f);){var $=v.defaultToken,k=null,M=y[0],A=m.lastIndex;if(A-M.length>_){var L=f.substring(_,A-M.length);C.type==$?C.value+=L:(C.type&&w.push(C),C={type:$,value:L})}for(var N=0;N<y.length-2;N++)if(y[N+1]!==void 0){k=p[v[N]],k.onMatch?$=k.onMatch(M,h,c,f):$=k.token,k.next&&(typeof k.next=="string"?h=k.next:h=k.next(h,c),p=this.states[h],p||(this.reportError("state doesn't exist",h),h="start",p=this.states[h]),v=this.matchMappings[h],_=A,m=this.regExps[h],m.lastIndex=A),k.consumeLineEnd&&(_=A);break}if(M){if(typeof $=="string")(!k||k.merge!==!1)&&C.type===$?C.value+=M:(C.type&&w.push(C),C={type:$,value:M});else if($){C.type&&w.push(C),C={type:null,value:""};for(var N=0;N<$.length;N++)w.push($[N])}}if(_==f.length)break;if(_=A,S++>s){for(S>2*f.length&&this.reportError("infinite loop with in ace tokenizer",{startState:d,line:f});_<f.length;)C.type&&w.push(C),C={value:f.substring(_,_+=500),type:"overflow"};h="start",c=[];break}}return C.type&&w.push(C),c.length>1&&c[0]!==h&&c.unshift("#tmp",h),{tokens:w,state:c.length?c:h}},this.reportError=a.reportError}).call(u.prototype),r.Tokenizer=u}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(n,r,i){var a=n("../lib/lang"),s=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(d,c){if(!c){for(var h in d)this.$rules[h]=d[h];return}for(var h in d){for(var p=d[h],v=0;v<p.length;v++){var m=p[v];(m.next||m.onMatch)&&(typeof m.next=="string"&&m.next.indexOf(c)!==0&&(m.next=c+m.next),m.nextState&&m.nextState.indexOf(c)!==0&&(m.nextState=c+m.nextState))}this.$rules[c+h]=p}},this.getRules=function(){return this.$rules},this.embedRules=function(d,c,h,p,v){var m=typeof d=="function"?new d().getRules():d;if(p)for(var y=0;y<p.length;y++)p[y]=c+p[y];else{p=[];for(var w in m)p.push(c+w)}if(this.addRules(m,c),h)for(var _=Array.prototype[v?"push":"unshift"],y=0;y<p.length;y++)_.apply(this.$rules[p[y]],a.deepCopy(h));this.$embeds||(this.$embeds=[]),this.$embeds.push(c)},this.getEmbeds=function(){return this.$embeds};var u=function(d,c){return(d!="start"||c.length)&&c.unshift(this.nextState,d),this.nextState},f=function(d,c){return c.shift(),c.shift()||"start"};this.normalizeRules=function(){var d=0,c=this.$rules;function h(p){var v=c[p];v.processed=!0;for(var m=0;m<v.length;m++){var y=v[m],w=null;Array.isArray(y)&&(w=y,y={}),!y.regex&&y.start&&(y.regex=y.start,y.next||(y.next=[]),y.next.push({defaultToken:y.token},{token:y.token+".end",regex:y.end||y.start,next:"pop"}),y.token=y.token+".start",y.push=!0);var _=y.next||y.push;if(_&&Array.isArray(_)){var S=y.stateName;S||(S=y.token,typeof S!="string"&&(S=S[0]||""),c[S]&&(S+=d++)),c[S]=_,y.next=S,h(S)}else _=="pop"&&(y.next=f);if(y.push&&(y.nextState=y.next||y.push,y.next=u,delete y.push),y.rules)for(var C in y.rules)c[C]?c[C].push&&c[C].push.apply(c[C],y.rules[C]):c[C]=y.rules[C];var $=typeof y=="string"?y:y.include;if($&&($==="$self"&&($="start"),Array.isArray($)?w=$.map(function(M){return c[M]}):w=c[$]),w){var k=[m,1].concat(w);y.noEscape&&(k=k.filter(function(M){return!M.next})),v.splice.apply(v,k),m--}y.keywordMap&&(y.token=this.createKeywordMapper(y.keywordMap,y.defaultToken||"text",y.caseInsensitive),delete y.defaultToken)}}Object.keys(c).forEach(h,this)},this.createKeywordMapper=function(d,c,h,p){var v=Object.create(null);return this.$keywordList=[],Object.keys(d).forEach(function(m){for(var y=d[m],w=y.split(p||"|"),_=w.length;_--;){var S=w[_];this.$keywordList.push(S),h&&(S=S.toLowerCase()),v[S]=m}},this),d=null,h?function(m){return v[m.toLowerCase()]||c}:function(m){return v[m]||c}},this.getKeywords=function(){return this.$keywords}}).call(s.prototype),r.TextHighlightRules=s}),ace.define("ace/mode/behaviour",["require","exports","module"],function(n,r,i){var a=function(){this.$behaviours={}};(function(){this.add=function(s,u,f){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[s]:this.$behaviours[s]={}}this.$behaviours[s][u]=f},this.addBehaviours=function(s){for(var u in s)for(var f in s[u])this.add(u,f,s[u][f])},this.remove=function(s){this.$behaviours&&this.$behaviours[s]&&delete this.$behaviours[s]},this.inherit=function(s,u){if(typeof s=="function")var f=new s().getBehaviours(u);else var f=s.getBehaviours(u);this.addBehaviours(f)},this.getBehaviours=function(s){if(s){for(var u={},f=0;f<s.length;f++)this.$behaviours[s[f]]&&(u[s[f]]=this.$behaviours[s[f]]);return u}else return this.$behaviours}}).call(a.prototype),r.Behaviour=a}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(n,r,i){var a=n("./range").Range,s=function(u,f,d){this.$session=u,this.$row=f,this.$rowTokens=u.getTokens(f);var c=u.getTokenAt(f,d);this.$tokenIndex=c?c.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var u;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,u||(u=this.$session.getLength()),this.$row>=u)return this.$row=u-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var u=this.$rowTokens,f=this.$tokenIndex,d=u[f].start;if(d!==void 0)return d;for(d=0;f>0;)f-=1,d+=u[f].value.length;return d},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var u=this.$rowTokens[this.$tokenIndex],f=this.getCurrentTokenColumn();return new a(this.$row,f,this.$row,f+u.value.length)}}).call(s.prototype),r.TokenIterator=s}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,r,i){var a=n("../../lib/oop"),s=n("../behaviour").Behaviour,u=n("../../token_iterator").TokenIterator,f=n("../../lib/lang"),d=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h,p={},v={'"':'"',"'":"'"},m=function(_){var S=-1;if(_.multiSelect&&(S=_.selection.index,p.rangeCount!=_.multiSelect.rangeCount&&(p={rangeCount:_.multiSelect.rangeCount})),p[S])return h=p[S];h=p[S]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},y=function(_,S,C,$){var k=_.end.row-_.start.row;return{text:C+S+$,selection:[0,_.start.column+1,k,_.end.column+(k?0:1)]}},w=function(_){this.add("braces","insertion",function(S,C,$,k,M){var A=$.getCursorPosition(),L=k.doc.getLine(A.row);if(M=="{"){m($);var N=$.getSelectionRange(),R=k.doc.getTextRange(N);if(R!==""&&R!=="{"&&$.getWrapBehavioursEnabled())return y(N,R,"{","}");if(w.isSaneInsertion($,k))return/[\]\}\)]/.test(L[A.column])||$.inMultiSelectMode||_&&_.braces?(w.recordAutoInsert($,k,"}"),{text:"{}",selection:[1,1]}):(w.recordMaybeInsert($,k,"{"),{text:"{",selection:[1,1]})}else if(M=="}"){m($);var D=L.substring(A.column,A.column+1);if(D=="}"){var j=k.$findOpeningBracket("}",{column:A.column+1,row:A.row});if(j!==null&&w.isAutoInsertedClosing(A,L,M))return w.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(M==`
`||M==`\r
`){m($);var U="";w.isMaybeInsertedClosing(A,L)&&(U=f.stringRepeat("}",h.maybeInsertedBrackets),w.clearMaybeInsertedClosing());var D=L.substring(A.column,A.column+1);if(D==="}"){var H=k.findMatchingBracket({row:A.row,column:A.column+1},"}");if(!H)return null;var Y=this.$getIndent(k.getLine(H.row))}else if(U)var Y=this.$getIndent(L);else{w.clearMaybeInsertedClosing();return}var Z=Y+k.getTabString();return{text:`
`+Z+`
`+Y+U,selection:[1,Z.length,1,Z.length]}}else w.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(S,C,$,k,M){var A=k.doc.getTextRange(M);if(!M.isMultiLine()&&A=="{"){m($);var L=k.doc.getLine(M.start.row),N=L.substring(M.end.column,M.end.column+1);if(N=="}")return M.end.column++,M;h.maybeInsertedBrackets--}}),this.add("parens","insertion",function(S,C,$,k,M){if(M=="("){m($);var A=$.getSelectionRange(),L=k.doc.getTextRange(A);if(L!==""&&$.getWrapBehavioursEnabled())return y(A,L,"(",")");if(w.isSaneInsertion($,k))return w.recordAutoInsert($,k,")"),{text:"()",selection:[1,1]}}else if(M==")"){m($);var N=$.getCursorPosition(),R=k.doc.getLine(N.row),D=R.substring(N.column,N.column+1);if(D==")"){var j=k.$findOpeningBracket(")",{column:N.column+1,row:N.row});if(j!==null&&w.isAutoInsertedClosing(N,R,M))return w.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(S,C,$,k,M){var A=k.doc.getTextRange(M);if(!M.isMultiLine()&&A=="("){m($);var L=k.doc.getLine(M.start.row),N=L.substring(M.start.column+1,M.start.column+2);if(N==")")return M.end.column++,M}}),this.add("brackets","insertion",function(S,C,$,k,M){if(M=="["){m($);var A=$.getSelectionRange(),L=k.doc.getTextRange(A);if(L!==""&&$.getWrapBehavioursEnabled())return y(A,L,"[","]");if(w.isSaneInsertion($,k))return w.recordAutoInsert($,k,"]"),{text:"[]",selection:[1,1]}}else if(M=="]"){m($);var N=$.getCursorPosition(),R=k.doc.getLine(N.row),D=R.substring(N.column,N.column+1);if(D=="]"){var j=k.$findOpeningBracket("]",{column:N.column+1,row:N.row});if(j!==null&&w.isAutoInsertedClosing(N,R,M))return w.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(S,C,$,k,M){var A=k.doc.getTextRange(M);if(!M.isMultiLine()&&A=="["){m($);var L=k.doc.getLine(M.start.row),N=L.substring(M.start.column+1,M.start.column+2);if(N=="]")return M.end.column++,M}}),this.add("string_dquotes","insertion",function(S,C,$,k,M){var A=k.$mode.$quotes||v;if(M.length==1&&A[M]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(M)!=-1)return;m($);var L=M,N=$.getSelectionRange(),R=k.doc.getTextRange(N);if(R!==""&&(R.length!=1||!A[R])&&$.getWrapBehavioursEnabled())return y(N,R,L,L);if(!R){var D=$.getCursorPosition(),j=k.doc.getLine(D.row),U=j.substring(D.column-1,D.column),H=j.substring(D.column,D.column+1),Y=k.getTokenAt(D.row,D.column),Z=k.getTokenAt(D.row,D.column+1);if(U=="\\"&&Y&&/escape/.test(Y.type))return null;var Q=Y&&/string|escape/.test(Y.type),ee=!Z||/string|escape/.test(Z.type),oe;if(H==L)oe=Q!==ee,oe&&/string\.end/.test(Z.type)&&(oe=!1);else{if(Q&&!ee||Q&&ee)return null;var ue=k.$mode.tokenRe;ue.lastIndex=0;var ve=ue.test(U);ue.lastIndex=0;var le=ue.test(H),de=k.$mode.$pairQuotesAfter,me=de&&de[L]&&de[L].test(U);if(!me&&ve||le||H&&!/[\s;,.})\]\\]/.test(H))return null;var Se=j[D.column-2];if(U==L&&(Se==L||ue.test(Se)))return null;oe=!0}return{text:oe?L+L:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(S,C,$,k,M){var A=k.$mode.$quotes||v,L=k.doc.getTextRange(M);if(!M.isMultiLine()&&A.hasOwnProperty(L)){m($);var N=k.doc.getLine(M.start.row),R=N.substring(M.start.column+1,M.start.column+2);if(R==L)return M.end.column++,M}})};w.isSaneInsertion=function(_,S){var C=_.getCursorPosition(),$=new u(S,C.row,C.column);if(!this.$matchTokenType($.getCurrentToken()||"text",d)){if(/[)}\]]/.test(_.session.getLine(C.row)[C.column]))return!0;var k=new u(S,C.row,C.column+1);if(!this.$matchTokenType(k.getCurrentToken()||"text",d))return!1}return $.stepForward(),$.getCurrentTokenRow()!==C.row||this.$matchTokenType($.getCurrentToken()||"text",c)},w.$matchTokenType=function(_,S){return S.indexOf(_.type||_)>-1},w.recordAutoInsert=function(_,S,C){var $=_.getCursorPosition(),k=S.doc.getLine($.row);this.isAutoInsertedClosing($,k,h.autoInsertedLineEnd[0])||(h.autoInsertedBrackets=0),h.autoInsertedRow=$.row,h.autoInsertedLineEnd=C+k.substr($.column),h.autoInsertedBrackets++},w.recordMaybeInsert=function(_,S,C){var $=_.getCursorPosition(),k=S.doc.getLine($.row);this.isMaybeInsertedClosing($,k)||(h.maybeInsertedBrackets=0),h.maybeInsertedRow=$.row,h.maybeInsertedLineStart=k.substr(0,$.column)+C,h.maybeInsertedLineEnd=k.substr($.column),h.maybeInsertedBrackets++},w.isAutoInsertedClosing=function(_,S,C){return h.autoInsertedBrackets>0&&_.row===h.autoInsertedRow&&C===h.autoInsertedLineEnd[0]&&S.substr(_.column)===h.autoInsertedLineEnd},w.isMaybeInsertedClosing=function(_,S){return h.maybeInsertedBrackets>0&&_.row===h.maybeInsertedRow&&S.substr(_.column)===h.maybeInsertedLineEnd&&S.substr(0,_.column)==h.maybeInsertedLineStart},w.popAutoInsertedClosing=function(){h.autoInsertedLineEnd=h.autoInsertedLineEnd.substr(1),h.autoInsertedBrackets--},w.clearMaybeInsertedClosing=function(){h&&(h.maybeInsertedBrackets=0,h.maybeInsertedRow=-1)},a.inherits(w,s),r.CstyleBehaviour=w}),ace.define("ace/unicode",["require","exports","module"],function(n,r,i){for(var a=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],s=0,u=[],f=0;f<a.length;f+=2)u.push(s+=a[f]),a[f+1]&&u.push(45,s+=a[f+1]);r.wordChars=String.fromCharCode.apply(null,u)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,r,i){var a=n("../config"),s=n("../tokenizer").Tokenizer,u=n("./text_highlight_rules").TextHighlightRules,f=n("./behaviour/cstyle").CstyleBehaviour,d=n("../unicode"),c=n("../lib/lang"),h=n("../token_iterator").TokenIterator,p=n("../range").Range,v=function(){this.HighlightRules=u};(function(){this.$defaultBehaviour=new f,this.tokenRe=new RegExp("^["+d.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+d.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(m,y,w,_){var S=y.doc,C=!0,$=!0,k=1/0,M=y.getTabSize(),A=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var R=this.lineCommentStart.map(c.escapeRegExp).join("|"),L=this.lineCommentStart[0];else var R=c.escapeRegExp(this.lineCommentStart),L=this.lineCommentStart;R=new RegExp("^(\\s*)(?:"+R+") ?"),A=y.getUseSoftTabs();var U=function(le,de){var me=le.match(R);if(me){var Se=me[1].length,Ee=me[0].length;!Z(le,Se,Ee)&&me[0][Ee-1]==" "&&Ee--,S.removeInLine(de,Se,Ee)}},Y=L+" ",j=function(le,de){(!C||/\S/.test(le))&&(Z(le,k,k)?S.insertInLine({row:de,column:k},Y):S.insertInLine({row:de,column:k},L))},H=function(le,de){return R.test(le)},Z=function(le,de,me){for(var Se=0;de--&&le.charAt(de)==" ";)Se++;if(Se%M!=0)return!1;for(var Se=0;le.charAt(me++)==" ";)Se++;return M>2?Se%M!=M-1:Se%M==0}}else{if(!this.blockComment)return!1;var L=this.blockComment.start,N=this.blockComment.end,R=new RegExp("^(\\s*)(?:"+c.escapeRegExp(L)+")"),D=new RegExp("(?:"+c.escapeRegExp(N)+")\\s*$"),j=function(oe,ue){H(oe,ue)||(!C||/\S/.test(oe))&&(S.insertInLine({row:ue,column:oe.length},N),S.insertInLine({row:ue,column:k},L))},U=function(oe,ue){var ve;(ve=oe.match(D))&&S.removeInLine(ue,oe.length-ve[0].length,oe.length),(ve=oe.match(R))&&S.removeInLine(ue,ve[1].length,ve[0].length)},H=function(oe,ue){if(R.test(oe))return!0;for(var ve=y.getTokens(ue),le=0;le<ve.length;le++)if(ve[le].type==="comment")return!0}}function Q(oe){for(var ue=w;ue<=_;ue++)oe(S.getLine(ue),ue)}var ee=1/0;Q(function(oe,ue){var ve=oe.search(/\S/);ve!==-1?(ve<k&&(k=ve),$&&!H(oe,ue)&&($=!1)):ee>oe.length&&(ee=oe.length)}),k==1/0&&(k=ee,C=!1,$=!1),A&&k%M!=0&&(k=Math.floor(k/M)*M),Q($?U:j)},this.toggleBlockComment=function(m,y,w,_){var S=this.blockComment;if(S){!S.start&&S[0]&&(S=S[0]);var C=new h(y,_.row,_.column),$=C.getCurrentToken();y.selection;var k=y.selection.toOrientedRange(),M,A;if($&&/comment/.test($.type)){for(var L,N;$&&/comment/.test($.type);){var R=$.value.indexOf(S.start);if(R!=-1){var D=C.getCurrentTokenRow(),j=C.getCurrentTokenColumn()+R;L=new p(D,j,D,j+S.start.length);break}$=C.stepBackward()}for(var C=new h(y,_.row,_.column),$=C.getCurrentToken();$&&/comment/.test($.type);){var R=$.value.indexOf(S.end);if(R!=-1){var D=C.getCurrentTokenRow(),j=C.getCurrentTokenColumn()+R;N=new p(D,j,D,j+S.end.length);break}$=C.stepForward()}N&&y.remove(N),L&&(y.remove(L),M=L.start.row,A=-S.start.length)}else A=S.start.length,M=w.start.row,y.insert(w.end,S.end),y.insert(w.start,S.start);k.start.row==M&&(k.start.column+=A),k.end.row==M&&(k.end.column+=A),y.selection.fromOrientedRange(k)}},this.getNextLineIndent=function(m,y,w){return this.$getIndent(y)},this.checkOutdent=function(m,y,w){return!1},this.autoOutdent=function(m,y,w){},this.$getIndent=function(m){return m.match(/^\s*/)[0]},this.createWorker=function(m){return null},this.createModeDelegates=function(m){this.$embeds=[],this.$modes={};for(var y in m)if(m[y]){var w=m[y],_=w.prototype.$id,S=a.$modes[_];S||(a.$modes[_]=S=new w),a.$modes[y]||(a.$modes[y]=S),this.$embeds.push(y),this.$modes[y]=S}for(var C=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],y=0;y<C.length;y++)(function(k){var M=C[y],A=k[M];k[C[y]]=function(){return this.$delegator(M,arguments,A)}})(this)},this.$delegator=function(m,y,w){var _=y[0]||"start";if(typeof _!="string"){if(Array.isArray(_[2])){var S=_[2][_[2].length-1],C=this.$modes[S];if(C)return C[m].apply(C,[_[1]].concat([].slice.call(y,1)))}_=_[0]||"start"}for(var $=0;$<this.$embeds.length;$++)if(this.$modes[this.$embeds[$]]){var k=_.split(this.$embeds[$]);if(!k[0]&&k[1]){y[0]=k[1];var C=this.$modes[this.$embeds[$]];return C[m].apply(C,y)}}var M=w.apply(this,y);return w?M:void 0},this.transformAction=function(m,y,w,_,S){if(this.$behaviour){var C=this.$behaviour.getBehaviours();for(var $ in C)if(C[$][y]){var k=C[$][y].apply(this,arguments);if(k)return k}}},this.getKeywords=function(m){if(!this.completionKeywords){var y=this.$tokenizer.rules,w=[];for(var _ in y)for(var S=y[_],C=0,$=S.length;C<$;C++)if(typeof S[C].token=="string")/keyword|support|storage/.test(S[C].token)&&w.push(S[C].regex);else if(typeof S[C].token=="object"){for(var k=0,M=S[C].token.length;k<M;k++)if(/keyword|support|storage/.test(S[C].token[k])){var _=S[C].regex.match(/\(.+?\)/g)[k];w.push(_.substr(1,_.length-2))}}this.completionKeywords=w}return m?w.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(m,y,w,_){var S=this.$keywordList||this.$createKeywordList();return S.map(function(C){return{name:C,value:C,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(v.prototype),r.Mode=v}),ace.define("ace/apply_delta",["require","exports","module"],function(n,r,i){r.applyDelta=function(a,s,u){var f=s.start.row,d=s.start.column,c=a[f]||"";switch(s.action){case"insert":var h=s.lines;if(h.length===1)a[f]=c.substring(0,d)+s.lines[0]+c.substring(d);else{var p=[f,1].concat(s.lines);a.splice.apply(a,p),a[f]=c.substring(0,d)+a[f],a[f+s.lines.length-1]+=c.substring(d)}break;case"remove":var v=s.end.column,m=s.end.row;f===m?a[f]=c.substring(0,d)+c.substring(v):a.splice(f,m-f+1,c.substring(0,d)+a[m].substring(v));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var a=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,u=r.Anchor=function(f,d,c){this.$onChange=this.onChange.bind(this),this.attach(f),typeof c>"u"?this.setPosition(d.row,d.column):this.setPosition(d,c)};(function(){a.implement(this,s),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(c){if(!(c.start.row==c.end.row&&c.start.row!=this.row)&&!(c.start.row>this.row)){var h=d(c,{row:this.row,column:this.column},this.$insertRight);this.setPosition(h.row,h.column,!0)}};function f(c,h,p){var v=p?c.column<=h.column:c.column<h.column;return c.row<h.row||c.row==h.row&&v}function d(c,h,p){var v=c.action=="insert",m=(v?1:-1)*(c.end.row-c.start.row),y=(v?1:-1)*(c.end.column-c.start.column),w=c.start,_=v?w:c.end;return f(h,w,p)?{row:h.row,column:h.column}:f(_,h,!p)?{row:h.row+m,column:h.column+(h.row==_.row?y:0)}:{row:w.row,column:w.column}}this.setPosition=function(c,h,p){var v;if(p?v={row:c,column:h}:v=this.$clipPositionToDocument(c,h),!(this.row==v.row&&this.column==v.column)){var m={row:this.row,column:this.column};this.row=v.row,this.column=v.column,this._signal("change",{old:m,value:v})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(c){this.document=c||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(c,h){var p={};return c>=this.document.getLength()?(p.row=Math.max(0,this.document.getLength()-1),p.column=this.document.getLine(p.row).length):c<0?(p.row=0,p.column=0):(p.row=c,p.column=Math.min(this.document.getLine(p.row).length,Math.max(0,h))),h<0&&(p.column=0),p}}).call(u.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,r,i){var a=n("./lib/oop"),s=n("./apply_delta").applyDelta,u=n("./lib/event_emitter").EventEmitter,f=n("./range").Range,d=n("./anchor").Anchor,c=function(h){this.$lines=[""],h.length===0?this.$lines=[""]:Array.isArray(h)?this.insertMergedLines({row:0,column:0},h):this.insert({row:0,column:0},h)};(function(){a.implement(this,u),this.setValue=function(h){var p=this.getLength()-1;this.remove(new f(0,0,p,this.getLine(p).length)),this.insert({row:0,column:0},h||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(h,p){return new d(this,h,p)},"aaa".split(/a/).length===0?this.$split=function(h){return h.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(h){return h.split(/\r\n|\r|\n/)},this.$detectNewLine=function(h){var p=h.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=p?p[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(h){this.$newLineMode!==h&&(this.$newLineMode=h,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(h){return h==`\r
`||h=="\r"||h==`
`},this.getLine=function(h){return this.$lines[h]||""},this.getLines=function(h,p){return this.$lines.slice(h,p+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(h){return this.getLinesForRange(h).join(this.getNewLineCharacter())},this.getLinesForRange=function(h){var p;if(h.start.row===h.end.row)p=[this.getLine(h.start.row).substring(h.start.column,h.end.column)];else{p=this.getLines(h.start.row,h.end.row),p[0]=(p[0]||"").substring(h.start.column);var v=p.length-1;h.end.row-h.start.row==v&&(p[v]=p[v].substring(0,h.end.column))}return p},this.insertLines=function(h,p){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(h,p)},this.removeLines=function(h,p){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(h,p)},this.insertNewLine=function(h){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(h,["",""])},this.insert=function(h,p){return this.getLength()<=1&&this.$detectNewLine(p),this.insertMergedLines(h,this.$split(p))},this.insertInLine=function(h,p){var v=this.clippedPos(h.row,h.column),m=this.pos(h.row,h.column+p.length);return this.applyDelta({start:v,end:m,action:"insert",lines:[p]},!0),this.clonePos(m)},this.clippedPos=function(h,p){var v=this.getLength();h===void 0?h=v:h<0?h=0:h>=v&&(h=v-1,p=void 0);var m=this.getLine(h);return p==null&&(p=m.length),p=Math.min(Math.max(p,0),m.length),{row:h,column:p}},this.clonePos=function(h){return{row:h.row,column:h.column}},this.pos=function(h,p){return{row:h,column:p}},this.$clipPosition=function(h){var p=this.getLength();return h.row>=p?(h.row=Math.max(0,p-1),h.column=this.getLine(p-1).length):(h.row=Math.max(0,h.row),h.column=Math.min(Math.max(h.column,0),this.getLine(h.row).length)),h},this.insertFullLines=function(h,p){h=Math.min(Math.max(h,0),this.getLength());var v=0;h<this.getLength()?(p=p.concat([""]),v=0):(p=[""].concat(p),h--,v=this.$lines[h].length),this.insertMergedLines({row:h,column:v},p)},this.insertMergedLines=function(h,p){var v=this.clippedPos(h.row,h.column),m={row:v.row+p.length-1,column:(p.length==1?v.column:0)+p[p.length-1].length};return this.applyDelta({start:v,end:m,action:"insert",lines:p}),this.clonePos(m)},this.remove=function(h){var p=this.clippedPos(h.start.row,h.start.column),v=this.clippedPos(h.end.row,h.end.column);return this.applyDelta({start:p,end:v,action:"remove",lines:this.getLinesForRange({start:p,end:v})}),this.clonePos(p)},this.removeInLine=function(h,p,v){var m=this.clippedPos(h,p),y=this.clippedPos(h,v);return this.applyDelta({start:m,end:y,action:"remove",lines:this.getLinesForRange({start:m,end:y})},!0),this.clonePos(m)},this.removeFullLines=function(h,p){h=Math.min(Math.max(0,h),this.getLength()-1),p=Math.min(Math.max(0,p),this.getLength()-1);var v=p==this.getLength()-1&&h>0,m=p<this.getLength()-1,y=v?h-1:h,w=v?this.getLine(y).length:0,_=m?p+1:p,S=m?0:this.getLine(_).length,C=new f(y,w,_,S),$=this.$lines.slice(h,p+1);return this.applyDelta({start:C.start,end:C.end,action:"remove",lines:this.getLinesForRange(C)}),$},this.removeNewLine=function(h){h<this.getLength()-1&&h>=0&&this.applyDelta({start:this.pos(h,this.getLine(h).length),end:this.pos(h+1,0),action:"remove",lines:["",""]})},this.replace=function(h,p){if(h instanceof f||(h=f.fromPoints(h.start,h.end)),p.length===0&&h.isEmpty())return h.start;if(p==this.getTextRange(h))return h.end;this.remove(h);var v;return p?v=this.insert(h.start,p):v=h.start,v},this.applyDeltas=function(h){for(var p=0;p<h.length;p++)this.applyDelta(h[p])},this.revertDeltas=function(h){for(var p=h.length-1;p>=0;p--)this.revertDelta(h[p])},this.applyDelta=function(h,p){var v=h.action=="insert";(v?h.lines.length<=1&&!h.lines[0]:!f.comparePoints(h.start,h.end))||(v&&h.lines.length>2e4?this.$splitAndapplyLargeDelta(h,2e4):(s(this.$lines,h,p),this._signal("change",h)))},this.$safeApplyDelta=function(h){var p=this.$lines.length;(h.action=="remove"&&h.start.row<p&&h.end.row<p||h.action=="insert"&&h.start.row<=p)&&this.applyDelta(h)},this.$splitAndapplyLargeDelta=function(h,p){for(var v=h.lines,m=v.length-p+1,y=h.start.row,w=h.start.column,_=0,S=0;_<m;_=S){S+=p-1;var C=v.slice(_,S);C.push(""),this.applyDelta({start:this.pos(y+_,w),end:this.pos(y+S,w=0),action:h.action,lines:C},!0)}h.lines=v.slice(_),h.start.row=y+_,h.start.column=w,this.applyDelta(h,!0)},this.revertDelta=function(h){this.$safeApplyDelta({start:this.clonePos(h.start),end:this.clonePos(h.end),action:h.action=="insert"?"remove":"insert",lines:h.lines.slice()})},this.indexToPosition=function(h,p){for(var v=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,y=p||0,w=v.length;y<w;y++)if(h-=v[y].length+m,h<0)return{row:y,column:h+v[y].length+m};return{row:w-1,column:h+v[w-1].length+m}},this.positionToIndex=function(h,p){for(var v=this.$lines||this.getAllLines(),m=this.getNewLineCharacter().length,y=0,w=Math.min(h.row,v.length),_=p||0;_<w;++_)y+=v[_].length+m;return y+h.column}}).call(c.prototype),r.Document=c}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var a=n("./lib/oop"),s=n("./lib/event_emitter").EventEmitter,u=function(f,d){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=f;var c=this;this.$worker=function(){if(c.running){for(var h=new Date,p=c.currentLine,v=-1,m=c.doc,y=p;c.lines[p];)p++;var w=m.getLength(),_=0;for(c.running=!1;p<w;){c.$tokenizeRow(p),v=p;do p++;while(c.lines[p]);if(_++,_%5===0&&new Date-h>20){c.running=setTimeout(c.$worker,20);break}}c.currentLine=p,v==-1&&(v=p),y<=v&&c.fireUpdateEvent(y,v)}}};(function(){a.implement(this,s),this.setTokenizer=function(f){this.tokenizer=f,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(f){this.doc=f,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(f,d){var c={first:f,last:d};this._signal("update",{data:c})},this.start=function(f){this.currentLine=Math.min(f||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(f){var d=f.start.row,c=f.end.row-d;if(c===0)this.lines[d]=null;else if(f.action=="remove")this.lines.splice(d,c+1,null),this.states.splice(d,c+1,null);else{var h=Array(c+1);h.unshift(d,1),this.lines.splice.apply(this.lines,h),this.states.splice.apply(this.states,h)}this.currentLine=Math.min(d,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(f){return this.lines[f]||this.$tokenizeRow(f)},this.getState=function(f){return this.currentLine==f&&this.$tokenizeRow(f),this.states[f]||"start"},this.$tokenizeRow=function(f){var d=this.doc.getLine(f),c=this.states[f-1],h=this.tokenizer.getLineTokens(d,c,f);return this.states[f]+""!=h.state+""?(this.states[f]=h.state,this.lines[f+1]=null,this.currentLine>f+1&&(this.currentLine=f+1)):this.currentLine==f&&(this.currentLine=f+1),this.lines[f]=h.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(u.prototype),r.BackgroundTokenizer=u}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,r,i){var a=n("./lib/lang");n("./lib/oop");var s=n("./range").Range,u=function(f,d,c){this.setRegexp(f),this.clazz=d,this.type=c||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(f){this.regExp+""!=f+""&&(this.regExp=f,this.cache=[])},this.update=function(f,d,c,h){if(this.regExp)for(var p=h.firstRow,v=h.lastRow,m={},y=p;y<=v;y++){var w=this.cache[y];w==null&&(w=a.getMatchOffsets(c.getLine(y),this.regExp),w.length>this.MAX_RANGES&&(w=w.slice(0,this.MAX_RANGES)),w=w.map(function($){return new s(y,$.offset,y,$.offset+$.length)}),this.cache[y]=w.length?w:"");for(var _=w.length;_--;){var S=w[_].toScreenRange(c),C=S.toString();m[C]||(m[C]=!0,d.drawSingleLineMarker(f,S,this.clazz,h))}}}}).call(u.prototype),r.SearchHighlight=u}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,r,i){var a=n("../range").Range;function s(u,f){this.foldData=u,Array.isArray(f)?this.folds=f:f=this.folds=[f];var d=f[f.length-1];this.range=new a(f[0].start.row,f[0].start.column,d.end.row,d.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(c){c.setFoldLine(this)},this)}(function(){this.shiftRow=function(u){this.start.row+=u,this.end.row+=u,this.folds.forEach(function(f){f.start.row+=u,f.end.row+=u})},this.addFold=function(u){if(u.sameRow){if(u.start.row<this.startRow||u.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(u),this.folds.sort(function(f,d){return-f.range.compareEnd(d.start.row,d.start.column)}),this.range.compareEnd(u.start.row,u.start.column)>0?(this.end.row=u.end.row,this.end.column=u.end.column):this.range.compareStart(u.end.row,u.end.column)<0&&(this.start.row=u.start.row,this.start.column=u.start.column)}else if(u.start.row==this.end.row)this.folds.push(u),this.end.row=u.end.row,this.end.column=u.end.column;else if(u.end.row==this.start.row)this.folds.unshift(u),this.start.row=u.start.row,this.start.column=u.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");u.foldLine=this},this.containsRow=function(u){return u>=this.start.row&&u<=this.end.row},this.walk=function(u,f,d){var c=0,h=this.folds,p,v,m,y=!0;f==null&&(f=this.end.row,d=this.end.column);for(var w=0;w<h.length;w++){if(p=h[w],v=p.range.compareStart(f,d),v==-1){u(null,f,d,c,y);return}if(m=u(null,p.start.row,p.start.column,c,y),m=!m&&u(p.placeholder,p.start.row,p.start.column,c),m||v===0)return;y=!p.sameRow,c=p.end.column}u(null,f,d,c,y)},this.getNextFoldTo=function(u,f){for(var d,c,h=0;h<this.folds.length;h++){if(d=this.folds[h],c=d.range.compareEnd(u,f),c==-1)return{fold:d,kind:"after"};if(c===0)return{fold:d,kind:"inside"}}return null},this.addRemoveChars=function(u,f,d){var c=this.getNextFoldTo(u,f),h,p;if(c){if(h=c.fold,c.kind=="inside"&&h.start.column!=f&&h.start.row!=u)window.console&&window.console.log(u,f,h);else if(h.start.row==u){p=this.folds;var v=p.indexOf(h);for(v===0&&(this.start.column+=d),v;v<p.length;v++){if(h=p[v],h.start.column+=d,!h.sameRow)return;h.end.column+=d}this.end.column+=d}}},this.split=function(u,f){var d=this.getNextFoldTo(u,f);if(!d||d.kind=="inside")return null;var c=d.fold,h=this.folds,p=this.foldData,v=h.indexOf(c),m=h[v-1];this.end.row=m.end.row,this.end.column=m.end.column,h=h.splice(v,h.length-v);var y=new s(p,h);return p.splice(p.indexOf(this)+1,0,y),y},this.merge=function(u){for(var f=u.folds,d=0;d<f.length;d++)this.addFold(f[d]);var c=this.foldData;c.splice(c.indexOf(u),1)},this.toString=function(){var u=[this.range.toString()+": ["];return this.folds.forEach(function(f){u.push("  "+f.toString())}),u.push("]"),u.join(`
`)},this.idxToPosition=function(u){for(var f=0,d=0;d<this.folds.length;d++){var c=this.folds[d];if(u-=c.start.column-f,u<0)return{row:c.start.row,column:c.start.column+u};if(u-=c.placeholder.length,u<0)return c.start;f=c.end.column}return{row:this.end.row,column:this.end.column+u}}}).call(s.prototype),r.FoldLine=s}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(n,r,i){var a=n("./range").Range,s=a.comparePoints,u=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=s,this.pointIndex=function(f,d,c){for(var h=this.ranges,p=c||0;p<h.length;p++){var v=h[p],m=s(f,v.end);if(!(m>0)){var y=s(f,v.start);return m===0?d&&y!==0?-p-2:p:y>0||y===0&&!d?p:-p-1}}return-p-1},this.add=function(f){var d=!f.isEmpty(),c=this.pointIndex(f.start,d);c<0&&(c=-c-1);var h=this.pointIndex(f.end,d,c);return h<0?h=-h-1:h++,this.ranges.splice(c,h-c,f)},this.addList=function(f){for(var d=[],c=f.length;c--;)d.push.apply(d,this.add(f[c]));return d},this.substractPoint=function(f){var d=this.pointIndex(f);if(d>=0)return this.ranges.splice(d,1)},this.merge=function(){var f=[],d=this.ranges;d=d.sort(function(m,y){return s(m.start,y.start)});for(var c=d[0],h,p=1;p<d.length;p++){h=c,c=d[p];var v=s(h.end,c.start);v<0||v==0&&!h.isEmpty()&&!c.isEmpty()||(s(h.end,c.end)<0&&(h.end.row=c.end.row,h.end.column=c.end.column),d.splice(p,1),f.push(c),c=h,p--)}return this.ranges=d,f},this.contains=function(f,d){return this.pointIndex({row:f,column:d})>=0},this.containsPoint=function(f){return this.pointIndex(f)>=0},this.rangeAtPoint=function(f){var d=this.pointIndex(f);if(d>=0)return this.ranges[d]},this.clipRows=function(f,d){var c=this.ranges;if(c[0].start.row>d||c[c.length-1].start.row<f)return[];var h=this.pointIndex({row:f,column:0});h<0&&(h=-h-1);var p=this.pointIndex({row:d,column:0},h);p<0&&(p=-p-1);for(var v=[],m=h;m<p;m++)v.push(c[m]);return v},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(f){this.session&&this.detach(),this.session=f,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(f){for(var d=f.start,c=f.end,h=d.row,p=c.row,v=this.ranges,m=0,y=v.length;m<y;m++){var w=v[m];if(w.end.row>=h)break}if(f.action=="insert")for(var _=p-h,S=-d.column+c.column;m<y;m++){var w=v[m];if(w.start.row>h)break;if(w.start.row==h&&w.start.column>=d.column&&(w.start.column==d.column&&this.$bias<=0||(w.start.column+=S,w.start.row+=_)),w.end.row==h&&w.end.column>=d.column){if(w.end.column==d.column&&this.$bias<0)continue;w.end.column==d.column&&S>0&&m<y-1&&w.end.column>w.start.column&&w.end.column==v[m+1].start.column&&(w.end.column-=S),w.end.column+=S,w.end.row+=_}}else for(var _=h-p,S=d.column-c.column;m<y;m++){var w=v[m];if(w.start.row>p)break;w.end.row<p&&(h<w.end.row||h==w.end.row&&d.column<w.end.column)?(w.end.row=h,w.end.column=d.column):w.end.row==p?w.end.column<=c.column?(_||w.end.column>d.column)&&(w.end.column=d.column,w.end.row=d.row):(w.end.column+=S,w.end.row+=_):w.end.row>p&&(w.end.row+=_),w.start.row<p&&(h<w.start.row||h==w.start.row&&d.column<w.start.column)?(w.start.row=h,w.start.column=d.column):w.start.row==p?w.start.column<=c.column?(_||w.start.column>d.column)&&(w.start.column=d.column,w.start.row=d.row):(w.start.column+=S,w.start.row+=_):w.start.row>p&&(w.start.row+=_)}if(_!=0&&m<y)for(;m<y;m++){var w=v[m];w.start.row+=_,w.end.row+=_}}}).call(u.prototype),r.RangeList=u}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],function(n,r,i){var a=n("../range_list").RangeList,s=n("../lib/oop"),u=r.Fold=function(p,v){this.foldLine=null,this.placeholder=v,this.range=p,this.start=p.start,this.end=p.end,this.sameRow=p.start.row==p.end.row,this.subFolds=this.ranges=[]};s.inherits(u,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(p){this.foldLine=p,this.subFolds.forEach(function(v){v.setFoldLine(p)})},this.clone=function(){var p=this.range.clone(),v=new u(p,this.placeholder);return this.subFolds.forEach(function(m){v.subFolds.push(m.clone())}),v.collapseChildren=this.collapseChildren,v},this.addSubFold=function(p){if(!this.range.isEqual(p)){d(p,this.start);for(var _=p.start.row,S=p.start.column,v=0,m=-1;v<this.subFolds.length&&(m=this.subFolds[v].range.compare(_,S),m==1);v++);var y=this.subFolds[v],w=0;if(m==0){if(y.range.containsRange(p))return y.addSubFold(p);w=1}for(var _=p.range.end.row,S=p.range.end.column,C=v,m=-1;C<this.subFolds.length&&(m=this.subFolds[C].range.compare(_,S),m==1);C++);m==0&&C++;for(var $=this.subFolds.splice(v,C-v,p),k=m==0?$.length-1:$.length,M=w;M<k;M++)p.addSubFold($[M]);return p.setFoldLine(this.foldLine),p}},this.restoreRange=function(p){return h(p,this.start)}}.call(u.prototype);function f(p,v){p.row-=v.row,p.row==0&&(p.column-=v.column)}function d(p,v){f(p.start,v),f(p.end,v)}function c(p,v){p.row==0&&(p.column+=v.column),p.row+=v.row}function h(p,v){c(p.start,v),c(p.end,v)}}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(n,r,i){var a=n("../range").Range,s=n("./fold_line").FoldLine,u=n("./fold").Fold,f=n("../token_iterator").TokenIterator;function d(){this.getFoldAt=function(c,h,p){var v=this.getFoldLine(c);if(!v)return null;for(var m=v.folds,y=0;y<m.length;y++){var w=m[y].range;if(w.contains(c,h)){if(p==1&&w.isEnd(c,h)&&!w.isEmpty())continue;if(p==-1&&w.isStart(c,h)&&!w.isEmpty())continue;return m[y]}}},this.getFoldsInRange=function(c){var h=c.start,p=c.end,v=this.$foldData,m=[];h.column+=1,p.column-=1;for(var y=0;y<v.length;y++){var w=v[y].range.compareRange(c);if(w!=2){if(w==-2)break;for(var _=v[y].folds,S=0;S<_.length;S++){var C=_[S];if(w=C.range.compareRange(c),w==-2)break;if(w==2)continue;if(w==42)break;m.push(C)}}}return h.column-=1,p.column+=1,m},this.getFoldsInRangeList=function(c){if(Array.isArray(c)){var h=[];c.forEach(function(p){h=h.concat(this.getFoldsInRange(p))},this)}else var h=this.getFoldsInRange(c);return h},this.getAllFolds=function(){for(var c=[],h=this.$foldData,p=0;p<h.length;p++)for(var v=0;v<h[p].folds.length;v++)c.push(h[p].folds[v]);return c},this.getFoldStringAt=function(c,h,p,v){if(v=v||this.getFoldLine(c),!v)return null;for(var m={end:{column:0}},y,w,_=0;_<v.folds.length;_++){w=v.folds[_];var S=w.range.compareEnd(c,h);if(S==-1){y=this.getLine(w.start.row).substring(m.end.column,w.start.column);break}else if(S===0)return null;m=w}return y||(y=this.getLine(w.start.row).substring(m.end.column)),p==-1?y.substring(0,h-m.end.column):p==1?y.substring(h-m.end.column):y},this.getFoldLine=function(c,h){var p=this.$foldData,v=0;for(h&&(v=p.indexOf(h)),v==-1&&(v=0),v;v<p.length;v++){var m=p[v];if(m.start.row<=c&&m.end.row>=c)return m;if(m.end.row>c)return null}return null},this.getNextFoldLine=function(c,h){var p=this.$foldData,v=0;for(h&&(v=p.indexOf(h)),v==-1&&(v=0),v;v<p.length;v++){var m=p[v];if(m.end.row>=c)return m}return null},this.getFoldedRowCount=function(c,h){for(var p=this.$foldData,v=h-c+1,m=0;m<p.length;m++){var y=p[m],w=y.end.row,_=y.start.row;if(w>=h){_<h&&(_>=c?v-=h-_:v=0);break}else w>=c&&(_>=c?v-=w-_:v-=w-c+1)}return v},this.$addFoldLine=function(c){return this.$foldData.push(c),this.$foldData.sort(function(h,p){return h.start.row-p.start.row}),c},this.addFold=function(c,h){var p=this.$foldData,v=!1,m;c instanceof u?m=c:(m=new u(h,c),m.collapseChildren=h.collapseChildren),this.$clipRangeToDocument(m.range);var y=m.start.row,w=m.start.column,_=m.end.row,S=m.end.column,C=this.getFoldAt(y,w,1),$=this.getFoldAt(_,S,-1);if(C&&$==C)return C.addSubFold(m);C&&!C.range.isStart(y,w)&&this.removeFold(C),$&&!$.range.isEnd(_,S)&&this.removeFold($);var k=this.getFoldsInRange(m.range);k.length>0&&(this.removeFolds(k),m.collapseChildren||k.forEach(function(N){m.addSubFold(N)}));for(var M=0;M<p.length;M++){var A=p[M];if(_==A.start.row){A.addFold(m),v=!0;break}else if(y==A.end.row){if(A.addFold(m),v=!0,!m.sameRow){var L=p[M+1];if(L&&L.start.row==_){A.merge(L);break}}break}else if(_<=A.start.row)break}return v||(A=this.$addFoldLine(new s(this.$foldData,m))),this.$useWrapMode?this.$updateWrapData(A.start.row,A.start.row):this.$updateRowLengthCache(A.start.row,A.start.row),this.$modified=!0,this._signal("changeFold",{data:m,action:"add"}),m},this.addFolds=function(c){c.forEach(function(h){this.addFold(h)},this)},this.removeFold=function(c){var h=c.foldLine,p=h.start.row,v=h.end.row,m=this.$foldData,y=h.folds;if(y.length==1)m.splice(m.indexOf(h),1);else if(h.range.isEnd(c.end.row,c.end.column))y.pop(),h.end.row=y[y.length-1].end.row,h.end.column=y[y.length-1].end.column;else if(h.range.isStart(c.start.row,c.start.column))y.shift(),h.start.row=y[0].start.row,h.start.column=y[0].start.column;else if(c.sameRow)y.splice(y.indexOf(c),1);else{var w=h.split(c.start.row,c.start.column);y=w.folds,y.shift(),w.start.row=y[0].start.row,w.start.column=y[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(p,v):this.$updateRowLengthCache(p,v)),this.$modified=!0,this._signal("changeFold",{data:c,action:"remove"})},this.removeFolds=function(c){for(var h=[],p=0;p<c.length;p++)h.push(c[p]);h.forEach(function(v){this.removeFold(v)},this),this.$modified=!0},this.expandFold=function(c){this.removeFold(c),c.subFolds.forEach(function(h){c.restoreRange(h),this.addFold(h)},this),c.collapseChildren>0&&this.foldAll(c.start.row+1,c.end.row,c.collapseChildren-1),c.subFolds=[]},this.expandFolds=function(c){c.forEach(function(h){this.expandFold(h)},this)},this.unfold=function(c,h){var p,v;if(c==null)p=new a(0,0,this.getLength(),0),h==null&&(h=!0);else if(typeof c=="number")p=new a(c,0,c,this.getLine(c).length);else if("row"in c)p=a.fromPoints(c,c);else{if(Array.isArray(c))return v=[],c.forEach(function(y){v=v.concat(this.unfold(y))},this),v;p=c}v=this.getFoldsInRangeList(p);for(var m=v;v.length==1&&a.comparePoints(v[0].start,p.start)<0&&a.comparePoints(v[0].end,p.end)>0;)this.expandFolds(v),v=this.getFoldsInRangeList(p);if(h!=!1?this.removeFolds(v):this.expandFolds(v),m.length)return m},this.isRowFolded=function(c,h){return!!this.getFoldLine(c,h)},this.getRowFoldEnd=function(c,h){var p=this.getFoldLine(c,h);return p?p.end.row:c},this.getRowFoldStart=function(c,h){var p=this.getFoldLine(c,h);return p?p.start.row:c},this.getFoldDisplayLine=function(c,h,p,v,m){v==null&&(v=c.start.row),m==null&&(m=0),h==null&&(h=c.end.row),p==null&&(p=this.getLine(h).length);var y=this.doc,w="";return c.walk(function(_,S,C,$){if(!(S<v)){if(S==v){if(C<m)return;$=Math.max(m,$)}_!=null?w+=_:w+=y.getLine(S).substring($,C)}},h,p),w},this.getDisplayLine=function(c,h,p,v){var m=this.getFoldLine(c);if(m)return this.getFoldDisplayLine(m,c,h,p,v);var y;return y=this.doc.getLine(c),y.substring(v||0,h||y.length)},this.$cloneFoldData=function(){var c=[];return c=this.$foldData.map(function(h){var p=h.folds.map(function(v){return v.clone()});return new s(c,p)}),c},this.toggleFold=function(c){var h=this.selection,p=h.getRange(),v,m;if(p.isEmpty()){var y=p.start;if(v=this.getFoldAt(y.row,y.column),v){this.expandFold(v);return}else(m=this.findMatchingBracket(y))?p.comparePoint(m)==1?p.end=m:(p.start=m,p.start.column++,p.end.column--):(m=this.findMatchingBracket({row:y.row,column:y.column+1}))?(p.comparePoint(m)==1?p.end=m:p.start=m,p.start.column++):p=this.getCommentFoldRange(y.row,y.column)||p}else{var w=this.getFoldsInRange(p);if(c&&w.length){this.expandFolds(w);return}else w.length==1&&(v=w[0])}if(v||(v=this.getFoldAt(p.start.row,p.start.column)),v&&v.range.toString()==p.toString()){this.expandFold(v);return}var _="...";if(!p.isMultiLine()){if(_=this.getTextRange(p),_.length<4)return;_=_.trim().substring(0,2)+".."}this.addFold(_,p)},this.getCommentFoldRange=function(c,h,p){var v=new f(this,c,h),m=v.getCurrentToken(),y=m&&m.type;if(m&&/^comment|string/.test(y)){y=y.match(/comment|string/)[0],y=="comment"&&(y+="|doc-start");var w=new RegExp(y),_=new a;if(p!=1){do m=v.stepBackward();while(m&&w.test(m.type)&&!/^comment.end/.test(m.type));m=v.stepForward()}if(_.start.row=v.getCurrentTokenRow(),_.start.column=v.getCurrentTokenColumn()+(/^comment.start/.test(m.type)?m.value.length:2),v=new f(this,c,h),p!=-1){var S=-1;do if(m=v.stepForward(),S==-1){var C=this.getState(v.$row);w.test(C)||(S=v.$row)}else if(v.$row>S)break;while(m&&w.test(m.type)&&!/^comment.start/.test(m.type));m=v.stepBackward()}else m=v.getCurrentToken();return _.end.row=v.getCurrentTokenRow(),_.end.column=v.getCurrentTokenColumn(),/^comment.end/.test(m.type)||(_.end.column+=m.value.length-2),_}},this.foldAll=function(c,h,p,v){p==null&&(p=1e5);var m=this.foldWidgets;if(m){h=h||this.getLength(),c=c||0;for(var y=c;y<h;y++)if(m[y]==null&&(m[y]=this.getFoldWidget(y)),m[y]=="start"&&!(v&&!v(y))){var w=this.getFoldWidgetRange(y);w&&w.isMultiLine()&&w.end.row<=h&&w.start.row>=c&&(y=w.end.row,w.collapseChildren=p,this.addFold("...",w))}}},this.foldToLevel=function(c){for(this.foldAll();c-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var c=this;this.foldAll(null,null,null,function(h){for(var p=c.getTokens(h),v=0;v<p.length;v++){var m=p[v];if(!(m.type=="text"&&/^\s+$/.test(m.value)))return!!/comment/.test(m.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(c){if(!this.$foldStyles[c])throw new Error("invalid fold style: "+c+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=c){this.$foldStyle=c,c=="manual"&&this.unfold();var h=this.$foldMode;this.$setFolding(null),this.$setFolding(h)}},this.$setFolding=function(c){if(this.$foldMode!=c){if(this.$foldMode=c,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!c||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=c.getFoldWidget.bind(c,this,this.$foldStyle),this.getFoldWidgetRange=c.getFoldWidgetRange.bind(c,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(c,h){var p=this.foldWidgets;if(!p||h&&p[c])return{};for(var v=c-1,m;v>=0;){var y=p[v];if(y==null&&(y=p[v]=this.getFoldWidget(v)),y=="start"){var w=this.getFoldWidgetRange(v);if(m||(m=w),w&&w.end.row>=c)break}v--}return{range:v!==-1&&w,firstRange:m}},this.onFoldWidgetClick=function(c,h){h=h.domEvent;var p={children:h.shiftKey,all:h.ctrlKey||h.metaKey,siblings:h.altKey},v=this.$toggleFoldWidget(c,p);if(!v){var m=h.target||h.srcElement;m&&/ace_fold-widget/.test(m.className)&&(m.className+=" ace_invalid")}},this.$toggleFoldWidget=function(c,h){if(this.getFoldWidget){var p=this.getFoldWidget(c),v=this.getLine(c),m=p==="end"?-1:1,y=this.getFoldAt(c,m===-1?0:v.length,m);if(y)return h.children||h.all?this.removeFold(y):this.expandFold(y),y;var w=this.getFoldWidgetRange(c,!0);if(w&&!w.isMultiLine()&&(y=this.getFoldAt(w.start.row,w.start.column,1),y&&w.isEqual(y.range)))return this.removeFold(y),y;if(h.siblings){var _=this.getParentFoldRangeData(c);if(_.range)var S=_.range.start.row+1,C=_.range.end.row;this.foldAll(S,C,h.all?1e4:0)}else h.children?(C=w?w.end.row:this.getLength(),this.foldAll(c+1,C,h.all?1e4:0)):w&&(h.all&&(w.collapseChildren=1e4),this.addFold("...",w));return w}},this.toggleFoldWidget=function(c){var h=this.selection.getCursor().row;h=this.getRowFoldStart(h);var p=this.$toggleFoldWidget(h,{});if(!p){var v=this.getParentFoldRangeData(h,!0);if(p=v.range||v.firstRange,p){h=p.start.row;var m=this.getFoldAt(h,this.getLine(h).length,1);m?this.removeFold(m):this.addFold("...",p)}}},this.updateFoldWidgets=function(c){var h=c.start.row,p=c.end.row-h;if(p===0)this.foldWidgets[h]=null;else if(c.action=="remove")this.foldWidgets.splice(h,p+1,null);else{var v=Array(p+1);v.unshift(h,1),this.foldWidgets.splice.apply(this.foldWidgets,v)}},this.tokenizerUpdateFoldWidgets=function(c){var h=c.data;h.first!=h.last&&this.foldWidgets.length>h.first&&this.foldWidgets.splice(h.first,this.foldWidgets.length)}}r.Folding=d}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,r,i){var a=n("../token_iterator").TokenIterator,s=n("../range").Range;function u(){this.findMatchingBracket=function(f,d){if(f.column==0)return null;var c=d||this.getLine(f.row).charAt(f.column-1);if(c=="")return null;var h=c.match(/([\(\[\{])|([\)\]\}])/);return h?h[1]?this.$findClosingBracket(h[1],f):this.$findOpeningBracket(h[2],f):null},this.getBracketRange=function(f){var d=this.getLine(f.row),c=!0,h,p=d.charAt(f.column-1),v=p&&p.match(/([\(\[\{])|([\)\]\}])/);if(v||(p=d.charAt(f.column),f={row:f.row,column:f.column+1},v=p&&p.match(/([\(\[\{])|([\)\]\}])/),c=!1),!v)return null;if(v[1]){var m=this.$findClosingBracket(v[1],f);if(!m)return null;h=s.fromPoints(f,m),c||(h.end.column++,h.start.column--),h.cursor=h.end}else{var m=this.$findOpeningBracket(v[2],f);if(!m)return null;h=s.fromPoints(m,f),c||(h.start.column++,h.end.column--),h.cursor=h.start}return h},this.getMatchingBracketRanges=function(f,d){var c=this.getLine(f.row),h=/([\(\[\{])|([\)\]\}])/,p=!d&&c.charAt(f.column-1),v=p&&p.match(h);if(v||(p=(d===void 0||d)&&c.charAt(f.column),f={row:f.row,column:f.column+1},v=p&&p.match(h)),!v)return null;var m=new s(f.row,f.column-1,f.row,f.column),y=v[1]?this.$findClosingBracket(v[1],f):this.$findOpeningBracket(v[2],f);if(!y)return[m];var w=new s(y.row,y.column,y.row,y.column+1);return[m,w]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(f,d,c){var h=this.$brackets[f],p=1,v=new a(this,d.row,d.column),m=v.getCurrentToken();if(m||(m=v.stepForward()),!!m){c||(c=new RegExp("(\\.?"+m.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var y=d.column-v.getCurrentTokenColumn()-2,w=m.value;;){for(;y>=0;){var _=w.charAt(y);if(_==h){if(p-=1,p==0)return{row:v.getCurrentTokenRow(),column:y+v.getCurrentTokenColumn()}}else _==f&&(p+=1);y-=1}do m=v.stepBackward();while(m&&!c.test(m.type));if(m==null)break;w=m.value,y=w.length-1}return null}},this.$findClosingBracket=function(f,d,c){var h=this.$brackets[f],p=1,v=new a(this,d.row,d.column),m=v.getCurrentToken();if(m||(m=v.stepForward()),!!m){c||(c=new RegExp("(\\.?"+m.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var y=d.column-v.getCurrentTokenColumn();;){for(var w=m.value,_=w.length;y<_;){var S=w.charAt(y);if(S==h){if(p-=1,p==0)return{row:v.getCurrentTokenRow(),column:y+v.getCurrentTokenColumn()}}else S==f&&(p+=1);y+=1}do m=v.stepForward();while(m&&!c.test(m.type));if(m==null)break;y=0}return null}},this.getMatchingTags=function(f){var d=new a(this,f.row,f.column),c=this.$findTagName(d);if(c){var h=d.stepBackward();return h.value==="<"?this.$findClosingTag(d,c):this.$findOpeningTag(d,c)}},this.$findTagName=function(f){var d=f.getCurrentToken(),c=!1,h=!1;if(d&&d.type.indexOf("tag-name")===-1)do h?d=f.stepBackward():d=f.stepForward(),d&&(d.value==="/>"?h=!0:d.type.indexOf("tag-name")!==-1&&(c=!0));while(d&&!c);return d},this.$findClosingTag=function(f,d){var c,h=d.value,p=d.value,v=0,m=new s(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1);d=f.stepForward();var y=new s(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+d.value.length),w=!1;do if(c=d,d=f.stepForward(),d){if(d.value===">"&&!w){var _=new s(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1);w=!0}if(d.type.indexOf("tag-name")!==-1){if(h=d.value,p===h){if(c.value==="<")v++;else if(c.value==="</"&&(v--,v<0)){f.stepBackward();var S=new s(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+2);d=f.stepForward();var C=new s(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+d.value.length);if(d=f.stepForward(),d&&d.value===">")var $=new s(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1);else return}}}else if(p===h&&d.value==="/>"&&(v--,v<0))var S=new s(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+2),C=S,$=C,_=new s(y.end.row,y.end.column,y.end.row,y.end.column+1)}while(d&&v>=0);if(m&&_&&S&&$&&y&&C)return{openTag:new s(m.start.row,m.start.column,_.end.row,_.end.column),closeTag:new s(S.start.row,S.start.column,$.end.row,$.end.column),openTagName:y,closeTagName:C}},this.$findOpeningTag=function(f,d){var c=f.getCurrentToken(),h=d.value,p=0,v=f.getCurrentTokenRow(),m=f.getCurrentTokenColumn(),y=m+2,w=new s(v,m,v,y);f.stepForward();var _=new s(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+d.value.length);if(d=f.stepForward(),!(!d||d.value!==">")){var S=new s(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1);f.stepBackward(),f.stepBackward();do if(d=c,v=f.getCurrentTokenRow(),m=f.getCurrentTokenColumn(),y=m+d.value.length,c=f.stepBackward(),d){if(d.type.indexOf("tag-name")!==-1){if(h===d.value)if(c.value==="<"){if(p++,p>0){var C=new s(v,m,v,y),$=new s(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1);do d=f.stepForward();while(d&&d.value!==">");var k=new s(f.getCurrentTokenRow(),f.getCurrentTokenColumn(),f.getCurrentTokenRow(),f.getCurrentTokenColumn()+1)}}else c.value==="</"&&p--}else if(d.value==="/>"){for(var M=0,A=c;A;){if(A.type.indexOf("tag-name")!==-1&&A.value===h){p--;break}else if(A.value==="<")break;A=f.stepBackward(),M++}for(var L=0;L<M;L++)f.stepForward()}}while(c&&p<=0);if($&&k&&w&&S&&C&&_)return{openTag:new s($.start.row,$.start.column,k.end.row,k.end.column),closeTag:new s(w.start.row,w.start.column,S.end.row,S.end.column),openTagName:C,closeTagName:_}}}}r.BracketMatch=u}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,r,i){var a=n("./lib/oop"),s=n("./lib/lang"),u=n("./bidihandler").BidiHandler,f=n("./config"),d=n("./lib/event_emitter").EventEmitter,c=n("./selection").Selection,h=n("./mode/text").Mode,p=n("./range").Range,v=n("./document").Document,m=n("./background_tokenizer").BackgroundTokenizer,y=n("./search_highlight").SearchHighlight,w=function(_,S){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++w.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new m(new h().getTokenizer(),this);var C=this;this.bgTokenizer.on("update",function($){C._signal("tokenizerUpdate",$)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof _!="object"||!_.getLine)&&(_=new v(_)),this.setDocument(_),this.selection=new c(this),this.$bidiHandler=new u(this),f.resetOptions(this),this.setMode(S),f._signal("session",this),this.destroyed=!1};w.$uid=0,function(){a.implement(this,d),this.setDocument=function(R){this.doc&&this.doc.off("change",this.$onChange),this.doc=R,R.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(R){if(!R){this.$docRowCache=[],this.$screenRowCache=[];return}var D=this.$docRowCache.length,j=this.$getRowCacheIndex(this.$docRowCache,R)+1;D>j&&(this.$docRowCache.splice(j,D),this.$screenRowCache.splice(j,D))},this.$getRowCacheIndex=function(R,D){for(var j=0,U=R.length-1;j<=U;){var H=j+U>>1,Y=R[H];if(D>Y)j=H+1;else if(D<Y)U=H-1;else return H}return j-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(R){var D=R.data;this.$resetRowCache(D.start.row)},this.onChange=function(R){this.$modified=!0,this.$bidiHandler.onChange(R),this.$resetRowCache(R.start.row);var D=this.$updateInternalDataOnChange(R);!this.$fromUndo&&this.$undoManager&&(D&&D.length&&(this.$undoManager.add({action:"removeFolds",folds:D},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(R,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(R),this._signal("change",R)},this.setValue=function(R){this.doc.setValue(R),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(R){return this.bgTokenizer.getState(R)},this.getTokens=function(R){return this.bgTokenizer.getTokens(R)},this.getTokenAt=function(R,D){var j=this.bgTokenizer.getTokens(R),U,H=0;if(D==null){var Y=j.length-1;H=this.getLine(R).length}else for(var Y=0;Y<j.length&&(H+=j[Y].value.length,!(H>=D));Y++);return U=j[Y],U?(U.index=Y,U.start=H-U.value.length,U):null},this.setUndoManager=function(R){if(this.$undoManager=R,this.$informUndoManager&&this.$informUndoManager.cancel(),R){var D=this;R.addSession(this),this.$syncInformUndoManager=function(){D.$informUndoManager.cancel(),D.mergeUndoDeltas=!1},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"	"},this.setUseSoftTabs=function(R){this.setOption("useSoftTabs",R)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(R){this.setOption("tabSize",R)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(R){return this.$useSoftTabs&&R.column%this.$tabSize===0},this.setNavigateWithinSoftTabs=function(R){this.setOption("navigateWithinSoftTabs",R)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(R){this.setOption("overwrite",R)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(R,D){this.$decorations[R]||(this.$decorations[R]=""),this.$decorations[R]+=" "+D,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(R,D){this.$decorations[R]=(this.$decorations[R]||"").replace(" "+D,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(R){this.$breakpoints=[];for(var D=0;D<R.length;D++)this.$breakpoints[R[D]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(R,D){D===void 0&&(D="ace_breakpoint"),D?this.$breakpoints[R]=D:delete this.$breakpoints[R],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(R){delete this.$breakpoints[R],this._signal("changeBreakpoint",{})},this.addMarker=function(R,D,j,U){var H=this.$markerId++,Y={range:R,type:j||"line",renderer:typeof j=="function"?j:null,clazz:D,inFront:!!U,id:H};return U?(this.$frontMarkers[H]=Y,this._signal("changeFrontMarker")):(this.$backMarkers[H]=Y,this._signal("changeBackMarker")),H},this.addDynamicMarker=function(R,D){if(R.update){var j=this.$markerId++;return R.id=j,R.inFront=!!D,D?(this.$frontMarkers[j]=R,this._signal("changeFrontMarker")):(this.$backMarkers[j]=R,this._signal("changeBackMarker")),R}},this.removeMarker=function(R){var D=this.$frontMarkers[R]||this.$backMarkers[R];if(D){var j=D.inFront?this.$frontMarkers:this.$backMarkers;delete j[R],this._signal(D.inFront?"changeFrontMarker":"changeBackMarker")}},this.getMarkers=function(R){return R?this.$frontMarkers:this.$backMarkers},this.highlight=function(R){if(!this.$searchHighlight){var D=new y(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(D)}this.$searchHighlight.setRegexp(R)},this.highlightLines=function(R,D,j,U){typeof D!="number"&&(j=D,D=R),j||(j="ace_step");var H=new p(R,0,D,1/0);return H.id=this.addMarker(H,j,"fullLine",U),H},this.setAnnotations=function(R){this.$annotations=R,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(R){var D=R.match(/^.*?(\r?\n)/m);D?this.$autoNewLine=D[1]:this.$autoNewLine=`
`},this.getWordRange=function(R,D){var j=this.getLine(R),U=!1;if(D>0&&(U=!!j.charAt(D-1).match(this.tokenRe)),U||(U=!!j.charAt(D).match(this.tokenRe)),U)var H=this.tokenRe;else if(/^\s+$/.test(j.slice(D-1,D+1)))var H=/\s/;else var H=this.nonTokenRe;var Y=D;if(Y>0){do Y--;while(Y>=0&&j.charAt(Y).match(H));Y++}for(var Z=D;Z<j.length&&j.charAt(Z).match(H);)Z++;return new p(R,Y,R,Z)},this.getAWordRange=function(R,D){for(var j=this.getWordRange(R,D),U=this.getLine(j.end.row);U.charAt(j.end.column).match(/[ \t]/);)j.end.column+=1;return j},this.setNewLineMode=function(R){this.doc.setNewLineMode(R)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(R){this.setOption("useWorker",R)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(R){var D=R.data;this.bgTokenizer.start(D.first),this._signal("tokenizerUpdate",R)},this.$modes=f.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(R,D){if(R&&typeof R=="object"){if(R.getTokenizer)return this.$onChangeMode(R);var j=R,U=j.path}else U=R||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[U]&&!j){this.$onChangeMode(this.$modes[U]),D&&D();return}this.$modeId=U,f.loadModule(["mode",U],function(H){if(this.$modeId!==U)return D&&D();this.$modes[U]&&!j?this.$onChangeMode(this.$modes[U]):H&&H.Mode&&(H=new H.Mode(j),j||(this.$modes[U]=H,H.$id=U),this.$onChangeMode(H)),D&&D()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(R,D){if(D||(this.$modeId=R.$id),this.$mode!==R){var j=this.$mode;this.$mode=R,this.$stopWorker(),this.$useWorker&&this.$startWorker();var U=R.getTokenizer();if(U.on!==void 0){var H=this.onReloadTokenizer.bind(this);U.on("update",H)}this.bgTokenizer.setTokenizer(U),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=R.tokenRe,this.nonTokenRe=R.nonTokenRe,D||(R.attachToSession&&R.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(R.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:j,mode:R}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(R){f.warn("Could not load worker",R),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(R){this.$scrollTop===R||isNaN(R)||(this.$scrollTop=R,this._signal("changeScrollTop",R))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(R){this.$scrollLeft===R||isNaN(R)||(this.$scrollLeft=R,this._signal("changeScrollLeft",R))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var R=0;return this.lineWidgets.forEach(function(D){D&&D.screenWidth>R&&(R=D.screenWidth)}),this.lineWidgetWidth=R},this.$computeWidth=function(R){if(this.$modified||R){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var D=this.doc.getAllLines(),j=this.$rowLengthCache,U=0,H=0,Y=this.$foldData[H],Z=Y?Y.start.row:1/0,Q=D.length,ee=0;ee<Q;ee++){if(ee>Z){if(ee=Y.end.row+1,ee>=Q)break;Y=this.$foldData[H++],Z=Y?Y.start.row:1/0}j[ee]==null&&(j[ee]=this.$getStringScreenWidth(D[ee])[0]),j[ee]>U&&(U=j[ee])}this.screenWidth=U}},this.getLine=function(R){return this.doc.getLine(R)},this.getLines=function(R,D){return this.doc.getLines(R,D)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(R){return this.doc.getTextRange(R||this.selection.getRange())},this.insert=function(R,D){return this.doc.insert(R,D)},this.remove=function(R){return this.doc.remove(R)},this.removeFullLines=function(R,D){return this.doc.removeFullLines(R,D)},this.undoChanges=function(R,D){if(R.length){this.$fromUndo=!0;for(var j=R.length-1;j!=-1;j--){var U=R[j];U.action=="insert"||U.action=="remove"?this.doc.revertDelta(U):U.folds&&this.addFolds(U.folds)}!D&&this.$undoSelect&&(R.selectionBefore?this.selection.fromJSON(R.selectionBefore):this.selection.setRange(this.$getUndoSelection(R,!0))),this.$fromUndo=!1}},this.redoChanges=function(R,D){if(R.length){this.$fromUndo=!0;for(var j=0;j<R.length;j++){var U=R[j];(U.action=="insert"||U.action=="remove")&&this.doc.$safeApplyDelta(U)}!D&&this.$undoSelect&&(R.selectionAfter?this.selection.fromJSON(R.selectionAfter):this.selection.setRange(this.$getUndoSelection(R,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(R){this.$undoSelect=R},this.$getUndoSelection=function(R,D){function j(Q){return D?Q.action!=="insert":Q.action==="insert"}for(var U,H,Y=0;Y<R.length;Y++){var Z=R[Y];if(Z.start){if(!U){j(Z)?U=p.fromPoints(Z.start,Z.end):U=p.fromPoints(Z.start,Z.start);continue}j(Z)?(H=Z.start,U.compare(H.row,H.column)==-1&&U.setStart(H),H=Z.end,U.compare(H.row,H.column)==1&&U.setEnd(H)):(H=Z.start,U.compare(H.row,H.column)==-1&&(U=p.fromPoints(Z.start,Z.start)))}}return U},this.replace=function(R,D){return this.doc.replace(R,D)},this.moveText=function(R,D,j){var U=this.getTextRange(R),H=this.getFoldsInRange(R),Y=p.fromPoints(D,D);if(!j){this.remove(R);var Z=R.start.row-R.end.row,Q=Z?-R.end.column:R.start.column-R.end.column;Q&&(Y.start.row==R.end.row&&Y.start.column>R.end.column&&(Y.start.column+=Q),Y.end.row==R.end.row&&Y.end.column>R.end.column&&(Y.end.column+=Q)),Z&&Y.start.row>=R.end.row&&(Y.start.row+=Z,Y.end.row+=Z)}if(Y.end=this.insert(Y.start,U),H.length){var ee=R.start,oe=Y.start,Z=oe.row-ee.row,Q=oe.column-ee.column;this.addFolds(H.map(function(le){return le=le.clone(),le.start.row==ee.row&&(le.start.column+=Q),le.end.row==ee.row&&(le.end.column+=Q),le.start.row+=Z,le.end.row+=Z,le}))}return Y},this.indentRows=function(R,D,j){j=j.replace(/\t/g,this.getTabString());for(var U=R;U<=D;U++)this.doc.insertInLine({row:U,column:0},j)},this.outdentRows=function(R){for(var D=R.collapseRows(),j=new p(0,0,0,0),U=this.getTabSize(),H=D.start.row;H<=D.end.row;++H){var Y=this.getLine(H);j.start.row=H,j.end.row=H;for(var Z=0;Z<U&&Y.charAt(Z)==" ";++Z);Z<U&&Y.charAt(Z)=="	"?(j.start.column=Z,j.end.column=Z+1):(j.start.column=0,j.end.column=Z),this.remove(j)}},this.$moveLines=function(R,D,j){if(R=this.getRowFoldStart(R),D=this.getRowFoldEnd(D),j<0){var U=this.getRowFoldStart(R+j);if(U<0)return 0;var H=U-R}else if(j>0){var U=this.getRowFoldEnd(D+j);if(U>this.doc.getLength()-1)return 0;var H=U-D}else{R=this.$clipRowToDocument(R),D=this.$clipRowToDocument(D);var H=D-R+1}var Y=new p(R,0,D,Number.MAX_VALUE),Z=this.getFoldsInRange(Y).map(function(ee){return ee=ee.clone(),ee.start.row+=H,ee.end.row+=H,ee}),Q=j==0?this.doc.getLines(R,D):this.doc.removeFullLines(R,D);return this.doc.insertFullLines(R+H,Q),Z.length&&this.addFolds(Z),H},this.moveLinesUp=function(R,D){return this.$moveLines(R,D,-1)},this.moveLinesDown=function(R,D){return this.$moveLines(R,D,1)},this.duplicateLines=function(R,D){return this.$moveLines(R,D,0)},this.$clipRowToDocument=function(R){return Math.max(0,Math.min(R,this.doc.getLength()-1))},this.$clipColumnToRow=function(R,D){return D<0?0:Math.min(this.doc.getLine(R).length,D)},this.$clipPositionToDocument=function(R,D){if(D=Math.max(0,D),R<0)R=0,D=0;else{var j=this.doc.getLength();R>=j?(R=j-1,D=this.doc.getLine(j-1).length):D=Math.min(this.doc.getLine(R).length,D)}return{row:R,column:D}},this.$clipRangeToDocument=function(R){R.start.row<0?(R.start.row=0,R.start.column=0):R.start.column=this.$clipColumnToRow(R.start.row,R.start.column);var D=this.doc.getLength()-1;return R.end.row>D?(R.end.row=D,R.end.column=this.doc.getLine(D).length):R.end.column=this.$clipColumnToRow(R.end.row,R.end.column),R},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(R){if(R!=this.$useWrapMode){if(this.$useWrapMode=R,this.$modified=!0,this.$resetRowCache(0),R){var D=this.getLength();this.$wrapData=Array(D),this.$updateWrapData(0,D-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(R,D){(this.$wrapLimitRange.min!==R||this.$wrapLimitRange.max!==D)&&(this.$wrapLimitRange={min:R,max:D},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(R,D){var j=this.$wrapLimitRange;j.max<0&&(j={min:D,max:D});var U=this.$constrainWrapLimit(R,j.min,j.max);return U!=this.$wrapLimit&&U>1?(this.$wrapLimit=U,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(R,D,j){return D&&(R=Math.max(D,R)),j&&(R=Math.min(j,R)),R},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(R){this.setWrapLimitRange(R,R)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(R){var D=this.$useWrapMode,j=R.action,U=R.start,H=R.end,Y=U.row,Z=H.row,Q=Z-Y,ee=null;if(this.$updating=!0,Q!=0)if(j==="remove"){this[D?"$wrapData":"$rowLengthCache"].splice(Y,Q);var oe=this.$foldData;ee=this.getFoldsInRange(R),this.removeFolds(ee);var ue=this.getFoldLine(H.row),ve=0;if(ue){ue.addRemoveChars(H.row,H.column,U.column-H.column),ue.shiftRow(-Q);var le=this.getFoldLine(Y);le&&le!==ue&&(le.merge(ue),ue=le),ve=oe.indexOf(ue)+1}for(ve;ve<oe.length;ve++){var ue=oe[ve];ue.start.row>=H.row&&ue.shiftRow(-Q)}Z=Y}else{var de=Array(Q);de.unshift(Y,0);var me=D?this.$wrapData:this.$rowLengthCache;me.splice.apply(me,de);var oe=this.$foldData,ue=this.getFoldLine(Y),ve=0;if(ue){var Se=ue.range.compareInside(U.row,U.column);Se==0?(ue=ue.split(U.row,U.column),ue&&(ue.shiftRow(Q),ue.addRemoveChars(Z,0,H.column-U.column))):Se==-1&&(ue.addRemoveChars(Y,0,H.column-U.column),ue.shiftRow(Q)),ve=oe.indexOf(ue)+1}for(ve;ve<oe.length;ve++){var ue=oe[ve];ue.start.row>=Y&&ue.shiftRow(Q)}}else{Q=Math.abs(R.start.column-R.end.column),j==="remove"&&(ee=this.getFoldsInRange(R),this.removeFolds(ee),Q=-Q);var ue=this.getFoldLine(Y);ue&&ue.addRemoveChars(Y,U.column,Q)}return D&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,D?this.$updateWrapData(Y,Z):this.$updateRowLengthCache(Y,Z),ee},this.$updateRowLengthCache=function(R,D,j){this.$rowLengthCache[R]=null,this.$rowLengthCache[D]=null},this.$updateWrapData=function(R,D){var j=this.doc.getAllLines(),U=this.getTabSize(),H=this.$wrapData,Y=this.$wrapLimit,Z,Q,ee=R;for(D=Math.min(D,j.length-1);ee<=D;)Q=this.getFoldLine(ee,Q),Q?(Z=[],Q.walk(function(oe,ue,ve,le){var de;if(oe!=null){de=this.$getDisplayTokens(oe,Z.length),de[0]=C;for(var me=1;me<de.length;me++)de[me]=$}else de=this.$getDisplayTokens(j[ue].substring(le,ve),Z.length);Z=Z.concat(de)}.bind(this),Q.end.row,j[Q.end.row].length+1),H[Q.start.row]=this.$computeWrapSplits(Z,Y,U),ee=Q.end.row+1):(Z=this.$getDisplayTokens(j[ee]),H[ee]=this.$computeWrapSplits(Z,Y,U),ee++)};var _=1,S=2,C=3,$=4,k=9,M=10,A=11,L=12;this.$computeWrapSplits=function(R,D,j){if(R.length==0)return[];var U=[],H=R.length,Y=0,Z=0,Q=this.$wrapAsCode,ee=this.$indentedSoftWrap,oe=D<=Math.max(2*j,8)||ee===!1?0:Math.floor(D/2);function ue(){var Se=0;if(oe===0)return Se;if(ee)for(var Ee=0;Ee<R.length;Ee++){var xe=R[Ee];if(xe==M)Se+=1;else if(xe==A)Se+=j;else{if(xe==L)continue;break}}return Q&&ee!==!1&&(Se+=j),Math.min(Se,oe)}function ve(Se){for(var Ee=Se-Y,xe=Y;xe<Se;xe++){var Ie=R[xe];(Ie===12||Ie===2)&&(Ee-=1)}U.length||(le=ue(),U.indent=le),Z+=Ee,U.push(Z),Y=Se}for(var le=0;H-Y>D-le;){var de=Y+D-le;if(R[de-1]>=M&&R[de]>=M){ve(de);continue}if(R[de]==C||R[de]==$){for(de;de!=Y-1&&R[de]!=C;de--);if(de>Y){ve(de);continue}for(de=Y+D,de;de<R.length&&R[de]==$;de++);if(de==R.length)break;ve(de);continue}for(var me=Math.max(de-(D-(D>>2)),Y-1);de>me&&R[de]<C;)de--;if(Q){for(;de>me&&R[de]<C;)de--;for(;de>me&&R[de]==k;)de--}else for(;de>me&&R[de]<M;)de--;if(de>me){ve(++de);continue}de=Y+D,R[de]==S&&de--,ve(de-le)}return U},this.$getDisplayTokens=function(R,D){var j=[],U;D=D||0;for(var H=0;H<R.length;H++){var Y=R.charCodeAt(H);if(Y==9){U=this.getScreenTabSize(j.length+D),j.push(A);for(var Z=1;Z<U;Z++)j.push(L)}else Y==32?j.push(M):Y>39&&Y<48||Y>57&&Y<64?j.push(k):Y>=4352&&N(Y)?j.push(_,S):j.push(_)}return j},this.$getStringScreenWidth=function(R,D,j){if(D==0)return[0,0];D==null&&(D=1/0),j=j||0;var U,H;for(H=0;H<R.length&&(U=R.charCodeAt(H),U==9?j+=this.getScreenTabSize(j):U>=4352&&N(U)?j+=2:j+=1,!(j>D));H++);return[j,H]},this.lineWidgets=null,this.getRowLength=function(R){var D=1;return this.lineWidgets&&(D+=this.lineWidgets[R]&&this.lineWidgets[R].rowCount||0),!this.$useWrapMode||!this.$wrapData[R]?D:this.$wrapData[R].length+D},this.getRowLineCount=function(R){return!this.$useWrapMode||!this.$wrapData[R]?1:this.$wrapData[R].length+1},this.getRowWrapIndent=function(R){if(this.$useWrapMode){var D=this.screenToDocumentPosition(R,Number.MAX_VALUE),j=this.$wrapData[D.row];return j.length&&j[0]<D.column?j.indent:0}else return 0},this.getScreenLastRowColumn=function(R){var D=this.screenToDocumentPosition(R,Number.MAX_VALUE);return this.documentToScreenColumn(D.row,D.column)},this.getDocumentLastRowColumn=function(R,D){var j=this.documentToScreenRow(R,D);return this.getScreenLastRowColumn(j)},this.getDocumentLastRowColumnPosition=function(R,D){var j=this.documentToScreenRow(R,D);return this.screenToDocumentPosition(j,Number.MAX_VALUE/10)},this.getRowSplitData=function(R){if(this.$useWrapMode)return this.$wrapData[R]},this.getScreenTabSize=function(R){return this.$tabSize-(R%this.$tabSize|0)},this.screenToDocumentRow=function(R,D){return this.screenToDocumentPosition(R,D).row},this.screenToDocumentColumn=function(R,D){return this.screenToDocumentPosition(R,D).column},this.screenToDocumentPosition=function(R,D,j){if(R<0)return{row:0,column:0};var U,H=0,Y=0,Z,Q=0,ee=0,oe=this.$screenRowCache,ue=this.$getRowCacheIndex(oe,R),ve=oe.length;if(ve&&ue>=0)var Q=oe[ue],H=this.$docRowCache[ue],le=R>oe[ve-1];else var le=!ve;for(var de=this.getLength()-1,me=this.getNextFoldLine(H),Se=me?me.start.row:1/0;Q<=R&&(ee=this.getRowLength(H),!(Q+ee>R||H>=de));)Q+=ee,H++,H>Se&&(H=me.end.row+1,me=this.getNextFoldLine(H,me),Se=me?me.start.row:1/0),le&&(this.$docRowCache.push(H),this.$screenRowCache.push(Q));if(me&&me.start.row<=H)U=this.getFoldDisplayLine(me),H=me.start.row;else{if(Q+ee<=R||H>de)return{row:de,column:this.getLine(de).length};U=this.getLine(H),me=null}var Ee=0,xe=Math.floor(R-Q);if(this.$useWrapMode){var Ie=this.$wrapData[H];Ie&&(Z=Ie[xe],xe>0&&Ie.length&&(Ee=Ie.indent,Y=Ie[xe-1]||Ie[Ie.length-1],U=U.substring(Y)))}return j!==void 0&&this.$bidiHandler.isBidiRow(Q+xe,H,xe)&&(D=this.$bidiHandler.offsetToCol(j)),Y+=this.$getStringScreenWidth(U,D-Ee)[1],this.$useWrapMode&&Y>=Z&&(Y=Z-1),me?me.idxToPosition(Y):{row:H,column:Y}},this.documentToScreenPosition=function(R,D){if(typeof D>"u")var j=this.$clipPositionToDocument(R.row,R.column);else j=this.$clipPositionToDocument(R,D);R=j.row,D=j.column;var U=0,H=null,Y=null;Y=this.getFoldAt(R,D,1),Y&&(R=Y.start.row,D=Y.start.column);var Z,Q=0,ee=this.$docRowCache,oe=this.$getRowCacheIndex(ee,R),ue=ee.length;if(ue&&oe>=0)var Q=ee[oe],U=this.$screenRowCache[oe],ve=R>ee[ue-1];else var ve=!ue;for(var le=this.getNextFoldLine(Q),de=le?le.start.row:1/0;Q<R;){if(Q>=de){if(Z=le.end.row+1,Z>R)break;le=this.getNextFoldLine(Z,le),de=le?le.start.row:1/0}else Z=Q+1;U+=this.getRowLength(Q),Q=Z,ve&&(this.$docRowCache.push(Q),this.$screenRowCache.push(U))}var me="";le&&Q>=de?(me=this.getFoldDisplayLine(le,R,D),H=le.start.row):(me=this.getLine(R).substring(0,D),H=R);var Se=0;if(this.$useWrapMode){var Ee=this.$wrapData[H];if(Ee){for(var xe=0;me.length>=Ee[xe];)U++,xe++;me=me.substring(Ee[xe-1]||0,me.length),Se=xe>0?Ee.indent:0}}return this.lineWidgets&&this.lineWidgets[Q]&&this.lineWidgets[Q].rowsAbove&&(U+=this.lineWidgets[Q].rowsAbove),{row:U,column:Se+this.$getStringScreenWidth(me)[0]}},this.documentToScreenColumn=function(R,D){return this.documentToScreenPosition(R,D).column},this.documentToScreenRow=function(R,D){return this.documentToScreenPosition(R,D).row},this.getScreenLength=function(){var R=0,D=null;if(this.$useWrapMode)for(var H=this.$wrapData.length,Y=0,U=0,D=this.$foldData[U++],Z=D?D.start.row:1/0;Y<H;){var Q=this.$wrapData[Y];R+=Q?Q.length+1:1,Y++,Y>Z&&(Y=D.end.row+1,D=this.$foldData[U++],Z=D?D.start.row:1/0)}else{R=this.getLength();for(var j=this.$foldData,U=0;U<j.length;U++)D=j[U],R-=D.end.row-D.start.row}return this.lineWidgets&&(R+=this.$getWidgetScreenLength()),R},this.$setFontMetrics=function(R){this.$enableVarChar&&(this.$getStringScreenWidth=function(D,j,U){if(j===0)return[0,0];j||(j=1/0),U=U||0;var H,Y;for(Y=0;Y<D.length&&(H=D.charAt(Y),H==="	"?U+=this.getScreenTabSize(U):U+=R.getCharacterWidth(H),!(U>j));Y++);return[U,Y]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=N;function N(R){return R<4352?!1:R>=4352&&R<=4447||R>=4515&&R<=4519||R>=4602&&R<=4607||R>=9001&&R<=9002||R>=11904&&R<=11929||R>=11931&&R<=12019||R>=12032&&R<=12245||R>=12272&&R<=12283||R>=12288&&R<=12350||R>=12353&&R<=12438||R>=12441&&R<=12543||R>=12549&&R<=12589||R>=12593&&R<=12686||R>=12688&&R<=12730||R>=12736&&R<=12771||R>=12784&&R<=12830||R>=12832&&R<=12871||R>=12880&&R<=13054||R>=13056&&R<=19903||R>=19968&&R<=42124||R>=42128&&R<=42182||R>=43360&&R<=43388||R>=44032&&R<=55203||R>=55216&&R<=55238||R>=55243&&R<=55291||R>=63744&&R<=64255||R>=65040&&R<=65049||R>=65072&&R<=65106||R>=65108&&R<=65126||R>=65128&&R<=65131||R>=65281&&R<=65376||R>=65504&&R<=65510}}.call(w.prototype),n("./edit_session/folding").Folding.call(w.prototype),n("./edit_session/bracket_match").BracketMatch.call(w.prototype),f.defineOptions(w.prototype,"session",{wrap:{set:function(_){if(!_||_=="off"?_=!1:_=="free"?_=!0:_=="printMargin"?_=-1:typeof _=="string"&&(_=parseInt(_,10)||!1),this.$wrap!=_)if(this.$wrap=_,!_)this.setUseWrapMode(!1);else{var S=typeof _=="number"?_:null;this.setWrapLimitRange(S,S),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(_){_=_=="auto"?this.$mode.type!="text":_!="text",_!=this.$wrapAsCode&&(this.$wrapAsCode=_,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(_){this.$useWorker=_,this.$stopWorker(),_&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(_){_=parseInt(_),_>0&&this.$tabSize!==_&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=_,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(_){this.setFoldStyle(_)},handlesSet:!0},overwrite:{set:function(_){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(_){this.doc.setNewLineMode(_)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(_){this.setMode(_)},get:function(){return this.$modeId},handlesSet:!0}}),r.EditSession=w}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,r,i){var a=n("./lib/lang"),s=n("./lib/oop"),u=n("./range").Range,f=function(){this.$options={}};(function(){this.set=function(c){return s.mixin(this.$options,c),this},this.getOptions=function(){return a.copyObject(this.$options)},this.setOptions=function(c){this.$options=c},this.find=function(c){var h=this.$options,p=this.$matchIterator(c,h);if(!p)return!1;var v=null;return p.forEach(function(m,y,w,_){return v=new u(m,y,w,_),y==_&&h.start&&h.start.start&&h.skipCurrent!=!1&&v.isEqual(h.start)?(v=null,!1):!0}),v},this.findAll=function(c){var h=this.$options;if(!h.needle)return[];this.$assembleRegExp(h);var p=h.range,v=p?c.getLines(p.start.row,p.end.row):c.doc.getAllLines(),m=[],y=h.re;if(h.$isMultiLine){var w=y.length,_=v.length-w,S;e:for(var C=y.offset||0;C<=_;C++){for(var $=0;$<w;$++)if(v[C+$].search(y[$])==-1)continue e;var k=v[C],M=v[C+w-1],A=k.length-k.match(y[0])[0].length,L=M.match(y[w-1])[0].length;S&&S.end.row===C&&S.end.column>A||(m.push(S=new u(C,A,C+w-1,L)),w>2&&(C=C+w-2))}}else for(var N=0;N<v.length;N++)for(var R=a.getMatchOffsets(v[N],y),$=0;$<R.length;$++){var D=R[$];m.push(new u(N,D.offset,N,D.offset+D.length))}if(p){for(var j=p.start.column,U=p.end.column,N=0,$=m.length-1;N<$&&m[N].start.column<j&&m[N].start.row==0;)N++;for(var H=p.end.row-p.start.row;N<$&&m[$].end.column>U&&m[$].end.row==H;)$--;for(m=m.slice(N,$+1),N=0,$=m.length;N<$;N++)m[N].start.row+=p.start.row,m[N].end.row+=p.start.row}return m},this.replace=function(c,h){var p=this.$options,v=this.$assembleRegExp(p);if(p.$isMultiLine)return h;if(v){var m=v.exec(c);if(!m||m[0].length!=c.length)return null;if(h=c.replace(v,h),p.preserveCase){h=h.split("");for(var y=Math.min(c.length,c.length);y--;){var w=c[y];w&&w.toLowerCase()!=w?h[y]=h[y].toUpperCase():h[y]=h[y].toLowerCase()}h=h.join("")}return h}},this.$assembleRegExp=function(c,h){if(c.needle instanceof RegExp)return c.re=c.needle;var p=c.needle;if(!c.needle)return c.re=!1;c.regExp||(p=a.escapeRegExp(p)),c.wholeWord&&(p=d(p,c));var v=c.caseSensitive?"gm":"gmi";if(c.$isMultiLine=!h&&/[\n\r]/.test(p),c.$isMultiLine)return c.re=this.$assembleMultilineRegExp(p,v);try{var m=new RegExp(p,v)}catch{m=!1}return c.re=m},this.$assembleMultilineRegExp=function(c,h){for(var p=c.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),v=[],m=0;m<p.length;m++)try{v.push(new RegExp(p[m],h))}catch{return!1}return v},this.$matchIterator=function(c,h){var p=this.$assembleRegExp(h);if(!p)return!1;var v=h.backwards==!0,m=h.skipCurrent!=!1,y=h.range,w=h.start;w||(w=y?y[v?"end":"start"]:c.selection.getRange()),w.start&&(w=w[m!=v?"end":"start"]);var _=y?y.start.row:0,S=y?y.end.row:c.getLength()-1;if(v)var C=function(M){var A=w.row;if(!k(A,w.column,M)){for(A--;A>=_;A--)if(k(A,Number.MAX_VALUE,M))return;if(h.wrap!=!1){for(A=S,_=w.row;A>=_;A--)if(k(A,Number.MAX_VALUE,M))return}}};else var C=function(A){var L=w.row;if(!k(L,w.column,A)){for(L=L+1;L<=S;L++)if(k(L,0,A))return;if(h.wrap!=!1){for(L=_,S=w.row;L<=S;L++)if(k(L,0,A))return}}};if(h.$isMultiLine)var $=p.length,k=function(M,A,L){var N=v?M-$+1:M;if(!(N<0||N+$>c.getLength())){var R=c.getLine(N),D=R.search(p[0]);if(!(!v&&D<A||D===-1)){for(var j=1;j<$;j++)if(R=c.getLine(N+j),R.search(p[j])==-1)return;var U=R.match(p[$-1])[0].length;if(!(v&&U>A)&&L(N,D,N+$-1,U))return!0}}};else if(v)var k=function(A,L,N){var R=c.getLine(A),D=[],j,U=0;for(p.lastIndex=0;j=p.exec(R);){var H=j[0].length;if(U=j.index,!H){if(U>=R.length)break;p.lastIndex=U+=1}if(j.index+H>L)break;D.push(j.index,H)}for(var Y=D.length-1;Y>=0;Y-=2){var Z=D[Y-1],H=D[Y];if(N(A,Z,A,Z+H))return!0}};else var k=function(A,L,N){var R=c.getLine(A),D,j;for(p.lastIndex=L;j=p.exec(R);){var U=j[0].length;if(D=j.index,N(A,D,A,D+U))return!0;if(!U&&(p.lastIndex=D+=1,D>=R.length))return!1}};return{forEach:C}}}).call(f.prototype);function d(c,h){function p(v){return/\w/.test(v)||h.regExp?"\\b":""}return p(c[0])+c+p(c[c.length-1])}r.Search=f}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,r,i){var a=n("../lib/keys"),s=n("../lib/useragent"),u=a.KEY_MODS;function f(c,h){this.platform=h||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(c),this.$singleCommand=!0}function d(c,h){f.call(this,c,h),this.$singleCommand=!1}d.prototype=f.prototype,function(){this.addCommand=function(h){this.commands[h.name]&&this.removeCommand(h),this.commands[h.name]=h,h.bindKey&&this._buildKeyHash(h)},this.removeCommand=function(h,p){var v=h&&(typeof h=="string"?h:h.name);h=this.commands[v],p||delete this.commands[v];var m=this.commandKeyBinding;for(var y in m){var w=m[y];if(w==h)delete m[y];else if(Array.isArray(w)){var _=w.indexOf(h);_!=-1&&(w.splice(_,1),w.length==1&&(m[y]=w[0]))}}},this.bindKey=function(h,p,v){if(typeof h=="object"&&h&&(v==null&&(v=h.position),h=h[this.platform]),!!h){if(typeof p=="function")return this.addCommand({exec:p,bindKey:h,name:p.name||h});h.split("|").forEach(function(m){var y="";if(m.indexOf(" ")!=-1){var w=m.split(/\s+/);m=w.pop(),w.forEach(function(C){var $=this.parseKeys(C),k=u[$.hashId]+$.key;y+=(y?" ":"")+k,this._addCommandToBinding(y,"chainKeys")},this),y+=" "}var _=this.parseKeys(m),S=u[_.hashId]+_.key;this._addCommandToBinding(y+S,p,v)},this)}};function c(h){return typeof h=="object"&&h.bindKey&&h.bindKey.position||(h.isDefault?-100:0)}this._addCommandToBinding=function(h,p,v){var m=this.commandKeyBinding,y;if(!p)delete m[h];else if(!m[h]||this.$singleCommand)m[h]=p;else{Array.isArray(m[h])?(y=m[h].indexOf(p))!=-1&&m[h].splice(y,1):m[h]=[m[h]],typeof v!="number"&&(v=c(p));var w=m[h];for(y=0;y<w.length;y++){var _=w[y],S=c(_);if(S>v)break}w.splice(y,0,p)}},this.addCommands=function(h){h&&Object.keys(h).forEach(function(p){var v=h[p];if(v){if(typeof v=="string")return this.bindKey(v,p);typeof v=="function"&&(v={exec:v}),typeof v=="object"&&(v.name||(v.name=p),this.addCommand(v))}},this)},this.removeCommands=function(h){Object.keys(h).forEach(function(p){this.removeCommand(h[p])},this)},this.bindKeys=function(h){Object.keys(h).forEach(function(p){this.bindKey(p,h[p])},this)},this._buildKeyHash=function(h){this.bindKey(h.bindKey,h)},this.parseKeys=function(h){var p=h.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(S){return S}),v=p.pop(),m=a[v];if(a.FUNCTION_KEYS[m])v=a.FUNCTION_KEYS[m].toLowerCase();else if(p.length){if(p.length==1&&p[0]=="shift")return{key:v.toUpperCase(),hashId:-1}}else return{key:v,hashId:-1};for(var y=0,w=p.length;w--;){var _=a.KEY_MODS[p[w]];if(_==null)return typeof console<"u"&&console.error("invalid modifier "+p[w]+" in "+h),!1;y|=_}return{key:v,hashId:y}},this.findKeyCommand=function(p,v){var m=u[p]+v;return this.commandKeyBinding[m]},this.handleKeyboard=function(h,p,v,m){if(!(m<0)){var y=u[p]+v,w=this.commandKeyBinding[y];return h.$keyChain&&(h.$keyChain+=" "+y,w=this.commandKeyBinding[h.$keyChain]||w),w&&(w=="chainKeys"||w[w.length-1]=="chainKeys")?(h.$keyChain=h.$keyChain||y,{command:"null"}):(h.$keyChain&&((!p||p==4)&&v.length==1?h.$keyChain=h.$keyChain.slice(0,-y.length-1):(p==-1||m>0)&&(h.$keyChain="")),{command:w})}},this.getStatusText=function(h,p){return p.$keyChain||""}}.call(f.prototype),r.HashHandler=f,r.MultiHashHandler=d}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,r,i){var a=n("../lib/oop"),s=n("../keyboard/hash_handler").MultiHashHandler,u=n("../lib/event_emitter").EventEmitter,f=function(d,c){s.call(this,c,d),this.byName=this.commands,this.setDefaultHandler("exec",function(h){return h.args?h.command.exec(h.editor,h.args,h.event,!1):h.command.exec(h.editor,{},h.event,!0)})};a.inherits(f,s),function(){a.implement(this,u),this.exec=function(d,c,h){if(Array.isArray(d)){for(var p=d.length;p--;)if(this.exec(d[p],c,h))return!0;return!1}if(typeof d=="string"&&(d=this.commands[d]),!d||c&&c.$readOnly&&!d.readOnly||this.$checkCommandState!=!1&&d.isAvailable&&!d.isAvailable(c))return!1;var v={editor:c,command:d,args:h};return v.returnValue=this._emit("exec",v),this._signal("afterExec",v),v.returnValue!==!1},this.toggleRecording=function(d){if(!this.$inReplay)return d&&d._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(c){this.macro.push([c.command,c.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(d){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(d);try{this.$inReplay=!0,this.macro.forEach(function(c){typeof c=="string"?this.exec(c,d):this.exec(c[0],d,c[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(d){return d.map(function(c){return typeof c[0]!="string"&&(c[0]=c[0].name),c[1]||(c=c[0]),c})}}.call(f.prototype),r.CommandManager=f}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,r,i){var a=n("../lib/lang"),s=n("../config"),u=n("../range").Range;function f(c,h){return{win:c,mac:h}}r.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:f("Ctrl-,","Command-,"),exec:function(c){s.loadModule("ace/ext/settings_menu",function(h){h.init(c),c.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:f("Alt-E","F4"),exec:function(c){s.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(c,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:f("Alt-Shift-E","Shift-F4"),exec:function(c){s.loadModule("ace/ext/error_marker",function(h){h.showErrorMarker(c,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:f("Ctrl-A","Command-A"),exec:function(c){c.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:f(null,"Ctrl-L"),exec:function(c){c.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:f("Ctrl-L","Command-L"),exec:function(c,h){typeof h=="number"&&!isNaN(h)&&c.gotoLine(h),c.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:f("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(c){c.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:f("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(c){c.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:f("F2","F2"),exec:function(c){c.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:f("Alt-F2","Alt-F2"),exec:function(c){c.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:f(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:f(null,"Ctrl-Command-Option-0"),exec:function(c){c.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:f("Alt-0","Command-Option-0"),exec:function(c){c.session.foldAll(),c.session.unfold(c.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:f("Alt-Shift-0","Command-Option-Shift-0"),exec:function(c){c.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:f("Ctrl-K","Command-G"),exec:function(c){c.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:f("Ctrl-Shift-K","Command-Shift-G"),exec:function(c){c.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:f("Alt-K","Ctrl-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:f("Alt-Shift-K","Ctrl-Shift-G"),exec:function(c){c.selection.isEmpty()?c.selection.selectWord():c.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:f("Ctrl-F","Command-F"),exec:function(c){s.loadModule("ace/ext/searchbox",function(h){h.Search(c)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(c){c.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:f("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(c){c.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:f("Ctrl-Home","Command-Home|Command-Up"),exec:function(c){c.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:f("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(c){c.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:f("Up","Up|Ctrl-P"),exec:function(c,h){c.navigateUp(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:f("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(c){c.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:f("Ctrl-End","Command-End|Command-Down"),exec:function(c){c.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:f("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(c){c.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:f("Down","Down|Ctrl-N"),exec:function(c,h){c.navigateDown(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:f("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(c){c.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:f("Ctrl-Left","Option-Left"),exec:function(c){c.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:f("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:f("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(c){c.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:f("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(c){c.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:f("Left","Left|Ctrl-B"),exec:function(c,h){c.navigateLeft(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:f("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(c){c.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:f("Ctrl-Right","Option-Right"),exec:function(c){c.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:f("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:f("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(c){c.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:f("Shift-Right","Shift-Right"),exec:function(c){c.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:f("Right","Right|Ctrl-F"),exec:function(c,h){c.navigateRight(h.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(c){c.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:f(null,"Option-PageDown"),exec:function(c){c.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:f("PageDown","PageDown|Ctrl-V"),exec:function(c){c.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(c){c.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:f(null,"Option-PageUp"),exec:function(c){c.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(c){c.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:f("Ctrl-Up",null),exec:function(c){c.renderer.scrollBy(0,-2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:f("Ctrl-Down",null),exec:function(c){c.renderer.scrollBy(0,2*c.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(c){c.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(c){c.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:f("Ctrl-Alt-E","Command-Option-E"),exec:function(c){c.commands.toggleRecording(c)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:f("Ctrl-Shift-E","Command-Shift-E"),exec:function(c){c.commands.replay(c)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:f("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(c){c.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:f("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(c){c.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:f("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(c){c.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:f(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(c){},readOnly:!0},{name:"cut",description:"Cut",exec:function(c){var h=c.$copyWithEmptySelection&&c.selection.isEmpty(),p=h?c.selection.getLineRange():c.selection.getRange();c._emit("cut",p),p.isEmpty()||c.session.remove(p),c.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(c,h){c.$handlePaste(h)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:f("Ctrl-D","Command-D"),exec:function(c){c.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:f("Ctrl-Shift-D","Command-Shift-D"),exec:function(c){c.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:f("Ctrl-Alt-S","Command-Alt-S"),exec:function(c){c.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:f("Ctrl-/","Command-/"),exec:function(c){c.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:f("Ctrl-Shift-/","Command-Shift-/"),exec:function(c){c.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:f("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(c){c.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:f("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(c){c.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:f("Ctrl-H","Command-Option-F"),exec:function(c){s.loadModule("ace/ext/searchbox",function(h){h.Search(c,!0)})}},{name:"undo",description:"Undo",bindKey:f("Ctrl-Z","Command-Z"),exec:function(c){c.undo()}},{name:"redo",description:"Redo",bindKey:f("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(c){c.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:f("Alt-Shift-Up","Command-Option-Up"),exec:function(c){c.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:f("Alt-Up","Option-Up"),exec:function(c){c.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:f("Alt-Shift-Down","Command-Option-Down"),exec:function(c){c.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:f("Alt-Down","Option-Down"),exec:function(c){c.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:f("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(c){c.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:f("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(c){c.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:f("Shift-Delete",null),exec:function(c){if(c.selection.isEmpty())c.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:f("Alt-Backspace","Command-Backspace"),exec:function(c){c.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:f("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(c){c.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:f("Ctrl-Shift-Backspace",null),exec:function(c){var h=c.selection.getRange();h.start.column=0,c.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:f("Ctrl-Shift-Delete",null),exec:function(c){var h=c.selection.getRange();h.end.column=Number.MAX_VALUE,c.session.remove(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:f("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(c){c.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:f("Ctrl-Delete","Alt-Delete"),exec:function(c){c.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:f("Shift-Tab","Shift-Tab"),exec:function(c){c.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:f("Tab","Tab"),exec:function(c){c.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:f("Ctrl-[","Ctrl-["),exec:function(c){c.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:f("Ctrl-]","Ctrl-]"),exec:function(c){c.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(c,h){c.insert(h)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(c,h){c.insert(a.stringRepeat(h.text||"",h.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:f(null,"Ctrl-O"),exec:function(c){c.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:f("Alt-Shift-X","Ctrl-T"),exec:function(c){c.transposeLetters()},multiSelectAction:function(c){c.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:f("Ctrl-U","Ctrl-U"),exec:function(c){c.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:f("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(c){c.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:f(null,null),exec:function(c){c.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:f("Ctrl-Shift-L","Command-Shift-L"),exec:function(c){var h=c.selection.getRange();h.start.column=h.end.column=0,h.end.row++,c.selection.setRange(h,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:f("Ctrl+F3","F3"),exec:function(c){c.openLink()}},{name:"joinlines",description:"Join lines",bindKey:f(null,null),exec:function(c){for(var h=c.selection.isBackwards(),p=h?c.selection.getSelectionLead():c.selection.getSelectionAnchor(),v=h?c.selection.getSelectionAnchor():c.selection.getSelectionLead(),m=c.session.doc.getLine(p.row).length,y=c.session.doc.getTextRange(c.selection.getRange()),w=y.replace(/\n\s*/," ").length,_=c.session.doc.getLine(p.row),S=p.row+1;S<=v.row+1;S++){var C=a.stringTrimLeft(a.stringTrimRight(c.session.doc.getLine(S)));C.length!==0&&(C=" "+C),_+=C}v.row+1<c.session.doc.getLength()-1&&(_+=c.session.doc.getNewLineCharacter()),c.clearSelection(),c.session.doc.replace(new u(p.row,0,v.row+2,0),_),w>0?(c.selection.moveCursorTo(p.row,p.column),c.selection.selectTo(p.row,p.column+w)):(m=c.session.doc.getLine(p.row).length>m?m+1:m,c.selection.moveCursorTo(p.row,m))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:f(null,null),exec:function(c){var h=c.session.doc.getLength()-1,p=c.session.doc.getLine(h).length,v=c.selection.rangeList.ranges,m=[];v.length<1&&(v=[c.selection.getRange()]);for(var y=0;y<v.length;y++)y==v.length-1&&(v[y].end.row===h&&v[y].end.column===p||m.push(new u(v[y].end.row,v[y].end.column,h,p))),y===0?v[y].start.row===0&&v[y].start.column===0||m.push(new u(0,0,v[y].start.row,v[y].start.column)):m.push(new u(v[y-1].end.row,v[y-1].end.column,v[y].start.row,v[y].start.column));c.exitMultiSelectMode(),c.clearSelection();for(var y=0;y<m.length;y++)c.selection.addRange(m[y],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(c){c.selection.clearSelection(),c.navigateLineEnd(),c.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(c){c.selection.clearSelection();var h=c.getCursorPosition();c.selection.moveTo(h.row-1,Number.MAX_VALUE),c.insert(`
`),h.row===0&&c.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:f("F1","F1"),exec:function(c){c.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:f(null,null),exec:function(c){c.prompt({$type:"modes"})},readOnly:!0}];for(var d=1;d<9;d++)r.commands.push({name:"foldToLevel"+d,description:"Fold To Level "+d,level:d,exec:function(c){c.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,r,i){var a=n("./lib/dom");function s(u){this.session=u,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(u){var f;return this.lineWidgets?f=this.lineWidgets[u]&&this.lineWidgets[u].rowCount||0:f=0,!this.$useWrapMode||!this.$wrapData[u]?1+f:this.$wrapData[u].length+1+f},this.$getWidgetScreenLength=function(){var u=0;return this.lineWidgets.forEach(function(f){f&&f.rowCount&&!f.hidden&&(u+=f.rowCount)}),u},this.$onChangeEditor=function(u){this.attach(u.editor)},this.attach=function(u){u&&u.widgetManager&&u.widgetManager!=this&&u.widgetManager.detach(),this.editor!=u&&(this.detach(),this.editor=u,u&&(u.widgetManager=this,u.renderer.on("beforeRender",this.measureWidgets),u.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(u){var f=this.editor;if(f){this.editor=null,f.widgetManager=null,f.renderer.off("beforeRender",this.measureWidgets),f.renderer.off("afterRender",this.renderWidgets);var d=this.session.lineWidgets;d&&d.forEach(function(c){c&&c.el&&c.el.parentNode&&(c._inDocument=!1,c.el.parentNode.removeChild(c.el))})}},this.updateOnFold=function(u,f){var d=f.lineWidgets;if(!(!d||!u.action)){for(var c=u.data,h=c.start.row,p=c.end.row,v=u.action=="add",m=h+1;m<p;m++)d[m]&&(d[m].hidden=v);d[p]&&(v?d[h]?d[p].hidden=v:d[h]=d[p]:(d[h]==d[p]&&(d[h]=void 0),d[p].hidden=v))}},this.updateOnChange=function(u){var f=this.session.lineWidgets;if(f){var d=u.start.row,c=u.end.row-d;if(c!==0)if(u.action=="remove"){var h=f.splice(d+1,c);!f[d]&&h[h.length-1]&&(f[d]=h.pop()),h.forEach(function(v){v&&this.removeLineWidget(v)},this),this.$updateRows()}else{var p=new Array(c);f[d]&&f[d].column!=null&&u.start.column>f[d].column&&d++,p.unshift(d,0),f.splice.apply(f,p),this.$updateRows()}}},this.$updateRows=function(){var u=this.session.lineWidgets;if(u){var f=!0;u.forEach(function(d,c){if(d)for(f=!1,d.row=c;d.$oldWidget;)d.$oldWidget.row=c,d=d.$oldWidget}),f&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(u){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var f=this.session.lineWidgets[u.row];return f&&(u.$oldWidget=f,f.el&&f.el.parentNode&&(f.el.parentNode.removeChild(f.el),f._inDocument=!1)),this.session.lineWidgets[u.row]=u,u},this.addLineWidget=function(u){if(this.$registerLineWidget(u),u.session=this.session,!this.editor)return u;var f=this.editor.renderer;u.html&&!u.el&&(u.el=a.createElement("div"),u.el.innerHTML=u.html),u.text&&!u.el&&(u.el=a.createElement("div"),u.el.textContent=u.text),u.el&&(a.addCssClass(u.el,"ace_lineWidgetContainer"),u.className&&a.addCssClass(u.el,u.className),u.el.style.position="absolute",u.el.style.zIndex=5,f.container.appendChild(u.el),u._inDocument=!0,u.coverGutter||(u.el.style.zIndex=3),u.pixelHeight==null&&(u.pixelHeight=u.el.offsetHeight)),u.rowCount==null&&(u.rowCount=u.pixelHeight/f.layerConfig.lineHeight);var d=this.session.getFoldAt(u.row,0);if(u.$fold=d,d){var c=this.session.lineWidgets;u.row==d.end.row&&!c[d.start.row]?c[d.start.row]=u:u.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:u.row}}}),this.$updateRows(),this.renderWidgets(null,f),this.onWidgetChanged(u),u},this.removeLineWidget=function(u){if(u._inDocument=!1,u.session=null,u.el&&u.el.parentNode&&u.el.parentNode.removeChild(u.el),u.editor&&u.editor.destroy)try{u.editor.destroy()}catch{}if(this.session.lineWidgets){var f=this.session.lineWidgets[u.row];if(f==u)this.session.lineWidgets[u.row]=u.$oldWidget,u.$oldWidget&&this.onWidgetChanged(u.$oldWidget);else for(;f;){if(f.$oldWidget==u){f.$oldWidget=u.$oldWidget;break}f=f.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:u.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(u){for(var f=this.session.lineWidgets,d=f&&f[u],c=[];d;)c.push(d),d=d.$oldWidget;return c},this.onWidgetChanged=function(u){this.session._changedWidgets.push(u),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(u,f){var d=this.session._changedWidgets,c=f.layerConfig;if(!(!d||!d.length)){for(var h=1/0,p=0;p<d.length;p++){var v=d[p];if(!(!v||!v.el)&&v.session==this.session){if(!v._inDocument){if(this.session.lineWidgets[v.row]!=v)continue;v._inDocument=!0,f.container.appendChild(v.el)}v.h=v.el.offsetHeight,v.fixedWidth||(v.w=v.el.offsetWidth,v.screenWidth=Math.ceil(v.w/c.characterWidth));var m=v.h/c.lineHeight;v.coverLine&&(m-=this.session.getRowLineCount(v.row),m<0&&(m=0)),v.rowCount!=m&&(v.rowCount=m,v.row<h&&(h=v.row))}}h!=1/0&&(this.session._emit("changeFold",{data:{start:{row:h}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(u,f){var d=f.layerConfig,c=this.session.lineWidgets;if(c){for(var h=Math.min(this.firstRow,d.firstRow),p=Math.max(this.lastRow,d.lastRow,c.length);h>0&&!c[h];)h--;this.firstRow=d.firstRow,this.lastRow=d.lastRow,f.$cursorLayer.config=d;for(var v=h;v<=p;v++){var m=c[v];if(!(!m||!m.el)){if(m.hidden){m.el.style.top=-100-(m.pixelHeight||0)+"px";continue}m._inDocument||(m._inDocument=!0,f.container.appendChild(m.el));var y=f.$cursorLayer.getPixelPosition({row:v,column:0},!0).top;m.coverLine||(y+=d.lineHeight*this.session.getRowLineCount(m.row)),m.el.style.top=y-d.offset+"px";var w=m.coverGutter?0:f.gutterWidth;m.fixedWidth||(w-=f.scrollLeft),m.el.style.left=w+"px",m.fullWidth&&m.screenWidth&&(m.el.style.minWidth=d.width+2*d.padding+"px"),m.fixedWidth?m.el.style.right=f.scrollBar.getWidth()+"px":m.el.style.right=""}}}}}).call(s.prototype),r.LineWidgets=s}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/clipboard"],function(n,r,i){var a=this&&this.__values||function(R){var D=typeof Symbol=="function"&&Symbol.iterator,j=D&&R[D],U=0;if(j)return j.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&U>=R.length&&(R=void 0),{value:R&&R[U++],done:!R}}};throw new TypeError(D?"Object is not iterable.":"Symbol.iterator is not defined.")},s=n("./lib/oop"),u=n("./lib/dom"),f=n("./lib/lang"),d=n("./lib/useragent"),c=n("./keyboard/textinput").TextInput,h=n("./mouse/mouse_handler").MouseHandler,p=n("./mouse/fold_handler").FoldHandler,v=n("./keyboard/keybinding").KeyBinding,m=n("./edit_session").EditSession,y=n("./search").Search,w=n("./range").Range,_=n("./lib/event_emitter").EventEmitter,S=n("./commands/command_manager").CommandManager,C=n("./commands/default_commands").commands,$=n("./config"),k=n("./token_iterator").TokenIterator,M=n("./line_widgets").LineWidgets,A=n("./clipboard"),L=function(R,D,j){this.$toDestroy=[];var U=R.getContainerElement();this.container=U,this.renderer=R,this.id="editor"+ ++L.$uid,this.commands=new S(d.isMac?"mac":"win",C),typeof document=="object"&&(this.textInput=new c(R.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new h(this),new p(this)),this.keyBinding=new v(this),this.$search=new y().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=f.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(H,Y){Y._$emitInputEvent.schedule(31)}),this.setSession(D||j&&j.session||new m("")),$.resetOptions(this),j&&this.setOptions(j),$._signal("editor",this)};L.$uid=0,function(){s.implement(this,_),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=f.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(R){if(this.curOp){if(!R||this.curOp.command)return;this.prevOp=this.curOp}R||(this.previousCommand=null,R={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:R.command||{},args:R.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(R){if(this.curOp&&this.session){if(R&&R.returnValue===!1||!this.session)return this.curOp=null;if(R==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var D=this.curOp.command,j=D&&D.scrollIntoView;if(j){switch(j){case"center-animate":j="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var U=this.selection.getRange(),H=this.renderer.layerConfig;(U.start.row>=H.lastRow||U.end.row<=H.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}j=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var Y=this.selection.toJSON();this.curOp.selectionAfter=Y,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(Y),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(R){if(this.$mergeUndoDeltas){var D=this.prevOp,j=this.$mergeableCommands,U=D.command&&R.command.name==D.command.name;if(R.command.name=="insertstring"){var H=R.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),U=U&&this.mergeNextCommand&&(!/\s/.test(H)||/\s/.test(D.args)),this.mergeNextCommand=!0}else U=U&&j.indexOf(R.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(U=!1),U?this.session.mergeUndoDeltas=!0:j.indexOf(R.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(R,D){if(R&&typeof R=="string"&&R!="ace"){this.$keybindingId=R;var j=this;$.loadModule(["keybinding",R],function(U){j.$keybindingId==R&&j.keyBinding.setKeyboardHandler(U&&U.handler),D&&D()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(R),D&&D()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(R){if(this.session!=R){this.curOp&&this.endOperation(),this.curOp={};var D=this.session;if(D){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var j=this.session.getSelection();j.off("changeCursor",this.$onCursorChange),j.off("changeSelection",this.$onSelectionChange)}this.session=R,R?(this.$onDocumentChange=this.onDocumentChange.bind(this),R.on("change",this.$onDocumentChange),this.renderer.setSession(R),this.$onChangeMode=this.onChangeMode.bind(this),R.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),R.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),R.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),R.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),R.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),R.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=R.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(R)),this._signal("changeSession",{session:R,oldSession:D}),this.curOp=null,D&&D._signal("changeEditor",{oldEditor:this}),R&&R._signal("changeEditor",{editor:this}),R&&!R.destroyed&&R.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(R,D){return this.session.doc.setValue(R),D?D==1?this.navigateFileEnd():D==-1&&this.navigateFileStart():this.selectAll(),R},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(R){this.renderer.onResize(R)},this.setTheme=function(R,D){this.renderer.setTheme(R,D)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(R){this.renderer.setStyle(R)},this.unsetStyle=function(R){this.renderer.unsetStyle(R)},this.getFontSize=function(){return this.getOption("fontSize")||u.computedStyle(this.container).fontSize},this.setFontSize=function(R){this.setOption("fontSize",R)},this.$highlightBrackets=function(){if(!this.$highlightPending){var R=this;this.$highlightPending=!0,setTimeout(function(){R.$highlightPending=!1;var D=R.session;if(!(!D||D.destroyed)){D.$bracketHighlight&&(D.$bracketHighlight.markerIds.forEach(function(ue){D.removeMarker(ue)}),D.$bracketHighlight=null);var j=R.getCursorPosition(),U=R.getKeyboardHandler(),H=U&&U.$getDirectionForHighlight&&U.$getDirectionForHighlight(R),Y=D.getMatchingBracketRanges(j,H);if(!Y){var Z=new k(D,j.row,j.column),Q=Z.getCurrentToken();if(Q&&/\b(?:tag-open|tag-name)/.test(Q.type)){var ee=D.getMatchingTags(j);ee&&(Y=[ee.openTagName,ee.closeTagName])}}if(!Y&&D.$mode.getMatching&&(Y=D.$mode.getMatching(R.session)),!Y){R.getHighlightIndentGuides()&&R.renderer.$textLayer.$highlightIndentGuide();return}var oe="ace_bracket";Array.isArray(Y)?Y.length==1&&(oe="ace_error_bracket"):Y=[Y],Y.length==2&&(w.comparePoints(Y[0].end,Y[1].start)==0?Y=[w.fromPoints(Y[0].start,Y[1].end)]:w.comparePoints(Y[0].start,Y[1].end)==0&&(Y=[w.fromPoints(Y[1].start,Y[0].end)])),D.$bracketHighlight={ranges:Y,markerIds:Y.map(function(ue){return D.addMarker(ue,oe,"text")})},R.getHighlightIndentGuides()&&R.renderer.$textLayer.$highlightIndentGuide()}},50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(R){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",R))},this.onBlur=function(R){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",R))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(R){var D=this.session.$useWrapMode,j=R.start.row==R.end.row?R.end.row:1/0;this.renderer.updateLines(R.start.row,j,D),this._signal("change",R),this.$cursorChange()},this.onTokenizerUpdate=function(R){var D=R.data;this.renderer.updateLines(D.first,D.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var R=this.getSession(),D;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(D=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(D=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(D=!1)),R.$highlightLineMarker&&!D)R.removeMarker(R.$highlightLineMarker.id),R.$highlightLineMarker=null;else if(!R.$highlightLineMarker&&D){var j=new w(D.row,D.column,D.row,1/0);j.id=R.addMarker(j,"ace_active-line","screenLine"),R.$highlightLineMarker=j}else D&&(R.$highlightLineMarker.start.row=D.row,R.$highlightLineMarker.end.row=D.row,R.$highlightLineMarker.start.column=D.column,R._signal("changeBackMarker"))},this.onSelectionChange=function(R){var D=this.session;if(D.$selectionMarker&&D.removeMarker(D.$selectionMarker),D.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var j=this.selection.getRange(),U=this.getSelectionStyle();D.$selectionMarker=D.addMarker(j,"ace_selection",U)}var H=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(H),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var R=this.session,D=this.getSelectionRange();if(!(D.isEmpty()||D.isMultiLine())){var j=D.start.column,U=D.end.column,H=R.getLine(D.start.row),Y=H.substring(j,U);if(!(Y.length>5e3||!/[\w\d]/.test(Y))){var Z=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:Y}),Q=H.substring(j-1,U+1);if(Z.test(Q))return Z}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(R){this.renderer.updateText(),this._emit("changeMode",R)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var R=this.getSelectedText(),D=this.session.doc.getNewLineCharacter(),j=!1;if(!R&&this.$copyWithEmptySelection){j=!0;for(var U=this.selection.getAllRanges(),H=0;H<U.length;H++){var Y=U[H];H&&U[H-1].start.row==Y.start.row||(R+=this.session.getLine(Y.start.row)+D)}}var Z={text:R};return this._signal("copy",Z),A.lineMode=j?Z.text:!1,Z.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(R,D){var j={text:R,event:D};this.commands.exec("paste",this,j)},this.$handlePaste=function(R){typeof R=="string"&&(R={text:R}),this._signal("paste",R);var D=R.text,j=D===A.lineMode,U=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)j?U.insert({row:this.selection.lead.row,column:0},D):this.insert(D);else if(j)this.selection.rangeList.ranges.forEach(function(oe){U.insert({row:oe.start.row,column:0},D)});else{var H=D.split(/\r\n|\r|\n/),Y=this.selection.rangeList.ranges,Z=H.length==2&&(!H[0]||!H[1]);if(H.length!=Y.length||Z)return this.commands.exec("insertstring",this,D);for(var Q=Y.length;Q--;){var ee=Y[Q];ee.isEmpty()||U.remove(ee),U.insert(ee.start,H[Q])}}},this.execCommand=function(R,D){return this.commands.exec(R,this,D)},this.insert=function(R,D){var j=this.session,U=j.getMode(),H=this.getCursorPosition();if(this.getBehavioursEnabled()&&!D){var Y=U.transformAction(j.getState(H.row),"insertion",this,j,R);Y&&(R!==Y.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),R=Y.text)}if(R=="	"&&(R=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&R.indexOf(`
`)==-1){var Z=new w.fromPoints(H,H);Z.end.column+=R.length,this.session.remove(Z)}}else{var Z=this.getSelectionRange();H=this.session.remove(Z),this.clearSelection()}if(R==`
`||R==`\r
`){var ue=j.getLine(H.row);if(H.column>ue.search(/\S|$/)){var Q=ue.substr(H.column).search(/\S|$/);j.doc.removeInLine(H.row,H.column,H.column+Q)}}this.clearSelection();var ee=H.column,oe=j.getState(H.row),ue=j.getLine(H.row),ve=U.checkOutdent(oe,ue,R);if(j.insert(H,R),Y&&Y.selection&&(Y.selection.length==2?this.selection.setSelectionRange(new w(H.row,ee+Y.selection[0],H.row,ee+Y.selection[1])):this.selection.setSelectionRange(new w(H.row+Y.selection[0],Y.selection[1],H.row+Y.selection[2],Y.selection[3]))),this.$enableAutoIndent){if(j.getDocument().isNewLine(R)){var le=U.getNextLineIndent(oe,ue.slice(0,H.column),j.getTabString());j.insert({row:H.row+1,column:0},le)}ve&&U.autoOutdent(oe,j,H.row)}},this.autoIndent=function(){var R=this.session,D=R.getMode(),j,U;if(this.selection.isEmpty())j=0,U=R.doc.getLength()-1;else{var H=this.getSelectionRange();j=H.start.row,U=H.end.row}for(var Y="",Z="",Q="",ee,oe,ue,ve=R.getTabString(),le=j;le<=U;le++)le>0&&(Y=R.getState(le-1),Z=R.getLine(le-1),Q=D.getNextLineIndent(Y,Z,ve)),ee=R.getLine(le),oe=D.$getIndent(ee),Q!==oe&&(oe.length>0&&(ue=new w(le,0,le,oe.length),R.remove(ue)),Q.length>0&&R.insert({row:le,column:0},Q)),D.autoOutdent(Y,R,le)},this.onTextInput=function(R,D){if(!D)return this.keyBinding.onTextInput(R);this.startOperation({command:{name:"insertstring"}});var j=this.applyComposition.bind(this,R,D);this.selection.rangeCount?this.forEachSelection(j):j(),this.endOperation()},this.applyComposition=function(R,D){if(D.extendLeft||D.extendRight){var j=this.selection.getRange();j.start.column-=D.extendLeft,j.end.column+=D.extendRight,j.start.column<0&&(j.start.row--,j.start.column+=this.session.getLine(j.start.row).length+1),this.selection.setRange(j),!R&&!j.isEmpty()&&this.remove()}if((R||!this.selection.isEmpty())&&this.insert(R,!0),D.restoreStart||D.restoreEnd){var j=this.selection.getRange();j.start.column-=D.restoreStart,j.end.column-=D.restoreEnd,this.selection.setRange(j)}},this.onCommandKey=function(R,D,j){return this.keyBinding.onCommandKey(R,D,j)},this.setOverwrite=function(R){this.session.setOverwrite(R)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(R){this.setOption("scrollSpeed",R)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(R){this.setOption("dragDelay",R)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(R){this.setOption("selectionStyle",R)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(R){this.setOption("highlightActiveLine",R)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(R){this.setOption("highlightGutterLine",R)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(R){this.setOption("highlightSelectedWord",R)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(R){this.renderer.setAnimatedScroll(R)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(R){this.renderer.setShowInvisibles(R)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(R){this.renderer.setDisplayIndentGuides(R)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(R){this.renderer.setHighlightIndentGuides(R)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(R){this.renderer.setShowPrintMargin(R)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(R){this.renderer.setPrintMarginColumn(R)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(R){this.setOption("readOnly",R)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(R){this.setOption("behavioursEnabled",R)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(R){this.setOption("wrapBehavioursEnabled",R)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(R){this.setOption("showFoldWidgets",R)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(R){this.setOption("fadeFoldWidgets",R)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(R){this.selection.isEmpty()&&(R=="left"?this.selection.selectLeft():this.selection.selectRight());var D=this.getSelectionRange();if(this.getBehavioursEnabled()){var j=this.session,U=j.getState(D.start.row),H=j.getMode().transformAction(U,"deletion",this,j,D);if(D.end.column===0){var Y=j.getTextRange(D);if(Y[Y.length-1]==`
`){var Z=j.getLine(D.end.row);/^\s+$/.test(Z)&&(D.end.column=Z.length)}}H&&(D=H)}this.session.remove(D),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var R=this.getSelectionRange();R.start.column==R.end.column&&R.start.row==R.end.row&&(R.end.column=0,R.end.row++),this.session.remove(R),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var R=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(R)},this.setGhostText=function(R,D){this.session.widgetManager||(this.session.widgetManager=new M(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(R,D)},this.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},this.transposeLetters=function(){if(this.selection.isEmpty()){var R=this.getCursorPosition(),D=R.column;if(D!==0){var j=this.session.getLine(R.row),U,H;D<j.length?(U=j.charAt(D)+j.charAt(D-1),H=new w(R.row,D-1,R.row,D+1)):(U=j.charAt(D-1)+j.charAt(D-2),H=new w(R.row,D-2,R.row,D)),this.session.replace(H,U),this.session.selection.moveToPosition(H.end)}}},this.toLowerCase=function(){var R=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var D=this.getSelectionRange(),j=this.session.getTextRange(D);this.session.replace(D,j.toLowerCase()),this.selection.setSelectionRange(R)},this.toUpperCase=function(){var R=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var D=this.getSelectionRange(),j=this.session.getTextRange(D);this.session.replace(D,j.toUpperCase()),this.selection.setSelectionRange(R)},this.indent=function(){var R=this.session,D=this.getSelectionRange();if(D.start.row<D.end.row){var j=this.$getSelectedRows();R.indentRows(j.first,j.last,"	");return}else if(D.start.column<D.end.column){var U=R.getTextRange(D);if(!/^\s+$/.test(U)){var j=this.$getSelectedRows();R.indentRows(j.first,j.last,"	");return}}var H=R.getLine(D.start.row),Y=D.start,Z=R.getTabSize(),Q=R.documentToScreenColumn(Y.row,Y.column);if(this.session.getUseSoftTabs())var ee=Z-Q%Z,oe=f.stringRepeat(" ",ee);else{for(var ee=Q%Z;H[D.start.column-1]==" "&&ee;)D.start.column--,ee--;this.selection.setSelectionRange(D),oe="	"}return this.insert(oe)},this.blockIndent=function(){var R=this.$getSelectedRows();this.session.indentRows(R.first,R.last,"	")},this.blockOutdent=function(){var R=this.session.getSelection();this.session.outdentRows(R.getRange())},this.sortLines=function(){for(var R=this.$getSelectedRows(),D=this.session,j=[],U=R.first;U<=R.last;U++)j.push(D.getLine(U));j.sort(function(Z,Q){return Z.toLowerCase()<Q.toLowerCase()?-1:Z.toLowerCase()>Q.toLowerCase()?1:0});for(var H=new w(0,0,0,0),U=R.first;U<=R.last;U++){var Y=D.getLine(U);H.start.row=U,H.end.row=U,H.end.column=Y.length,D.replace(H,j[U-R.first])}},this.toggleCommentLines=function(){var R=this.session.getState(this.getCursorPosition().row),D=this.$getSelectedRows();this.session.getMode().toggleCommentLines(R,this.session,D.first,D.last)},this.toggleBlockComment=function(){var R=this.getCursorPosition(),D=this.session.getState(R.row),j=this.getSelectionRange();this.session.getMode().toggleBlockComment(D,this.session,j,R)},this.getNumberAt=function(R,D){var j=/[\-]?[0-9]+(?:\.[0-9]+)?/g;j.lastIndex=0;for(var U=this.session.getLine(R);j.lastIndex<D;){var H=j.exec(U);if(H.index<=D&&H.index+H[0].length>=D){var Y={value:H[0],start:H.index,end:H.index+H[0].length};return Y}}return null},this.modifyNumber=function(R){var D=this.selection.getCursor().row,j=this.selection.getCursor().column,U=new w(D,j-1,D,j),H=this.session.getTextRange(U);if(!isNaN(parseFloat(H))&&isFinite(H)){var Y=this.getNumberAt(D,j);if(Y){var Z=Y.value.indexOf(".")>=0?Y.start+Y.value.indexOf(".")+1:Y.end,Q=Y.start+Y.value.length-Z,ee=parseFloat(Y.value);ee*=Math.pow(10,Q),Z!==Y.end&&j<Z?R*=Math.pow(10,Y.end-j-1):R*=Math.pow(10,Y.end-j),ee+=R,ee/=Math.pow(10,Q);var oe=ee.toFixed(Q),ue=new w(D,Y.start,D,Y.end);this.session.replace(ue,oe),this.moveCursorTo(D,Math.max(Y.start+1,j+oe.length-Y.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var R=this.selection.getCursor().row,D=this.selection.getCursor().column;this.selection.selectWord();var j=this.getSelectedText(),U=this.selection.getWordRange().start.column,H=j.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),Y=D-U-1;Y<0&&(Y=0);var Z=0,Q=0,ee=this;j.match(/[A-Za-z0-9_]+/)&&H.forEach(function(xe,Ie){Q=Z+xe.length,Y>=Z&&Y<=Q&&(j=xe,ee.selection.clearSelection(),ee.moveCursorTo(R,Z+U),ee.selection.selectTo(R,Q+U)),Z=Q});for(var oe=this.$toggleWordPairs,ue,ve=0;ve<oe.length;ve++)for(var le=oe[ve],de=0;de<=1;de++){var me=+!de,Se=j.match(new RegExp("^\\s?_?("+f.escapeRegExp(le[de])+")\\s?$","i"));if(Se){var Ee=j.match(new RegExp("([_]|^|\\s)("+f.escapeRegExp(Se[1])+")($|\\s)","g"));Ee&&(ue=j.replace(new RegExp(f.escapeRegExp(le[de]),"i"),function(xe){var Ie=le[me];return xe.toUpperCase()==xe?Ie=Ie.toUpperCase():xe.charAt(0).toUpperCase()==xe.charAt(0)&&(Ie=Ie.substr(0,0)+le[me].charAt(0).toUpperCase()+Ie.substr(1)),Ie}),this.insert(ue),ue="")}}},this.findLinkAt=function(R,D){var j,U,H=this.session.getLine(R),Y=H.split(/((?:https?|ftp):\/\/[\S]+)/),Z=D;Z<0&&(Z=0);var Q=0,ee=0,oe;try{for(var ue=a(Y),ve=ue.next();!ve.done;ve=ue.next()){var le=ve.value;if(ee=Q+le.length,Z>=Q&&Z<=ee&&le.match(/((?:https?|ftp):\/\/[\S]+)/)){oe=le.replace(/[\s:.,'";}\]]+$/,"");break}Q=ee}}catch(de){j={error:de}}finally{try{ve&&!ve.done&&(U=ue.return)&&U.call(ue)}finally{if(j)throw j.error}}return oe},this.openLink=function(){var R=this.selection.getCursor(),D=this.findLinkAt(R.row,R.column);return D&&window.open(D,"_blank"),D!=null},this.removeLines=function(){var R=this.$getSelectedRows();this.session.removeFullLines(R.first,R.last),this.clearSelection()},this.duplicateSelection=function(){var R=this.selection,D=this.session,j=R.getRange(),U=R.isBackwards();if(j.isEmpty()){var H=j.start.row;D.duplicateLines(H,H)}else{var Y=U?j.start:j.end,Z=D.insert(Y,D.getTextRange(j),!1);j.start=Y,j.end=Z,R.setSelectionRange(j,U)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(R,D,j){return this.session.moveText(R,D,j)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(R,D){var j,U,H=this.selection;if(!H.inMultiSelectMode||this.inVirtualSelectionMode){var Y=H.toOrientedRange();j=this.$getSelectedRows(Y),U=this.session.$moveLines(j.first,j.last,D?0:R),D&&R==-1&&(U=0),Y.moveBy(U,0),H.fromOrientedRange(Y)}else{var Z=H.rangeList.ranges;H.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var Q=0,ee=0,oe=Z.length,ue=0;ue<oe;ue++){var ve=ue;Z[ue].moveBy(Q,0),j=this.$getSelectedRows(Z[ue]);for(var le=j.first,de=j.last;++ue<oe;){ee&&Z[ue].moveBy(ee,0);var me=this.$getSelectedRows(Z[ue]);if(D&&me.first!=de)break;if(!D&&me.first>de+1)break;de=me.last}for(ue--,Q=this.session.$moveLines(le,de,D?0:R),D&&R==-1&&(ve=ue+1);ve<=ue;)Z[ve].moveBy(Q,0),ve++;D||(Q=0),ee+=Q}H.fromOrientedRange(H.ranges[0]),H.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(R){return R=(R||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(R.start.row),last:this.session.getRowFoldEnd(R.end.row)}},this.onCompositionStart=function(R){this.renderer.showComposition(R)},this.onCompositionUpdate=function(R){this.renderer.setCompositionText(R)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(R){return R>=this.getFirstVisibleRow()&&R<=this.getLastVisibleRow()},this.isRowFullyVisible=function(R){return R>=this.renderer.getFirstFullyVisibleRow()&&R<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(R,D){var j=this.renderer,U=this.renderer.layerConfig,H=R*Math.floor(U.height/U.lineHeight);D===!0?this.selection.$moveSelection(function(){this.moveCursorBy(H,0)}):D===!1&&(this.selection.moveCursorBy(H,0),this.selection.clearSelection());var Y=j.scrollTop;j.scrollBy(0,H*U.lineHeight),D!=null&&j.scrollCursorIntoView(null,.5),j.animateScrolling(Y)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(R){this.renderer.scrollToRow(R)},this.scrollToLine=function(R,D,j,U){this.renderer.scrollToLine(R,D,j,U)},this.centerSelection=function(){var R=this.getSelectionRange(),D={row:Math.floor(R.start.row+(R.end.row-R.start.row)/2),column:Math.floor(R.start.column+(R.end.column-R.start.column)/2)};this.renderer.alignCursor(D,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(R,D){this.selection.moveCursorTo(R,D)},this.moveCursorToPosition=function(R){this.selection.moveCursorToPosition(R)},this.jumpToMatching=function(R,D){var j=this.getCursorPosition(),U=new k(this.session,j.row,j.column),H=U.getCurrentToken(),Y=0;H&&H.type.indexOf("tag-name")!==-1&&(H=U.stepBackward());var Z=H||U.stepForward();if(Z){var Q,ee=!1,oe={},ue=j.column-Z.start,ve,le={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(Z.value.match(/[{}()\[\]]/g)){for(;ue<Z.value.length&&!ee;ue++)if(le[Z.value[ue]])switch(ve=le[Z.value[ue]]+"."+Z.type.replace("rparen","lparen"),isNaN(oe[ve])&&(oe[ve]=0),Z.value[ue]){case"(":case"[":case"{":oe[ve]++;break;case")":case"]":case"}":oe[ve]--,oe[ve]===-1&&(Q="bracket",ee=!0);break}}else Z.type.indexOf("tag-name")!==-1&&(isNaN(oe[Z.value])&&(oe[Z.value]=0),H.value==="<"&&Y>1?oe[Z.value]++:H.value==="</"&&oe[Z.value]--,oe[Z.value]===-1&&(Q="tag",ee=!0));ee||(H=Z,Y++,Z=U.stepForward(),ue=0)}while(Z&&!ee);if(Q){var de,me;if(Q==="bracket")de=this.session.getBracketRange(j),de||(de=new w(U.getCurrentTokenRow(),U.getCurrentTokenColumn()+ue-1,U.getCurrentTokenRow(),U.getCurrentTokenColumn()+ue-1),me=de.start,(D||me.row===j.row&&Math.abs(me.column-j.column)<2)&&(de=this.session.getBracketRange(me)));else if(Q==="tag"){if(!Z||Z.type.indexOf("tag-name")===-1)return;if(de=new w(U.getCurrentTokenRow(),U.getCurrentTokenColumn()-2,U.getCurrentTokenRow(),U.getCurrentTokenColumn()-2),de.compare(j.row,j.column)===0){var Se=this.session.getMatchingTags(j);Se&&(Se.openTag.contains(j.row,j.column)?(de=Se.closeTag,me=de.start):(de=Se.openTag,Se.closeTag.start.row===j.row&&Se.closeTag.start.column===j.column?me=de.end:me=de.start))}me=me||de.start}me=de&&de.cursor||me,me&&(R?de&&D?this.selection.setRange(de):de&&de.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(me.row,me.column):this.selection.moveTo(me.row,me.column))}}},this.gotoLine=function(R,D,j){this.selection.clearSelection(),this.session.unfold({row:R-1,column:D||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(R-1,D||0),this.isRowFullyVisible(R-1)||this.scrollToLine(R-1,!0,j)},this.navigateTo=function(R,D){this.selection.moveTo(R,D)},this.navigateUp=function(R){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var D=this.selection.anchor.getPosition();return this.moveCursorToPosition(D)}this.selection.clearSelection(),this.selection.moveCursorBy(-R||-1,0)},this.navigateDown=function(R){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var D=this.selection.anchor.getPosition();return this.moveCursorToPosition(D)}this.selection.clearSelection(),this.selection.moveCursorBy(R||1,0)},this.navigateLeft=function(R){if(this.selection.isEmpty())for(R=R||1;R--;)this.selection.moveCursorLeft();else{var D=this.getSelectionRange().start;this.moveCursorToPosition(D)}this.clearSelection()},this.navigateRight=function(R){if(this.selection.isEmpty())for(R=R||1;R--;)this.selection.moveCursorRight();else{var D=this.getSelectionRange().end;this.moveCursorToPosition(D)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(R,D){D&&this.$search.set(D);var j=this.$search.find(this.session),U=0;return j&&(this.$tryReplace(j,R)&&(U=1),this.selection.setSelectionRange(j),this.renderer.scrollSelectionIntoView(j.start,j.end)),U},this.replaceAll=function(R,D){D&&this.$search.set(D);var j=this.$search.findAll(this.session),U=0;if(!j.length)return U;var H=this.getSelectionRange();this.selection.moveTo(0,0);for(var Y=j.length-1;Y>=0;--Y)this.$tryReplace(j[Y],R)&&U++;return this.selection.setSelectionRange(H),U},this.$tryReplace=function(R,D){var j=this.session.getTextRange(R);return D=this.$search.replace(j,D),D!==null?(R.end=this.session.replace(R,D),R):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(R,D,j){D||(D={}),typeof R=="string"||R instanceof RegExp?D.needle=R:typeof R=="object"&&s.mixin(D,R);var U=this.selection.getRange();D.needle==null&&(R=this.session.getTextRange(U)||this.$search.$options.needle,R||(U=this.session.getWordRange(U.start.row,U.start.column),R=this.session.getTextRange(U)),this.$search.set({needle:R})),this.$search.set(D),D.start||this.$search.set({start:U});var H=this.$search.find(this.session);if(D.preventScroll)return H;if(H)return this.revealRange(H,j),H;D.backwards?U.start=U.end:U.end=U.start,this.selection.setRange(U)},this.findNext=function(R,D){this.find({skipCurrent:!0,backwards:!1},R,D)},this.findPrevious=function(R,D){this.find(R,{skipCurrent:!0,backwards:!0},D)},this.revealRange=function(R,D){this.session.unfold(R),this.selection.setSelectionRange(R);var j=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(R.start,R.end,.5),D!==!1&&this.renderer.animateScrolling(j)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(R){R.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(R){if(R){var D,j=this,U=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var H=this.$scrollAnchor;H.style.cssText="position:absolute",this.container.insertBefore(H,this.container.firstChild);var Y=this.on("changeSelection",function(){U=!0}),Z=this.renderer.on("beforeRender",function(){U&&(D=j.renderer.container.getBoundingClientRect())}),Q=this.renderer.on("afterRender",function(){if(U&&D&&(j.isFocused()||j.searchBox&&j.searchBox.isFocused())){var ee=j.renderer,oe=ee.$cursorLayer.$pixelPos,ue=ee.layerConfig,ve=oe.top-ue.offset;oe.top>=0&&ve+D.top<0?U=!0:oe.top<ue.height&&oe.top+D.top+ue.lineHeight>window.innerHeight?U=!1:U=null,U!=null&&(H.style.top=ve+"px",H.style.left=oe.left+"px",H.style.height=ue.lineHeight+"px",H.scrollIntoView(U)),U=D=null}});this.setAutoScrollEditorIntoView=function(ee){ee||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",Y),this.renderer.off("afterRender",Q),this.renderer.off("beforeRender",Z))}}},this.$resetCursorStyle=function(){var R=this.$cursorStyle||"ace",D=this.renderer.$cursorLayer;D&&(D.setSmoothBlinking(/smooth/.test(R)),D.isBlinking=!this.$readOnly&&R!="wide",u.setCssClass(D.element,"ace_slim-cursors",/slim/.test(R)))},this.prompt=function(R,D,j){var U=this;$.loadModule("ace/ext/prompt",function(H){H.prompt(U,R,D,j)})}}.call(L.prototype),$.defineOptions(L.prototype,"editor",{selectionStyle:{set:function(R){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:R})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(R){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(R){this.textInput.setReadOnly(R),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(R){this.textInput.setCopyWithEmptySelection(R)},initialValue:!1},cursorStyle:{set:function(R){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(R){this.setAutoScrollEditorIntoView(R)}},keyboardHandler:{set:function(R){this.setKeyboardHandler(R)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(R){this.session.setValue(R)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(R){this.setSession(R)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(R){this.renderer.$gutterLayer.setShowLineNumbers(R),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),R&&this.$relativeLineNumbers?N.attach(this):N.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(R){this.$showLineNumbers&&R?N.attach(this):N.detach(this)}},placeholder:{set:function(R){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var D=this.session&&(this.renderer.$composition||this.getValue());if(D&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),u.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!D&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),u.addCssClass(this.container,"ace_hasPlaceholder");var j=u.createElement("div");j.className="ace_placeholder",j.textContent=this.$placeholder||"",this.renderer.placeholderNode=j,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!D&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var N={getText:function(R,D){return(Math.abs(R.selection.lead.row-D)||D+1+(D<9?"":""))+""},getWidth:function(R,D,j){return Math.max(D.toString().length,(j.lastRow+1).toString().length,2)*j.characterWidth},update:function(R,D){D.renderer.$loop.schedule(D.renderer.CHANGE_GUTTER)},attach:function(R){R.renderer.$gutterLayer.$renderer=this,R.on("changeSelection",this.update),this.update(null,R)},detach:function(R){R.renderer.$gutterLayer.$renderer==this&&(R.renderer.$gutterLayer.$renderer=null),R.off("changeSelection",this.update),this.update(null,R)}};r.Editor=L}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(n,r,i){var a=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(k){this.$session=k},this.add=function(k,M,A){if(!this.$fromUndo&&k!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),M===!1||!this.lastDeltas){this.lastDeltas=[];var L=this.$undoStack.length;L>this.$undoDepth-1&&this.$undoStack.splice(0,L-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),k.id=this.$rev=++this.$maxRev}(k.action=="remove"||k.action=="insert")&&(this.$lastDelta=k),this.lastDeltas.push(k)}},this.addSelection=function(k,M){this.selections.push({value:k,rev:M||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(k,M){M==null&&(M=this.$rev+1);for(var A=this.$undoStack,L=A.length;L--;){var N=A[L][0];if(N.id<=k)break;N.id<M&&(N.ignore=!0)}this.lastDeltas=null},this.getSelection=function(k,M){for(var A=this.selections,L=A.length;L--;){var N=A[L];if(N.rev<k)return M&&(N=A[L+1]),N}},this.getRevision=function(){return this.$rev},this.getDeltas=function(k,M){M==null&&(M=this.$rev+1);for(var A=this.$undoStack,L=null,N=0,R=A.length;R--;){var D=A[R][0];if(D.id<M&&!L&&(L=R+1),D.id<=k){N=R+1;break}}return A.slice(N,L)},this.getChangedRanges=function(k,M){M==null&&(M=this.$rev+1)},this.getChangedLines=function(k,M){M==null&&(M=this.$rev+1)},this.undo=function(k,M){this.lastDeltas=null;var A=this.$undoStack;if(s(A,A.length)){k||(k=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var L=A.pop(),N=null;return L&&(N=k.undoChanges(L,M),this.$redoStack.push(L),this.$syncRev()),this.$fromUndo=!1,N}},this.redo=function(k,M){if(this.lastDeltas=null,k||(k=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var A=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);$(this.$redoStack,A),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(R){R[0].id=++this.$maxRev},this)}var L=this.$redoStack.pop(),N=null;return L&&(N=k.redoChanges(L,M),this.$undoStack.push(L),this.$syncRev()),this.$fromUndo=!1,N},this.$syncRev=function(){var k=this.$undoStack,M=k[k.length-1],A=M&&M[0].id||0;this.$redoStackBaseRev=A,this.$rev=A},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(k){k==null&&(k=this.$rev),this.mark=k},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(k){return k?h(k):h(this.$undoStack)+`
---
`+h(this.$redoStack)}}).call(a.prototype);function s(k,M){for(var A=M;A--;){var L=k[A];if(L&&!L[0].ignore){for(;A<M-1;){var N=m(k[A],k[A+1]);k[A]=N[0],k[A+1]=N[1],A++}return!0}}}var u=n("./range").Range,f=u.comparePoints;u.comparePoints;function d(k){return{row:k.row,column:k.column}}function c(k){return{start:d(k.start),end:d(k.end),action:k.action,lines:k.lines.slice()}}function h(k){if(k=k||this,Array.isArray(k))return k.map(h).join(`
`);var M="";return k.action?(M=k.action=="insert"?"+":"-",M+="["+k.lines+"]"):k.value&&(Array.isArray(k.value)?M=k.value.map(p).join(`
`):M=p(k.value)),k.start&&(M+=p(k)),(k.id||k.rev)&&(M+="	("+(k.id||k.rev)+")"),M}function p(k){return k.start.row+":"+k.start.column+"=>"+k.end.row+":"+k.end.column}function v(k,M){var A=k.action=="insert",L=M.action=="insert";if(A&&L)if(f(M.start,k.end)>=0)w(M,k,-1);else if(f(M.start,k.start)<=0)w(k,M,1);else return null;else if(A&&!L)if(f(M.start,k.end)>=0)w(M,k,-1);else if(f(M.end,k.start)<=0)w(k,M,-1);else return null;else if(!A&&L)if(f(M.start,k.start)>=0)w(M,k,1);else if(f(M.start,k.start)<=0)w(k,M,1);else return null;else if(!A&&!L)if(f(M.start,k.start)>=0)w(M,k,1);else if(f(M.end,k.start)<=0)w(k,M,-1);else return null;return[M,k]}function m(k,M){for(var A=k.length;A--;)for(var L=0;L<M.length;L++)if(!v(k[A],M[L])){for(;A<k.length;){for(;L--;)v(M[L],k[A]);L=M.length,A++}return[k,M]}return k.selectionBefore=M.selectionBefore=k.selectionAfter=M.selectionAfter=null,[M,k]}function y(k,M){var A=k.action=="insert",L=M.action=="insert";if(A&&L)f(k.start,M.start)<0?w(M,k,1):w(k,M,1);else if(A&&!L)f(k.start,M.end)>=0?w(k,M,-1):(f(k.start,M.start)<=0||w(k,u.fromPoints(M.start,k.start),-1),w(M,k,1));else if(!A&&L)f(M.start,k.end)>=0?w(M,k,-1):(f(M.start,k.start)<=0||w(M,u.fromPoints(k.start,M.start),-1),w(k,M,1));else if(!A&&!L)if(f(M.start,k.end)>=0)w(M,k,-1);else if(f(M.end,k.start)<=0)w(k,M,-1);else{var N,R;return f(k.start,M.start)<0&&(N=k,k=S(k,M.start)),f(k.end,M.end)>0&&(R=S(k,M.end)),_(M.end,k.start,k.end,-1),R&&!N&&(k.lines=R.lines,k.start=R.start,k.end=R.end,R=k),[M,N,R].filter(Boolean)}return[M,k]}function w(k,M,A){_(k.start,M.start,M.end,A),_(k.end,M.start,M.end,A)}function _(k,M,A,L){k.row==(L==1?M:A).row&&(k.column+=L*(A.column-M.column)),k.row+=L*(A.row-M.row)}function S(k,M){var A=k.lines,L=k.end;k.end=d(M);var N=k.end.row-k.start.row,R=A.splice(N,A.length),D=N?M.column:M.column-k.start.column;A.push(R[0].substring(0,D)),R[0]=R[0].substr(D);var j={start:d(M),end:L,lines:R,action:k.action};return j}function C(k,M){M=c(M);for(var A=k.length;A--;){for(var L=k[A],N=0;N<L.length;N++){var R=L[N],D=y(R,M);M=D[0],D.length!=2&&(D[2]?(L.splice(N+1,1,D[1],D[2]),N++):D[1]||(L.splice(N,1),N--))}L.length||k.splice(A,1)}return k}function $(k,M){for(var A=0;A<M.length;A++)for(var L=M[A],N=0;N<L.length;N++)C(k,L[N])}r.UndoManager=a}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,r,i){var a=n("../lib/dom"),s=function(u,f){this.element=u,this.canvasHeight=f||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(u){a.translate(this.element,0,-(u.firstRowScreen*u.lineHeight%this.canvasHeight)-u.offset*this.$offsetCoefficient)},this.pageChanged=function(u,f){return Math.floor(u.firstRowScreen*u.lineHeight/this.canvasHeight)!==Math.floor(f.firstRowScreen*f.lineHeight/this.canvasHeight)},this.computeLineTop=function(u,f,d){var c=f.firstRowScreen*f.lineHeight,h=Math.floor(c/this.canvasHeight),p=d.documentToScreenRow(u,0)*f.lineHeight;return p-h*this.canvasHeight},this.computeLineHeight=function(u,f,d){return f.lineHeight*d.getRowLineCount(u)},this.getLength=function(){return this.cells.length},this.get=function(u){return this.cells[u]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(u){if(Array.isArray(u)){this.cells.push.apply(this.cells,u);for(var f=a.createFragment(this.element),d=0;d<u.length;d++)f.appendChild(u[d].element);this.element.appendChild(f)}else this.cells.push(u),this.element.appendChild(u.element)},this.unshift=function(u){if(Array.isArray(u)){this.cells.unshift.apply(this.cells,u);for(var f=a.createFragment(this.element),d=0;d<u.length;d++)f.appendChild(u[d].element);this.element.firstChild?this.element.insertBefore(f,this.element.firstChild):this.element.appendChild(f)}else this.cells.unshift(u),this.element.insertAdjacentElement("afterbegin",u.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(u){u&&(u.element.remove(),this.cellCache.push(u))},this.createCell=function(u,f,d,c){var h=this.cellCache.pop();if(!h){var p=a.createElement("div");c&&c(p),this.element.appendChild(p),h={element:p,text:"",row:u}}return h.row=u,h}}).call(s.prototype),r.Lines=s}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(n,r,i){var a=n("../lib/dom"),s=n("../lib/oop"),u=n("../lib/lang"),f=n("../lib/event_emitter").EventEmitter,d=n("./lines").Lines,c=function(p){this.element=a.createElement("div"),this.element.className="ace_layer ace_gutter-layer",p.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new d(this.element),this.$lines.$offsetCoefficient=1};(function(){s.implement(this,f),this.setSession=function(p){this.session&&this.session.off("change",this.$updateAnnotations),this.session=p,p&&p.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(p,v){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(p,v)},this.removeGutterDecoration=function(p,v){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(p,v)},this.setAnnotations=function(p){this.$annotations=[];for(var v=0;v<p.length;v++){var m=p[v],y=m.row,w=this.$annotations[y];w||(w=this.$annotations[y]={text:[]});var _=m.text;_=_?u.escapeHTML(_):m.html||"",w.text.indexOf(_)===-1&&w.text.push(_);var S=m.type,C=m.className;C?w.className=C:S=="error"?w.className=" ace_error":S=="warning"&&w.className!=" ace_error"?w.className=" ace_warning":S=="info"&&!w.className&&(w.className=" ace_info")}},this.$updateAnnotations=function(p){if(this.$annotations.length){var v=p.start.row,m=p.end.row-v;if(m!==0)if(p.action=="remove")this.$annotations.splice(v,m+1,null);else{var y=new Array(m+1);y.unshift(v,1),this.$annotations.splice.apply(this.$annotations,y)}}},this.update=function(p){this.config=p;var v=this.session,m=p.firstRow,y=Math.min(p.lastRow+p.gutterOffset,v.getLength()-1);this.oldLastRow=y,this.config=p,this.$lines.moveContainer(p),this.$updateCursorRow();for(var w=v.getNextFoldLine(m),_=w?w.start.row:1/0,S=null,C=-1,$=m;;){if($>_&&($=w.end.row+1,w=v.getNextFoldLine($,w),_=w?w.start.row:1/0),$>y){for(;this.$lines.getLength()>C+1;)this.$lines.pop();break}S=this.$lines.get(++C),S?S.row=$:(S=this.$lines.createCell($,p,this.session,h),this.$lines.push(S)),this.$renderCell(S,p,w,$),$++}this._signal("afterRender"),this.$updateGutterWidth(p)},this.$updateGutterWidth=function(p){var v=this.session,m=v.gutterRenderer||this.$renderer,y=v.$firstLineNumber,w=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||v.$useWrapMode)&&(w=v.getLength()+y-1);var _=m?m.getWidth(v,w,p):w.toString().length*p.characterWidth,S=this.$padding||this.$computePadding();_+=S.left+S.right,_!==this.gutterWidth&&!isNaN(_)&&(this.gutterWidth=_,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",_))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var p=this.session.selection.getCursor();this.$cursorRow!==p.row&&(this.$cursorRow=p.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var p=this.session.selection.cursor.row;if(this.$cursorRow=p,!(this.$cursorCell&&this.$cursorCell.row==p)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var v=this.$lines.cells;this.$cursorCell=null;for(var m=0;m<v.length;m++){var y=v[m];if(y.row>=this.$cursorRow){if(y.row>this.$cursorRow){var w=this.session.getFoldLine(this.$cursorRow);if(m>0&&w&&w.start.row==v[m-1].row)y=v[m-1];else break}y.element.className="ace_gutter-active-line "+y.element.className,this.$cursorCell=y;break}}}}},this.scrollLines=function(p){var v=this.config;if(this.config=p,this.$updateCursorRow(),this.$lines.pageChanged(v,p))return this.update(p);this.$lines.moveContainer(p);var m=Math.min(p.lastRow+p.gutterOffset,this.session.getLength()-1),y=this.oldLastRow;if(this.oldLastRow=m,!v||y<p.firstRow)return this.update(p);if(m<v.firstRow)return this.update(p);if(v.firstRow<p.firstRow)for(var w=this.session.getFoldedRowCount(v.firstRow,p.firstRow-1);w>0;w--)this.$lines.shift();if(y>m)for(var w=this.session.getFoldedRowCount(m+1,y);w>0;w--)this.$lines.pop();p.firstRow<v.firstRow&&this.$lines.unshift(this.$renderLines(p,p.firstRow,v.firstRow-1)),m>y&&this.$lines.push(this.$renderLines(p,y+1,m)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(p)},this.$renderLines=function(p,v,m){for(var y=[],w=v,_=this.session.getNextFoldLine(w),S=_?_.start.row:1/0;w>S&&(w=_.end.row+1,_=this.session.getNextFoldLine(w,_),S=_?_.start.row:1/0),!(w>m);){var C=this.$lines.createCell(w,p,this.session,h);this.$renderCell(C,p,_,w),y.push(C),w++}return y},this.$renderCell=function(p,v,m,y){var w=p.element,_=this.session,S=w.childNodes[0],C=w.childNodes[1],$=_.$firstLineNumber,k=_.$breakpoints,M=_.$decorations,A=_.gutterRenderer||this.$renderer,L=this.$showFoldWidgets&&_.foldWidgets,N=m?m.start.row:Number.MAX_VALUE,R="ace_gutter-cell ";if(this.$highlightGutterLine&&(y==this.$cursorRow||m&&y<this.$cursorRow&&y>=N&&this.$cursorRow<=m.end.row)&&(R+="ace_gutter-active-line ",this.$cursorCell!=p&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=p)),k[y]&&(R+=k[y]),M[y]&&(R+=M[y]),this.$annotations[y]&&(R+=this.$annotations[y].className),w.className!=R&&(w.className=R),L){var D=L[y];D==null&&(D=L[y]=_.getFoldWidget(y))}if(D){var R="ace_fold-widget ace_"+D;D=="start"&&y==N&&y<m.end.row?R+=" ace_closed":R+=" ace_open",C.className!=R&&(C.className=R);var j=v.lineHeight+"px";a.setStyle(C.style,"height",j),a.setStyle(C.style,"display","inline-block")}else C&&a.setStyle(C.style,"display","none");var U=(A?A.getText(_,y):y+$).toString();return U!==S.data&&(S.data=U),a.setStyle(p.element.style,"height",this.$lines.computeLineHeight(y,v,_)+"px"),a.setStyle(p.element.style,"top",this.$lines.computeLineTop(y,v,_)+"px"),p.text=U,p},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(p){this.$highlightGutterLine=p},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(p){this.$renderer=!p&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(p){p?a.addCssClass(this.element,"ace_folding-enabled"):a.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=p,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var p=a.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(p.borderLeftWidth)||0)+(parseInt(p.paddingLeft)||0)+1,this.$padding.right=(parseInt(p.borderRightWidth)||0)+(parseInt(p.paddingRight)||0),this.$padding},this.getRegion=function(p){var v=this.$padding||this.$computePadding(),m=this.element.getBoundingClientRect();if(p.x<v.left+m.left)return"markers";if(this.$showFoldWidgets&&p.x>m.right-v.right)return"foldWidgets"}}).call(c.prototype);function h(p){var v=document.createTextNode("");p.appendChild(v);var m=a.createElement("span");return p.appendChild(m),p}r.Gutter=c}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,r,i){var a=n("../range").Range,s=n("../lib/dom"),u=function(f){this.element=s.createElement("div"),this.element.className="ace_layer ace_marker-layer",f.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(d){this.$padding=d},this.setSession=function(d){this.session=d},this.setMarkers=function(d){this.markers=d},this.elt=function(d,c){var h=this.i!=-1&&this.element.childNodes[this.i];h?this.i++:(h=document.createElement("div"),this.element.appendChild(h),this.i=-1),h.style.cssText=c,h.className=d},this.update=function(d){if(d){this.config=d,this.i=0;var c;for(var h in this.markers){var p=this.markers[h];if(!p.range){p.update(c,this,this.session,d);continue}var v=p.range.clipRows(d.firstRow,d.lastRow);if(!v.isEmpty())if(v=v.toScreenRange(this.session),p.renderer){var m=this.$getTop(v.start.row,d),y=this.$padding+v.start.column*d.characterWidth;p.renderer(c,v,y,m,d)}else p.type=="fullLine"?this.drawFullLineMarker(c,v,p.clazz,d):p.type=="screenLine"?this.drawScreenLineMarker(c,v,p.clazz,d):v.isMultiLine()?p.type=="text"?this.drawTextMarker(c,v,p.clazz,d):this.drawMultiLineMarker(c,v,p.clazz,d):this.drawSingleLineMarker(c,v,p.clazz+" ace_start ace_br15",d)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(d,c){return(d-c.firstRowScreen)*c.lineHeight};function f(d,c,h,p){return(d?1:0)|(c?2:0)|(h?4:0)|(p?8:0)}this.drawTextMarker=function(d,c,h,p,v){for(var m=this.session,y=c.start.row,w=c.end.row,_=y,S=0,C=0,$=m.getScreenLastRowColumn(_),k=new a(_,c.start.column,_,C);_<=w;_++)k.start.row=k.end.row=_,k.start.column=_==y?c.start.column:m.getRowWrapIndent(_),k.end.column=$,S=C,C=$,$=_+1<w?m.getScreenLastRowColumn(_+1):_==w?0:c.end.column,this.drawSingleLineMarker(d,k,h+(_==y?" ace_start":"")+" ace_br"+f(_==y||_==y+1&&c.start.column,S<C,C>$,_==w),p,_==w?0:1,v)},this.drawMultiLineMarker=function(d,c,h,p,v){var m=this.$padding,y=p.lineHeight,w=this.$getTop(c.start.row,p),_=m+c.start.column*p.characterWidth;if(v=v||"",this.session.$bidiHandler.isBidiRow(c.start.row)){var S=c.clone();S.end.row=S.start.row,S.end.column=this.session.getLine(S.start.row).length,this.drawBidiSingleLineMarker(d,S,h+" ace_br1 ace_start",p,null,v)}else this.elt(h+" ace_br1 ace_start","height:"+y+"px;right:0;top:"+w+"px;left:"+_+"px;"+(v||""));if(this.session.$bidiHandler.isBidiRow(c.end.row)){var S=c.clone();S.start.row=S.end.row,S.start.column=0,this.drawBidiSingleLineMarker(d,S,h+" ace_br12",p,null,v)}else{w=this.$getTop(c.end.row,p);var C=c.end.column*p.characterWidth;this.elt(h+" ace_br12","height:"+y+"px;width:"+C+"px;top:"+w+"px;left:"+m+"px;"+(v||""))}if(y=(c.end.row-c.start.row-1)*p.lineHeight,!(y<=0)){w=this.$getTop(c.start.row+1,p);var $=(c.start.column?1:0)|(c.end.column?0:8);this.elt(h+($?" ace_br"+$:""),"height:"+y+"px;right:0;top:"+w+"px;left:"+m+"px;"+(v||""))}},this.drawSingleLineMarker=function(d,c,h,p,v,m){if(this.session.$bidiHandler.isBidiRow(c.start.row))return this.drawBidiSingleLineMarker(d,c,h,p,v,m);var y=p.lineHeight,w=(c.end.column+(v||0)-c.start.column)*p.characterWidth,_=this.$getTop(c.start.row,p),S=this.$padding+c.start.column*p.characterWidth;this.elt(h,"height:"+y+"px;width:"+w+"px;top:"+_+"px;left:"+S+"px;"+(m||""))},this.drawBidiSingleLineMarker=function(d,c,h,p,v,m){var y=p.lineHeight,w=this.$getTop(c.start.row,p),_=this.$padding,S=this.session.$bidiHandler.getSelections(c.start.column,c.end.column);S.forEach(function(C){this.elt(h,"height:"+y+"px;width:"+(C.width+(v||0))+"px;top:"+w+"px;left:"+(_+C.left)+"px;"+(m||""))},this)},this.drawFullLineMarker=function(d,c,h,p,v){var m=this.$getTop(c.start.row,p),y=p.lineHeight;c.start.row!=c.end.row&&(y+=this.$getTop(c.end.row,p)-m),this.elt(h,"height:"+y+"px;top:"+m+"px;left:0;right:0;"+(v||""))},this.drawScreenLineMarker=function(d,c,h,p,v){var m=this.$getTop(c.start.row,p),y=p.lineHeight;this.elt(h,"height:"+y+"px;top:"+m+"px;left:0;right:0;"+(v||""))}}).call(u.prototype),r.Marker=u}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(n,r,i){var a=n("../lib/oop"),s=n("../lib/dom"),u=n("../lib/lang"),f=n("./lines").Lines,d=n("../lib/event_emitter").EventEmitter,c=function(h){this.dom=s,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",h.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new f(this.element)};(function(){a.implement(this,d),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var h=this.session.doc,p=h.getNewLineCharacter()==`
`&&h.getNewLineMode()!="windows",v=p?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=v)return this.EOL_CHAR=v,!0},this.setPadding=function(h){this.$padding=h,this.element.style.margin="0 "+h+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(h){this.$fontMetrics=h,this.$fontMetrics.on("changeCharacterSize",function(p){this._signal("changeCharacterSize",p)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(h){this.session=h,h&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(h){return this.showInvisibles==h?!1:(this.showInvisibles=h,typeof h=="string"?(this.showSpaces=/tab/i.test(h),this.showTabs=/space/i.test(h),this.showEOL=/eol/i.test(h)):this.showSpaces=this.showTabs=this.showEOL=h,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(h){return this.displayIndentGuides==h?!1:(this.displayIndentGuides=h,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(h){return this.$highlightIndentGuides===h?!1:(this.$highlightIndentGuides=h,h)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var h=this.session.getTabSize();this.tabSize=h;for(var p=this.$tabStrings=[0],v=1;v<h+1;v++)if(this.showTabs){var m=this.dom.createElement("span");m.className="ace_invisible ace_invisible_tab",m.textContent=u.stringRepeat(this.TAB_CHAR,v),p.push(m)}else p.push(this.dom.createTextNode(u.stringRepeat(" ",v),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var y="ace_indent-guide",w=this.showSpaces?" ace_invisible ace_invisible_space":"",_=this.showSpaces?u.stringRepeat(this.SPACE_CHAR,this.tabSize):u.stringRepeat(" ",this.tabSize),S=this.showTabs?" ace_invisible ace_invisible_tab":"",C=this.showTabs?u.stringRepeat(this.TAB_CHAR,this.tabSize):_,m=this.dom.createElement("span");m.className=y+w,m.textContent=_,this.$tabStrings[" "]=m;var m=this.dom.createElement("span");m.className=y+S,m.textContent=C,this.$tabStrings["	"]=m}},this.updateLines=function(h,p,v){if(this.config.lastRow!=h.lastRow||this.config.firstRow!=h.firstRow)return this.update(h);this.config=h;for(var m=Math.max(p,h.firstRow),y=Math.min(v,h.lastRow),w=this.element.childNodes,_=0,C=h.firstRow;C<m;C++){var $=this.session.getFoldLine(C);if($)if($.containsRow(m)){m=$.start.row;break}else C=$.end.row;_++}for(var S=!1,C=m,$=this.session.getNextFoldLine(C),k=$?$.start.row:1/0;C>k&&(C=$.end.row+1,$=this.session.getNextFoldLine(C,$),k=$?$.start.row:1/0),!(C>y);){var M=w[_++];if(M){this.dom.removeChildren(M),this.$renderLine(M,C,C==k?$:!1),S&&(M.style.top=this.$lines.computeLineTop(C,h,this.session)+"px");var A=h.lineHeight*this.session.getRowLength(C)+"px";M.style.height!=A&&(S=!0,M.style.height=A)}C++}if(S)for(;_<this.$lines.cells.length;){var L=this.$lines.cells[_++];L.element.style.top=this.$lines.computeLineTop(L.row,h,this.session)+"px"}},this.scrollLines=function(h){var p=this.config;if(this.config=h,this.$lines.pageChanged(p,h))return this.update(h);this.$lines.moveContainer(h);var v=h.lastRow,m=p?p.lastRow:-1;if(!p||m<h.firstRow)return this.update(h);if(v<p.firstRow)return this.update(h);if(!p||p.lastRow<h.firstRow)return this.update(h);if(h.lastRow<p.firstRow)return this.update(h);if(p.firstRow<h.firstRow)for(var y=this.session.getFoldedRowCount(p.firstRow,h.firstRow-1);y>0;y--)this.$lines.shift();if(p.lastRow>h.lastRow)for(var y=this.session.getFoldedRowCount(h.lastRow+1,p.lastRow);y>0;y--)this.$lines.pop();h.firstRow<p.firstRow&&this.$lines.unshift(this.$renderLinesFragment(h,h.firstRow,p.firstRow-1)),h.lastRow>p.lastRow&&this.$lines.push(this.$renderLinesFragment(h,p.lastRow+1,h.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(h,p,v){for(var m=[],y=p,w=this.session.getNextFoldLine(y),_=w?w.start.row:1/0;y>_&&(y=w.end.row+1,w=this.session.getNextFoldLine(y,w),_=w?w.start.row:1/0),!(y>v);){var S=this.$lines.createCell(y,h,this.session),C=S.element;this.dom.removeChildren(C),s.setStyle(C.style,"height",this.$lines.computeLineHeight(y,h,this.session)+"px"),s.setStyle(C.style,"top",this.$lines.computeLineTop(y,h,this.session)+"px"),this.$renderLine(C,y,y==_?w:!1),this.$useLineGroups()?C.className="ace_line_group":C.className="ace_line",m.push(S),y++}return m},this.update=function(h){this.$lines.moveContainer(h),this.config=h;for(var p=h.firstRow,v=h.lastRow,m=this.$lines;m.getLength();)m.pop();m.push(this.$renderLinesFragment(h,p,v))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(h,p,v,m){for(var y=this,w=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,_=this.dom.createFragment(this.element),S,C=0;S=w.exec(m);){var $=S[1],k=S[2],M=S[3],A=S[4],L=S[5];if(!(!y.showSpaces&&k)){var N=C!=S.index?m.slice(C,S.index):"";if(C=S.index+S[0].length,N&&_.appendChild(this.dom.createTextNode(N,this.element)),$){var R=y.session.getScreenTabSize(p+S.index);_.appendChild(y.$tabStrings[R].cloneNode(!0)),p+=R-1}else if(k)if(y.showSpaces){var D=this.dom.createElement("span");D.className="ace_invisible ace_invisible_space",D.textContent=u.stringRepeat(y.SPACE_CHAR,k.length),_.appendChild(D)}else _.appendChild(this.com.createTextNode(k,this.element));else if(M){var D=this.dom.createElement("span");D.className="ace_invisible ace_invisible_space ace_invalid",D.textContent=u.stringRepeat(y.SPACE_CHAR,M.length),_.appendChild(D)}else if(A){p+=1;var D=this.dom.createElement("span");D.style.width=y.config.characterWidth*2+"px",D.className=y.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",D.textContent=y.showSpaces?y.SPACE_CHAR:A,_.appendChild(D)}else if(L){p+=1;var D=this.dom.createElement("span");D.style.width=y.config.characterWidth*2+"px",D.className="ace_cjk",D.textContent=L,_.appendChild(D)}}}if(_.appendChild(this.dom.createTextNode(C?m.slice(C):m,this.element)),this.$textToken[v.type])h.appendChild(_);else{var j="ace_"+v.type.replace(/\./g," ace_"),D=this.dom.createElement("span");v.type=="fold"&&(D.style.width=v.value.length*this.config.characterWidth+"px"),D.className=j,D.appendChild(_),h.appendChild(D)}return p+m.length},this.renderIndentGuide=function(h,p,v){var m=p.search(this.$indentGuideRe);if(m<=0||m>=v)return p;if(p[0]==" "){m-=m%this.tabSize;for(var y=m/this.tabSize,w=0;w<y;w++)h.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),p.substr(m)}else if(p[0]=="	"){for(var w=0;w<m;w++)h.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),p.substr(m)}return this.$highlightIndentGuide(),p},this.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var h=this.session.doc.$lines;if(h){var p=this.session.selection.getCursor(),v=/^\s*/.exec(this.session.doc.getLine(p.row))[0].length,m=Math.floor(v/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:m,start:p.row};var y=this.session.$bracketHighlight;if(y){for(var w=this.session.$bracketHighlight.ranges,_=0;_<w.length;_++)if(p.row!==w[_].start.row){this.$highlightIndentGuideMarker.end=w[_].start.row,p.row>w[_].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&h[p.row]!==""&&p.column===h[p.row].length){this.$highlightIndentGuideMarker.dir=1;for(var _=p.row+1;_<h.length;_++){var S=h[_],C=/^\s*/.exec(S)[0].length;if(S!==""&&(this.$highlightIndentGuideMarker.end=_,C<=v))break}}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var h=this.$lines.cells,p=0;p<h.length;p++){var v=h[p],m=v.element.childNodes;if(m.length>0){for(var y=0;y<m.length;y++)if(m[y].classList&&m[y].classList.contains("ace_indent-guide-active")){m[y].classList.remove("ace_indent-guide-active");break}}}},this.$setIndentGuideActive=function(h,p){var v=this.session.doc.getLine(h.row);if(v!==""){var m=h.element.childNodes;if(m){var y=m[p-1];y&&y.classList&&y.classList.contains("ace_indent-guide")&&y.classList.add("ace_indent-guide-active")}}},this.$renderHighlightIndentGuide=function(){if(this.$lines){var h=this.$lines.cells;this.$clearActiveIndentGuide();var p=this.$highlightIndentGuideMarker.indentLevel;if(p!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var v=0;v<h.length;v++){var m=h[v];if(this.$highlightIndentGuideMarker.end&&m.row>=this.$highlightIndentGuideMarker.start+1){if(m.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(m,p)}}else for(var v=h.length-1;v>=0;v--){var m=h[v];if(this.$highlightIndentGuideMarker.end&&m.row<this.$highlightIndentGuideMarker.start){if(m.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(m,p)}}}},this.$createLineElement=function(h){var p=this.dom.createElement("div");return p.className="ace_line",p.style.height=this.config.lineHeight+"px",p},this.$renderWrappedLine=function(h,p,v){var m=0,y=0,w=v[0],_=0,S=this.$createLineElement();h.appendChild(S);for(var C=0;C<p.length;C++){var $=p[C],k=$.value;if(C==0&&this.displayIndentGuides){if(m=k.length,k=this.renderIndentGuide(S,k,w),!k)continue;m-=k.length}if(m+k.length<w)_=this.$renderToken(S,_,$,k),m+=k.length;else{for(;m+k.length>=w;)_=this.$renderToken(S,_,$,k.substring(0,w-m)),k=k.substring(w-m),m=w,S=this.$createLineElement(),h.appendChild(S),S.appendChild(this.dom.createTextNode(u.stringRepeat("",v.indent),this.element)),y++,_=0,w=v[y]||Number.MAX_VALUE;k.length!=0&&(m+=k.length,_=this.$renderToken(S,_,$,k))}}v[v.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(S,_,null,"",!0)},this.$renderSimpleLine=function(h,p){for(var v=0,m=0;m<p.length;m++){var y=p[m],w=y.value;if(!(m==0&&this.displayIndentGuides&&(w=this.renderIndentGuide(h,w),!w))){if(v+w.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(h,v,y,w);v=this.$renderToken(h,v,y,w)}}},this.$renderOverflowMessage=function(h,p,v,m,y){v&&this.$renderToken(h,p,v,m.slice(0,this.MAX_LINE_LENGTH-p));var w=this.dom.createElement("span");w.className="ace_inline_button ace_keyword ace_toggle_wrap",w.textContent=y?"<hide>":"<click to see more...>",h.appendChild(w)},this.$renderLine=function(h,p,v){if(!v&&v!=!1&&(v=this.session.getFoldLine(p)),v)var m=this.$getFoldLineTokens(p,v);else var m=this.session.getTokens(p);var y=h;if(m.length){var w=this.session.getRowSplitData(p);if(w&&w.length){this.$renderWrappedLine(h,m,w);var y=h.lastChild}else{var y=h;this.$useLineGroups()&&(y=this.$createLineElement(),h.appendChild(y)),this.$renderSimpleLine(y,m)}}else this.$useLineGroups()&&(y=this.$createLineElement(),h.appendChild(y));if(this.showEOL&&y){v&&(p=v.end.row);var _=this.dom.createElement("span");_.className="ace_invisible ace_invisible_eol",_.textContent=p==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,y.appendChild(_)}},this.$getFoldLineTokens=function(h,p){var v=this.session,m=[];function y(_,S,C){for(var $=0,k=0;k+_[$].value.length<S;)if(k+=_[$].value.length,$++,$==_.length)return;if(k!=S){var M=_[$].value.substring(S-k);M.length>C-S&&(M=M.substring(0,C-S)),m.push({type:_[$].type,value:M}),k=S+M.length,$+=1}for(;k<C&&$<_.length;){var M=_[$].value;M.length+k>C?m.push({type:_[$].type,value:M.substring(0,C-k)}):m.push(_[$]),k+=M.length,$+=1}}var w=v.getTokens(h);return p.walk(function(_,S,C,$,k){_!=null?m.push({type:"fold",value:_}):(k&&(w=v.getTokens(S)),w.length&&y(w,$,C))},p.end.row,this.session.getLine(p.end.row).length),m},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(c.prototype),r.Text=c}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,r,i){var a=n("../lib/dom"),s=function(u){this.element=a.createElement("div"),this.element.className="ace_layer ace_cursor-layer",u.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),a.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(u){for(var f=this.cursors,d=f.length;d--;)a.setStyle(f[d].style,"opacity",u?"":"0")},this.$startCssAnimation=function(){for(var u=this.cursors,f=u.length;f--;)u[f].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&a.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,a.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(u){this.$padding=u},this.setSession=function(u){this.session=u},this.setBlinking=function(u){u!=this.isBlinking&&(this.isBlinking=u,this.restartTimer())},this.setBlinkInterval=function(u){u!=this.blinkInterval&&(this.blinkInterval=u,this.restartTimer())},this.setSmoothBlinking=function(u){u!=this.smoothBlinking&&(this.smoothBlinking=u,a.setCssClass(this.element,"ace_smooth-blinking",u),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var u=a.createElement("div");return u.className="ace_cursor",this.element.appendChild(u),this.cursors.push(u),u},this.removeCursor=function(){if(this.cursors.length>1){var u=this.cursors.pop();return u.parentNode.removeChild(u),u}},this.hideCursor=function(){this.isVisible=!1,a.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,a.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var u=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,a.removeCssClass(this.element,"ace_smooth-blinking")),u(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&a.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),a.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var f=function(){this.timeoutId=setTimeout(function(){u(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){u(!0),f()},this.blinkInterval),f()}},this.getPixelPosition=function(u,f){if(!this.config||!this.session)return{left:0,top:0};u||(u=this.session.selection.getCursor());var d=this.session.documentToScreenPosition(u),c=this.$padding+(this.session.$bidiHandler.isBidiRow(d.row,u.row)?this.session.$bidiHandler.getPosLeft(d.column):d.column*this.config.characterWidth),h=(d.row-(f?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:c,top:h}},this.isCursorInView=function(u,f){return u.top>=0&&u.top<f.maxHeight},this.update=function(u){this.config=u;var f=this.session.$selectionMarkers,d=0,c=0;(f===void 0||f.length===0)&&(f=[{cursor:null}]);for(var d=0,h=f.length;d<h;d++){var p=this.getPixelPosition(f[d].cursor,!0);if(!((p.top>u.height+u.offset||p.top<0)&&d>1)){var v=this.cursors[c++]||this.addCursor(),m=v.style;this.drawCursor?this.drawCursor(v,p,u,f[d],this.session):this.isCursorInView(p,u)?(a.setStyle(m,"display","block"),a.translate(v,p.left,p.top),a.setStyle(m,"width",Math.round(u.characterWidth)+"px"),a.setStyle(m,"height",u.lineHeight+"px")):a.setStyle(m,"display","none")}}for(;this.cursors.length>c;)this.removeCursor();var y=this.session.getOverwrite();this.$setOverwrite(y),this.$pixelPos=p,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(u){u!=this.overwrite&&(this.overwrite=u,u?a.addCssClass(this.element,"ace_overwrite-cursors"):a.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(s.prototype),r.Cursor=s}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var a=n("./lib/oop"),s=n("./lib/dom"),u=n("./lib/event"),f=n("./lib/event_emitter").EventEmitter,d=32768,c=function(v){this.element=s.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),v.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,u.addListener(this.element,"scroll",this.onScroll.bind(this)),u.addListener(this.element,"mousedown",u.preventDefault)};(function(){a.implement(this,f),this.setVisible=function(v){this.element.style.display=v?"":"none",this.isVisible=v,this.coeff=1}}).call(c.prototype);var h=function(v,m){c.call(this,v),this.scrollTop=0,this.scrollHeight=0,m.$scrollbarWidth=this.width=s.scrollbarWidth(v.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};a.inherits(h,c),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var v=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-v)/(this.coeff-v)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(v){this.element.style.height=v+"px"},this.setInnerHeight=this.setScrollHeight=function(v){this.scrollHeight=v,v>d?(this.coeff=d/v,v=d):this.coeff!=1&&(this.coeff=1),this.inner.style.height=v+"px"},this.setScrollTop=function(v){this.scrollTop!=v&&(this.skipEvent=!0,this.scrollTop=v,this.element.scrollTop=v*this.coeff)}}.call(h.prototype);var p=function(v,m){c.call(this,v),this.scrollLeft=0,this.height=m.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};a.inherits(p,c),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(v){this.element.style.width=v+"px"},this.setInnerWidth=function(v){this.inner.style.width=v+"px"},this.setScrollWidth=function(v){this.inner.style.width=v+"px"},this.setScrollLeft=function(v){this.scrollLeft!=v&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=v)}}.call(p.prototype),r.ScrollBar=h,r.ScrollBarV=h,r.ScrollBarH=p,r.VScrollBar=h,r.HScrollBar=p}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,r,i){var a=n("./lib/oop"),s=n("./lib/dom"),u=n("./lib/event"),f=n("./lib/event_emitter").EventEmitter;s.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var d=function(p){this.element=s.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,p.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,u.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){a.implement(this,f),this.setVisible=function(p){this.element.style.display=p?"":"none",this.isVisible=p,this.coeff=1}}).call(d.prototype);var c=function(p,v){d.call(this,p),this.scrollTop=0,this.scrollHeight=0,this.parent=p,this.width=this.VScrollWidth,this.renderer=v,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};a.inherits(c,d),function(){this.classSuffix="-v",a.implement(this,f),this.onMouseDown=function(p,v){if(p==="mousedown"&&!(u.getButton(v)!==0||v.detail===2)){if(v.target===this.inner){var m=this,y=v.clientY,w=function(A){y=A.clientY},_=function(){clearInterval(k)},S=v.clientY,C=this.thumbTop,$=function(){if(y!==void 0){var A=m.scrollTopFromThumbTop(C+y-S);A!==m.scrollTop&&m._emit("scroll",{data:A})}};u.capture(this.inner,w,_);var k=setInterval($,20);return u.preventDefault(v)}var M=v.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(M)}),u.preventDefault(v)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(p){var v=p*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return v=v>>0,v<0?v=0:v>this.pageHeight-this.viewHeight&&(v=this.pageHeight-this.viewHeight),v},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(p){this.height=Math.max(0,p),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(p,v){this.pageHeight===p&&!v||(this.pageHeight=p,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function(p){this.scrollTop=p,p<0&&(p=0),this.thumbTop=p*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(c.prototype);var h=function(p,v){d.call(this,p),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=v};a.inherits(h,d),function(){this.classSuffix="-h",a.implement(this,f),this.onMouseDown=function(p,v){if(p==="mousedown"&&!(u.getButton(v)!==0||v.detail===2)){if(v.target===this.inner){var m=this,y=v.clientX,w=function(A){y=A.clientX},_=function(){clearInterval(k)},S=v.clientX,C=this.thumbLeft,$=function(){if(y!==void 0){var A=m.scrollLeftFromThumbLeft(C+y-S);A!==m.scrollLeft&&m._emit("scroll",{data:A})}};u.capture(this.inner,w,_);var k=setInterval($,20);return u.preventDefault(v)}var M=v.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(M)}),u.preventDefault(v)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(p){var v=p*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return v=v>>0,v<0?v=0:v>this.pageWidth-this.viewWidth&&(v=this.pageWidth-this.viewWidth),v},this.setWidth=function(p){this.width=Math.max(0,p),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(p,v){this.pageWidth===p&&!v||(this.pageWidth=p,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function(p){this.scrollLeft=p,p<0&&(p=0),this.thumbLeft=p*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(h.prototype),r.ScrollBar=c,r.ScrollBarV=c,r.ScrollBarH=h,r.VScrollBar=c,r.HScrollBar=h}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,r,i){var a=n("./lib/event"),s=function(u,f){this.onRender=u,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=f||window;var d=this;this._flush=function(c){d.pending=!1;var h=d.changes;if(h&&(a.blockIdle(100),d.changes=0,d.onRender(h)),d.changes){if(d.$recursionLimit--<0)return;d.schedule()}else d.$recursionLimit=2}};(function(){this.schedule=function(u){this.changes=this.changes|u,this.changes&&!this.pending&&(a.nextFrame(this._flush),this.pending=!0)},this.clear=function(u){var f=this.changes;return this.changes=0,f}}).call(s.prototype),r.RenderLoop=s}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,r,i){var a=n("../lib/oop"),s=n("../lib/dom"),u=n("../lib/lang"),f=n("../lib/event"),d=n("../lib/useragent"),c=n("../lib/event_emitter").EventEmitter,h=512,p=typeof ResizeObserver=="function",v=200,m=r.FontMetrics=function(y){this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),y.appendChild(this.el),this.$measureNode.textContent=u.stringRepeat("X",h),this.$characterSize={width:0,height:0},p?this.$addObserver():this.checkForSizeChanges()};(function(){a.implement(this,c),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(y,w){y.width=y.height="auto",y.left=y.top="0px",y.visibility="hidden",y.position="absolute",y.whiteSpace="pre",d.isIE<8?y["font-family"]="inherit":y.font="inherit",y.overflow=w?"hidden":"visible"},this.checkForSizeChanges=function(y){if(y===void 0&&(y=this.$measureSizes()),y&&(this.$characterSize.width!==y.width||this.$characterSize.height!==y.height)){this.$measureNode.style.fontWeight="bold";var w=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=y,this.charSizes=Object.create(null),this.allowBoldFonts=w&&w.width===y.width&&w.height===y.height,this._emit("changeCharacterSize",{data:y})}},this.$addObserver=function(){var y=this;this.$observer=new window.ResizeObserver(function(w){y.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var y=this;return this.$pollSizeChangesTimer=f.onIdle(function w(){y.checkForSizeChanges(),f.onIdle(w,500)},500)},this.setPolling=function(y){y?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(y){var w={height:(y||this.$measureNode).clientHeight,width:(y||this.$measureNode).clientWidth/h};return w.width===0||w.height===0?null:w},this.$measureCharWidth=function(y){this.$main.textContent=u.stringRepeat(y,h);var w=this.$main.getBoundingClientRect();return w.width/h},this.getCharacterWidth=function(y){var w=this.charSizes[y];return w===void 0&&(w=this.charSizes[y]=this.$measureCharWidth(y)/this.$characterSize.width),w},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function y(w){return!w||!w.parentElement?1:(window.getComputedStyle(w).zoom||1)*y(w.parentElement)},this.$initTransformMeasureNodes=function(){var y=function(w,_){return["div",{style:"position: absolute;top:"+w+"px;left:"+_+"px;"}]};this.els=s.buildDom([y(0,0),y(v,0),y(0,v),y(v,v)],this.el)},this.transformCoordinates=function(y,w){if(y){var _=this.$getZoom(this.el);y=k(1/_,y)}function S(oe,ue,ve){var le=oe[1]*ue[0]-oe[0]*ue[1];return[(-ue[1]*ve[0]+ue[0]*ve[1])/le,(+oe[1]*ve[0]-oe[0]*ve[1])/le]}function C(oe,ue){return[oe[0]-ue[0],oe[1]-ue[1]]}function $(oe,ue){return[oe[0]+ue[0],oe[1]+ue[1]]}function k(oe,ue){return[oe*ue[0],oe*ue[1]]}this.els||this.$initTransformMeasureNodes();function M(oe){var ue=oe.getBoundingClientRect();return[ue.left,ue.top]}var A=M(this.els[0]),L=M(this.els[1]),N=M(this.els[2]),R=M(this.els[3]),D=S(C(R,L),C(R,N),C($(L,N),$(R,A))),j=k(1+D[0],C(L,A)),U=k(1+D[1],C(N,A));if(w){var H=w,Y=D[0]*H[0]/v+D[1]*H[1]/v+1,Z=$(k(H[0],j),k(H[1],U));return $(k(1/Y/v,Z),A)}var Q=C(y,A),ee=S(C(j,k(D[0],Q)),C(U,k(D[1],Q)),Q);return k(v,ee)}}).call(m.prototype)}),ace.define("ace/css/editor.css",["require","exports","module"],function(n,r,i){i.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell.ace_error {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-position: 2px center;
}

.ace_gutter-cell.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
    will-change: transform;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
}

.ace_tooltip:focus {
    outline: 1px solid black;
}

.ace_folding-enabled > .ace_gutter-cell {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
    white-space: pre;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,r,i){var a=n("../lib/dom"),s=n("../lib/oop"),u=n("../lib/event_emitter").EventEmitter,f=function(d,c){this.canvas=a.createElement("canvas"),this.renderer=c,this.pixelRatio=1,this.maxHeight=c.layerConfig.maxHeight,this.lineHeight=c.layerConfig.lineHeight,this.canvasHeight=d.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=d.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},d.element.appendChild(this.canvas)};(function(){s.implement(this,u),this.$updateDecorators=function(d){var c=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(d){this.maxHeight=d.maxHeight,this.lineHeight=d.lineHeight,this.canvasHeight=d.height;var h=(d.lastRow+1)*this.lineHeight;h<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var p=this.canvas.getContext("2d");function v(R,D){return R.priority<D.priority?-1:R.priority>D.priority?1:0}var m=this.renderer.session.$annotations;if(p.clearRect(0,0,this.canvas.width,this.canvas.height),m){var y={info:1,warning:2,error:3};m.forEach(function(R){R.priority=y[R.type]||null}),m=m.sort(v);for(var w=this.renderer.session.$foldData,_=0;_<m.length;_++){var S=m[_].row,C=this.compensateFoldRows(S,w),$=Math.round((S-C)*this.lineHeight*this.heightRatio),k=Math.round((S-C)*this.lineHeight*this.heightRatio),M=Math.round(((S-C)*this.lineHeight+this.lineHeight)*this.heightRatio),A=M-k;if(A<this.minDecorationHeight){var L=(k+M)/2|0;L<this.halfMinDecorationHeight?L=this.halfMinDecorationHeight:L+this.halfMinDecorationHeight>this.canvasHeight&&(L=this.canvasHeight-this.halfMinDecorationHeight),k=Math.round(L-this.halfMinDecorationHeight),M=Math.round(L+this.halfMinDecorationHeight)}p.fillStyle=c[m[_].type]||null,p.fillRect(0,$,this.canvasWidth,M-k)}}var N=this.renderer.session.selection.getCursor();if(N){var C=this.compensateFoldRows(N.row,w),$=Math.round((N.row-C)*this.lineHeight*this.heightRatio);p.fillStyle="rgba(0, 0, 0, 0.5)",p.fillRect(0,$,this.canvasWidth,2)}},this.compensateFoldRows=function(d,c){var h=0;if(c&&c.length>0)for(var p=0;p<c.length;p++)d>c[p].start.row&&d<c[p].end.row?h+=d-c[p].start.row:d>=c[p].end.row&&(h+=c[p].end.row-c[p].start.row);return h}}).call(f.prototype),r.Decorator=f}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],function(n,r,i){var a=n("./lib/oop"),s=n("./lib/dom"),u=n("./config"),f=n("./layer/gutter").Gutter,d=n("./layer/marker").Marker,c=n("./layer/text").Text,h=n("./layer/cursor").Cursor,p=n("./scrollbar").HScrollBar,v=n("./scrollbar").VScrollBar,m=n("./scrollbar_custom").HScrollBar,y=n("./scrollbar_custom").VScrollBar,w=n("./renderloop").RenderLoop,_=n("./layer/font_metrics").FontMetrics,S=n("./lib/event_emitter").EventEmitter,C=n("./css/editor.css"),$=n("./layer/decorators").Decorator,k=n("./lib/useragent"),M=k.isIE;s.importCssString(C,"ace_editor.css",!1);var A=function(L,N){var R=this;this.container=L||s.createElement("div"),s.addCssClass(this.container,"ace_editor"),s.HI_DPI&&s.addCssClass(this.container,"ace_hidpi"),this.setTheme(N),u.get("useStrictCSP")==null&&u.set("useStrictCSP",!1),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new f(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new d(this.content);var D=this.$textLayer=new c(this.content);this.canvas=D.element,this.$markerFront=new d(this.content),this.$cursorLayer=new h(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new v(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.on("scroll",function(j){R.$scrollAnimation||R.session.setScrollTop(j.data-R.scrollMargin.top)}),this.scrollBarH.on("scroll",function(j){R.$scrollAnimation||R.session.setScrollLeft(j.data-R.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new _(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(j){R.updateCharacterSize(),R.onResize(!0,R.gutterWidth,R.$size.width,R.$size.height),R._signal("changeCharacterSize",j)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!k.isIOS,this.$loop=new w(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),u.resetOptions(this),u._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,a.implement(this,S),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),s.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(L){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=L,L&&this.scrollMargin.top&&L.getScrollTop()<=0&&L.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(L),this.$markerBack.setSession(L),this.$markerFront.setSession(L),this.$gutterLayer.setSession(L),this.$textLayer.setSession(L),L&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(L,N,R){if(N===void 0&&(N=1/0),this.$changedLines?(this.$changedLines.firstRow>L&&(this.$changedLines.firstRow=L),this.$changedLines.lastRow<N&&(this.$changedLines.lastRow=N)):this.$changedLines={firstRow:L,lastRow:N},this.$changedLines.lastRow<this.layerConfig.firstRow)if(R)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(L){L?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(L,N,R,D){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=L?1:0;var j=this.container;D||(D=j.clientHeight||j.scrollHeight),R||(R=j.clientWidth||j.scrollWidth);var U=this.$updateCachedSize(L,N,R,D);if(!this.$size.scrollerHeight||!R&&!D)return this.resizing=0;L&&(this.$gutterLayer.$padding=null),L?this.$renderChanges(U|this.$changes,!0):this.$loop.schedule(U|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(L,N,R,D){D-=this.$extraHeight||0;var j=0,U=this.$size,H={width:U.width,height:U.height,scrollerHeight:U.scrollerHeight,scrollerWidth:U.scrollerWidth};if(D&&(L||U.height!=D)&&(U.height=D,j|=this.CHANGE_SIZE,U.scrollerHeight=U.height,this.$horizScroll&&(U.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(U.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",j=j|this.CHANGE_SCROLL),R&&(L||U.width!=R)){j|=this.CHANGE_SIZE,U.width=R,N==null&&(N=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=N,s.setStyle(this.scrollBarH.element.style,"left",N+"px"),s.setStyle(this.scroller.style,"left",N+this.margin.left+"px"),U.scrollerWidth=Math.max(0,R-N-this.scrollBarV.getWidth()-this.margin.h),s.setStyle(this.$gutter.style,"left",this.margin.left+"px");var Y=this.scrollBarV.getWidth()+"px";s.setStyle(this.scrollBarH.element.style,"right",Y),s.setStyle(this.scroller.style,"right",Y),s.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(U.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||L)&&(j|=this.CHANGE_FULL)}return U.$dirty=!R||!D,j&&this._signal("resize",H),j},this.onGutterResize=function(L){var N=this.$showGutter?L:0;N!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,N,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var L=this.$size.scrollerWidth-this.$padding*2,N=Math.floor(L/this.characterWidth);return this.session.adjustWrapLimit(N,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(L){this.setOption("animatedScroll",L)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(L){this.setOption("showInvisibles",L),this.session.$bidiHandler.setShowInvisibles(L)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(L){this.setOption("displayIndentGuides",L)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(L){this.setOption("highlightIndentGuides",L)},this.setShowPrintMargin=function(L){this.setOption("showPrintMargin",L)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(L){this.setOption("printMarginColumn",L)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(L){return this.setOption("showGutter",L)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(L){this.setOption("fadeFoldWidgets",L)},this.setHighlightGutterLine=function(L){this.setOption("highlightGutterLine",L)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var L=s.createElement("div");L.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",L.appendChild(this.$printMarginEl),this.content.insertBefore(L,this.content.firstChild)}var N=this.$printMarginEl.style;N.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",N.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var L=this.textarea.style,N=this.$composition;if(!this.$keepTextAreaAtCursor&&!N){s.translate(this.textarea,-100,0);return}var R=this.$cursorLayer.$pixelPos;if(R){N&&N.markerRange&&(R=this.$cursorLayer.getPixelPosition(N.markerRange.start,!0));var D=this.layerConfig,j=R.top,U=R.left;j-=D.offset;var H=N&&N.useTextareaForIME?this.lineHeight:M?0:1;if(j<0||j>D.height-H){s.translate(this.textarea,0,0);return}var Y=1,Z=this.$size.height-H;if(!N)j+=this.lineHeight;else if(N.useTextareaForIME){var Q=this.textarea.value;Y=this.characterWidth*this.session.$getStringScreenWidth(Q)[0]}else j+=this.lineHeight+2;U-=this.scrollLeft,U>this.$size.scrollerWidth-Y&&(U=this.$size.scrollerWidth-Y),U+=this.gutterWidth+this.margin.left,s.setStyle(L,"height",H+"px"),s.setStyle(L,"width",Y+"px"),s.translate(this.textarea,Math.min(U,this.$size.scrollerWidth-Y),Math.min(j,Z))}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var L=this.layerConfig,N=L.lastRow,R=this.session.documentToScreenRow(N,0)*L.lineHeight;return R-this.session.getScrollTop()>L.height-L.lineHeight?N-1:N},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(L){this.$padding=L,this.$textLayer.setPadding(L),this.$cursorLayer.setPadding(L),this.$markerFront.setPadding(L),this.$markerBack.setPadding(L),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(L,N,R,D){var j=this.scrollMargin;j.top=L|0,j.bottom=N|0,j.right=D|0,j.left=R|0,j.v=j.top+j.bottom,j.h=j.left+j.right,j.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-j.top),this.updateFull()},this.setMargin=function(L,N,R,D){var j=this.margin;j.top=L|0,j.bottom=N|0,j.right=D|0,j.left=R|0,j.v=j.top+j.bottom,j.h=j.left+j.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(L){this.setOption("hScrollBarAlwaysVisible",L)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(L){this.setOption("vScrollBarAlwaysVisible",L)},this.$updateScrollBarV=function(){var L=this.layerConfig.maxHeight,N=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(L-=(N-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>L-N&&(L=this.scrollTop+N,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(L+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(L,N){if(this.$changes&&(L|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!L&&!N){this.$changes|=L;return}if(this.$size.$dirty)return this.$changes|=L,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",L),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var R=this.layerConfig;if(L&this.CHANGE_FULL||L&this.CHANGE_SIZE||L&this.CHANGE_TEXT||L&this.CHANGE_LINES||L&this.CHANGE_SCROLL||L&this.CHANGE_H_SCROLL){if(L|=this.$computeLayerConfig()|this.$loop.clear(),R.firstRow!=this.layerConfig.firstRow&&R.firstRowScreen==this.layerConfig.firstRowScreen){var D=this.scrollTop+(R.firstRow-this.layerConfig.firstRow)*this.lineHeight;D>0&&(this.scrollTop=D,L=L|this.CHANGE_SCROLL,L|=this.$computeLayerConfig()|this.$loop.clear())}R=this.layerConfig,this.$updateScrollBarV(),L&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),s.translate(this.content,-this.scrollLeft,-R.offset);var j=R.width+2*this.$padding+"px",U=R.minHeight+"px";s.setStyle(this.content.style,"width",j),s.setStyle(this.content.style,"height",U)}if(L&this.CHANGE_H_SCROLL&&(s.translate(this.content,-this.scrollLeft,-R.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),L&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(R),this.$showGutter&&this.$gutterLayer.update(R),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R),this.$markerBack.update(R),this.$markerFront.update(R),this.$cursorLayer.update(R),this.$moveTextAreaToCursor(),this._signal("afterRender",L);return}if(L&this.CHANGE_SCROLL){this.$changedLines=null,L&this.CHANGE_TEXT||L&this.CHANGE_LINES?this.$textLayer.update(R):this.$textLayer.scrollLines(R),this.$showGutter&&(L&this.CHANGE_GUTTER||L&this.CHANGE_LINES?this.$gutterLayer.update(R):this.$gutterLayer.scrollLines(R)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R),this.$markerBack.update(R),this.$markerFront.update(R),this.$cursorLayer.update(R),this.$moveTextAreaToCursor(),this._signal("afterRender",L);return}L&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(R),this.$showGutter&&this.$gutterLayer.update(R),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R)):L&this.CHANGE_LINES?((this.$updateLines()||L&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(R),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R)):L&this.CHANGE_TEXT||L&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(R),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R)):L&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(R),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(R)),L&this.CHANGE_CURSOR&&(this.$cursorLayer.update(R),this.$moveTextAreaToCursor()),L&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(R),L&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(R),this._signal("afterRender",L)},this.$autosize=function(){var L=this.session.getScreenLength()*this.lineHeight,N=this.$maxLines*this.lineHeight,R=Math.min(N,Math.max((this.$minLines||1)*this.lineHeight,L))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(R+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&R>this.$maxPixelHeight&&(R=this.$maxPixelHeight);var D=R<=2*this.lineHeight,j=!D&&L>N;if(R!=this.desiredHeight||this.$size.height!=this.desiredHeight||j!=this.$vScroll){j!=this.$vScroll&&(this.$vScroll=j,this.scrollBarV.setVisible(j));var U=this.container.clientWidth;this.container.style.height=R+"px",this.$updateCachedSize(!0,this.$gutterWidth,U,R),this.desiredHeight=R,this._signal("autosize")}},this.$computeLayerConfig=function(){var L=this.session,N=this.$size,R=N.height<=2*this.lineHeight,D=this.session.getScreenLength(),j=D*this.lineHeight,U=this.$getLongestLine(),H=!R&&(this.$hScrollBarAlwaysVisible||N.scrollerWidth-U-2*this.$padding<0),Y=this.$horizScroll!==H;Y&&(this.$horizScroll=H,this.scrollBarH.setVisible(H));var Z=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var Q=N.scrollerHeight+this.lineHeight,ee=!this.$maxLines&&this.$scrollPastEnd?(N.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;j+=ee;var oe=this.scrollMargin;this.session.setScrollTop(Math.max(-oe.top,Math.min(this.scrollTop,j-N.scrollerHeight+oe.bottom))),this.session.setScrollLeft(Math.max(-oe.left,Math.min(this.scrollLeft,U+2*this.$padding-N.scrollerWidth+oe.right)));var ue=!R&&(this.$vScrollBarAlwaysVisible||N.scrollerHeight-j+ee<0||this.scrollTop>oe.top),ve=Z!==ue;ve&&(this.$vScroll=ue,this.scrollBarV.setVisible(ue));var le=this.scrollTop%this.lineHeight,de=Math.ceil(Q/this.lineHeight)-1,me=Math.max(0,Math.round((this.scrollTop-le)/this.lineHeight)),Se=me+de,Ee,xe,Ie=this.lineHeight;me=L.screenToDocumentRow(me,0);var Ne=L.getFoldLine(me);Ne&&(me=Ne.start.row),Ee=L.documentToScreenRow(me,0),xe=L.getRowLength(me)*Ie,Se=Math.min(L.screenToDocumentRow(Se,0),L.getLength()-1),Q=N.scrollerHeight+L.getRowLength(Se)*Ie+xe,le=this.scrollTop-Ee*Ie;var We=0;return(this.layerConfig.width!=U||Y)&&(We=this.CHANGE_H_SCROLL),(Y||ve)&&(We|=this.$updateCachedSize(!0,this.gutterWidth,N.width,N.height),this._signal("scrollbarVisibilityChanged"),ve&&(U=this.$getLongestLine())),this.layerConfig={width:U,padding:this.$padding,firstRow:me,firstRowScreen:Ee,lastRow:Se,lineHeight:Ie,characterWidth:this.characterWidth,minHeight:Q,maxHeight:j,offset:le,gutterOffset:Ie?Math.max(0,Math.ceil((le+N.height-N.scrollerHeight)/Ie)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(U-this.$padding),We},this.$updateLines=function(){if(this.$changedLines){var L=this.$changedLines.firstRow,N=this.$changedLines.lastRow;this.$changedLines=null;var R=this.layerConfig;if(!(L>R.lastRow+1)&&!(N<R.firstRow)){if(N===1/0){this.$showGutter&&this.$gutterLayer.update(R),this.$textLayer.update(R);return}return this.$textLayer.updateLines(R,L,N),!0}}},this.$getLongestLine=function(){var L=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(L+=1),this.$textLayer&&L>this.$textLayer.MAX_LINE_LENGTH&&(L=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(L*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(L,N){this.$gutterLayer.addGutterDecoration(L,N)},this.removeGutterDecoration=function(L,N){this.$gutterLayer.removeGutterDecoration(L,N)},this.updateBreakpoints=function(L){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(L){this.$gutterLayer.setAnnotations(L),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(L,N,R){this.scrollCursorIntoView(L,R),this.scrollCursorIntoView(N,R)},this.scrollCursorIntoView=function(L,N,R){if(this.$size.scrollerHeight!==0){var D=this.$cursorLayer.getPixelPosition(L),j=D.left,U=D.top,H=R&&R.top||0,Y=R&&R.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var Z=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;Z+H>U?(N&&Z+H>U+this.lineHeight&&(U-=N*this.$size.scrollerHeight),U===0&&(U=-this.scrollMargin.top),this.session.setScrollTop(U)):Z+this.$size.scrollerHeight-Y<U+this.lineHeight&&(N&&Z+this.$size.scrollerHeight-Y<U-this.lineHeight&&(U+=N*this.$size.scrollerHeight),this.session.setScrollTop(U+this.lineHeight+Y-this.$size.scrollerHeight));var Q=this.scrollLeft,ee=2*this.layerConfig.characterWidth;j-ee<Q?(j-=ee,j<this.$padding+ee&&(j=-this.scrollMargin.left),this.session.setScrollLeft(j)):(j+=ee,Q+this.$size.scrollerWidth<j+this.characterWidth?this.session.setScrollLeft(Math.round(j+this.characterWidth-this.$size.scrollerWidth)):Q<=this.$padding&&j-Q<this.characterWidth&&this.session.setScrollLeft(0))}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(L){this.session.setScrollTop(L*this.lineHeight)},this.alignCursor=function(L,N){typeof L=="number"&&(L={row:L,column:0});var R=this.$cursorLayer.getPixelPosition(L),D=this.$size.scrollerHeight-this.lineHeight,j=R.top-D*(N||0);return this.session.setScrollTop(j),j},this.STEPS=8,this.$calcSteps=function(L,N){var R=0,D=this.STEPS,j=[],U=function(H,Y,Z){return Z*(Math.pow(H-1,3)+1)+Y};for(R=0;R<D;++R)j.push(U(R/this.STEPS,L,N-L));return j},this.scrollToLine=function(L,N,R,D){var j=this.$cursorLayer.getPixelPosition({row:L,column:0}),U=j.top;N&&(U-=this.$size.scrollerHeight/2);var H=this.scrollTop;this.session.setScrollTop(U),R!==!1&&this.animateScrolling(H,D)},this.animateScrolling=function(L,N){var R=this.scrollTop;if(!this.$animatedScroll)return;var D=this;if(L==R)return;if(this.$scrollAnimation){var j=this.$scrollAnimation.steps;if(j.length&&(L=j[0],L==R))return}var U=D.$calcSteps(L,R);this.$scrollAnimation={from:L,to:R,steps:U},clearInterval(this.$timer),D.session.setScrollTop(U.shift()),D.session.$scrollTop=R;function H(){D.$timer=clearInterval(D.$timer),D.$scrollAnimation=null,D.$stopAnimation=!1,N&&N()}this.$timer=setInterval(function(){if(D.$stopAnimation){H();return}if(!D.session)return clearInterval(D.$timer);U.length?(D.session.setScrollTop(U.shift()),D.session.$scrollTop=R):R!=null?(D.session.$scrollTop=-1,D.session.setScrollTop(R),R=null):H()},10)},this.scrollToY=function(L){this.scrollTop!==L&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=L)},this.scrollToX=function(L){this.scrollLeft!==L&&(this.scrollLeft=L),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(L,N){this.session.setScrollTop(N),this.session.setScrollLeft(L)},this.scrollBy=function(L,N){N&&this.session.setScrollTop(this.session.getScrollTop()+N),L&&this.session.setScrollLeft(this.session.getScrollLeft()+L)},this.isScrollableBy=function(L,N){if(N<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||N>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||L<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||L>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(L,N){var R;if(this.$hasCssTransforms){R={top:0,left:0};var D=this.$fontMetrics.transformCoordinates([L,N]);L=D[1]-this.gutterWidth-this.margin.left,N=D[0]}else R=this.scroller.getBoundingClientRect();var j=L+this.scrollLeft-R.left-this.$padding,U=j/this.characterWidth,H=Math.floor((N+this.scrollTop-R.top)/this.lineHeight),Y=this.$blockCursor?Math.floor(U):Math.round(U);return{row:H,column:Y,side:U-Y>0?1:-1,offsetX:j}},this.screenToTextCoordinates=function(L,N){var R;if(this.$hasCssTransforms){R={top:0,left:0};var D=this.$fontMetrics.transformCoordinates([L,N]);L=D[1]-this.gutterWidth-this.margin.left,N=D[0]}else R=this.scroller.getBoundingClientRect();var j=L+this.scrollLeft-R.left-this.$padding,U=j/this.characterWidth,H=this.$blockCursor?Math.floor(U):Math.round(U),Y=Math.floor((N+this.scrollTop-R.top)/this.lineHeight);return this.session.screenToDocumentPosition(Y,Math.max(H,0),j)},this.textToScreenCoordinates=function(L,N){var R=this.scroller.getBoundingClientRect(),D=this.session.documentToScreenPosition(L,N),j=this.$padding+(this.session.$bidiHandler.isBidiRow(D.row,L)?this.session.$bidiHandler.getPosLeft(D.column):Math.round(D.column*this.characterWidth)),U=D.row*this.lineHeight;return{pageX:R.left+j-this.scrollLeft,pageY:R.top+U-this.scrollTop}},this.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},this.showComposition=function(L){this.$composition=L,L.cssText||(L.cssText=this.textarea.style.cssText),L.useTextareaForIME==null&&(L.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):L.markerId=this.session.addMarker(L.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(L){var N=this.session.selection.cursor;this.addToken(L,"composition_placeholder",N.row,N.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),s.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var L=this.session.selection.cursor;this.removeExtraToken(L.row,L.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.setGhostText=function(L,N){var R=this.session.selection.cursor,D=N||{row:R.row,column:R.column};this.removeGhostText();var j=L.split(`
`);this.addToken(j[0],"ghost_text",D.row,D.column),this.$ghostText={text:L,position:{row:D.row,column:D.column}},j.length>1&&(this.$ghostTextWidget={text:j.slice(1).join(`
`),row:D.row,column:D.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget))},this.removeGhostText=function(){if(this.$ghostText){var L=this.$ghostText.position;this.removeExtraToken(L.row,L.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},this.addToken=function(L,N,R,D){var j=this.session;j.bgTokenizer.lines[R]=null;var U={type:N,value:L},H=j.getTokens(R);if(D==null||!H.length)H.push(U);else for(var Y=0,Z=0;Z<H.length;Z++){var Q=H[Z];if(Y+=Q.value.length,D<=Y){var ee=Q.value.length-(Y-D),oe=Q.value.slice(0,ee),ue=Q.value.slice(ee);H.splice(Z,1,{type:Q.type,value:oe},U,{type:Q.type,value:ue});break}}this.updateLines(R,R)},this.removeExtraToken=function(L,N){this.session.bgTokenizer.lines[L]=null,this.updateLines(L,L)},this.setTheme=function(L,N){var R=this;if(this.$themeId=L,R._dispatchEvent("themeChange",{theme:L}),!L||typeof L=="string"){var D=L||this.$options.theme.initialValue;u.loadModule(["theme",D],j)}else j(L);function j(U){if(R.$themeId!=L)return N&&N();if(!U||!U.cssClass)throw new Error("couldn't load module "+L+" or it didn't call define");U.$id&&(R.$themeId=U.$id),s.importCssString(U.cssText,U.cssClass,R.container),R.theme&&s.removeCssClass(R.container,R.theme.cssClass);var H="padding"in U?U.padding:"padding"in(R.theme||{})?4:R.$padding;R.$padding&&H!=R.$padding&&R.setPadding(H),R.$theme=U.cssClass,R.theme=U,s.addCssClass(R.container,U.cssClass),s.setCssClass(R.container,"ace_dark",U.isDark),R.$size&&(R.$size.width=0,R.$updateSizeAsync()),R._dispatchEvent("themeLoaded",{theme:U}),N&&N()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(L,N){s.setCssClass(this.container,L,N!==!1)},this.unsetStyle=function(L){s.removeCssClass(this.container,L)},this.setCursorStyle=function(L){s.setStyle(this.scroller.style,"cursor",L)},this.setMouseCursor=function(L){s.setStyle(this.scroller.style,"cursor",L)},this.attachToShadowRoot=function(){s.importCssString(C,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(L){var N=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,L===!0?(this.scrollBarV=new y(this.container,this),this.scrollBarH=new m(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(R){N.$scrollAnimation||N.session.setScrollTop(R.data-N.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(R){N.$scrollAnimation||N.session.setScrollLeft(R.data-N.scrollMargin.left)}),this.$scrollDecorator=new $(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new v(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.addEventListener("scroll",function(R){N.$scrollAnimation||N.session.setScrollTop(R.data-N.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(R){N.$scrollAnimation||N.session.setScrollLeft(R.data-N.scrollMargin.left)}))}}).call(A.prototype),u.defineOptions(A.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(L){this.$textLayer.setShowInvisibles(L)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(L){typeof L=="number"&&(this.$printMarginColumn=L),this.$showPrintMargin=!!L,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(L){this.$gutter.style.display=L?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(L){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",L)},initialValue:!1},showFoldWidgets:{set:function(L){this.$gutterLayer.setShowFoldWidgets(L),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(L){this.$textLayer.setDisplayIndentGuides(L)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(L){this.$textLayer.setHighlightIndentGuides(L)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(L){this.$gutterLayer.setHighlightGutterLine(L),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(L){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(L){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(L){typeof L=="number"&&(L=L+"px"),this.container.style.fontSize=L,this.updateFontSize()},initialValue:12},fontFamily:{set:function(L){this.container.style.fontFamily=L,this.updateFontSize()}},maxLines:{set:function(L){this.updateFull()}},minLines:{set:function(L){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(L){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(L){L=+L||0,this.$scrollPastEnd!=L&&(this.$scrollPastEnd=L,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(L){this.$gutterLayer.$fixedWidth=!!L,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(L){this.$updateCustomScrollbar(L)},initialValue:!1},theme:{set:function(L){this.setTheme(L)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!k.isMobile&&!k.isIE}}),r.VirtualRenderer=A}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,r,i){var a=n("../lib/oop"),s=n("../lib/net"),u=n("../lib/event_emitter").EventEmitter,f=n("../config");function d(v){var m="importScripts('"+s.qualifyURL(v)+"');";try{return new Blob([m],{type:"application/javascript"})}catch{var y=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,w=new y;return w.append(m),w.getBlob("application/javascript")}}function c(v){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(f.get("loadWorkerFromBlob")){var m=d(v),y=window.URL||window.webkitURL,w=y.createObjectURL(m);return new Worker(w)}return new Worker(v)}var h=function(v){v.postMessage||(v=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=v,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){a.implement(this,u),this.$createWorkerFromOldConfig=function(v,m,y,w,_){if(n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),f.get("packaged")||!n.toUrl)w=w||f.moduleUrl(m,"worker");else{var S=this.$normalizePath;w=w||S(n.toUrl("ace/worker/worker.js",null,"_"));var C={};v.forEach(function($){C[$]=S(n.toUrl($,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=c(w),_&&this.send("importScripts",_),this.$worker.postMessage({init:!0,tlns:C,module:m,classname:y}),this.$worker},this.onMessage=function(v){var m=v.data;switch(m.type){case"event":this._signal(m.name,{data:m.data});break;case"call":var y=this.callbacks[m.id];y&&(y(m.data),delete this.callbacks[m.id]);break;case"error":this.reportError(m.data);break;case"log":window.console&&console.log&&console.log.apply(console,m.data);break}},this.reportError=function(v){window.console&&console.error&&console.error(v)},this.$normalizePath=function(v){return s.qualifyURL(v)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(v,m){this.$worker.postMessage({command:v,args:m})},this.call=function(v,m,y){if(y){var w=this.callbackId++;this.callbacks[w]=y,m.push(w)}this.send(v,m)},this.emit=function(v,m){try{m.data&&m.data.err&&(m.data.err={message:m.data.err.message,stack:m.data.err.stack,code:m.data.err.code}),this.$worker&&this.$worker.postMessage({event:v,data:{data:m.data}})}catch(y){console.error(y.stack)}},this.attachToDocument=function(v){this.$doc&&this.terminate(),this.$doc=v,this.call("setValue",[v.getValue()]),v.on("change",this.changeListener,!0)},this.changeListener=function(v){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),v.action=="insert"?this.deltaQueue.push(v.start,v.lines):this.deltaQueue.push(v.start,v.end)},this.$sendDeltaQueue=function(){var v=this.deltaQueue;v&&(this.deltaQueue=null,v.length>50&&v.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:v}))}}).call(h.prototype);var p=function(v,m,y){var w=null,_=!1,S=Object.create(u),C=[],$=new h({messageBuffer:C,terminate:function(){},postMessage:function(M){C.push(M),w&&(_?setTimeout(k):k())}});$.setEmitSync=function(M){_=M};var k=function(){var M=C.shift();M.command?w[M.command].apply(w,M.args):M.event&&S._signal(M.event,M.data)};return S.postMessage=function(M){$.onMessage({data:M})},S.callback=function(M,A){this.postMessage({type:"call",id:A,data:M})},S.emit=function(M,A){this.postMessage({type:"event",name:M,data:A})},f.loadModule(["worker",m],function(M){for(w=new M[y](S);C.length;)k()}),$};r.UIWorkerClient=p,r.WorkerClient=h,r.createWorker=c}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,r,i){var a=n("./range").Range,s=n("./lib/event_emitter").EventEmitter,u=n("./lib/oop"),f=function(d,c,h,p,v,m){var y=this;this.length=c,this.session=d,this.doc=d.getDocument(),this.mainClass=v,this.othersClass=m,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=p,this.$onCursorChange=function(){setTimeout(function(){y.onCursorChange()})},this.$pos=h;var w=d.getUndoManager().$undoStack||d.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=w.length,this.setup(),d.selection.on("changeCursor",this.$onCursorChange)};(function(){u.implement(this,s),this.setup=function(){var d=this,c=this.doc,h=this.session;this.selectionBefore=h.selection.toJSON(),h.selection.inMultiSelectMode&&h.selection.toSingleRange(),this.pos=c.createAnchor(this.$pos.row,this.$pos.column);var p=this.pos;p.$insertRight=!0,p.detach(),p.markerId=h.addMarker(new a(p.row,p.column,p.row,p.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(v){var m=c.createAnchor(v.row,v.column);m.$insertRight=!0,m.detach(),d.others.push(m)}),h.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var d=this.session,c=this;this.othersActive=!0,this.others.forEach(function(h){h.markerId=d.addMarker(new a(h.row,h.column,h.row,h.column+c.length),c.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var d=0;d<this.others.length;d++)this.session.removeMarker(this.others[d].markerId)}},this.onUpdate=function(d){if(this.$updating)return this.updateAnchors(d);var c=d;if(c.start.row===c.end.row&&c.start.row===this.pos.row){this.$updating=!0;var h=d.action==="insert"?c.end.column-c.start.column:c.start.column-c.end.column,p=c.start.column>=this.pos.column&&c.start.column<=this.pos.column+this.length+1,v=c.start.column-this.pos.column;if(this.updateAnchors(d),p&&(this.length+=h),p&&!this.session.$fromUndo){if(d.action==="insert")for(var m=this.others.length-1;m>=0;m--){var y=this.others[m],w={row:y.row,column:y.column+v};this.doc.insertMergedLines(w,d.lines)}else if(d.action==="remove")for(var m=this.others.length-1;m>=0;m--){var y=this.others[m],w={row:y.row,column:y.column+v};this.doc.remove(new a(w.row,w.column,w.row,w.column-h))}}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(d){this.pos.onChange(d);for(var c=this.others.length;c--;)this.others[c].onChange(d);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var d=this,c=this.session,h=function(v,m){c.removeMarker(v.markerId),v.markerId=c.addMarker(new a(v.row,v.column,v.row,v.column+d.length),m,null,!1)};h(this.pos,this.mainClass);for(var p=this.others.length;p--;)h(this.others[p],this.othersClass)}},this.onCursorChange=function(d){if(!(this.$updating||!this.session)){var c=this.session.selection.getCursor();c.row===this.pos.row&&c.column>=this.pos.column&&c.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",d)):(this.hideOtherMarkers(),this._emit("cursorLeave",d))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(this.$undoStackDepth!==-1){for(var d=this.session.getUndoManager(),c=(d.$undoStack||d.$undostack).length-this.$undoStackDepth,h=0;h<c;h++)d.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(f.prototype),r.PlaceHolder=f}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,r,i){var a=n("../lib/event"),s=n("../lib/useragent");function u(d,c){return d.row==c.row&&d.column==c.column}function f(d){var c=d.domEvent,h=c.altKey,p=c.shiftKey,v=c.ctrlKey,m=d.getAccelKey(),y=d.getButton();if(v&&s.isMac&&(y=c.button),d.editor.inMultiSelectMode&&y==2){d.editor.textInput.onContextMenu(d.domEvent);return}if(!v&&!h&&!m){y===0&&d.editor.inMultiSelectMode&&d.editor.exitMultiSelectMode();return}if(y===0){var w=d.editor,_=w.selection,S=w.inMultiSelectMode,C=d.getDocumentPosition(),$=_.getCursor(),k=d.inSelection()||_.isEmpty()&&u(C,$),M=d.x,A=d.y,L=function(ve){M=ve.clientX,A=ve.clientY},N=w.session,R=w.renderer.pixelToScreenCoordinates(M,A),D=R,j;if(w.$mouseHandler.$enableJumpToDef)v&&h||m&&h?j=p?"block":"add":h&&w.$blockSelectEnabled&&(j="block");else if(m&&!h){if(j="add",!S&&p)return}else h&&w.$blockSelectEnabled&&(j="block");if(j&&s.isMac&&c.ctrlKey&&w.$mouseHandler.cancelContextMenu(),j=="add"){if(!S&&k)return;if(!S){var U=_.toOrientedRange();w.addSelectionMarker(U)}var H=_.rangeList.rangeAtPoint(C);w.inVirtualSelectionMode=!0,p&&(H=null,U=_.ranges[0]||U,w.removeSelectionMarker(U)),w.once("mouseup",function(){var ve=_.toOrientedRange();H&&ve.isEmpty()&&u(H.cursor,ve.cursor)?_.substractPoint(ve.cursor):(p?_.substractPoint(U.cursor):U&&(w.removeSelectionMarker(U),_.addRange(U)),_.addRange(ve)),w.inVirtualSelectionMode=!1})}else if(j=="block"){d.stop(),w.inVirtualSelectionMode=!0;var Y,Z=[],Q=function(){var ve=w.renderer.pixelToScreenCoordinates(M,A),le=N.screenToDocumentPosition(ve.row,ve.column,ve.offsetX);u(D,ve)&&u(le,_.lead)||(D=ve,w.selection.moveToPosition(le),w.renderer.scrollCursorIntoView(),w.removeSelectionMarkers(Z),Z=_.rectangularRangeBlock(D,R),w.$mouseHandler.$clickSelection&&Z.length==1&&Z[0].isEmpty()&&(Z[0]=w.$mouseHandler.$clickSelection.clone()),Z.forEach(w.addSelectionMarker,w),w.updateSelectionMarkers())};S&&!m?_.toSingleRange():!S&&m&&(Y=_.toOrientedRange(),w.addSelectionMarker(Y)),p?R=N.documentToScreenPosition(_.lead):_.moveToPosition(C),D={row:-1,column:-1};var ee=function(ve){Q(),clearInterval(ue),w.removeSelectionMarkers(Z),Z.length||(Z=[_.toOrientedRange()]),Y&&(w.removeSelectionMarker(Y),_.toSingleRange(Y));for(var le=0;le<Z.length;le++)_.addRange(Z[le]);w.inVirtualSelectionMode=!1,w.$mouseHandler.$clickSelection=null},oe=Q;a.capture(w.container,L,ee);var ue=setInterval(function(){oe()},20);return d.preventDefault()}}}r.onMouseDown=f}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,r,i){r.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(s){s.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(s){s.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(s){s.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(s){s.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(s){s.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(s){s.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(s){s.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(s){s.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(s){s.multiSelect.rangeCount>1?s.multiSelect.joinSelections():s.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(s){s.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(s){s.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(s){s.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],r.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(s){s.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(s){return s&&s.inMultiSelectMode}}];var a=n("../keyboard/hash_handler").HashHandler;r.keyboardHandler=new a(r.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,r,i){var a=n("./range_list").RangeList,s=n("./range").Range,u=n("./selection").Selection,f=n("./mouse/multi_select_handler").onMouseDown,d=n("./lib/event"),c=n("./lib/lang"),h=n("./commands/multi_select_commands");r.commands=h.defaultCommands.concat(h.multiSelectCommands);var p=n("./search").Search,v=new p;function m($,k,M){return v.$options.wrap=!0,v.$options.needle=k,v.$options.backwards=M==-1,v.find($)}var y=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(y.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function($,k){if($){if(!this.inMultiSelectMode&&this.rangeCount===0){var M=this.toOrientedRange();if(this.rangeList.add(M),this.rangeList.add($),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),k||this.fromOrientedRange($);this.rangeList.removeAll(),this.rangeList.add(M),this.$onAddRange(M)}$.cursor||($.cursor=$.end);var A=this.rangeList.add($);return this.$onAddRange($),A.length&&this.$onRemoveRange(A),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),k||this.fromOrientedRange($)}},this.toSingleRange=function($){$=$||this.ranges[0];var k=this.rangeList.removeAll();k.length&&this.$onRemoveRange(k),$&&this.fromOrientedRange($)},this.substractPoint=function($){var k=this.rangeList.substractPoint($);if(k)return this.$onRemoveRange(k),k[0]},this.mergeOverlappingRanges=function(){var $=this.rangeList.merge();$.length&&this.$onRemoveRange($)},this.$onAddRange=function($){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift($),this._signal("addRange",{range:$})},this.$onRemoveRange=function($){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var k=this.rangeList.ranges.pop();$.push(k),this.rangeCount=0}for(var M=$.length;M--;){var A=this.ranges.indexOf($[M]);this.ranges.splice(A,1)}this._signal("removeRange",{ranges:$}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),k=k||this.ranges[0],k&&!k.isEqual(this.getRange())&&this.fromOrientedRange(k)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var $=this.ranges.length?this.ranges:[this.getRange()],k=[],M=0;M<$.length;M++){var A=$[M],L=A.start.row,N=A.end.row;if(L===N)k.push(A.clone());else{for(k.push(new s(L,A.start.column,L,this.session.getLine(L).length));++L<N;)k.push(this.getLineRange(L,!0));k.push(new s(N,0,N,A.end.column))}M==0&&!this.isBackwards()&&(k=k.reverse())}this.toSingleRange();for(var M=k.length;M--;)this.addRange(k[M])},this.joinSelections=function(){var $=this.rangeList.ranges,k=$[$.length-1],M=s.fromPoints($[0].start,k.end);this.toSingleRange(),this.setSelectionRange(M,k.cursor==k.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var $=this.rangeList.ranges,k=$[$.length-1],M=s.fromPoints($[0].start,k.end);this.toSingleRange(),this.setSelectionRange(M,k.cursor==k.start)}else{var A=this.session.documentToScreenPosition(this.cursor),L=this.session.documentToScreenPosition(this.anchor),N=this.rectangularRangeBlock(A,L);N.forEach(this.addRange,this)}},this.rectangularRangeBlock=function($,k,M){var A=[],L=$.column<k.column;if(L)var N=$.column,R=k.column,D=$.offsetX,j=k.offsetX;else var N=k.column,R=$.column,D=k.offsetX,j=$.offsetX;var U=$.row<k.row;if(U)var H=$.row,Y=k.row;else var H=k.row,Y=$.row;N<0&&(N=0),H<0&&(H=0),H==Y&&(M=!0);for(var Z,Q=H;Q<=Y;Q++){var ee=s.fromPoints(this.session.screenToDocumentPosition(Q,N,D),this.session.screenToDocumentPosition(Q,R,j));if(ee.isEmpty()){if(Z&&_(ee.end,Z))break;Z=ee.end}ee.cursor=L?ee.start:ee.end,A.push(ee)}if(U&&A.reverse(),!M){for(var oe=A.length-1;A[oe].isEmpty()&&oe>0;)oe--;if(oe>0)for(var ue=0;A[ue].isEmpty();)ue++;for(var ve=oe;ve>=ue;ve--)A[ve].isEmpty()&&A.splice(ve,1)}return A}}.call(u.prototype);var w=n("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function($){$.cursor||($.cursor=$.end);var k=this.getSelectionStyle();return $.marker=this.session.addMarker($,"ace_selection",k),this.session.$selectionMarkers.push($),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,$},this.removeSelectionMarker=function($){if($.marker){this.session.removeMarker($.marker);var k=this.session.$selectionMarkers.indexOf($);k!=-1&&this.session.$selectionMarkers.splice(k,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function($){for(var k=this.session.$selectionMarkers,M=$.length;M--;){var A=$[M];if(A.marker){this.session.removeMarker(A.marker);var L=k.indexOf(A);L!=-1&&k.splice(L,1)}}this.session.selectionMarkerCount=k.length},this.$onAddRange=function($){this.addSelectionMarker($.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function($){this.removeSelectionMarkers($.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function($){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function($){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function($){var k=$.command,M=$.editor;if(M.multiSelect){if(k.multiSelectAction)k.multiSelectAction=="forEach"?A=M.forEachSelection(k,$.args):k.multiSelectAction=="forEachLine"?A=M.forEachSelection(k,$.args,!0):k.multiSelectAction=="single"?(M.exitMultiSelectMode(),A=k.exec(M,$.args||{})):A=k.multiSelectAction(M,$.args||{});else{var A=k.exec(M,$.args||{});M.multiSelect.addRange(M.multiSelect.toOrientedRange()),M.multiSelect.mergeOverlappingRanges()}return A}},this.forEachSelection=function($,k,M){if(!this.inVirtualSelectionMode){var A=M&&M.keepOrder,L=M==!0||M&&M.$byLines,N=this.session,R=this.selection,D=R.rangeList,j=(A?R:D).ranges,U;if(!j.length)return $.exec?$.exec(this,k||{}):$(this,k||{});var H=R._eventRegistry;R._eventRegistry={};var Y=new u(N);this.inVirtualSelectionMode=!0;for(var Z=j.length;Z--;){if(L)for(;Z>0&&j[Z].start.row==j[Z-1].end.row;)Z--;Y.fromOrientedRange(j[Z]),Y.index=Z,this.selection=N.selection=Y;var Q=$.exec?$.exec(this,k||{}):$(this,k||{});!U&&Q!==void 0&&(U=Q),Y.toOrientedRange(j[Z])}Y.detach(),this.selection=N.selection=R,this.inVirtualSelectionMode=!1,R._eventRegistry=H,R.mergeOverlappingRanges(),R.ranges[0]&&R.fromOrientedRange(R.ranges[0]);var ee=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),ee&&ee.from==ee.to&&this.renderer.animateScrolling(ee.from),U}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var $="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var k=this.multiSelect.rangeList.ranges,M=[],A=0;A<k.length;A++)M.push(this.session.getTextRange(k[A]));var L=this.session.getDocument().getNewLineCharacter();$=M.join(L),$.length==(M.length-1)*L.length&&($="")}else this.selection.isEmpty()||($=this.session.getTextRange(this.getSelectionRange()));return $},this.$checkMultiselectChange=function($,k){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var M=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&k==this.multiSelect.anchor)return;var A=k==this.multiSelect.anchor?M.cursor==M.start?M.end:M.start:M.cursor;A.row!=k.row||this.session.$clipPositionToDocument(A.row,A.column).column!=k.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function($,k,M){if(k=k||{},k.needle=$||k.needle,k.needle==null){var A=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();k.needle=this.session.getTextRange(A)}this.$search.set(k);var L=this.$search.findAll(this.session);if(!L.length)return 0;var N=this.multiSelect;M||N.toSingleRange(L[0]);for(var R=L.length;R--;)N.addRange(L[R],!0);return A&&N.rangeList.rangeAtPoint(A.start)&&N.addRange(A,!0),L.length},this.selectMoreLines=function($,k){var M=this.selection.toOrientedRange(),A=M.cursor==M.end,L=this.session.documentToScreenPosition(M.cursor);this.selection.$desiredColumn&&(L.column=this.selection.$desiredColumn);var N=this.session.screenToDocumentPosition(L.row+$,L.column);if(M.isEmpty())var D=N;else var R=this.session.documentToScreenPosition(A?M.end:M.start),D=this.session.screenToDocumentPosition(R.row+$,R.column);if(A){var j=s.fromPoints(N,D);j.cursor=j.start}else{var j=s.fromPoints(D,N);j.cursor=j.end}if(j.desiredColumn=L.column,!this.selection.inMultiSelectMode)this.selection.addRange(M);else if(k)var U=M.cursor;this.selection.addRange(j),U&&this.selection.substractPoint(U)},this.transposeSelections=function($){for(var k=this.session,M=k.multiSelect,A=M.ranges,L=A.length;L--;){var N=A[L];if(N.isEmpty()){var R=k.getWordRange(N.start.row,N.start.column);N.start.row=R.start.row,N.start.column=R.start.column,N.end.row=R.end.row,N.end.column=R.end.column}}M.mergeOverlappingRanges();for(var D=[],L=A.length;L--;){var N=A[L];D.unshift(k.getTextRange(N))}$<0?D.unshift(D.pop()):D.push(D.shift());for(var L=A.length;L--;){var N=A[L],R=N.clone();k.replace(N,D[L]),N.start.row=R.start.row,N.start.column=R.start.column}M.fromOrientedRange(M.ranges[0])},this.selectMore=function($,k,M){var A=this.session,L=A.multiSelect,N=L.toOrientedRange();if(!(N.isEmpty()&&(N=A.getWordRange(N.start.row,N.start.column),N.cursor=$==-1?N.start:N.end,this.multiSelect.addRange(N),M))){var R=A.getTextRange(N),D=m(A,R,$);D&&(D.cursor=$==-1?D.start:D.end,this.session.unfold(D),this.multiSelect.addRange(D),this.renderer.scrollCursorIntoView(null,.5)),k&&this.multiSelect.substractPoint(N.cursor)}},this.alignCursors=function(){var $=this.session,k=$.multiSelect,M=k.ranges,A=-1,L=M.filter(function(oe){if(oe.cursor.row==A)return!0;A=oe.cursor.row});if(!M.length||L.length==M.length-1){var N=this.selection.getRange(),R=N.start.row,D=N.end.row,j=R==D;if(j){var U=this.session.getLength(),H;do H=this.session.getLine(D);while(/[=:]/.test(H)&&++D<U);do H=this.session.getLine(R);while(/[=:]/.test(H)&&--R>0);R<0&&(R=0),D>=U&&(D=U-1)}var Y=this.session.removeFullLines(R,D);Y=this.$reAlignText(Y,j),this.session.insert({row:R,column:0},Y.join(`
`)+`
`),j||(N.start.column=0,N.end.column=Y[Y.length-1].length),this.selection.setRange(N)}else{L.forEach(function(oe){k.substractPoint(oe.cursor)});var Z=0,Q=1/0,ee=M.map(function(oe){var ue=oe.cursor,ve=$.getLine(ue.row),le=ve.substr(ue.column).search(/\S/g);return le==-1&&(le=0),ue.column>Z&&(Z=ue.column),le<Q&&(Q=le),le});M.forEach(function(oe,ue){var ve=oe.cursor,le=Z-ve.column,de=ee[ue]-Q;le>de?$.insert(ve,c.stringRepeat(" ",le-de)):$.remove(new s(ve.row,ve.column,ve.row,ve.column-le+de)),oe.start.column=oe.end.column=Z,oe.start.row=oe.end.row=ve.row,oe.cursor=oe.end}),k.fromOrientedRange(M[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function($,k){var M=!0,A=!0,L,N,R;return $.map(function(Y){var Z=Y.match(/(\s*)(.*?)(\s*)([=:].*)/);return Z?L==null?(L=Z[1].length,N=Z[2].length,R=Z[3].length,Z):(L+N+R!=Z[1].length+Z[2].length+Z[3].length&&(A=!1),L!=Z[1].length&&(M=!1),L>Z[1].length&&(L=Z[1].length),N<Z[2].length&&(N=Z[2].length),R>Z[3].length&&(R=Z[3].length),Z):[Y]}).map(k?j:M?A?U:j:H);function D(Y){return c.stringRepeat(" ",Y)}function j(Y){return Y[2]?D(L)+Y[2]+D(N-Y[2].length+R)+Y[4].replace(/^([=:])\s+/,"$1 "):Y[0]}function U(Y){return Y[2]?D(L+N-Y[2].length)+Y[2]+D(R)+Y[4].replace(/^([=:])\s+/,"$1 "):Y[0]}function H(Y){return Y[2]?D(L)+Y[2]+D(R)+Y[4].replace(/^([=:])\s+/,"$1 "):Y[0]}}}).call(w.prototype);function _($,k){return $.row==k.row&&$.column==k.column}r.onSessionChange=function($){var k=$.session;k&&!k.multiSelect&&(k.$selectionMarkers=[],k.selection.$initRangeList(),k.multiSelect=k.selection),this.multiSelect=k&&k.multiSelect;var M=$.oldSession;M&&(M.multiSelect.off("addRange",this.$onAddRange),M.multiSelect.off("removeRange",this.$onRemoveRange),M.multiSelect.off("multiSelect",this.$onMultiSelect),M.multiSelect.off("singleSelect",this.$onSingleSelect),M.multiSelect.lead.off("change",this.$checkMultiselectChange),M.multiSelect.anchor.off("change",this.$checkMultiselectChange)),k&&(k.multiSelect.on("addRange",this.$onAddRange),k.multiSelect.on("removeRange",this.$onRemoveRange),k.multiSelect.on("multiSelect",this.$onMultiSelect),k.multiSelect.on("singleSelect",this.$onSingleSelect),k.multiSelect.lead.on("change",this.$checkMultiselectChange),k.multiSelect.anchor.on("change",this.$checkMultiselectChange)),k&&this.inMultiSelectMode!=k.selection.inMultiSelectMode&&(k.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function S($){$.$multiselectOnSessionChange||($.$onAddRange=$.$onAddRange.bind($),$.$onRemoveRange=$.$onRemoveRange.bind($),$.$onMultiSelect=$.$onMultiSelect.bind($),$.$onSingleSelect=$.$onSingleSelect.bind($),$.$multiselectOnSessionChange=r.onSessionChange.bind($),$.$checkMultiselectChange=$.$checkMultiselectChange.bind($),$.$multiselectOnSessionChange($),$.on("changeSession",$.$multiselectOnSessionChange),$.on("mousedown",f),$.commands.addCommands(h.defaultCommands),C($))}function C($){if(!$.textInput)return;var k=$.textInput.getElement(),M=!1;d.addListener(k,"keydown",function(L){var N=L.keyCode==18&&!(L.ctrlKey||L.shiftKey||L.metaKey);$.$blockSelectEnabled&&N?M||($.renderer.setMouseCursor("crosshair"),M=!0):M&&A()},$),d.addListener(k,"keyup",A,$),d.addListener(k,"blur",A,$);function A(L){M&&($.renderer.setMouseCursor(""),M=!1)}}r.MultiSelect=S,n("./config").defineOptions(w.prototype,"editor",{enableMultiselect:{set:function($){S(this),$?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",f)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",f))},value:!0},enableBlockSelect:{set:function($){this.$blockSelectEnabled=$},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,r,i){var a=n("../../range").Range,s=r.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(u,f,d){var c=u.getLine(d);return this.foldingStartMarker.test(c)?"start":f=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(c)?"end":""},this.getFoldWidgetRange=function(u,f,d){return null},this.indentationBlock=function(u,f,d){var c=/\S/,h=u.getLine(f),p=h.search(c);if(p!=-1){for(var v=d||h.length,m=u.getLength(),y=f,w=f;++f<m;){var _=u.getLine(f).search(c);if(_!=-1){if(_<=p){var S=u.getTokenAt(f,0);if(!S||S.type!=="string")break}w=f}}if(w>y){var C=u.getLine(w).length;return new a(y,v,w,C)}}},this.openingBracketBlock=function(u,f,d,c,h){var p={row:d,column:c+1},v=u.$findClosingBracket(f,p,h);if(v){var m=u.foldWidgets[v.row];return m==null&&(m=u.getFoldWidget(v.row)),m=="start"&&v.row>p.row&&(v.row--,v.column=u.getLine(v.row).length),a.fromPoints(p,v)}},this.closingBracketBlock=function(u,f,d,c,h){var p={row:d,column:c},v=u.$findOpeningBracket(f,p);if(v)return v.column++,p.column--,a.fromPoints(v,p)}}).call(s.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(n,r,i){var a=n("../line_widgets").LineWidgets,s=n("../lib/dom"),u=n("../range").Range;function f(c,h,p){for(var v=0,m=c.length-1;v<=m;){var y=v+m>>1,w=p(h,c[y]);if(w>0)v=y+1;else if(w<0)m=y-1;else return y}return-(v+1)}function d(c,h,p){var v=c.getAnnotations().sort(u.comparePoints);if(v.length){var m=f(v,{row:h,column:-1},u.comparePoints);m<0&&(m=-m-1),m>=v.length?m=p>0?0:v.length-1:m===0&&p<0&&(m=v.length-1);var y=v[m];if(!(!y||!p)){if(y.row===h){do y=v[m+=p];while(y&&y.row===h);if(!y)return v.slice()}var w=[];h=y.row;do w[p<0?"unshift":"push"](y),y=v[m+=p];while(y&&y.row==h);return w.length&&w}}}r.showErrorMarker=function(c,h){var p=c.session;p.widgetManager||(p.widgetManager=new a(p),p.widgetManager.attach(c));var v=c.getCursorPosition(),m=v.row,y=p.widgetManager.getWidgetsAtRow(m).filter(function(L){return L.type=="errorMarker"})[0];y?y.destroy():m-=h;var w=d(p,m,h),_;if(w){var S=w[0];v.column=(S.pos&&typeof S.column!="number"?S.pos.sc:S.column)||0,v.row=S.row,_=c.renderer.$gutterLayer.$annotations[v.row]}else{if(y)return;_={text:["Looks good!"],className:"ace_ok"}}c.session.unfold(v.row),c.selection.moveToPosition(v);var C={row:v.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},$=C.el.appendChild(s.createElement("div")),k=C.el.appendChild(s.createElement("div"));k.className="error_widget_arrow "+_.className;var M=c.renderer.$cursorLayer.getPixelPosition(v).left;k.style.left=M+c.renderer.gutterWidth-5+"px",C.el.className="error_widget_wrapper",$.className="error_widget "+_.className,$.innerHTML=_.text.join("<br>"),$.appendChild(s.createElement("div"));var A=function(L,N,R){if(N===0&&(R==="esc"||R==="return"))return C.destroy(),{command:"null"}};C.destroy=function(){c.$mouseHandler.isMousePressed||(c.keyBinding.removeKeyboardHandler(A),p.widgetManager.removeLineWidget(C),c.off("changeSelection",C.destroy),c.off("changeSession",C.destroy),c.off("mouseup",C.destroy),c.off("change",C.destroy))},c.keyBinding.addKeyboardHandler(A),c.on("changeSelection",C.destroy),c.on("changeSession",C.destroy),c.on("mouseup",C.destroy),c.on("change",C.destroy),c.session.widgetManager.addLineWidget(C),C.el.onmousedown=c.focus.bind(c),c.renderer.scrollCursorIntoView(null,.5,{bottom:C.el.offsetHeight})},s.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,r,i){n("./loader_build")(r);var a=n("./lib/dom"),s=n("./lib/event"),u=n("./range").Range,f=n("./editor").Editor,d=n("./edit_session").EditSession,c=n("./undomanager").UndoManager,h=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client"),n("./keyboard/hash_handler"),n("./placeholder"),n("./multi_select"),n("./mode/folding/fold_mode"),n("./theme/textmate"),n("./ext/error_marker"),r.config=n("./config"),r.edit=function(p,v){if(typeof p=="string"){var m=p;if(p=document.getElementById(m),!p)throw new Error("ace.edit can't find div #"+m)}if(p&&p.env&&p.env.editor instanceof f)return p.env.editor;var y="";if(p&&/input|textarea/i.test(p.tagName)){var w=p;y=w.value,p=a.createElement("pre"),w.parentNode.replaceChild(p,w)}else p&&(y=p.textContent,p.innerHTML="");var _=r.createEditSession(y),S=new f(new h(p),_,v),C={document:_,editor:S,onResize:S.resize.bind(S,null)};return w&&(C.textarea=w),s.addListener(window,"resize",C.onResize),S.on("destroy",function(){s.removeListener(window,"resize",C.onResize),C.editor.container.env=null}),S.container.env=S.env=C,S},r.createEditSession=function(p,v){var m=new d(p,v);return m.setUndoManager(new c),m},r.Range=u,r.Editor=f,r.EditSession=d,r.UndoManager=c,r.VirtualRenderer=h,r.version=r.config.version}),function(){ace.require(["ace/ace"],function(n){n&&(n.config.init(!0),n.define=ace.define),window.ace||(window.ace=n);for(var r in n)n.hasOwnProperty(r)&&(window.ace[r]=n[r]);window.ace.default=window.ace,e&&(e.exports=window.ace)})}()})(ucr);var $W={},lcr={get exports(){return $W},set exports(e){$W=e}};(function(e,t){var n=200,r="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,u="[object Arguments]",f="[object Array]",d="[object AsyncFunction]",c="[object Boolean]",h="[object Date]",p="[object Error]",v="[object Function]",m="[object GeneratorFunction]",y="[object Map]",w="[object Number]",_="[object Null]",S="[object Object]",C="[object Promise]",$="[object Proxy]",k="[object RegExp]",M="[object Set]",A="[object String]",L="[object Symbol]",N="[object Undefined]",R="[object WeakMap]",D="[object ArrayBuffer]",j="[object DataView]",U="[object Float32Array]",H="[object Float64Array]",Y="[object Int8Array]",Z="[object Int16Array]",Q="[object Int32Array]",ee="[object Uint8Array]",oe="[object Uint8ClampedArray]",ue="[object Uint16Array]",ve="[object Uint32Array]",le=/[\\^$.*+?()[\]{}|]/g,de=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,Se={};Se[U]=Se[H]=Se[Y]=Se[Z]=Se[Q]=Se[ee]=Se[oe]=Se[ue]=Se[ve]=!0,Se[u]=Se[f]=Se[D]=Se[c]=Se[j]=Se[h]=Se[p]=Se[v]=Se[y]=Se[w]=Se[S]=Se[k]=Se[M]=Se[A]=Se[R]=!1;var Ee=typeof $e=="object"&&$e&&$e.Object===Object&&$e,xe=typeof self=="object"&&self&&self.Object===Object&&self,Ie=Ee||xe||Function("return this")(),Ne=t&&!t.nodeType&&t,We=Ne&&!0&&e&&!e.nodeType&&e,Me=We&&We.exports===Ne,He=Me&&Ee.process,gt=function(){try{return He&&He.binding&&He.binding("util")}catch{}}(),Ye=gt&&gt.isTypedArray;function ot(Ve,$t){for(var an=-1,_n=Ve==null?0:Ve.length,In=0,Yn=[];++an<_n;){var pi=Ve[an];$t(pi,an,Ve)&&(Yn[In++]=pi)}return Yn}function Ue(Ve,$t){for(var an=-1,_n=$t.length,In=Ve.length;++an<_n;)Ve[In+an]=$t[an];return Ve}function st(Ve,$t){for(var an=-1,_n=Ve==null?0:Ve.length;++an<_n;)if($t(Ve[an],an,Ve))return!0;return!1}function at(Ve,$t){for(var an=-1,_n=Array(Ve);++an<Ve;)_n[an]=$t(an);return _n}function St(Ve){return function($t){return Ve($t)}}function Vt(Ve,$t){return Ve.has($t)}function tt(Ve,$t){return Ve==null?void 0:Ve[$t]}function wt(Ve){var $t=-1,an=Array(Ve.size);return Ve.forEach(function(_n,In){an[++$t]=[In,_n]}),an}function vt(Ve,$t){return function(an){return Ve($t(an))}}function Le(Ve){var $t=-1,an=Array(Ve.size);return Ve.forEach(function(_n){an[++$t]=_n}),an}var ft=Array.prototype,Mt=Function.prototype,yt=Object.prototype,Ct=Ie["__core-js_shared__"],jt=Mt.toString,At=yt.hasOwnProperty,Bt=function(){var Ve=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||"");return Ve?"Symbol(src)_1."+Ve:""}(),kt=yt.toString,qt=RegExp("^"+jt.call(At).replace(le,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fn=Me?Ie.Buffer:void 0,jn=Ie.Symbol,Mn=Ie.Uint8Array,Un=yt.propertyIsEnumerable,Kr=ft.splice,Wi=jn?jn.toStringTag:void 0,sa=Object.getOwnPropertySymbols,ga=fn?fn.isBuffer:void 0,$i=vt(Object.keys,Object),Do=ac(Ie,"DataView"),xo=ac(Ie,"Map"),en=ac(Ie,"Promise"),sn=ac(Ie,"Set"),On=ac(Ie,"WeakMap"),Kn=ac(Object,"create"),kr=ut(Do),ti=ut(xo),Ji=ut(en),Yi=ut(sn),ka=ut(On),fo=jn?jn.prototype:void 0,Il=fo?fo.valueOf:void 0;function Oa(Ve){var $t=-1,an=Ve==null?0:Ve.length;for(this.clear();++$t<an;){var _n=Ve[$t];this.set(_n[0],_n[1])}}function rc(){this.__data__=Kn?Kn(null):{},this.size=0}function Bf(Ve){var $t=this.has(Ve)&&delete this.__data__[Ve];return this.size-=$t?1:0,$t}function Hf(Ve){var $t=this.__data__;if(Kn){var an=$t[Ve];return an===r?void 0:an}return At.call($t,Ve)?$t[Ve]:void 0}function th(Ve){var $t=this.__data__;return Kn?$t[Ve]!==void 0:At.call($t,Ve)}function Gh(Ve,$t){var an=this.__data__;return this.size+=this.has(Ve)?0:1,an[Ve]=Kn&&$t===void 0?r:$t,this}Oa.prototype.clear=rc,Oa.prototype.delete=Bf,Oa.prototype.get=Hf,Oa.prototype.has=th,Oa.prototype.set=Gh;function wu(Ve){var $t=-1,an=Ve==null?0:Ve.length;for(this.clear();++$t<an;){var _n=Ve[$t];this.set(_n[0],_n[1])}}function qs(){this.__data__=[],this.size=0}function ic(Ve){var $t=this.__data__,an=Sf($t,Ve);if(an<0)return!1;var _n=$t.length-1;return an==_n?$t.pop():Kr.call($t,an,1),--this.size,!0}function wf(Ve){var $t=this.__data__,an=Sf($t,Ve);return an<0?void 0:$t[an][1]}function Fl(Ve){return Sf(this.__data__,Ve)>-1}function Du(Ve,$t){var an=this.__data__,_n=Sf(an,Ve);return _n<0?(++this.size,an.push([Ve,$t])):an[_n][1]=$t,this}wu.prototype.clear=qs,wu.prototype.delete=ic,wu.prototype.get=wf,wu.prototype.has=Fl,wu.prototype.set=Du;function Gu(Ve){var $t=-1,an=Ve==null?0:Ve.length;for(this.clear();++$t<an;){var _n=Ve[$t];this.set(_n[0],_n[1])}}function Uf(){this.size=0,this.__data__={hash:new Oa,map:new(xo||wu),string:new Oa}}function Nl(Ve){var $t=Gf(this,Ve).delete(Ve);return this.size-=$t?1:0,$t}function ja(Ve){return Gf(this,Ve).get(Ve)}function lu(Ve){return Gf(this,Ve).has(Ve)}function _f(Ve,$t){var an=Gf(this,Ve),_n=an.size;return an.set(Ve,$t),this.size+=an.size==_n?0:1,this}Gu.prototype.clear=Uf,Gu.prototype.delete=Nl,Gu.prototype.get=ja,Gu.prototype.has=lu,Gu.prototype.set=_f;function Iu(Ve){var $t=-1,an=Ve==null?0:Ve.length;for(this.__data__=new Gu;++$t<an;)this.add(Ve[$t])}function _u(Ve){return this.__data__.set(Ve,r),this}function xf(Ve){return this.__data__.has(Ve)}Iu.prototype.add=Iu.prototype.push=_u,Iu.prototype.has=xf;function xu(Ve){var $t=this.__data__=new wu(Ve);this.size=$t.size}function Ev(){this.__data__=new wu,this.size=0}function wd(Ve){var $t=this.__data__,an=$t.delete(Ve);return this.size=$t.size,an}function qh(Ve){return this.__data__.get(Ve)}function t0(Ve){return this.__data__.has(Ve)}function n0(Ve,$t){var an=this.__data__;if(an instanceof wu){var _n=an.__data__;if(!xo||_n.length<n-1)return _n.push([Ve,$t]),this.size=++an.size,this;an=this.__data__=new Gu(_n)}return an.set(Ve,$t),this.size=an.size,this}xu.prototype.clear=Ev,xu.prototype.delete=wd,xu.prototype.get=qh,xu.prototype.has=t0,xu.prototype.set=n0;function r0(Ve,$t){var an=Dt(Ve),_n=!an&&Ot(Ve),In=!an&&!_n&&nn(Ve),Yn=!an&&!_n&&!In&&An(Ve),pi=an||_n||In||Yn,ir=pi?at(Ve.length,String):[],Cn=ir.length;for(var un in Ve)($t||At.call(Ve,un))&&!(pi&&(un=="length"||In&&(un=="offset"||un=="parent")||Yn&&(un=="buffer"||un=="byteLength"||un=="byteOffset")||Xg(un,Cn)))&&ir.push(un);return ir}function Sf(Ve,$t){for(var an=Ve.length;an--;)if(rt(Ve[an][0],$t))return an;return-1}function Yh(Ve,$t,an){var _n=$t(Ve);return Dt(Ve)?_n:Ue(_n,an(Ve))}function nh(Ve){return Ve==null?Ve===void 0?N:_:Wi&&Wi in Object(Ve)?Kg(Ve):Pe(Ve)}function Yg(Ve){return or(Ve)&&nh(Ve)==u}function Vf(Ve,$t,an,_n,In){return Ve===$t?!0:Ve==null||$t==null||!or(Ve)&&!or($t)?Ve!==Ve&&$t!==$t:Kh(Ve,$t,an,_n,Vf,In)}function Kh(Ve,$t,an,_n,In,Yn){var pi=Dt(Ve),ir=Dt($t),Cn=pi?f:_d(Ve),un=ir?f:_d($t);Cn=Cn==u?S:Cn,un=un==u?S:un;var Hr=Cn==S,Xr=un==S,Ur=Cn==un;if(Ur&&nn(Ve)){if(!nn($t))return!1;pi=!0,Hr=!1}if(Ur&&!Hr)return Yn||(Yn=new xu),pi||An(Ve)?Ef(Ve,$t,an,_n,In,Yn):Xh(Ve,$t,Cn,an,_n,In,Yn);if(!(an&i)){var gr=Hr&&At.call(Ve,"__wrapped__"),Er=Xr&&At.call($t,"__wrapped__");if(gr||Er){var pr=gr?Ve.value():Ve,vr=Er?$t.value():$t;return Yn||(Yn=new xu),In(pr,vr,an,_n,Yn)}}return Ur?(Yn||(Yn=new xu),Zh(Ve,$t,an,_n,In,Yn)):!1}function Hm(Ve){if(!Xn(Ve)||jc(Ve))return!1;var $t=Fn(Ve)?qt:de;return $t.test(ut(Ve))}function Wf(Ve){return or(Ve)&&gn(Ve.length)&&!!Se[nh(Ve)]}function rh(Ve){if(!i0(Ve))return $i(Ve);var $t=[];for(var an in Object(Ve))At.call(Ve,an)&&an!="constructor"&&$t.push(an);return $t}function Ef(Ve,$t,an,_n,In,Yn){var pi=an&i,ir=Ve.length,Cn=$t.length;if(ir!=Cn&&!(pi&&Cn>ir))return!1;var un=Yn.get(Ve);if(un&&Yn.get($t))return un==$t;var Hr=-1,Xr=!0,Ur=an&a?new Iu:void 0;for(Yn.set(Ve,$t),Yn.set($t,Ve);++Hr<ir;){var gr=Ve[Hr],Er=$t[Hr];if(_n)var pr=pi?_n(Er,gr,Hr,$t,Ve,Yn):_n(gr,Er,Hr,Ve,$t,Yn);if(pr!==void 0){if(pr)continue;Xr=!1;break}if(Ur){if(!st($t,function(vr,ri){if(!Vt(Ur,ri)&&(gr===vr||In(gr,vr,an,_n,Yn)))return Ur.push(ri)})){Xr=!1;break}}else if(!(gr===Er||In(gr,Er,an,_n,Yn))){Xr=!1;break}}return Yn.delete(Ve),Yn.delete($t),Xr}function Xh(Ve,$t,an,_n,In,Yn,pi){switch(an){case j:if(Ve.byteLength!=$t.byteLength||Ve.byteOffset!=$t.byteOffset)return!1;Ve=Ve.buffer,$t=$t.buffer;case D:return!(Ve.byteLength!=$t.byteLength||!Yn(new Mn(Ve),new Mn($t)));case c:case h:case w:return rt(+Ve,+$t);case p:return Ve.name==$t.name&&Ve.message==$t.message;case k:case A:return Ve==$t+"";case y:var ir=wt;case M:var Cn=_n&i;if(ir||(ir=Le),Ve.size!=$t.size&&!Cn)return!1;var un=pi.get(Ve);if(un)return un==$t;_n|=a,pi.set(Ve,$t);var Hr=Ef(ir(Ve),ir($t),_n,In,Yn,pi);return pi.delete(Ve),Hr;case L:if(Il)return Il.call(Ve)==Il.call($t)}return!1}function Zh(Ve,$t,an,_n,In,Yn){var pi=an&i,ir=cs(Ve),Cn=ir.length,un=cs($t),Hr=un.length;if(Cn!=Hr&&!pi)return!1;for(var Xr=Cn;Xr--;){var Ur=ir[Xr];if(!(pi?Ur in $t:At.call($t,Ur)))return!1}var gr=Yn.get(Ve);if(gr&&Yn.get($t))return gr==$t;var Er=!0;Yn.set(Ve,$t),Yn.set($t,Ve);for(var pr=pi;++Xr<Cn;){Ur=ir[Xr];var vr=Ve[Ur],ri=$t[Ur];if(_n)var ua=pi?_n(ri,vr,Ur,$t,Ve,Yn):_n(vr,ri,Ur,Ve,$t,Yn);if(!(ua===void 0?vr===ri||In(vr,ri,an,_n,Yn):ua)){Er=!1;break}pr||(pr=Ur=="constructor")}if(Er&&!pr){var Ga=Ve.constructor,Fr=$t.constructor;Ga!=Fr&&"constructor"in Ve&&"constructor"in $t&&!(typeof Ga=="function"&&Ga instanceof Ga&&typeof Fr=="function"&&Fr instanceof Fr)&&(Er=!1)}return Yn.delete(Ve),Yn.delete($t),Er}function cs(Ve){return Yh(Ve,cr,Cv)}function Gf(Ve,$t){var an=Ve.__data__;return Cf($t)?an[typeof $t=="string"?"string":"hash"]:an.map}function ac(Ve,$t){var an=tt(Ve,$t);return Hm(an)?an:void 0}function Kg(Ve){var $t=At.call(Ve,Wi),an=Ve[Wi];try{Ve[Wi]=void 0;var _n=!0}catch{}var In=kt.call(Ve);return _n&&($t?Ve[Wi]=an:delete Ve[Wi]),In}var Cv=sa?function(Ve){return Ve==null?[]:(Ve=Object(Ve),ot(sa(Ve),function($t){return Un.call(Ve,$t)}))}:bn,_d=nh;(Do&&_d(new Do(new ArrayBuffer(1)))!=j||xo&&_d(new xo)!=y||en&&_d(en.resolve())!=C||sn&&_d(new sn)!=M||On&&_d(new On)!=R)&&(_d=function(Ve){var $t=nh(Ve),an=$t==S?Ve.constructor:void 0,_n=an?ut(an):"";if(_n)switch(_n){case kr:return j;case ti:return y;case Ji:return C;case Yi:return M;case ka:return R}return $t});function Xg(Ve,$t){return $t=$t??s,!!$t&&(typeof Ve=="number"||me.test(Ve))&&Ve>-1&&Ve%1==0&&Ve<$t}function Cf(Ve){var $t=typeof Ve;return $t=="string"||$t=="number"||$t=="symbol"||$t=="boolean"?Ve!=="__proto__":Ve===null}function jc(Ve){return!!Bt&&Bt in Ve}function i0(Ve){var $t=Ve&&Ve.constructor,an=typeof $t=="function"&&$t.prototype||yt;return Ve===an}function Pe(Ve){return kt.call(Ve)}function ut(Ve){if(Ve!=null){try{return jt.call(Ve)}catch{}try{return Ve+""}catch{}}return""}function rt(Ve,$t){return Ve===$t||Ve!==Ve&&$t!==$t}var Ot=Yg(function(){return arguments}())?Yg:function(Ve){return or(Ve)&&At.call(Ve,"callee")&&!Un.call(Ve,"callee")},Dt=Array.isArray;function Tt(Ve){return Ve!=null&&gn(Ve.length)&&!Fn(Ve)}var nn=ga||Zn;function Sn(Ve,$t){return Vf(Ve,$t)}function Fn(Ve){if(!Xn(Ve))return!1;var $t=nh(Ve);return $t==v||$t==m||$t==d||$t==$}function gn(Ve){return typeof Ve=="number"&&Ve>-1&&Ve%1==0&&Ve<=s}function Xn(Ve){var $t=typeof Ve;return Ve!=null&&($t=="object"||$t=="function")}function or(Ve){return Ve!=null&&typeof Ve=="object"}var An=Ye?St(Ye):Wf;function cr(Ve){return Tt(Ve)?r0(Ve):rh(Ve)}function bn(){return[]}function Zn(){return!1}e.exports=Sn})(lcr,$W);var s_={};Object.defineProperty(s_,"__esModule",{value:!0});s_.getAceInstance=s_.debounce=s_.editorEvents=s_.editorOptions=void 0;var ccr=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];s_.editorOptions=ccr;var fcr=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];s_.editorEvents=fcr;var dcr=function(){var e;return typeof window>"u"?($e.window={},e=h8,delete $e.window):window.ace?(e=window.ace,e.acequire=window.ace.require||window.ace.acequire):e=h8,e};s_.getAceInstance=dcr;var hcr=function(e,t){var n=null;return function(){var r=this,i=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}};s_.debounce=hcr;var gcr=$e&&$e.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),VEe=$e&&$e.__assign||function(){return VEe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},VEe.apply(this,arguments)};Object.defineProperty(WMe,"__esModule",{value:!0});var pcr=h8,Xi=Yr,VJe=z,Vee=$W,N6=s_,WJe=(0,N6.getAceInstance)(),vcr=function(e){gcr(t,e);function t(n){var r=e.call(this,n)||this;return N6.editorEvents.forEach(function(i){r[i]=r[i].bind(r)}),r.debounce=N6.debounce,r}return t.prototype.isInShadow=function(n){for(var r=n&&n.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},t.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.className,a=r.onBeforeLoad,s=r.onValidate,u=r.mode,f=r.focus,d=r.theme,c=r.fontSize,h=r.value,p=r.defaultValue,v=r.showGutter,m=r.wrapEnabled,y=r.showPrintMargin,w=r.scrollMargin,_=w===void 0?[0,0,0,0]:w,S=r.keyboardHandler,C=r.onLoad,$=r.commands,k=r.annotations,M=r.markers,A=r.placeholder;this.editor=WJe.edit(this.refEditor),a&&a(WJe);for(var L=Object.keys(this.props.editorProps),N=0;N<L.length;N++)this.editor[L[N]]=this.props.editorProps[L[N]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(_[0],_[1],_[2],_[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof u=="string"?"ace/mode/".concat(u):u),d&&d!==""&&this.editor.setTheme("ace/theme/".concat(d)),this.editor.setFontSize(typeof c=="number"?"".concat(c,"px"):c),this.editor.getSession().setValue(p||h||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(v),this.editor.getSession().setUseWrapMode(m),this.editor.setShowPrintMargin(y),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),A&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),s&&this.editor.getSession().on("changeAnnotation",function(){var D=n.editor.getSession().getAnnotations();n.props.onValidate(D)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(k||[]),M&&M.length>0&&this.handleMarkers(M);var R=this.editor.$options;N6.editorOptions.forEach(function(D){R.hasOwnProperty(D)?n.editor.setOption(D,n.props[D]):n.props[D]&&console.warn("ReactAce: editor option ".concat(D," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray($)&&$.forEach(function(D){typeof D.exec=="string"?n.editor.commands.bindKey(D.bindKey,D.exec):n.editor.commands.addCommand(D)}),S&&this.editor.setKeyboardHandler("ace/keyboard/"+S),i&&(this.refEditor.className+=" "+i),C&&C(this.editor),this.editor.resize(),f&&this.editor.focus()},t.prototype.componentDidUpdate=function(n){for(var r=n,i=this.props,a=0;a<N6.editorOptions.length;a++){var s=N6.editorOptions[a];i[s]!==r[s]&&this.editor.setOption(s,i[s])}if(i.className!==r.className){var u=this.refEditor.className,f=u.trim().split(" "),d=r.className.trim().split(" ");d.forEach(function(p){var v=f.indexOf(p);f.splice(v,1)}),this.refEditor.className=" "+i.className+" "+f.join(" ")}var c=this.editor&&i.value!=null&&this.editor.getValue()!==i.value;if(c){this.silent=!0;var h=this.editor.session.selection.toJSON();this.editor.setValue(i.value,i.cursorStart),this.editor.session.selection.fromJSON(h),this.silent=!1}i.placeholder!==r.placeholder&&this.updatePlaceholder(),i.mode!==r.mode&&this.editor.getSession().setMode(typeof i.mode=="string"?"ace/mode/".concat(i.mode):i.mode),i.theme!==r.theme&&this.editor.setTheme("ace/theme/"+i.theme),i.keyboardHandler!==r.keyboardHandler&&(i.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+i.keyboardHandler):this.editor.setKeyboardHandler(null)),i.fontSize!==r.fontSize&&this.editor.setFontSize(typeof i.fontSize=="number"?"".concat(i.fontSize,"px"):i.fontSize),i.wrapEnabled!==r.wrapEnabled&&this.editor.getSession().setUseWrapMode(i.wrapEnabled),i.showPrintMargin!==r.showPrintMargin&&this.editor.setShowPrintMargin(i.showPrintMargin),i.showGutter!==r.showGutter&&this.editor.renderer.setShowGutter(i.showGutter),Vee(i.setOptions,r.setOptions)||this.handleOptions(i),(c||!Vee(i.annotations,r.annotations))&&this.editor.getSession().setAnnotations(i.annotations||[]),!Vee(i.markers,r.markers)&&Array.isArray(i.markers)&&this.handleMarkers(i.markers),Vee(i.scrollMargin,r.scrollMargin)||this.handleScrollMargins(i.scrollMargin),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!n.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(n){n===void 0&&(n=[0,0,0,0]),this.editor.renderer.setScrollMargin(n[0],n[1],n[2],n[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var r=this.editor.getValue();this.props.onChange(r,n)}},t.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var r=this.editor.getSelection();this.props.onSelectionChange(r,n)}},t.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var r=this.editor.getSelection();this.props.onCursorChange(r,n)}},t.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n,this.editor)},t.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n,this.editor)},t.prototype.onCopy=function(n){var r=n.text;this.props.onCopy&&this.props.onCopy(r)},t.prototype.onPaste=function(n){var r=n.text;this.props.onPaste&&this.props.onPaste(r)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(n){for(var r=Object.keys(n.setOptions),i=0;i<r.length;i++)this.editor.setOption(r[i],n.setOptions[r[i]])},t.prototype.handleMarkers=function(n){var r=this,i=this.editor.getSession().getMarkers(!0);for(var a in i)i.hasOwnProperty(a)&&this.editor.getSession().removeMarker(i[a].id);i=this.editor.getSession().getMarkers(!1);for(var a in i)i.hasOwnProperty(a)&&i[a].clazz!=="ace_active-line"&&i[a].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(i[a].id);n.forEach(function(s){var u=s.startRow,f=s.startCol,d=s.endRow,c=s.endCol,h=s.className,p=s.type,v=s.inFront,m=v===void 0?!1:v,y=new pcr.Range(u,f,d,c);r.editor.getSession().addMarker(y,h,p,m)})},t.prototype.updatePlaceholder=function(){var n=this.editor,r=this.props.placeholder,i=!n.session.getValue().length,a=n.renderer.placeholderNode;!i&&a?(n.renderer.scroller.removeChild(n.renderer.placeholderNode),n.renderer.placeholderNode=null):i&&!a?(a=n.renderer.placeholderNode=document.createElement("div"),a.textContent=r||"",a.className="ace_comment ace_placeholder",a.style.padding="0 9px",a.style.position="absolute",a.style.zIndex="3",n.renderer.scroller.appendChild(a)):i&&a&&(a.textContent=r)},t.prototype.updateRef=function(n){this.refEditor=n},t.prototype.render=function(){var n=this.props,r=n.name,i=n.width,a=n.height,s=n.style,u=VEe({width:i,height:a},s);return VJe.createElement("div",{ref:this.updateRef,id:r,style:u})},t.propTypes={mode:Xi.oneOfType([Xi.string,Xi.object]),focus:Xi.bool,theme:Xi.string,name:Xi.string,className:Xi.string,height:Xi.string,width:Xi.string,fontSize:Xi.oneOfType([Xi.number,Xi.string]),showGutter:Xi.bool,onChange:Xi.func,onCopy:Xi.func,onPaste:Xi.func,onFocus:Xi.func,onInput:Xi.func,onBlur:Xi.func,onScroll:Xi.func,value:Xi.string,defaultValue:Xi.string,onLoad:Xi.func,onSelectionChange:Xi.func,onCursorChange:Xi.func,onBeforeLoad:Xi.func,onValidate:Xi.func,minLines:Xi.number,maxLines:Xi.number,readOnly:Xi.bool,highlightActiveLine:Xi.bool,tabSize:Xi.number,showPrintMargin:Xi.bool,cursorStart:Xi.number,debounceChangePeriod:Xi.number,editorProps:Xi.object,setOptions:Xi.object,style:Xi.object,scrollMargin:Xi.array,annotations:Xi.array,markers:Xi.array,keyboardHandler:Xi.string,wrapEnabled:Xi.bool,enableSnippets:Xi.bool,enableBasicAutocompletion:Xi.oneOfType([Xi.bool,Xi.array]),enableLiveAutocompletion:Xi.oneOfType([Xi.bool,Xi.array]),navigateToFileEnd:Xi.bool,commands:Xi.array,placeholder:Xi.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(VJe.Component);WMe.default=vcr;var GMe={},Cce={},WEe={},mcr={get exports(){return WEe},set exports(e){WEe=e}};(function(e,t){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(n,r,i){var a=n("./lib/oop");n("./lib/lang");var s=n("./lib/event_emitter").EventEmitter,u=n("./editor").Editor,f=n("./virtual_renderer").VirtualRenderer,d=n("./edit_session").EditSession,c=function(h,p,v){this.BELOW=1,this.BESIDE=0,this.$container=h,this.$theme=p,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(v||1),this.$cEditor=this.$editors[0],this.on("focus",function(m){this.$cEditor=m}.bind(this))};(function(){a.implement(this,s),this.$createEditor=function(){var h=document.createElement("div");h.className=this.$editorCSS,h.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(h);var p=new u(new f(h,this.$theme));return p.on("focus",function(){this._emit("focus",p)}.bind(this)),this.$editors.push(p),p.setFontSize(this.$fontSize),p},this.setSplits=function(h){var p;if(h<1)throw"The number of splits have to be > 0!";if(h!=this.$splits){if(h>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<h;)p=this.$editors[this.$splits],this.$container.appendChild(p.container),p.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<h;)this.$createEditor(),this.$splits++}else for(;this.$splits>h;)p=this.$editors[this.$splits-1],this.$container.removeChild(p.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(h){return this.$editors[h]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(h){this.$editors.forEach(function(p){p.setTheme(h)})},this.setKeyboardHandler=function(h){this.$editors.forEach(function(p){p.setKeyboardHandler(h)})},this.forEach=function(h,p){this.$editors.forEach(h,p)},this.$fontSize="",this.setFontSize=function(h){this.$fontSize=h,this.forEach(function(p){p.setFontSize(h)})},this.$cloneSession=function(h){var p=new d(h.getDocument(),h.getMode()),v=h.getUndoManager();return p.setUndoManager(v),p.setTabSize(h.getTabSize()),p.setUseSoftTabs(h.getUseSoftTabs()),p.setOverwrite(h.getOverwrite()),p.setBreakpoints(h.getBreakpoints()),p.setUseWrapMode(h.getUseWrapMode()),p.setUseWorker(h.getUseWorker()),p.setWrapLimitRange(h.$wrapLimitRange.min,h.$wrapLimitRange.max),p.$foldData=h.$cloneFoldData(),p},this.setSession=function(h,p){var v;p==null?v=this.$cEditor:v=this.$editors[p];var m=this.$editors.some(function(y){return y.session===h});return m&&(h=this.$cloneSession(h)),v.setSession(h),h},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(h){this.$orientation!=h&&(this.$orientation=h,this.resize())},this.resize=function(){var h=this.$container.clientWidth,p=this.$container.clientHeight,v;if(this.$orientation==this.BESIDE)for(var m=h/this.$splits,y=0;y<this.$splits;y++)v=this.$editors[y],v.container.style.width=m+"px",v.container.style.top="0px",v.container.style.left=y*m+"px",v.container.style.height=p+"px",v.resize();else for(var w=p/this.$splits,y=0;y<this.$splits;y++)v=this.$editors[y],v.container.style.width=h+"px",v.container.style.top=y*w+"px",v.container.style.left="0px",v.container.style.height=w+"px",v.resize()}}).call(c.prototype),r.Split=c}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(n,r,i){i.exports=n("../split")}),function(){ace.require(["ace/ext/split"],function(n){e&&(e.exports=n)})}()})(mcr);var ycr="Expected a function",b_t="__lodash_hash_undefined__",w_t=1/0,bcr="[object Function]",wcr="[object GeneratorFunction]",_cr="[object Symbol]",xcr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Scr=/^\w*$/,Ecr=/^\./,Ccr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$cr=/[\\^$.*+?()[\]{}|]/g,kcr=/\\(\\)?/g,Ocr=/^\[object .+?Constructor\]$/,Acr=typeof $e=="object"&&$e&&$e.Object===Object&&$e,Rcr=typeof self=="object"&&self&&self.Object===Object&&self,qMe=Acr||Rcr||Function("return this")();function Tcr(e,t){return e==null?void 0:e[t]}function Mcr(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}var Pcr=Array.prototype,Lcr=Function.prototype,__t=Object.prototype,Mbe=qMe["__core-js_shared__"],GJe=function(){var e=/[^.]+$/.exec(Mbe&&Mbe.keys&&Mbe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),x_t=Lcr.toString,YMe=__t.hasOwnProperty,S_t=__t.toString,Dcr=RegExp("^"+x_t.call(YMe).replace($cr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qJe=qMe.Symbol,Icr=Pcr.splice,Fcr=E_t(qMe,"Map"),kW=E_t(Object,"create"),YJe=qJe?qJe.prototype:void 0,KJe=YJe?YJe.toString:void 0;function WP(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ncr(){this.__data__=kW?kW(null):{}}function zcr(e){return this.has(e)&&delete this.__data__[e]}function jcr(e){var t=this.__data__;if(kW){var n=t[e];return n===b_t?void 0:n}return YMe.call(t,e)?t[e]:void 0}function Bcr(e){var t=this.__data__;return kW?t[e]!==void 0:YMe.call(t,e)}function Hcr(e,t){var n=this.__data__;return n[e]=kW&&t===void 0?b_t:t,this}WP.prototype.clear=Ncr;WP.prototype.delete=zcr;WP.prototype.get=jcr;WP.prototype.has=Bcr;WP.prototype.set=Hcr;function N7(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ucr(){this.__data__=[]}function Vcr(e){var t=this.__data__,n=$ce(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Icr.call(t,n,1),!0}function Wcr(e){var t=this.__data__,n=$ce(t,e);return n<0?void 0:t[n][1]}function Gcr(e){return $ce(this.__data__,e)>-1}function qcr(e,t){var n=this.__data__,r=$ce(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}N7.prototype.clear=Ucr;N7.prototype.delete=Vcr;N7.prototype.get=Wcr;N7.prototype.has=Gcr;N7.prototype.set=qcr;function LL(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ycr(){this.__data__={hash:new WP,map:new(Fcr||N7),string:new WP}}function Kcr(e){return kce(this,e).delete(e)}function Xcr(e){return kce(this,e).get(e)}function Zcr(e){return kce(this,e).has(e)}function Qcr(e,t){return kce(this,e).set(e,t),this}LL.prototype.clear=Ycr;LL.prototype.delete=Kcr;LL.prototype.get=Xcr;LL.prototype.has=Zcr;LL.prototype.set=Qcr;function $ce(e,t){for(var n=e.length;n--;)if(lfr(e[n][0],t))return n;return-1}function Jcr(e,t){t=rfr(t,e)?[t]:nfr(t);for(var n=0,r=t.length;e!=null&&n<r;)e=e[sfr(t[n++])];return n&&n==r?e:void 0}function efr(e){if(!$_t(e)||afr(e))return!1;var t=cfr(e)||Mcr(e)?Dcr:Ocr;return t.test(ufr(e))}function tfr(e){if(typeof e=="string")return e;if(XMe(e))return KJe?KJe.call(e):"";var t=e+"";return t=="0"&&1/e==-w_t?"-0":t}function nfr(e){return C_t(e)?e:ofr(e)}function kce(e,t){var n=e.__data__;return ifr(t)?n[typeof t=="string"?"string":"hash"]:n.map}function E_t(e,t){var n=Tcr(e,t);return efr(n)?n:void 0}function rfr(e,t){if(C_t(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||XMe(e)?!0:Scr.test(e)||!xcr.test(e)||t!=null&&e in Object(t)}function ifr(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function afr(e){return!!GJe&&GJe in e}var ofr=KMe(function(e){e=dfr(e);var t=[];return Ecr.test(e)&&t.push(""),e.replace(Ccr,function(n,r,i,a){t.push(i?a.replace(kcr,"$1"):r||n)}),t});function sfr(e){if(typeof e=="string"||XMe(e))return e;var t=e+"";return t=="0"&&1/e==-w_t?"-0":t}function ufr(e){if(e!=null){try{return x_t.call(e)}catch{}try{return e+""}catch{}}return""}function KMe(e,t){if(typeof e!="function"||t&&typeof t!="function")throw new TypeError(ycr);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return n.cache=a.set(i,s),s};return n.cache=new(KMe.Cache||LL),n}KMe.Cache=LL;function lfr(e,t){return e===t||e!==e&&t!==t}var C_t=Array.isArray;function cfr(e){var t=$_t(e)?S_t.call(e):"";return t==bcr||t==wcr}function $_t(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function ffr(e){return!!e&&typeof e=="object"}function XMe(e){return typeof e=="symbol"||ffr(e)&&S_t.call(e)==_cr}function dfr(e){return e==null?"":tfr(e)}function hfr(e,t,n){var r=e==null?void 0:Jcr(e,t);return r===void 0?n:r}var gfr=hfr,pfr=$e&&$e.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),GEe=$e&&$e.__assign||function(){return GEe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},GEe.apply(this,arguments)};Object.defineProperty(Cce,"__esModule",{value:!0});var r5=s_,Pbe=(0,r5.getAceInstance)(),vfr=h8,mfr=WEe,aa=Yr,XJe=z,Lbe=$W,O$=gfr,yfr=function(e){pfr(t,e);function t(n){var r=e.call(this,n)||this;return r5.editorEvents.forEach(function(i){r[i]=r[i].bind(r)}),r.debounce=r5.debounce,r}return t.prototype.isInShadow=function(n){for(var r=n&&n.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},t.prototype.componentDidMount=function(){var n=this,r=this.props,i=r.className,a=r.onBeforeLoad,s=r.mode,u=r.focus,f=r.theme,d=r.fontSize,c=r.value,h=r.defaultValue,p=r.cursorStart,v=r.showGutter,m=r.wrapEnabled,y=r.showPrintMargin,w=r.scrollMargin,_=w===void 0?[0,0,0,0]:w,S=r.keyboardHandler,C=r.onLoad,$=r.commands,k=r.annotations,M=r.markers,A=r.splits;this.editor=Pbe.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(f)),a&&a(Pbe);var L=Object.keys(this.props.editorProps),N=new mfr.Split(this.editor.container,"ace/theme/".concat(f),A);this.editor.env.split=N,this.splitEditor=N.getEditor(0),this.split=N,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var R=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),N.forEach(function(j,U){for(var H=0;H<L.length;H++)j[L[H]]=n.props.editorProps[L[H]];var Y=O$(h,U),Z=O$(c,U,"");j.session.setUndoManager(new Pbe.UndoManager),j.setTheme("ace/theme/".concat(f)),j.renderer.setScrollMargin(_[0],_[1],_[2],_[3]),j.getSession().setMode("ace/mode/".concat(s)),j.setFontSize(d),j.renderer.setShowGutter(v),j.getSession().setUseWrapMode(m),j.setShowPrintMargin(y),j.on("focus",n.onFocus),j.on("blur",n.onBlur),j.on("input",n.onInput),j.on("copy",n.onCopy),j.on("paste",n.onPaste),j.on("change",n.onChange),j.getSession().selection.on("changeSelection",n.onSelectionChange),j.getSession().selection.on("changeCursor",n.onCursorChange),j.session.on("changeScrollTop",n.onScroll),j.setValue(Y===void 0?Z:Y,p);var Q=O$(k,U,[]),ee=O$(M,U,[]);j.getSession().setAnnotations(Q),ee&&ee.length>0&&n.handleMarkers(ee,j);for(var H=0;H<r5.editorOptions.length;H++){var oe=r5.editorOptions[H];R.hasOwnProperty(oe)?j.setOption(oe,n.props[oe]):n.props[oe]&&console.warn("ReaceAce: editor option ".concat(oe," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}n.handleOptions(n.props,j),Array.isArray($)&&$.forEach(function(ue){typeof ue.exec=="string"?j.commands.bindKey(ue.bindKey,ue.exec):j.commands.addCommand(ue)}),S&&j.setKeyboardHandler("ace/keyboard/"+S)}),i&&(this.refEditor.className+=" "+i),u&&this.splitEditor.focus();var D=this.editor.env.split;D.setOrientation(this.props.orientation==="below"?D.BELOW:D.BESIDE),D.resize(!0),C&&C(D)},t.prototype.componentDidUpdate=function(n){var r=this,i=n,a=this.props,s=this.editor.env.split;if(a.splits!==i.splits&&s.setSplits(a.splits),a.orientation!==i.orientation&&s.setOrientation(a.orientation==="below"?s.BELOW:s.BESIDE),s.forEach(function(c,h){a.mode!==i.mode&&c.getSession().setMode("ace/mode/"+a.mode),a.keyboardHandler!==i.keyboardHandler&&(a.keyboardHandler?c.setKeyboardHandler("ace/keyboard/"+a.keyboardHandler):c.setKeyboardHandler(null)),a.fontSize!==i.fontSize&&c.setFontSize(a.fontSize),a.wrapEnabled!==i.wrapEnabled&&c.getSession().setUseWrapMode(a.wrapEnabled),a.showPrintMargin!==i.showPrintMargin&&c.setShowPrintMargin(a.showPrintMargin),a.showGutter!==i.showGutter&&c.renderer.setShowGutter(a.showGutter);for(var p=0;p<r5.editorOptions.length;p++){var v=r5.editorOptions[p];a[v]!==i[v]&&c.setOption(v,a[v])}Lbe(a.setOptions,i.setOptions)||r.handleOptions(a,c);var m=O$(a.value,h,"");if(c.getValue()!==m){r.silent=!0;var y=c.session.selection.toJSON();c.setValue(m,a.cursorStart),c.session.selection.fromJSON(y),r.silent=!1}var w=O$(a.annotations,h,[]),_=O$(i.annotations,h,[]);Lbe(w,_)||c.getSession().setAnnotations(w);var S=O$(a.markers,h,[]),C=O$(i.markers,h,[]);!Lbe(S,C)&&Array.isArray(S)&&r.handleMarkers(S,c)}),a.className!==i.className){var u=this.refEditor.className,f=u.trim().split(" "),d=i.className.trim().split(" ");d.forEach(function(c){var h=f.indexOf(c);f.splice(h,1)}),this.refEditor.className=" "+a.className+" "+f.join(" ")}a.theme!==i.theme&&s.setTheme("ace/theme/"+a.theme),a.focus&&!i.focus&&this.splitEditor.focus(),(a.height!==this.props.height||a.width!==this.props.width)&&this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getValue())}),this.props.onChange(r,n)}},t.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getSelection())}),this.props.onSelectionChange(r,n)}},t.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var r=[];this.editor.env.split.forEach(function(i){r.push(i.getSelection())}),this.props.onCursorChange(r,n)}},t.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n)},t.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n)},t.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n)},t.prototype.onCopy=function(n){this.props.onCopy&&this.props.onCopy(n)},t.prototype.onPaste=function(n){this.props.onPaste&&this.props.onPaste(n)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(n,r){for(var i=Object.keys(n.setOptions),a=0;a<i.length;a++)r.setOption(i[a],n.setOptions[i[a]])},t.prototype.handleMarkers=function(n,r){var i=r.getSession().getMarkers(!0);for(var a in i)i.hasOwnProperty(a)&&r.getSession().removeMarker(i[a].id);i=r.getSession().getMarkers(!1);for(var a in i)i.hasOwnProperty(a)&&r.getSession().removeMarker(i[a].id);n.forEach(function(s){var u=s.startRow,f=s.startCol,d=s.endRow,c=s.endCol,h=s.className,p=s.type,v=s.inFront,m=v===void 0?!1:v,y=new vfr.Range(u,f,d,c);r.getSession().addMarker(y,h,p,m)})},t.prototype.updateRef=function(n){this.refEditor=n},t.prototype.render=function(){var n=this.props,r=n.name,i=n.width,a=n.height,s=n.style,u=GEe({width:i,height:a},s);return XJe.createElement("div",{ref:this.updateRef,id:r,style:u})},t.propTypes={className:aa.string,debounceChangePeriod:aa.number,defaultValue:aa.arrayOf(aa.string),focus:aa.bool,fontSize:aa.oneOfType([aa.number,aa.string]),height:aa.string,mode:aa.string,name:aa.string,onBlur:aa.func,onChange:aa.func,onCopy:aa.func,onFocus:aa.func,onInput:aa.func,onLoad:aa.func,onPaste:aa.func,onScroll:aa.func,orientation:aa.string,showGutter:aa.bool,splits:aa.number,theme:aa.string,value:aa.arrayOf(aa.string),width:aa.string,onSelectionChange:aa.func,onCursorChange:aa.func,onBeforeLoad:aa.func,minLines:aa.number,maxLines:aa.number,readOnly:aa.bool,highlightActiveLine:aa.bool,tabSize:aa.number,showPrintMargin:aa.bool,cursorStart:aa.number,editorProps:aa.object,setOptions:aa.object,style:aa.object,scrollMargin:aa.array,annotations:aa.array,markers:aa.array,keyboardHandler:aa.string,wrapEnabled:aa.bool,enableBasicAutocompletion:aa.oneOfType([aa.bool,aa.array]),enableLiveAutocompletion:aa.oneOfType([aa.bool,aa.array]),commands:aa.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(XJe.Component);Cce.default=yfr;var qEe={},bfr={get exports(){return qEe},set exports(e){qEe=e}};(function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;t.Diff=function(a,s){return[a,s]},t.prototype.diff_main=function(a,s,u,f){typeof f>"u"&&(this.Diff_Timeout<=0?f=Number.MAX_VALUE:f=new Date().getTime()+this.Diff_Timeout*1e3);var d=f;if(a==null||s==null)throw new Error("Null input. (diff_main)");if(a==s)return a?[new t.Diff(i,a)]:[];typeof u>"u"&&(u=!0);var c=u,h=this.diff_commonPrefix(a,s),p=a.substring(0,h);a=a.substring(h),s=s.substring(h),h=this.diff_commonSuffix(a,s);var v=a.substring(a.length-h);a=a.substring(0,a.length-h),s=s.substring(0,s.length-h);var m=this.diff_compute_(a,s,c,d);return p&&m.unshift(new t.Diff(i,p)),v&&m.push(new t.Diff(i,v)),this.diff_cleanupMerge(m),m},t.prototype.diff_compute_=function(a,s,u,f){var d;if(!a)return[new t.Diff(r,s)];if(!s)return[new t.Diff(n,a)];var c=a.length>s.length?a:s,h=a.length>s.length?s:a,p=c.indexOf(h);if(p!=-1)return d=[new t.Diff(r,c.substring(0,p)),new t.Diff(i,h),new t.Diff(r,c.substring(p+h.length))],a.length>s.length&&(d[0][0]=d[2][0]=n),d;if(h.length==1)return[new t.Diff(n,a),new t.Diff(r,s)];var v=this.diff_halfMatch_(a,s);if(v){var m=v[0],y=v[1],w=v[2],_=v[3],S=v[4],C=this.diff_main(m,w,u,f),$=this.diff_main(y,_,u,f);return C.concat([new t.Diff(i,S)],$)}return u&&a.length>100&&s.length>100?this.diff_lineMode_(a,s,f):this.diff_bisect_(a,s,f)},t.prototype.diff_lineMode_=function(a,s,u){var f=this.diff_linesToChars_(a,s);a=f.chars1,s=f.chars2;var d=f.lineArray,c=this.diff_main(a,s,!1,u);this.diff_charsToLines_(c,d),this.diff_cleanupSemantic(c),c.push(new t.Diff(i,""));for(var h=0,p=0,v=0,m="",y="";h<c.length;){switch(c[h][0]){case r:v++,y+=c[h][1];break;case n:p++,m+=c[h][1];break;case i:if(p>=1&&v>=1){c.splice(h-p-v,p+v),h=h-p-v;for(var w=this.diff_main(m,y,!1,u),_=w.length-1;_>=0;_--)c.splice(h,0,w[_]);h=h+w.length}v=0,p=0,m="",y="";break}h++}return c.pop(),c},t.prototype.diff_bisect_=function(a,s,u){for(var f=a.length,d=s.length,c=Math.ceil((f+d)/2),h=c,p=2*c,v=new Array(p),m=new Array(p),y=0;y<p;y++)v[y]=-1,m[y]=-1;v[h+1]=0,m[h+1]=0;for(var w=f-d,_=w%2!=0,S=0,C=0,$=0,k=0,M=0;M<c&&!(new Date().getTime()>u);M++){for(var A=-M+S;A<=M-C;A+=2){var L=h+A,N;A==-M||A!=M&&v[L-1]<v[L+1]?N=v[L+1]:N=v[L-1]+1;for(var R=N-A;N<f&&R<d&&a.charAt(N)==s.charAt(R);)N++,R++;if(v[L]=N,N>f)C+=2;else if(R>d)S+=2;else if(_){var D=h+w-A;if(D>=0&&D<p&&m[D]!=-1){var j=f-m[D];if(N>=j)return this.diff_bisectSplit_(a,s,N,R,u)}}}for(var U=-M+$;U<=M-k;U+=2){var D=h+U,j;U==-M||U!=M&&m[D-1]<m[D+1]?j=m[D+1]:j=m[D-1]+1;for(var H=j-U;j<f&&H<d&&a.charAt(f-j-1)==s.charAt(d-H-1);)j++,H++;if(m[D]=j,j>f)k+=2;else if(H>d)$+=2;else if(!_){var L=h+w-U;if(L>=0&&L<p&&v[L]!=-1){var N=v[L],R=h+N-L;if(j=f-j,N>=j)return this.diff_bisectSplit_(a,s,N,R,u)}}}}return[new t.Diff(n,a),new t.Diff(r,s)]},t.prototype.diff_bisectSplit_=function(a,s,u,f,d){var c=a.substring(0,u),h=s.substring(0,f),p=a.substring(u),v=s.substring(f),m=this.diff_main(c,h,!1,d),y=this.diff_main(p,v,!1,d);return m.concat(y)},t.prototype.diff_linesToChars_=function(a,s){var u=[],f={};u[0]="";function d(v){for(var m="",y=0,w=-1,_=u.length;w<v.length-1;){w=v.indexOf(`
`,y),w==-1&&(w=v.length-1);var S=v.substring(y,w+1);(f.hasOwnProperty?f.hasOwnProperty(S):f[S]!==void 0)?m+=String.fromCharCode(f[S]):(_==c&&(S=v.substring(y),w=v.length),m+=String.fromCharCode(_),f[S]=_,u[_++]=S),y=w+1}return m}var c=4e4,h=d(a);c=65535;var p=d(s);return{chars1:h,chars2:p,lineArray:u}},t.prototype.diff_charsToLines_=function(a,s){for(var u=0;u<a.length;u++){for(var f=a[u][1],d=[],c=0;c<f.length;c++)d[c]=s[f.charCodeAt(c)];a[u][1]=d.join("")}},t.prototype.diff_commonPrefix=function(a,s){if(!a||!s||a.charAt(0)!=s.charAt(0))return 0;for(var u=0,f=Math.min(a.length,s.length),d=f,c=0;u<d;)a.substring(c,d)==s.substring(c,d)?(u=d,c=u):f=d,d=Math.floor((f-u)/2+u);return d},t.prototype.diff_commonSuffix=function(a,s){if(!a||!s||a.charAt(a.length-1)!=s.charAt(s.length-1))return 0;for(var u=0,f=Math.min(a.length,s.length),d=f,c=0;u<d;)a.substring(a.length-d,a.length-c)==s.substring(s.length-d,s.length-c)?(u=d,c=u):f=d,d=Math.floor((f-u)/2+u);return d},t.prototype.diff_commonOverlap_=function(a,s){var u=a.length,f=s.length;if(u==0||f==0)return 0;u>f?a=a.substring(u-f):u<f&&(s=s.substring(0,u));var d=Math.min(u,f);if(a==s)return d;for(var c=0,h=1;;){var p=a.substring(d-h),v=s.indexOf(p);if(v==-1)return c;h+=v,(v==0||a.substring(d-h)==s.substring(0,h))&&(c=h,h++)}},t.prototype.diff_halfMatch_=function(a,s){if(this.Diff_Timeout<=0)return null;var u=a.length>s.length?a:s,f=a.length>s.length?s:a;if(u.length<4||f.length*2<u.length)return null;var d=this;function c(C,$,k){for(var M=C.substring(k,k+Math.floor(C.length/4)),A=-1,L="",N,R,D,j;(A=$.indexOf(M,A+1))!=-1;){var U=d.diff_commonPrefix(C.substring(k),$.substring(A)),H=d.diff_commonSuffix(C.substring(0,k),$.substring(0,A));L.length<H+U&&(L=$.substring(A-H,A)+$.substring(A,A+U),N=C.substring(0,k-H),R=C.substring(k+U),D=$.substring(0,A-H),j=$.substring(A+U))}return L.length*2>=C.length?[N,R,D,j,L]:null}var h=c(u,f,Math.ceil(u.length/4)),p=c(u,f,Math.ceil(u.length/2)),v;if(!h&&!p)return null;p?h?v=h[4].length>p[4].length?h:p:v=p:v=h;var m,y,w,_;a.length>s.length?(m=v[0],y=v[1],w=v[2],_=v[3]):(w=v[0],_=v[1],m=v[2],y=v[3]);var S=v[4];return[m,y,w,_,S]},t.prototype.diff_cleanupSemantic=function(a){for(var s=!1,u=[],f=0,d=null,c=0,h=0,p=0,v=0,m=0;c<a.length;)a[c][0]==i?(u[f++]=c,h=v,p=m,v=0,m=0,d=a[c][1]):(a[c][0]==r?v+=a[c][1].length:m+=a[c][1].length,d&&d.length<=Math.max(h,p)&&d.length<=Math.max(v,m)&&(a.splice(u[f-1],0,new t.Diff(n,d)),a[u[f-1]+1][0]=r,f--,f--,c=f>0?u[f-1]:-1,h=0,p=0,v=0,m=0,d=null,s=!0)),c++;for(s&&this.diff_cleanupMerge(a),this.diff_cleanupSemanticLossless(a),c=1;c<a.length;){if(a[c-1][0]==n&&a[c][0]==r){var y=a[c-1][1],w=a[c][1],_=this.diff_commonOverlap_(y,w),S=this.diff_commonOverlap_(w,y);_>=S?(_>=y.length/2||_>=w.length/2)&&(a.splice(c,0,new t.Diff(i,w.substring(0,_))),a[c-1][1]=y.substring(0,y.length-_),a[c+1][1]=w.substring(_),c++):(S>=y.length/2||S>=w.length/2)&&(a.splice(c,0,new t.Diff(i,y.substring(0,S))),a[c-1][0]=r,a[c-1][1]=w.substring(0,w.length-S),a[c+1][0]=n,a[c+1][1]=y.substring(S),c++),c++}c++}},t.prototype.diff_cleanupSemanticLossless=function(a){function s(S,C){if(!S||!C)return 6;var $=S.charAt(S.length-1),k=C.charAt(0),M=$.match(t.nonAlphaNumericRegex_),A=k.match(t.nonAlphaNumericRegex_),L=M&&$.match(t.whitespaceRegex_),N=A&&k.match(t.whitespaceRegex_),R=L&&$.match(t.linebreakRegex_),D=N&&k.match(t.linebreakRegex_),j=R&&S.match(t.blanklineEndRegex_),U=D&&C.match(t.blanklineStartRegex_);return j||U?5:R||D?4:M&&!L&&N?3:L||N?2:M||A?1:0}for(var u=1;u<a.length-1;){if(a[u-1][0]==i&&a[u+1][0]==i){var f=a[u-1][1],d=a[u][1],c=a[u+1][1],h=this.diff_commonSuffix(f,d);if(h){var p=d.substring(d.length-h);f=f.substring(0,f.length-h),d=p+d.substring(0,d.length-h),c=p+c}for(var v=f,m=d,y=c,w=s(f,d)+s(d,c);d.charAt(0)===c.charAt(0);){f+=d.charAt(0),d=d.substring(1)+c.charAt(0),c=c.substring(1);var _=s(f,d)+s(d,c);_>=w&&(w=_,v=f,m=d,y=c)}a[u-1][1]!=v&&(v?a[u-1][1]=v:(a.splice(u-1,1),u--),a[u][1]=m,y?a[u+1][1]=y:(a.splice(u+1,1),u--))}u++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(a){for(var s=!1,u=[],f=0,d=null,c=0,h=!1,p=!1,v=!1,m=!1;c<a.length;)a[c][0]==i?(a[c][1].length<this.Diff_EditCost&&(v||m)?(u[f++]=c,h=v,p=m,d=a[c][1]):(f=0,d=null),v=m=!1):(a[c][0]==n?m=!0:v=!0,d&&(h&&p&&v&&m||d.length<this.Diff_EditCost/2&&h+p+v+m==3)&&(a.splice(u[f-1],0,new t.Diff(n,d)),a[u[f-1]+1][0]=r,f--,d=null,h&&p?(v=m=!0,f=0):(f--,c=f>0?u[f-1]:-1,v=m=!1),s=!0)),c++;s&&this.diff_cleanupMerge(a)},t.prototype.diff_cleanupMerge=function(a){a.push(new t.Diff(i,""));for(var s=0,u=0,f=0,d="",c="",h;s<a.length;)switch(a[s][0]){case r:f++,c+=a[s][1],s++;break;case n:u++,d+=a[s][1],s++;break;case i:u+f>1?(u!==0&&f!==0&&(h=this.diff_commonPrefix(c,d),h!==0&&(s-u-f>0&&a[s-u-f-1][0]==i?a[s-u-f-1][1]+=c.substring(0,h):(a.splice(0,0,new t.Diff(i,c.substring(0,h))),s++),c=c.substring(h),d=d.substring(h)),h=this.diff_commonSuffix(c,d),h!==0&&(a[s][1]=c.substring(c.length-h)+a[s][1],c=c.substring(0,c.length-h),d=d.substring(0,d.length-h))),s-=u+f,a.splice(s,u+f),d.length&&(a.splice(s,0,new t.Diff(n,d)),s++),c.length&&(a.splice(s,0,new t.Diff(r,c)),s++),s++):s!==0&&a[s-1][0]==i?(a[s-1][1]+=a[s][1],a.splice(s,1)):s++,f=0,u=0,d="",c="";break}a[a.length-1][1]===""&&a.pop();var p=!1;for(s=1;s<a.length-1;)a[s-1][0]==i&&a[s+1][0]==i&&(a[s][1].substring(a[s][1].length-a[s-1][1].length)==a[s-1][1]?(a[s][1]=a[s-1][1]+a[s][1].substring(0,a[s][1].length-a[s-1][1].length),a[s+1][1]=a[s-1][1]+a[s+1][1],a.splice(s-1,1),p=!0):a[s][1].substring(0,a[s+1][1].length)==a[s+1][1]&&(a[s-1][1]+=a[s+1][1],a[s][1]=a[s][1].substring(a[s+1][1].length)+a[s+1][1],a.splice(s+1,1),p=!0)),s++;p&&this.diff_cleanupMerge(a)},t.prototype.diff_xIndex=function(a,s){var u=0,f=0,d=0,c=0,h;for(h=0;h<a.length&&(a[h][0]!==r&&(u+=a[h][1].length),a[h][0]!==n&&(f+=a[h][1].length),!(u>s));h++)d=u,c=f;return a.length!=h&&a[h][0]===n?c:c+(s-d)},t.prototype.diff_prettyHtml=function(a){for(var s=[],u=/&/g,f=/</g,d=/>/g,c=/\n/g,h=0;h<a.length;h++){var p=a[h][0],v=a[h][1],m=v.replace(u,"&amp;").replace(f,"&lt;").replace(d,"&gt;").replace(c,"&para;<br>");switch(p){case r:s[h]='<ins style="background:#e6ffe6;">'+m+"</ins>";break;case n:s[h]='<del style="background:#ffe6e6;">'+m+"</del>";break;case i:s[h]="<span>"+m+"</span>";break}}return s.join("")},t.prototype.diff_text1=function(a){for(var s=[],u=0;u<a.length;u++)a[u][0]!==r&&(s[u]=a[u][1]);return s.join("")},t.prototype.diff_text2=function(a){for(var s=[],u=0;u<a.length;u++)a[u][0]!==n&&(s[u]=a[u][1]);return s.join("")},t.prototype.diff_levenshtein=function(a){for(var s=0,u=0,f=0,d=0;d<a.length;d++){var c=a[d][0],h=a[d][1];switch(c){case r:u+=h.length;break;case n:f+=h.length;break;case i:s+=Math.max(u,f),u=0,f=0;break}}return s+=Math.max(u,f),s},t.prototype.diff_toDelta=function(a){for(var s=[],u=0;u<a.length;u++)switch(a[u][0]){case r:s[u]="+"+encodeURI(a[u][1]);break;case n:s[u]="-"+a[u][1].length;break;case i:s[u]="="+a[u][1].length;break}return s.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(a,s){for(var u=[],f=0,d=0,c=s.split(/\t/g),h=0;h<c.length;h++){var p=c[h].substring(1);switch(c[h].charAt(0)){case"+":try{u[f++]=new t.Diff(r,decodeURI(p))}catch{throw new Error("Illegal escape in diff_fromDelta: "+p)}break;case"-":case"=":var v=parseInt(p,10);if(isNaN(v)||v<0)throw new Error("Invalid number in diff_fromDelta: "+p);var m=a.substring(d,d+=v);c[h].charAt(0)=="="?u[f++]=new t.Diff(i,m):u[f++]=new t.Diff(n,m);break;default:if(c[h])throw new Error("Invalid diff operation in diff_fromDelta: "+c[h])}}if(d!=a.length)throw new Error("Delta length ("+d+") does not equal source text length ("+a.length+").");return u},t.prototype.match_main=function(a,s,u){if(a==null||s==null||u==null)throw new Error("Null input. (match_main)");return u=Math.max(0,Math.min(u,a.length)),a==s?0:a.length?a.substring(u,u+s.length)==s?u:this.match_bitap_(a,s,u):-1},t.prototype.match_bitap_=function(a,s,u){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var f=this.match_alphabet_(s),d=this;function c(N,R){var D=N/s.length,j=Math.abs(u-R);return d.Match_Distance?D+j/d.Match_Distance:j?1:D}var h=this.Match_Threshold,p=a.indexOf(s,u);p!=-1&&(h=Math.min(c(0,p),h),p=a.lastIndexOf(s,u+s.length),p!=-1&&(h=Math.min(c(0,p),h)));var v=1<<s.length-1;p=-1;for(var m,y,w=s.length+a.length,_,S=0;S<s.length;S++){for(m=0,y=w;m<y;)c(S,u+y)<=h?m=y:w=y,y=Math.floor((w-m)/2+m);w=y;var C=Math.max(1,u-y+1),$=Math.min(u+y,a.length)+s.length,k=Array($+2);k[$+1]=(1<<S)-1;for(var M=$;M>=C;M--){var A=f[a.charAt(M-1)];if(S===0?k[M]=(k[M+1]<<1|1)&A:k[M]=(k[M+1]<<1|1)&A|((_[M+1]|_[M])<<1|1)|_[M+1],k[M]&v){var L=c(S,M-1);if(L<=h)if(h=L,p=M-1,p>u)C=Math.max(1,2*u-p);else break}}if(c(S+1,u)>h)break;_=k}return p},t.prototype.match_alphabet_=function(a){for(var s={},u=0;u<a.length;u++)s[a.charAt(u)]=0;for(var u=0;u<a.length;u++)s[a.charAt(u)]|=1<<a.length-u-1;return s},t.prototype.patch_addContext_=function(a,s){if(s.length!=0){if(a.start2===null)throw Error("patch not initialized");for(var u=s.substring(a.start2,a.start2+a.length1),f=0;s.indexOf(u)!=s.lastIndexOf(u)&&u.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)f+=this.Patch_Margin,u=s.substring(a.start2-f,a.start2+a.length1+f);f+=this.Patch_Margin;var d=s.substring(a.start2-f,a.start2);d&&a.diffs.unshift(new t.Diff(i,d));var c=s.substring(a.start2+a.length1,a.start2+a.length1+f);c&&a.diffs.push(new t.Diff(i,c)),a.start1-=d.length,a.start2-=d.length,a.length1+=d.length+c.length,a.length2+=d.length+c.length}},t.prototype.patch_make=function(a,s,u){var f,d;if(typeof a=="string"&&typeof s=="string"&&typeof u>"u")f=a,d=this.diff_main(f,s,!0),d.length>2&&(this.diff_cleanupSemantic(d),this.diff_cleanupEfficiency(d));else if(a&&typeof a=="object"&&typeof s>"u"&&typeof u>"u")d=a,f=this.diff_text1(d);else if(typeof a=="string"&&s&&typeof s=="object"&&typeof u>"u")f=a,d=s;else if(typeof a=="string"&&typeof s=="string"&&u&&typeof u=="object")f=a,d=u;else throw new Error("Unknown call format to patch_make.");if(d.length===0)return[];for(var c=[],h=new t.patch_obj,p=0,v=0,m=0,y=f,w=f,_=0;_<d.length;_++){var S=d[_][0],C=d[_][1];switch(!p&&S!==i&&(h.start1=v,h.start2=m),S){case r:h.diffs[p++]=d[_],h.length2+=C.length,w=w.substring(0,m)+C+w.substring(m);break;case n:h.length1+=C.length,h.diffs[p++]=d[_],w=w.substring(0,m)+w.substring(m+C.length);break;case i:C.length<=2*this.Patch_Margin&&p&&d.length!=_+1?(h.diffs[p++]=d[_],h.length1+=C.length,h.length2+=C.length):C.length>=2*this.Patch_Margin&&p&&(this.patch_addContext_(h,y),c.push(h),h=new t.patch_obj,p=0,y=w,v=m);break}S!==r&&(v+=C.length),S!==n&&(m+=C.length)}return p&&(this.patch_addContext_(h,y),c.push(h)),c},t.prototype.patch_deepCopy=function(a){for(var s=[],u=0;u<a.length;u++){var f=a[u],d=new t.patch_obj;d.diffs=[];for(var c=0;c<f.diffs.length;c++)d.diffs[c]=new t.Diff(f.diffs[c][0],f.diffs[c][1]);d.start1=f.start1,d.start2=f.start2,d.length1=f.length1,d.length2=f.length2,s[u]=d}return s},t.prototype.patch_apply=function(a,s){if(a.length==0)return[s,[]];a=this.patch_deepCopy(a);var u=this.patch_addPadding(a);s=u+s+u,this.patch_splitMax(a);for(var f=0,d=[],c=0;c<a.length;c++){var h=a[c].start2+f,p=this.diff_text1(a[c].diffs),v,m=-1;if(p.length>this.Match_MaxBits?(v=this.match_main(s,p.substring(0,this.Match_MaxBits),h),v!=-1&&(m=this.match_main(s,p.substring(p.length-this.Match_MaxBits),h+p.length-this.Match_MaxBits),(m==-1||v>=m)&&(v=-1))):v=this.match_main(s,p,h),v==-1)d[c]=!1,f-=a[c].length2-a[c].length1;else{d[c]=!0,f=v-h;var y;if(m==-1?y=s.substring(v,v+p.length):y=s.substring(v,m+this.Match_MaxBits),p==y)s=s.substring(0,v)+this.diff_text2(a[c].diffs)+s.substring(v+p.length);else{var w=this.diff_main(p,y,!1);if(p.length>this.Match_MaxBits&&this.diff_levenshtein(w)/p.length>this.Patch_DeleteThreshold)d[c]=!1;else{this.diff_cleanupSemanticLossless(w);for(var _=0,S,C=0;C<a[c].diffs.length;C++){var $=a[c].diffs[C];$[0]!==i&&(S=this.diff_xIndex(w,_)),$[0]===r?s=s.substring(0,v+S)+$[1]+s.substring(v+S):$[0]===n&&(s=s.substring(0,v+S)+s.substring(v+this.diff_xIndex(w,_+$[1].length))),$[0]!==n&&(_+=$[1].length)}}}}}return s=s.substring(u.length,s.length-u.length),[s,d]},t.prototype.patch_addPadding=function(a){for(var s=this.Patch_Margin,u="",f=1;f<=s;f++)u+=String.fromCharCode(f);for(var f=0;f<a.length;f++)a[f].start1+=s,a[f].start2+=s;var d=a[0],c=d.diffs;if(c.length==0||c[0][0]!=i)c.unshift(new t.Diff(i,u)),d.start1-=s,d.start2-=s,d.length1+=s,d.length2+=s;else if(s>c[0][1].length){var h=s-c[0][1].length;c[0][1]=u.substring(c[0][1].length)+c[0][1],d.start1-=h,d.start2-=h,d.length1+=h,d.length2+=h}if(d=a[a.length-1],c=d.diffs,c.length==0||c[c.length-1][0]!=i)c.push(new t.Diff(i,u)),d.length1+=s,d.length2+=s;else if(s>c[c.length-1][1].length){var h=s-c[c.length-1][1].length;c[c.length-1][1]+=u.substring(0,h),d.length1+=h,d.length2+=h}return u},t.prototype.patch_splitMax=function(a){for(var s=this.Match_MaxBits,u=0;u<a.length;u++)if(!(a[u].length1<=s)){var f=a[u];a.splice(u--,1);for(var d=f.start1,c=f.start2,h="";f.diffs.length!==0;){var p=new t.patch_obj,v=!0;for(p.start1=d-h.length,p.start2=c-h.length,h!==""&&(p.length1=p.length2=h.length,p.diffs.push(new t.Diff(i,h)));f.diffs.length!==0&&p.length1<s-this.Patch_Margin;){var m=f.diffs[0][0],y=f.diffs[0][1];m===r?(p.length2+=y.length,c+=y.length,p.diffs.push(f.diffs.shift()),v=!1):m===n&&p.diffs.length==1&&p.diffs[0][0]==i&&y.length>2*s?(p.length1+=y.length,d+=y.length,v=!1,p.diffs.push(new t.Diff(m,y)),f.diffs.shift()):(y=y.substring(0,s-p.length1-this.Patch_Margin),p.length1+=y.length,d+=y.length,m===i?(p.length2+=y.length,c+=y.length):v=!1,p.diffs.push(new t.Diff(m,y)),y==f.diffs[0][1]?f.diffs.shift():f.diffs[0][1]=f.diffs[0][1].substring(y.length))}h=this.diff_text2(p.diffs),h=h.substring(h.length-this.Patch_Margin);var w=this.diff_text1(f.diffs).substring(0,this.Patch_Margin);w!==""&&(p.length1+=w.length,p.length2+=w.length,p.diffs.length!==0&&p.diffs[p.diffs.length-1][0]===i?p.diffs[p.diffs.length-1][1]+=w:p.diffs.push(new t.Diff(i,w))),v||a.splice(++u,0,p)}}},t.prototype.patch_toText=function(a){for(var s=[],u=0;u<a.length;u++)s[u]=a[u];return s.join("")},t.prototype.patch_fromText=function(a){var s=[];if(!a)return s;for(var u=a.split(`
`),f=0,d=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;f<u.length;){var c=u[f].match(d);if(!c)throw new Error("Invalid patch string: "+u[f]);var h=new t.patch_obj;for(s.push(h),h.start1=parseInt(c[1],10),c[2]===""?(h.start1--,h.length1=1):c[2]=="0"?h.length1=0:(h.start1--,h.length1=parseInt(c[2],10)),h.start2=parseInt(c[3],10),c[4]===""?(h.start2--,h.length2=1):c[4]=="0"?h.length2=0:(h.start2--,h.length2=parseInt(c[4],10)),f++;f<u.length;){var p=u[f].charAt(0);try{var v=decodeURI(u[f].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+v)}if(p=="-")h.diffs.push(new t.Diff(n,v));else if(p=="+")h.diffs.push(new t.Diff(r,v));else if(p==" ")h.diffs.push(new t.Diff(i,v));else{if(p=="@")break;if(p!=="")throw new Error('Invalid patch mode "'+p+'" in: '+v)}f++}}return s},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var a,s;this.length1===0?a=this.start1+",0":this.length1==1?a=this.start1+1:a=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var u=["@@ -"+a+" +"+s+` @@
`],f,d=0;d<this.diffs.length;d++){switch(this.diffs[d][0]){case r:f="+";break;case n:f="-";break;case i:f=" ";break}u[d+1]=f+encodeURI(this.diffs[d][1])+`
`}return u.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=r,e.exports.DIFF_EQUAL=i})(bfr);var wfr=$e&&$e.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(GMe,"__esModule",{value:!0});var ru=Yr,ZJe=z,_fr=Cce,xfr=qEe,Sfr=function(e){wfr(t,e);function t(n){var r=e.call(this,n)||this;return r.state={value:r.props.value},r.onChange=r.onChange.bind(r),r.diff=r.diff.bind(r),r}return t.prototype.componentDidUpdate=function(){var n=this.props.value;n!==this.state.value&&this.setState({value:n})},t.prototype.onChange=function(n){this.setState({value:n}),this.props.onChange&&this.props.onChange(n)},t.prototype.diff=function(){var n=new xfr,r=this.state.value[0],i=this.state.value[1];if(r.length===0&&i.length===0)return[];var a=n.diff_main(r,i);n.diff_cleanupSemantic(a);var s=this.generateDiffedLines(a),u=this.setCodeMarkers(s);return u},t.prototype.generateDiffedLines=function(n){var r={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},i={left:[],right:[]},a={left:1,right:1};return n.forEach(function(s){var u=s[0],f=s[1],d=f.split(`
`).length-1;if(f.length!==0){var c=f[0],h=f[f.length-1],p=0;switch(u){case r.DIFF_EQUAL:a.left+=d,a.right+=d;break;case r.DIFF_DELETE:c===`
`&&(a.left++,d--),p=d,p===0&&i.right.push({startLine:a.right,endLine:a.right}),h===`
`&&(p-=1),i.left.push({startLine:a.left,endLine:a.left+p}),a.left+=d;break;case r.DIFF_INSERT:c===`
`&&(a.right++,d--),p=d,p===0&&i.left.push({startLine:a.left,endLine:a.left}),h===`
`&&(p-=1),i.right.push({startLine:a.right,endLine:a.right+p}),a.right+=d;break;default:throw new Error("Diff type was not defined.")}}}),i},t.prototype.setCodeMarkers=function(n){n===void 0&&(n={left:[],right:[]});for(var r=[],i={left:[],right:[]},a=0;a<n.left.length;a++){var s={startRow:n.left[a].startLine-1,endRow:n.left[a].endLine,type:"text",className:"codeMarker"};i.left.push(s)}for(var a=0;a<n.right.length;a++){var s={startRow:n.right[a].startLine-1,endRow:n.right[a].endLine,type:"text",className:"codeMarker"};i.right.push(s)}return r[0]=i.left,r[1]=i.right,r},t.prototype.render=function(){var n=this.diff();return ZJe.createElement(_fr.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:n})},t.propTypes={cursorStart:ru.number,editorProps:ru.object,enableBasicAutocompletion:ru.bool,enableLiveAutocompletion:ru.bool,focus:ru.bool,fontSize:ru.number,height:ru.string,highlightActiveLine:ru.bool,maxLines:ru.number,minLines:ru.number,mode:ru.string,name:ru.string,className:ru.string,onLoad:ru.func,onPaste:ru.func,onScroll:ru.func,onChange:ru.func,orientation:ru.string,readOnly:ru.bool,scrollMargin:ru.array,setOptions:ru.object,showGutter:ru.bool,showPrintMargin:ru.bool,splits:ru.number,style:ru.object,tabSize:ru.number,theme:ru.string,value:ru.array,width:ru.string,wrapEnabled:ru.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(ZJe.Component);GMe.default=Sfr;Object.defineProperty(Y3,"__esModule",{value:!0});Y3.diff=Y3.split=void 0;var Efr=WMe,Cfr=GMe;Y3.diff=Cfr.default;var $fr=Cce;Y3.split=$fr.default;Y3.default=Efr.default;var QJe={},kfr={get exports(){return QJe},set exports(e){QJe=e}};(function(e,t){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,u=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},u.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};a.inherits(u,s),u.getTagRule=function(f){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},u.getStartRule=function(f){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:f}},u.getEndRule=function(f){return{token:"comment.doc",regex:"\\*\\/",next:f}},r.DocCommentHighlightRules=u}),ace.define("ace/mode/golang_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),s=n("./doc_comment_highlight_rules").DocCommentHighlightRules,u=n("./text_highlight_rules").TextHighlightRules,f=function(){var d="else|break|case|return|goto|if|const|select|continue|struct|default|switch|for|range|func|import|package|chan|defer|fallthrough|go|interface|map|range|select|type|var",c="string|uint8|uint16|uint32|uint64|int8|int16|int32|int64|float32|float64|complex64|complex128|byte|rune|uint|int|uintptr|bool|error",h="new|close|cap|copy|panic|panicln|print|println|len|make|delete|real|recover|imag|append",p="nil|true|false|iota",v=this.createKeywordMapper({keyword:d,"constant.language":p,"support.function":h,"support.type":c},""),m=`\\\\(?:[0-7]{3}|x\\h{2}|u{4}|U\\h{6}|[abfnrtv'"\\\\])`.replace(/\\h/g,"[a-fA-F\\d]");this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},s.getStartRule("doc-start"),{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"string",regex:/"(?:[^"\\]|\\.)*?"/},{token:"string",regex:"`",next:"bqstring"},{token:"constant.numeric",regex:"'(?:[^\\'\uD800-\uDBFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|"+m.replace('"',"")+")'"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:["keyword","text","entity.name.function"],regex:"(func)(\\s+)([a-zA-Z_$][a-zA-Z0-9_$]*)\\b"},{token:function(y){return y[y.length-1]=="("?[{type:v(y.slice(0,-1))||"support.function",value:y.slice(0,-1)},{type:"paren.lparen",value:y.slice(-1)}]:v(y)||"identifier"},regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b\\(?"},{token:"keyword.operator",regex:"!|\\$|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|==|=|!=|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^="},{token:"punctuation.operator",regex:"\\?|\\:|\\,|\\;|\\."},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],bqstring:[{token:"string",regex:"`",next:"start"},{defaultToken:"string"}]},this.embedRules(s,"doc-",[s.getEndRule("start")])};a.inherits(f,u),r.GolangHighlightRules=f}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var a=n("../range").Range,s=function(){};(function(){this.checkOutdent=function(u,f){return/^\s+$/.test(u)?/^\s*\}/.test(f):!1},this.autoOutdent=function(u,f){var d=u.getLine(f),c=d.match(/^(\s*\})/);if(!c)return 0;var h=c[1].length,p=u.findMatchingBracket({row:f,column:h});if(!p||p.row==f)return 0;var v=this.$getIndent(u.getLine(p.row));u.replace(new a(f,0,f,h-1),v)},this.$getIndent=function(u){return u.match(/^\s*/)[0]}}).call(s.prototype),r.MatchingBraceOutdent=s}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),s=n("../../range").Range,u=n("./fold_mode").FoldMode,f=r.FoldMode=function(d){d&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+d.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+d.end)))};a.inherits(f,u),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(d,c,h){var p=d.getLine(h);if(this.singleLineBlockCommentRe.test(p)&&!this.startRegionRe.test(p)&&!this.tripleStarBlockCommentRe.test(p))return"";var v=this._getFoldWidgetBase(d,c,h);return!v&&this.startRegionRe.test(p)?"start":v},this.getFoldWidgetRange=function(d,c,h,p){var v=d.getLine(h);if(this.startRegionRe.test(v))return this.getCommentRegionBlock(d,v,h);var w=v.match(this.foldingStartMarker);if(w){var m=w.index;if(w[1])return this.openingBracketBlock(d,w[1],h,m);var y=d.getCommentFoldRange(h,m+w[0].length,1);return y&&!y.isMultiLine()&&(p?y=this.getSectionRange(d,h):c!="all"&&(y=null)),y}if(c!=="markbegin"){var w=v.match(this.foldingStopMarker);if(w){var m=w.index+w[0].length;return w[1]?this.closingBracketBlock(d,w[1],h,m):d.getCommentFoldRange(h,m,-1)}}},this.getSectionRange=function(d,c){var h=d.getLine(c),p=h.search(/\S/),v=c,m=h.length;c=c+1;for(var y=c,w=d.getLength();++c<w;){h=d.getLine(c);var _=h.search(/\S/);if(_!==-1){if(p>_)break;var S=this.getFoldWidgetRange(d,"all",c);if(S){if(S.start.row<=v)break;if(S.isMultiLine())c=S.end.row;else if(p==_)break}y=c}}return new s(v,m,y,d.getLine(y).length)},this.getCommentRegionBlock=function(d,c,h){for(var p=c.search(/\s*$/),v=d.getLength(),m=h,y=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,w=1;++h<v;){c=d.getLine(h);var _=y.exec(c);if(_&&(_[1]?w--:w++,!w))break}var S=h;if(S>m)return new s(m,p,S,c.length)}}.call(f.prototype)}),ace.define("ace/mode/golang",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/golang_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(n,r,i){var a=n("../lib/oop"),s=n("./text").Mode,u=n("./golang_highlight_rules").GolangHighlightRules,f=n("./matching_brace_outdent").MatchingBraceOutdent,d=n("./behaviour/cstyle").CstyleBehaviour,c=n("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=u,this.$outdent=new f,this.foldingRules=new c,this.$behaviour=new d};a.inherits(h,s),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(p,v,m){var y=this.$getIndent(v),w=this.getTokenizer().getLineTokens(v,p),_=w.tokens;if(w.state,_.length&&_[_.length-1].type=="comment")return y;if(p=="start"){var S=v.match(/^.*[\{\(\[]\s*$/);S&&(y+=m)}return y},this.checkOutdent=function(p,v,m){return this.$outdent.checkOutdent(v,m)},this.autoOutdent=function(p,v,m){this.$outdent.autoOutdent(v,m)},this.$id="ace/mode/golang"}.call(h.prototype),r.Mode=h}),function(){ace.require(["ace/mode/golang"],function(n){e&&(e.exports=n)})}()})(kfr);var JJe={},Ofr={get exports(){return JJe},set exports(e){JJe=e}};(function(e,t){ace.define("ace/theme/github.css",["require","exports","module"],function(n,r,i){i.exports=`/* CSS style content from github's default pygments highlighter template.
   Cursor and selection styles from textmate.css. */
.ace-github .ace_gutter {
  background: #e8e8e8;
  color: #AAA;
}

.ace-github  {
  background: #fff;
  color: #000;
}

.ace-github .ace_keyword {
  font-weight: bold;
}

.ace-github .ace_string {
  color: #D14;
}

.ace-github .ace_variable.ace_class {
  color: teal;
}

.ace-github .ace_constant.ace_numeric {
  color: #099;
}

.ace-github .ace_constant.ace_buildin {
  color: #0086B3;
}

.ace-github .ace_support.ace_function {
  color: #0086B3;
}

.ace-github .ace_comment {
  color: #998;
  font-style: italic;
}

.ace-github .ace_variable.ace_language  {
  color: #0086B3;
}

.ace-github .ace_paren {
  font-weight: bold;
}

.ace-github .ace_boolean {
  font-weight: bold;
}

.ace-github .ace_string.ace_regexp {
  color: #009926;
  font-weight: normal;
}

.ace-github .ace_variable.ace_instance {
  color: teal;
}

.ace-github .ace_constant.ace_language {
  font-weight: bold;
}

.ace-github .ace_cursor {
  color: black;
}

.ace-github.ace_focus .ace_marker-layer .ace_active-line {
  background: rgb(255, 255, 204);
}
.ace-github .ace_marker-layer .ace_active-line {
  background: rgb(245, 245, 245);
}

.ace-github .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-github.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
/* bold keywords cause cursor issues for some fonts */
/* this disables bold style for editor and keeps for static highlighter */
.ace-github.ace_nobold .ace_line > span {
    font-weight: normal !important;
}

.ace-github .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-github .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-github .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-github .ace_gutter-active-line {
    background-color : rgba(0, 0, 0, 0.07);
}

.ace-github .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-github .ace_invisible {
  color: #BFBFBF
}

.ace-github .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-github .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-github .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/github",["require","exports","module","ace/theme/github.css","ace/lib/dom"],function(n,r,i){r.isDark=!1,r.cssClass="ace-github",r.cssText=n("./github.css");var a=n("../lib/dom");a.importCssString(r.cssText,r.cssClass,!1)}),function(){ace.require(["ace/theme/github"],function(n){e&&(e.exports=n)})}()})(Ofr);var Afr=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Rfr=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Tfr=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Afr(t,e,n);return Rfr(t,e),t},k_t=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Vq.__esModule=!0;Vq.CodeEditor=void 0;var Mfr=k_t(kk),Wee=Tfr(z),Pfr=k_t(Y3),Lfr=function(e){var t=e.value,n=e.onChange,r=e.onSubmit,i=e.height,a=e.oneLine,s=a===void 0?!1:a,u=e.showGutter,f=u===void 0?!1:u,d=e.errorLocations,c=d===void 0?[]:d,h=t.split(`
`).length,p=(0,Wee.useMemo)(function(){return Mfr.default.uniqueId()},[]),v=(0,Wee.useRef)(null);v.current=r;var m=(0,Wee.useRef)(null);return Wee.default.createElement(Pfr.default,{ref:m,value:t,mode:"golang",theme:"github",width:"100%",fontSize:14,height:String(i)+"px",minLines:s?h:void 0,maxLines:s?h:void 0,showGutter:f,highlightActiveLine:!1,showPrintMargin:!1,onChange:n,name:p,editorProps:{$blockScrolling:!0},setOptions:{},commands:[{name:"submit",bindKey:{mac:"Cmd-Enter",win:"Ctrl-Enter"},exec:function(){var y;return(y=v.current)===null||y===void 0?void 0:y.call(v)}}],markers:c==null?void 0:c.map(function(y){return{startRow:y.start.line-1,startCol:y.start.column-1,endRow:y.end.line-1,endCol:y.end.column-1,className:"ace-error-marker",type:"text"}})})};Vq.CodeEditor=Lfr;var z7={},Dfr=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Ifr=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ffr=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Dfr(t,e,n);return Ifr(t,e),t};z7.__esModule=!0;z7.SquiggleContainer=void 0;var z6=Ffr(z),eet=z6.default.createContext({containerized:!1}),Nfr=function(e){var t=e.children,n=(0,z6.useContext)(eet);return n.containerized?z6.default.createElement(z6.default.Fragment,null,t):z6.default.createElement(eet.Provider,{value:{containerized:!0}},z6.default.createElement("div",{className:"squiggle"},t))};z7.SquiggleContainer=Nfr;var Oce={},O_t=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Oce.__esModule=!0;Oce.Toggle=void 0;var zfr=ML,tet=O_t(kT),YB=O_t(z),jfr=function(e){var t=e.status,n=e.onChange,r=e.texts,i=r[0],a=r[1],s=e.icons,u=s[0],f=s[1],d=e.spinIcon,c=t?u:f;return YB.default.createElement("button",{className:(0,tet.default)("rounded-md py-0.5 bg-slate-500 text-white text-xs font-semibold flex items-center space-x-1",t?"bg-slate-500":"bg-gray-400",t?"pl-1 pr-3":"pl-3 pr-1",!t&&"flex-row-reverse space-x-reverse"),onClick:function(){return n(!t)}},YB.default.createElement("div",{className:"relative w-6 h-6",key:String(d)},YB.default.createElement(c,{className:(0,tet.default)("w-6 h-6 absolute opacity-100",d&&"animate-hide")}),d&&YB.default.createElement(zfr.RefreshIcon,{className:"w-6 h-6 absolute opacity-0 animate-appear-and-spin"})),YB.default.createElement("span",null,t?i:a))};Oce.Toggle=jfr;var A_t={},YEe={},Bfr={get exports(){return YEe},set exports(e){YEe=e}},Hfr=Object.create,Wq=Object.defineProperty,Ufr=Object.getOwnPropertyDescriptor,Vfr=Object.getOwnPropertyNames,Wfr=Object.getPrototypeOf,Gfr=Object.prototype.hasOwnProperty,qfr=(e,t,n)=>t in e?Wq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yfr=(e,t)=>{for(var n in t)Wq(e,n,{get:t[n],enumerable:!0})},R_t=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Vfr(t))!Gfr.call(e,i)&&i!==n&&Wq(e,i,{get:()=>t[i],enumerable:!(r=Ufr(t,i))||r.enumerable});return e},nc=(e,t,n)=>(n=e!=null?Hfr(Wfr(e)):{},R_t(t||!e||!e.__esModule?Wq(n,"default",{value:e,enumerable:!0}):n,e)),Kfr=e=>R_t(Wq({},"__esModule",{value:!0}),e),Dbe=(e,t,n)=>(qfr(e,typeof t!="symbol"?t+"":t,n),n),T_t={};Yfr(T_t,{Combobox:()=>Ddr,Dialog:()=>Yhr,Disclosure:()=>cgr,FocusTrap:()=>j6,Listbox:()=>Agr,Menu:()=>Wgr,Popover:()=>dpr,Portal:()=>Tae,RadioGroup:()=>Epr,Switch:()=>Tpr,Tab:()=>e0r,Transition:()=>p0r});var Xfr=Kfr(T_t),us=nc(z,1),Zfr=z,net=z,Qfr=class{constructor(){Dbe(this,"current",this.detect()),Dbe(this,"handoffState","pending"),Dbe(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},iE=new Qfr,Uo=(e,t)=>{iE.isServer?(0,net.useEffect)(e,t):(0,net.useLayoutEffect)(e,t)},Jfr=z;function Bh(e){let t=(0,Jfr.useRef)(e);return Uo(()=>{t.current=e},[e]),t}function Gq(e,t){let[n,r]=(0,Zfr.useState)(e),i=Bh(e);return Uo(()=>r(i.current),[i,r,...t]),n}var ret=z;function j7(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function mv(){let e=[],t={addEventListener(n,r,i,a){return n.addEventListener(r,i,a),t.add(()=>n.removeEventListener(r,i,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return j7(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=mv();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Fm(){let[e]=(0,ret.useState)(mv);return(0,ret.useEffect)(()=>()=>e.dispose(),[e]),e}var edr=nc(z,1),Tn=function(e){let t=Bh(e);return edr.default.useCallback((...n)=>t.current(...n),[t])},iet=nc(z,1),Ibe=z;function B7(){let[e,t]=(0,Ibe.useState)(iE.isHandoffComplete);return e&&iE.isHandoffComplete===!1&&t(!1),(0,Ibe.useEffect)(()=>{e!==!0&&t(!0)},[e]),(0,Ibe.useEffect)(()=>iE.handoff(),[]),e}var aet,As=(aet=iet.default.useId)!=null?aet:function(){let e=B7(),[t,n]=iet.default.useState(e?()=>iE.nextId():null);return Uo(()=>{t===null&&n(iE.nextId())},[t]),t!=null?""+t:void 0},Fbe=z;function $a(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$a),r}function Uk(e){return iE.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}var KEe=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");function qq(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(KEe)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Yq(e,t=0){var n;return e===((n=Uk(e))==null?void 0:n.body)?!1:$a(t,{[0](){return e.matches(KEe)},[1](){let r=e;for(;r!==null;){if(r.matches(KEe))return!0;r=r.parentElement}return!1}})}function M_t(e){let t=Uk(e);mv().nextFrame(()=>{t&&!Yq(t.activeElement,0)&&c3(e)})}function c3(e){e==null||e.focus({preventScroll:!0})}var tdr=["textarea","input"].join(",");function ndr(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,tdr))!=null?n:!1}function HS(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),a=t(r);if(i===null||a===null)return 0;let s=i.compareDocumentPosition(a);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function rdr(e,t){return dd(qq(),t,{relativeTo:e})}function dd(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?HS(e):e:qq(e);i.length>0&&s.length>1&&(s=s.filter(v=>!i.includes(v))),r=r??a.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},c=0,h=s.length,p;do{if(c>=h||c+h<=0)return 0;let v=f+c;if(t&16)v=(v+h)%h;else{if(v<0)return 3;if(v>=h)return 1}p=s[v],p==null||p.focus(d),c+=u}while(p!==a.activeElement);return t&6&&ndr(p)&&p.select(),p.hasAttribute("tabindex")||p.setAttribute("tabindex","0"),2}var idr=z;function Nbe(e,t,n){let r=Bh(t);(0,idr.useEffect)(()=>{function i(a){r.current(a)}return document.addEventListener(e,i,n),()=>document.removeEventListener(e,i,n)},[e,n])}function Kq(e,t,n=!0){let r=(0,Fbe.useRef)(!1);(0,Fbe.useEffect)(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(s,u){if(!r.current||s.defaultPrevented)return;let f=function c(h){return typeof h=="function"?c(h()):Array.isArray(h)||h instanceof Set?h:[h]}(e),d=u(s);if(d!==null&&d.getRootNode().contains(d)){for(let c of f){if(c===null)continue;let h=c instanceof HTMLElement?c:c.current;if(h!=null&&h.contains(d)||s.composed&&s.composedPath().includes(h))return}return!Yq(d,1)&&d.tabIndex!==-1&&s.preventDefault(),t(s,d)}}let a=(0,Fbe.useRef)(null);Nbe("mousedown",s=>{var u,f;r.current&&(a.current=((f=(u=s.composedPath)==null?void 0:u.call(s))==null?void 0:f[0])||s.target)},!0),Nbe("click",s=>{a.current&&(i(s,()=>a.current),a.current=null)},!0),Nbe("blur",s=>i(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var adr=z;function oet(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function DL(e,t){let[n,r]=(0,adr.useState)(()=>oet(e));return Uo(()=>{r(oet(e))},[e.type,e.as]),Uo(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}var set=z,P_t=Symbol();function ZMe(e,t=!0){return Object.assign(e,{[P_t]:t})}function Wa(...e){let t=(0,set.useRef)(e);(0,set.useEffect)(()=>{t.current=e},[e]);let n=Tn(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[P_t]))?void 0:n}var zbe=z;function QMe({container:e,accept:t,walk:n,enabled:r=!0}){let i=(0,zbe.useRef)(t),a=(0,zbe.useRef)(n);(0,zbe.useEffect)(()=>{i.current=t,a.current=n},[t,n]),Uo(()=>{if(!e||!r)return;let s=Uk(e);if(!s)return;let u=i.current,f=a.current,d=Object.assign(h=>u(h),{acceptNode:u}),c=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,d,!1);for(;c.nextNode();)f(c.currentNode)},[e,r,i,a])}function odr(e){throw new Error("Unexpected object: "+e)}function JMe(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1,a=(()=>{switch(e.focus){case 0:return n.findIndex(s=>!t.resolveDisabled(s));case 1:{let s=n.slice().reverse().findIndex((u,f,d)=>i!==-1&&d.length-f-1>=i?!1:!t.resolveDisabled(u));return s===-1?s:n.length-1-s}case 2:return n.findIndex((s,u)=>u<=i?!1:!t.resolveDisabled(s));case 3:{let s=n.slice().reverse().findIndex(u=>!t.resolveDisabled(u));return s===-1?s:n.length-1-s}case 4:return n.findIndex(s=>t.resolveId(s)===e.id);case 5:return null;default:odr(e)}})();return a===-1?r:a}var i5=z;function L_t(...e){return e.filter(Boolean).join(" ")}function La({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:a=!0,name:s}){let u=D_t(t,e);if(a)return Gee(u,n,r,s);let f=i??0;if(f&2){let{static:d=!1,...c}=u;if(d)return Gee(c,n,r,s)}if(f&1){let{unmount:d=!0,...c}=u;return $a(d?0:1,{[0](){return null},[1](){return Gee({...c,hidden:!0,style:{display:"none"}},n,r,s)}})}return Gee(u,n,r,s)}function Gee(e,t={},n,r){var i;let{as:a=n,children:s,refName:u="ref",...f}=jbe(e,["unmount","static"]),d=e.ref!==void 0?{[u]:e.ref}:{},c=typeof s=="function"?s(t):s;"className"in f&&f.className&&typeof f.className=="function"&&(f.className=f.className(t));let h={};if(t){let p=!1,v=[];for(let[m,y]of Object.entries(t))typeof y=="boolean"&&(p=!0),y===!0&&v.push(m);p&&(h["data-headlessui-state"]=v.join(" "))}if(a===i5.Fragment&&Object.keys(g8(f)).length>0){if(!(0,i5.isValidElement)(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(f).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let p=L_t((i=c.props)==null?void 0:i.className,f.className),v=p?{className:p}:{};return(0,i5.cloneElement)(c,Object.assign({},D_t(c.props,g8(jbe(f,["ref"]))),h,d,sdr(c.ref,d.ref),v))}return(0,i5.createElement)(a,Object.assign({},jbe(f,["ref"]),a!==i5.Fragment&&d,a!==i5.Fragment&&h),c)}function sdr(...e){return{ref:e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}}function D_t(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](i,...a){let s=n[r];for(let u of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;u(i,...a)}}});return t}function Da(e){var t;return Object.assign((0,i5.forwardRef)(e),{displayName:(t=e.displayName)!=null?t:e.name})}function g8(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function jbe(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function _E(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&udr(n)?!1:r}function udr(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function Ace(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))F_t(n,I_t(t,r),i);return n}function I_t(e,t){return e?e+"["+t+"]":t}function F_t(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())F_t(e,I_t(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Ace(n,t,e)}function N_t(e){var t;let n=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(n){for(let r of n.elements)if(r.tagName==="INPUT"&&r.type==="submit"||r.tagName==="BUTTON"&&r.type==="submit"||r.nodeName==="INPUT"&&r.type==="image"){r.click();return}}}var ldr="div";function cdr(e,t){let{features:n=1,...r}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return La({ourProps:i,theirProps:r,slot:{},defaultTag:ldr,name:"Hidden"})}var lw=Da(cdr),e5e=nc(z,1),t5e=(0,e5e.createContext)(null);t5e.displayName="OpenClosedContext";function Vk(){return(0,e5e.useContext)(t5e)}function H7({value:e,children:t}){return e5e.default.createElement(t5e.Provider,{value:e},t)}var qee=z;function Rce(e,t,n){let[r,i]=(0,qee.useState)(n),a=e!==void 0,s=(0,qee.useRef)(a),u=(0,qee.useRef)(!1),f=(0,qee.useRef)(!1);return a&&!s.current&&!u.current?(u.current=!0,s.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&s.current&&!f.current&&(f.current=!0,s.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?e:r,Tn(d=>(a||i(d),t==null?void 0:t(d)))]}var uet=z;function OW(e,t){let n=(0,uet.useRef)([]),r=Tn(e);(0,uet.useEffect)(()=>{let i=[...n.current];for(let[a,s]of t.entries())if(n.current[a]!==s){let u=r(t,i);return n.current=t,u}},[r,...t])}var fdr=z;function cet(e){return[e.screenX,e.screenY]}function n5e(){let e=(0,fdr.useRef)([-1,-1]);return{wasMoved(t){let n=cet(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=cet(t)}}}function z_t(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ddr(){return/Android/gi.test(window.navigator.userAgent)}function hdr(){return z_t()||ddr()}function Bbe(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=HS(t(e.options.slice()),a=>a.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}var gdr={[1](e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},[0](e){var t;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;let n=e.activeOptionIndex;if(e.dataRef.current){let{isSelected:r}=e.dataRef.current,i=e.options.findIndex(a=>r(a.dataRef.current.value));i!==-1&&(n=i)}return{...e,comboboxState:0,activeOptionIndex:n}},[2](e,t){var n,r,i,a;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((i=e.dataRef.current)!=null&&i.optionsPropsRef.current.static)&&e.comboboxState===1)return e;let s=Bbe(e);if(s.activeOptionIndex===null){let f=s.options.findIndex(d=>!d.dataRef.current.disabled);f!==-1&&(s.activeOptionIndex=f)}let u=JMe(t,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...e,...s,activeOptionIndex:u,activationTrigger:(a=t.trigger)!=null?a:1}},[3]:(e,t)=>{var n,r;let i={id:t.id,dataRef:t.dataRef},a=Bbe(e,u=>[...u,i]);e.activeOptionIndex===null&&(n=e.dataRef.current)!=null&&n.isSelected(t.dataRef.current.value)&&(a.activeOptionIndex=a.options.indexOf(i));let s={...e,...a,activationTrigger:1};return(r=e.dataRef.current)!=null&&r.__demoMode&&e.dataRef.current.value===void 0&&(s.activeOptionIndex=0),s},[4]:(e,t)=>{let n=Bbe(e,r=>{let i=r.findIndex(a=>a.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},[5]:(e,t)=>({...e,labelId:t.id})},r5e=(0,us.createContext)(null);r5e.displayName="ComboboxActionsContext";function Xq(e){let t=(0,us.useContext)(r5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xq),n}return t}var i5e=(0,us.createContext)(null);i5e.displayName="ComboboxDataContext";function U7(e){let t=(0,us.useContext)(i5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,U7),n}return t}function pdr(e,t){return $a(t.type,gdr,e,t)}var vdr=us.Fragment;function mdr(e,t){let{value:n,defaultValue:r,onChange:i,name:a,by:s=(de,me)=>de===me,disabled:u=!1,__demoMode:f=!1,nullable:d=!1,multiple:c=!1,...h}=e,[p=c?[]:void 0,v]=Rce(n,i,r),[m,y]=(0,us.useReducer)(pdr,{dataRef:(0,us.createRef)(),comboboxState:f?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),w=(0,us.useRef)(!1),_=(0,us.useRef)({static:!1,hold:!1}),S=(0,us.useRef)(null),C=(0,us.useRef)(null),$=(0,us.useRef)(null),k=(0,us.useRef)(null),M=Tn(typeof s=="string"?(de,me)=>{let Se=s;return(de==null?void 0:de[Se])===(me==null?void 0:me[Se])}:s),A=(0,us.useCallback)(de=>$a(L.mode,{[1]:()=>p.some(me=>M(me,de)),[0]:()=>M(p,de)}),[p]),L=(0,us.useMemo)(()=>({...m,optionsPropsRef:_,labelRef:S,inputRef:C,buttonRef:$,optionsRef:k,value:p,defaultValue:r,disabled:u,mode:c?1:0,get activeOptionIndex(){if(w.current&&m.activeOptionIndex===null&&m.options.length>0){let de=m.options.findIndex(me=>!me.dataRef.current.disabled);if(de!==-1)return de}return m.activeOptionIndex},compare:M,isSelected:A,nullable:d,__demoMode:f}),[p,r,u,c,d,f,m]),N=(0,us.useRef)(L.activeOptionIndex!==null?L.options[L.activeOptionIndex]:null);(0,us.useEffect)(()=>{let de=L.activeOptionIndex!==null?L.options[L.activeOptionIndex]:null;N.current!==de&&(N.current=de)}),Uo(()=>{m.dataRef.current=L},[L]),Kq([L.buttonRef,L.inputRef,L.optionsRef],()=>oe.closeCombobox(),L.comboboxState===0);let R=(0,us.useMemo)(()=>({open:L.comboboxState===0,disabled:u,activeIndex:L.activeOptionIndex,activeOption:L.activeOptionIndex===null?null:L.options[L.activeOptionIndex].dataRef.current.value,value:p}),[L,u,p]),D=Tn(de=>{let me=L.options.find(Se=>Se.id===de);me&&ee(me.dataRef.current.value)}),j=Tn(()=>{if(L.activeOptionIndex!==null){let{dataRef:de,id:me}=L.options[L.activeOptionIndex];ee(de.current.value),oe.goToOption(4,me)}}),U=Tn(()=>{y({type:0}),w.current=!0}),H=Tn(()=>{y({type:1}),w.current=!1}),Y=Tn((de,me,Se)=>(w.current=!1,y(de===4?{type:2,focus:4,id:me,trigger:Se}:{type:2,focus:de,trigger:Se}))),Z=Tn((de,me)=>(y({type:3,id:de,dataRef:me}),()=>{var Se;((Se=N.current)==null?void 0:Se.id)===de&&(w.current=!0),y({type:4,id:de})})),Q=Tn(de=>(y({type:5,id:de}),()=>y({type:5,id:null}))),ee=Tn(de=>$a(L.mode,{[0](){return v==null?void 0:v(de)},[1](){let me=L.value.slice(),Se=me.findIndex(Ee=>M(Ee,de));return Se===-1?me.push(de):me.splice(Se,1),v==null?void 0:v(me)}})),oe=(0,us.useMemo)(()=>({onChange:ee,registerOption:Z,registerLabel:Q,goToOption:Y,closeCombobox:H,openCombobox:U,selectActiveOption:j,selectOption:D}),[]),ue=t===null?{}:{ref:t},ve=(0,us.useRef)(null),le=Fm();return(0,us.useEffect)(()=>{ve.current&&r!==void 0&&le.addEventListener(ve.current,"reset",()=>{ee(r)})},[ve,ee]),us.default.createElement(r5e.Provider,{value:oe},us.default.createElement(i5e.Provider,{value:L},us.default.createElement(H7,{value:$a(L.comboboxState,{[0]:1,[1]:2})},a!=null&&p!=null&&Ace({[a]:p}).map(([de,me],Se)=>us.default.createElement(lw,{features:4,ref:Se===0?Ee=>{var xe;ve.current=(xe=Ee==null?void 0:Ee.closest("form"))!=null?xe:null}:void 0,...g8({key:de,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:de,value:me})})),La({ourProps:ue,theirProps:h,slot:R,defaultTag:vdr,name:"Combobox"}))))}var ydr="input";function bdr(e,t){var n,r,i,a;let s=As(),{id:u=`headlessui-combobox-input-${s}`,onChange:f,displayValue:d,type:c="text",...h}=e,p=U7("Combobox.Input"),v=Xq("Combobox.Input"),m=Wa(p.inputRef,t),y=(0,us.useRef)(!1),w=Fm(),_=function(){var D;return typeof d=="function"&&p.value!==void 0?(D=d(p.value))!=null?D:"":typeof p.value=="string"?p.value:""}();OW(([D,j],[U,H])=>{y.current||p.inputRef.current&&(H===0&&j===1||D!==U)&&(p.inputRef.current.value=D)},[_,p.comboboxState]),OW(([D],[j])=>{if(D===0&&j===1){let U=p.inputRef.current;if(!U)return;let H=U.value,{selectionStart:Y,selectionEnd:Z,selectionDirection:Q}=U;U.value="",U.value=H,Q!==null?U.setSelectionRange(Y,Z,Q):U.setSelectionRange(Y,Z)}},[p.comboboxState]);let S=(0,us.useRef)(!1),C=Tn(()=>{S.current=!0}),$=Tn(()=>{setTimeout(()=>{S.current=!1})}),k=Tn(D=>{switch(y.current=!0,D.key){case"Backspace":case"Delete":if(p.mode!==0||!p.nullable)return;let j=D.currentTarget;w.requestAnimationFrame(()=>{j.value===""&&(v.onChange(null),p.optionsRef.current&&(p.optionsRef.current.scrollTop=0),v.goToOption(5))});break;case"Enter":if(y.current=!1,p.comboboxState!==0||S.current)return;if(D.preventDefault(),D.stopPropagation(),p.activeOptionIndex===null){v.closeCombobox();return}v.selectActiveOption(),p.mode===0&&v.closeCombobox();break;case"ArrowDown":return y.current=!1,D.preventDefault(),D.stopPropagation(),$a(p.comboboxState,{[0]:()=>{v.goToOption(2)},[1]:()=>{v.openCombobox()}});case"ArrowUp":return y.current=!1,D.preventDefault(),D.stopPropagation(),$a(p.comboboxState,{[0]:()=>{v.goToOption(1)},[1]:()=>{v.openCombobox(),w.nextFrame(()=>{p.value||v.goToOption(3)})}});case"Home":if(D.shiftKey)break;return y.current=!1,D.preventDefault(),D.stopPropagation(),v.goToOption(0);case"PageUp":return y.current=!1,D.preventDefault(),D.stopPropagation(),v.goToOption(0);case"End":if(D.shiftKey)break;return y.current=!1,D.preventDefault(),D.stopPropagation(),v.goToOption(3);case"PageDown":return y.current=!1,D.preventDefault(),D.stopPropagation(),v.goToOption(3);case"Escape":return y.current=!1,p.comboboxState!==0?void 0:(D.preventDefault(),p.optionsRef.current&&!p.optionsPropsRef.current.static&&D.stopPropagation(),v.closeCombobox());case"Tab":if(y.current=!1,p.comboboxState!==0)return;p.mode===0&&v.selectActiveOption(),v.closeCombobox();break}}),M=Tn(D=>{v.openCombobox(),f==null||f(D)}),A=Tn(()=>{y.current=!1}),L=Gq(()=>{if(p.labelId)return[p.labelId].join(" ")},[p.labelId]),N=(0,us.useMemo)(()=>({open:p.comboboxState===0,disabled:p.disabled}),[p]),R={ref:m,id:u,role:"combobox",type:c,"aria-controls":(n=p.optionsRef.current)==null?void 0:n.id,"aria-expanded":p.disabled?void 0:p.comboboxState===0,"aria-activedescendant":p.activeOptionIndex===null||(r=p.options[p.activeOptionIndex])==null?void 0:r.id,"aria-labelledby":L,"aria-autocomplete":"list",defaultValue:(a=(i=e.defaultValue)!=null?i:p.defaultValue!==void 0?d==null?void 0:d(p.defaultValue):null)!=null?a:p.defaultValue,disabled:p.disabled,onCompositionStart:C,onCompositionEnd:$,onKeyDown:k,onChange:M,onBlur:A};return La({ourProps:R,theirProps:h,slot:N,defaultTag:ydr,name:"Combobox.Input"})}var wdr="button";function _dr(e,t){var n;let r=U7("Combobox.Button"),i=Xq("Combobox.Button"),a=Wa(r.buttonRef,t),s=As(),{id:u=`headlessui-combobox-button-${s}`,...f}=e,d=Fm(),c=Tn(y=>{switch(y.key){case"ArrowDown":return y.preventDefault(),y.stopPropagation(),r.comboboxState===1&&i.openCombobox(),d.nextFrame(()=>{var w;return(w=r.inputRef.current)==null?void 0:w.focus({preventScroll:!0})});case"ArrowUp":return y.preventDefault(),y.stopPropagation(),r.comboboxState===1&&(i.openCombobox(),d.nextFrame(()=>{r.value||i.goToOption(3)})),d.nextFrame(()=>{var w;return(w=r.inputRef.current)==null?void 0:w.focus({preventScroll:!0})});case"Escape":return r.comboboxState!==0?void 0:(y.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&y.stopPropagation(),i.closeCombobox(),d.nextFrame(()=>{var w;return(w=r.inputRef.current)==null?void 0:w.focus({preventScroll:!0})}));default:return}}),h=Tn(y=>{if(_E(y.currentTarget))return y.preventDefault();r.comboboxState===0?i.closeCombobox():(y.preventDefault(),i.openCombobox()),d.nextFrame(()=>{var w;return(w=r.inputRef.current)==null?void 0:w.focus({preventScroll:!0})})}),p=Gq(()=>{if(r.labelId)return[r.labelId,u].join(" ")},[r.labelId,u]),v=(0,us.useMemo)(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),m={ref:a,id:u,type:DL(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.disabled?void 0:r.comboboxState===0,"aria-labelledby":p,disabled:r.disabled,onClick:h,onKeyDown:c};return La({ourProps:m,theirProps:f,slot:v,defaultTag:wdr,name:"Combobox.Button"})}var xdr="label";function Sdr(e,t){let n=As(),{id:r=`headlessui-combobox-label-${n}`,...i}=e,a=U7("Combobox.Label"),s=Xq("Combobox.Label"),u=Wa(a.labelRef,t);Uo(()=>s.registerLabel(r),[r]);let f=Tn(()=>{var c;return(c=a.inputRef.current)==null?void 0:c.focus({preventScroll:!0})}),d=(0,us.useMemo)(()=>({open:a.comboboxState===0,disabled:a.disabled}),[a]);return La({ourProps:{ref:u,id:r,onClick:f},theirProps:i,slot:d,defaultTag:xdr,name:"Combobox.Label"})}var Edr="ul",Cdr=3;function $dr(e,t){let n=As(),{id:r=`headlessui-combobox-options-${n}`,hold:i=!1,...a}=e,s=U7("Combobox.Options"),u=Wa(s.optionsRef,t),f=Vk(),d=(()=>f!==null?(f&1)===1:s.comboboxState===0)();Uo(()=>{var v;s.optionsPropsRef.current.static=(v=e.static)!=null?v:!1},[s.optionsPropsRef,e.static]),Uo(()=>{s.optionsPropsRef.current.hold=i},[s.optionsPropsRef,i]),QMe({container:s.optionsRef.current,enabled:s.comboboxState===0,accept(v){return v.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});let c=Gq(()=>{var v,m;return(m=s.labelId)!=null?m:(v=s.buttonRef.current)==null?void 0:v.id},[s.labelId,s.buttonRef.current]),h=(0,us.useMemo)(()=>({open:s.comboboxState===0}),[s]),p={"aria-labelledby":c,role:"listbox","aria-multiselectable":s.mode===1?!0:void 0,id:r,ref:u};return La({ourProps:p,theirProps:a,slot:h,defaultTag:Edr,features:Cdr,visible:d,name:"Combobox.Options"})}var kdr="li";function Odr(e,t){var n,r;let i=As(),{id:a=`headlessui-combobox-option-${i}`,disabled:s=!1,value:u,...f}=e,d=U7("Combobox.Option"),c=Xq("Combobox.Option"),h=d.activeOptionIndex!==null?d.options[d.activeOptionIndex].id===a:!1,p=d.isSelected(u),v=(0,us.useRef)(null),m=Bh({disabled:s,value:u,domRef:v,textValue:(r=(n=v.current)==null?void 0:n.textContent)==null?void 0:r.toLowerCase()}),y=Wa(t,v),w=Tn(()=>c.selectOption(a));Uo(()=>c.registerOption(a,m),[m,a]);let _=(0,us.useRef)(!d.__demoMode);Uo(()=>{if(!d.__demoMode)return;let N=mv();return N.requestAnimationFrame(()=>{_.current=!0}),N.dispose},[]),Uo(()=>{if(d.comboboxState!==0||!h||!_.current||d.activationTrigger===0)return;let N=mv();return N.requestAnimationFrame(()=>{var R,D;(D=(R=v.current)==null?void 0:R.scrollIntoView)==null||D.call(R,{block:"nearest"})}),N.dispose},[v,h,d.comboboxState,d.activationTrigger,d.activeOptionIndex]);let S=Tn(N=>{if(s)return N.preventDefault();w(),d.mode===0&&c.closeCombobox(),hdr()||requestAnimationFrame(()=>{var R;return(R=d.inputRef.current)==null?void 0:R.focus()})}),C=Tn(()=>{if(s)return c.goToOption(5);c.goToOption(4,a)}),$=n5e(),k=Tn(N=>$.update(N)),M=Tn(N=>{$.wasMoved(N)&&(s||h||c.goToOption(4,a,0))}),A=Tn(N=>{$.wasMoved(N)&&(s||h&&(d.optionsPropsRef.current.hold||c.goToOption(5)))}),L=(0,us.useMemo)(()=>({active:h,selected:p,disabled:s}),[h,p,s]);return La({ourProps:{id:a,ref:y,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":p,disabled:void 0,onClick:S,onFocus:C,onPointerEnter:k,onMouseEnter:k,onPointerMove:M,onMouseMove:M,onPointerLeave:A,onMouseLeave:A},theirProps:f,slot:L,defaultTag:kdr,name:"Combobox.Option"})}var Adr=Da(mdr),Rdr=Da(_dr),Tdr=Da(bdr),Mdr=Da(Sdr),Pdr=Da($dr),Ldr=Da(Odr),Ddr=Object.assign(Adr,{Input:Tdr,Button:Rdr,Label:Mdr,Options:Pdr,Option:Ldr}),iu=nc(z,1),SS=nc(z,1),Idr=z,Fdr=z;function Ndr(e,t,n){let r=Bh(t);(0,Fdr.useEffect)(()=>{function i(a){r.current(a)}return window.addEventListener(e,i,n),()=>window.removeEventListener(e,i,n)},[e,n])}function a5e(){let e=(0,Idr.useRef)(0);return Ndr("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}var zdr=z;function Tce(){let e=(0,zdr.useRef)(!1);return Uo(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var jdr=z;function AT(...e){return(0,jdr.useMemo)(()=>Uk(...e),[...e])}var Bdr=z;function o5e(e,t,n,r){let i=Bh(n);(0,Bdr.useEffect)(()=>{e=e??window;function a(s){i.current(s)}return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a,r)},[e,t,r])}function j_t(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}var Hdr="div",B_t=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(B_t||{});function Udr(e,t){let n=(0,SS.useRef)(null),r=Wa(n,t),{initialFocus:i,containers:a,features:s=30,...u}=e;B7()||(s=1);let f=AT(n);Gdr({ownerDocument:f},!!(s&16));let d=qdr({ownerDocument:f,container:n,initialFocus:i},!!(s&2));Ydr({ownerDocument:f,container:n,containers:a,previousActiveElement:d},!!(s&8));let c=a5e(),h=Tn(y=>{let w=n.current;w&&(_=>_())(()=>{$a(c.current,{[0]:()=>{dd(w,1,{skipElements:[y.relatedTarget]})},[1]:()=>{dd(w,8,{skipElements:[y.relatedTarget]})}})})}),p=Fm(),v=(0,SS.useRef)(!1),m={ref:r,onKeyDown(y){y.key=="Tab"&&(v.current=!0,p.requestAnimationFrame(()=>{v.current=!1}))},onBlur(y){let w=j_t(a);n.current instanceof HTMLElement&&w.add(n.current);let _=y.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(H_t(w,_)||(v.current?dd(n.current,$a(c.current,{[0]:()=>4,[1]:()=>2})|16,{relativeTo:y.target}):y.target instanceof HTMLElement&&c3(y.target)))}};return SS.default.createElement(SS.default.Fragment,null,!!(s&4)&&SS.default.createElement(lw,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:2}),La({ourProps:m,theirProps:u,defaultTag:Hdr,name:"FocusTrap"}),!!(s&4)&&SS.default.createElement(lw,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:2}))}var Vdr=Da(Udr),j6=Object.assign(Vdr,{features:B_t}),mR=[];if(typeof window<"u"&&typeof document<"u"){let e=function(t){t.target instanceof HTMLElement&&t.target!==document.body&&mR[0]!==t.target&&(mR.unshift(t.target),mR=mR.filter(n=>n!=null&&n.isConnected),mR.splice(10))};window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})}function Wdr(e=!0){let t=(0,SS.useRef)(mR.slice());return OW(([n],[r])=>{r===!0&&n===!1&&j7(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=mR.slice())},[e,mR,t]),Tn(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Gdr({ownerDocument:e},t){let n=Wdr(t);OW(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&c3(n())},[t]);let r=(0,SS.useRef)(!1);(0,SS.useEffect)(()=>(r.current=!1,()=>{r.current=!0,j7(()=>{r.current&&c3(n())})}),[])}function qdr({ownerDocument:e,container:t,initialFocus:n},r){let i=(0,SS.useRef)(null),a=Tce();return OW(()=>{if(!r)return;let s=t.current;s&&j7(()=>{if(!a.current)return;let u=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===u){i.current=u;return}}else if(s.contains(u)){i.current=u;return}n!=null&&n.current?c3(n.current):dd(s,1)===0&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e==null?void 0:e.activeElement})},[r]),i}function Ydr({ownerDocument:e,container:t,containers:n,previousActiveElement:r},i){let a=Tce();o5e(e==null?void 0:e.defaultView,"focus",s=>{if(!i||!a.current)return;let u=j_t(n);t.current instanceof HTMLElement&&u.add(t.current);let f=r.current;if(!f)return;let d=s.target;d&&d instanceof HTMLElement?H_t(u,d)?(r.current=d,c3(d)):(s.preventDefault(),s.stopPropagation(),c3(f)):c3(r.current)},!0)}function H_t(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var u_=nc(z,1),Kdr=Xb,s5e=nc(z,1),U_t=(0,s5e.createContext)(!1);function Xdr(){return(0,s5e.useContext)(U_t)}function XEe(e){return s5e.default.createElement(U_t.Provider,{value:e.force},e.children)}function Zdr(e){let t=Xdr(),n=(0,u_.useContext)(V_t),r=AT(e),[i,a]=(0,u_.useState)(()=>{if(!t&&n!==null||iE.isServer)return null;let s=r==null?void 0:r.getElementById("headlessui-portal-root");if(s)return s;if(r===null)return null;let u=r.createElement("div");return u.setAttribute("id","headlessui-portal-root"),r.body.appendChild(u)});return(0,u_.useEffect)(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),(0,u_.useEffect)(()=>{t||n!==null&&a(n.current)},[n,a,t]),i}var Qdr=u_.Fragment;function Jdr(e,t){let n=e,r=(0,u_.useRef)(null),i=Wa(ZMe(c=>{r.current=c}),t),a=AT(r),s=Zdr(r),[u]=(0,u_.useState)(()=>{var c;return iE.isServer?null:(c=a==null?void 0:a.createElement("div"))!=null?c:null}),f=B7(),d=(0,u_.useRef)(!1);return Uo(()=>{if(d.current=!1,!(!s||!u))return s.contains(u)||(u.setAttribute("data-headlessui-portal",""),s.appendChild(u)),()=>{d.current=!0,j7(()=>{var c;d.current&&(!s||!u||(u instanceof Node&&s.contains(u)&&s.removeChild(u),s.childNodes.length<=0&&((c=s.parentElement)==null||c.removeChild(s))))})}},[s,u]),f?!s||!u?null:(0,Kdr.createPortal)(La({ourProps:{ref:i},theirProps:n,defaultTag:Qdr,name:"Portal"}),u):null}var ehr=u_.Fragment,V_t=(0,u_.createContext)(null);function thr(e,t){let{target:n,...r}=e,i={ref:Wa(t)};return u_.default.createElement(V_t.Provider,{value:n},La({ourProps:i,theirProps:r,defaultTag:ehr,name:"Popover.Group"}))}var nhr=Da(Jdr),rhr=Da(thr),Tae=Object.assign(nhr,{Group:rhr}),vF=nc(z,1),W_t=(0,vF.createContext)(null);function G_t(){let e=(0,vF.useContext)(W_t);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,G_t),t}return e}function Mce(){let[e,t]=(0,vF.useState)([]);return[e.length>0?e.join(" "):void 0,(0,vF.useMemo)(()=>function(n){let r=Tn(a=>(t(s=>[...s,a]),()=>t(s=>{let u=s.slice(),f=u.indexOf(a);return f!==-1&&u.splice(f,1),u}))),i=(0,vF.useMemo)(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return vF.default.createElement(W_t.Provider,{value:i},n.children)},[t])]}var ihr="p";function ahr(e,t){let n=As(),{id:r=`headlessui-description-${n}`,...i}=e,a=G_t(),s=Wa(t);Uo(()=>a.register(r),[r,a.register]);let u={ref:s,...a.props,id:r};return La({ourProps:u,theirProps:i,slot:a.slot||{},defaultTag:ihr,name:a.name||"Description"})}var ohr=Da(ahr),u5e=Object.assign(ohr,{}),l5e=nc(z,1),c5e=(0,l5e.createContext)(()=>{});c5e.displayName="StackContext";function shr(){return(0,l5e.useContext)(c5e)}function uhr({children:e,onUpdate:t,type:n,element:r,enabled:i}){let a=shr(),s=Tn((...u)=>{t==null||t(...u),a(...u)});return Uo(()=>{let u=i===void 0||i===!0;return u&&s(0,n,r),()=>{u&&s(1,n,r)}},[s,n,r,i]),l5e.default.createElement(c5e.Provider,{value:s},e)}var fet=nc(z,1),lhr=nc(z,1);function chr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fhr=typeof Object.is=="function"?Object.is:chr,{useState:dhr,useEffect:hhr,useLayoutEffect:ghr,useDebugValue:phr}=lhr;function vhr(e,t,n){let r=t(),[{inst:i},a]=dhr({inst:{value:r,getSnapshot:t}});return ghr(()=>{i.value=r,i.getSnapshot=t,Hbe(i)&&a({inst:i})},[e,r,t]),hhr(()=>(Hbe(i)&&a({inst:i}),e(()=>{Hbe(i)&&a({inst:i})})),[e]),phr(r),r}function Hbe(e){let t=e.getSnapshot,n=e.value;try{let r=t();return!fhr(n,r)}catch{return!0}}function mhr(e,t,n){return t()}var yhr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bhr=!yhr,whr=bhr?mhr:vhr,_hr="useSyncExternalStore"in fet?(e=>e.useSyncExternalStore)(fet):whr;function xhr(e){return _hr(e.subscribe,e.getSnapshot,e.getSnapshot)}function Shr(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...a){let s=t[i].call(n,...a);s&&(n=s,r.forEach(u=>u()))}}}function Ehr(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,i=r.clientWidth-r.offsetWidth,a=e-i;n.style(r,"paddingRight",`${a}px`)}}}function Chr(){if(!z_t())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:n,meta:r}){function i(s){return r.containers.flatMap(u=>u()).some(u=>u.contains(s))}n.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let a=null;n.addEventListener(t,"click",s=>{if(s.target instanceof HTMLElement)try{let u=s.target.closest("a");if(!u)return;let{hash:f}=new URL(u.href),d=t.querySelector(f);d&&!i(d)&&(a=d)}catch{}},!0),n.addEventListener(t,"touchmove",s=>{s.target instanceof HTMLElement&&!i(s.target)&&s.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+e),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})}}}function $hr(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function khr(e){let t={};for(let n of e)Object.assign(t,n(t));return t}var L5=Shr(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:mv(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:khr(n)},i=[Chr(),Ehr(),$hr()];i.forEach(({before:a})=>a==null?void 0:a(r)),i.forEach(({after:a})=>a==null?void 0:a(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});L5.subscribe(()=>{let e=L5.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&L5.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&L5.dispatch("TEARDOWN",n)}});function Ohr(e,t,n){let r=xhr(L5),i=e?r.get(e):void 0,a=i?i.count>0:!1;return Uo(()=>{if(!(!e||!t))return L5.dispatch("PUSH",e,n),()=>L5.dispatch("POP",e,n)},[t,e]),a}var Ube=new Map,KB=new Map;function det(e,t=!0){Uo(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function i(){var s;if(!r)return;let u=(s=KB.get(r))!=null?s:1;if(u===1?KB.delete(r):KB.set(r,u-1),u!==1)return;let f=Ube.get(r);f&&(f["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",f["aria-hidden"]),r.inert=f.inert,Ube.delete(r))}let a=(n=KB.get(r))!=null?n:0;return KB.set(r,a+1),a!==0||(Ube.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),i},[e,t])}var Ahr={[0](e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Mae=(0,iu.createContext)(null);Mae.displayName="DialogContext";function Zq(e){let t=(0,iu.useContext)(Mae);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Zq),n}return t}function Rhr(e,t,n=()=>[document.body]){Ohr(e,t,r=>{var i;return{containers:[...(i=r.containers)!=null?i:[],n]}})}function Thr(e,t){return $a(t.type,Ahr,e,t)}var Mhr="div",Phr=3;function Lhr(e,t){let n=As(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:a,initialFocus:s,__demoMode:u=!1,...f}=e,[d,c]=(0,iu.useState)(0),h=Vk();i===void 0&&h!==null&&(i=(h&1)===1);let p=(0,iu.useRef)(null),v=Wa(p,t),m=(0,iu.useRef)(null),y=AT(p),w=e.hasOwnProperty("open")||h!==null,_=e.hasOwnProperty("onClose");if(!w&&!_)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!w)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!_)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof a!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);let S=i?0:1,[C,$]=(0,iu.useReducer)(Thr,{titleId:null,descriptionId:null,panelRef:(0,iu.createRef)()}),k=Tn(()=>a(!1)),M=Tn(Se=>$({type:0,id:Se})),A=B7()?u?!1:S===0:!1,L=d>1,N=(0,iu.useContext)(Mae)!==null,R=L?"parent":"leaf",D=h!==null?(h&4)===4:!1,j=(()=>N||D?!1:A)(),U=(0,iu.useCallback)(()=>{var Se,Ee;return(Ee=Array.from((Se=y==null?void 0:y.querySelectorAll("body > *"))!=null?Se:[]).find(xe=>xe.id==="headlessui-portal-root"?!1:xe.contains(m.current)&&xe instanceof HTMLElement))!=null?Ee:null},[m]);det(U,j);let H=(()=>L?!0:A)(),Y=(0,iu.useCallback)(()=>{var Se,Ee;return(Ee=Array.from((Se=y==null?void 0:y.querySelectorAll("[data-headlessui-portal]"))!=null?Se:[]).find(xe=>xe.contains(m.current)&&xe instanceof HTMLElement))!=null?Ee:null},[m]);det(Y,H);let Z=Tn(()=>{var Se,Ee;return[...Array.from((Se=y==null?void 0:y.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?Se:[]).filter(xe=>!(xe===document.body||xe===document.head||!(xe instanceof HTMLElement)||xe.contains(m.current)||C.panelRef.current&&xe.contains(C.panelRef.current))),(Ee=C.panelRef.current)!=null?Ee:p.current]}),Q=(()=>!(!A||L))();Kq(()=>Z(),k,Q);let ee=(()=>!(L||S!==0))();o5e(y==null?void 0:y.defaultView,"keydown",Se=>{ee&&(Se.defaultPrevented||Se.key==="Escape"&&(Se.preventDefault(),Se.stopPropagation(),k()))});let oe=(()=>!(D||S!==0||N))();Rhr(y,oe,Z),(0,iu.useEffect)(()=>{if(S!==0||!p.current)return;let Se=new ResizeObserver(Ee=>{for(let xe of Ee){let Ie=xe.target.getBoundingClientRect();Ie.x===0&&Ie.y===0&&Ie.width===0&&Ie.height===0&&k()}});return Se.observe(p.current),()=>Se.disconnect()},[S,p,k]);let[ue,ve]=Mce(),le=(0,iu.useMemo)(()=>[{dialogState:S,close:k,setTitleId:M},C],[S,C,k,M]),de=(0,iu.useMemo)(()=>({open:S===0}),[S]),me={ref:v,id:r,role:"dialog","aria-modal":S===0?!0:void 0,"aria-labelledby":C.titleId,"aria-describedby":ue};return iu.default.createElement(uhr,{type:"Dialog",enabled:S===0,element:p,onUpdate:Tn((Se,Ee)=>{Ee==="Dialog"&&$a(Se,{[0]:()=>c(xe=>xe+1),[1]:()=>c(xe=>xe-1)})})},iu.default.createElement(XEe,{force:!0},iu.default.createElement(Tae,null,iu.default.createElement(Mae.Provider,{value:le},iu.default.createElement(Tae.Group,{target:p},iu.default.createElement(XEe,{force:!1},iu.default.createElement(ve,{slot:de,name:"Dialog.Description"},iu.default.createElement(j6,{initialFocus:s,containers:Z,features:A?$a(R,{parent:j6.features.RestoreFocus,leaf:j6.features.All&~j6.features.FocusLock}):j6.features.None},La({ourProps:me,theirProps:f,slot:de,defaultTag:Mhr,features:Phr,visible:S===0,name:"Dialog"})))))))),iu.default.createElement(lw,{features:4,ref:m}))}var Dhr="div";function Ihr(e,t){let n=As(),{id:r=`headlessui-dialog-overlay-${n}`,...i}=e,[{dialogState:a,close:s}]=Zq("Dialog.Overlay"),u=Wa(t),f=Tn(c=>{if(c.target===c.currentTarget){if(_E(c.currentTarget))return c.preventDefault();c.preventDefault(),c.stopPropagation(),s()}}),d=(0,iu.useMemo)(()=>({open:a===0}),[a]);return La({ourProps:{ref:u,id:r,"aria-hidden":!0,onClick:f},theirProps:i,slot:d,defaultTag:Dhr,name:"Dialog.Overlay"})}var Fhr="div";function Nhr(e,t){let n=As(),{id:r=`headlessui-dialog-backdrop-${n}`,...i}=e,[{dialogState:a},s]=Zq("Dialog.Backdrop"),u=Wa(t);(0,iu.useEffect)(()=>{if(s.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[s.panelRef]);let f=(0,iu.useMemo)(()=>({open:a===0}),[a]);return iu.default.createElement(XEe,{force:!0},iu.default.createElement(Tae,null,La({ourProps:{ref:u,id:r,"aria-hidden":!0},theirProps:i,slot:f,defaultTag:Fhr,name:"Dialog.Backdrop"})))}var zhr="div";function jhr(e,t){let n=As(),{id:r=`headlessui-dialog-panel-${n}`,...i}=e,[{dialogState:a},s]=Zq("Dialog.Panel"),u=Wa(t,s.panelRef),f=(0,iu.useMemo)(()=>({open:a===0}),[a]),d=Tn(c=>{c.stopPropagation()});return La({ourProps:{ref:u,id:r,onClick:d},theirProps:i,slot:f,defaultTag:zhr,name:"Dialog.Panel"})}var Bhr="h2";function Hhr(e,t){let n=As(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:a,setTitleId:s}]=Zq("Dialog.Title"),u=Wa(t);(0,iu.useEffect)(()=>(s(r),()=>s(null)),[r,s]);let f=(0,iu.useMemo)(()=>({open:a===0}),[a]);return La({ourProps:{ref:u,id:r},theirProps:i,slot:f,defaultTag:Bhr,name:"Dialog.Title"})}var Uhr=Da(Lhr),Vhr=Da(Nhr),Whr=Da(jhr),Ghr=Da(Ihr),qhr=Da(Hhr),Yhr=Object.assign(Uhr,{Backdrop:Vhr,Panel:Whr,Overlay:Ghr,Title:qhr,Description:u5e}),Tc=nc(z,1),Khr=nc(z,1),het,Xhr=(het=Khr.default.startTransition)!=null?het:function(e){e()},Zhr={[0]:e=>({...e,disclosureState:$a(e.disclosureState,{[0]:1,[1]:0})}),[1]:e=>e.disclosureState===1?e:{...e,disclosureState:1},[4](e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},[5](e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},[2](e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},[3](e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},f5e=(0,Tc.createContext)(null);f5e.displayName="DisclosureContext";function d5e(e){let t=(0,Tc.useContext)(f5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,d5e),n}return t}var h5e=(0,Tc.createContext)(null);h5e.displayName="DisclosureAPIContext";function q_t(e){let t=(0,Tc.useContext)(h5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,q_t),n}return t}var g5e=(0,Tc.createContext)(null);g5e.displayName="DisclosurePanelContext";function Qhr(){return(0,Tc.useContext)(g5e)}function Jhr(e,t){return $a(t.type,Zhr,e,t)}var egr=Tc.Fragment;function tgr(e,t){let{defaultOpen:n=!1,...r}=e,i=(0,Tc.useRef)(null),a=Wa(t,ZMe(w=>{i.current=w},e.as===void 0||e.as===Tc.Fragment)),s=(0,Tc.useRef)(null),u=(0,Tc.useRef)(null),f=(0,Tc.useReducer)(Jhr,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:u,panelRef:s,buttonId:null,panelId:null}),[{disclosureState:d,buttonId:c},h]=f,p=Tn(w=>{h({type:1});let _=Uk(i);if(!_||!c)return;let S=(()=>w?w instanceof HTMLElement?w:w.current instanceof HTMLElement?w.current:_.getElementById(c):_.getElementById(c))();S==null||S.focus()}),v=(0,Tc.useMemo)(()=>({close:p}),[p]),m=(0,Tc.useMemo)(()=>({open:d===0,close:p}),[d,p]),y={ref:a};return Tc.default.createElement(f5e.Provider,{value:f},Tc.default.createElement(h5e.Provider,{value:v},Tc.default.createElement(H7,{value:$a(d,{[0]:1,[1]:2})},La({ourProps:y,theirProps:r,slot:m,defaultTag:egr,name:"Disclosure"}))))}var ngr="button";function rgr(e,t){let n=As(),{id:r=`headlessui-disclosure-button-${n}`,...i}=e,[a,s]=d5e("Disclosure.Button"),u=Qhr(),f=u===null?!1:u===a.panelId,d=(0,Tc.useRef)(null),c=Wa(d,t,f?null:a.buttonRef);(0,Tc.useEffect)(()=>{if(!f)return s({type:2,buttonId:r}),()=>{s({type:2,buttonId:null})}},[r,s,f]);let h=Tn(_=>{var S;if(f){if(a.disclosureState===1)return;switch(_.key){case" ":case"Enter":_.preventDefault(),_.stopPropagation(),s({type:0}),(S=a.buttonRef.current)==null||S.focus();break}}else switch(_.key){case" ":case"Enter":_.preventDefault(),_.stopPropagation(),s({type:0});break}}),p=Tn(_=>{switch(_.key){case" ":_.preventDefault();break}}),v=Tn(_=>{var S;_E(_.currentTarget)||e.disabled||(f?(s({type:0}),(S=a.buttonRef.current)==null||S.focus()):s({type:0}))}),m=(0,Tc.useMemo)(()=>({open:a.disclosureState===0}),[a]),y=DL(e,d),w=f?{ref:c,type:y,onKeyDown:h,onClick:v}:{ref:c,id:r,type:y,"aria-expanded":e.disabled?void 0:a.disclosureState===0,"aria-controls":a.linkedPanel?a.panelId:void 0,onKeyDown:h,onKeyUp:p,onClick:v};return La({ourProps:w,theirProps:i,slot:m,defaultTag:ngr,name:"Disclosure.Button"})}var igr="div",agr=3;function ogr(e,t){let n=As(),{id:r=`headlessui-disclosure-panel-${n}`,...i}=e,[a,s]=d5e("Disclosure.Panel"),{close:u}=q_t("Disclosure.Panel"),f=Wa(t,a.panelRef,v=>{Xhr(()=>s({type:v?4:5}))});(0,Tc.useEffect)(()=>(s({type:3,panelId:r}),()=>{s({type:3,panelId:null})}),[r,s]);let d=Vk(),c=(()=>d!==null?(d&1)===1:a.disclosureState===0)(),h=(0,Tc.useMemo)(()=>({open:a.disclosureState===0,close:u}),[a,u]),p={ref:f,id:r};return Tc.default.createElement(g5e.Provider,{value:a.panelId},La({ourProps:p,theirProps:i,slot:h,defaultTag:igr,features:agr,visible:c,name:"Disclosure.Panel"}))}var sgr=Da(tgr),ugr=Da(rgr),lgr=Da(ogr),cgr=Object.assign(sgr,{Button:ugr,Panel:lgr}),Bu=nc(z,1);function Vbe(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=HS(t(e.options.slice()),a=>a.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}var fgr={[1](e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},[0](e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},[2](e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=Vbe(e),i=JMe(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:i,activationTrigger:(n=t.trigger)!=null?n:1}},[3]:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(s=>{var u;return!s.dataRef.current.disabled&&((u=s.dataRef.current.textValue)==null?void 0:u.startsWith(r))}),a=i?e.options.indexOf(i):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:a,activationTrigger:1}},[4](e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},[5]:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=Vbe(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},[6]:(e,t)=>{let n=Vbe(e,r=>{let i=r.findIndex(a=>a.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},[7]:(e,t)=>({...e,labelId:t.id})},p5e=(0,Bu.createContext)(null);p5e.displayName="ListboxActionsContext";function Qq(e){let t=(0,Bu.useContext)(p5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qq),n}return t}var v5e=(0,Bu.createContext)(null);v5e.displayName="ListboxDataContext";function Jq(e){let t=(0,Bu.useContext)(v5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Jq),n}return t}function dgr(e,t){return $a(t.type,fgr,e,t)}var hgr=Bu.Fragment;function ggr(e,t){let{value:n,defaultValue:r,name:i,onChange:a,by:s=(de,me)=>de===me,disabled:u=!1,horizontal:f=!1,multiple:d=!1,...c}=e,h=f?"horizontal":"vertical",p=Wa(t),[v=d?[]:void 0,m]=Rce(n,a,r),[y,w]=(0,Bu.useReducer)(dgr,{dataRef:(0,Bu.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),_=(0,Bu.useRef)({static:!1,hold:!1}),S=(0,Bu.useRef)(null),C=(0,Bu.useRef)(null),$=(0,Bu.useRef)(null),k=Tn(typeof s=="string"?(de,me)=>{let Se=s;return(de==null?void 0:de[Se])===(me==null?void 0:me[Se])}:s),M=(0,Bu.useCallback)(de=>$a(A.mode,{[1]:()=>v.some(me=>k(me,de)),[0]:()=>k(v,de)}),[v]),A=(0,Bu.useMemo)(()=>({...y,value:v,disabled:u,mode:d?1:0,orientation:h,compare:k,isSelected:M,optionsPropsRef:_,labelRef:S,buttonRef:C,optionsRef:$}),[v,u,d,y]);Uo(()=>{y.dataRef.current=A},[A]),Kq([A.buttonRef,A.optionsRef],(de,me)=>{var Se;w({type:1}),Yq(me,1)||(de.preventDefault(),(Se=A.buttonRef.current)==null||Se.focus())},A.listboxState===0);let L=(0,Bu.useMemo)(()=>({open:A.listboxState===0,disabled:u,value:v}),[A,u,v]),N=Tn(de=>{let me=A.options.find(Se=>Se.id===de);me&&Z(me.dataRef.current.value)}),R=Tn(()=>{if(A.activeOptionIndex!==null){let{dataRef:de,id:me}=A.options[A.activeOptionIndex];Z(de.current.value),w({type:2,focus:4,id:me})}}),D=Tn(()=>w({type:0})),j=Tn(()=>w({type:1})),U=Tn((de,me,Se)=>w(de===4?{type:2,focus:4,id:me,trigger:Se}:{type:2,focus:de,trigger:Se})),H=Tn((de,me)=>(w({type:5,id:de,dataRef:me}),()=>w({type:6,id:de}))),Y=Tn(de=>(w({type:7,id:de}),()=>w({type:7,id:null}))),Z=Tn(de=>$a(A.mode,{[0](){return m==null?void 0:m(de)},[1](){let me=A.value.slice(),Se=me.findIndex(Ee=>k(Ee,de));return Se===-1?me.push(de):me.splice(Se,1),m==null?void 0:m(me)}})),Q=Tn(de=>w({type:3,value:de})),ee=Tn(()=>w({type:4})),oe=(0,Bu.useMemo)(()=>({onChange:Z,registerOption:H,registerLabel:Y,goToOption:U,closeListbox:j,openListbox:D,selectActiveOption:R,selectOption:N,search:Q,clearSearch:ee}),[]),ue={ref:p},ve=(0,Bu.useRef)(null),le=Fm();return(0,Bu.useEffect)(()=>{ve.current&&r!==void 0&&le.addEventListener(ve.current,"reset",()=>{Z(r)})},[ve,Z]),Bu.default.createElement(p5e.Provider,{value:oe},Bu.default.createElement(v5e.Provider,{value:A},Bu.default.createElement(H7,{value:$a(A.listboxState,{[0]:1,[1]:2})},i!=null&&v!=null&&Ace({[i]:v}).map(([de,me],Se)=>Bu.default.createElement(lw,{features:4,ref:Se===0?Ee=>{var xe;ve.current=(xe=Ee==null?void 0:Ee.closest("form"))!=null?xe:null}:void 0,...g8({key:de,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:de,value:me})})),La({ourProps:ue,theirProps:c,slot:L,defaultTag:hgr,name:"Listbox"}))))}var pgr="button";function vgr(e,t){var n;let r=As(),{id:i=`headlessui-listbox-button-${r}`,...a}=e,s=Jq("Listbox.Button"),u=Qq("Listbox.Button"),f=Wa(s.buttonRef,t),d=Fm(),c=Tn(w=>{switch(w.key){case" ":case"Enter":case"ArrowDown":w.preventDefault(),u.openListbox(),d.nextFrame(()=>{s.value||u.goToOption(0)});break;case"ArrowUp":w.preventDefault(),u.openListbox(),d.nextFrame(()=>{s.value||u.goToOption(3)});break}}),h=Tn(w=>{switch(w.key){case" ":w.preventDefault();break}}),p=Tn(w=>{if(_E(w.currentTarget))return w.preventDefault();s.listboxState===0?(u.closeListbox(),d.nextFrame(()=>{var _;return(_=s.buttonRef.current)==null?void 0:_.focus({preventScroll:!0})})):(w.preventDefault(),u.openListbox())}),v=Gq(()=>{if(s.labelId)return[s.labelId,i].join(" ")},[s.labelId,i]),m=(0,Bu.useMemo)(()=>({open:s.listboxState===0,disabled:s.disabled,value:s.value}),[s]),y={ref:f,id:i,type:DL(e,s.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=s.optionsRef.current)==null?void 0:n.id,"aria-expanded":s.disabled?void 0:s.listboxState===0,"aria-labelledby":v,disabled:s.disabled,onKeyDown:c,onKeyUp:h,onClick:p};return La({ourProps:y,theirProps:a,slot:m,defaultTag:pgr,name:"Listbox.Button"})}var mgr="label";function ygr(e,t){let n=As(),{id:r=`headlessui-listbox-label-${n}`,...i}=e,a=Jq("Listbox.Label"),s=Qq("Listbox.Label"),u=Wa(a.labelRef,t);Uo(()=>s.registerLabel(r),[r]);let f=Tn(()=>{var c;return(c=a.buttonRef.current)==null?void 0:c.focus({preventScroll:!0})}),d=(0,Bu.useMemo)(()=>({open:a.listboxState===0,disabled:a.disabled}),[a]);return La({ourProps:{ref:u,id:r,onClick:f},theirProps:i,slot:d,defaultTag:mgr,name:"Listbox.Label"})}var bgr="ul",wgr=3;function _gr(e,t){var n;let r=As(),{id:i=`headlessui-listbox-options-${r}`,...a}=e,s=Jq("Listbox.Options"),u=Qq("Listbox.Options"),f=Wa(s.optionsRef,t),d=Fm(),c=Fm(),h=Vk(),p=(()=>h!==null?(h&1)===1:s.listboxState===0)();(0,Bu.useEffect)(()=>{var _;let S=s.optionsRef.current;S&&s.listboxState===0&&S!==((_=Uk(S))==null?void 0:_.activeElement)&&S.focus({preventScroll:!0})},[s.listboxState,s.optionsRef]);let v=Tn(_=>{switch(c.dispose(),_.key){case" ":if(s.searchQuery!=="")return _.preventDefault(),_.stopPropagation(),u.search(_.key);case"Enter":if(_.preventDefault(),_.stopPropagation(),s.activeOptionIndex!==null){let{dataRef:S}=s.options[s.activeOptionIndex];u.onChange(S.current.value)}s.mode===0&&(u.closeListbox(),mv().nextFrame(()=>{var S;return(S=s.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})}));break;case $a(s.orientation,{vertical:"ArrowDown",horizontal:"ArrowRight"}):return _.preventDefault(),_.stopPropagation(),u.goToOption(2);case $a(s.orientation,{vertical:"ArrowUp",horizontal:"ArrowLeft"}):return _.preventDefault(),_.stopPropagation(),u.goToOption(1);case"Home":case"PageUp":return _.preventDefault(),_.stopPropagation(),u.goToOption(0);case"End":case"PageDown":return _.preventDefault(),_.stopPropagation(),u.goToOption(3);case"Escape":return _.preventDefault(),_.stopPropagation(),u.closeListbox(),d.nextFrame(()=>{var S;return(S=s.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})});case"Tab":_.preventDefault(),_.stopPropagation();break;default:_.key.length===1&&(u.search(_.key),c.setTimeout(()=>u.clearSearch(),350));break}}),m=Gq(()=>{var _,S,C;return(C=(_=s.labelRef.current)==null?void 0:_.id)!=null?C:(S=s.buttonRef.current)==null?void 0:S.id},[s.labelRef.current,s.buttonRef.current]),y=(0,Bu.useMemo)(()=>({open:s.listboxState===0}),[s]),w={"aria-activedescendant":s.activeOptionIndex===null||(n=s.options[s.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":s.mode===1?!0:void 0,"aria-labelledby":m,"aria-orientation":s.orientation,id:i,onKeyDown:v,role:"listbox",tabIndex:0,ref:f};return La({ourProps:w,theirProps:a,slot:y,defaultTag:bgr,features:wgr,visible:p,name:"Listbox.Options"})}var xgr="li";function Sgr(e,t){let n=As(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:a,...s}=e,u=Jq("Listbox.Option"),f=Qq("Listbox.Option"),d=u.activeOptionIndex!==null?u.options[u.activeOptionIndex].id===r:!1,c=u.isSelected(a),h=(0,Bu.useRef)(null),p=Bh({disabled:i,value:a,domRef:h,get textValue(){var k,M;return(M=(k=h.current)==null?void 0:k.textContent)==null?void 0:M.toLowerCase()}}),v=Wa(t,h);Uo(()=>{if(u.listboxState!==0||!d||u.activationTrigger===0)return;let k=mv();return k.requestAnimationFrame(()=>{var M,A;(A=(M=h.current)==null?void 0:M.scrollIntoView)==null||A.call(M,{block:"nearest"})}),k.dispose},[h,d,u.listboxState,u.activationTrigger,u.activeOptionIndex]),Uo(()=>f.registerOption(r,p),[p,r]);let m=Tn(k=>{if(i)return k.preventDefault();f.onChange(a),u.mode===0&&(f.closeListbox(),mv().nextFrame(()=>{var M;return(M=u.buttonRef.current)==null?void 0:M.focus({preventScroll:!0})}))}),y=Tn(()=>{if(i)return f.goToOption(5);f.goToOption(4,r)}),w=n5e(),_=Tn(k=>w.update(k)),S=Tn(k=>{w.wasMoved(k)&&(i||d||f.goToOption(4,r,0))}),C=Tn(k=>{w.wasMoved(k)&&(i||d&&f.goToOption(5))}),$=(0,Bu.useMemo)(()=>({active:d,selected:c,disabled:i}),[d,c,i]);return La({ourProps:{id:r,ref:v,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":c,disabled:void 0,onClick:m,onFocus:y,onPointerEnter:_,onMouseEnter:_,onPointerMove:S,onMouseMove:S,onPointerLeave:C,onMouseLeave:C},theirProps:s,slot:$,defaultTag:xgr,name:"Listbox.Option"})}var Egr=Da(ggr),Cgr=Da(vgr),$gr=Da(ygr),kgr=Da(_gr),Ogr=Da(Sgr),Agr=Object.assign(Egr,{Button:Cgr,Label:$gr,Options:kgr,Option:Ogr}),Pp=nc(z,1);function Wbe(e,t=n=>n){let n=e.activeItemIndex!==null?e.items[e.activeItemIndex]:null,r=HS(t(e.items.slice()),a=>a.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{items:r,activeItemIndex:i}}var Rgr={[1](e){return e.menuState===1?e:{...e,activeItemIndex:null,menuState:1}},[0](e){return e.menuState===0?e:{...e,menuState:0}},[2]:(e,t)=>{var n;let r=Wbe(e),i=JMe(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:i,activationTrigger:(n=t.trigger)!=null?n:1}},[3]:(e,t)=>{let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeItemIndex!==null?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(s=>{var u;return((u=s.dataRef.current.textValue)==null?void 0:u.startsWith(r))&&!s.dataRef.current.disabled}),a=i?e.items.indexOf(i):-1;return a===-1||a===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:a,activationTrigger:1}},[4](e){return e.searchQuery===""?e:{...e,searchQuery:"",searchActiveItemIndex:null}},[5]:(e,t)=>{let n=Wbe(e,r=>[...r,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},[6]:(e,t)=>{let n=Wbe(e,r=>{let i=r.findIndex(a=>a.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}}},m5e=(0,Pp.createContext)(null);m5e.displayName="MenuContext";function Pce(e){let t=(0,Pp.useContext)(m5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Pce),n}return t}function Tgr(e,t){return $a(t.type,Rgr,e,t)}var Mgr=Pp.Fragment;function Pgr(e,t){let n=(0,Pp.useReducer)(Tgr,{menuState:1,buttonRef:(0,Pp.createRef)(),itemsRef:(0,Pp.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:r,itemsRef:i,buttonRef:a},s]=n,u=Wa(t);Kq([a,i],(p,v)=>{var m;s({type:1}),Yq(v,1)||(p.preventDefault(),(m=a.current)==null||m.focus())},r===0);let f=Tn(()=>{s({type:1})}),d=(0,Pp.useMemo)(()=>({open:r===0,close:f}),[r,f]),c=e,h={ref:u};return Pp.default.createElement(m5e.Provider,{value:n},Pp.default.createElement(H7,{value:$a(r,{[0]:1,[1]:2})},La({ourProps:h,theirProps:c,slot:d,defaultTag:Mgr,name:"Menu"})))}var Lgr="button";function Dgr(e,t){var n;let r=As(),{id:i=`headlessui-menu-button-${r}`,...a}=e,[s,u]=Pce("Menu.Button"),f=Wa(s.buttonRef,t),d=Fm(),c=Tn(y=>{switch(y.key){case" ":case"Enter":case"ArrowDown":y.preventDefault(),y.stopPropagation(),u({type:0}),d.nextFrame(()=>u({type:2,focus:0}));break;case"ArrowUp":y.preventDefault(),y.stopPropagation(),u({type:0}),d.nextFrame(()=>u({type:2,focus:3}));break}}),h=Tn(y=>{switch(y.key){case" ":y.preventDefault();break}}),p=Tn(y=>{if(_E(y.currentTarget))return y.preventDefault();e.disabled||(s.menuState===0?(u({type:1}),d.nextFrame(()=>{var w;return(w=s.buttonRef.current)==null?void 0:w.focus({preventScroll:!0})})):(y.preventDefault(),u({type:0})))}),v=(0,Pp.useMemo)(()=>({open:s.menuState===0}),[s]),m={ref:f,id:i,type:DL(e,s.buttonRef),"aria-haspopup":"menu","aria-controls":(n=s.itemsRef.current)==null?void 0:n.id,"aria-expanded":e.disabled?void 0:s.menuState===0,onKeyDown:c,onKeyUp:h,onClick:p};return La({ourProps:m,theirProps:a,slot:v,defaultTag:Lgr,name:"Menu.Button"})}var Igr="div",Fgr=3;function Ngr(e,t){var n,r;let i=As(),{id:a=`headlessui-menu-items-${i}`,...s}=e,[u,f]=Pce("Menu.Items"),d=Wa(u.itemsRef,t),c=AT(u.itemsRef),h=Fm(),p=Vk(),v=(()=>p!==null?(p&1)===1:u.menuState===0)();(0,Pp.useEffect)(()=>{let S=u.itemsRef.current;S&&u.menuState===0&&S!==(c==null?void 0:c.activeElement)&&S.focus({preventScroll:!0})},[u.menuState,u.itemsRef,c]),QMe({container:u.itemsRef.current,enabled:u.menuState===0,accept(S){return S.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:S.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(S){S.setAttribute("role","none")}});let m=Tn(S=>{var C,$;switch(h.dispose(),S.key){case" ":if(u.searchQuery!=="")return S.preventDefault(),S.stopPropagation(),f({type:3,value:S.key});case"Enter":if(S.preventDefault(),S.stopPropagation(),f({type:1}),u.activeItemIndex!==null){let{dataRef:k}=u.items[u.activeItemIndex];($=(C=k.current)==null?void 0:C.domRef.current)==null||$.click()}M_t(u.buttonRef.current);break;case"ArrowDown":return S.preventDefault(),S.stopPropagation(),f({type:2,focus:2});case"ArrowUp":return S.preventDefault(),S.stopPropagation(),f({type:2,focus:1});case"Home":case"PageUp":return S.preventDefault(),S.stopPropagation(),f({type:2,focus:0});case"End":case"PageDown":return S.preventDefault(),S.stopPropagation(),f({type:2,focus:3});case"Escape":S.preventDefault(),S.stopPropagation(),f({type:1}),mv().nextFrame(()=>{var k;return(k=u.buttonRef.current)==null?void 0:k.focus({preventScroll:!0})});break;case"Tab":S.preventDefault(),S.stopPropagation(),f({type:1}),mv().nextFrame(()=>{rdr(u.buttonRef.current,S.shiftKey?2:4)});break;default:S.key.length===1&&(f({type:3,value:S.key}),h.setTimeout(()=>f({type:4}),350));break}}),y=Tn(S=>{switch(S.key){case" ":S.preventDefault();break}}),w=(0,Pp.useMemo)(()=>({open:u.menuState===0}),[u]),_={"aria-activedescendant":u.activeItemIndex===null||(n=u.items[u.activeItemIndex])==null?void 0:n.id,"aria-labelledby":(r=u.buttonRef.current)==null?void 0:r.id,id:a,onKeyDown:m,onKeyUp:y,role:"menu",tabIndex:0,ref:d};return La({ourProps:_,theirProps:s,slot:w,defaultTag:Igr,features:Fgr,visible:v,name:"Menu.Items"})}var zgr=Pp.Fragment;function jgr(e,t){let n=As(),{id:r=`headlessui-menu-item-${n}`,disabled:i=!1,...a}=e,[s,u]=Pce("Menu.Item"),f=s.activeItemIndex!==null?s.items[s.activeItemIndex].id===r:!1,d=(0,Pp.useRef)(null),c=Wa(t,d);Uo(()=>{if(s.menuState!==0||!f||s.activationTrigger===0)return;let $=mv();return $.requestAnimationFrame(()=>{var k,M;(M=(k=d.current)==null?void 0:k.scrollIntoView)==null||M.call(k,{block:"nearest"})}),$.dispose},[d,f,s.menuState,s.activationTrigger,s.activeItemIndex]);let h=(0,Pp.useRef)({disabled:i,domRef:d});Uo(()=>{h.current.disabled=i},[h,i]),Uo(()=>{var $,k;h.current.textValue=(k=($=d.current)==null?void 0:$.textContent)==null?void 0:k.toLowerCase()},[h,d]),Uo(()=>(u({type:5,id:r,dataRef:h}),()=>u({type:6,id:r})),[h,r]);let p=Tn(()=>{u({type:1})}),v=Tn($=>{if(i)return $.preventDefault();u({type:1}),M_t(s.buttonRef.current)}),m=Tn(()=>{if(i)return u({type:2,focus:5});u({type:2,focus:4,id:r})}),y=n5e(),w=Tn($=>y.update($)),_=Tn($=>{y.wasMoved($)&&(i||f||u({type:2,focus:4,id:r,trigger:0}))}),S=Tn($=>{y.wasMoved($)&&(i||f&&u({type:2,focus:5}))}),C=(0,Pp.useMemo)(()=>({active:f,disabled:i,close:p}),[f,i,p]);return La({ourProps:{id:r,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,disabled:void 0,onClick:v,onFocus:m,onPointerEnter:w,onMouseEnter:w,onPointerMove:_,onMouseMove:_,onPointerLeave:S,onMouseLeave:S},theirProps:a,slot:C,defaultTag:zgr,name:"Menu.Item"})}var Bgr=Da(Pgr),Hgr=Da(Dgr),Ugr=Da(Ngr),Vgr=Da(jgr),Wgr=Object.assign(Bgr,{Button:Hgr,Items:Ugr,Item:Vgr}),Za=nc(z,1),Ggr={[0]:e=>({...e,popoverState:$a(e.popoverState,{[0]:1,[1]:0})}),[1](e){return e.popoverState===1?e:{...e,popoverState:1}},[2](e,t){return e.button===t.button?e:{...e,button:t.button}},[3](e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},[4](e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},[5](e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},y5e=(0,Za.createContext)(null);y5e.displayName="PopoverContext";function Lce(e){let t=(0,Za.useContext)(y5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Lce),n}return t}var b5e=(0,Za.createContext)(null);b5e.displayName="PopoverAPIContext";function w5e(e){let t=(0,Za.useContext)(b5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,w5e),n}return t}var _5e=(0,Za.createContext)(null);_5e.displayName="PopoverGroupContext";function Y_t(){return(0,Za.useContext)(_5e)}var Dce=(0,Za.createContext)(null);Dce.displayName="PopoverPanelContext";function qgr(){return(0,Za.useContext)(Dce)}function Ygr(e,t){return $a(t.type,Ggr,e,t)}var Kgr="div";function Xgr(e,t){var n;let r=(0,Za.useRef)(null),i=Wa(t,ZMe(j=>{r.current=j})),a=(0,Za.useRef)([]),s=(0,Za.useReducer)(Ygr,{popoverState:1,buttons:a,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,Za.createRef)(),afterPanelSentinel:(0,Za.createRef)()}),[{popoverState:u,button:f,buttonId:d,panel:c,panelId:h,beforePanelSentinel:p,afterPanelSentinel:v},m]=s,y=AT((n=r.current)!=null?n:f),w=(0,Za.useMemo)(()=>{if(!f||!c)return!1;for(let ee of document.querySelectorAll("body > *"))if(Number(ee==null?void 0:ee.contains(f))^Number(ee==null?void 0:ee.contains(c)))return!0;let j=qq(),U=j.indexOf(f),H=(U+j.length-1)%j.length,Y=(U+1)%j.length,Z=j[H],Q=j[Y];return!c.contains(Z)&&!c.contains(Q)},[f,c]),_=Bh(d),S=Bh(h),C=(0,Za.useMemo)(()=>({buttonId:_,panelId:S,close:()=>m({type:1})}),[_,S,m]),$=Y_t(),k=$==null?void 0:$.registerPopover,M=Tn(()=>{var j;return(j=$==null?void 0:$.isFocusWithinPopoverGroup())!=null?j:(y==null?void 0:y.activeElement)&&((f==null?void 0:f.contains(y.activeElement))||(c==null?void 0:c.contains(y.activeElement)))});(0,Za.useEffect)(()=>k==null?void 0:k(C),[k,C]),o5e(y==null?void 0:y.defaultView,"focus",j=>{var U,H,Y,Z;u===0&&(M()||f&&c&&j.target!==window&&((H=(U=p.current)==null?void 0:U.contains)!=null&&H.call(U,j.target)||(Z=(Y=v.current)==null?void 0:Y.contains)!=null&&Z.call(Y,j.target)||m({type:1})))},!0),Kq([f,c],(j,U)=>{m({type:1}),Yq(U,1)||(j.preventDefault(),f==null||f.focus())},u===0);let A=Tn(j=>{m({type:1});let U=(()=>j?j instanceof HTMLElement?j:"current"in j&&j.current instanceof HTMLElement?j.current:f:f)();U==null||U.focus()}),L=(0,Za.useMemo)(()=>({close:A,isPortalled:w}),[A,w]),N=(0,Za.useMemo)(()=>({open:u===0,close:A}),[u,A]),R=e,D={ref:i};return Za.default.createElement(Dce.Provider,{value:null},Za.default.createElement(y5e.Provider,{value:s},Za.default.createElement(b5e.Provider,{value:L},Za.default.createElement(H7,{value:$a(u,{[0]:1,[1]:2})},La({ourProps:D,theirProps:R,slot:N,defaultTag:Kgr,name:"Popover"})))))}var Zgr="button";function Qgr(e,t){let n=As(),{id:r=`headlessui-popover-button-${n}`,...i}=e,[a,s]=Lce("Popover.Button"),{isPortalled:u}=w5e("Popover.Button"),f=(0,Za.useRef)(null),d=`headlessui-focus-sentinel-${As()}`,c=Y_t(),h=c==null?void 0:c.closeOthers,p=qgr()!==null;(0,Za.useEffect)(()=>{if(!p)return s({type:3,buttonId:r}),()=>{s({type:3,buttonId:null})}},[p,r,s]);let[v]=(0,Za.useState)(()=>Symbol()),m=Wa(f,t,p?null:D=>{if(D)a.buttons.current.push(v);else{let j=a.buttons.current.indexOf(v);j!==-1&&a.buttons.current.splice(j,1)}a.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),D&&s({type:2,button:D})}),y=Wa(f,t),w=AT(f),_=Tn(D=>{var j,U,H;if(p){if(a.popoverState===1)return;switch(D.key){case" ":case"Enter":D.preventDefault(),(U=(j=D.target).click)==null||U.call(j),s({type:1}),(H=a.button)==null||H.focus();break}}else switch(D.key){case" ":case"Enter":D.preventDefault(),D.stopPropagation(),a.popoverState===1&&(h==null||h(a.buttonId)),s({type:0});break;case"Escape":if(a.popoverState!==0)return h==null?void 0:h(a.buttonId);if(!f.current||w!=null&&w.activeElement&&!f.current.contains(w.activeElement))return;D.preventDefault(),D.stopPropagation(),s({type:1});break}}),S=Tn(D=>{p||D.key===" "&&D.preventDefault()}),C=Tn(D=>{var j,U;_E(D.currentTarget)||e.disabled||(p?(s({type:1}),(j=a.button)==null||j.focus()):(D.preventDefault(),D.stopPropagation(),a.popoverState===1&&(h==null||h(a.buttonId)),s({type:0}),(U=a.button)==null||U.focus()))}),$=Tn(D=>{D.preventDefault(),D.stopPropagation()}),k=a.popoverState===0,M=(0,Za.useMemo)(()=>({open:k}),[k]),A=DL(e,f),L=p?{ref:y,type:A,onKeyDown:_,onClick:C}:{ref:m,id:a.buttonId,type:A,"aria-expanded":e.disabled?void 0:a.popoverState===0,"aria-controls":a.panel?a.panelId:void 0,onKeyDown:_,onKeyUp:S,onClick:C,onMouseDown:$},N=a5e(),R=Tn(()=>{let D=a.panel;if(!D)return;function j(){$a(N.current,{[0]:()=>dd(D,1),[1]:()=>dd(D,8)})===0&&dd(qq().filter(U=>U.dataset.headlessuiFocusGuard!=="true"),$a(N.current,{[0]:4,[1]:2}),{relativeTo:a.button})}j()});return Za.default.createElement(Za.default.Fragment,null,La({ourProps:L,theirProps:i,slot:M,defaultTag:Zgr,name:"Popover.Button"}),k&&!p&&u&&Za.default.createElement(lw,{id:d,features:2,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:R}))}var Jgr="div",epr=3;function tpr(e,t){let n=As(),{id:r=`headlessui-popover-overlay-${n}`,...i}=e,[{popoverState:a},s]=Lce("Popover.Overlay"),u=Wa(t),f=Vk(),d=(()=>f!==null?(f&1)===1:a===0)(),c=Tn(p=>{if(_E(p.currentTarget))return p.preventDefault();s({type:1})}),h=(0,Za.useMemo)(()=>({open:a===0}),[a]);return La({ourProps:{ref:u,id:r,"aria-hidden":!0,onClick:c},theirProps:i,slot:h,defaultTag:Jgr,features:epr,visible:d,name:"Popover.Overlay"})}var npr="div",rpr=3;function ipr(e,t){let n=As(),{id:r=`headlessui-popover-panel-${n}`,focus:i=!1,...a}=e,[s,u]=Lce("Popover.Panel"),{close:f,isPortalled:d}=w5e("Popover.Panel"),c=`headlessui-focus-sentinel-before-${As()}`,h=`headlessui-focus-sentinel-after-${As()}`,p=(0,Za.useRef)(null),v=Wa(p,t,A=>{u({type:4,panel:A})}),m=AT(p);Uo(()=>(u({type:5,panelId:r}),()=>{u({type:5,panelId:null})}),[r,u]);let y=Vk(),w=(()=>y!==null?(y&1)===1:s.popoverState===0)(),_=Tn(A=>{var L;switch(A.key){case"Escape":if(s.popoverState!==0||!p.current||m!=null&&m.activeElement&&!p.current.contains(m.activeElement))return;A.preventDefault(),A.stopPropagation(),u({type:1}),(L=s.button)==null||L.focus();break}});(0,Za.useEffect)(()=>{var A;e.static||s.popoverState===1&&((A=e.unmount)==null||A)&&u({type:4,panel:null})},[s.popoverState,e.unmount,e.static,u]),(0,Za.useEffect)(()=>{if(!i||s.popoverState!==0||!p.current)return;let A=m==null?void 0:m.activeElement;p.current.contains(A)||dd(p.current,1)},[i,p,s.popoverState]);let S=(0,Za.useMemo)(()=>({open:s.popoverState===0,close:f}),[s,f]),C={ref:v,id:r,onKeyDown:_,onBlur:i&&s.popoverState===0?A=>{var L,N,R,D,j;let U=A.relatedTarget;U&&p.current&&((L=p.current)!=null&&L.contains(U)||(u({type:1}),((R=(N=s.beforePanelSentinel.current)==null?void 0:N.contains)!=null&&R.call(N,U)||(j=(D=s.afterPanelSentinel.current)==null?void 0:D.contains)!=null&&j.call(D,U))&&U.focus({preventScroll:!0})))}:void 0,tabIndex:-1},$=a5e(),k=Tn(()=>{let A=p.current;if(!A)return;function L(){$a($.current,{[0]:()=>{var N;dd(A,1)===0&&((N=s.afterPanelSentinel.current)==null||N.focus())},[1]:()=>{var N;(N=s.button)==null||N.focus({preventScroll:!0})}})}L()}),M=Tn(()=>{let A=p.current;if(!A)return;function L(){$a($.current,{[0]:()=>{var N;if(!s.button)return;let R=qq(),D=R.indexOf(s.button),j=R.slice(0,D+1),U=[...R.slice(D+1),...j];for(let H of U.slice())if(H.dataset.headlessuiFocusGuard==="true"||(N=s.panel)!=null&&N.contains(H)){let Y=U.indexOf(H);Y!==-1&&U.splice(Y,1)}dd(U,1,{sorted:!1})},[1]:()=>{var N;dd(A,2)===0&&((N=s.button)==null||N.focus())}})}L()});return Za.default.createElement(Dce.Provider,{value:r},w&&d&&Za.default.createElement(lw,{id:c,ref:s.beforePanelSentinel,features:2,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:k}),La({ourProps:C,theirProps:a,slot:S,defaultTag:npr,features:rpr,visible:w,name:"Popover.Panel"}),w&&d&&Za.default.createElement(lw,{id:h,ref:s.afterPanelSentinel,features:2,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:M}))}var apr="div";function opr(e,t){let n=(0,Za.useRef)(null),r=Wa(n,t),[i,a]=(0,Za.useState)([]),s=Tn(m=>{a(y=>{let w=y.indexOf(m);if(w!==-1){let _=y.slice();return _.splice(w,1),_}return y})}),u=Tn(m=>(a(y=>[...y,m]),()=>s(m))),f=Tn(()=>{var m;let y=Uk(n);if(!y)return!1;let w=y.activeElement;return(m=n.current)!=null&&m.contains(w)?!0:i.some(_=>{var S,C;return((S=y.getElementById(_.buttonId.current))==null?void 0:S.contains(w))||((C=y.getElementById(_.panelId.current))==null?void 0:C.contains(w))})}),d=Tn(m=>{for(let y of i)y.buttonId.current!==m&&y.close()}),c=(0,Za.useMemo)(()=>({registerPopover:u,unregisterPopover:s,isFocusWithinPopoverGroup:f,closeOthers:d}),[u,s,f,d]),h=(0,Za.useMemo)(()=>({}),[]),p=e,v={ref:r};return Za.default.createElement(_5e.Provider,{value:c},La({ourProps:v,theirProps:p,slot:h,defaultTag:apr,name:"Popover.Group"}))}var spr=Da(Xgr),upr=Da(Qgr),lpr=Da(tpr),cpr=Da(ipr),fpr=Da(opr),dpr=Object.assign(spr,{Button:upr,Overlay:lpr,Panel:cpr,Group:fpr}),sf=nc(z,1),XB=z;function K_t(e=0){let[t,n]=(0,XB.useState)(e),r=(0,XB.useCallback)(u=>n(f=>f|u),[t]),i=(0,XB.useCallback)(u=>!!(t&u),[t]),a=(0,XB.useCallback)(u=>n(f=>f&~u),[n]),s=(0,XB.useCallback)(u=>n(f=>f^u),[n]);return{flags:t,addFlag:r,hasFlag:i,removeFlag:a,toggleFlag:s}}var mF=nc(z,1),X_t=(0,mF.createContext)(null);function Z_t(){let e=(0,mF.useContext)(X_t);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Z_t),t}return e}function x5e(){let[e,t]=(0,mF.useState)([]);return[e.length>0?e.join(" "):void 0,(0,mF.useMemo)(()=>function(n){let r=Tn(a=>(t(s=>[...s,a]),()=>t(s=>{let u=s.slice(),f=u.indexOf(a);return f!==-1&&u.splice(f,1),u}))),i=(0,mF.useMemo)(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return mF.default.createElement(X_t.Provider,{value:i},n.children)},[t])]}var hpr="label";function gpr(e,t){let n=As(),{id:r=`headlessui-label-${n}`,passive:i=!1,...a}=e,s=Z_t(),u=Wa(t);Uo(()=>s.register(r),[r,s.register]);let f={ref:u,...s.props,id:r};return i&&("onClick"in f&&(delete f.htmlFor,delete f.onClick),"onClick"in a&&delete a.onClick),La({ourProps:f,theirProps:a,slot:s.slot||{},defaultTag:hpr,name:s.name||"Label"})}var ppr=Da(gpr),Q_t=Object.assign(ppr,{}),vpr={[0](e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:HS(n,r=>r.element.current)}},[1](e,t){let n=e.options.slice(),r=e.options.findIndex(i=>i.id===t.id);return r===-1?e:(n.splice(r,1),{...e,options:n})}},S5e=(0,sf.createContext)(null);S5e.displayName="RadioGroupDataContext";function J_t(e){let t=(0,sf.useContext)(S5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,J_t),n}return t}var E5e=(0,sf.createContext)(null);E5e.displayName="RadioGroupActionsContext";function ext(e){let t=(0,sf.useContext)(E5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ext),n}return t}function mpr(e,t){return $a(t.type,vpr,e,t)}var ypr="div";function bpr(e,t){let n=As(),{id:r=`headlessui-radiogroup-${n}`,value:i,defaultValue:a,name:s,onChange:u,by:f=(ee,oe)=>ee===oe,disabled:d=!1,...c}=e,h=Tn(typeof f=="string"?(ee,oe)=>{let ue=f;return(ee==null?void 0:ee[ue])===(oe==null?void 0:oe[ue])}:f),[p,v]=(0,sf.useReducer)(mpr,{options:[]}),m=p.options,[y,w]=x5e(),[_,S]=Mce(),C=(0,sf.useRef)(null),$=Wa(C,t),[k,M]=Rce(i,u,a),A=(0,sf.useMemo)(()=>m.find(ee=>!ee.propsRef.current.disabled),[m]),L=(0,sf.useMemo)(()=>m.some(ee=>h(ee.propsRef.current.value,k)),[m,k]),N=Tn(ee=>{var oe;if(d||h(ee,k))return!1;let ue=(oe=m.find(ve=>h(ve.propsRef.current.value,ee)))==null?void 0:oe.propsRef.current;return ue!=null&&ue.disabled?!1:(M==null||M(ee),!0)});QMe({container:C.current,accept(ee){return ee.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:ee.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(ee){ee.setAttribute("role","none")}});let R=Tn(ee=>{let oe=C.current;if(!oe)return;let ue=Uk(oe),ve=m.filter(le=>le.propsRef.current.disabled===!1).map(le=>le.element.current);switch(ee.key){case"Enter":N_t(ee.currentTarget);break;case"ArrowLeft":case"ArrowUp":if(ee.preventDefault(),ee.stopPropagation(),dd(ve,18)===2){let le=m.find(de=>de.element.current===(ue==null?void 0:ue.activeElement));le&&N(le.propsRef.current.value)}break;case"ArrowRight":case"ArrowDown":if(ee.preventDefault(),ee.stopPropagation(),dd(ve,20)===2){let le=m.find(de=>de.element.current===(ue==null?void 0:ue.activeElement));le&&N(le.propsRef.current.value)}break;case" ":{ee.preventDefault(),ee.stopPropagation();let le=m.find(de=>de.element.current===(ue==null?void 0:ue.activeElement));le&&N(le.propsRef.current.value)}break}}),D=Tn(ee=>(v({type:0,...ee}),()=>v({type:1,id:ee.id}))),j=(0,sf.useMemo)(()=>({value:k,firstOption:A,containsCheckedOption:L,disabled:d,compare:h,...p}),[k,A,L,d,h,p]),U=(0,sf.useMemo)(()=>({registerOption:D,change:N}),[D,N]),H={ref:$,id:r,role:"radiogroup","aria-labelledby":y,"aria-describedby":_,onKeyDown:R},Y=(0,sf.useMemo)(()=>({value:k}),[k]),Z=(0,sf.useRef)(null),Q=Fm();return(0,sf.useEffect)(()=>{Z.current&&a!==void 0&&Q.addEventListener(Z.current,"reset",()=>{N(a)})},[Z,N]),sf.default.createElement(S,{name:"RadioGroup.Description"},sf.default.createElement(w,{name:"RadioGroup.Label"},sf.default.createElement(E5e.Provider,{value:U},sf.default.createElement(S5e.Provider,{value:j},s!=null&&k!=null&&Ace({[s]:k}).map(([ee,oe],ue)=>sf.default.createElement(lw,{features:4,ref:ue===0?ve=>{var le;Z.current=(le=ve==null?void 0:ve.closest("form"))!=null?le:null}:void 0,...g8({key:ee,as:"input",type:"radio",checked:oe!=null,hidden:!0,readOnly:!0,name:ee,value:oe})})),La({ourProps:H,theirProps:c,slot:Y,defaultTag:ypr,name:"RadioGroup"})))))}var wpr="div";function _pr(e,t){var n;let r=As(),{id:i=`headlessui-radiogroup-option-${r}`,value:a,disabled:s=!1,...u}=e,f=(0,sf.useRef)(null),d=Wa(f,t),[c,h]=x5e(),[p,v]=Mce(),{addFlag:m,removeFlag:y,hasFlag:w}=K_t(1),_=Bh({value:a,disabled:s}),S=J_t("RadioGroup.Option"),C=ext("RadioGroup.Option");Uo(()=>C.registerOption({id:i,element:f,propsRef:_}),[i,C,f,e]);let $=Tn(j=>{var U;if(_E(j.currentTarget))return j.preventDefault();C.change(a)&&(m(2),(U=f.current)==null||U.focus())}),k=Tn(j=>{if(_E(j.currentTarget))return j.preventDefault();m(2)}),M=Tn(()=>y(2)),A=((n=S.firstOption)==null?void 0:n.id)===i,L=S.disabled||s,N=S.compare(S.value,a),R={ref:d,id:i,role:"radio","aria-checked":N?"true":"false","aria-labelledby":c,"aria-describedby":p,"aria-disabled":L?!0:void 0,tabIndex:(()=>L?-1:N||!S.containsCheckedOption&&A?0:-1)(),onClick:L?void 0:$,onFocus:L?void 0:k,onBlur:L?void 0:M},D=(0,sf.useMemo)(()=>({checked:N,disabled:L,active:w(2)}),[N,L,w]);return sf.default.createElement(v,{name:"RadioGroup.Description"},sf.default.createElement(h,{name:"RadioGroup.Label"},La({ourProps:R,theirProps:u,slot:D,defaultTag:wpr,name:"RadioGroup.Option"})))}var xpr=Da(bpr),Spr=Da(_pr),Epr=Object.assign(xpr,{Option:Spr,Label:Q_t,Description:u5e}),um=nc(z,1),C5e=(0,um.createContext)(null);C5e.displayName="GroupContext";var Cpr=um.Fragment;function $pr(e){var t;let[n,r]=(0,um.useState)(null),[i,a]=x5e(),[s,u]=Mce(),f=(0,um.useMemo)(()=>({switch:n,setSwitch:r,labelledby:i,describedby:s}),[n,r,i,s]),d={},c=e;return um.default.createElement(u,{name:"Switch.Description"},um.default.createElement(a,{name:"Switch.Label",props:{htmlFor:(t=f.switch)==null?void 0:t.id,onClick(h){n&&(h.currentTarget.tagName==="LABEL"&&h.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},um.default.createElement(C5e.Provider,{value:f},La({ourProps:d,theirProps:c,defaultTag:Cpr,name:"Switch.Group"}))))}var kpr="button";function Opr(e,t){let n=As(),{id:r=`headlessui-switch-${n}`,checked:i,defaultChecked:a=!1,onChange:s,name:u,value:f,...d}=e,c=(0,um.useContext)(C5e),h=(0,um.useRef)(null),p=Wa(h,t,c===null?null:c.setSwitch),[v,m]=Rce(i,s,a),y=Tn(()=>m==null?void 0:m(!v)),w=Tn(M=>{if(_E(M.currentTarget))return M.preventDefault();M.preventDefault(),y()}),_=Tn(M=>{M.key===" "?(M.preventDefault(),y()):M.key==="Enter"&&N_t(M.currentTarget)}),S=Tn(M=>M.preventDefault()),C=(0,um.useMemo)(()=>({checked:v}),[v]),$={id:r,ref:p,role:"switch",type:DL(e,h),tabIndex:0,"aria-checked":v,"aria-labelledby":c==null?void 0:c.labelledby,"aria-describedby":c==null?void 0:c.describedby,onClick:w,onKeyUp:_,onKeyPress:S},k=Fm();return(0,um.useEffect)(()=>{var M;let A=(M=h.current)==null?void 0:M.closest("form");A&&a!==void 0&&k.addEventListener(A,"reset",()=>{m(a)})},[h,m]),um.default.createElement(um.default.Fragment,null,u!=null&&v&&um.default.createElement(lw,{features:4,...g8({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:v,name:u,value:f})}),La({ourProps:$,theirProps:d,slot:C,defaultTag:kpr,name:"Switch"}))}var Apr=Da(Opr),Rpr=$pr,Tpr=Object.assign(Apr,{Group:Rpr,Label:Q_t,Description:u5e}),cd=nc(z,1),get=nc(z,1);function Mpr({onFocus:e}){let[t,n]=(0,get.useState)(!0);return t?get.default.createElement(lw,{as:"button",type:"button",features:2,onFocus:r=>{r.preventDefault();let i,a=50;function s(){if(a--<=0){i&&cancelAnimationFrame(i);return}if(e()){n(!1),cancelAnimationFrame(i);return}i=requestAnimationFrame(s)}i=requestAnimationFrame(s)}}):null}var p8=nc(z,1),txt=p8.createContext(null);function Ppr(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let i=(n=r.get(t))!=null?n:0;r.set(t,i+1);let a=Array.from(r.keys()).indexOf(t);function s(){let u=r.get(t);u>1?r.set(t,u-1):r.delete(t)}return[a,s]}}}function Lpr({children:e}){let t=p8.useRef(Ppr());return p8.createElement(txt.Provider,{value:t},e)}function nxt(e){let t=p8.useContext(txt);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=Dpr(),[r,i]=t.current.get(e,n);return p8.useEffect(()=>i,[]),r}function Dpr(){var e,t,n;let r=(n=(t=(e=p8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!r)return Symbol();let i=[],a=r;for(;a;)i.push(a.index),a=a.return;return"$."+i.join(".")}var Ipr={[0](e,t){var n;let r=HS(e.tabs,c=>c.current),i=HS(e.panels,c=>c.current),a=r.filter(c=>{var h;return!((h=c.current)!=null&&h.hasAttribute("disabled"))}),s={...e,tabs:r,panels:i};if(t.index<0||t.index>r.length-1){let c=$a(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,[0]:()=>$a(Math.sign(t.index),{[-1]:()=>0,[0]:()=>0,[1]:()=>1}),[1]:()=>0});return a.length===0?s:{...s,selectedIndex:$a(c,{[0]:()=>r.indexOf(a[0]),[1]:()=>r.indexOf(a[a.length-1])})}}let u=r.slice(0,t.index),f=[...r.slice(t.index),...u].find(c=>a.includes(c));if(!f)return s;let d=(n=r.indexOf(f))!=null?n:e.selectedIndex;return d===-1&&(d=e.selectedIndex),{...s,selectedIndex:d}},[1](e,t){var n;if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],i=HS([...e.tabs,t.tab],s=>s.current),a=(n=i.indexOf(r))!=null?n:e.selectedIndex;return a===-1&&(a=e.selectedIndex),{...e,tabs:i,selectedIndex:a}},[2](e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},[3](e,t){return e.panels.includes(t.panel)?e:{...e,panels:HS([...e.panels,t.panel],n=>n.current)}},[4](e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},$5e=(0,cd.createContext)(null);$5e.displayName="TabsDataContext";function v8(e){let t=(0,cd.useContext)($5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,v8),n}return t}var k5e=(0,cd.createContext)(null);k5e.displayName="TabsActionsContext";function O5e(e){let t=(0,cd.useContext)(k5e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,O5e),n}return t}function Fpr(e,t){return $a(t.type,Ipr,e,t)}var Npr=cd.Fragment;function zpr(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:a,selectedIndex:s=null,...u}=e,f=r?"vertical":"horizontal",d=i?"manual":"auto",c=s!==null,h=Wa(t),[p,v]=(0,cd.useReducer)(Fpr,{selectedIndex:s??n,tabs:[],panels:[]}),m=(0,cd.useMemo)(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),y=Bh(a||(()=>{})),w=Bh(p.tabs),_=(0,cd.useMemo)(()=>({orientation:f,activation:d,...p}),[f,d,p]),S=Tn(L=>(v({type:1,tab:L}),()=>v({type:2,tab:L}))),C=Tn(L=>(v({type:3,panel:L}),()=>v({type:4,panel:L}))),$=Tn(L=>{k.current!==L&&y.current(L),c||v({type:0,index:L})}),k=Bh(c?e.selectedIndex:p.selectedIndex),M=(0,cd.useMemo)(()=>({registerTab:S,registerPanel:C,change:$}),[]);Uo(()=>{v({type:0,index:s??n})},[s]),Uo(()=>{if(k.current===void 0||p.tabs.length<=0)return;let L=HS(p.tabs,N=>N.current);L.some((N,R)=>p.tabs[R]!==N)&&$(L.indexOf(p.tabs[k.current]))});let A={ref:h};return cd.default.createElement(Lpr,null,cd.default.createElement(k5e.Provider,{value:M},cd.default.createElement($5e.Provider,{value:_},_.tabs.length<=0&&cd.default.createElement(Mpr,{onFocus:()=>{var L,N;for(let R of w.current)if(((L=R.current)==null?void 0:L.tabIndex)===0)return(N=R.current)==null||N.focus(),!0;return!1}}),La({ourProps:A,theirProps:u,slot:m,defaultTag:Npr,name:"Tabs"}))))}var jpr="div";function Bpr(e,t){let{orientation:n,selectedIndex:r}=v8("Tab.List"),i=Wa(t);return La({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:jpr,name:"Tabs.List"})}var Hpr="button";function Upr(e,t){var n,r;let i=As(),{id:a=`headlessui-tabs-tab-${i}`,...s}=e,{orientation:u,activation:f,selectedIndex:d,tabs:c,panels:h}=v8("Tab"),p=O5e("Tab"),v=v8("Tab"),m=(0,cd.useRef)(null),y=Wa(m,t);Uo(()=>p.registerTab(m),[p,m]);let w=nxt("tabs"),_=c.indexOf(m);_===-1&&(_=w);let S=_===d,C=Tn(R=>{var D;let j=R();if(j===2&&f==="auto"){let U=(D=Uk(m))==null?void 0:D.activeElement,H=v.tabs.findIndex(Y=>Y.current===U);H!==-1&&p.change(H)}return j}),$=Tn(R=>{let D=c.map(j=>j.current).filter(Boolean);if(R.key===" "||R.key==="Enter"){R.preventDefault(),R.stopPropagation(),p.change(_);return}switch(R.key){case"Home":case"PageUp":return R.preventDefault(),R.stopPropagation(),C(()=>dd(D,1));case"End":case"PageDown":return R.preventDefault(),R.stopPropagation(),C(()=>dd(D,8))}if(C(()=>$a(u,{vertical(){return R.key==="ArrowUp"?dd(D,18):R.key==="ArrowDown"?dd(D,20):0},horizontal(){return R.key==="ArrowLeft"?dd(D,18):R.key==="ArrowRight"?dd(D,20):0}}))===2)return R.preventDefault()}),k=(0,cd.useRef)(!1),M=Tn(()=>{var R;k.current||(k.current=!0,(R=m.current)==null||R.focus(),p.change(_),j7(()=>{k.current=!1}))}),A=Tn(R=>{R.preventDefault()}),L=(0,cd.useMemo)(()=>({selected:S}),[S]),N={ref:y,onKeyDown:$,onMouseDown:A,onClick:M,id:a,role:"tab",type:DL(e,m),"aria-controls":(r=(n=h[_])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":S,tabIndex:S?0:-1};return La({ourProps:N,theirProps:s,slot:L,defaultTag:Hpr,name:"Tabs.Tab"})}var Vpr="div";function Wpr(e,t){let{selectedIndex:n}=v8("Tab.Panels"),r=Wa(t),i=(0,cd.useMemo)(()=>({selectedIndex:n}),[n]);return La({ourProps:{ref:r},theirProps:e,slot:i,defaultTag:Vpr,name:"Tabs.Panels"})}var Gpr="div",qpr=3;function Ypr(e,t){var n,r,i,a;let s=As(),{id:u=`headlessui-tabs-panel-${s}`,tabIndex:f=0,...d}=e,{selectedIndex:c,tabs:h,panels:p}=v8("Tab.Panel"),v=O5e("Tab.Panel"),m=(0,cd.useRef)(null),y=Wa(m,t);Uo(()=>v.registerPanel(m),[v,m]);let w=nxt("panels"),_=p.indexOf(m);_===-1&&(_=w);let S=_===c,C=(0,cd.useMemo)(()=>({selected:S}),[S]),$={ref:y,id:u,role:"tabpanel","aria-labelledby":(r=(n=h[_])==null?void 0:n.current)==null?void 0:r.id,tabIndex:S?f:-1};return!S&&((i=d.unmount)==null||i)&&!((a=d.static)!=null&&a)?cd.default.createElement(lw,{as:"span",...$}):La({ourProps:$,theirProps:d,slot:C,defaultTag:Gpr,features:qpr,visible:S,name:"Tabs.Panel"})}var Kpr=Da(Upr),Xpr=Da(zpr),Zpr=Da(Bpr),Qpr=Da(Wpr),Jpr=Da(Ypr),e0r=Object.assign(Kpr,{Group:Xpr,List:Zpr,Panels:Qpr,Panel:Jpr}),Ho=nc(z,1);function t0r(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Gbe(e,...t){e&&t.length>0&&e.classList.add(...t)}function qbe(e,...t){e&&t.length>0&&e.classList.remove(...t)}function n0r(e,t){let n=mv();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[a,s]=[r,i].map(f=>{let[d=0]=f.split(",").filter(Boolean).map(c=>c.includes("ms")?parseFloat(c):parseFloat(c)*1e3).sort((c,h)=>h-c);return d}),u=a+s;if(u!==0){n.group(d=>{d.setTimeout(()=>{t(),d.dispose()},u),d.addEventListener(e,"transitionrun",c=>{c.target===c.currentTarget&&d.dispose()})});let f=n.addEventListener(e,"transitionend",d=>{d.target===d.currentTarget&&(t(),f())})}else t();return n.add(()=>t()),n.dispose}function r0r(e,t,n,r){let i=n?"enter":"leave",a=mv(),s=r!==void 0?t0r(r):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let u=$a(i,{enter:()=>t.enter,leave:()=>t.leave}),f=$a(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),d=$a(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return qbe(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Gbe(e,...u,...d),a.nextFrame(()=>{qbe(e,...d),Gbe(e,...f),n0r(e,()=>(qbe(e,...u),Gbe(e,...t.entered),s()))}),a.dispose}function i0r({container:e,direction:t,classes:n,onStart:r,onStop:i}){let a=Tce(),s=Fm(),u=Bh(t);Uo(()=>{let f=mv();s.add(f.dispose);let d=e.current;if(d&&u.current!=="idle"&&a.current)return f.dispose(),r.current(u.current),f.add(r0r(d,n.current,u.current==="enter",()=>{f.dispose(),i.current(u.current)})),f.dispose},[t])}function VM(e=""){return e.split(" ").filter(t=>t.trim().length>1)}var Ice=(0,Ho.createContext)(null);Ice.displayName="TransitionContext";function a0r(){let e=(0,Ho.useContext)(Ice);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function o0r(){let e=(0,Ho.useContext)(Fce);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}var Fce=(0,Ho.createContext)(null);Fce.displayName="NestingContext";function Nce(e){return"children"in e?Nce(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function rxt(e,t){let n=Bh(e),r=(0,Ho.useRef)([]),i=Tce(),a=Fm(),s=Tn((v,m=1)=>{let y=r.current.findIndex(({el:w})=>w===v);y!==-1&&($a(m,{[0](){r.current.splice(y,1)},[1](){r.current[y].state="hidden"}}),a.microTask(()=>{var w;!Nce(r)&&i.current&&((w=n.current)==null||w.call(n))}))}),u=Tn(v=>{let m=r.current.find(({el:y})=>y===v);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:v,state:"visible"}),()=>s(v,0)}),f=(0,Ho.useRef)([]),d=(0,Ho.useRef)(Promise.resolve()),c=(0,Ho.useRef)({enter:[],leave:[],idle:[]}),h=Tn((v,m,y)=>{f.current.splice(0),t&&(t.chains.current[m]=t.chains.current[m].filter(([w])=>w!==v)),t==null||t.chains.current[m].push([v,new Promise(w=>{f.current.push(w)})]),t==null||t.chains.current[m].push([v,new Promise(w=>{Promise.all(c.current[m].map(([_,S])=>S)).then(()=>w())})]),m==="enter"?d.current=d.current.then(()=>t==null?void 0:t.wait.current).then(()=>y(m)):y(m)}),p=Tn((v,m,y)=>{Promise.all(c.current[m].splice(0).map(([w,_])=>_)).then(()=>{var w;(w=f.current.shift())==null||w()}).then(()=>y(m))});return(0,Ho.useMemo)(()=>({children:r,register:u,unregister:s,onStart:h,onStop:p,wait:d,chains:c}),[u,s,r,h,p,c,d])}function s0r(){}var u0r=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function pet(e){var t;let n={};for(let r of u0r)n[r]=(t=e[r])!=null?t:s0r;return n}function l0r(e){let t=(0,Ho.useRef)(pet(e));return(0,Ho.useEffect)(()=>{t.current=pet(e)},[e]),t}var c0r="div",ixt=1;function f0r(e,t){let{beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:a,enter:s,enterFrom:u,enterTo:f,entered:d,leave:c,leaveFrom:h,leaveTo:p,...v}=e,m=(0,Ho.useRef)(null),y=Wa(m,t),w=v.unmount?0:1,{show:_,appear:S,initial:C}=a0r(),[$,k]=(0,Ho.useState)(_?"visible":"hidden"),M=o0r(),{register:A,unregister:L}=M,N=(0,Ho.useRef)(null);(0,Ho.useEffect)(()=>A(m),[A,m]),(0,Ho.useEffect)(()=>{if(w===1&&m.current){if(_&&$!=="visible"){k("visible");return}return $a($,{hidden:()=>L(m),visible:()=>A(m)})}},[$,m,A,L,_,w]);let R=Bh({enter:VM(s),enterFrom:VM(u),enterTo:VM(f),entered:VM(d),leave:VM(c),leaveFrom:VM(h),leaveTo:VM(p)}),D=l0r({beforeEnter:n,afterEnter:r,beforeLeave:i,afterLeave:a}),j=B7();(0,Ho.useEffect)(()=>{if(j&&$==="visible"&&m.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[m,$,j]);let U=C&&!S,H=(()=>!j||U||N.current===_?"idle":_?"enter":"leave")(),Y=K_t(0),Z=Tn(ve=>$a(ve,{enter:()=>{Y.addFlag(8),D.current.beforeEnter()},leave:()=>{Y.addFlag(4),D.current.beforeLeave()},idle:()=>{}})),Q=Tn(ve=>$a(ve,{enter:()=>{Y.removeFlag(8),D.current.afterEnter()},leave:()=>{Y.removeFlag(4),D.current.afterLeave()},idle:()=>{}})),ee=rxt(()=>{k("hidden"),L(m)},M);i0r({container:m,classes:R,direction:H,onStart:Bh(ve=>{ee.onStart(m,ve,Z)}),onStop:Bh(ve=>{ee.onStop(m,ve,Q),ve==="leave"&&!Nce(ee)&&(k("hidden"),L(m))})}),(0,Ho.useEffect)(()=>{U&&(w===1?N.current=null:N.current=_)},[_,U,$]);let oe=v,ue={ref:y};return S&&_&&iE.isServer&&(oe={...oe,className:L_t(v.className,...R.current.enter,...R.current.enterFrom)}),Ho.default.createElement(Fce.Provider,{value:ee},Ho.default.createElement(H7,{value:$a($,{visible:1,hidden:2})|Y.flags},La({ourProps:ue,theirProps:oe,defaultTag:c0r,features:ixt,visible:$==="visible",name:"Transition.Child"})))}function d0r(e,t){let{show:n,appear:r=!1,unmount:i,...a}=e,s=(0,Ho.useRef)(null),u=Wa(s,t);B7();let f=Vk();if(n===void 0&&f!==null&&(n=(f&1)===1),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,c]=(0,Ho.useState)(n?"visible":"hidden"),h=rxt(()=>{c("hidden")}),[p,v]=(0,Ho.useState)(!0),m=(0,Ho.useRef)([n]);Uo(()=>{p!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),v(!1))},[m,n]);let y=(0,Ho.useMemo)(()=>({show:n,appear:r,initial:p}),[n,r,p]);(0,Ho.useEffect)(()=>{if(n)c("visible");else if(!Nce(h))c("hidden");else{let _=s.current;if(!_)return;let S=_.getBoundingClientRect();S.x===0&&S.y===0&&S.width===0&&S.height===0&&c("hidden")}},[n,h]);let w={unmount:i};return Ho.default.createElement(Fce.Provider,{value:h},Ho.default.createElement(Ice.Provider,{value:y},La({ourProps:{...w,as:Ho.Fragment,children:Ho.default.createElement(axt,{ref:u,...w,...a})},theirProps:{},defaultTag:Ho.Fragment,features:ixt,visible:d==="visible",name:"Transition"})))}function h0r(e,t){let n=(0,Ho.useContext)(Ice)!==null,r=Vk()!==null;return Ho.default.createElement(Ho.default.Fragment,null,!n&&r?Ho.default.createElement(ZEe,{ref:t,...e}):Ho.default.createElement(axt,{ref:t,...e}))}var ZEe=Da(d0r),axt=Da(f0r),g0r=Da(h0r),p0r=Object.assign(ZEe,{Child:g0r,Root:ZEe});(function(e){e.exports=Xfr})(Bfr);(function(e){var t=$e&&$e.__createBinding||(Object.create?function(d,c,h,p){p===void 0&&(p=h);var v=Object.getOwnPropertyDescriptor(c,h);(!v||("get"in v?!c.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return c[h]}}),Object.defineProperty(d,p,v)}:function(d,c,h,p){p===void 0&&(p=h),d[p]=c[h]}),n=$e&&$e.__setModuleDefault||(Object.create?function(d,c){Object.defineProperty(d,"default",{enumerable:!0,value:c})}:function(d,c){d.default=c}),r=$e&&$e.__importStar||function(d){if(d&&d.__esModule)return d;var c={};if(d!=null)for(var h in d)h!=="default"&&Object.prototype.hasOwnProperty.call(d,h)&&t(c,d,h);return n(c,d),c},i=$e&&$e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};e.__esModule=!0,e.StyledTab=void 0;var a=r(z),s=YEe,u=i(kT),f=function(d){var c=d.name,h=d.icon;return a.default.createElement(s.Tab,{as:a.Fragment},function(p){var v=p.selected;return a.default.createElement("button",{className:"group flex rounded-md focus:outline-none focus-visible:ring-offset-gray-100"},a.default.createElement("span",{className:(0,u.default)("p-1 pl-2.5 pr-3.5 rounded-md flex items-center text-sm font-medium",v&&"bg-white shadow-sm ring-1 ring-black ring-opacity-5")},a.default.createElement(h,{className:(0,u.default)("-ml-0.5 mr-2 h-4 w-4",v?"text-slate-500":"text-gray-400 group-hover:text-gray-900")}),a.default.createElement("span",{className:(0,u.default)(v?"text-gray-900":"text-gray-600 group-hover:text-gray-900")},c)))})};e.StyledTab=f,e.StyledTab.List=function(d){var c=d.children;return a.default.createElement(s.Tab.List,{className:"flex w-fit p-0.5 rounded-md bg-slate-100 hover:bg-slate-200"},c)},e.StyledTab.Group=s.Tab.Group,e.StyledTab.Panels=s.Tab.Panels,e.StyledTab.Panel=s.Tab.Panel})(A_t);var zce={},jce={},oxt=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};jce.__esModule=!0;jce.Button=void 0;var v0r=oxt(kT),m0r=oxt(z),y0r=function(e){var t=e.onClick,n=e.wide,r=e.children;return m0r.default.createElement("button",{className:(0,v0r.default)("rounded-md py-1.5 px-2 bg-slate-500 text-white text-xs font-semibold flex items-center justify-center space-x-1",n&&"w-full"),onClick:t},r)};jce.Button=y0r;var b0r=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),w0r=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_0r=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&b0r(t,e,n);return w0r(t,e),t};zce.__esModule=!0;zce.ShareButton=void 0;var x0r=ML,M6=_0r(z),S0r=jce,E0r=function(){var e=(0,M6.useState)(!1),t=e[0],n=e[1],r=function(){navigator.clipboard.writeText((window.top||window).location.href),n(!0),setTimeout(function(){return n(!1)},1e3)};return M6.default.createElement("div",{className:"w-36"},M6.default.createElement(S0r.Button,{onClick:r,wide:!0},t?"Copied to clipboard!":M6.default.createElement("div",{className:"flex items-center space-x-1"},M6.default.createElement(x0r.ClipboardCopyIcon,{className:"w-4 h-4"}),M6.default.createElement("span",null,"Copy share link"))))};zce.ShareButton=E0r;var Bce={},Hce={},vet={},C0r={get exports(){return vet},set exports(e){vet=e}};(function(e,t){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(n,r,i){var a=n("../lib/oop"),s=n("./text_highlight_rules").TextHighlightRules,u=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};a.inherits(u,s),r.JsonHighlightRules=u}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(n,r,i){var a=n("../range").Range,s=function(){};(function(){this.checkOutdent=function(u,f){return/^\s+$/.test(u)?/^\s*\}/.test(f):!1},this.autoOutdent=function(u,f){var d=u.getLine(f),c=d.match(/^(\s*\})/);if(!c)return 0;var h=c[1].length,p=u.findMatchingBracket({row:f,column:h});if(!p||p.row==f)return 0;var v=this.$getIndent(u.getLine(p.row));u.replace(new a(f,0,f,h-1),v)},this.$getIndent=function(u){return u.match(/^\s*/)[0]}}).call(s.prototype),r.MatchingBraceOutdent=s}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(n,r,i){var a=n("../../lib/oop"),s=n("../../range").Range,u=n("./fold_mode").FoldMode,f=r.FoldMode=function(d){d&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+d.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+d.end)))};a.inherits(f,u),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(d,c,h){var p=d.getLine(h);if(this.singleLineBlockCommentRe.test(p)&&!this.startRegionRe.test(p)&&!this.tripleStarBlockCommentRe.test(p))return"";var v=this._getFoldWidgetBase(d,c,h);return!v&&this.startRegionRe.test(p)?"start":v},this.getFoldWidgetRange=function(d,c,h,p){var v=d.getLine(h);if(this.startRegionRe.test(v))return this.getCommentRegionBlock(d,v,h);var w=v.match(this.foldingStartMarker);if(w){var m=w.index;if(w[1])return this.openingBracketBlock(d,w[1],h,m);var y=d.getCommentFoldRange(h,m+w[0].length,1);return y&&!y.isMultiLine()&&(p?y=this.getSectionRange(d,h):c!="all"&&(y=null)),y}if(c!=="markbegin"){var w=v.match(this.foldingStopMarker);if(w){var m=w.index+w[0].length;return w[1]?this.closingBracketBlock(d,w[1],h,m):d.getCommentFoldRange(h,m,-1)}}},this.getSectionRange=function(d,c){var h=d.getLine(c),p=h.search(/\S/),v=c,m=h.length;c=c+1;for(var y=c,w=d.getLength();++c<w;){h=d.getLine(c);var _=h.search(/\S/);if(_!==-1){if(p>_)break;var S=this.getFoldWidgetRange(d,"all",c);if(S){if(S.start.row<=v)break;if(S.isMultiLine())c=S.end.row;else if(p==_)break}y=c}}return new s(v,m,y,d.getLine(y).length)},this.getCommentRegionBlock=function(d,c,h){for(var p=c.search(/\s*$/),v=d.getLength(),m=h,y=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,w=1;++h<v;){c=d.getLine(h);var _=y.exec(c);if(_&&(_[1]?w--:w++,!w))break}var S=h;if(S>m)return new s(m,p,S,c.length)}}.call(f.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(n,r,i){var a=n("../lib/oop"),s=n("./text").Mode,u=n("./json_highlight_rules").JsonHighlightRules,f=n("./matching_brace_outdent").MatchingBraceOutdent,d=n("./behaviour/cstyle").CstyleBehaviour,c=n("./folding/cstyle").FoldMode,h=n("../worker/worker_client").WorkerClient,p=function(){this.HighlightRules=u,this.$outdent=new f,this.$behaviour=new d,this.foldingRules=new c};a.inherits(p,s),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(v,m,y){var w=this.$getIndent(m);if(v=="start"){var _=m.match(/^.*[\{\(\[]\s*$/);_&&(w+=y)}return w},this.checkOutdent=function(v,m,y){return this.$outdent.checkOutdent(m,y)},this.autoOutdent=function(v,m,y){this.$outdent.autoOutdent(m,y)},this.createWorker=function(v){var m=new h(["ace"],"ace/mode/json_worker","JsonWorker");return m.attachToDocument(v.getDocument()),m.on("annotate",function(y){v.setAnnotations(y.data)}),m.on("terminate",function(){v.clearAnnotations()}),m},this.$id="ace/mode/json"}.call(p.prototype),r.Mode=p}),function(){ace.require(["ace/mode/json"],function(n){e&&(e.exports=n)})}()})(C0r);var A5e=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Hce.__esModule=!0;Hce.JsonEditor=void 0;var $0r=A5e(kk),k0r=A5e(z),O0r=A5e(Y3),A0r=function(e){var t=e.value,n=e.onChange,r=e.oneLine,i=r===void 0?!1:r,a=e.showGutter,s=a===void 0?!1:a,u=e.height,f=t.split(`
`).length,d=$0r.default.uniqueId();return k0r.default.createElement(O0r.default,{value:t,mode:"json",theme:"github",width:"100%",height:String(u)+"px",minLines:i?f:void 0,maxLines:i?f:void 0,showGutter:s,highlightActiveLine:!1,showPrintMargin:!1,onChange:n,name:d,editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1}})};Hce.JsonEditor=A0r;var R0r=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),T0r=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),M0r=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&R0r(t,e,n);return T0r(t,e),t};Bce.__esModule=!0;Bce.ImportSettingsForm=void 0;var P0r=I7,M2=M0r(z),L0r=Hq,D0r=Hce,met=TL,I0r=function(e){var t=e.initialImports,n=e.setImports,r=(0,M2.useState)(function(){return JSON.stringify(t)}),i=r[0],a=r[1],s=(0,M2.useState)(!0),u=s[0],f=s[1],d=function(c){a(c);var h={};try{h=JSON.parse(c),f(!0)}catch{f(!1)}n(h)};return M2.default.createElement("div",{className:"p-3 max-w-3xl"},M2.default.createElement(L0r.HeadedSection,{title:"Import Variables from JSON"},M2.default.createElement("div",{className:"space-y-6"},M2.default.createElement(P0r.Text,null,'You can import variables from JSON into your Squiggle code. Variables are accessed with dollar signs. For example, "timeNow" would be accessed as "$timeNow".'),M2.default.createElement("div",{className:"border border-slate-200 mt-6 mb-2"},M2.default.createElement(D0r.JsonEditor,{value:i,onChange:d,oneLine:!1,showGutter:!0,height:150})),M2.default.createElement("div",{className:"p-1 pt-2"},u?M2.default.createElement(met.SuccessAlert,{heading:"Valid JSON"}):M2.default.createElement(met.ErrorAlert,{heading:"Invalid JSON"},"You must use valid JSON in this editor.")))))};Bce.ImportSettingsForm=I0r;var yet;function sxt(){return yet||(yet=1,function(e){var t=$e&&$e.__assign||function(){return t=Object.assign||function(j){for(var U,H=1,Y=arguments.length;H<Y;H++){U=arguments[H];for(var Z in U)Object.prototype.hasOwnProperty.call(U,Z)&&(j[Z]=U[Z])}return j},t.apply(this,arguments)},n=$e&&$e.__createBinding||(Object.create?function(j,U,H,Y){Y===void 0&&(Y=H);var Z=Object.getOwnPropertyDescriptor(U,H);(!Z||("get"in Z?!U.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return U[H]}}),Object.defineProperty(j,Y,Z)}:function(j,U,H,Y){Y===void 0&&(Y=H),j[Y]=U[H]}),r=$e&&$e.__setModuleDefault||(Object.create?function(j,U){Object.defineProperty(j,"default",{enumerable:!0,value:U})}:function(j,U){j.default=U}),i=$e&&$e.__importStar||function(j){if(j&&j.__esModule)return j;var U={};if(j!=null)for(var H in j)H!=="default"&&Object.prototype.hasOwnProperty.call(j,H)&&n(U,j,H);return r(U,j),U},a=$e&&$e.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};e.__esModule=!0,e.SquigglePlayground=e.PlaygroundContext=void 0;var s=i(z),u=Ap,f=i(BG),d=VMe,c=UMe,h=ML,p=a(kT),v=Vq,m=z7,y=Oce,w=A_t,_=Bq,S=I7,C=jq,$=Mg,k=R5e(),M=zce,A=Bce,L=f.object({}).shape({sampleCount:f.number().required().positive().integer().default(1e3).min(10).max(1e6),xyPointLength:f.number().required().positive().integer().default(1e3).min(10).max(1e4)}).concat(C.viewSettingsSchema),N=function(j){var U=j.register;return s.default.createElement("div",{className:"space-y-6 p-3 max-w-xl"},s.default.createElement("div",null,s.default.createElement(_.InputItem,{name:"sampleCount",type:"number",label:"Sample Count",register:U}),s.default.createElement("div",{className:"mt-2"},s.default.createElement(S.Text,null,"How many samples to use for Monte Carlo simulations. This can occasionally be overridden by specific Squiggle programs."))),s.default.createElement("div",null,s.default.createElement(_.InputItem,{name:"xyPointLength",type:"number",register:U,label:"Coordinate Count (For PointSet Shapes)"}),s.default.createElement("div",{className:"mt-2"},s.default.createElement(S.Text,null,"When distributions are converted into PointSet shapes, we need to know how many coordinates to use."))))},R=function(j){var U=j.autorunMode,H=j.isRunning,Y=j.isStale,Z=j.onAutorunModeChange,Q=j.run,ee=H?h.RefreshIcon:h.PlayIcon;return s.default.createElement("div",{className:"flex space-x-1 items-center","data-testid":"autorun-controls"},U?null:s.default.createElement("button",{onClick:Q},s.default.createElement(ee,{className:(0,p.default)("w-8 h-8",H&&"animate-spin",Y?"text-indigo-500":"text-gray-400")})),s.default.createElement(y.Toggle,{texts:["Autorun","Paused"],icons:[h.CheckCircleIcon,h.PauseIcon],status:U,onChange:Z,spinIcon:U&&H}))};e.PlaygroundContext=s.default.createContext({getLeftPanelElement:function(){}});var D=function(j){var U=j.defaultCode,H=U===void 0?"":U,Y=j.code,Z=j.onCodeChange,Q=j.onSettingsChange,ee=j.showShareButton,oe=ee===void 0?!1:ee,ue=j.height,ve=ue===void 0?500:ue,le=j.showEditor,de=le===void 0?!0:le,me=(0,d.useMaybeControlledValue)({value:Y,defaultValue:H,onChange:Z}),Se=me[0],Ee=me[1],xe=(0,s.useState)({}),Ie=xe[0],Ne=xe[1],We=t(t({},L.getDefault()),Object.fromEntries(Object.entries(j).filter(function(qt){qt[0];var fn=qt[1];return fn!==void 0}))),Me=(0,u.useForm)({resolver:(0,c.yupResolver)(L),defaultValues:We}),He=Me.register,gt=Me.control,Ye=(0,u.useWatch)({control:gt});(0,s.useEffect)(function(){Q==null||Q(Ye)},[Ye,Q]);var ot=(0,s.useMemo)(function(){return{sampleCount:Number(Ye.sampleCount),xyPointLength:Number(Ye.xyPointLength)}},[Ye.sampleCount,Ye.xyPointLength]),Ue=(0,d.useRunnerState)(Se),st=Ue.run,at=Ue.autorunMode,St=Ue.setAutorunMode,Vt=Ue.isRunning,tt=Ue.renderedCode,wt=Ue.executionId,vt=(0,d.useSquiggle)(t(t({},j),{code:tt,executionId:wt,jsImports:Ie,environment:ot})),Le=(0,$.getValueToRender)(vt),ft=tt===""?null:s.default.createElement("div",{className:"relative"},Vt?s.default.createElement("div",{className:"absolute inset-0 bg-white opacity-0 animate-semi-appear"}):null,s.default.createElement(k.SquiggleViewer,t({},Ye,{enableLocalSettings:!0,result:Le}))),Mt=(0,$.getErrorLocations)(vt.result),yt=de?s.default.createElement("div",{className:"border border-slate-200","data-testid":"squiggle-editor"},s.default.createElement(v.CodeEditor,{errorLocations:Mt,value:Se,onChange:Ee,onSubmit:st,oneLine:!1,showGutter:!0,height:ve})):ft,Ct=s.default.createElement(w.StyledTab.Panels,null,s.default.createElement(w.StyledTab.Panel,null,yt),s.default.createElement(w.StyledTab.Panel,null,s.default.createElement(N,{register:He})),s.default.createElement(w.StyledTab.Panel,null,s.default.createElement(C.ViewSettingsForm,{register:He})),s.default.createElement(w.StyledTab.Panel,null,s.default.createElement(A.ImportSettingsForm,{initialImports:Ie,setImports:Ne}))),jt=(0,s.useRef)(null),At=s.default.createElement("div",{className:"flex mt-2"},s.default.createElement("div",{className:"w-1/2 relative",style:{minHeight:j.chartHeight},ref:jt},Ct),s.default.createElement("div",{className:"w-1/2 p-2 pl-4","data-testid":"playground-result"},ft)),Bt=s.default.createElement("div",{className:"mt-3"},Ct),kt=(0,s.useCallback)(function(){var qt;return(qt=jt.current)!==null&&qt!==void 0?qt:void 0},[]);return s.default.createElement(m.SquiggleContainer,null,s.default.createElement(e.PlaygroundContext.Provider,{value:{getLeftPanelElement:kt}},s.default.createElement(w.StyledTab.Group,null,s.default.createElement("div",{className:"pb-4",style:{minHeight:200}},s.default.createElement("div",{className:"flex justify-between items-center"},s.default.createElement(w.StyledTab.List,null,s.default.createElement(w.StyledTab,{name:de?"Code":"Display",icon:de?h.CodeIcon:h.EyeIcon}),s.default.createElement(w.StyledTab,{name:"Sampling Settings",icon:h.CogIcon}),s.default.createElement(w.StyledTab,{name:"View Settings",icon:h.ChartSquareBarIcon}),s.default.createElement(w.StyledTab,{name:"Input Variables",icon:h.CurrencyDollarIcon})),s.default.createElement("div",{className:"flex space-x-2 items-center"},s.default.createElement(R,{autorunMode:at,isStale:tt!==Se,run:st,isRunning:Vt,onAutorunModeChange:St}),oe&&s.default.createElement(M.ShareButton,null))),de?At:Bt))))};e.SquigglePlayground=D}(Tbe)),Tbe}var eY={};eY.__esModule=!0;eY.locationAsString=void 0;var F0r=function(e){return e.path.items.join(".")};eY.locationAsString=F0r;var bet;function N0r(){if(bet)return GB;bet=1;var e=$e&&$e.__assign||function(){return e=Object.assign||function(_){for(var S,C=1,$=arguments.length;C<$;C++){S=arguments[C];for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&(_[k]=S[k])}return _},e.apply(this,arguments)},t=$e&&$e.__createBinding||(Object.create?function(_,S,C,$){$===void 0&&($=C);var k=Object.getOwnPropertyDescriptor(S,C);(!k||("get"in k?!S.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return S[C]}}),Object.defineProperty(_,$,k)}:function(_,S,C,$){$===void 0&&($=C),_[$]=S[C]}),n=$e&&$e.__setModuleDefault||(Object.create?function(_,S){Object.defineProperty(_,"default",{enumerable:!0,value:S})}:function(_,S){_.default=S}),r=$e&&$e.__importStar||function(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var C in _)C!=="default"&&Object.prototype.hasOwnProperty.call(_,C)&&t(S,_,C);return n(S,_),S},i=$e&&$e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};GB.__esModule=!0,GB.ItemSettingsMenu=void 0;var a=ML,s=r(z),u=Ap,f=UMe,d=y_t,c=jq,h=D7,p=sxt(),v=eY,m=i(kk),y=function(_){var S=_.value,C=_.onChange,$=_.disableLogX,k=_.withFunctionSettings,M=_.close,A=_.resetScroll,L=(0,s.useContext)(h.ViewerContext),N=L.setSettings,R=L.getSettings,D=L.getMergedSettings,j=D(S.location),U=(0,u.useForm)({resolver:(0,f.yupResolver)(c.viewSettingsSchema),defaultValues:j}),H=U.register,Y=U.watch;(0,s.useEffect)(function(){var Q=Y(function(ee){var oe=R(S.location);N(S.location,m.default.merge({},oe,ee)),C()});return function(){return Q.unsubscribe()}},[R,N,C,S.location,Y]);var Z=(0,s.useContext)(p.PlaygroundContext).getLeftPanelElement;return s.default.createElement(d.Modal,{container:Z(),close:M},s.default.createElement(d.Modal.Header,null,"Chart settings",S.location.path.items.length?s.default.createElement(s.default.Fragment,null," for ",s.default.createElement("span",{title:"Scroll to item",className:"cursor-pointer",onClick:A},(0,v.locationAsString)(S.location))," "):""),s.default.createElement(d.Modal.Body,null,s.default.createElement(c.ViewSettingsForm,{register:H,withFunctionSettings:k,disableLogXSetting:$})))},w=function(_){var S=(0,s.useState)(!1),C=S[0],$=S[1],k=(0,s.useContext)(h.ViewerContext),M=k.enableLocalSettings,A=k.setSettings,L=k.getSettings,N=(0,s.useRef)(null);if(!M)return null;var R=L(_.value.location),D=function(){N.current&&window.scroll({top:N.current.getBoundingClientRect().y+window.scrollY,behavior:"smooth"})};return s.default.createElement("div",{className:"flex gap-2",ref:N},s.default.createElement(a.CogIcon,{className:"h-5 w-5 cursor-pointer text-slate-400 hover:text-slate-500",onClick:function(){return $(!C)}}),R.distributionChartSettings||R.functionChartSettings?s.default.createElement("button",{onClick:function(){A(_.value.location,e(e({},R),{distributionChartSettings:void 0,functionChartSettings:void 0})),_.onChange()},className:"text-xs px-1 py-0.5 rounded bg-slate-300"},"Reset settings"):null,C?s.default.createElement(y,e({},_,{close:function(){return $(!1)},resetScroll:D})):null)};return GB.ItemSettingsMenu=w,GB}var wet;function z0r(){return wet||(wet=1,function(e){var t=$e&&$e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};e.__esModule=!0,e.ExpressionViewer=void 0;var n=t(z),r=aT,i=R3,a=jG,s=JS,u=VP,f=t(kT),d=_ce,c=N0r(),h=Dq,p=function(m){var y=m.value,w=m.heading,_=m.children;return n.default.createElement(d.VariableBox,{value:y,heading:w},function(S){return n.default.createElement("div",{className:(0,f.default)("space-y-3",y.location.path.items.length?"pt-1 mt-1":null)},_(S))})},v=function(m){var y=m.value,w=y.location.project.getEnvironment();switch(y.tag){case"Number":return n.default.createElement(d.VariableBox,{value:y,heading:"Number"},function(){return n.default.createElement("div",{className:"font-semibold text-slate-600"},n.default.createElement(i.NumberShower,{precision:3,number:y.value}))});case"Dist":{var _=y.value.tag;return n.default.createElement(d.VariableBox,{value:y,heading:"Distribution (".concat(_,`)
`).concat(_===r.SqDistributionTag.Symbolic?y.value.toString():""),renderSettingsMenu:function(C){var $=C.onChange,k=y.value.pointSet(y.location.project.getEnvironment());return n.default.createElement(c.ItemSettingsMenu,{value:y,onChange:$,disableLogX:k.ok&&(0,h.hasMassBelowZero)(k.value.asShape()),withFunctionSettings:!1})}},function(C){return n.default.createElement(a.DistributionChart,{distribution:y.value,environment:w,chartHeight:C.chartHeight,settings:C.distributionChartSettings})})}case"String":return n.default.createElement(d.VariableBox,{value:y,heading:"String"},function(){return n.default.createElement(n.default.Fragment,null,n.default.createElement("span",{className:"text-slate-400"},'"'),n.default.createElement("span",{className:"text-slate-600 font-semibold font-mono"},y.value),n.default.createElement("span",{className:"text-slate-400"},'"'))});case"Bool":return n.default.createElement(d.VariableBox,{value:y,heading:"Boolean"},function(){return y.value.toString()});case"Date":return n.default.createElement(d.VariableBox,{value:y,heading:"Date"},function(){return y.value.toDateString()});case"Void":return n.default.createElement(d.VariableBox,{value:y,heading:"Void"},function(){return"Void"});case"TimeDuration":return n.default.createElement(d.VariableBox,{value:y,heading:"Time Duration"},function(){return n.default.createElement(i.NumberShower,{precision:3,number:y.value})});case"Lambda":return n.default.createElement(d.VariableBox,{value:y,heading:"Function",renderSettingsMenu:function(C){var $=C.onChange;return n.default.createElement(c.ItemSettingsMenu,{value:y,onChange:$,withFunctionSettings:!0})}},function(C){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"text-amber-700 bg-amber-100 rounded-md font-mono p-1 pl-2 mb-3 mt-1 text-sm"},"function(".concat(y.value.parameters().join(","),")")),n.default.createElement(u.FunctionChart,{fn:y.value,settings:C.functionChartSettings,distributionChartSettings:C.distributionChartSettings,height:C.chartHeight,environment:{sampleCount:w.sampleCount/10,xyPointLength:w.xyPointLength/10}}))});case"Declaration":return n.default.createElement(d.VariableBox,{value:y,heading:"Function Declaration",renderSettingsMenu:function(C){var $=C.onChange;return n.default.createElement(c.ItemSettingsMenu,{onChange:$,value:y,withFunctionSettings:!0})}},function(C){return n.default.createElement("div",null,"NOT IMPLEMENTED YET")});case"Plot":var S=y.value;return n.default.createElement(d.VariableBox,{value:y,heading:"Plot",renderSettingsMenu:function(C){var $=C.onChange,k=S.distributions.some(function(M){var A=M.distribution.pointSet(w);return A.ok&&(0,h.hasMassBelowZero)(A.value.asShape())});return n.default.createElement(c.ItemSettingsMenu,{value:y,onChange:$,disableLogX:k,withFunctionSettings:!1})}},function(C){return n.default.createElement(s.MultiDistributionChart,{plot:(0,s.sqPlotToPlot)(S),environment:w,chartHeight:C.chartHeight,settings:C.distributionChartSettings})});case"Record":return n.default.createElement(p,{value:y,heading:"Record"},function(){var C=y.value.entries();return C.length?C.map(function($){var k=$[0],M=$[1];return n.default.createElement(e.ExpressionViewer,{key:k,value:M})}):n.default.createElement("div",{className:"text-slate-400"},"Empty record")});case"Array":return n.default.createElement(p,{value:y,heading:"Array"},function(C){return y.value.getValues().map(function($,k){return n.default.createElement(e.ExpressionViewer,{key:k,value:$})})});default:return n.default.createElement(p,{value:y,heading:"Error"},function(){return n.default.createElement("div",null,n.default.createElement("span",null,"No display for type: ")," ",n.default.createElement("span",{className:"font-semibold text-slate-600"},y.tag))})}};e.ExpressionViewer=v}(P1e)),P1e}var _et;function R5e(){if(_et)return yB;_et=1;var e=$e&&$e.__createBinding||(Object.create?function(m,y,w,_){_===void 0&&(_=w);var S=Object.getOwnPropertyDescriptor(y,w);(!S||("get"in S?!y.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return y[w]}}),Object.defineProperty(m,_,S)}:function(m,y,w,_){_===void 0&&(_=w),m[_]=y[w]}),t=$e&&$e.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),n=$e&&$e.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var w in m)w!=="default"&&Object.prototype.hasOwnProperty.call(m,w)&&e(y,m,w);return t(y,m),y},r=$e&&$e.__rest||function(m,y){var w={};for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&y.indexOf(_)<0&&(w[_]=m[_]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,_=Object.getOwnPropertySymbols(m);S<_.length;S++)y.indexOf(_[S])<0&&Object.prototype.propertyIsEnumerable.call(m,_[S])&&(w[_[S]]=m[_[S]]);return w},i=$e&&$e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};yB.__esModule=!0,yB.SquiggleViewer=void 0;var a=n(z),s=z0r(),u=D7,f=eY,d=jq,c=zq,h=i(kk),p={collapsed:!1},v=function(m){var y=m.result,w=m.enableLocalSettings,_=w===void 0?!1:w,S=r(m,["result","enableLocalSettings"]),C=(0,a.useRef)({}),$=(0,a.useMemo)(function(){return h.default.merge({},d.viewSettingsSchema.getDefault(),S)},[S]),k=(0,a.useCallback)(function(L){return C.current[(0,f.locationAsString)(L)]||p},[C]),M=(0,a.useCallback)(function(L,N){C.current[(0,f.locationAsString)(L)]=N},[C]),A=(0,a.useCallback)(function(L){var N=k(L),R=h.default.merge({},$,N);return R},[$,k]);return a.default.createElement(u.ViewerContext.Provider,{value:{getSettings:k,setSettings:M,getMergedSettings:A,enableLocalSettings:_}},y.ok?a.default.createElement(s.ExpressionViewer,{value:y.value}):a.default.createElement(c.SquiggleErrorAlert,{error:y.value}))};return yB.SquiggleViewer=v,yB}var QEe=$e&&$e.__assign||function(){return QEe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},QEe.apply(this,arguments)},j0r=$e&&$e.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),B0r=$e&&$e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),H0r=$e&&$e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&j0r(t,e,n);return B0r(t,e),t};Yse.__esModule=!0;Yse.SquiggleChart=void 0;var xet=H0r(z),U0r=a7,V0r=R5e(),W0r=Mg;Yse.SquiggleChart=xet.memo(function(e){var t=(0,U0r.useSquiggle)(e),n=(0,W0r.getValueToRender)(t);return xet.createElement(V0r.SquiggleViewer,QEe({},e,{result:n}))});var Uce={},MU=$e&&$e.__assign||function(){return MU=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},MU.apply(this,arguments)},G0r=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Uce.__esModule=!0;Uce.SquiggleEditor=void 0;var PU=G0r(z),q0r=Vq,Y0r=z7,K0r=VMe,X0r=a7,Z0r=R5e(),Eet=Mg,Q0r=function(e){var t=e.code,n=e.setCode,r=e.errorLocations;return PU.default.createElement("div",{className:"border border-grey-200 p-2 m-4","data-testid":"squiggle-editor"},PU.default.createElement(q0r.CodeEditor,{value:t,onChange:n,oneLine:!0,showGutter:!1,height:20,errorLocations:r}))},J0r=function(e){var t,n=(0,K0r.useMaybeControlledValue)({value:e.code,defaultValue:(t=e.defaultCode)!==null&&t!==void 0?t:"",onChange:e.onCodeChange}),r=n[0],i=n[1],a=(0,X0r.useSquiggle)(MU(MU({},e),{code:r})),s=(0,Eet.getValueToRender)(a),u=(0,Eet.getErrorLocations)(a.result);return PU.default.createElement(Y0r.SquiggleContainer,null,PU.default.createElement(Q0r,{code:r,setCode:i,errorLocations:u}),PU.default.createElement(Z0r.SquiggleViewer,MU({result:s},e)))};Uce.SquiggleEditor=J0r;(function(e){var t=$e&&$e.__createBinding||(Object.create?function(u,f,d,c){c===void 0&&(c=d);var h=Object.getOwnPropertyDescriptor(f,d);(!h||("get"in h?!f.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(u,c,h)}:function(u,f,d,c){c===void 0&&(c=d),u[c]=f[d]});e.__esModule=!0,e.SquiggleContainer=e.SquigglePlayground=e.SquiggleEditor=e.SquiggleChart=e.SqProject=void 0;var n=aT;t(e,n,"SqProject");var r=Yse;t(e,r,"SquiggleChart");var i=Uce;t(e,i,"SquiggleEditor");var a=sxt();t(e,a,"SquigglePlayground");var s=z7;t(e,s,"SquiggleContainer")})(Nke);var JEe={},evr={get exports(){return JEe},set exports(e){JEe=e}};(function(e,t){(function(n,r){e.exports=r()})($e,()=>{return n={138:i=>{i.exports=(a,s={})=>{const u=kt=>!isNaN(kt)&&+kt+""==kt+"",f=(kt=0,qt=0)=>({min:kt,max:qt}),d=kt=>{[Ie,Ne].forEach(kt)},c=(kt,qt,fn)=>{if(kt)return qt;fn()},h=(kt,qt,fn="")=>{kt.setAttribute(qt,fn)},p=(kt,qt)=>{kt.removeAttribute(qt)},v=(kt,qt,fn,jn=!0)=>{kt.addEventListener(qt,fn,jn?{passive:!1,capture:!0}:{})},m=(kt,qt,fn,jn=!0)=>{kt.removeEventListener(qt,fn,jn?{passive:!1,capture:!0}:{})},y=(kt,qt)=>{s[kt]={}.hasOwnProperty.call(s,kt)?s[kt]:qt},w=(kt,qt)=>s.orientation===Me?kt:qt,_=kt=>kt===1?St.max:St.min,S=()=>{let kt=!1;u(s.min)&&u(s.max)||(kt=!0),s.min=kt?1:+s.min,s.max=kt?1:+s.max},C=()=>{s.thumbsDisabled instanceof Array?(s.thumbsDisabled.length===1&&s.thumbsDisabled.push(!1),s.thumbsDisabled.length!==1&&s.thumbsDisabled.length!==2&&(s.thumbsDisabled=[!1,!1])):s.thumbsDisabled=[s.thumbsDisabled,s.thumbsDisabled],s.thumbsDisabled[0]=!!s.thumbsDisabled[0],s.thumbsDisabled[1]=!!s.thumbsDisabled[1]},$=(kt,qt=!1,fn=!0,jn=!0)=>{const Mn=f(At[St.min].value,At[St.max].value);kt=kt||Mn,At[St.min].value=kt.min,At[St.max].value=yt||qt?kt.max:kt.min+ft,k(),at.min>at.max&&(St.min=+!St.min,St.max=+!St.max,p(Bt[St.min],Ye),p(Bt[St.max],gt),h(Bt[St.min],gt),h(Bt[St.max],Ye),yt&&(yt=yt===Ie?Ne:Ie),k()),vt=qt?at:kt;let Un=!1;(Mn.min!==At[St.min].value||qt)&&(Un=!0),(Mn.max!==At[St.max].value||qt)&&(Un=!0),Un&&(fn&&s.onInput&&s.onInput([at.min,at.max],jn),Y(),M(),A(),R())},k=()=>{d(kt=>{at[kt]=+At[St[kt]].value})},M=()=>{d(kt=>{Bt[St[kt]].style[w("top","left")]=`calc(${(at[kt]-s.min)/Le*100}% + ${(.5-(at[kt]-s.min)/Le)*w(tt,Vt)[kt]}px)`})},A=()=>{const kt=a.getBoundingClientRect(),qt=(.5-(at.min-s.min)/Le)*w(tt,Vt).min/w(kt.bottom-kt.top,kt.right-kt.left),fn=(.5-(at.max-s.min)/Le)*w(tt,Vt).max/w(kt.bottom-kt.top,kt.right-kt.left);jt.style[w("top","left")]=100*((at.min-s.min)/Le+qt)+"%",jt.style[w("height","width")]=100*((at.max-s.min)/Le-(at.min-s.min)/Le-qt+fn)+"%"},L=()=>{d((kt,qt)=>{wt[kt]=s.thumbsDisabled[qt]?at[kt]:s[kt]})},N=()=>{d((kt,qt)=>{s.disabled||s.thumbsDisabled[qt]?p(Bt[_(qt)],He):h(Bt[_(qt)],He,0)})},R=()=>{d(kt=>{h(Bt[St[kt]],"aria-valuemin",s.min),h(Bt[St[kt]],"aria-valuemax",s.max),h(Bt[St[kt]],"aria-valuenow",at[kt]),h(Bt[St[kt]],"aria-valuetext",at[kt])})},D=()=>{s.disabled?h(a,st):p(a,st)},j=()=>{s.thumbsDisabled.forEach((kt,qt)=>{const fn=_(qt);kt?(h(Bt[fn],st),h(Bt[fn],"aria-disabled",!0)):(p(Bt[fn],st),h(Bt[fn],"aria-disabled",!1))})},U=(kt,qt=!1)=>{s[kt]=qt,S(),d(fn=>{At[0][fn]=s[fn],At[1][fn]=s[fn]}),Le=s.max-s.min,$("",!0,!0,!1),L()},H=()=>{s.orientation===Me?h(a,Ue):p(a,Ue),jt.style[w("left","top")]="",jt.style[w("width","height")]="",Bt[0].style[w("left","top")]="",Bt[1].style[w("left","top")]=""},Y=()=>{d(kt=>{Vt[kt]=Ee(xe(Bt[St[kt]]).width),tt[kt]=Ee(xe(Bt[St[kt]]).height)})},Z=(kt,qt)=>{const fn=a.getBoundingClientRect(),jn=qt.getBoundingClientRect(),Mn=(w(jn.top-fn.top,jn.left-fn.left)+(kt[`client${w("Y","X")}`]-qt.getBoundingClientRect()[w("top","left")])-(yt?(.5-(at[yt]-s.min)/Le)*w(tt,Vt)[yt]:0))/w(fn.bottom-fn.top,fn.right-fn.left)*Le+s.min;return Mn<s.min?s.min:Mn>s.max?s.max:Mn},Q=(kt,qt)=>!kt.target.classList.contains(qt),ee=(kt,qt=!0)=>{let fn=!1;if(!s.disabled&&(Q(kt,"range-slider__thumb")&&Q(kt,"range-slider__range")||s.rangeSlideDisabled&&Q(kt,"range-slider__thumb"))&&(fn=!0),fn&&s.thumbsDisabled[0]&&s.thumbsDisabled[1]&&(fn=!1),fn){const jn=Z(kt,jt),Mn=Se(at.min-jn),Un=Se(at.max-jn);if(s.thumbsDisabled[0])jn>=at.min&&($(f(at.min,jn),!0,!qt),ue(kt,St.max,Bt[St.max],!qt));else if(s.thumbsDisabled[1])jn<=at.max&&($(f(jn,at.max),!0,!qt),ue(kt,St.min,Bt[St.min],!qt));else{let Kr=St.max;Mn===Un?$(f(at.min,jn),!0,!qt):($(f(Mn<Un?jn:at.min,Un<Mn?jn:at.max),!0,!qt),Kr=Mn<Un?St.min:St.max),ue(kt,Kr,Bt[Kr],!qt)}qt&&ee(kt,!1)}},oe=(kt,qt)=>{Y(),h(qt,ot),Ct=Z(kt,qt),Mt=!0},ue=(kt,qt,fn,jn=!0)=>{s.disabled||s.thumbsDisabled[_(qt)]||(oe(kt,fn),yt=St.min===qt?Ie:Ne,jn&&s.onThumbDragStart&&s.onThumbDragStart())},ve=kt=>{if(Mt){const qt=Z(kt,jt),fn=qt-Ct;let jn=at.min,Mn=at.max;const Un=yt?wt.min:s.min,Kr=yt?wt.max:s.max;yt&&yt!==Ie||(jn=yt?qt:vt.min+fn),yt&&yt!==Ne||(Mn=yt?qt:vt.max+fn),jn>=Un&&jn<=Kr&&Mn>=Un&&Mn<=Kr?($({min:jn,max:Mn}),Ct=qt):(jn>Kr&&yt&&($(f(Kr,Kr)),Ct=qt),Mn<Un&&yt&&($(f(Un,Un)),Ct=qt),jn<Un&&($(f(Un,yt?at.max:at.max-at.min+Un)),Ct=qt),Mn>Kr&&($(f(yt?at.min:at.min-at.max+Kr,Kr)),Ct=qt)),yt||L()}},le=()=>{Mt&&(p(Bt[0],ot),p(Bt[1],ot),p(jt,ot),Mt=!1,yt?s.onThumbDragEnd&&s.onThumbDragEnd():s.onRangeDragEnd&&s.onRangeDragEnd())},de=()=>{Y(),M(),A()},me=()=>{const kt=Ee(At[0].step);return At[0].step===We?We:kt===0||isNaN(kt)?1:kt},Se=Math.abs,Ee=parseFloat,xe=window.getComputedStyle,Ie="min",Ne="max",We="any",Me="vertical",He="tabindex",gt="data-lower",Ye="data-upper",ot="data-active",Ue="data-vertical",st="data-disabled",at=f(),St=f(0,1),Vt=f(),tt=f(),wt=f();let vt=f(),Le=0,ft=0,Mt=!1,yt=!1,Ct=0;y("rangeSlideDisabled",!1),y("thumbsDisabled",[!1,!1]),y("orientation","horizontal"),y("disabled",!1),y("onThumbDragStart",!1),y("onRangeDragStart",!1),y("onThumbDragEnd",!1),y("onRangeDragEnd",!1),y("onInput",!1),y("value",[25,75]),y("step",1),y("min",0),y("max",100),S(),C(),a.innerHTML=`<input type="range" min="${s.min}" max="${s.max}" step="${s.step}" value="${s.value[0]}" disabled><input type="range" min="${s.min}" max="${s.max}" step="${s.step}" value="${s.value[1]}" disabled><div role="slider" class="range-slider__thumb" ${gt}></div><div role="slider" class="range-slider__thumb" ${Ye}></div><div class="range-slider__range"></div>`,a.classList.add("range-slider");const jt=a.querySelector(".range-slider__range"),At=a.querySelectorAll("input"),Bt=a.querySelectorAll(".range-slider__thumb");return Le=s.max-s.min,$("",!0,!1),L(),D(),j(),N(),H(),v(a,"pointerdown",kt=>{ee(kt)}),Array.from(Bt).forEach((kt,qt)=>{v(kt,"pointerdown",fn=>{ue(fn,qt,kt)}),v(kt,"keydown",fn=>{fn.which>=37&&fn.which<=40&&(fn.preventDefault(),((jn,Mn)=>{const Un=(Mn===37||Mn===40?-1:1)*w(-1,1);if(!s.disabled&&!s.thumbsDisabled[_(jn)]){let Kr=me();Kr=Kr===We?1:Kr;let Wi=at.min+Kr*(St.min===jn?Un:0),sa=at.max+Kr*(St.max===jn?Un:0);Wi>wt.max&&(Wi=wt.max),sa<wt.min&&(sa=wt.min),$({min:Wi,max:sa},!0)}})(qt,fn.which))})}),v(jt,"pointerdown",kt=>{(qt=>{s.disabled||s.rangeSlideDisabled||(oe(qt,jt),ft=at.max-at.min,yt=!1,s.onRangeDragStart&&s.onRangeDragStart())})(kt)}),v(document,"pointermove",ve),v(document,"pointerup",le),v(window,"resize",de),{min:(kt=!1)=>c(!kt&&kt!==0,s.min,()=>{U(Ie,kt)}),max:(kt=!1)=>c(!kt&&kt!==0,s.max,()=>{U(Ne,kt)}),step:(kt=!1)=>c(!kt,me(),()=>{At[0].step=kt,At[1].step=kt,$("",!0,!0,!1)}),value:(kt=!1)=>c(!kt,[at.min,at.max],()=>{$(f(kt[0],kt[1]),!0,!0,!1),L()}),orientation:(kt=!1)=>c(!kt,s.orientation,()=>{s.orientation=kt,H(),$("",!0,!0,!1)}),disabled:(kt=!0)=>{s.disabled=!!kt,D()},thumbsDisabled:(kt=[!0,!0])=>{s.thumbsDisabled=kt,C(),L(),N(),j()},rangeSlideDisabled:(kt=!0)=>{s.rangeSlideDisabled=!!kt},currentValueIndex:()=>yt?yt===Ie?0:1:-1,removeGlobalEventListeners:()=>{m(document,"pointermove",ve),m(document,"pointerup",le),m(window,"resize",de)}}}}},r={},function i(a){var s=r[a];if(s!==void 0)return s.exports;var u=r[a]={exports:{}};return n[a](u,u.exports,i),u.exports}(138);var n,r})})(evr);const tvr=JEe;var uxt="Expected a function",Cet=0/0,nvr="[object Symbol]",rvr=/^\s+|\s+$/g,ivr=/^[-+]0x[0-9a-f]+$/i,avr=/^0b[01]+$/i,ovr=/^0o[0-7]+$/i,svr=parseInt,uvr=typeof $e=="object"&&$e&&$e.Object===Object&&$e,lvr=typeof self=="object"&&self&&self.Object===Object&&self,cvr=uvr||lvr||Function("return this")(),fvr=Object.prototype,dvr=fvr.toString,hvr=Math.max,gvr=Math.min,Ybe=function(){return cvr.Date.now()};function pvr(e,t,n){var r,i,a,s,u,f,d=0,c=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(uxt);t=$et(t)||0,Pae(n)&&(c=!!n.leading,h="maxWait"in n,a=h?hvr($et(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function v(M){var A=r,L=i;return r=i=void 0,d=M,s=e.apply(L,A),s}function m(M){return d=M,u=setTimeout(_,t),c?v(M):s}function y(M){var A=M-f,L=M-d,N=t-A;return h?gvr(N,a-L):N}function w(M){var A=M-f,L=M-d;return f===void 0||A>=t||A<0||h&&L>=a}function _(){var M=Ybe();if(w(M))return S(M);u=setTimeout(_,y(M))}function S(M){return u=void 0,p&&r?v(M):(r=i=void 0,s)}function C(){u!==void 0&&clearTimeout(u),d=0,r=f=i=u=void 0}function $(){return u===void 0?s:S(Ybe())}function k(){var M=Ybe(),A=w(M);if(r=arguments,i=this,f=M,A){if(u===void 0)return m(f);if(h)return u=setTimeout(_,t),v(f)}return u===void 0&&(u=setTimeout(_,t)),s}return k.cancel=C,k.flush=$,k}function vvr(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(uxt);return Pae(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pvr(e,t,{leading:r,maxWait:t,trailing:i})}function Pae(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function mvr(e){return!!e&&typeof e=="object"}function yvr(e){return typeof e=="symbol"||mvr(e)&&dvr.call(e)==nvr}function $et(e){if(typeof e=="number")return e;if(yvr(e))return Cet;if(Pae(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pae(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(rvr,"");var n=avr.test(e);return n||ovr.test(e)?svr(e.slice(2),n?2:8):ivr.test(e)?Cet:+e}var lxt=vvr;function n_(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function m8(e){return!!e&&!!e[py]}function GP(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===$vr}(e)||Array.isArray(e)||!!e[Let]||!!(!((t=e.constructor)===null||t===void 0)&&t[Let])||T5e(e)||M5e(e))}function AW(e,t,n){n===void 0&&(n=!1),V7(e)===0?(n?Object.keys:F5e)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function V7(e){var t=e[py];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:T5e(e)?2:M5e(e)?3:0}function eCe(e,t){return V7(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bvr(e,t){return V7(e)===2?e.get(t):e[t]}function cxt(e,t,n){var r=V7(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function wvr(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function T5e(e){return Evr&&e instanceof Map}function M5e(e){return Cvr&&e instanceof Set}function a5(e){return e.o||e.t}function P5e(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=kvr(e);delete t[py];for(var n=F5e(t),r=0;r<n.length;r++){var i=n[r],a=t[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function L5e(e,t){return t===void 0&&(t=!1),D5e(e)||m8(e)||!GP(e)||(V7(e)>1&&(e.set=e.add=e.clear=e.delete=_vr),Object.freeze(e),t&&AW(e,function(n,r){return L5e(r,!0)},!0)),e}function _vr(){n_(2)}function D5e(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function aE(e){var t=Ovr[e];return t||n_(18,e),t}function ket(){return RW}function Kbe(e,t){t&&(aE("Patches"),e.u=[],e.s=[],e.v=t)}function Lae(e){tCe(e),e.p.forEach(xvr),e.p=null}function tCe(e){e===RW&&(RW=e.l)}function Oet(e){return RW={p:[],l:RW,h:e,m:!0,_:0}}function xvr(e){var t=e[py];t.i===0||t.i===1?t.j():t.g=!0}function Xbe(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||aE("ES5").S(t,e,r),r?(n[py].P&&(Lae(t),n_(4)),GP(e)&&(e=Dae(t,e),t.l||Iae(t,e)),t.u&&aE("Patches").M(n[py].t,e,t.u,t.s)):e=Dae(t,n,[]),Lae(t),t.u&&t.v(t.u,t.s),e!==fxt?e:void 0}function Dae(e,t,n){if(D5e(t))return t;var r=t[py];if(!r)return AW(t,function(u,f){return Aet(e,r,t,u,f,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Iae(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=P5e(r.k):r.o,a=i,s=!1;r.i===3&&(a=new Set(i),i.clear(),s=!0),AW(a,function(u,f){return Aet(e,r,i,u,f,n,s)}),Iae(e,i,!1),n&&e.u&&aE("Patches").N(r,n,e.u,e.s)}return r.o}function Aet(e,t,n,r,i,a,s){if(m8(i)){var u=Dae(e,i,a&&t&&t.i!==3&&!eCe(t.R,r)?a.concat(r):void 0);if(cxt(n,r,u),!m8(u))return;e.m=!1}else s&&n.add(i);if(GP(i)&&!D5e(i)){if(!e.h.D&&e._<1)return;Dae(e,i),t&&t.A.l||Iae(e,i)}}function Iae(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&L5e(t,n)}function Zbe(e,t){var n=e[py];return(n?a5(n):e)[t]}function Ret(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function nCe(e){e.P||(e.P=!0,e.l&&nCe(e.l))}function Qbe(e){e.o||(e.o=P5e(e.t))}function rCe(e,t,n){var r=T5e(t)?aE("MapSet").F(t,n):M5e(t)?aE("MapSet").T(t,n):e.O?function(i,a){var s=Array.isArray(i),u={i:s?1:0,A:a?a.A:ket(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},f=u,d=iCe;s&&(f=[u],d=HH);var c=Proxy.revocable(f,d),h=c.revoke,p=c.proxy;return u.k=p,u.j=h,p}(t,n):aE("ES5").J(t,n);return(n?n.A:ket()).p.push(r),r}function Svr(e){return m8(e)||n_(22,e),function t(n){if(!GP(n))return n;var r,i=n[py],a=V7(n);if(i){if(!i.P&&(i.i<4||!aE("ES5").K(i)))return i.t;i.I=!0,r=Tet(n,a),i.I=!1}else r=Tet(n,a);return AW(r,function(s,u){i&&bvr(i.t,s)===u||cxt(r,s,t(u))}),a===3?new Set(r):r}(e)}function Tet(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return P5e(e)}var Met,RW,I5e=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Evr=typeof Map<"u",Cvr=typeof Set<"u",Pet=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",fxt=I5e?Symbol.for("immer-nothing"):((Met={})["immer-nothing"]=!0,Met),Let=I5e?Symbol.for("immer-draftable"):"__$immer_draftable",py=I5e?Symbol.for("immer-state"):"__$immer_state",$vr=""+Object.prototype.constructor,F5e=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,kvr=Object.getOwnPropertyDescriptors||function(e){var t={};return F5e(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Ovr={},iCe={get:function(e,t){if(t===py)return e;var n=a5(e);if(!eCe(n,t))return function(i,a,s){var u,f=Ret(a,s);return f?"value"in f?f.value:(u=f.get)===null||u===void 0?void 0:u.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!GP(r)?r:r===Zbe(e.t,t)?(Qbe(e),e.o[t]=rCe(e.A.h,r,e)):r},has:function(e,t){return t in a5(e)},ownKeys:function(e){return Reflect.ownKeys(a5(e))},set:function(e,t,n){var r=Ret(a5(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Zbe(a5(e),t),a=i==null?void 0:i[py];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(wvr(n,i)&&(n!==void 0||eCe(e.t,t)))return!0;Qbe(e),nCe(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Zbe(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Qbe(e),nCe(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=a5(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){n_(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n_(12)}},HH={};AW(iCe,function(e,t){HH[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),HH.deleteProperty=function(e,t){return HH.set.call(this,e,t,void 0)},HH.set=function(e,t,n){return iCe.set.call(this,e[0],t,n,e[0])};var Avr=function(){function e(n){var r=this;this.O=Pet,this.D=!0,this.produce=function(i,a,s){if(typeof i=="function"&&typeof a!="function"){var u=a;a=i;var f=r;return function(y){var w=this;y===void 0&&(y=u);for(var _=arguments.length,S=Array(_>1?_-1:0),C=1;C<_;C++)S[C-1]=arguments[C];return f.produce(y,function($){var k;return(k=a).call.apply(k,[w,$].concat(S))})}}var d;if(typeof a!="function"&&n_(6),s!==void 0&&typeof s!="function"&&n_(7),GP(i)){var c=Oet(r),h=rCe(r,i,void 0),p=!0;try{d=a(h),p=!1}finally{p?Lae(c):tCe(c)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(y){return Kbe(c,s),Xbe(y,c)},function(y){throw Lae(c),y}):(Kbe(c,s),Xbe(d,c))}if(!i||typeof i!="object"){if((d=a(i))===void 0&&(d=i),d===fxt&&(d=void 0),r.D&&L5e(d,!0),s){var v=[],m=[];aE("Patches").M(i,d,v,m),s(v,m)}return d}n_(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(d){for(var c=arguments.length,h=Array(c>1?c-1:0),p=1;p<c;p++)h[p-1]=arguments[p];return r.produceWithPatches(d,function(v){return i.apply(void 0,[v].concat(h))})};var s,u,f=r.produce(i,a,function(d,c){s=d,u=c});return typeof Promise<"u"&&f instanceof Promise?f.then(function(d){return[d,s,u]}):[f,s,u]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){GP(n)||n_(8),m8(n)&&(n=Svr(n));var r=Oet(this),i=rCe(this,n,void 0);return i[py].C=!0,tCe(r),i},t.finishDraft=function(n,r){var i=n&&n[py],a=i.A;return Kbe(a,r),Xbe(void 0,a)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Pet&&n_(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var a=r[i];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}i>-1&&(r=r.slice(i+1));var s=aE("Patches").$;return m8(n)?s(n,r):this.produce(n,function(u){return s(u,r)})},e}(),vy=new Avr,Rvr=vy.produce;vy.produceWithPatches.bind(vy);vy.setAutoFreeze.bind(vy);vy.setUseProxies.bind(vy);vy.applyPatches.bind(vy);vy.createDraft.bind(vy);vy.finishDraft.bind(vy);const qP=Rvr;function Tvr(e,t,n){const r=e.split(`
`),i=r[t-1],a=/^(\s*\w+\s*=\s*)([\d\w.]+)(\s*;?\s*)$/;if(a.test(i)){const s=i.replace(a,`$1${n}$3`);return r[t-1]=s,r.join(`
`)}else console.error("Line does not match the required format");return e}function Mvr(e,t,n,r){const i=e.split(`
`),a=i[t-1],s=/^(\s*\w+\s*=\s*)(\d*\.?\d+)(\s*to\s*)(\d*\.?\d+)(\s*;?\s*)$/;if(s.test(a)){const u=a.replace(s,`$1${n}$3${r}$5`);return i[t-1]=u,i.join(`
`)}else console.error("Line does not match the required format");return e}const Pvr=lxt((e,t)=>{var r;const n=Tvr(((r=Qo.getState().project)==null?void 0:r.squiggle)??"",e,t);Qo.setState(qP(i=>{i.project&&(i.project.squiggle=n)}),!1,"throttleSingleUpdate")},250),Lvr=lxt((e,t,n)=>{var i;const r=Mvr(((i=Qo.getState().project)==null?void 0:i.squiggle)??"",e,t,n);Qo.setState(qP(a=>{a.project&&(a.project.squiggle=r)}),!1,"throttleDistributionUpdate")},250);function Dvr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Det(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Iet(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Det(Object(n),!0).forEach(function(r){Dvr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Det(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ivr(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Fvr(e,t){if(e==null)return{};var n=Ivr(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nvr(e,t){return zvr(e)||jvr(e,t)||Bvr(e,t)||Hvr()}function zvr(e){if(Array.isArray(e))return e}function jvr(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),u;!(r=(u=s.next()).done)&&(n.push(u.value),!(t&&n.length===t));r=!0);}catch(f){i=!0,a=f}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw a}}return n}}function Bvr(e,t){if(e){if(typeof e=="string")return Fet(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fet(e,t)}}function Fet(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hvr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uvr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Net(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zet(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Net(Object(n),!0).forEach(function(r){Uvr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Net(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vvr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(i,a){return a(i)},r)}}function UH(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];return t.apply(n,[].concat(i,u))}}}function Fae(e){return{}.toString.call(e).includes("Object")}function Wvr(e){return!Object.keys(e).length}function TW(e){return typeof e=="function"}function Gvr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qvr(e,t){return Fae(t)||f3("changeType"),Object.keys(t).some(function(n){return!Gvr(e,n)})&&f3("changeField"),t}function Yvr(e){TW(e)||f3("selectorType")}function Kvr(e){TW(e)||Fae(e)||f3("handlerType"),Fae(e)&&Object.values(e).some(function(t){return!TW(t)})&&f3("handlersType")}function Xvr(e){e||f3("initialIsRequired"),Fae(e)||f3("initialType"),Wvr(e)&&f3("initialContent")}function Zvr(e,t){throw new Error(e[t]||e.default)}var Qvr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},f3=UH(Zvr)(Qvr),Yee={changes:qvr,selector:Yvr,handler:Kvr,initial:Xvr};function Jvr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Yee.initial(e),Yee.handler(t);var n={current:e},r=UH(nmr)(n,t),i=UH(tmr)(n),a=UH(Yee.changes)(e),s=UH(emr)(n);function u(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return Yee.selector(d),d(n.current)}function f(d){Vvr(r,i,a,s)(d)}return[u,f]}function emr(e,t){return TW(t)?t(e.current):t}function tmr(e,t){return e.current=zet(zet({},e.current),t),t}function nmr(e,t,n){return TW(t)?t(e.current):Object.keys(n).forEach(function(r){var i;return(i=t[r])===null||i===void 0?void 0:i.call(t,e.current[r])}),n}var rmr={create:Jvr},imr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.36.1/min/vs"}};function amr(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];return t.apply(n,[].concat(i,u))}}}function omr(e){return{}.toString.call(e).includes("Object")}function smr(e){return e||jet("configIsRequired"),omr(e)||jet("configType"),e.urls?(umr(),{paths:{vs:e.urls.monacoBase}}):e}function umr(){console.warn(dxt.deprecation)}function lmr(e,t){throw new Error(e[t]||e.default)}var dxt={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},jet=amr(lmr)(dxt),cmr={config:smr},fmr=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(a,s){return s(a)},i)}};function hxt(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],hxt(e[n],t[n]))}),Iet(Iet({},e),t)}var dmr={type:"cancelation",msg:"operation is manually canceled"};function Jbe(e){var t=!1,n=new Promise(function(r,i){e.then(function(a){return t?i(dmr):r(a)}),e.catch(i)});return n.cancel=function(){return t=!0},n}var hmr=rmr.create({config:imr,isInitialized:!1,resolve:null,reject:null,monaco:null}),gxt=Nvr(hmr,2),tY=gxt[0],Vce=gxt[1];function gmr(e){var t=cmr.config(e),n=t.monaco,r=Fvr(t,["monaco"]);Vce(function(i){return{config:hxt(i.config,r),monaco:n}})}function pmr(){var e=tY(function(t){var n=t.monaco,r=t.isInitialized,i=t.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!e.isInitialized){if(Vce({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Jbe(ewe);if(window.monaco&&window.monaco.editor)return pxt(window.monaco),e.resolve(window.monaco),Jbe(ewe);fmr(vmr,ymr)(bmr)}return Jbe(ewe)}function vmr(e){return document.body.appendChild(e)}function mmr(e){var t=document.createElement("script");return e&&(t.src=e),t}function ymr(e){var t=tY(function(r){var i=r.config,a=r.reject;return{config:i,reject:a}}),n=mmr("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function bmr(){var e=tY(function(n){var r=n.config,i=n.resolve,a=n.reject;return{config:r,resolve:i,reject:a}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){pxt(n),e.resolve(n)},function(n){e.reject(n)})}function pxt(e){tY().monaco||Vce({monaco:e})}function wmr(){return tY(function(e){var t=e.monaco;return t})}var ewe=new Promise(function(e,t){return Vce({resolve:e,reject:t})}),vxt={config:gmr,init:pmr,__getMonacoInstance:wmr};function aCe(){return aCe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aCe.apply(this,arguments)}const _mr={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};function xmr({content:e}){return Xe.createElement("div",{style:_mr},e)}const twe={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function mxt({width:e,height:t,isEditorReady:n,loading:r,_ref:i,className:a,wrapperProps:s}){return Xe.createElement("section",aCe({style:{...twe.wrapper,width:e,height:t}},s),!n&&Xe.createElement(xmr,{content:r}),Xe.createElement("div",{ref:i,style:{...twe.fullWidth,...!n&&twe.hide},className:a}))}mxt.propTypes={width:Yr.oneOfType([Yr.number,Yr.string]).isRequired,height:Yr.oneOfType([Yr.number,Yr.string]).isRequired,loading:Yr.oneOfType([Yr.element,Yr.string]).isRequired,isEditorReady:Yr.bool.isRequired,className:Yr.string,wrapperProps:Yr.object};var yxt=z.memo(mxt);function bxt(e){z.useEffect(e,[])}function q2(e,t,n=!0){const r=z.useRef(!0);z.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}function LU(){}function Nae(e,t,n,r){return Smr(e,r)||Emr(e,t,n,r)}function Smr(e,t){return e.editor.getModel(wxt(e,t))}function Emr(e,t,n,r){return e.editor.createModel(t,n,r&&wxt(e,r))}function wxt(e,t){return e.Uri.parse(t)}function Cmr(e){return e===void 0}function _xt({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:a,modifiedModelPath:s,keepCurrentOriginalModel:u,keepCurrentModifiedModel:f,theme:d,loading:c,options:h,height:p,width:v,className:m,wrapperProps:y,beforeMount:w,onMount:_}){const[S,C]=z.useState(!1),[$,k]=z.useState(!0),M=z.useRef(null),A=z.useRef(null),L=z.useRef(null),N=z.useRef(_),R=z.useRef(w);bxt(()=>{const H=vxt.init();return H.then(Y=>(A.current=Y)&&k(!1)).catch(Y=>(Y==null?void 0:Y.type)!=="cancelation"&&console.error("Monaco initialization: error:",Y)),()=>M.current?U():H.cancel()}),q2(()=>{const H=M.current.getModifiedEditor();H.getOption(A.current.editor.EditorOption.readOnly)?H.setValue(t):t!==H.getValue()&&(H.executeEdits("",[{range:H.getModel().getFullModelRange(),text:t,forceMoveMarkers:!0}]),H.pushUndoStop())},[t],S),q2(()=>{M.current.getModel().original.setValue(e)},[e],S),q2(()=>{const{original:H,modified:Y}=M.current.getModel();A.current.editor.setModelLanguage(H,r||n),A.current.editor.setModelLanguage(Y,i||n)},[n,r,i],S),q2(()=>{A.current.editor.setTheme(d)},[d],S),q2(()=>{M.current.updateOptions(h)},[h],S);const D=z.useCallback(()=>{R.current(A.current);const H=Nae(A.current,e,r||n,a),Y=Nae(A.current,t,i||n,s);M.current.setModel({original:H,modified:Y})},[n,t,i,e,r,a,s]),j=z.useCallback(()=>{M.current=A.current.editor.createDiffEditor(L.current,{automaticLayout:!0,...h}),D(),A.current.editor.setTheme(d),C(!0)},[h,d,D]);z.useEffect(()=>{S&&N.current(M.current,A.current)},[S]),z.useEffect(()=>{!$&&!S&&j()},[$,S,j]);function U(){const H=M.current.getModel();if(!u){var Y;(Y=H.original)===null||Y===void 0||Y.dispose()}if(!f){var Z;(Z=H.modified)===null||Z===void 0||Z.dispose()}M.current.dispose()}return Xe.createElement(yxt,{width:v,height:p,isEditorReady:S,loading:c,_ref:L,className:m,wrapperProps:y})}_xt.propTypes={original:Yr.string,modified:Yr.string,language:Yr.string,originalLanguage:Yr.string,modifiedLanguage:Yr.string,originalModelPath:Yr.string,modifiedModelPath:Yr.string,keepCurrentOriginalModel:Yr.bool,keepCurrentModifiedModel:Yr.bool,theme:Yr.string,loading:Yr.oneOfType([Yr.element,Yr.string]),options:Yr.object,width:Yr.oneOfType([Yr.number,Yr.string]),height:Yr.oneOfType([Yr.number,Yr.string]),className:Yr.string,wrapperProps:Yr.object,beforeMount:Yr.func,onMount:Yr.func};_xt.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:LU,onMount:LU};function $mr(e){const t=z.useRef();return z.useEffect(()=>{t.current=e},[e]),t.current}const Kee=new Map;function N5e({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:i,path:a,theme:s,line:u,loading:f,options:d,overrideServices:c,saveViewState:h,keepCurrentModel:p,width:v,height:m,className:y,wrapperProps:w,beforeMount:_,onMount:S,onChange:C,onValidate:$}){const[k,M]=z.useState(!1),[A,L]=z.useState(!0),N=z.useRef(null),R=z.useRef(null),D=z.useRef(null),j=z.useRef(S),U=z.useRef(_),H=z.useRef(null),Y=z.useRef(r),Z=$mr(a),Q=z.useRef(!1);bxt(()=>{const ue=vxt.init();return ue.then(ve=>(N.current=ve)&&L(!1)).catch(ve=>(ve==null?void 0:ve.type)!=="cancelation"&&console.error("Monaco initialization: error:",ve)),()=>R.current?oe():ue.cancel()}),q2(()=>{const ue=Nae(N.current,e||r,t||i,a);ue!==R.current.getModel()&&(h&&Kee.set(Z,R.current.saveViewState()),R.current.setModel(ue),h&&R.current.restoreViewState(Kee.get(a)))},[a],k),q2(()=>{R.current.updateOptions(d)},[d],k),q2(()=>{R.current.getOption(N.current.editor.EditorOption.readOnly)?R.current.setValue(r):r!==R.current.getValue()&&(R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),R.current.pushUndoStop())},[r],k),q2(()=>{N.current.editor.setModelLanguage(R.current.getModel(),i)},[i],k),q2(()=>{Cmr(u)||R.current.revealLine(u)},[u],k),q2(()=>{N.current.editor.setTheme(s)},[s],k);const ee=z.useCallback(()=>{if(!Q.current){U.current(N.current);const ue=a||n,ve=Nae(N.current,r||e,t||i,ue);R.current=N.current.editor.create(D.current,{model:ve,automaticLayout:!0,...d},c),h&&R.current.restoreViewState(Kee.get(ue)),N.current.editor.setTheme(s),M(!0),Q.current=!0}},[e,t,n,r,i,a,d,c,h,s]);z.useEffect(()=>{k&&j.current(R.current,N.current)},[k]),z.useEffect(()=>{!A&&!k&&ee()},[A,k,ee]),Y.current=r,z.useEffect(()=>{if(k&&C){var ue,ve;(ue=H.current)===null||ue===void 0||ue.dispose(),H.current=(ve=R.current)===null||ve===void 0?void 0:ve.onDidChangeModelContent(le=>{C(R.current.getValue(),le)})}},[k,C]),z.useEffect(()=>{if(k){const ue=N.current.editor.onDidChangeMarkers(ve=>{var le;const de=(le=R.current.getModel())===null||le===void 0?void 0:le.uri;if(de&&ve.find(Se=>Se.path===de.path)){const Se=N.current.editor.getModelMarkers({resource:de});$==null||$(Se)}});return()=>{ue==null||ue.dispose()}}},[k,$]);function oe(){var ue;if((ue=H.current)===null||ue===void 0||ue.dispose(),p)h&&Kee.set(a,R.current.saveViewState());else{var ve;(ve=R.current.getModel())===null||ve===void 0||ve.dispose()}R.current.dispose()}return Xe.createElement(yxt,{width:v,height:m,isEditorReady:k,loading:f,_ref:D,className:y,wrapperProps:w})}N5e.propTypes={defaultValue:Yr.string,defaultPath:Yr.string,defaultLanguage:Yr.string,value:Yr.string,language:Yr.string,path:Yr.string,theme:Yr.string,line:Yr.number,loading:Yr.oneOfType([Yr.element,Yr.string]),options:Yr.object,overrideServices:Yr.object,saveViewState:Yr.bool,keepCurrentModel:Yr.bool,width:Yr.oneOfType([Yr.number,Yr.string]),height:Yr.oneOfType([Yr.number,Yr.string]),className:Yr.string,wrapperProps:Yr.object,beforeMount:Yr.func,onMount:Yr.func,onChange:Yr.func,onValidate:Yr.func};N5e.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:LU,onMount:LU,onValidate:LU};var kmr=z.memo(N5e);const j$=nL(()=>({isCollapsed:!0,collapse:()=>{},editorFocused:!1})),z5e=nL(e=>({lastEdited:Date.now().toString()})),Omr=z.forwardRef(function(t,n){const r=Qo(s=>{var u;return(u=s.project)==null?void 0:u.squiggle}),i=z.useCallback(s=>{Qo.setState(qP(u=>{u.project&&(u.project.squiggle=s??"")}),!1,"squiggle editor")},[]),a=j$(s=>s.editorFocused);return r==null?null:xt("div",{className:`relative pt-4 pl-4 bg-white/50 h-full grid grid-rows-[minmax(0,1fr)_auto] max-w-[100%] ${a?"":"overflow-hidden"}`,ref:n,children:xt(kmr,{wrapperProps:{className:`w-full max-w-[100%] h-full ${a?"":"overflow-hidden"}`},width:"100%",language:"squiggle",options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on",lineDecorationsWidth:14,folding:!1,fontSize:14,lineNumbersMinChars:3,renderLineHighlight:"none",overviewRulerBorder:!1,overviewRulerLanes:0,wordWrap:"on"},value:r,onChange:i,beforeMount:s=>{s.languages.register({id:"squiggle"}),s.languages.setMonarchTokensProvider("squiggle",{tokenizer:{root:[[/\/\/.*$/,"comment"],[/\/\*/,"comment","@comment"]],comment:[[/\*\//,"comment","@pop"],[/./,"comment"]]}}),s.editor.setTheme("vs-dark"),s.languages.setLanguageConfiguration("squiggle",{comments:{lineComment:"//",blockComment:["/*","*/"]}})},onMount:s=>{s.onKeyDown(u=>{z5e.setState({lastEdited:Date.now().toString()})}),s.onDidFocusEditorText(()=>{j$.setState({editorFocused:!0})}),s.onDidBlurEditorText(()=>{j$.setState({editorFocused:!1})})}})})});function Amr(e,[t,n]){return Math.min(n,Math.max(t,e))}function uv(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Rmr(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function xxt(...e){return t=>e.forEach(n=>Rmr(n,t))}function xE(...e){return z.useCallback(xxt(...e),e)}function Wce(e,t=[]){let n=[];function r(a,s){const u=z.createContext(s),f=n.length;n=[...n,s];function d(h){const{scope:p,children:v,...m}=h,y=(p==null?void 0:p[e][f])||u,w=z.useMemo(()=>m,Object.values(m));return z.createElement(y.Provider,{value:w},v)}function c(h,p){const v=(p==null?void 0:p[e][f])||u,m=z.useContext(v);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,c]}const i=()=>{const a=n.map(s=>z.createContext(s));return function(u){const f=(u==null?void 0:u[e])||a;return z.useMemo(()=>({[`__scope${e}`]:{...u,[e]:f}}),[u,f])}};return i.scopeName=e,[r,Tmr(i,...t)]}function Tmr(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((u,{useScope:f,scopeName:d})=>{const h=f(a)[`__scope${d}`];return{...u,...h}},{});return z.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function j5e(e){const t=z.useRef(e);return z.useEffect(()=>{t.current=e}),z.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function B5e({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=Mmr({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,u=j5e(n),f=z.useCallback(d=>{if(a){const h=typeof d=="function"?d(e):d;h!==e&&u(h)}else i(d)},[a,e,i,u]);return[s,f]}function Mmr({defaultProp:e,onChange:t}){const n=z.useState(e),[r]=n,i=z.useRef(r),a=j5e(t);return z.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}const Pmr=z.createContext(void 0);function H5e(e){const t=z.useContext(Pmr);return e||t||"ltr"}function Lmr(e){const t=z.useRef({value:e,previous:e});return z.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const zae=globalThis!=null&&globalThis.document?z.useLayoutEffect:()=>{};function Dmr(e){const[t,n]=z.useState(void 0);return zae(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,u;if("borderBoxSize"in a){const f=a.borderBoxSize,d=Array.isArray(f)?f[0]:f;s=d.inlineSize,u=d.blockSize}else s=e.offsetWidth,u=e.offsetHeight;n({width:s,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const jae=z.forwardRef((e,t)=>{const{children:n,...r}=e,i=z.Children.toArray(n),a=i.find(Fmr);if(a){const s=a.props.children,u=i.map(f=>f===a?z.Children.count(s)>1?z.Children.only(null):z.isValidElement(s)?s.props.children:null:f);return z.createElement(oCe,ha({},r,{ref:t}),z.isValidElement(s)?z.cloneElement(s,void 0,u):null)}return z.createElement(oCe,ha({},r,{ref:t}),n)});jae.displayName="Slot";const oCe=z.forwardRef((e,t)=>{const{children:n,...r}=e;return z.isValidElement(n)?z.cloneElement(n,{...Nmr(r,n.props),ref:xxt(t,n.ref)}):z.Children.count(n)>1?z.Children.only(null):null});oCe.displayName="SlotClone";const Imr=({children:e})=>z.createElement(z.Fragment,null,e);function Fmr(e){return z.isValidElement(e)&&e.type===Imr}function Nmr(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...u)=>{a(...u),i(...u)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}const zmr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],VE=zmr.reduce((e,t)=>{const n=z.forwardRef((r,i)=>{const{asChild:a,...s}=r,u=a?jae:t;return z.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),z.createElement(u,ha({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Sxt(e){const t=e+"CollectionProvider",[n,r]=Wce(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=v=>{const{scope:m,children:y}=v,w=Xe.useRef(null),_=Xe.useRef(new Map).current;return Xe.createElement(i,{scope:m,itemMap:_,collectionRef:w},y)},u=e+"CollectionSlot",f=Xe.forwardRef((v,m)=>{const{scope:y,children:w}=v,_=a(u,y),S=xE(m,_.collectionRef);return Xe.createElement(jae,{ref:S},w)}),d=e+"CollectionItemSlot",c="data-radix-collection-item",h=Xe.forwardRef((v,m)=>{const{scope:y,children:w,..._}=v,S=Xe.useRef(null),C=xE(m,S),$=a(d,y);return Xe.useEffect(()=>($.itemMap.set(S,{ref:S,..._}),()=>void $.itemMap.delete(S))),Xe.createElement(jae,{[c]:"",ref:C},w)});function p(v){const m=a(e+"CollectionConsumer",v);return Xe.useCallback(()=>{const w=m.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${c}]`));return Array.from(m.itemMap.values()).sort(($,k)=>_.indexOf($.ref.current)-_.indexOf(k.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:s,Slot:f,ItemSlot:h},p,r]}const Ext=["PageUp","PageDown"],Cxt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$xt={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},nY="Slider",[sCe,jmr,Bmr]=Sxt(nY),[kxt,zbr]=Wce(nY,[Bmr]),[Hmr,Gce]=kxt(nY),Umr=z.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:s="horizontal",disabled:u=!1,minStepsBetweenThumbs:f=0,defaultValue:d=[r],value:c,onValueChange:h=()=>{},onValueCommit:p=()=>{},inverted:v=!1,...m}=e,[y,w]=z.useState(null),_=xE(t,H=>w(H)),S=z.useRef(new Set),C=z.useRef(0),$=s==="horizontal",k=y?!!y.closest("form"):!0,M=$?Vmr:Wmr,[A=[],L]=B5e({prop:c,defaultProp:d,onChange:H=>{var Y;(Y=[...S.current][C.current])===null||Y===void 0||Y.focus(),h(H)}}),N=z.useRef(A);function R(H){const Y=e1r(A,H);U(H,Y)}function D(H){U(H,C.current)}function j(){const H=N.current[C.current];A[C.current]!==H&&p(A)}function U(H,Y,{commit:Z}={commit:!1}){const Q=i1r(a),ee=a1r(Math.round((H-r)/a)*a+r,Q),oe=Amr(ee,[r,i]);L((ue=[])=>{const ve=Qmr(ue,oe,Y);if(r1r(ve,f*a)){C.current=ve.indexOf(oe);const le=String(ve)!==String(ue);return le&&Z&&p(ve),le?ve:ue}else return ue})}return z.createElement(Hmr,{scope:e.__scopeSlider,disabled:u,min:r,max:i,valueIndexToChangeRef:C,thumbs:S.current,values:A,orientation:s},z.createElement(sCe.Provider,{scope:e.__scopeSlider},z.createElement(sCe.Slot,{scope:e.__scopeSlider},z.createElement(M,ha({"aria-disabled":u,"data-disabled":u?"":void 0},m,{ref:_,onPointerDown:uv(m.onPointerDown,()=>{u||(N.current=A)}),min:r,max:i,inverted:v,onSlideStart:u?void 0:R,onSlideMove:u?void 0:D,onSlideEnd:u?void 0:j,onHomeKeyDown:()=>!u&&U(r,0,{commit:!0}),onEndKeyDown:()=>!u&&U(i,A.length-1,{commit:!0}),onStepKeyDown:({event:H,direction:Y})=>{if(!u){const ee=Ext.includes(H.key)||H.shiftKey&&Cxt.includes(H.key)?10:1,oe=C.current,ue=A[oe],ve=a*ee*Y;U(ue+ve,oe,{commit:!0})}}})))),k&&A.map((H,Y)=>z.createElement(Zmr,{key:Y,name:n?n+(A.length>1?"[]":""):void 0,value:H})))}),[Oxt,Axt]=kxt(nY,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Vmr=z.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:s,onSlideMove:u,onSlideEnd:f,onStepKeyDown:d,...c}=e,[h,p]=z.useState(null),v=xE(t,C=>p(C)),m=z.useRef(),y=H5e(i),w=y==="ltr",_=w&&!a||!w&&a;function S(C){const $=m.current||h.getBoundingClientRect(),k=[0,$.width],A=U5e(k,_?[n,r]:[r,n]);return m.current=$,A(C-$.left)}return z.createElement(Oxt,{scope:e.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width"},z.createElement(Rxt,ha({dir:y,"data-orientation":"horizontal"},c,{ref:v,style:{...c.style,["--radix-slider-thumb-transform"]:"translateX(-50%)"},onSlideStart:C=>{const $=S(C.clientX);s==null||s($)},onSlideMove:C=>{const $=S(C.clientX);u==null||u($)},onSlideEnd:()=>{m.current=void 0,f==null||f()},onStepKeyDown:C=>{const k=$xt[_?"from-left":"from-right"].includes(C.key);d==null||d({event:C,direction:k?-1:1})}})))}),Wmr=z.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:s,onSlideEnd:u,onStepKeyDown:f,...d}=e,c=z.useRef(null),h=xE(t,c),p=z.useRef(),v=!i;function m(y){const w=p.current||c.current.getBoundingClientRect(),_=[0,w.height],C=U5e(_,v?[r,n]:[n,r]);return p.current=w,C(y-w.top)}return z.createElement(Oxt,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1},z.createElement(Rxt,ha({"data-orientation":"vertical"},d,{ref:h,style:{...d.style,["--radix-slider-thumb-transform"]:"translateY(50%)"},onSlideStart:y=>{const w=m(y.clientY);a==null||a(w)},onSlideMove:y=>{const w=m(y.clientY);s==null||s(w)},onSlideEnd:()=>{p.current=void 0,u==null||u()},onStepKeyDown:y=>{const _=$xt[v?"from-bottom":"from-top"].includes(y.key);f==null||f({event:y,direction:_?-1:1})}})))}),Rxt=z.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:s,onEndKeyDown:u,onStepKeyDown:f,...d}=e,c=Gce(nY,n);return z.createElement(VE.span,ha({},d,{ref:t,onKeyDown:uv(e.onKeyDown,h=>{h.key==="Home"?(s(h),h.preventDefault()):h.key==="End"?(u(h),h.preventDefault()):Ext.concat(Cxt).includes(h.key)&&(f(h),h.preventDefault())}),onPointerDown:uv(e.onPointerDown,h=>{const p=h.target;p.setPointerCapture(h.pointerId),h.preventDefault(),c.thumbs.has(p)?p.focus():r(h)}),onPointerMove:uv(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:uv(e.onPointerUp,h=>{const p=h.target;p.hasPointerCapture(h.pointerId)&&(p.releasePointerCapture(h.pointerId),a(h))})}))}),Gmr="SliderTrack",qmr=z.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Gce(Gmr,n);return z.createElement(VE.span,ha({"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation},r,{ref:t}))}),Bet="SliderRange",Ymr=z.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=Gce(Bet,n),a=Axt(Bet,n),s=z.useRef(null),u=xE(t,s),f=i.values.length,d=i.values.map(p=>Txt(p,i.min,i.max)),c=f>1?Math.min(...d):0,h=100-Math.max(...d);return z.createElement(VE.span,ha({"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0},r,{ref:u,style:{...e.style,[a.startEdge]:c+"%",[a.endEdge]:h+"%"}}))}),Het="SliderThumb",Kmr=z.forwardRef((e,t)=>{const n=jmr(e.__scopeSlider),[r,i]=z.useState(null),a=xE(t,u=>i(u)),s=z.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return z.createElement(Xmr,ha({},e,{ref:a,index:s}))}),Xmr=z.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,...i}=e,a=Gce(Het,n),s=Axt(Het,n),[u,f]=z.useState(null),d=xE(t,w=>f(w)),c=Dmr(u),h=a.values[r],p=h===void 0?0:Txt(h,a.min,a.max),v=Jmr(r,a.values.length),m=c==null?void 0:c[s.size],y=m?t1r(m,p,s.direction):0;return z.useEffect(()=>{if(u)return a.thumbs.add(u),()=>{a.thumbs.delete(u)}},[u,a.thumbs]),z.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${p}% + ${y}px)`}},z.createElement(sCe.ItemSlot,{scope:e.__scopeSlider},z.createElement(VE.span,ha({role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":h,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0},i,{ref:d,style:h===void 0?{display:"none"}:e.style,onFocus:uv(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})}))))}),Zmr=e=>{const{value:t,...n}=e,r=z.useRef(null),i=Lmr(t);return z.useEffect(()=>{const a=r.current,s=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==t&&f){const d=new Event("input",{bubbles:!0});f.call(a,t),a.dispatchEvent(d)}},[i,t]),z.createElement("input",ha({style:{display:"none"}},n,{ref:r,defaultValue:t}))};function Qmr(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,a)=>i-a)}function Txt(e,t,n){return 100/(n-t)*(e-t)}function Jmr(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function e1r(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function t1r(e,t,n){const r=e/2,a=U5e([0,50],[0,r]);return(r-a(t)*n)*n}function n1r(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function r1r(e,t){if(t>0){const n=n1r(e);return Math.min(...n)>=t}return!0}function U5e(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function i1r(e){return(String(e).split(".")[1]||"").length}function a1r(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const o1r=Umr,s1r=qmr,u1r=Ymr,l1r=Kmr;function Bae(e){try{return e>=0&&e<=1?`${(e*100).toFixed(2)}%`:e.toFixed(2)}catch(t){return console.error(`Recieved ${e} as input`),console.error(t),e}}var c1r="Expected a function",Uet=0/0,f1r="[object Symbol]",d1r=/^\s+|\s+$/g,h1r=/^[-+]0x[0-9a-f]+$/i,g1r=/^0b[01]+$/i,p1r=/^0o[0-7]+$/i,v1r=parseInt,m1r=typeof $e=="object"&&$e&&$e.Object===Object&&$e,y1r=typeof self=="object"&&self&&self.Object===Object&&self,b1r=m1r||y1r||Function("return this")(),w1r=Object.prototype,_1r=w1r.toString,x1r=Math.max,S1r=Math.min,nwe=function(){return b1r.Date.now()};function E1r(e,t,n){var r,i,a,s,u,f,d=0,c=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(c1r);t=Vet(t)||0,uCe(n)&&(c=!!n.leading,h="maxWait"in n,a=h?x1r(Vet(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function v(M){var A=r,L=i;return r=i=void 0,d=M,s=e.apply(L,A),s}function m(M){return d=M,u=setTimeout(_,t),c?v(M):s}function y(M){var A=M-f,L=M-d,N=t-A;return h?S1r(N,a-L):N}function w(M){var A=M-f,L=M-d;return f===void 0||A>=t||A<0||h&&L>=a}function _(){var M=nwe();if(w(M))return S(M);u=setTimeout(_,y(M))}function S(M){return u=void 0,p&&r?v(M):(r=i=void 0,s)}function C(){u!==void 0&&clearTimeout(u),d=0,r=f=i=u=void 0}function $(){return u===void 0?s:S(nwe())}function k(){var M=nwe(),A=w(M);if(r=arguments,i=this,f=M,A){if(u===void 0)return m(f);if(h)return u=setTimeout(_,t),v(f)}return u===void 0&&(u=setTimeout(_,t)),s}return k.cancel=C,k.flush=$,k}function uCe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function C1r(e){return!!e&&typeof e=="object"}function $1r(e){return typeof e=="symbol"||C1r(e)&&_1r.call(e)==f1r}function Vet(e){if(typeof e=="number")return e;if($1r(e))return Uet;if(uCe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=uCe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(d1r,"");var n=g1r.test(e);return n||p1r.test(e)?v1r(e.slice(2),n?2:8):h1r.test(e)?Uet:+e}var V5e=E1r;const YP=nL()(qW(e=>({}),{name:"Node Location"})),k1r=V5e(e=>{Qo.setState(t=>qP(t,r=>{r.project&&(r.project.nodeLocation=e)}))},250,{leading:!1,trailing:!0}),O1r={},D5=nL()(qW(sat(e=>O1r),{name:"Squiggle State"}));function A1r(){z.useEffect(()=>D5.subscribe(e=>{F1r(e)}),[]),z.useEffect(()=>{var n;const e=(n=Qo.getState().project)==null?void 0:n.squiggle;Wet(e);const t=Qo.subscribe(r=>{var i;return(i=r.project)==null?void 0:i.squiggle},V5e(Wet,650,{leading:!1,trailing:!0}));return()=>{t()}},[]),z.useEffect(()=>YP.subscribe(t=>{k1r(t)}),[])}function Wet(e){if(e)try{const t=aT.run(e).result;t.ok?D5.setState({squiggleCode:e,squiggleRunResult:t.value.location.project,squiggleRunError:void 0},!1,"run squiggle / ok"):D5.setState({squiggleRunError:`${t.value.toStringWithStackTrace()}`},!1,"run squiggle / error")}catch(t){let n=bV(t)?t.message:"Unknown error";D5.setState({squiggleRunError:n},!1,"run squiggle / Unknown error")}else D5.setState({squiggleCode:void 0,squiggleRunResult:void 0,squiggleRunError:void 0},!1,"run squiggle / no code")}const R1r="https://manifold.markets/api/v0/slug/",Mxt="400px";function T1r({data:e}){const t=D5(a=>a.squiggleCode),n=_rt(["market",e.marketSlug],async()=>(await fetch(`${R1r}${e.marketSlug}`)).json(),{enabled:!!e.marketSlug,cacheTime:1/0,staleTime:1/0,retry:!1}),r=e.valueType??"unknown";let i="";return r==="derived"&&(i=t+`

`+e.label),bi(my,{children:[xt(wN,{type:"target",position:Bi.Top,className:"top-handle"}),bi("div",{className:"bg-white grid grid-rows-[auto_minmax(0,1fr)_auto] h-full border border-neutral-300 p-0 gap-1 rounded-xl border-b-8 cursor-default",children:[xt("div",{className:"flex gap-1 justify-end p-1",children:xt("div",{className:"overflow-hidden",children:xt(M1r,{label:e.label})})}),xt("p",{className:"text-xl px-2 mb-2",children:e.comment}),r==="derived"&&xt("div",{className:"squiggle-chart px-3",children:xt(D1r,{code:i,enableLocalSettings:!0,distributionChartSettings:{minX:0,maxX:1}})}),r==="single"&&"numValue"in e&&xt(P1r,{initialValue:e.numValue,line:e.line}),r==="single"&&!("numValue"in e)&&xt("span",{className:"text-3xl font-mono text-center pb-2",children:e.value.toString()}),r==="distribution"&&xt(L1r,{lower:e.numLower,upper:e.numUpper,line:e.line}),n.data&&!n.isError&&!("error"in n.data)?bi("a",{className:"bg-purple-50 grid gap-2 text-purple-800 rounded items-start overflow-hidden mt-4",href:n.data.url,target:"_blank",rel:"noreferrer",children:[bi("div",{className:"flex gap-2 items-center p-3",children:[xt("img",{src:"/manifold-market-logo.svg",className:"w-6 h-6",alt:"Manifold Markets Logo"}),xt("span",{className:"text-sm grow",children:n.data.question})]}),xt("span",{className:"text-3xl text-center font-mono p-4 overflow-hidden whitespace-nowrap overflow-ellipsis bg-purple-100",title:n.data.probability.toString(),children:Bae(n.data.probability)})]}):null]}),xt(wN,{type:"source",position:Bi.Bottom,className:"w-2 h-2 rounded-full bg-neutral-300 border-none translate-y-[7px]"})]})}function M1r({label:e}){return xt("div",{className:"bg-blue-500 text-neutral-50 rounded-lg inline-block p-1 px-2 text-xs text-blue-400 max-w-full font-mono overflow-hidden whitespace-nowrap overflow-ellipsis",children:e})}function Hae(e){return e<=1?1:Math.pow(10,Math.ceil(Math.log10(e)))}function P1r({initialValue:e,line:t}){const n=Qo(c=>{var h;return((h=c.project)==null?void 0:h.renderPercentages)??!1}),r=z5e(c=>c.lastEdited),i=z.useRef(!1),a=z.useRef(null),[s,u]=z.useState(e),[f,d]=z.useState(Hae(e));return z.useEffect(()=>{i.current=!0},[r]),z.useEffect(()=>{i.current&&(u(e),d(Hae(e)),i.current=!1,setTimeout(()=>{a.current&&(a.current.value=a.current.defaultValue)},45))},[e]),bi("div",{className:"grid gap-2",children:[xt(Pxt,{children:n?Bae(s):s}),xt(o1r,{className:"h-6 w-full mt-6 nodrag bg-neutral-200 overflow-hidden relative",onValueChange:c=>{u(Number(c[0])),Pvr(t,c.toString())},value:[s],step:f/100,min:0,max:f,ref:a,children:bi(s1r,{children:[xt(u1r,{className:"h-6 bg-blue-400 absolute left-0"}),xt(l1r,{className:"w-6 h-6 bg-blue-400 border-none"})]})})]})}function L1r({lower:e,upper:t,line:n}){const r=z5e(w=>w.lastEdited),i=z.useRef(!1),[a,s]=z.useState(0),u=z.useRef(null),f=z.useRef([e,t]),[d,c]=z.useState([e,t]),[h,p]=z.useState(Hae(t)),v=Qo(w=>{var _;return((_=w.project)==null?void 0:_.renderPercentages)??!1});z.useEffect(()=>{i.current=!0},[r]),z.useEffect(()=>{i.current&&(f.current=[e,t],c([e,t]),p(Hae(t)),s(w=>w+1),i.current=!1)},[e,t]),z.useEffect(()=>{if(!u.current)return;const w=tvr(u.current,{min:0,max:h,step:.01,value:f.current,onInput:_=>{c(_),Lvr(n,..._)}});return()=>{w.removeGlobalEventListeners()}},[n,h,a]);const m=v?Bae(d[0]):d[0].toFixed(2),y=v?Bae(d[1]):d[1].toFixed(2);return bi("div",{className:"grid gap-2",children:[bi(Pxt,{children:[m," to ",y]}),xt("div",{className:"mt-6 nodrag",ref:u})]})}function Pxt({children:e}){return xt("p",{className:"text-3xl text-neutral-600 text-center my-3 font-mono tracking-tighter ordinal slashed-zero tabular-nums",children:e})}function D1r(e){const t=I1r(e,250);return xt(Nke.SquiggleChart,{...t})}function I1r(e,t){const[n,r]=z.useState(e);return z.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}lH.__hasInit||(lH.use(yKt),lH.use(EKt),lH.__hasInit=!0);const W5e={elements:{nodes:[],edges:[]},positions:{},nodes:[],edges:[]},MW=nL()(qW(e=>W5e,{name:"Graph State 2,0"}));function F1r(e){var t;if(!e.squiggleRunError)if(!e.squiggleRunResult)MW.setState(W5e,!0,"set default state here");else try{const n=((t=Qo.getState().project)==null?void 0:t.squiggle)??"",r=$Kt(e.squiggleRunResult,e.squiggleCode??""),i=N1r(r),a=Object.entries(i).map(([u,{x:f,y:d}])=>{const c=r==null?void 0:r.nodes.find(m=>m.data.id===u);if(!c)throw new Error("Node not found in elements");let h=n.split(`
`)[c.data.line-2]??"",p="",v="";if(!h.startsWith("//"))h="";else{h=h.slice(2).trim();const m=z1r(h);p=m.comment,v=m.slug}return{id:u,type:"squiggleNodeType",data:{...c.data,comment:p,marketSlug:v,label:u},draggable:!0,position:{x:f,y:d}}}),s=[];for(const u of r.edges){const f=u.data.id;f&&s.push({id:f,target:u.data.source,source:u.data.target,style:{strokeWidth:3,stroke:"#ccc"},markerEnd:{type:zV.Arrow,height:20,width:20,strokeWidth:1,color:"#ccc"}})}MW.setState({elements:r,positions:i,nodes:a,edges:s},!1,"watch squiggle state")}catch(n){console.error(n)}}function N1r(e){try{const t=document.createElement("div");t.className="offscreen-canvas",document.body.appendChild(t);const n=lH({elements:e,container:t,layout:{name:"preset"},style:[{selector:"node",style:{width:Mxt,height:"360px",shape:"rectangle","background-color":"#fff",label:"data(id)"}}]});n.layout({name:"klay",spacingFactor:1.1,klay:{direction:"UP",nodePlacement:"SIMPLE"}}).run();const r={};for(const i of Array.from(n.nodes())){const a=i.id(),{x:s,y:u}=i.position();r[a]={x:s,y:u}}return document.body.removeChild(t),r}catch(t){return console.error(t),{}}}function z1r(e){var t;if(e.match(/\(.*\)$/)){const n=((t=e.match(/\((.*)\)$/))==null?void 0:t[1])??"";return e=e.replace(`(${n})`,"").trim(),{comment:e,slug:n}}return{comment:e,slug:""}}function Lxt(){Qo.setState({...uN,project:mUe(),previousContents:JSON.stringify(mUe(),null,2)},!1,"create"),MW.setState(W5e,!0,"create"),window.history.replaceState({},document.title,"/")}async function j1r(){try{const[e]=await window.showOpenFilePicker({types:[{description:"JSON Files",accept:{"application/json":[".json"]}}],excludeAcceptAllOption:!0,multiple:!1}),t=await e.getFile(),n=await t.text();try{const r=JSON.parse(n);r.subject||(r.subject=""),r.context&&delete r.context,r.nodeLocation||(r.nodeLocation={});const i=sjt.parse(r);YP.setState(r.nodeLocation);const a=U$e(i);Qo.setState({...uN,project:i,previousContents:n,fileHandle:e,projectHash:a},!1,"open")}catch(r){bV(r)&&console.error(r.message),Qo.setState({...uN,loadFileError:bV(r)?r:new Error("Unable to load file")},!1,"open/error");return}return t}catch{}}async function Get(e){const{project:t}=Qo.getState();if(t)try{const n=e||await window.showSaveFilePicker({types:[{description:"JSON Files",accept:{"application/json":[".json"]}}],excludeAcceptAllOption:!0}),r=JSON.stringify(t,null,2),i=await n.createWritable();await i.write(r),await i.close(),Qo.setState({...uN,project:t,previousContents:r,fileHandle:n},!1,"saveAs");const a=U$e(t);Qo.setState({projectHash:a},!1,"saveAs")}catch(n){console.error(n)}}async function B1r(){try{const e=window.location.hash;if(e){const t=e.slice(1),n=Hzt(t);Qo.setState({...uN,project:n,projectHash:t},!1,"loadFromHash"),YP.setState(n.nodeLocation??{})}}catch(e){bV(e)&&console.error(e.message),Qo.setState({...uN,loadFileError:bV(e)?e:new Error("Unable to load file")},!1,"loadFromHash/error")}finally{window.history.replaceState({},document.title,"/")}}function H1r(e,t,n){return e.map(r=>{let i={...r,selected:n.includes(r.id)};return t[r.id]?{...i,position:{x:t[i.id].x,y:t[i.id].y}}:i})}const U1r={squiggleNodeType:T1r};function V1r(){const e=MW(u=>u.nodes),t=MW(u=>u.edges),n=YP(),[r,i]=z.useState([]),a=H1r(e,n,r),s=z.useCallback(u=>{for(const f of u)if(f.type==="position"&&f.position)YP.setState({[f.id]:{x:f.position.x,y:f.position.y}});else if(f.type==="select"){const{id:d,selected:c}=f;i(c?h=>[...h,d]:h=>h.filter(p=>p!==d))}},[]);return bi(dlt,{fitView:!0,nodes:a,edges:t,nodeTypes:U1r,minZoom:.2,maxZoom:2,onNodesChange:s,nodesConnectable:!1,className:r.length>0?"selecting":"",children:[xt(ytn,{color:"#f0f0f0",style:{backgroundColor:"#f7f7f7"},variant:qb.Lines}),xt(dtn,{})]})}var W1r=z.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),Wk=function(t,n,r){var i=r.get(t);return i?i(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function qet(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Dxt=z.forwardRef(function(e,t){var n=e.alt,r=e.color,i=e.size,a=e.weight,s=e.mirrored,u=e.children,f=e.renderPath,d=qet(e,["alt","color","size","weight","mirrored","children","renderPath"]),c=z.useContext(W1r),h=c.color,p=h===void 0?"currentColor":h,v=c.size,m=c.weight,y=m===void 0?"regular":m,w=c.mirrored,_=w===void 0?!1:w,S=qet(c,["color","size","weight","mirrored"]);return Xe.createElement("svg",Object.assign({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i??v,height:i??v,fill:r??p,viewBox:"0 0 256 256",transform:s||_?"scale(-1, 1)":void 0},S,d),!!n&&Xe.createElement("title",null,n),u,Xe.createElement("rect",{width:"256",height:"256",fill:"none"}),f(a??y,r??p))});Dxt.displayName="IconBase";const Gk=Dxt;var IL=new Map;IL.set("bold",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"32",y1:"128",x2:"176",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("polyline",{points:"104 56 176 128 104 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("line",{x1:"216",y1:"40",x2:"216",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});IL.set("duotone",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"32",y1:"128",x2:"184",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"112 56 184 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("line",{x1:"216",y1:"40",x2:"216",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});IL.set("fill",function(){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M189.7,122.3a8.1,8.1,0,0,1,0,11.4l-72,72A8.3,8.3,0,0,1,112,208a8.5,8.5,0,0,1-3.1-.6A8,8,0,0,1,104,200V136H32a8,8,0,0,1,0-16h72V56a8,8,0,0,1,4.9-7.4,8.4,8.4,0,0,1,8.8,1.7ZM216,32a8,8,0,0,0-8,8V216a8,8,0,0,0,16,0V40A8,8,0,0,0,216,32Z"}))});IL.set("light",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"32",y1:"128",x2:"184",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("polyline",{points:"112 56 184 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("line",{x1:"216",y1:"40",x2:"216",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});IL.set("thin",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"32",y1:"128",x2:"184",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("polyline",{points:"112 56 184 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("line",{x1:"216",y1:"40",x2:"216",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});IL.set("regular",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"32",y1:"128",x2:"184",y2:"128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"112 56 184 128 112 200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("line",{x1:"216",y1:"40",x2:"216",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var G1r=function(t,n){return Wk(t,n,IL)},Ixt=z.forwardRef(function(e,t){return Xe.createElement(Gk,Object.assign({ref:t},e,{renderPath:G1r}))});Ixt.displayName="ArrowLineRight";const q1r=Ixt;var FL=new Map;FL.set("bold",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});FL.set("duotone",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("rect",{x:"156",y:"40",width:"56",height:"168",opacity:"0.2"}),Xe.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});FL.set("fill",function(){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M228,200h-8V40a8,8,0,0,0-8-8H156a8,8,0,0,0-8,8V80H100a8,8,0,0,0-8,8v40H44a8,8,0,0,0-8,8v64H28a8,8,0,0,0,0,16H228a8,8,0,0,0,0-16ZM108,96h40V200H108ZM52,144H92v56H52Z"}))});FL.set("light",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});FL.set("thin",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});FL.set("regular",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("polyline",{points:"44 208 44 136 100 136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("line",{x1:"228",y1:"208",x2:"28",y2:"208",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"100 208 100 88 156 88",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("rect",{x:"156",y:"40",width:"56",height:"168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Y1r=function(t,n){return Wk(t,n,FL)},Fxt=z.forwardRef(function(e,t){return Xe.createElement(Gk,Object.assign({ref:t},e,{renderPath:Y1r}))});Fxt.displayName="ChartBar";const K1r=Fxt;var NL=new Map;NL.set("bold",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M71.6,144,32,176V48a8,8,0,0,1,8-8H168a8,8,0,0,1,8,8v88a8,8,0,0,1-8,8Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("path",{d:"M80,144v40a8,8,0,0,0,8,8h96.4L224,224V96a8,8,0,0,0-8-8H176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});NL.set("duotone",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M80,144v40a8,8,0,0,0,8,8h96.4L224,224V96a8,8,0,0,0-8-8H176v48a8,8,0,0,1-8,8Z",opacity:"0.2"}),Xe.createElement("path",{d:"M71.6,144,32,176V48a8,8,0,0,1,8-8H168a8,8,0,0,1,8,8v88a8,8,0,0,1-8,8Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("path",{d:"M80,144v40a8,8,0,0,0,8,8h96.4L224,224V96a8,8,0,0,0-8-8H176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});NL.set("fill",function(){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M232,96a16,16,0,0,0-16-16H184V48a16,16,0,0,0-16-16H40A16,16,0,0,0,24,48V176a7.9,7.9,0,0,0,4.6,7.2,7.8,7.8,0,0,0,8.4-1l35-28.3V184a16,16,0,0,0,16,16h93.6L219,230.2a7.8,7.8,0,0,0,8.4,1A7.9,7.9,0,0,0,232,224Zm-42.6,89.8a7.7,7.7,0,0,0-5-1.8H88V152h80a16,16,0,0,0,16-16V96h32V207.2Z"}))});NL.set("light",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M71.6,144,32,176V48a8,8,0,0,1,8-8H168a8,8,0,0,1,8,8v88a8,8,0,0,1-8,8Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("path",{d:"M80,144v40a8,8,0,0,0,8,8h96.4L224,224V96a8,8,0,0,0-8-8H176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});NL.set("thin",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M71.6,144,32,176V48a8,8,0,0,1,8-8H168a8,8,0,0,1,8,8v88a8,8,0,0,1-8,8Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("path",{d:"M80,144v40a8,8,0,0,0,8,8h96.4L224,224V96a8,8,0,0,0-8-8H176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});NL.set("regular",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M71.6,144,32,176V48a8,8,0,0,1,8-8H168a8,8,0,0,1,8,8v88a8,8,0,0,1-8,8Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("path",{d:"M80,144v40a8,8,0,0,0,8,8h96.4L224,224V96a8,8,0,0,0-8-8H176",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var X1r=function(t,n){return Wk(t,n,NL)},Nxt=z.forwardRef(function(e,t){return Xe.createElement(Gk,Object.assign({ref:t},e,{renderPath:X1r}))});Nxt.displayName="Chats";const zxt=Nxt;var zL=new Map;zL.set("bold",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});zL.set("duotone",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});zL.set("fill",function(){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M104,192a8.5,8.5,0,0,1-5.7-2.3l-56-56a8.1,8.1,0,0,1,11.4-11.4L104,172.7,210.3,66.3a8.1,8.1,0,0,1,11.4,11.4l-112,112A8.5,8.5,0,0,1,104,192Z"}))});zL.set("light",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});zL.set("thin",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});zL.set("regular",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("polyline",{points:"216 72 104 184 48 128",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Z1r=function(t,n){return Wk(t,n,zL)},jxt=z.forwardRef(function(e,t){return Xe.createElement(Gk,Object.assign({ref:t},e,{renderPath:Z1r}))});jxt.displayName="Check";const Q1r=jxt;var jL=new Map;jL.set("bold",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("polyline",{points:"64 88 16 128 64 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("polyline",{points:"192 88 240 128 192 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("line",{x1:"160",y1:"40",x2:"96",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});jL.set("duotone",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("polyline",{points:"64 88 16 128 64 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"192 88 240 128 192 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("line",{x1:"160",y1:"40",x2:"96",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});jL.set("fill",function(){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M70.1,82.9a7.8,7.8,0,0,0-11.2-1l-48,40a7.9,7.9,0,0,0,0,12.2l48,40a7.8,7.8,0,0,0,11.2-1,7.8,7.8,0,0,0-1-11.2L28.5,128,69.1,94.1A7.8,7.8,0,0,0,70.1,82.9Z"}),Xe.createElement("path",{d:"M245.1,121.9l-48-40a8,8,0,0,0-10.2,12.2L227.5,128l-40.6,33.9A8,8,0,0,0,192,176a7.7,7.7,0,0,0,5.1-1.9l48-40a7.9,7.9,0,0,0,0-12.2Z"}),Xe.createElement("path",{d:"M162.7,32.5a7.9,7.9,0,0,0-10.2,4.8l-64,176a7.9,7.9,0,0,0,4.8,10.2,8.6,8.6,0,0,0,2.7.5,7.9,7.9,0,0,0,7.5-5.3l64-176A7.9,7.9,0,0,0,162.7,32.5Z"}))});jL.set("light",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("polyline",{points:"64 88 16 128 64 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("polyline",{points:"192 88 240 128 192 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("line",{x1:"160",y1:"40",x2:"96",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});jL.set("thin",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("polyline",{points:"64 88 16 128 64 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("polyline",{points:"192 88 240 128 192 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("line",{x1:"160",y1:"40",x2:"96",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});jL.set("regular",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("polyline",{points:"64 88 16 128 64 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"192 88 240 128 192 168",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("line",{x1:"160",y1:"40",x2:"96",y2:"216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var J1r=function(t,n){return Wk(t,n,jL)},Bxt=z.forwardRef(function(e,t){return Xe.createElement(Gk,Object.assign({ref:t},e,{renderPath:J1r}))});Bxt.displayName="Code";const eyr=Bxt;var BL=new Map;BL.set("bold",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("circle",{cx:"76",cy:"76",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("circle",{cx:"180",cy:"180",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});BL.set("duotone",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("circle",{cx:"76",cy:"76",r:"28",opacity:"0.2"}),Xe.createElement("circle",{cx:"180",cy:"180",r:"28",opacity:"0.2"}),Xe.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("circle",{cx:"76",cy:"76",r:"28",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),Xe.createElement("circle",{cx:"180",cy:"180",r:"28",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}))});BL.set("fill",function(){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M205.7,61.7l-144,144a8.2,8.2,0,0,1-11.4,0,8.1,8.1,0,0,1,0-11.4l144-144a8.1,8.1,0,0,1,11.4,11.4ZM50.5,101.5a36.2,36.2,0,0,1,0-51,36.2,36.2,0,0,1,51,0,36.1,36.1,0,0,1-51,51ZM56,76a19.7,19.7,0,0,0,5.9,14.1,19.9,19.9,0,0,0,28.2,0,19.8,19.8,0,0,0,0-28.2h0a19.8,19.8,0,0,0-28.2,0A19.7,19.7,0,0,0,56,76ZM216,180a36,36,0,1,1-61.5-25.5,36.2,36.2,0,0,1,51,0A35.9,35.9,0,0,1,216,180Zm-16,0a19.7,19.7,0,0,0-5.9-14.1,19.8,19.8,0,0,0-28.2,0A19.9,19.9,0,1,0,200,180Z"}))});BL.set("light",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("circle",{cx:"76",cy:"76",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("circle",{cx:"180",cy:"180",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});BL.set("thin",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("circle",{cx:"76",cy:"76",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("circle",{cx:"180",cy:"180",r:"28",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});BL.set("regular",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("circle",{cx:"76",cy:"76",r:"28",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}),Xe.createElement("circle",{cx:"180",cy:"180",r:"28",fill:"none",stroke:e,strokeMiterlimit:"10",strokeWidth:"16"}))});var tyr=function(t,n){return Wk(t,n,BL)},Hxt=z.forwardRef(function(e,t){return Xe.createElement(Gk,Object.assign({ref:t},e,{renderPath:tyr}))});Hxt.displayName="Percent";const nyr=Hxt;var HL=new Map;HL.set("bold",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"128",y1:"64",x2:"128",y2:"192",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("polyline",{points:"104 40 128 64 152 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("polyline",{points:"104 216 128 192 152 216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("line",{x1:"72.6",y1:"96",x2:"183.4",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("polyline",{points:"39.8 104.8 72.6 96 63.8 63.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("polyline",{points:"192.2 192.8 183.4 160 216.2 151.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("line",{x1:"72.6",y1:"160",x2:"183.4",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("polyline",{points:"63.8 192.8 72.6 160 39.8 151.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("polyline",{points:"216.2 104.8 183.4 96 192.2 63.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});HL.set("duotone",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"128",y1:"64",x2:"128",y2:"192",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"104 40 128 64 152 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"104 216 128 192 152 216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("line",{x1:"72.6",y1:"96",x2:"183.4",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"39.8 104.8 72.6 96 63.8 63.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"192.2 192.8 183.4 160 216.2 151.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("line",{x1:"72.6",y1:"160",x2:"183.4",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"63.8 192.8 72.6 160 39.8 151.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"216.2 104.8 183.4 96 192.2 63.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});HL.set("fill",function(){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M223.9,149.1a7.9,7.9,0,0,1-5.6,9.8l-25.1,6.8,6.7,25a7.9,7.9,0,0,1-5.6,9.8l-2.1.3a8,8,0,0,1-7.7-5.9l-7.9-29.6L136,141.9v46.8l21.7,21.6a8.1,8.1,0,0,1,0,11.4,8.2,8.2,0,0,1-11.4,0L128,203.3l-18.3,18.4a8.1,8.1,0,0,1-11.4-11.4L120,188.7V141.9L79.4,165.3l-7.9,29.6a8,8,0,0,1-7.7,5.9l-2.1-.3a7.9,7.9,0,0,1-5.6-9.8l6.7-25-25.1-6.8a8,8,0,1,1,4.2-15.4l29.5,7.9L112,128,71.4,104.6l-29.5,7.9a7.6,7.6,0,0,1-2.1.3,8,8,0,0,1-2.1-15.7l25.1-6.8-6.7-25a8,8,0,0,1,15.4-4.2l7.9,29.6L120,114.1V67.3L98.3,45.7a8.1,8.1,0,0,1,11.4-11.4L128,52.7l18.3-18.4a8.1,8.1,0,0,1,11.4,11.4L136,67.3v46.8l40.6-23.4,7.9-29.6a8,8,0,1,1,15.4,4.2l-6.7,25,25.1,6.8a8,8,0,0,1-2.1,15.7l-2.1-.3-29.5-7.9L144,128l40.6,23.4,29.5-7.9A7.9,7.9,0,0,1,223.9,149.1Z"}))});HL.set("light",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"128",y1:"64",x2:"128",y2:"192",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("polyline",{points:"104 40 128 64 152 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("polyline",{points:"104 216 128 192 152 216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("line",{x1:"72.6",y1:"96",x2:"183.4",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("polyline",{points:"39.8 104.8 72.6 96 63.8 63.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("polyline",{points:"192.2 192.8 183.4 160 216.2 151.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("line",{x1:"72.6",y1:"160",x2:"183.4",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("polyline",{points:"63.8 192.8 72.6 160 39.8 151.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("polyline",{points:"216.2 104.8 183.4 96 192.2 63.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});HL.set("thin",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"128",y1:"64",x2:"128",y2:"192",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("polyline",{points:"104 40 128 64 152 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("polyline",{points:"104 216 128 192 152 216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("line",{x1:"72.6",y1:"96",x2:"183.4",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("polyline",{points:"39.8 104.8 72.6 96 63.8 63.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("polyline",{points:"192.2 192.8 183.4 160 216.2 151.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("line",{x1:"72.6",y1:"160",x2:"183.4",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("polyline",{points:"63.8 192.8 72.6 160 39.8 151.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("polyline",{points:"216.2 104.8 183.4 96 192.2 63.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});HL.set("regular",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"128",y1:"64",x2:"128",y2:"192",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"104 40 128 64 152 40",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"104 216 128 192 152 216",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("line",{x1:"72.6",y1:"96",x2:"183.4",y2:"160",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"39.8 104.8 72.6 96 63.8 63.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"192.2 192.8 183.4 160 216.2 151.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("line",{x1:"72.6",y1:"160",x2:"183.4",y2:"96",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"63.8 192.8 72.6 160 39.8 151.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("polyline",{points:"216.2 104.8 183.4 96 192.2 63.2",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var ryr=function(t,n){return Wk(t,n,HL)},Uxt=z.forwardRef(function(e,t){return Xe.createElement(Gk,Object.assign({ref:t},e,{renderPath:ryr}))});Uxt.displayName="Snowflake";const iyr=Uxt;var UL=new Map;UL.set("bold",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"136",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("circle",{cx:"128",cy:"176",r:"16"}))});UL.set("duotone",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",opacity:"0.2"}),Xe.createElement("line",{x1:"128",y1:"112",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("circle",{cx:"128",cy:"180",r:"12"}))});UL.set("fill",function(){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M236.7,188,148.8,36a24,24,0,0,0-41.6,0h0L19.3,188A23.9,23.9,0,0,0,40,224H216a23.9,23.9,0,0,0,20.7-36ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"}))});UL.set("light",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("circle",{cx:"128",cy:"180",r:"10"}))});UL.set("thin",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("circle",{cx:"128",cy:"180",r:"8"}))});UL.set("regular",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"128",y1:"104",x2:"128",y2:"144",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("path",{d:"M114.2,40l-88,152A16,16,0,0,0,40,216H216a16,16,0,0,0,13.8-24l-88-152A15.9,15.9,0,0,0,114.2,40Z",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("circle",{cx:"128",cy:"180",r:"12"}))});var ayr=function(t,n){return Wk(t,n,UL)},Vxt=z.forwardRef(function(e,t){return Xe.createElement(Gk,Object.assign({ref:t},e,{renderPath:ayr}))});Vxt.displayName="Warning";const oyr=Vxt;var VL=new Map;VL.set("bold",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),Xe.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});VL.set("duotone",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});VL.set("fill",function(){return Xe.createElement(Xe.Fragment,null,Xe.createElement("path",{d:"M139.3,128l66.4-66.3a8.1,8.1,0,0,0-11.4-11.4L128,116.7,61.7,50.3A8.1,8.1,0,0,0,50.3,61.7L116.7,128,50.3,194.3a8.1,8.1,0,0,0,0,11.4,8.2,8.2,0,0,0,11.4,0L128,139.3l66.3,66.4a8.2,8.2,0,0,0,11.4,0,8.1,8.1,0,0,0,0-11.4Z"}))});VL.set("light",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),Xe.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});VL.set("thin",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),Xe.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});VL.set("regular",function(e){return Xe.createElement(Xe.Fragment,null,Xe.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),Xe.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var syr=function(t,n){return Wk(t,n,VL)},Wxt=z.forwardRef(function(e,t){return Xe.createElement(Gk,Object.assign({ref:t},e,{renderPath:syr}))});Wxt.displayName="X";const Gxt=Wxt,qxt=z.forwardRef(function(t,n){return xt("textarea",{ref:n,...t,className:`rounded border border-gray-300 p-2 resize-none text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${t.className??""}`})}),uyr=z.forwardRef(function(t,n){const[r,i]=z.useState(""),a=cV(c=>c.openAIAPIKey),[s,u]=z.useState(!1),f=Qo(c=>{var h;return((h=c.project)==null?void 0:h.squiggle)??""}),d=Qo(c=>{var h;return((h=c.project)==null?void 0:h.subject)??""});return a?xt("form",{ref:n,className:"h-full",onSubmit:c=>{if(c.preventDefault(),!r)return;u(!0);let h={apiKey:a,subject:d};d?(h.prompt=r,h.code=f):h.subject=r,fetch("/api/complete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}).then(p=>{p.ok&&p.text().then(v=>{if(lyr(v)){alert("Error: "+v);return}else Qo.setState(m=>qP(m,y=>{y.project&&(y.project.squiggle=v,y.project.subject||(y.project.subject=r))}))})}).finally(()=>u(!1))},children:bi("div",{className:"grid gap-4 p-4 gap-3 content-start",children:[d&&bi("div",{className:"grid gap-1",children:[xt("button",{className:"text-neutral-300 hover:text-neutral-500 active:text-neutral-700 justify-self-end",onClick:()=>{Qo.setState(c=>qP(c,h=>{h.project&&(h.project.subject="")}))},children:xt(Gxt,{})}),xt("span",{className:"text-xs text-neutral-500",children:"Subject"}),d]}),d?xt(dyr,{setValue:i}):xt(fyr,{setValue:i}),bi("button",{className:"bg-blue-100 rounded justify-center p-2 py-4 text-lg flex items-center gap-2 hover:bg-blue-200 active:bg-blue-300 text-blue-600",children:[xt(zxt,{size:24}),s?bi("span",{className:"w-[100px] text-left",children:["Loading",xt(cyr,{})]}):"Submit"]})]})}):null});function lyr(e){return!e.includes(" = ")}function cyr(){const[e,t]=z.useState(0);return setTimeout(()=>t((e+1)%4),250),xt(my,{children:Array(e).fill(".").join("")})}function fyr({setValue:e}){const[t,n]=z.useState("");return bi("div",{className:"grid gap-2 h-full grid-rows-[auto_minmax(0,1fr)]",children:[xt("h2",{className:"text-lg",children:"What do you want to estimate?"}),xt(qxt,{placeholder:"The number of people in the world in 2030",value:t,className:"min-h-[300px]",onChange:r=>{n(r.target.value),e(r.target.value)}})]})}function dyr({setValue:e}){const[t,n]=z.useState("");return xt(qxt,{value:t,className:"min-h-[300px]",onChange:r=>{n(r.target.value),e(r.target.value)}})}const{createElement:PW,createContext:hyr,forwardRef:gyr,useCallback:QA,useContext:Yxt,useEffect:ck,useImperativeHandle:pyr,useLayoutEffect:vyr,useMemo:myr,useRef:Y2,useState:DU}=Q5,Yet=Q5["useId".toString()],yyr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",byr=yyr?vyr:()=>{};var IU=byr;const wyr=typeof Yet=="function"?Yet:()=>null;let _yr=0;function G5e(e=null){const t=wyr(),n=Y2(e||t||null);return n.current===null&&(n.current=""+_yr++),n.current}const qce=hyr(null);qce.displayName="PanelGroupContext";function Kxt({children:e=null,className:t="",collapsible:n=!1,defaultSize:r=null,forwardedRef:i,id:a=null,maxSize:s=100,minSize:u=10,onCollapse:f=null,onResize:d=null,order:c=null,style:h={},tagName:p="div"}){const v=Yxt(qce);if(v===null)throw Error("Panel components must be rendered within a PanelGroup container");const m=G5e(a),{collapsePanel:y,expandPanel:w,getPanelStyle:_,registerPanel:S,resizePanel:C,unregisterPanel:$}=v,k=Y2({onCollapse:f,onResize:d});if(ck(()=>{k.current.onCollapse=f,k.current.onResize=d}),u<0||u>100)throw Error(`Panel minSize must be between 0 and 100, but was ${u}`);if(s<0||s>100)throw Error(`Panel maxSize must be between 0 and 100, but was ${s}`);if(r!==null){if(r<0||r>100)throw Error(`Panel defaultSize must be between 0 and 100, but was ${r}`);u>r&&!n&&(console.error(`Panel minSize ${u} cannot be greater than defaultSize ${r}`),r=u)}IU(()=>(S(m,{callbacksRef:k,collapsible:n,defaultSize:r,id:m,maxSize:s,minSize:u,order:c}),()=>{$(m)}),[n,r,m,s,u,c,S,$]);const M=_(m),A=Y2({size:Ket(M)});return IU(()=>{A.current.size=Ket(M)}),pyr(i,()=>({collapse:()=>y(m),expand:()=>w(m),getCollapsed(){return A.current.size===0},getSize(){return A.current.size},resize:L=>C(m,L)}),[y,w,m,C]),PW(p,{children:e,className:t,"data-panel":"","data-panel-collapsible":n||void 0,"data-panel-id":m,"data-panel-size":parseFloat(""+M.flexGrow).toFixed(1),id:`data-panel-id-${m}`,style:{...M,...h}})}const lCe=gyr((e,t)=>PW(Kxt,{...e,forwardedRef:t}));Kxt.displayName="Panel";lCe.displayName="forwardRef(Panel)";function Ket(e){const{flexGrow:t}=e;return typeof t=="string"?parseFloat(t):t}function Xxt(e){return e.map(t=>{const{minSize:n,order:r}=t;return r?`${r}:${n}`:`${n}`}).sort((t,n)=>t.localeCompare(n)).join(",")}function Zxt(e,t){try{const n=t.getItem(`PanelGroup:sizes:${e}`);if(n){const r=JSON.parse(n);if(typeof r=="object"&&r!=null)return r}}catch{}return null}function xyr(e,t,n){const r=Zxt(e,n);if(r){const a=Xxt(t);var i;return(i=r[a])!==null&&i!==void 0?i:null}return null}function Syr(e,t,n,r){const i=Xxt(t),a=Zxt(e,r)||{};a[i]=n;try{r.setItem(`PanelGroup:sizes:${e}`,JSON.stringify(a))}catch(s){console.error(s)}}const KP=10;function VH(e,t,n,r,i,a,s,u){const{sizes:f}=u||{},d=f||a;if(i===0)return d;const c=z2(t),h=d.concat();let p=0;{const y=i<0?r:n,w=c.findIndex($=>$.id===y),_=c[w],S=d[w],C=Xet(_,Math.abs(i),S,e);if(S===C)return d;C===0&&S>0&&s.set(y,S),i=i<0?S-C:C-S}let v=i<0?n:r,m=c.findIndex(y=>y.id===v);for(;;){const y=c[m],w=d[m],_=Math.abs(i)-Math.abs(p),S=Xet(y,0-_,w,e);if(w!==S&&(S===0&&w>0&&s.set(y.id,w),p+=w-S,h[m]=S,p.toPrecision(KP).localeCompare(Math.abs(i).toPrecision(KP),void 0,{numeric:!0})>=0))break;if(i<0){if(--m<0)break}else if(++m>=c.length)break}return p===0?d:(v=i<0?r:n,m=c.findIndex(y=>y.id===v),h[m]=d[m]+p,h)}function ZB(e,t,n){n.forEach((r,i)=>{const a=t[i];if(a!==r){const{callbacksRef:s,collapsible:u}=e[i],{onCollapse:f,onResize:d}=s.current;d&&d(r),u&&f&&(!a&&r!==0?f(!1):a!==0&&r===0&&f(!0))}})}function rwe(e,t){if(t.length<2)return[null,null];const n=t.findIndex(s=>s.id===e);if(n<0)return[null,null];const r=n===t.length-1,i=r?t[n-1].id:e,a=r?e:t[n+1].id;return[i,a]}function Qxt(e,t,n){if(e.size===1)return"100";const i=z2(e).findIndex(s=>s.id===t),a=n[i];return a==null?"0":a.toPrecision(KP)}function Eyr(e){const t=document.querySelector(`[data-panel-id="${e}"]`);return t||null}function q5e(e){const t=document.querySelector(`[data-panel-group-id="${e}"]`);return t||null}function Yce(e){const t=document.querySelector(`[data-panel-resize-handle-id="${e}"]`);return t||null}function Cyr(e){const n=Jxt().findIndex(r=>r.getAttribute("data-panel-resize-handle-id")===e);return n??null}function Jxt(){return Array.from(document.querySelectorAll("[data-panel-resize-handle-id]"))}function eSt(e){return Array.from(document.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function Y5e(e,t,n){var r,i;const a=Yce(t),u=eSt(e).indexOf(a);var f;const d=(f=(r=n[u])===null||r===void 0?void 0:r.id)!==null&&f!==void 0?f:null;var c;const h=(c=(i=n[u+1])===null||i===void 0?void 0:i.id)!==null&&c!==void 0?c:null;return[d,h]}function z2(e){return Array.from(e.values()).sort((t,n)=>t.order-n.order)}function Xet(e,t,n,r){const i=n+t;if(e.collapsible)if(n>0){if(i<=0)return 0}else{var a;if(!(r==null||(a=r.type)===null||a===void 0?void 0:a.startsWith("key"))&&i<e.minSize)return 0}return Math.min(e.maxSize,Math.max(e.minSize,i))}function tSt(e,t,n,r=0,i=null){const a=n==="horizontal";let s=0;if(cCe(e))s=a?e.clientX:e.clientY;else if(fCe(e)){const c=e.touches[0];s=a?c.screenX:c.screenY}else return 0;const u=Yce(t),f=i||u.getBoundingClientRect(),d=a?f.left:f.top;return s-d-r}function $yr(e,t,n,r,i,a,s){const{dragOffset:u=0,dragHandleRect:f,sizes:d}=s||{},c=d||a;if(kyr(e)){const h=i==="horizontal",v=q5e(t).getBoundingClientRect(),m=h?v.width:v.height,y=e.shiftKey?10:100,w=m/y;let _=0;switch(e.key){case"ArrowDown":_=h?0:w;break;case"ArrowLeft":_=h?-w:0;break;case"ArrowRight":_=h?w:0;break;case"ArrowUp":_=h?0:-w;break;case"End":_=m;break;case"Home":_=-m;break}const[S,C]=Y5e(t,n,r),$=_<0?S:C,k=r.findIndex(A=>A.id===$),M=r[k];if(M.collapsible){const A=c[k];(A===0||A.toPrecision(KP)===M.minSize.toPrecision(KP))&&(_=_<0?-M.minSize*m:M.minSize*m)}return _}else return tSt(e,n,i,u,f)}function kyr(e){return e.type==="keydown"}function cCe(e){return e.type.startsWith("mouse")}function fCe(e){return e.type.startsWith("touch")}function Oyr({committedValuesRef:e,groupId:t,panels:n,setSizes:r,sizes:i,panelSizeBeforeCollapse:a}){ck(()=>{const{direction:s,panels:u}=e.current,f=q5e(t),{height:d,width:c}=f.getBoundingClientRect(),p=eSt(t).map(v=>{const m=v.getAttribute("data-panel-resize-handle-id"),y=z2(u),[w,_]=Y5e(t,m,y);if(w==null||_==null)return()=>{};let S=0,C=100,$=0,k=0;y.forEach(D=>{D.id===w?(C=D.maxSize,S=D.minSize):($+=D.minSize,k+=D.maxSize)});const M=Math.min(C,100-$),A=Math.max(S,(y.length-1)*100-k),L=Qxt(u,w,i);v.setAttribute("aria-valuemax",""+Math.round(M)),v.setAttribute("aria-valuemin",""+Math.round(A)),v.setAttribute("aria-valuenow",""+Math.round(parseInt(L)));const N=D=>{if(!D.defaultPrevented)switch(D.key){case"Enter":{D.preventDefault();const j=y.findIndex(U=>U.id===w);if(j>=0){const U=y[j],H=i[j];if(H!=null){let Y=0;H.toPrecision(KP)<=U.minSize.toPrecision(KP)?Y=s==="horizontal"?c:d:Y=-(s==="horizontal"?c:d);const Z=VH(D,u,w,_,Y,i,a.current,null);i!==Z&&r(Z)}}break}}};v.addEventListener("keydown",N);const R=Eyr(w);return R!=null&&v.setAttribute("aria-controls",R.id),()=>{v.removeAttribute("aria-valuemax"),v.removeAttribute("aria-valuemin"),v.removeAttribute("aria-valuenow"),v.removeEventListener("keydown",N),R!=null&&v.removeAttribute("aria-controls")}});return()=>{p.forEach(v=>v())}},[e,t,n,a,r,i])}function Ayr({disabled:e,handleId:t,resizeHandler:n}){ck(()=>{if(e||n==null)return;const r=Yce(t);if(r==null)return;const i=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":a.preventDefault(),n(a);break;case"F6":{a.preventDefault();const s=Jxt(),u=Cyr(t),f=a.shiftKey?u>0?u-1:s.length-1:u+1<s.length?u+1:0;s[f].focus();break}}};return r.addEventListener("keydown",i),()=>{r.removeEventListener("keydown",i)}},[e,t,n])}let dCe=null,I5=null;function nSt(e){switch(e){case"horizontal":return"col-resize";case"horizontal-max":return"w-resize";case"horizontal-min":return"e-resize";case"vertical":return"row-resize";case"vertical-max":return"n-resize";case"vertical-min":return"s-resize"}}function Ryr(){I5!==null&&(document.head.removeChild(I5),dCe=null,I5=null)}function iwe(e){if(dCe===e)return;dCe=e;const t=nSt(e);I5===null&&(I5=document.createElement("style"),document.head.appendChild(I5)),I5.innerHTML=`*{cursor: ${t}!important;}`}function Tyr(e,t=10){let n=null;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e(...i)},t)}}function Myr(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Pyr=Tyr(Syr,100);function Zet(){throw new Error('PanelGroup "storage" prop required for server rendering.')}const Lyr={getItem:typeof localStorage<"u"?e=>localStorage.getItem(e):Zet,setItem:typeof localStorage<"u"?(e,t)=>localStorage.setItem(e,t):Zet};function rSt({autoSaveId:e,children:t=null,className:n="",direction:r,disablePointerEventsDuringResize:i=!1,id:a=null,onLayout:s=null,storage:u=Lyr,style:f={},tagName:d="div"}){const c=G5e(a),[h,p]=DU(null),[v,m]=DU(new Map),y=Y2(null),w=Y2({onLayout:s});ck(()=>{w.current.onLayout=s});const[_,S]=DU([]),C=Y2(new Map),$=Y2(0),k=Y2({direction:r,panels:v,sizes:_});IU(()=>{k.current.direction=r,k.current.panels=v,k.current.sizes=_}),Oyr({committedValuesRef:k,groupId:c,panels:v,setSizes:S,sizes:_,panelSizeBeforeCollapse:C}),ck(()=>{const{onLayout:Z}=w.current;if(Z){const{sizes:Q}=k.current;Q.length>0&&Z(Q)}},[_]);const M=Y2(!1);IU(()=>{if(M.current)return;const{panels:Z,sizes:Q}=k.current;if(Q.length>0){M.current=!0;const ee=z2(Z);ZB(ee,[],Q)}},[_]),IU(()=>{if(k.current.sizes.length===v.size)return;let Q;if(e){const ee=z2(v);Q=xyr(e,ee,u)}if(Q!=null)S(Q);else{const ee=z2(v);let oe=0,ue=0,ve=0;if(ee.forEach(le=>{ve+=le.minSize,le.defaultSize===null?oe++:ue+=le.defaultSize}),ue>100)throw new Error("The sum of the defaultSize of all panels in a group cannot exceed 100.");if(ve>100)throw new Error("The sum of the minSize of all panels in a group cannot exceed 100.");S(ee.map(le=>le.defaultSize===null?(100-ue)/oe:le.defaultSize))}},[e,v,u]),ck(()=>{if(e){if(_.length===0||_.length!==v.size)return;const Z=z2(v);Pyr(e,Z,_,u)}},[e,v,_,u]);const A=QA(Z=>{const{panels:Q}=k.current;return Q.size===0?{flexBasis:"auto",flexGrow:1,flexShrink:1,overflow:"hidden"}:{flexBasis:0,flexGrow:Qxt(Q,Z,_),flexShrink:1,overflow:"hidden",pointerEvents:i&&h!==null?"none":void 0}},[h,i,_]),L=QA((Z,Q)=>{m(ee=>{if(ee.has(Z))return ee;const oe=new Map(ee);return oe.set(Z,Q),oe})},[]),N=QA(Z=>ee=>{ee.preventDefault();const{direction:oe,panels:ue,sizes:ve}=k.current,le=z2(ue),[de,me]=Y5e(c,Z,le);if(de==null||me==null)return;const Se=$yr(ee,c,Z,le,oe,ve,y.current);if(Se===0)return;const xe=q5e(c).getBoundingClientRect(),Ie=oe==="horizontal",Ne=Ie?xe.width:xe.height,We=Se/Ne*100,Me=VH(ee,ue,de,me,We,ve,C.current,y.current),He=!Myr(ve,Me);(cCe(ee)||fCe(ee))&&$.current!=We&&iwe(He?Ie?"horizontal":"vertical":Ie?Se<0?"horizontal-min":"horizontal-max":Se<0?"vertical-min":"vertical-max"),He&&(ZB(le,ve,Me),S(Me)),$.current=We},[c]),R=QA(Z=>{m(Q=>{if(!Q.has(Z))return Q;const ee=new Map(Q);return ee.delete(Z),ee})},[]),D=QA(Z=>{const{panels:Q,sizes:ee}=k.current,oe=Q.get(Z);if(oe==null||!oe.collapsible)return;const ue=z2(Q),ve=ue.indexOf(oe);if(ve<0)return;const le=ee[ve];if(le===0)return;C.current.set(Z,le);const[de,me]=rwe(Z,ue);if(de==null||me==null)return;const Ee=ve===ue.length-1?le:0-le,xe=VH(null,Q,de,me,Ee,ee,C.current,null);ee!==xe&&(ZB(ue,ee,xe),S(xe))},[]),j=QA(Z=>{const{panels:Q,sizes:ee}=k.current,oe=Q.get(Z);if(oe==null)return;const ue=C.current.get(Z)||oe.minSize;if(!ue)return;const ve=z2(Q),le=ve.indexOf(oe);if(le<0||ee[le]!==0)return;const[me,Se]=rwe(Z,ve);if(me==null||Se==null)return;const xe=le===ve.length-1?0-ue:ue,Ie=VH(null,Q,me,Se,xe,ee,C.current,null);ee!==Ie&&(ZB(ve,ee,Ie),S(Ie))},[]),U=QA((Z,Q)=>{const{panels:ee,sizes:oe}=k.current,ue=ee.get(Z);if(ue==null)return;const ve=z2(ee),le=ve.indexOf(ue);if(le<0)return;const de=oe[le];if(de===Q)return;ue.collapsible&&Q===0||(Q=Math.min(ue.maxSize,Math.max(ue.minSize,Q)));const[me,Se]=rwe(Z,ve);if(me==null||Se==null)return;const xe=le===ve.length-1?de-Q:Q-de,Ie=VH(null,ee,me,Se,xe,oe,C.current,null);oe!==Ie&&(ZB(ve,oe,Ie),S(Ie))},[]),H=myr(()=>({activeHandleId:h,collapsePanel:D,direction:r,expandPanel:j,getPanelStyle:A,groupId:c,registerPanel:L,registerResizeHandle:N,resizePanel:U,startDragging:(Z,Q)=>{if(p(Z),cCe(Q)||fCe(Q)){const ee=Yce(Z);y.current={dragHandleRect:ee.getBoundingClientRect(),dragOffset:tSt(Q,Z,r),sizes:k.current.sizes}}},stopDragging:()=>{Ryr(),p(null),y.current=null},unregisterPanel:R}),[h,D,r,j,A,c,L,N,U,R]),Y={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return PW(qce.Provider,{children:PW(d,{children:t,className:n,"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":c,style:{...Y,...f}}),value:H})}rSt.displayName="PanelGroup";function iSt({children:e=null,className:t="",disabled:n=!1,id:r=null,onDragging:i=null,style:a={},tagName:s="div"}){const u=Y2(null),f=Y2({onDragging:i});ck(()=>{f.current.onDragging=i});const d=Yxt(qce);if(d===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{activeHandleId:c,direction:h,groupId:p,registerResizeHandle:v,startDragging:m,stopDragging:y}=d,w=G5e(r),_=c===w,[S,C]=DU(!1),[$,k]=DU(null),M=QA(()=>{u.current.blur(),y();const{onDragging:N}=f.current;N&&N(!1)},[y]);ck(()=>{if(n)k(null);else{const L=v(w);k(()=>L)}},[n,w,v]),ck(()=>{if(n||$==null||!_)return;const L=j=>{$(j)},N=j=>{$(j)},D=u.current.ownerDocument;return D.body.addEventListener("contextmenu",M),D.body.addEventListener("mousemove",L),D.body.addEventListener("touchmove",L),D.body.addEventListener("mouseleave",N),window.addEventListener("mouseup",M),window.addEventListener("touchend",M),()=>{D.body.removeEventListener("contextmenu",M),D.body.removeEventListener("mousemove",L),D.body.removeEventListener("touchmove",L),D.body.removeEventListener("mouseleave",N),window.removeEventListener("mouseup",M),window.removeEventListener("touchend",M)}},[h,n,_,$,M]),Ayr({disabled:n,handleId:w,resizeHandler:$});const A={cursor:nSt(h),touchAction:"none",userSelect:"none"};return PW(s,{children:e,className:t,"data-resize-handle-active":_?"pointer":S?"keyboard":void 0,"data-panel-group-direction":h,"data-panel-group-id":p,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":w,onBlur:()=>C(!1),onFocus:()=>C(!0),onMouseDown:L=>{m(w,L.nativeEvent);const{onDragging:N}=f.current;N&&N(!0)},onMouseUp:M,onTouchCancel:M,onTouchEnd:M,onTouchStart:L=>{m(w,L.nativeEvent);const{onDragging:N}=f.current;N&&N(!0)},ref:u,role:"separator",style:{...A,...a},tabIndex:0})}iSt.displayName="PanelResizeHandle";const g5=z.forwardRef(function(t,n){const{children:r,size:i=24,icon:a,as:s="button",className:u="",...f}=t,d=a;return xt(s,{className:`p-1 rounded-md hover:bg-neutral-100 active:bg-neutral-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${u}`,...f,ref:n,children:xt(d,{size:i})})}),Dyr=Q5["useId".toString()]||(()=>{});let Iyr=0;function aSt(e){const[t,n]=z.useState(Dyr());return zae(()=>{e||n(r=>r??String(Iyr++))},[e]),e||(t?`radix-${t}`:"")}const awe="rovingFocusGroup.onEntryFocus",Fyr={bubbles:!1,cancelable:!0},K5e="RovingFocusGroup",[hCe,oSt,Nyr]=Sxt(K5e),[zyr,sSt]=Wce(K5e,[Nyr]),[jyr,Byr]=zyr(K5e),Hyr=z.forwardRef((e,t)=>z.createElement(hCe.Provider,{scope:e.__scopeRovingFocusGroup},z.createElement(hCe.Slot,{scope:e.__scopeRovingFocusGroup},z.createElement(Uyr,ha({},e,{ref:t}))))),Uyr=z.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:d,...c}=e,h=z.useRef(null),p=xE(t,h),v=H5e(a),[m=null,y]=B5e({prop:s,defaultProp:u,onChange:f}),[w,_]=z.useState(!1),S=j5e(d),C=oSt(n),$=z.useRef(!1),[k,M]=z.useState(0);return z.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(awe,S),()=>A.removeEventListener(awe,S)},[S]),z.createElement(jyr,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:m,onItemFocus:z.useCallback(A=>y(A),[y]),onItemShiftTab:z.useCallback(()=>_(!0),[]),onFocusableItemAdd:z.useCallback(()=>M(A=>A+1),[]),onFocusableItemRemove:z.useCallback(()=>M(A=>A-1),[])},z.createElement(VE.div,ha({tabIndex:w||k===0?-1:0,"data-orientation":r},c,{ref:p,style:{outline:"none",...e.style},onMouseDown:uv(e.onMouseDown,()=>{$.current=!0}),onFocus:uv(e.onFocus,A=>{const L=!$.current;if(A.target===A.currentTarget&&L&&!w){const N=new CustomEvent(awe,Fyr);if(A.currentTarget.dispatchEvent(N),!N.defaultPrevented){const R=C().filter(Y=>Y.focusable),D=R.find(Y=>Y.active),j=R.find(Y=>Y.id===m),H=[D,j,...R].filter(Boolean).map(Y=>Y.ref.current);uSt(H)}}$.current=!1}),onBlur:uv(e.onBlur,()=>_(!1))})))}),Vyr="RovingFocusGroupItem",Wyr=z.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...s}=e,u=aSt(),f=a||u,d=Byr(Vyr,n),c=d.currentTabStopId===f,h=oSt(n),{onFocusableItemAdd:p,onFocusableItemRemove:v}=d;return z.useEffect(()=>{if(r)return p(),()=>v()},[r,p,v]),z.createElement(hCe.ItemSlot,{scope:n,id:f,focusable:r,active:i},z.createElement(VE.span,ha({tabIndex:c?0:-1,"data-orientation":d.orientation},s,{ref:t,onMouseDown:uv(e.onMouseDown,m=>{r?d.onItemFocus(f):m.preventDefault()}),onFocus:uv(e.onFocus,()=>d.onItemFocus(f)),onKeyDown:uv(e.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){d.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const y=Yyr(m,d.orientation,d.dir);if(y!==void 0){m.preventDefault();let _=h().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const S=_.indexOf(m.currentTarget);_=d.loop?Kyr(_,S+1):_.slice(S+1)}setTimeout(()=>uSt(_))}})})))}),Gyr={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qyr(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Yyr(e,t,n){const r=qyr(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Gyr[r]}function uSt(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Kyr(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const Xyr=Hyr,Zyr=Wyr;function Qyr(e,t){return z.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const lSt=e=>{const{present:t,children:n}=e,r=Jyr(t),i=typeof n=="function"?n({present:r.isPresent}):z.Children.only(n),a=xE(r.ref,i.ref);return typeof n=="function"||r.isPresent?z.cloneElement(i,{ref:a}):null};lSt.displayName="Presence";function Jyr(e){const[t,n]=z.useState(),r=z.useRef({}),i=z.useRef(e),a=z.useRef("none"),s=e?"mounted":"unmounted",[u,f]=Qyr(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return z.useEffect(()=>{const d=Xee(r.current);a.current=u==="mounted"?d:"none"},[u]),zae(()=>{const d=r.current,c=i.current;if(c!==e){const p=a.current,v=Xee(d);e?f("MOUNT"):v==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(c&&p!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,f]),zae(()=>{if(t){const d=h=>{const v=Xee(r.current).includes(h.animationName);h.target===t&&v&&Xb.flushSync(()=>f("ANIMATION_END"))},c=h=>{h.target===t&&(a.current=Xee(r.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:z.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Xee(e){return(e==null?void 0:e.animationName)||"none"}const cSt="Tabs",[ebr,jbr]=Wce(cSt,[sSt]),fSt=sSt(),[tbr,X5e]=ebr(cSt),nbr=z.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:u,activationMode:f="automatic",...d}=e,c=H5e(u),[h,p]=B5e({prop:r,onChange:i,defaultProp:a});return z.createElement(tbr,{scope:n,baseId:aSt(),value:h,onValueChange:p,orientation:s,dir:c,activationMode:f},z.createElement(VE.div,ha({dir:c,"data-orientation":s},d,{ref:t})))}),rbr="TabsList",ibr=z.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=X5e(rbr,n),s=fSt(n);return z.createElement(Xyr,ha({asChild:!0},s,{orientation:a.orientation,dir:a.dir,loop:r}),z.createElement(VE.div,ha({role:"tablist","aria-orientation":a.orientation},i,{ref:t})))}),abr="TabsTrigger",obr=z.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,s=X5e(abr,n),u=fSt(n),f=dSt(s.baseId,r),d=hSt(s.baseId,r),c=r===s.value;return z.createElement(Zyr,ha({asChild:!0},u,{focusable:!i,active:c}),z.createElement(VE.button,ha({type:"button",role:"tab","aria-selected":c,"aria-controls":d,"data-state":c?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:f},a,{ref:t,onMouseDown:uv(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?s.onValueChange(r):h.preventDefault()}),onKeyDown:uv(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&s.onValueChange(r)}),onFocus:uv(e.onFocus,()=>{const h=s.activationMode!=="manual";!c&&!i&&h&&s.onValueChange(r)})})))}),sbr="TabsContent",ubr=z.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=e,u=X5e(sbr,n),f=dSt(u.baseId,r),d=hSt(u.baseId,r),c=r===u.value,h=z.useRef(c);return z.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),z.createElement(lSt,{present:i||c},({present:p})=>z.createElement(VE.div,ha({"data-state":c?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!p,id:d,tabIndex:0},s,{ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0}}),p&&a))});function dSt(e,t){return`${e}-trigger-${t}`}function hSt(e,t){return`${e}-content-${t}`}const lbr=nbr,cbr=ibr,owe=obr,swe=ubr,fbr=z.forwardRef((e,t)=>{const n=Qo(r=>{var i;return((i=r.project)==null?void 0:i.squiggle)??""});return n?xt("div",{ref:t,className:"h-full overflow-auto p-2 pl-4",children:xt(Nke.SquiggleChart,{code:n,enableLocalSettings:!0})}):xt("span",{className:"p-4 text-neutral-500 text-sm block",children:"No Code"})});function dbr(){const e=Qo(r=>{var i;return((i=r.project)==null?void 0:i.renderPercentages)??!1}),t=YP(r=>!!Object.keys(r).length),n=z.useCallback(()=>{Qo.setState(r=>qP(r,i=>{i.project&&(i.project.renderPercentages=!i.project.renderPercentages)}),!1,"toggleRenderPercentages")},[]);return bi("div",{className:"absolute p-1 top-2 right-1/2 translate-x-1/2 text-[0px] z-10 bg-white border border-neutral-200 rounded-lg shadow-md",children:[xt(g5,{icon:iyr,className:`${t?"bg-neutral-200 text-neutral-800 hover:bg-neutral-300":"hover:bg-transparent"}`,onClick:()=>{YP.setState({},!0)}}),xt(g5,{icon:nyr,className:`${e?"bg-neutral-200 text-neutral-800 hover:bg-neutral-300":""}`,onClick:n})]})}function hbr(){A1r();const e=Qo(s=>s.fileHandle),t=z.useRef(null),n=j$(s=>s.isCollapsed),r=()=>{const s=t.current;s&&(s.collapse(),j$.setState({isCollapsed:!0}))},i=()=>{const s=t.current;s&&(s.expand(),j$.setState({isCollapsed:!1}))},a=j$(s=>s.editorFocused);return z.useEffect(()=>{const s=V5e(f=>{if(!f)return;const d=U$e(f);Qo.setState({projectHash:d})},1e3);return Qo.subscribe(f=>f.project,s)},[]),xt(lbr,{defaultValue:"code",children:bi(rSt,{className:"h-full relative border-t border-neutral-200",direction:"horizontal",children:[bi(lCe,{defaultSize:0,collapsible:!0,style:a?{overflow:"visible"}:{},ref:t,onResize:s=>{s===0?j$.setState({isCollapsed:!0}):n&&j$.setState({isCollapsed:!1})},children:[xt(swe,{value:"prompt",asChild:!0,children:xt(uyr,{},(e==null?void 0:e.name)??"")}),xt(swe,{value:"code",asChild:!0,children:xt(Omr,{})}),xt(swe,{value:"bindings",asChild:!0,children:xt(fbr,{})})]}),bi(iSt,{className:"border-x border-neutral-300 grid content-start p-1 gap-2",children:[n?xt(g5,{icon:q1r,onClick:i}):xt(g5,{icon:Gxt,onClick:r}),bi(cbr,{className:"grid gap-2",children:[xt(owe,{value:"code",asChild:!0,children:xt(g5,{icon:eyr,className:"data-[state=active]:bg-neutral-300"})}),xt(owe,{value:"bindings",asChild:!0,children:xt(g5,{icon:K1r,className:"data-[state=active]:bg-neutral-300"})}),xt(owe,{value:"prompt",asChild:!0,children:xt(g5,{icon:zxt,className:"data-[state=active]:bg-neutral-300"})})]})]}),bi(lCe,{className:"relative",children:[xt(V1r,{}),xt(dbr,{}),xt(gbr,{})]})]})})}function gbr(){const e=D5(t=>t.squiggleRunError);return e?bi(my,{children:[xt("div",{className:"backdrop absolute inset-0 bg-white/50 z-10 blur"}),xt("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-red-600 text-center bg-red-100 text-red z-10 p-4 rounded-lg border-2 border-red-500 border-dashed",children:e})]}):null}function pbr(){z.useEffect(()=>{const u=window.location.hash;u.length>1&&(u==="#new"?Lxt():B1r())},[]);const e=Qo(u=>u.project),t=e!=null,n=JSON.stringify(e,null,2),r=Qo(u=>u.previousContents??""),i=t?n.trim()!==r.trim():!1,a=Qo(u=>u.loadFileError),s=Qo(u=>u.fileHandle);return z.useEffect(()=>{if(!i)return;const u=f=>{f.preventDefault(),f.returnValue=""};return window.addEventListener("beforeunload",u),()=>window.removeEventListener("beforeunload",u)},[i]),bi("div",{className:"grid grid-rows-[auto_minmax(0,1fr)] border-t",style:{"--node-width":Mxt},children:[xt(vbr,{isProjectOpen:t,isDirty:i,fileHandle:s}),a?xt(mbr,{loadFileError:a}):t?xt(hbr,{},(s==null?void 0:s.name)??""):xt(ybr,{})]})}function vbr({isProjectOpen:e,isDirty:t,fileHandle:n}){const r=cV(i=>i.openAIAPIKey);return bi("nav",{className:"flex items-center gap-6 px-4 py-1 justify-between",children:[e?xt(bbr,{isDirty:t,fileHandle:n}):xt("div",{}),bi("div",{className:"flex items-center gap-6",children:[xt(LW,{onClick:()=>{t&&!window.confirm("You have unsaved changes. Are you sure you want to close?")||Lxt()},children:"New Project"}),xt(LW,{onClick:()=>{t&&!window.confirm("You have unsaved changes. Are you sure you want to close?")||j1r()},children:"Open Project"}),xt("input",{type:"password",className:"bg-neutral-100 font-mono text-sm p-1 rounded text-neutral-500",placeholder:"Paste OpenAI API Key",value:r,onChange:i=>{cV.setState({openAIAPIKey:i.target.value})}})]})]})}function mbr({loadFileError:e}){return bi("div",{className:"h-full grid justify-center content-center",children:[bi("h2",{className:"text-xl flex items-center gap-2 mb-4 justify-self-center text-red-600",children:[xt(oyr,{size:24}),"Unable to Load File"]}),bi("div",{className:"p-4 bg-red-50 text-red-700 rounded grid gap-2 min-w-[50vw]",children:[xt("p",{children:"Read the error and edit the file accordingly."}),xt("pre",{className:"text-xs font-mono overflow-auto text-red-400",children:JSON.stringify(e,null,2)})]})]})}function ybr(){return xt("div",{className:"h-full grid content-center justify-center",children:xt("span",{className:"text-2xl text-neutral-400",children:"Open a project or create a new one."})})}function bbr({isDirty:e,fileHandle:t}){return bi("div",{className:"flex items-center gap-6",children:[bi("h1",{className:"font-bold text-blue-600 tracking-wide",children:[t?t.name:"Untitled Project",e?"*":""]}),e&&t&&xt(LW,{onClick:()=>Get(t),children:"Save"}),xt(LW,{onClick:()=>Get(),children:"Save As"}),xt(wbr,{})]})}function wbr(){const e=Qo(r=>r.projectHash),[t,n]=z.useState(!1);return bi(my,{children:[xt(LW,{onClick:async()=>{let r=new URL(window.location.href);r.hash=e??"",await navigator.clipboard.writeText(r.toString()),n(!0),setTimeout(()=>n(!1),1500)},className:t?"text-green-500":"",children:"Copy Share URL"}),t&&xt("span",{className:"animate-ping text-green-800 text-xs font-bold",children:xt(Q1r,{weight:"bold"})})]})}function LW({children:e,onClick:t,className:n=""}){return xt("button",{onClick:t,className:`transition-colors flex items-center gap-2 p-2 rounded hover:bg-neutral-100 active:bg-neutral-200 ${n}`,children:e})}function _br(){return xt(pbr,{})}function xbr(){return xt(qIt,{children:bi(qM,{path:"/",element:xt(b8t,{}),children:[xt(qM,{index:!0,element:xt(_8t,{})}),xt(qM,{path:"profile",element:xt(U8t,{})}),xt(qM,{path:"project/:id",element:xt(V8t,{})}),xt(qM,{path:"temp",element:xt(_br,{})}),xt(qM,{path:"*",element:xt(Sbr,{})})]})})}function Sbr(){return bi("div",{children:[xt("h2",{children:"Nothing to see here!"}),xt("p",{children:xt(doe,{to:"/",children:"Go to the home page"})})]})}const Ebr=function(){return null},Cbr=new iPt,$br="pk_test_cHJvdmVuLWJvYmNhdC0xOC5jbGVyay5hY2NvdW50cy5kZXYk";uwe.createRoot(document.getElementById("root")).render(xt(Xe.StrictMode,{children:xt(yPt,{client:Cbr,children:xt(MS.ClerkProvider,{publishableKey:$br,children:bi(QIt,{children:[xt(MS.SignedIn,{children:xt(xbr,{})}),xt(MS.SignedOut,{children:xt(MS.RedirectToSignIn,{})}),xt(Ebr,{initialIsOpen:!1})]})})})}))});export default kbr();
